function ore(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BU(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Qj={exports:{}},Wm={},eS={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iL;function lre(){if(iL)return Ht;iL=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(J){return J===null||typeof J!="object"?null:(J=p&&J[p]||J["@@iterator"],typeof J=="function"?J:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function _(J,oe,be){this.props=J,this.context=oe,this.refs=y,this.updater=be||v}_.prototype.isReactComponent={},_.prototype.setState=function(J,oe){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,oe,"setState")},_.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function S(){}S.prototype=_.prototype;function N(J,oe,be){this.props=J,this.context=oe,this.refs=y,this.updater=be||v}var C=N.prototype=new S;C.constructor=N,w(C,_.prototype),C.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(J,oe,be){var Ce,De={},ce=null,ae=null;if(oe!=null)for(Ce in oe.ref!==void 0&&(ae=oe.ref),oe.key!==void 0&&(ce=""+oe.key),oe)A.call(oe,Ce)&&!O.hasOwnProperty(Ce)&&(De[Ce]=oe[Ce]);var ge=arguments.length-2;if(ge===1)De.children=be;else if(1<ge){for(var he=Array(ge),Pe=0;Pe<ge;Pe++)he[Pe]=arguments[Pe+2];De.children=he}if(J&&J.defaultProps)for(Ce in ge=J.defaultProps,ge)De[Ce]===void 0&&(De[Ce]=ge[Ce]);return{$$typeof:e,type:J,key:ce,ref:ae,props:De,_owner:T.current}}function q(J,oe){return{$$typeof:e,type:J.type,key:oe,ref:J.ref,props:J.props,_owner:J._owner}}function Z(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function V(J){var oe={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(be){return oe[be]})}var U=/\/+/g;function z(J,oe){return typeof J=="object"&&J!==null&&J.key!=null?V(""+J.key):oe.toString(36)}function H(J,oe,be,Ce,De){var ce=typeof J;(ce==="undefined"||ce==="boolean")&&(J=null);var ae=!1;if(J===null)ae=!0;else switch(ce){case"string":case"number":ae=!0;break;case"object":switch(J.$$typeof){case e:case t:ae=!0}}if(ae)return ae=J,De=De(ae),J=Ce===""?"."+z(ae,0):Ce,k(De)?(be="",J!=null&&(be=J.replace(U,"$&/")+"/"),H(De,oe,be,"",function(Pe){return Pe})):De!=null&&(Z(De)&&(De=q(De,be+(!De.key||ae&&ae.key===De.key?"":(""+De.key).replace(U,"$&/")+"/")+J)),oe.push(De)),1;if(ae=0,Ce=Ce===""?".":Ce+":",k(J))for(var ge=0;ge<J.length;ge++){ce=J[ge];var he=Ce+z(ce,ge);ae+=H(ce,oe,be,he,De)}else if(he=g(J),typeof he=="function")for(J=he.call(J),ge=0;!(ce=J.next()).done;)ce=ce.value,he=Ce+z(ce,ge++),ae+=H(ce,oe,be,he,De);else if(ce==="object")throw oe=String(J),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return ae}function re(J,oe,be){if(J==null)return J;var Ce=[],De=0;return H(J,Ce,"","",function(ce){return oe.call(be,ce,De++)}),Ce}function se(J){if(J._status===-1){var oe=J._result;oe=oe(),oe.then(function(be){(J._status===0||J._status===-1)&&(J._status=1,J._result=be)},function(be){(J._status===0||J._status===-1)&&(J._status=2,J._result=be)}),J._status===-1&&(J._status=0,J._result=oe)}if(J._status===1)return J._result.default;throw J._result}var W={current:null},Q={transition:null},Y={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:Q,ReactCurrentOwner:T};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:re,forEach:function(J,oe,be){re(J,function(){oe.apply(this,arguments)},be)},count:function(J){var oe=0;return re(J,function(){oe++}),oe},toArray:function(J){return re(J,function(oe){return oe})||[]},only:function(J){if(!Z(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Ht.Component=_,Ht.Fragment=r,Ht.Profiler=i,Ht.PureComponent=N,Ht.StrictMode=n,Ht.Suspense=c,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ht.act=ne,Ht.cloneElement=function(J,oe,be){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var Ce=w({},J.props),De=J.key,ce=J.ref,ae=J._owner;if(oe!=null){if(oe.ref!==void 0&&(ce=oe.ref,ae=T.current),oe.key!==void 0&&(De=""+oe.key),J.type&&J.type.defaultProps)var ge=J.type.defaultProps;for(he in oe)A.call(oe,he)&&!O.hasOwnProperty(he)&&(Ce[he]=oe[he]===void 0&&ge!==void 0?ge[he]:oe[he])}var he=arguments.length-2;if(he===1)Ce.children=be;else if(1<he){ge=Array(he);for(var Pe=0;Pe<he;Pe++)ge[Pe]=arguments[Pe+2];Ce.children=ge}return{$$typeof:e,type:J.type,key:De,ref:ce,props:Ce,_owner:ae}},Ht.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:s,_context:J},J.Consumer=J},Ht.createElement=I,Ht.createFactory=function(J){var oe=I.bind(null,J);return oe.type=J,oe},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(J){return{$$typeof:l,render:J}},Ht.isValidElement=Z,Ht.lazy=function(J){return{$$typeof:f,_payload:{_status:-1,_result:J},_init:se}},Ht.memo=function(J,oe){return{$$typeof:u,type:J,compare:oe===void 0?null:oe}},Ht.startTransition=function(J){var oe=Q.transition;Q.transition={};try{J()}finally{Q.transition=oe}},Ht.unstable_act=ne,Ht.useCallback=function(J,oe){return W.current.useCallback(J,oe)},Ht.useContext=function(J){return W.current.useContext(J)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(J){return W.current.useDeferredValue(J)},Ht.useEffect=function(J,oe){return W.current.useEffect(J,oe)},Ht.useId=function(){return W.current.useId()},Ht.useImperativeHandle=function(J,oe,be){return W.current.useImperativeHandle(J,oe,be)},Ht.useInsertionEffect=function(J,oe){return W.current.useInsertionEffect(J,oe)},Ht.useLayoutEffect=function(J,oe){return W.current.useLayoutEffect(J,oe)},Ht.useMemo=function(J,oe){return W.current.useMemo(J,oe)},Ht.useReducer=function(J,oe,be){return W.current.useReducer(J,oe,be)},Ht.useRef=function(J){return W.current.useRef(J)},Ht.useState=function(J){return W.current.useState(J)},Ht.useSyncExternalStore=function(J,oe,be){return W.current.useSyncExternalStore(J,oe,be)},Ht.useTransition=function(){return W.current.useTransition()},Ht.version="18.3.1",Ht}var sL;function t_(){return sL||(sL=1,eS.exports=lre()),eS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aL;function cre(){if(aL)return Wm;aL=1;var e=t_(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var f,p={},g=null,v=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:t,type:l,key:g,ref:v,props:p,_owner:i.current}}return Wm.Fragment=r,Wm.jsx=o,Wm.jsxs=o,Wm}var oL;function ure(){return oL||(oL=1,Qj.exports=cre()),Qj.exports}var a=ure(),x=t_();const X=pr(x),su=ore({__proto__:null,default:X},[x]);var s0={},tS={exports:{}},Ki={},rS={exports:{}},nS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lL;function dre(){return lL||(lL=1,function(e){function t(Q,Y){var ne=Q.length;Q.push(Y);e:for(;0<ne;){var J=ne-1>>>1,oe=Q[J];if(0<i(oe,Y))Q[J]=Y,Q[ne]=oe,ne=J;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Y=Q[0],ne=Q.pop();if(ne!==Y){Q[0]=ne;e:for(var J=0,oe=Q.length,be=oe>>>1;J<be;){var Ce=2*(J+1)-1,De=Q[Ce],ce=Ce+1,ae=Q[ce];if(0>i(De,ne))ce<oe&&0>i(ae,De)?(Q[J]=ae,Q[ce]=ne,J=ce):(Q[J]=De,Q[Ce]=ne,J=Ce);else if(ce<oe&&0>i(ae,ne))Q[J]=ae,Q[ce]=ne,J=ce;else break e}}return Y}function i(Q,Y){var ne=Q.sortIndex-Y.sortIndex;return ne!==0?ne:Q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,p=null,g=3,v=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Q){for(var Y=r(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=Q)n(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=r(u)}}function k(Q){if(y=!1,C(Q),!w)if(r(c)!==null)w=!0,se(A);else{var Y=r(u);Y!==null&&W(k,Y.startTime-Q)}}function A(Q,Y){w=!1,y&&(y=!1,S(I),I=-1),v=!0;var ne=g;try{for(C(Y),p=r(c);p!==null&&(!(p.expirationTime>Y)||Q&&!V());){var J=p.callback;if(typeof J=="function"){p.callback=null,g=p.priorityLevel;var oe=J(p.expirationTime<=Y);Y=e.unstable_now(),typeof oe=="function"?p.callback=oe:p===r(c)&&n(c),C(Y)}else n(c);p=r(c)}if(p!==null)var be=!0;else{var Ce=r(u);Ce!==null&&W(k,Ce.startTime-Y),be=!1}return be}finally{p=null,g=ne,v=!1}}var T=!1,O=null,I=-1,q=5,Z=-1;function V(){return!(e.unstable_now()-Z<q)}function U(){if(O!==null){var Q=e.unstable_now();Z=Q;var Y=!0;try{Y=O(!0,Q)}finally{Y?z():(T=!1,O=null)}}else T=!1}var z;if(typeof N=="function")z=function(){N(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,re=H.port2;H.port1.onmessage=U,z=function(){re.postMessage(null)}}else z=function(){_(U,0)};function se(Q){O=Q,T||(T=!0,z())}function W(Q,Y){I=_(function(){Q(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,se(A))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var ne=g;g=Y;try{return Q()}finally{g=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=g;g=Q;try{return Y()}finally{g=ne}},e.unstable_scheduleCallback=function(Q,Y,ne){var J=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,Q){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,Q={id:f++,callback:Y,priorityLevel:Q,startTime:ne,expirationTime:oe,sortIndex:-1},ne>J?(Q.sortIndex=ne,t(u,Q),r(c)===null&&Q===r(u)&&(y?(S(I),I=-1):y=!0,W(k,ne-J))):(Q.sortIndex=oe,t(c,Q),w||v||(w=!0,se(A))),Q},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(Q){var Y=g;return function(){var ne=g;g=Y;try{return Q.apply(this,arguments)}finally{g=ne}}}}(nS)),nS}var cL;function fre(){return cL||(cL=1,rS.exports=dre()),rS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL;function hre(){if(uL)return Ki;uL=1;var e=t_(),t=fre();function r(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,j=1;j<arguments.length;j++)m+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(d){return c.call(p,d)?!0:c.call(f,d)?!1:u.test(d)?p[d]=!0:(f[d]=!0,!1)}function v(d,m,j,P){if(j!==null&&j.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return P?!1:j!==null?!j.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function w(d,m,j,P){if(m===null||typeof m>"u"||v(d,m,j,P))return!0;if(P)return!1;if(j!==null)switch(j.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,j,P,M,$,te){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=P,this.attributeNamespace=M,this.mustUseProperty=j,this.propertyName=d,this.type=m,this.sanitizeURL=$,this.removeEmptyString=te}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];_[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function C(d,m,j,P){var M=_.hasOwnProperty(m)?_[m]:null;(M!==null?M.type!==0:P||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(w(m,j,M,P)&&(j=null),P||M===null?g(m)&&(j===null?d.removeAttribute(m):d.setAttribute(m,""+j)):M.mustUseProperty?d[M.propertyName]=j===null?M.type===3?!1:"":j:(m=M.attributeName,P=M.attributeNamespace,j===null?d.removeAttribute(m):(M=M.type,j=M===3||M===4&&j===!0?"":""+j,P?d.setAttributeNS(P,m,j):d.setAttribute(m,j))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),Q=Symbol.iterator;function Y(d){return d===null||typeof d!="object"?null:(d=Q&&d[Q]||d["@@iterator"],typeof d=="function"?d:null)}var ne=Object.assign,J;function oe(d){if(J===void 0)try{throw Error()}catch(j){var m=j.stack.trim().match(/\n( *(at )?)/);J=m&&m[1]||""}return`
`+J+d}var be=!1;function Ce(d,m){if(!d||be)return"";be=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ie){var P=Ie}Reflect.construct(d,[],m)}else{try{m.call()}catch(Ie){P=Ie}d.call(m.prototype)}else{try{throw Error()}catch(Ie){P=Ie}d()}}catch(Ie){if(Ie&&P&&typeof Ie.stack=="string"){for(var M=Ie.stack.split(`
`),$=P.stack.split(`
`),te=M.length-1,de=$.length-1;1<=te&&0<=de&&M[te]!==$[de];)de--;for(;1<=te&&0<=de;te--,de--)if(M[te]!==$[de]){if(te!==1||de!==1)do if(te--,de--,0>de||M[te]!==$[de]){var ve=`
`+M[te].replace(" at new "," at ");return d.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",d.displayName)),ve}while(1<=te&&0<=de);break}}}finally{be=!1,Error.prepareStackTrace=j}return(d=d?d.displayName||d.name:"")?oe(d):""}function De(d){switch(d.tag){case 5:return oe(d.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return d=Ce(d.type,!1),d;case 11:return d=Ce(d.type.render,!1),d;case 1:return d=Ce(d.type,!0),d;default:return""}}function ce(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case O:return"Fragment";case T:return"Portal";case q:return"Profiler";case I:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case V:return(d.displayName||"Context")+".Consumer";case Z:return(d._context.displayName||"Context")+".Provider";case U:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case re:return m=d.displayName||null,m!==null?m:ce(d.type)||"Memo";case se:m=d._payload,d=d._init;try{return ce(d(m))}catch{}}return null}function ae(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ge(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function he(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Pe(d){var m=he(d)?"checked":"value",j=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),P=""+d[m];if(!d.hasOwnProperty(m)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var M=j.get,$=j.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return M.call(this)},set:function(te){P=""+te,$.call(this,te)}}),Object.defineProperty(d,m,{enumerable:j.enumerable}),{getValue:function(){return P},setValue:function(te){P=""+te},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function ee(d){d._valueTracker||(d._valueTracker=Pe(d))}function G(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var j=m.getValue(),P="";return d&&(P=he(d)?d.checked?"true":"false":d.value),d=P,d!==j?(m.setValue(d),!0):!1}function we(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function xe(d,m){var j=m.checked;return ne({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??d._wrapperState.initialChecked})}function Ve(d,m){var j=m.defaultValue==null?"":m.defaultValue,P=m.checked!=null?m.checked:m.defaultChecked;j=ge(m.value!=null?m.value:j),d._wrapperState={initialChecked:P,initialValue:j,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function qe(d,m){m=m.checked,m!=null&&C(d,"checked",m,!1)}function Ne(d,m){qe(d,m);var j=ge(m.value),P=m.type;if(j!=null)P==="number"?(j===0&&d.value===""||d.value!=j)&&(d.value=""+j):d.value!==""+j&&(d.value=""+j);else if(P==="submit"||P==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?It(d,m.type,j):m.hasOwnProperty("defaultValue")&&It(d,m.type,ge(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function ot(d,m,j){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var P=m.type;if(!(P!=="submit"&&P!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,j||m===d.value||(d.value=m),d.defaultValue=m}j=d.name,j!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,j!==""&&(d.name=j)}function It(d,m,j){(m!=="number"||we(d.ownerDocument)!==d)&&(j==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+j&&(d.defaultValue=""+j))}var fe=Array.isArray;function _e(d,m,j,P){if(d=d.options,m){m={};for(var M=0;M<j.length;M++)m["$"+j[M]]=!0;for(j=0;j<d.length;j++)M=m.hasOwnProperty("$"+d[j].value),d[j].selected!==M&&(d[j].selected=M),M&&P&&(d[j].defaultSelected=!0)}else{for(j=""+ge(j),m=null,M=0;M<d.length;M++){if(d[M].value===j){d[M].selected=!0,P&&(d[M].defaultSelected=!0);return}m!==null||d[M].disabled||(m=d[M])}m!==null&&(m.selected=!0)}}function ke(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Ze(d,m){var j=m.value;if(j==null){if(j=m.children,m=m.defaultValue,j!=null){if(m!=null)throw Error(r(92));if(fe(j)){if(1<j.length)throw Error(r(93));j=j[0]}m=j}m==null&&(m=""),j=m}d._wrapperState={initialValue:ge(j)}}function Xe(d,m){var j=ge(m.value),P=ge(m.defaultValue);j!=null&&(j=""+j,j!==d.value&&(d.value=j),m.defaultValue==null&&d.defaultValue!==j&&(d.defaultValue=j)),P!=null&&(d.defaultValue=""+P)}function me(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function Le(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?Le(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var D,F=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,j,P,M){MSApp.execUnsafeLocalFunction(function(){return d(m,j,P,M)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(D=D||document.createElement("div"),D.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=D.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function le(d,m){if(m){var j=d.firstChild;if(j&&j===d.lastChild&&j.nodeType===3){j.nodeValue=m;return}}d.textContent=m}var ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];Object.keys(ye).forEach(function(d){Oe.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),ye[m]=ye[d]})});function $e(d,m,j){return m==null||typeof m=="boolean"||m===""?"":j||typeof m!="number"||m===0||ye.hasOwnProperty(d)&&ye[d]?(""+m).trim():m+"px"}function vt(d,m){d=d.style;for(var j in m)if(m.hasOwnProperty(j)){var P=j.indexOf("--")===0,M=$e(j,m[j],P);j==="float"&&(j="cssFloat"),P?d.setProperty(j,M):d[j]=M}}var ar=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bt(d,m){if(m){if(ar[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Yt(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=null;function Gl(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var qo=null,da=null,as=null;function os(d){if(d=el(d)){if(typeof qo!="function")throw Error(r(280));var m=d.stateNode;m&&(m=kf(m),qo(d.stateNode,d.type,m))}}function sf(d){da?as?as.push(d):as=[d]:da=d}function Nt(){if(da){var d=da,m=as;if(as=da=null,os(d),m)for(d=0;d<m.length;d++)os(m[d])}}function tr(d,m){return d(m)}function xr(){}var Jn=!1;function zn(d,m,j){if(Jn)return d(m,j);Jn=!0;try{return tr(d,m,j)}finally{Jn=!1,(da!==null||as!==null)&&(xr(),Nt())}}function ai(d,m){var j=d.stateNode;if(j===null)return null;var P=kf(j);if(P===null)return null;j=P[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(d=d.type,P=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!P;break e;default:d=!1}if(d)return null;if(j&&typeof j!="function")throw Error(r(231,m,typeof j));return j}var ls=!1;if(l)try{var En={};Object.defineProperty(En,"passive",{get:function(){ls=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{ls=!1}function Ls(d,m,j,P,M,$,te,de,ve){var Ie=Array.prototype.slice.call(arguments,3);try{m.apply(j,Ie)}catch(He){this.onError(He)}}var oi=!1,ht=null,Su=!1,af=null,Hy={onError:function(d){oi=!0,ht=d}};function Ky(d,m,j,P,M,$,te,de,ve){oi=!1,ht=null,Ls.apply(Hy,arguments)}function rm(d,m,j,P,M,$,te,de,ve){if(Ky.apply(this,arguments),oi){if(oi){var Ie=ht;oi=!1,ht=null}else throw Error(r(198));Su||(Su=!0,af=Ie)}}function eo(d){var m=d,j=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(j=m.return),d=m.return;while(d)}return m.tag===3?j:null}function Uo(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function nm(d){if(eo(d)!==d)throw Error(r(188))}function k1(d){var m=d.alternate;if(!m){if(m=eo(d),m===null)throw Error(r(188));return m!==d?null:d}for(var j=d,P=m;;){var M=j.return;if(M===null)break;var $=M.alternate;if($===null){if(P=M.return,P!==null){j=P;continue}break}if(M.child===$.child){for($=M.child;$;){if($===j)return nm(M),d;if($===P)return nm(M),m;$=$.sibling}throw Error(r(188))}if(j.return!==P.return)j=M,P=$;else{for(var te=!1,de=M.child;de;){if(de===j){te=!0,j=M,P=$;break}if(de===P){te=!0,P=M,j=$;break}de=de.sibling}if(!te){for(de=$.child;de;){if(de===j){te=!0,j=$,P=M;break}if(de===P){te=!0,P=$,j=M;break}de=de.sibling}if(!te)throw Error(r(189))}}if(j.alternate!==P)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?d:m}function Gy(d){return d=k1(d),d!==null?Zy(d):null}function Zy(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Zy(d);if(m!==null)return m;d=d.sibling}return null}var Yy=t.unstable_scheduleCallback,im=t.unstable_cancelCallback,O1=t.unstable_shouldYield,of=t.unstable_requestPaint,Xr=t.unstable_now,R1=t.unstable_getCurrentPriorityLevel,sm=t.unstable_ImmediatePriority,Xy=t.unstable_UserBlockingPriority,lf=t.unstable_NormalPriority,am=t.unstable_LowPriority,Zl=t.unstable_IdlePriority,Nu=null,cs=null;function Cu(d){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Nu,d,void 0,(d.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Yl,Br=Math.log,cf=Math.LN2;function Yl(d){return d>>>=0,d===0?32:31-(Br(d)/cf|0)|0}var fa=64,Xl=4194304;function Pt(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Mr(d,m){var j=d.pendingLanes;if(j===0)return 0;var P=0,M=d.suspendedLanes,$=d.pingedLanes,te=j&268435455;if(te!==0){var de=te&~M;de!==0?P=Pt(de):($&=te,$!==0&&(P=Pt($)))}else te=j&~M,te!==0?P=Pt(te):$!==0&&(P=Pt($));if(P===0)return 0;if(m!==0&&m!==P&&(m&M)===0&&(M=P&-P,$=m&-m,M>=$||M===16&&($&4194240)!==0))return m;if((P&4)!==0&&(P|=j&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=P;0<m;)j=31-kt(m),M=1<<j,P|=d[j],m&=~M;return P}function om(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uf(d,m){for(var j=d.suspendedLanes,P=d.pingedLanes,M=d.expirationTimes,$=d.pendingLanes;0<$;){var te=31-kt($),de=1<<te,ve=M[te];ve===-1?((de&j)===0||(de&P)!==0)&&(M[te]=om(de,m)):ve<=m&&(d.expiredLanes|=de),$&=~de}}function li(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Jy(){var d=fa;return fa<<=1,(fa&4194240)===0&&(fa=64),d}function Jl(d){for(var m=[],j=0;31>j;j++)m.push(d);return m}function us(d,m,j){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-kt(m),d[m]=j}function sn(d,m){var j=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var P=d.eventTimes;for(d=d.expirationTimes;0<j;){var M=31-kt(j),$=1<<M;m[M]=0,P[M]=-1,d[M]=-1,j&=~$}}function ha(d,m){var j=d.entangledLanes|=m;for(d=d.entanglements;j;){var P=31-kt(j),M=1<<P;M&m|d[P]&m&&(d[P]|=m),j&=~M}}var Xt=0;function Ql(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var df,Vo,ff,hf,Eu,Pu=!1,ec=[],ds=null,pa=null,$s=null,Tu=new Map,Ct=new Map,Pn=[],_r="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lm(d,m){switch(d){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Tu.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(m.pointerId)}}function Wo(d,m,j,P,M,$){return d===null||d.nativeEvent!==$?(d={blockedOn:m,domEventName:j,eventSystemFlags:P,nativeEvent:$,targetContainers:[M]},m!==null&&(m=el(m),m!==null&&Vo(m)),d):(d.eventSystemFlags|=P,m=d.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),d)}function cm(d,m,j,P,M){switch(m){case"focusin":return ds=Wo(ds,d,m,j,P,M),!0;case"dragenter":return pa=Wo(pa,d,m,j,P,M),!0;case"mouseover":return $s=Wo($s,d,m,j,P,M),!0;case"pointerover":var $=M.pointerId;return Tu.set($,Wo(Tu.get($)||null,d,m,j,P,M)),!0;case"gotpointercapture":return $=M.pointerId,Ct.set($,Wo(Ct.get($)||null,d,m,j,P,M)),!0}return!1}function pf(d){var m=Qo(d.target);if(m!==null){var j=eo(m);if(j!==null){if(m=j.tag,m===13){if(m=Uo(j),m!==null){d.blockedOn=m,Eu(d.priority,function(){ff(j)});return}}else if(m===3&&j.stateNode.current.memoizedState.isDehydrated){d.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Fs(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var j=vf(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(j===null){j=d.nativeEvent;var P=new j.constructor(j.type,j);Wt=P,j.target.dispatchEvent(P),Wt=null}else return m=el(j),m!==null&&Vo(m),d.blockedOn=j,!1;m.shift()}return!0}function mf(d,m,j){Fs(d)&&j.delete(m)}function Au(){Pu=!1,ds!==null&&Fs(ds)&&(ds=null),pa!==null&&Fs(pa)&&(pa=null),$s!==null&&Fs($s)&&($s=null),Tu.forEach(mf),Ct.forEach(mf)}function Jr(d,m){d.blockedOn===m&&(d.blockedOn=null,Pu||(Pu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Au)))}function fs(d){function m(M){return Jr(M,d)}if(0<ec.length){Jr(ec[0],d);for(var j=1;j<ec.length;j++){var P=ec[j];P.blockedOn===d&&(P.blockedOn=null)}}for(ds!==null&&Jr(ds,d),pa!==null&&Jr(pa,d),$s!==null&&Jr($s,d),Tu.forEach(m),Ct.forEach(m),j=0;j<Pn.length;j++)P=Pn[j],P.blockedOn===d&&(P.blockedOn=null);for(;0<Pn.length&&(j=Pn[0],j.blockedOn===null);)pf(j),j.blockedOn===null&&Pn.shift()}var Ho=k.ReactCurrentBatchConfig,ku=!0;function M1(d,m,j,P){var M=Xt,$=Ho.transition;Ho.transition=null;try{Xt=1,Ou(d,m,j,P)}finally{Xt=M,Ho.transition=$}}function Qy(d,m,j,P){var M=Xt,$=Ho.transition;Ho.transition=null;try{Xt=4,Ou(d,m,j,P)}finally{Xt=M,Ho.transition=$}}function Ou(d,m,j,P){if(ku){var M=vf(d,m,j,P);if(M===null)h(d,m,P,gf,j),lm(d,P);else if(cm(M,d,m,j,P))P.stopPropagation();else if(lm(d,P),m&4&&-1<_r.indexOf(d)){for(;M!==null;){var $=el(M);if($!==null&&df($),$=vf(d,m,j,P),$===null&&h(d,m,P,gf,j),$===M)break;M=$}M!==null&&P.stopPropagation()}else h(d,m,P,null,j)}}var gf=null;function vf(d,m,j,P){if(gf=null,d=Gl(P),d=Qo(d),d!==null)if(m=eo(d),m===null)d=null;else if(j=m.tag,j===13){if(d=Uo(m),d!==null)return d;d=null}else if(j===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return gf=d,null}function Gt(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R1()){case sm:return 1;case Xy:return 4;case lf:case am:return 16;case Zl:return 536870912;default:return 16}default:return 16}}var to=null,Ni=null,ro=null;function um(){if(ro)return ro;var d,m=Ni,j=m.length,P,M="value"in to?to.value:to.textContent,$=M.length;for(d=0;d<j&&m[d]===M[d];d++);var te=j-d;for(P=1;P<=te&&m[j-P]===M[$-P];P++);return ro=M.slice(d,1<P?1-P:void 0)}function yf(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function tc(){return!0}function ex(){return!1}function ci(d){function m(j,P,M,$,te){this._reactName=j,this._targetInst=M,this.type=P,this.nativeEvent=$,this.target=te,this.currentTarget=null;for(var de in d)d.hasOwnProperty(de)&&(j=d[de],this[de]=j?j($):$[de]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?tc:ex,this.isPropagationStopped=ex,this}return ne(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),m}var rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=ci(rc),Ko=ne({},rc,{view:0,detail:0}),I1=ci(Ko),Bi,fm,nc,hs=ne({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==nc&&(nc&&d.type==="mousemove"?(Bi=d.screenX-nc.screenX,fm=d.screenY-nc.screenY):fm=Bi=0,nc=d),Bi)},movementY:function(d){return"movementY"in d?d.movementY:fm}}),hm=ci(hs),tx=ne({},hs,{dataTransfer:0}),pm=ci(tx),D1=ne({},Ko,{relatedTarget:0}),xf=ci(D1),rx=ne({},rc,{animationName:0,elapsedTime:0,pseudoElement:0}),L1=ci(rx),$1=ne({},rc,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),mm=ci($1),F1=ne({},rc,{data:0}),gm=ci(F1),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B1(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=Go[d])?!!m[d]:!1}function Zo(){return B1}var zi=ne({},Ko,{key:function(d){if(d.key){var m=nx[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=yf(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?bf[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(d){return d.type==="keypress"?yf(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?yf(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),ix=ci(zi),sx=ne({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=ci(sx),vm=ne({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),ym=ci(vm),z1=ne({},rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),q1=ci(z1),ox=ne({},hs,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),U1=ci(ox),ps=[9,13,27,32],no=l&&"CompositionEvent"in window,Ru=null;l&&"documentMode"in document&&(Ru=document.documentMode);var ma=l&&"TextEvent"in window&&!Ru,lx=l&&(!no||Ru&&8<Ru&&11>=Ru),Yo=" ",cx=!1;function ic(d,m){switch(d){case"keyup":return ps.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ga=!1;function V1(d,m){switch(d){case"compositionend":return xm(m);case"keypress":return m.which!==32?null:(cx=!0,Yo);case"textInput":return d=m.data,d===Yo&&cx?null:d;default:return null}}function io(d,m){if(ga)return d==="compositionend"||!no&&ic(d,m)?(d=um(),ro=Ni=to=null,ga=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return lx&&m.locale!=="ko"?null:m.data;default:return null}}var wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!wf[d.type]:m==="textarea"}function _f(d,m,j,P){sf(P),m=E(m,"onChange"),0<m.length&&(j=new dm("onChange","change",null,j,P),d.push({event:j,listeners:m}))}var Mu=null,Ci=null;function W1(d){Pm(d,0)}function va(d){var m=tl(d);if(G(m))return d}function H1(d,m){if(d==="change")return m}var Bs=!1;if(l){var sc;if(l){var jf="oninput"in document;if(!jf){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),jf=typeof Sf.oninput=="function"}sc=jf}else sc=!1;Bs=sc&&(!document.documentMode||9<document.documentMode)}function Iu(){Mu&&(Mu.detachEvent("onpropertychange",Nf),Ci=Mu=null)}function Nf(d){if(d.propertyName==="value"&&va(Ci)){var m=[];_f(m,Ci,d,Gl(d)),zn(W1,m)}}function Cf(d,m,j){d==="focusin"?(Iu(),Mu=m,Ci=j,Mu.attachEvent("onpropertychange",Nf)):d==="focusout"&&Iu()}function ac(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return va(Ci)}function Ef(d,m){if(d==="click")return va(m)}function bm(d,m){if(d==="input"||d==="change")return va(m)}function dx(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var ms=typeof Object.is=="function"?Object.is:dx;function so(d,m){if(ms(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var j=Object.keys(d),P=Object.keys(m);if(j.length!==P.length)return!1;for(P=0;P<j.length;P++){var M=j[P];if(!c.call(m,M)||!ms(d[M],m[M]))return!1}return!0}function fx(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function wm(d,m){var j=fx(d);d=0;for(var P;j;){if(j.nodeType===3){if(P=d+j.textContent.length,d<=m&&P>=m)return{node:j,offset:m-d};d=P}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=fx(j)}}function hx(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?hx(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function _m(){for(var d=window,m=we();m instanceof d.HTMLIFrameElement;){try{var j=typeof m.contentWindow.location.href=="string"}catch{j=!1}if(j)d=m.contentWindow;else break;m=we(d.document)}return m}function jm(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function zs(d){var m=_m(),j=d.focusedElem,P=d.selectionRange;if(m!==j&&j&&j.ownerDocument&&hx(j.ownerDocument.documentElement,j)){if(P!==null&&jm(j)){if(m=P.start,d=P.end,d===void 0&&(d=m),"selectionStart"in j)j.selectionStart=m,j.selectionEnd=Math.min(d,j.value.length);else if(d=(m=j.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var M=j.textContent.length,$=Math.min(P.start,M);P=P.end===void 0?$:Math.min(P.end,M),!d.extend&&$>P&&(M=P,P=$,$=M),M=wm(j,$);var te=wm(j,P);M&&te&&(d.rangeCount!==1||d.anchorNode!==M.node||d.anchorOffset!==M.offset||d.focusNode!==te.node||d.focusOffset!==te.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),d.removeAllRanges(),$>P?(d.addRange(m),d.extend(te.node,te.offset)):(m.setEnd(te.node,te.offset),d.addRange(m)))}}for(m=[],d=j;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<m.length;j++)d=m[j],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Pf=l&&"documentMode"in document&&11>=document.documentMode,oc=null,lc=null,Du=null,Tf=!1;function px(d,m,j){var P=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Tf||oc==null||oc!==we(P)||(P=oc,"selectionStart"in P&&jm(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),Du&&so(Du,P)||(Du=P,P=E(lc,"onSelect"),0<P.length&&(m=new dm("onSelect","select",null,m,j),d.push({event:m,listeners:P}),m.target=oc)))}function ao(d,m){var j={};return j[d.toLowerCase()]=m.toLowerCase(),j["Webkit"+d]="webkit"+m,j["Moz"+d]="moz"+m,j}var cc={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},oo={},Sm={};l&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function Lu(d){if(oo[d])return oo[d];if(!cc[d])return d;var m=cc[d],j;for(j in m)if(m.hasOwnProperty(j)&&j in Sm)return oo[d]=m[j];return d}var mx=Lu("animationend"),qs=Lu("animationiteration"),Nm=Lu("animationstart"),Cm=Lu("transitionend"),uc=new Map,gx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(d,m){uc.set(d,m),s(m,[d])}for(var Xo=0;Xo<gx.length;Xo++){var Af=gx[Xo],vx=Af.toLowerCase(),K1=Af[0].toUpperCase()+Af.slice(1);gs(vx,"on"+K1)}gs(mx,"onAnimationEnd"),gs(qs,"onAnimationIteration"),gs(Nm,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(Cm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function Em(d,m,j){var P=d.type||"unknown-event";d.currentTarget=j,rm(P,m,void 0,d),d.currentTarget=null}function Pm(d,m){m=(m&4)!==0;for(var j=0;j<d.length;j++){var P=d[j],M=P.event;P=P.listeners;e:{var $=void 0;if(m)for(var te=P.length-1;0<=te;te--){var de=P[te],ve=de.instance,Ie=de.currentTarget;if(de=de.listener,ve!==$&&M.isPropagationStopped())break e;Em(M,de,Ie),$=ve}else for(te=0;te<P.length;te++){if(de=P[te],ve=de.instance,Ie=de.currentTarget,de=de.listener,ve!==$&&M.isPropagationStopped())break e;Em(M,de,Ie),$=ve}}}if(Su)throw d=af,Su=!1,af=null,d}function jr(d,m){var j=m[mc];j===void 0&&(j=m[mc]=new Set);var P=d+"__bubble";j.has(P)||(xx(m,d,2,!1),j.add(P))}function Tm(d,m,j){var P=0;m&&(P|=4),xx(j,d,P,m)}var $u="_reactListening"+Math.random().toString(36).slice(2);function fc(d){if(!d[$u]){d[$u]=!0,n.forEach(function(j){j!=="selectionchange"&&(yx.has(j)||Tm(j,!1,d),Tm(j,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[$u]||(m[$u]=!0,Tm("selectionchange",!1,m))}}function xx(d,m,j,P){switch(Gt(m)){case 1:var M=M1;break;case 4:M=Qy;break;default:M=Ou}j=M.bind(null,m,j,d),M=void 0,!ls||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),P?M!==void 0?d.addEventListener(m,j,{capture:!0,passive:M}):d.addEventListener(m,j,!0):M!==void 0?d.addEventListener(m,j,{passive:M}):d.addEventListener(m,j,!1)}function h(d,m,j,P,M){var $=P;if((m&1)===0&&(m&2)===0&&P!==null)e:for(;;){if(P===null)return;var te=P.tag;if(te===3||te===4){var de=P.stateNode.containerInfo;if(de===M||de.nodeType===8&&de.parentNode===M)break;if(te===4)for(te=P.return;te!==null;){var ve=te.tag;if((ve===3||ve===4)&&(ve=te.stateNode.containerInfo,ve===M||ve.nodeType===8&&ve.parentNode===M))return;te=te.return}for(;de!==null;){if(te=Qo(de),te===null)return;if(ve=te.tag,ve===5||ve===6){P=$=te;continue e}de=de.parentNode}}P=P.return}zn(function(){var Ie=$,He=Gl(j),Ye=[];e:{var We=uc.get(d);if(We!==void 0){var st=dm,ut=d;switch(d){case"keypress":if(yf(j)===0)break e;case"keydown":case"keyup":st=ix;break;case"focusin":ut="focus",st=xf;break;case"focusout":ut="blur",st=xf;break;case"beforeblur":case"afterblur":st=xf;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=ym;break;case mx:case qs:case Nm:st=L1;break;case Cm:st=q1;break;case"scroll":st=I1;break;case"wheel":st=U1;break;case"copy":case"cut":case"paste":st=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=ax}var ft=(m&4)!==0,un=!ft&&d==="scroll",Te=ft?We!==null?We+"Capture":null:We;ft=[];for(var je=Ie,Ae;je!==null;){Ae=je;var Je=Ae.stateNode;if(Ae.tag===5&&Je!==null&&(Ae=Je,Te!==null&&(Je=ai(je,Te),Je!=null&&ft.push(b(je,Je,Ae)))),un)break;je=je.return}0<ft.length&&(We=new st(We,ut,null,j,He),Ye.push({event:We,listeners:ft}))}}if((m&7)===0){e:{if(We=d==="mouseover"||d==="pointerover",st=d==="mouseout"||d==="pointerout",We&&j!==Wt&&(ut=j.relatedTarget||j.fromElement)&&(Qo(ut)||ut[mr]))break e;if((st||We)&&(We=He.window===He?He:(We=He.ownerDocument)?We.defaultView||We.parentWindow:window,st?(ut=j.relatedTarget||j.toElement,st=Ie,ut=ut?Qo(ut):null,ut!==null&&(un=eo(ut),ut!==un||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(st=null,ut=Ie),st!==ut)){if(ft=hm,Je="onMouseLeave",Te="onMouseEnter",je="mouse",(d==="pointerout"||d==="pointerover")&&(ft=ax,Je="onPointerLeave",Te="onPointerEnter",je="pointer"),un=st==null?We:tl(st),Ae=ut==null?We:tl(ut),We=new ft(Je,je+"leave",st,j,He),We.target=un,We.relatedTarget=Ae,Je=null,Qo(He)===Ie&&(ft=new ft(Te,je+"enter",ut,j,He),ft.target=Ae,ft.relatedTarget=un,Je=ft),un=Je,st&&ut)t:{for(ft=st,Te=ut,je=0,Ae=ft;Ae;Ae=R(Ae))je++;for(Ae=0,Je=Te;Je;Je=R(Je))Ae++;for(;0<je-Ae;)ft=R(ft),je--;for(;0<Ae-je;)Te=R(Te),Ae--;for(;je--;){if(ft===Te||Te!==null&&ft===Te.alternate)break t;ft=R(ft),Te=R(Te)}ft=null}else ft=null;st!==null&&B(Ye,We,st,ft,!1),ut!==null&&un!==null&&B(Ye,un,ut,ft,!0)}}e:{if(We=Ie?tl(Ie):window,st=We.nodeName&&We.nodeName.toLowerCase(),st==="select"||st==="input"&&We.type==="file")var mt=H1;else if(ux(We))if(Bs)mt=bm;else{mt=ac;var bt=Cf}else(st=We.nodeName)&&st.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(mt=Ef);if(mt&&(mt=mt(d,Ie))){_f(Ye,mt,j,He);break e}bt&&bt(d,We,Ie),d==="focusout"&&(bt=We._wrapperState)&&bt.controlled&&We.type==="number"&&It(We,"number",We.value)}switch(bt=Ie?tl(Ie):window,d){case"focusin":(ux(bt)||bt.contentEditable==="true")&&(oc=bt,lc=Ie,Du=null);break;case"focusout":Du=lc=oc=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,px(Ye,j,He);break;case"selectionchange":if(Pf)break;case"keydown":case"keyup":px(Ye,j,He)}var wt;if(no)e:{switch(d){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ga?ic(d,j)&&(Et="onCompositionEnd"):d==="keydown"&&j.keyCode===229&&(Et="onCompositionStart");Et&&(lx&&j.locale!=="ko"&&(ga||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ga&&(wt=um()):(to=He,Ni="value"in to?to.value:to.textContent,ga=!0)),bt=E(Ie,Et),0<bt.length&&(Et=new gm(Et,d,null,j,He),Ye.push({event:Et,listeners:bt}),wt?Et.data=wt:(wt=xm(j),wt!==null&&(Et.data=wt)))),(wt=ma?V1(d,j):io(d,j))&&(Ie=E(Ie,"onBeforeInput"),0<Ie.length&&(He=new gm("onBeforeInput","beforeinput",null,j,He),Ye.push({event:He,listeners:Ie}),He.data=wt))}Pm(Ye,m)})}function b(d,m,j){return{instance:d,listener:m,currentTarget:j}}function E(d,m){for(var j=m+"Capture",P=[];d!==null;){var M=d,$=M.stateNode;M.tag===5&&$!==null&&(M=$,$=ai(d,j),$!=null&&P.unshift(b(d,$,M)),$=ai(d,m),$!=null&&P.push(b(d,$,M))),d=d.return}return P}function R(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function B(d,m,j,P,M){for(var $=m._reactName,te=[];j!==null&&j!==P;){var de=j,ve=de.alternate,Ie=de.stateNode;if(ve!==null&&ve===P)break;de.tag===5&&Ie!==null&&(de=Ie,M?(ve=ai(j,$),ve!=null&&te.unshift(b(j,ve,de))):M||(ve=ai(j,$),ve!=null&&te.push(b(j,ve,de)))),j=j.return}te.length!==0&&d.push({event:m,listeners:te})}var ie=/\r\n?/g,pe=/\u0000|\uFFFD/g;function Ee(d){return(typeof d=="string"?d:""+d).replace(ie,`
`).replace(pe,"")}function Me(d,m,j){if(m=Ee(m),Ee(d)!==m&&j)throw Error(r(425))}function ze(){}var nt=null,xt=null;function Dt(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Tn=typeof setTimeout=="function"?setTimeout:void 0,mn=typeof clearTimeout=="function"?clearTimeout:void 0,Ei=typeof Promise=="function"?Promise:void 0,ui=typeof queueMicrotask=="function"?queueMicrotask:typeof Ei<"u"?function(d){return Ei.resolve(null).then(d).catch(hc)}:Tn;function hc(d){setTimeout(function(){throw d})}function Am(d,m){var j=m,P=0;do{var M=j.nextSibling;if(d.removeChild(j),M&&M.nodeType===8)if(j=M.data,j==="/$"){if(P===0){d.removeChild(M),fs(m);return}P--}else j!=="$"&&j!=="$?"&&j!=="$!"||P++;j=M}while(j);fs(m)}function lo(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function bx(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var j=d.data;if(j==="$"||j==="$!"||j==="$?"){if(m===0)return d;m--}else j==="/$"&&m++}d=d.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Us="__reactFiber$"+Jo,pc="__reactProps$"+Jo,mr="__reactContainer$"+Jo,mc="__reactEvents$"+Jo,G1="__reactListeners$"+Jo,Z1="__reactHandles$"+Jo;function Qo(d){var m=d[Us];if(m)return m;for(var j=d.parentNode;j;){if(m=j[mr]||j[Us]){if(j=m.alternate,m.child!==null||j!==null&&j.child!==null)for(d=bx(d);d!==null;){if(j=d[Us])return j;d=bx(d)}return m}d=j,j=d.parentNode}return null}function el(d){return d=d[Us]||d[mr],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function tl(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function kf(d){return d[pc]||null}var Y1=[],Of=-1;function gc(d){return{current:d}}function zr(d){0>Of||(d.current=Y1[Of],Y1[Of]=null,Of--)}function Ir(d,m){Of++,Y1[Of]=d.current,d.current=m}var vc={},di=gc(vc),qi=gc(!1),Fu=vc;function Rf(d,m){var j=d.type.contextTypes;if(!j)return vc;var P=d.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===m)return P.__reactInternalMemoizedMaskedChildContext;var M={},$;for($ in j)M[$]=m[$];return P&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=M),M}function Ui(d){return d=d.childContextTypes,d!=null}function wx(){zr(qi),zr(di)}function CI(d,m,j){if(di.current!==vc)throw Error(r(168));Ir(di,m),Ir(qi,j)}function EI(d,m,j){var P=d.stateNode;if(m=m.childContextTypes,typeof P.getChildContext!="function")return j;P=P.getChildContext();for(var M in P)if(!(M in m))throw Error(r(108,ae(d)||"Unknown",M));return ne({},j,P)}function _x(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||vc,Fu=di.current,Ir(di,d),Ir(qi,qi.current),!0}function PI(d,m,j){var P=d.stateNode;if(!P)throw Error(r(169));j?(d=EI(d,m,Fu),P.__reactInternalMemoizedMergedChildContext=d,zr(qi),zr(di),Ir(di,d)):zr(qi),Ir(qi,j)}var rl=null,jx=!1,X1=!1;function TI(d){rl===null?rl=[d]:rl.push(d)}function Cte(d){jx=!0,TI(d)}function yc(){if(!X1&&rl!==null){X1=!0;var d=0,m=Xt;try{var j=rl;for(Xt=1;d<j.length;d++){var P=j[d];do P=P(!0);while(P!==null)}rl=null,jx=!1}catch(M){throw rl!==null&&(rl=rl.slice(d+1)),Yy(sm,yc),M}finally{Xt=m,X1=!1}}return null}var Mf=[],If=0,Sx=null,Nx=0,Vs=[],Ws=0,Bu=null,nl=1,il="";function zu(d,m){Mf[If++]=Nx,Mf[If++]=Sx,Sx=d,Nx=m}function AI(d,m,j){Vs[Ws++]=nl,Vs[Ws++]=il,Vs[Ws++]=Bu,Bu=d;var P=nl;d=il;var M=32-kt(P)-1;P&=~(1<<M),j+=1;var $=32-kt(m)+M;if(30<$){var te=M-M%5;$=(P&(1<<te)-1).toString(32),P>>=te,M-=te,nl=1<<32-kt(m)+M|j<<M|P,il=$+d}else nl=1<<$|j<<M|P,il=d}function J1(d){d.return!==null&&(zu(d,1),AI(d,1,0))}function Q1(d){for(;d===Sx;)Sx=Mf[--If],Mf[If]=null,Nx=Mf[--If],Mf[If]=null;for(;d===Bu;)Bu=Vs[--Ws],Vs[Ws]=null,il=Vs[--Ws],Vs[Ws]=null,nl=Vs[--Ws],Vs[Ws]=null}var vs=null,ys=null,Gr=!1,ya=null;function kI(d,m){var j=Zs(5,null,null,0);j.elementType="DELETED",j.stateNode=m,j.return=d,m=d.deletions,m===null?(d.deletions=[j],d.flags|=16):m.push(j)}function OI(d,m){switch(d.tag){case 5:var j=d.type;return m=m.nodeType!==1||j.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,vs=d,ys=lo(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,vs=d,ys=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(j=Bu!==null?{id:nl,overflow:il}:null,d.memoizedState={dehydrated:m,treeContext:j,retryLane:1073741824},j=Zs(18,null,null,0),j.stateNode=m,j.return=d,d.child=j,vs=d,ys=null,!0):!1;default:return!1}}function ej(d){return(d.mode&1)!==0&&(d.flags&128)===0}function tj(d){if(Gr){var m=ys;if(m){var j=m;if(!OI(d,m)){if(ej(d))throw Error(r(418));m=lo(j.nextSibling);var P=vs;m&&OI(d,m)?kI(P,j):(d.flags=d.flags&-4097|2,Gr=!1,vs=d)}}else{if(ej(d))throw Error(r(418));d.flags=d.flags&-4097|2,Gr=!1,vs=d}}}function RI(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;vs=d}function Cx(d){if(d!==vs)return!1;if(!Gr)return RI(d),Gr=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Dt(d.type,d.memoizedProps)),m&&(m=ys)){if(ej(d))throw MI(),Error(r(418));for(;m;)kI(d,m),m=lo(m.nextSibling)}if(RI(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var j=d.data;if(j==="/$"){if(m===0){ys=lo(d.nextSibling);break e}m--}else j!=="$"&&j!=="$!"&&j!=="$?"||m++}d=d.nextSibling}ys=null}}else ys=vs?lo(d.stateNode.nextSibling):null;return!0}function MI(){for(var d=ys;d;)d=lo(d.nextSibling)}function Df(){ys=vs=null,Gr=!1}function rj(d){ya===null?ya=[d]:ya.push(d)}var Ete=k.ReactCurrentBatchConfig;function km(d,m,j){if(d=j.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(r(309));var P=j.stateNode}if(!P)throw Error(r(147,d));var M=P,$=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(te){var de=M.refs;te===null?delete de[$]:de[$]=te},m._stringRef=$,m)}if(typeof d!="string")throw Error(r(284));if(!j._owner)throw Error(r(290,d))}return d}function Ex(d,m){throw d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function II(d){var m=d._init;return m(d._payload)}function DI(d){function m(Te,je){if(d){var Ae=Te.deletions;Ae===null?(Te.deletions=[je],Te.flags|=16):Ae.push(je)}}function j(Te,je){if(!d)return null;for(;je!==null;)m(Te,je),je=je.sibling;return null}function P(Te,je){for(Te=new Map;je!==null;)je.key!==null?Te.set(je.key,je):Te.set(je.index,je),je=je.sibling;return Te}function M(Te,je){return Te=Cc(Te,je),Te.index=0,Te.sibling=null,Te}function $(Te,je,Ae){return Te.index=Ae,d?(Ae=Te.alternate,Ae!==null?(Ae=Ae.index,Ae<je?(Te.flags|=2,je):Ae):(Te.flags|=2,je)):(Te.flags|=1048576,je)}function te(Te){return d&&Te.alternate===null&&(Te.flags|=2),Te}function de(Te,je,Ae,Je){return je===null||je.tag!==6?(je=Kj(Ae,Te.mode,Je),je.return=Te,je):(je=M(je,Ae),je.return=Te,je)}function ve(Te,je,Ae,Je){var mt=Ae.type;return mt===O?He(Te,je,Ae.props.children,Je,Ae.key):je!==null&&(je.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===se&&II(mt)===je.type)?(Je=M(je,Ae.props),Je.ref=km(Te,je,Ae),Je.return=Te,Je):(Je=Xx(Ae.type,Ae.key,Ae.props,null,Te.mode,Je),Je.ref=km(Te,je,Ae),Je.return=Te,Je)}function Ie(Te,je,Ae,Je){return je===null||je.tag!==4||je.stateNode.containerInfo!==Ae.containerInfo||je.stateNode.implementation!==Ae.implementation?(je=Gj(Ae,Te.mode,Je),je.return=Te,je):(je=M(je,Ae.children||[]),je.return=Te,je)}function He(Te,je,Ae,Je,mt){return je===null||je.tag!==7?(je=Zu(Ae,Te.mode,Je,mt),je.return=Te,je):(je=M(je,Ae),je.return=Te,je)}function Ye(Te,je,Ae){if(typeof je=="string"&&je!==""||typeof je=="number")return je=Kj(""+je,Te.mode,Ae),je.return=Te,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case A:return Ae=Xx(je.type,je.key,je.props,null,Te.mode,Ae),Ae.ref=km(Te,null,je),Ae.return=Te,Ae;case T:return je=Gj(je,Te.mode,Ae),je.return=Te,je;case se:var Je=je._init;return Ye(Te,Je(je._payload),Ae)}if(fe(je)||Y(je))return je=Zu(je,Te.mode,Ae,null),je.return=Te,je;Ex(Te,je)}return null}function We(Te,je,Ae,Je){var mt=je!==null?je.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return mt!==null?null:de(Te,je,""+Ae,Je);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case A:return Ae.key===mt?ve(Te,je,Ae,Je):null;case T:return Ae.key===mt?Ie(Te,je,Ae,Je):null;case se:return mt=Ae._init,We(Te,je,mt(Ae._payload),Je)}if(fe(Ae)||Y(Ae))return mt!==null?null:He(Te,je,Ae,Je,null);Ex(Te,Ae)}return null}function st(Te,je,Ae,Je,mt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Te=Te.get(Ae)||null,de(je,Te,""+Je,mt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case A:return Te=Te.get(Je.key===null?Ae:Je.key)||null,ve(je,Te,Je,mt);case T:return Te=Te.get(Je.key===null?Ae:Je.key)||null,Ie(je,Te,Je,mt);case se:var bt=Je._init;return st(Te,je,Ae,bt(Je._payload),mt)}if(fe(Je)||Y(Je))return Te=Te.get(Ae)||null,He(je,Te,Je,mt,null);Ex(je,Je)}return null}function ut(Te,je,Ae,Je){for(var mt=null,bt=null,wt=je,Et=je=0,Vn=null;wt!==null&&Et<Ae.length;Et++){wt.index>Et?(Vn=wt,wt=null):Vn=wt.sibling;var or=We(Te,wt,Ae[Et],Je);if(or===null){wt===null&&(wt=Vn);break}d&&wt&&or.alternate===null&&m(Te,wt),je=$(or,je,Et),bt===null?mt=or:bt.sibling=or,bt=or,wt=Vn}if(Et===Ae.length)return j(Te,wt),Gr&&zu(Te,Et),mt;if(wt===null){for(;Et<Ae.length;Et++)wt=Ye(Te,Ae[Et],Je),wt!==null&&(je=$(wt,je,Et),bt===null?mt=wt:bt.sibling=wt,bt=wt);return Gr&&zu(Te,Et),mt}for(wt=P(Te,wt);Et<Ae.length;Et++)Vn=st(wt,Te,Et,Ae[Et],Je),Vn!==null&&(d&&Vn.alternate!==null&&wt.delete(Vn.key===null?Et:Vn.key),je=$(Vn,je,Et),bt===null?mt=Vn:bt.sibling=Vn,bt=Vn);return d&&wt.forEach(function(Ec){return m(Te,Ec)}),Gr&&zu(Te,Et),mt}function ft(Te,je,Ae,Je){var mt=Y(Ae);if(typeof mt!="function")throw Error(r(150));if(Ae=mt.call(Ae),Ae==null)throw Error(r(151));for(var bt=mt=null,wt=je,Et=je=0,Vn=null,or=Ae.next();wt!==null&&!or.done;Et++,or=Ae.next()){wt.index>Et?(Vn=wt,wt=null):Vn=wt.sibling;var Ec=We(Te,wt,or.value,Je);if(Ec===null){wt===null&&(wt=Vn);break}d&&wt&&Ec.alternate===null&&m(Te,wt),je=$(Ec,je,Et),bt===null?mt=Ec:bt.sibling=Ec,bt=Ec,wt=Vn}if(or.done)return j(Te,wt),Gr&&zu(Te,Et),mt;if(wt===null){for(;!or.done;Et++,or=Ae.next())or=Ye(Te,or.value,Je),or!==null&&(je=$(or,je,Et),bt===null?mt=or:bt.sibling=or,bt=or);return Gr&&zu(Te,Et),mt}for(wt=P(Te,wt);!or.done;Et++,or=Ae.next())or=st(wt,Te,Et,or.value,Je),or!==null&&(d&&or.alternate!==null&&wt.delete(or.key===null?Et:or.key),je=$(or,je,Et),bt===null?mt=or:bt.sibling=or,bt=or);return d&&wt.forEach(function(are){return m(Te,are)}),Gr&&zu(Te,Et),mt}function un(Te,je,Ae,Je){if(typeof Ae=="object"&&Ae!==null&&Ae.type===O&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case A:e:{for(var mt=Ae.key,bt=je;bt!==null;){if(bt.key===mt){if(mt=Ae.type,mt===O){if(bt.tag===7){j(Te,bt.sibling),je=M(bt,Ae.props.children),je.return=Te,Te=je;break e}}else if(bt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===se&&II(mt)===bt.type){j(Te,bt.sibling),je=M(bt,Ae.props),je.ref=km(Te,bt,Ae),je.return=Te,Te=je;break e}j(Te,bt);break}else m(Te,bt);bt=bt.sibling}Ae.type===O?(je=Zu(Ae.props.children,Te.mode,Je,Ae.key),je.return=Te,Te=je):(Je=Xx(Ae.type,Ae.key,Ae.props,null,Te.mode,Je),Je.ref=km(Te,je,Ae),Je.return=Te,Te=Je)}return te(Te);case T:e:{for(bt=Ae.key;je!==null;){if(je.key===bt)if(je.tag===4&&je.stateNode.containerInfo===Ae.containerInfo&&je.stateNode.implementation===Ae.implementation){j(Te,je.sibling),je=M(je,Ae.children||[]),je.return=Te,Te=je;break e}else{j(Te,je);break}else m(Te,je);je=je.sibling}je=Gj(Ae,Te.mode,Je),je.return=Te,Te=je}return te(Te);case se:return bt=Ae._init,un(Te,je,bt(Ae._payload),Je)}if(fe(Ae))return ut(Te,je,Ae,Je);if(Y(Ae))return ft(Te,je,Ae,Je);Ex(Te,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,je!==null&&je.tag===6?(j(Te,je.sibling),je=M(je,Ae),je.return=Te,Te=je):(j(Te,je),je=Kj(Ae,Te.mode,Je),je.return=Te,Te=je),te(Te)):j(Te,je)}return un}var Lf=DI(!0),LI=DI(!1),Px=gc(null),Tx=null,$f=null,nj=null;function ij(){nj=$f=Tx=null}function sj(d){var m=Px.current;zr(Px),d._currentValue=m}function aj(d,m,j){for(;d!==null;){var P=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,P!==null&&(P.childLanes|=m)):P!==null&&(P.childLanes&m)!==m&&(P.childLanes|=m),d===j)break;d=d.return}}function Ff(d,m){Tx=d,nj=$f=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Vi=!0),d.firstContext=null)}function Hs(d){var m=d._currentValue;if(nj!==d)if(d={context:d,memoizedValue:m,next:null},$f===null){if(Tx===null)throw Error(r(308));$f=d,Tx.dependencies={lanes:0,firstContext:d}}else $f=$f.next=d;return m}var qu=null;function oj(d){qu===null?qu=[d]:qu.push(d)}function $I(d,m,j,P){var M=m.interleaved;return M===null?(j.next=j,oj(m)):(j.next=M.next,M.next=j),m.interleaved=j,sl(d,P)}function sl(d,m){d.lanes|=m;var j=d.alternate;for(j!==null&&(j.lanes|=m),j=d,d=d.return;d!==null;)d.childLanes|=m,j=d.alternate,j!==null&&(j.childLanes|=m),j=d,d=d.return;return j.tag===3?j.stateNode:null}var xc=!1;function lj(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FI(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function al(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function bc(d,m,j){var P=d.updateQueue;if(P===null)return null;if(P=P.shared,(rr&2)!==0){var M=P.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),P.pending=m,sl(d,j)}return M=P.interleaved,M===null?(m.next=m,oj(P)):(m.next=M.next,M.next=m),P.interleaved=m,sl(d,j)}function Ax(d,m,j){if(m=m.updateQueue,m!==null&&(m=m.shared,(j&4194240)!==0)){var P=m.lanes;P&=d.pendingLanes,j|=P,m.lanes=j,ha(d,j)}}function BI(d,m){var j=d.updateQueue,P=d.alternate;if(P!==null&&(P=P.updateQueue,j===P)){var M=null,$=null;if(j=j.firstBaseUpdate,j!==null){do{var te={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};$===null?M=$=te:$=$.next=te,j=j.next}while(j!==null);$===null?M=$=m:$=$.next=m}else M=$=m;j={baseState:P.baseState,firstBaseUpdate:M,lastBaseUpdate:$,shared:P.shared,effects:P.effects},d.updateQueue=j;return}d=j.lastBaseUpdate,d===null?j.firstBaseUpdate=m:d.next=m,j.lastBaseUpdate=m}function kx(d,m,j,P){var M=d.updateQueue;xc=!1;var $=M.firstBaseUpdate,te=M.lastBaseUpdate,de=M.shared.pending;if(de!==null){M.shared.pending=null;var ve=de,Ie=ve.next;ve.next=null,te===null?$=Ie:te.next=Ie,te=ve;var He=d.alternate;He!==null&&(He=He.updateQueue,de=He.lastBaseUpdate,de!==te&&(de===null?He.firstBaseUpdate=Ie:de.next=Ie,He.lastBaseUpdate=ve))}if($!==null){var Ye=M.baseState;te=0,He=Ie=ve=null,de=$;do{var We=de.lane,st=de.eventTime;if((P&We)===We){He!==null&&(He=He.next={eventTime:st,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ut=d,ft=de;switch(We=m,st=j,ft.tag){case 1:if(ut=ft.payload,typeof ut=="function"){Ye=ut.call(st,Ye,We);break e}Ye=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ft.payload,We=typeof ut=="function"?ut.call(st,Ye,We):ut,We==null)break e;Ye=ne({},Ye,We);break e;case 2:xc=!0}}de.callback!==null&&de.lane!==0&&(d.flags|=64,We=M.effects,We===null?M.effects=[de]:We.push(de))}else st={eventTime:st,lane:We,tag:de.tag,payload:de.payload,callback:de.callback,next:null},He===null?(Ie=He=st,ve=Ye):He=He.next=st,te|=We;if(de=de.next,de===null){if(de=M.shared.pending,de===null)break;We=de,de=We.next,We.next=null,M.lastBaseUpdate=We,M.shared.pending=null}}while(!0);if(He===null&&(ve=Ye),M.baseState=ve,M.firstBaseUpdate=Ie,M.lastBaseUpdate=He,m=M.shared.interleaved,m!==null){M=m;do te|=M.lane,M=M.next;while(M!==m)}else $===null&&(M.shared.lanes=0);Wu|=te,d.lanes=te,d.memoizedState=Ye}}function zI(d,m,j){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var P=d[m],M=P.callback;if(M!==null){if(P.callback=null,P=j,typeof M!="function")throw Error(r(191,M));M.call(P)}}}var Om={},co=gc(Om),Rm=gc(Om),Mm=gc(Om);function Uu(d){if(d===Om)throw Error(r(174));return d}function cj(d,m){switch(Ir(Mm,m),Ir(Rm,d),Ir(co,Om),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:K(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=K(m,d)}zr(co),Ir(co,m)}function Bf(){zr(co),zr(Rm),zr(Mm)}function qI(d){Uu(Mm.current);var m=Uu(co.current),j=K(m,d.type);m!==j&&(Ir(Rm,d),Ir(co,j))}function uj(d){Rm.current===d&&(zr(co),zr(Rm))}var Qr=gc(0);function Ox(d){for(var m=d;m!==null;){if(m.tag===13){var j=m.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var dj=[];function fj(){for(var d=0;d<dj.length;d++)dj[d]._workInProgressVersionPrimary=null;dj.length=0}var Rx=k.ReactCurrentDispatcher,hj=k.ReactCurrentBatchConfig,Vu=0,en=null,An=null,qn=null,Mx=!1,Im=!1,Dm=0,Pte=0;function fi(){throw Error(r(321))}function pj(d,m){if(m===null)return!1;for(var j=0;j<m.length&&j<d.length;j++)if(!ms(d[j],m[j]))return!1;return!0}function mj(d,m,j,P,M,$){if(Vu=$,en=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Rx.current=d===null||d.memoizedState===null?Ote:Rte,d=j(P,M),Im){$=0;do{if(Im=!1,Dm=0,25<=$)throw Error(r(301));$+=1,qn=An=null,m.updateQueue=null,Rx.current=Mte,d=j(P,M)}while(Im)}if(Rx.current=Lx,m=An!==null&&An.next!==null,Vu=0,qn=An=en=null,Mx=!1,m)throw Error(r(300));return d}function gj(){var d=Dm!==0;return Dm=0,d}function uo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?en.memoizedState=qn=d:qn=qn.next=d,qn}function Ks(){if(An===null){var d=en.alternate;d=d!==null?d.memoizedState:null}else d=An.next;var m=qn===null?en.memoizedState:qn.next;if(m!==null)qn=m,An=d;else{if(d===null)throw Error(r(310));An=d,d={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},qn===null?en.memoizedState=qn=d:qn=qn.next=d}return qn}function Lm(d,m){return typeof m=="function"?m(d):m}function vj(d){var m=Ks(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=d;var P=An,M=P.baseQueue,$=j.pending;if($!==null){if(M!==null){var te=M.next;M.next=$.next,$.next=te}P.baseQueue=M=$,j.pending=null}if(M!==null){$=M.next,P=P.baseState;var de=te=null,ve=null,Ie=$;do{var He=Ie.lane;if((Vu&He)===He)ve!==null&&(ve=ve.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),P=Ie.hasEagerState?Ie.eagerState:d(P,Ie.action);else{var Ye={lane:He,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ve===null?(de=ve=Ye,te=P):ve=ve.next=Ye,en.lanes|=He,Wu|=He}Ie=Ie.next}while(Ie!==null&&Ie!==$);ve===null?te=P:ve.next=de,ms(P,m.memoizedState)||(Vi=!0),m.memoizedState=P,m.baseState=te,m.baseQueue=ve,j.lastRenderedState=P}if(d=j.interleaved,d!==null){M=d;do $=M.lane,en.lanes|=$,Wu|=$,M=M.next;while(M!==d)}else M===null&&(j.lanes=0);return[m.memoizedState,j.dispatch]}function yj(d){var m=Ks(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=d;var P=j.dispatch,M=j.pending,$=m.memoizedState;if(M!==null){j.pending=null;var te=M=M.next;do $=d($,te.action),te=te.next;while(te!==M);ms($,m.memoizedState)||(Vi=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),j.lastRenderedState=$}return[$,P]}function UI(){}function VI(d,m){var j=en,P=Ks(),M=m(),$=!ms(P.memoizedState,M);if($&&(P.memoizedState=M,Vi=!0),P=P.queue,xj(KI.bind(null,j,P,d),[d]),P.getSnapshot!==m||$||qn!==null&&qn.memoizedState.tag&1){if(j.flags|=2048,$m(9,HI.bind(null,j,P,M,m),void 0,null),Un===null)throw Error(r(349));(Vu&30)!==0||WI(j,m,M)}return M}function WI(d,m,j){d.flags|=16384,d={getSnapshot:m,value:j},m=en.updateQueue,m===null?(m={lastEffect:null,stores:null},en.updateQueue=m,m.stores=[d]):(j=m.stores,j===null?m.stores=[d]:j.push(d))}function HI(d,m,j,P){m.value=j,m.getSnapshot=P,GI(m)&&ZI(d)}function KI(d,m,j){return j(function(){GI(m)&&ZI(d)})}function GI(d){var m=d.getSnapshot;d=d.value;try{var j=m();return!ms(d,j)}catch{return!0}}function ZI(d){var m=sl(d,1);m!==null&&_a(m,d,1,-1)}function YI(d){var m=uo();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:d},m.queue=d,d=d.dispatch=kte.bind(null,en,d),[m.memoizedState,d]}function $m(d,m,j,P){return d={tag:d,create:m,destroy:j,deps:P,next:null},m=en.updateQueue,m===null?(m={lastEffect:null,stores:null},en.updateQueue=m,m.lastEffect=d.next=d):(j=m.lastEffect,j===null?m.lastEffect=d.next=d:(P=j.next,j.next=d,d.next=P,m.lastEffect=d)),d}function XI(){return Ks().memoizedState}function Ix(d,m,j,P){var M=uo();en.flags|=d,M.memoizedState=$m(1|m,j,void 0,P===void 0?null:P)}function Dx(d,m,j,P){var M=Ks();P=P===void 0?null:P;var $=void 0;if(An!==null){var te=An.memoizedState;if($=te.destroy,P!==null&&pj(P,te.deps)){M.memoizedState=$m(m,j,$,P);return}}en.flags|=d,M.memoizedState=$m(1|m,j,$,P)}function JI(d,m){return Ix(8390656,8,d,m)}function xj(d,m){return Dx(2048,8,d,m)}function QI(d,m){return Dx(4,2,d,m)}function eD(d,m){return Dx(4,4,d,m)}function tD(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function rD(d,m,j){return j=j!=null?j.concat([d]):null,Dx(4,4,tD.bind(null,m,d),j)}function bj(){}function nD(d,m){var j=Ks();m=m===void 0?null:m;var P=j.memoizedState;return P!==null&&m!==null&&pj(m,P[1])?P[0]:(j.memoizedState=[d,m],d)}function iD(d,m){var j=Ks();m=m===void 0?null:m;var P=j.memoizedState;return P!==null&&m!==null&&pj(m,P[1])?P[0]:(d=d(),j.memoizedState=[d,m],d)}function sD(d,m,j){return(Vu&21)===0?(d.baseState&&(d.baseState=!1,Vi=!0),d.memoizedState=j):(ms(j,m)||(j=Jy(),en.lanes|=j,Wu|=j,d.baseState=!0),m)}function Tte(d,m){var j=Xt;Xt=j!==0&&4>j?j:4,d(!0);var P=hj.transition;hj.transition={};try{d(!1),m()}finally{Xt=j,hj.transition=P}}function aD(){return Ks().memoizedState}function Ate(d,m,j){var P=Sc(d);if(j={lane:P,action:j,hasEagerState:!1,eagerState:null,next:null},oD(d))lD(m,j);else if(j=$I(d,m,j,P),j!==null){var M=Ti();_a(j,d,P,M),cD(j,m,P)}}function kte(d,m,j){var P=Sc(d),M={lane:P,action:j,hasEagerState:!1,eagerState:null,next:null};if(oD(d))lD(m,M);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var te=m.lastRenderedState,de=$(te,j);if(M.hasEagerState=!0,M.eagerState=de,ms(de,te)){var ve=m.interleaved;ve===null?(M.next=M,oj(m)):(M.next=ve.next,ve.next=M),m.interleaved=M;return}}catch{}finally{}j=$I(d,m,M,P),j!==null&&(M=Ti(),_a(j,d,P,M),cD(j,m,P))}}function oD(d){var m=d.alternate;return d===en||m!==null&&m===en}function lD(d,m){Im=Mx=!0;var j=d.pending;j===null?m.next=m:(m.next=j.next,j.next=m),d.pending=m}function cD(d,m,j){if((j&4194240)!==0){var P=m.lanes;P&=d.pendingLanes,j|=P,m.lanes=j,ha(d,j)}}var Lx={readContext:Hs,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Ote={readContext:Hs,useCallback:function(d,m){return uo().memoizedState=[d,m===void 0?null:m],d},useContext:Hs,useEffect:JI,useImperativeHandle:function(d,m,j){return j=j!=null?j.concat([d]):null,Ix(4194308,4,tD.bind(null,m,d),j)},useLayoutEffect:function(d,m){return Ix(4194308,4,d,m)},useInsertionEffect:function(d,m){return Ix(4,2,d,m)},useMemo:function(d,m){var j=uo();return m=m===void 0?null:m,d=d(),j.memoizedState=[d,m],d},useReducer:function(d,m,j){var P=uo();return m=j!==void 0?j(m):m,P.memoizedState=P.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},P.queue=d,d=d.dispatch=Ate.bind(null,en,d),[P.memoizedState,d]},useRef:function(d){var m=uo();return d={current:d},m.memoizedState=d},useState:YI,useDebugValue:bj,useDeferredValue:function(d){return uo().memoizedState=d},useTransition:function(){var d=YI(!1),m=d[0];return d=Tte.bind(null,d[1]),uo().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,j){var P=en,M=uo();if(Gr){if(j===void 0)throw Error(r(407));j=j()}else{if(j=m(),Un===null)throw Error(r(349));(Vu&30)!==0||WI(P,m,j)}M.memoizedState=j;var $={value:j,getSnapshot:m};return M.queue=$,JI(KI.bind(null,P,$,d),[d]),P.flags|=2048,$m(9,HI.bind(null,P,$,j,m),void 0,null),j},useId:function(){var d=uo(),m=Un.identifierPrefix;if(Gr){var j=il,P=nl;j=(P&~(1<<32-kt(P)-1)).toString(32)+j,m=":"+m+"R"+j,j=Dm++,0<j&&(m+="H"+j.toString(32)),m+=":"}else j=Pte++,m=":"+m+"r"+j.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},Rte={readContext:Hs,useCallback:nD,useContext:Hs,useEffect:xj,useImperativeHandle:rD,useInsertionEffect:QI,useLayoutEffect:eD,useMemo:iD,useReducer:vj,useRef:XI,useState:function(){return vj(Lm)},useDebugValue:bj,useDeferredValue:function(d){var m=Ks();return sD(m,An.memoizedState,d)},useTransition:function(){var d=vj(Lm)[0],m=Ks().memoizedState;return[d,m]},useMutableSource:UI,useSyncExternalStore:VI,useId:aD,unstable_isNewReconciler:!1},Mte={readContext:Hs,useCallback:nD,useContext:Hs,useEffect:xj,useImperativeHandle:rD,useInsertionEffect:QI,useLayoutEffect:eD,useMemo:iD,useReducer:yj,useRef:XI,useState:function(){return yj(Lm)},useDebugValue:bj,useDeferredValue:function(d){var m=Ks();return An===null?m.memoizedState=d:sD(m,An.memoizedState,d)},useTransition:function(){var d=yj(Lm)[0],m=Ks().memoizedState;return[d,m]},useMutableSource:UI,useSyncExternalStore:VI,useId:aD,unstable_isNewReconciler:!1};function xa(d,m){if(d&&d.defaultProps){m=ne({},m),d=d.defaultProps;for(var j in d)m[j]===void 0&&(m[j]=d[j]);return m}return m}function wj(d,m,j,P){m=d.memoizedState,j=j(P,m),j=j==null?m:ne({},m,j),d.memoizedState=j,d.lanes===0&&(d.updateQueue.baseState=j)}var $x={isMounted:function(d){return(d=d._reactInternals)?eo(d)===d:!1},enqueueSetState:function(d,m,j){d=d._reactInternals;var P=Ti(),M=Sc(d),$=al(P,M);$.payload=m,j!=null&&($.callback=j),m=bc(d,$,M),m!==null&&(_a(m,d,M,P),Ax(m,d,M))},enqueueReplaceState:function(d,m,j){d=d._reactInternals;var P=Ti(),M=Sc(d),$=al(P,M);$.tag=1,$.payload=m,j!=null&&($.callback=j),m=bc(d,$,M),m!==null&&(_a(m,d,M,P),Ax(m,d,M))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var j=Ti(),P=Sc(d),M=al(j,P);M.tag=2,m!=null&&(M.callback=m),m=bc(d,M,P),m!==null&&(_a(m,d,P,j),Ax(m,d,P))}};function uD(d,m,j,P,M,$,te){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(P,$,te):m.prototype&&m.prototype.isPureReactComponent?!so(j,P)||!so(M,$):!0}function dD(d,m,j){var P=!1,M=vc,$=m.contextType;return typeof $=="object"&&$!==null?$=Hs($):(M=Ui(m)?Fu:di.current,P=m.contextTypes,$=(P=P!=null)?Rf(d,M):vc),m=new m(j,$),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$x,d.stateNode=m,m._reactInternals=d,P&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=M,d.__reactInternalMemoizedMaskedChildContext=$),m}function fD(d,m,j,P){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(j,P),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(j,P),m.state!==d&&$x.enqueueReplaceState(m,m.state,null)}function _j(d,m,j,P){var M=d.stateNode;M.props=j,M.state=d.memoizedState,M.refs={},lj(d);var $=m.contextType;typeof $=="object"&&$!==null?M.context=Hs($):($=Ui(m)?Fu:di.current,M.context=Rf(d,$)),M.state=d.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(wj(d,m,$,j),M.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&$x.enqueueReplaceState(M,M.state,null),kx(d,j,M,P),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308)}function zf(d,m){try{var j="",P=m;do j+=De(P),P=P.return;while(P);var M=j}catch($){M=`
Error generating stack: `+$.message+`
`+$.stack}return{value:d,source:m,stack:M,digest:null}}function jj(d,m,j){return{value:d,source:null,stack:j??null,digest:m??null}}function Sj(d,m){try{console.error(m.value)}catch(j){setTimeout(function(){throw j})}}var Ite=typeof WeakMap=="function"?WeakMap:Map;function hD(d,m,j){j=al(-1,j),j.tag=3,j.payload={element:null};var P=m.value;return j.callback=function(){Wx||(Wx=!0,Fj=P),Sj(d,m)},j}function pD(d,m,j){j=al(-1,j),j.tag=3;var P=d.type.getDerivedStateFromError;if(typeof P=="function"){var M=m.value;j.payload=function(){return P(M)},j.callback=function(){Sj(d,m)}}var $=d.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(j.callback=function(){Sj(d,m),typeof P!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var te=m.stack;this.componentDidCatch(m.value,{componentStack:te!==null?te:""})}),j}function mD(d,m,j){var P=d.pingCache;if(P===null){P=d.pingCache=new Ite;var M=new Set;P.set(m,M)}else M=P.get(m),M===void 0&&(M=new Set,P.set(m,M));M.has(j)||(M.add(j),d=Zte.bind(null,d,m,j),m.then(d,d))}function gD(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function vD(d,m,j,P,M){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(m=al(-1,1),m.tag=2,bc(j,m,1))),j.lanes|=1),d):(d.flags|=65536,d.lanes=M,d)}var Dte=k.ReactCurrentOwner,Vi=!1;function Pi(d,m,j,P){m.child=d===null?LI(m,null,j,P):Lf(m,d.child,j,P)}function yD(d,m,j,P,M){j=j.render;var $=m.ref;return Ff(m,M),P=mj(d,m,j,P,$,M),j=gj(),d!==null&&!Vi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,ol(d,m,M)):(Gr&&j&&J1(m),m.flags|=1,Pi(d,m,P,M),m.child)}function xD(d,m,j,P,M){if(d===null){var $=j.type;return typeof $=="function"&&!Hj($)&&$.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(m.tag=15,m.type=$,bD(d,m,$,P,M)):(d=Xx(j.type,null,P,m,m.mode,M),d.ref=m.ref,d.return=m,m.child=d)}if($=d.child,(d.lanes&M)===0){var te=$.memoizedProps;if(j=j.compare,j=j!==null?j:so,j(te,P)&&d.ref===m.ref)return ol(d,m,M)}return m.flags|=1,d=Cc($,P),d.ref=m.ref,d.return=m,m.child=d}function bD(d,m,j,P,M){if(d!==null){var $=d.memoizedProps;if(so($,P)&&d.ref===m.ref)if(Vi=!1,m.pendingProps=P=$,(d.lanes&M)!==0)(d.flags&131072)!==0&&(Vi=!0);else return m.lanes=d.lanes,ol(d,m,M)}return Nj(d,m,j,P,M)}function wD(d,m,j){var P=m.pendingProps,M=P.children,$=d!==null?d.memoizedState:null;if(P.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Uf,xs),xs|=j;else{if((j&1073741824)===0)return d=$!==null?$.baseLanes|j:j,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,Ir(Uf,xs),xs|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=$!==null?$.baseLanes:j,Ir(Uf,xs),xs|=P}else $!==null?(P=$.baseLanes|j,m.memoizedState=null):P=j,Ir(Uf,xs),xs|=P;return Pi(d,m,M,j),m.child}function _D(d,m){var j=m.ref;(d===null&&j!==null||d!==null&&d.ref!==j)&&(m.flags|=512,m.flags|=2097152)}function Nj(d,m,j,P,M){var $=Ui(j)?Fu:di.current;return $=Rf(m,$),Ff(m,M),j=mj(d,m,j,P,$,M),P=gj(),d!==null&&!Vi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,ol(d,m,M)):(Gr&&P&&J1(m),m.flags|=1,Pi(d,m,j,M),m.child)}function jD(d,m,j,P,M){if(Ui(j)){var $=!0;_x(m)}else $=!1;if(Ff(m,M),m.stateNode===null)Bx(d,m),dD(m,j,P),_j(m,j,P,M),P=!0;else if(d===null){var te=m.stateNode,de=m.memoizedProps;te.props=de;var ve=te.context,Ie=j.contextType;typeof Ie=="object"&&Ie!==null?Ie=Hs(Ie):(Ie=Ui(j)?Fu:di.current,Ie=Rf(m,Ie));var He=j.getDerivedStateFromProps,Ye=typeof He=="function"||typeof te.getSnapshotBeforeUpdate=="function";Ye||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(de!==P||ve!==Ie)&&fD(m,te,P,Ie),xc=!1;var We=m.memoizedState;te.state=We,kx(m,P,te,M),ve=m.memoizedState,de!==P||We!==ve||qi.current||xc?(typeof He=="function"&&(wj(m,j,He,P),ve=m.memoizedState),(de=xc||uD(m,j,de,P,We,ve,Ie))?(Ye||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(m.flags|=4194308)):(typeof te.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=P,m.memoizedState=ve),te.props=P,te.state=ve,te.context=Ie,P=de):(typeof te.componentDidMount=="function"&&(m.flags|=4194308),P=!1)}else{te=m.stateNode,FI(d,m),de=m.memoizedProps,Ie=m.type===m.elementType?de:xa(m.type,de),te.props=Ie,Ye=m.pendingProps,We=te.context,ve=j.contextType,typeof ve=="object"&&ve!==null?ve=Hs(ve):(ve=Ui(j)?Fu:di.current,ve=Rf(m,ve));var st=j.getDerivedStateFromProps;(He=typeof st=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(de!==Ye||We!==ve)&&fD(m,te,P,ve),xc=!1,We=m.memoizedState,te.state=We,kx(m,P,te,M);var ut=m.memoizedState;de!==Ye||We!==ut||qi.current||xc?(typeof st=="function"&&(wj(m,j,st,P),ut=m.memoizedState),(Ie=xc||uD(m,j,Ie,P,We,ut,ve)||!1)?(He||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(P,ut,ve),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(P,ut,ve)),typeof te.componentDidUpdate=="function"&&(m.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof te.componentDidUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=1024),m.memoizedProps=P,m.memoizedState=ut),te.props=P,te.state=ut,te.context=ve,P=Ie):(typeof te.componentDidUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=1024),P=!1)}return Cj(d,m,j,P,$,M)}function Cj(d,m,j,P,M,$){_D(d,m);var te=(m.flags&128)!==0;if(!P&&!te)return M&&PI(m,j,!1),ol(d,m,$);P=m.stateNode,Dte.current=m;var de=te&&typeof j.getDerivedStateFromError!="function"?null:P.render();return m.flags|=1,d!==null&&te?(m.child=Lf(m,d.child,null,$),m.child=Lf(m,null,de,$)):Pi(d,m,de,$),m.memoizedState=P.state,M&&PI(m,j,!0),m.child}function SD(d){var m=d.stateNode;m.pendingContext?CI(d,m.pendingContext,m.pendingContext!==m.context):m.context&&CI(d,m.context,!1),cj(d,m.containerInfo)}function ND(d,m,j,P,M){return Df(),rj(M),m.flags|=256,Pi(d,m,j,P),m.child}var Ej={dehydrated:null,treeContext:null,retryLane:0};function Pj(d){return{baseLanes:d,cachePool:null,transitions:null}}function CD(d,m,j){var P=m.pendingProps,M=Qr.current,$=!1,te=(m.flags&128)!==0,de;if((de=te)||(de=d!==null&&d.memoizedState===null?!1:(M&2)!==0),de?($=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(M|=1),Ir(Qr,M&1),d===null)return tj(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(te=P.children,d=P.fallback,$?(P=m.mode,$=m.child,te={mode:"hidden",children:te},(P&1)===0&&$!==null?($.childLanes=0,$.pendingProps=te):$=Jx(te,P,0,null),d=Zu(d,P,j,null),$.return=m,d.return=m,$.sibling=d,m.child=$,m.child.memoizedState=Pj(j),m.memoizedState=Ej,d):Tj(m,te));if(M=d.memoizedState,M!==null&&(de=M.dehydrated,de!==null))return Lte(d,m,te,P,de,M,j);if($){$=P.fallback,te=m.mode,M=d.child,de=M.sibling;var ve={mode:"hidden",children:P.children};return(te&1)===0&&m.child!==M?(P=m.child,P.childLanes=0,P.pendingProps=ve,m.deletions=null):(P=Cc(M,ve),P.subtreeFlags=M.subtreeFlags&14680064),de!==null?$=Cc(de,$):($=Zu($,te,j,null),$.flags|=2),$.return=m,P.return=m,P.sibling=$,m.child=P,P=$,$=m.child,te=d.child.memoizedState,te=te===null?Pj(j):{baseLanes:te.baseLanes|j,cachePool:null,transitions:te.transitions},$.memoizedState=te,$.childLanes=d.childLanes&~j,m.memoizedState=Ej,P}return $=d.child,d=$.sibling,P=Cc($,{mode:"visible",children:P.children}),(m.mode&1)===0&&(P.lanes=j),P.return=m,P.sibling=null,d!==null&&(j=m.deletions,j===null?(m.deletions=[d],m.flags|=16):j.push(d)),m.child=P,m.memoizedState=null,P}function Tj(d,m){return m=Jx({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Fx(d,m,j,P){return P!==null&&rj(P),Lf(m,d.child,null,j),d=Tj(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Lte(d,m,j,P,M,$,te){if(j)return m.flags&256?(m.flags&=-257,P=jj(Error(r(422))),Fx(d,m,te,P)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):($=P.fallback,M=m.mode,P=Jx({mode:"visible",children:P.children},M,0,null),$=Zu($,M,te,null),$.flags|=2,P.return=m,$.return=m,P.sibling=$,m.child=P,(m.mode&1)!==0&&Lf(m,d.child,null,te),m.child.memoizedState=Pj(te),m.memoizedState=Ej,$);if((m.mode&1)===0)return Fx(d,m,te,null);if(M.data==="$!"){if(P=M.nextSibling&&M.nextSibling.dataset,P)var de=P.dgst;return P=de,$=Error(r(419)),P=jj($,P,void 0),Fx(d,m,te,P)}if(de=(te&d.childLanes)!==0,Vi||de){if(P=Un,P!==null){switch(te&-te){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(P.suspendedLanes|te))!==0?0:M,M!==0&&M!==$.retryLane&&($.retryLane=M,sl(d,M),_a(P,d,M,-1))}return Wj(),P=jj(Error(r(421))),Fx(d,m,te,P)}return M.data==="$?"?(m.flags|=128,m.child=d.child,m=Yte.bind(null,d),M._reactRetry=m,null):(d=$.treeContext,ys=lo(M.nextSibling),vs=m,Gr=!0,ya=null,d!==null&&(Vs[Ws++]=nl,Vs[Ws++]=il,Vs[Ws++]=Bu,nl=d.id,il=d.overflow,Bu=m),m=Tj(m,P.children),m.flags|=4096,m)}function ED(d,m,j){d.lanes|=m;var P=d.alternate;P!==null&&(P.lanes|=m),aj(d.return,m,j)}function Aj(d,m,j,P,M){var $=d.memoizedState;$===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:P,tail:j,tailMode:M}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=P,$.tail=j,$.tailMode=M)}function PD(d,m,j){var P=m.pendingProps,M=P.revealOrder,$=P.tail;if(Pi(d,m,P.children,j),P=Qr.current,(P&2)!==0)P=P&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&ED(d,j,m);else if(d.tag===19)ED(d,j,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}P&=1}if(Ir(Qr,P),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(j=m.child,M=null;j!==null;)d=j.alternate,d!==null&&Ox(d)===null&&(M=j),j=j.sibling;j=M,j===null?(M=m.child,m.child=null):(M=j.sibling,j.sibling=null),Aj(m,!1,M,j,$);break;case"backwards":for(j=null,M=m.child,m.child=null;M!==null;){if(d=M.alternate,d!==null&&Ox(d)===null){m.child=M;break}d=M.sibling,M.sibling=j,j=M,M=d}Aj(m,!0,j,null,$);break;case"together":Aj(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Bx(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function ol(d,m,j){if(d!==null&&(m.dependencies=d.dependencies),Wu|=m.lanes,(j&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,j=Cc(d,d.pendingProps),m.child=j,j.return=m;d.sibling!==null;)d=d.sibling,j=j.sibling=Cc(d,d.pendingProps),j.return=m;j.sibling=null}return m.child}function $te(d,m,j){switch(m.tag){case 3:SD(m),Df();break;case 5:qI(m);break;case 1:Ui(m.type)&&_x(m);break;case 4:cj(m,m.stateNode.containerInfo);break;case 10:var P=m.type._context,M=m.memoizedProps.value;Ir(Px,P._currentValue),P._currentValue=M;break;case 13:if(P=m.memoizedState,P!==null)return P.dehydrated!==null?(Ir(Qr,Qr.current&1),m.flags|=128,null):(j&m.child.childLanes)!==0?CD(d,m,j):(Ir(Qr,Qr.current&1),d=ol(d,m,j),d!==null?d.sibling:null);Ir(Qr,Qr.current&1);break;case 19:if(P=(j&m.childLanes)!==0,(d.flags&128)!==0){if(P)return PD(d,m,j);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ir(Qr,Qr.current),P)break;return null;case 22:case 23:return m.lanes=0,wD(d,m,j)}return ol(d,m,j)}var TD,kj,AD,kD;TD=function(d,m){for(var j=m.child;j!==null;){if(j.tag===5||j.tag===6)d.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===m)break;for(;j.sibling===null;){if(j.return===null||j.return===m)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},kj=function(){},AD=function(d,m,j,P){var M=d.memoizedProps;if(M!==P){d=m.stateNode,Uu(co.current);var $=null;switch(j){case"input":M=xe(d,M),P=xe(d,P),$=[];break;case"select":M=ne({},M,{value:void 0}),P=ne({},P,{value:void 0}),$=[];break;case"textarea":M=ke(d,M),P=ke(d,P),$=[];break;default:typeof M.onClick!="function"&&typeof P.onClick=="function"&&(d.onclick=ze)}Bt(j,P);var te;j=null;for(Ie in M)if(!P.hasOwnProperty(Ie)&&M.hasOwnProperty(Ie)&&M[Ie]!=null)if(Ie==="style"){var de=M[Ie];for(te in de)de.hasOwnProperty(te)&&(j||(j={}),j[te]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?$||($=[]):($=$||[]).push(Ie,null));for(Ie in P){var ve=P[Ie];if(de=M?.[Ie],P.hasOwnProperty(Ie)&&ve!==de&&(ve!=null||de!=null))if(Ie==="style")if(de){for(te in de)!de.hasOwnProperty(te)||ve&&ve.hasOwnProperty(te)||(j||(j={}),j[te]="");for(te in ve)ve.hasOwnProperty(te)&&de[te]!==ve[te]&&(j||(j={}),j[te]=ve[te])}else j||($||($=[]),$.push(Ie,j)),j=ve;else Ie==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,de=de?de.__html:void 0,ve!=null&&de!==ve&&($=$||[]).push(Ie,ve)):Ie==="children"?typeof ve!="string"&&typeof ve!="number"||($=$||[]).push(Ie,""+ve):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(ve!=null&&Ie==="onScroll"&&jr("scroll",d),$||de===ve||($=[])):($=$||[]).push(Ie,ve))}j&&($=$||[]).push("style",j);var Ie=$;(m.updateQueue=Ie)&&(m.flags|=4)}},kD=function(d,m,j,P){j!==P&&(m.flags|=4)};function Fm(d,m){if(!Gr)switch(d.tailMode){case"hidden":m=d.tail;for(var j=null;m!==null;)m.alternate!==null&&(j=m),m=m.sibling;j===null?d.tail=null:j.sibling=null;break;case"collapsed":j=d.tail;for(var P=null;j!==null;)j.alternate!==null&&(P=j),j=j.sibling;P===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:P.sibling=null}}function hi(d){var m=d.alternate!==null&&d.alternate.child===d.child,j=0,P=0;if(m)for(var M=d.child;M!==null;)j|=M.lanes|M.childLanes,P|=M.subtreeFlags&14680064,P|=M.flags&14680064,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)j|=M.lanes|M.childLanes,P|=M.subtreeFlags,P|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=P,d.childLanes=j,m}function Fte(d,m,j){var P=m.pendingProps;switch(Q1(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(m),null;case 1:return Ui(m.type)&&wx(),hi(m),null;case 3:return P=m.stateNode,Bf(),zr(qi),zr(di),fj(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(d===null||d.child===null)&&(Cx(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ya!==null&&(qj(ya),ya=null))),kj(d,m),hi(m),null;case 5:uj(m);var M=Uu(Mm.current);if(j=m.type,d!==null&&m.stateNode!=null)AD(d,m,j,P,M),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!P){if(m.stateNode===null)throw Error(r(166));return hi(m),null}if(d=Uu(co.current),Cx(m)){P=m.stateNode,j=m.type;var $=m.memoizedProps;switch(P[Us]=m,P[pc]=$,d=(m.mode&1)!==0,j){case"dialog":jr("cancel",P),jr("close",P);break;case"iframe":case"object":case"embed":jr("load",P);break;case"video":case"audio":for(M=0;M<dc.length;M++)jr(dc[M],P);break;case"source":jr("error",P);break;case"img":case"image":case"link":jr("error",P),jr("load",P);break;case"details":jr("toggle",P);break;case"input":Ve(P,$),jr("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!$.multiple},jr("invalid",P);break;case"textarea":Ze(P,$),jr("invalid",P)}Bt(j,$),M=null;for(var te in $)if($.hasOwnProperty(te)){var de=$[te];te==="children"?typeof de=="string"?P.textContent!==de&&($.suppressHydrationWarning!==!0&&Me(P.textContent,de,d),M=["children",de]):typeof de=="number"&&P.textContent!==""+de&&($.suppressHydrationWarning!==!0&&Me(P.textContent,de,d),M=["children",""+de]):i.hasOwnProperty(te)&&de!=null&&te==="onScroll"&&jr("scroll",P)}switch(j){case"input":ee(P),ot(P,$,!0);break;case"textarea":ee(P),me(P);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(P.onclick=ze)}P=M,m.updateQueue=P,P!==null&&(m.flags|=4)}else{te=M.nodeType===9?M:M.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Le(j)),d==="http://www.w3.org/1999/xhtml"?j==="script"?(d=te.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof P.is=="string"?d=te.createElement(j,{is:P.is}):(d=te.createElement(j),j==="select"&&(te=d,P.multiple?te.multiple=!0:P.size&&(te.size=P.size))):d=te.createElementNS(d,j),d[Us]=m,d[pc]=P,TD(d,m,!1,!1),m.stateNode=d;e:{switch(te=Yt(j,P),j){case"dialog":jr("cancel",d),jr("close",d),M=P;break;case"iframe":case"object":case"embed":jr("load",d),M=P;break;case"video":case"audio":for(M=0;M<dc.length;M++)jr(dc[M],d);M=P;break;case"source":jr("error",d),M=P;break;case"img":case"image":case"link":jr("error",d),jr("load",d),M=P;break;case"details":jr("toggle",d),M=P;break;case"input":Ve(d,P),M=xe(d,P),jr("invalid",d);break;case"option":M=P;break;case"select":d._wrapperState={wasMultiple:!!P.multiple},M=ne({},P,{value:void 0}),jr("invalid",d);break;case"textarea":Ze(d,P),M=ke(d,P),jr("invalid",d);break;default:M=P}Bt(j,M),de=M;for($ in de)if(de.hasOwnProperty($)){var ve=de[$];$==="style"?vt(d,ve):$==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&F(d,ve)):$==="children"?typeof ve=="string"?(j!=="textarea"||ve!=="")&&le(d,ve):typeof ve=="number"&&le(d,""+ve):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ve!=null&&$==="onScroll"&&jr("scroll",d):ve!=null&&C(d,$,ve,te))}switch(j){case"input":ee(d),ot(d,P,!1);break;case"textarea":ee(d),me(d);break;case"option":P.value!=null&&d.setAttribute("value",""+ge(P.value));break;case"select":d.multiple=!!P.multiple,$=P.value,$!=null?_e(d,!!P.multiple,$,!1):P.defaultValue!=null&&_e(d,!!P.multiple,P.defaultValue,!0);break;default:typeof M.onClick=="function"&&(d.onclick=ze)}switch(j){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return hi(m),null;case 6:if(d&&m.stateNode!=null)kD(d,m,d.memoizedProps,P);else{if(typeof P!="string"&&m.stateNode===null)throw Error(r(166));if(j=Uu(Mm.current),Uu(co.current),Cx(m)){if(P=m.stateNode,j=m.memoizedProps,P[Us]=m,($=P.nodeValue!==j)&&(d=vs,d!==null))switch(d.tag){case 3:Me(P.nodeValue,j,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Me(P.nodeValue,j,(d.mode&1)!==0)}$&&(m.flags|=4)}else P=(j.nodeType===9?j:j.ownerDocument).createTextNode(P),P[Us]=m,m.stateNode=P}return hi(m),null;case 13:if(zr(Qr),P=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Gr&&ys!==null&&(m.mode&1)!==0&&(m.flags&128)===0)MI(),Df(),m.flags|=98560,$=!1;else if($=Cx(m),P!==null&&P.dehydrated!==null){if(d===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[Us]=m}else Df(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;hi(m),$=!1}else ya!==null&&(qj(ya),ya=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=j,m):(P=P!==null,P!==(d!==null&&d.memoizedState!==null)&&P&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Qr.current&1)!==0?kn===0&&(kn=3):Wj())),m.updateQueue!==null&&(m.flags|=4),hi(m),null);case 4:return Bf(),kj(d,m),d===null&&fc(m.stateNode.containerInfo),hi(m),null;case 10:return sj(m.type._context),hi(m),null;case 17:return Ui(m.type)&&wx(),hi(m),null;case 19:if(zr(Qr),$=m.memoizedState,$===null)return hi(m),null;if(P=(m.flags&128)!==0,te=$.rendering,te===null)if(P)Fm($,!1);else{if(kn!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(te=Ox(d),te!==null){for(m.flags|=128,Fm($,!1),P=te.updateQueue,P!==null&&(m.updateQueue=P,m.flags|=4),m.subtreeFlags=0,P=j,j=m.child;j!==null;)$=j,d=P,$.flags&=14680066,te=$.alternate,te===null?($.childLanes=0,$.lanes=d,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=te.childLanes,$.lanes=te.lanes,$.child=te.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=te.memoizedProps,$.memoizedState=te.memoizedState,$.updateQueue=te.updateQueue,$.type=te.type,d=te.dependencies,$.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),j=j.sibling;return Ir(Qr,Qr.current&1|2),m.child}d=d.sibling}$.tail!==null&&Xr()>Vf&&(m.flags|=128,P=!0,Fm($,!1),m.lanes=4194304)}else{if(!P)if(d=Ox(te),d!==null){if(m.flags|=128,P=!0,j=d.updateQueue,j!==null&&(m.updateQueue=j,m.flags|=4),Fm($,!0),$.tail===null&&$.tailMode==="hidden"&&!te.alternate&&!Gr)return hi(m),null}else 2*Xr()-$.renderingStartTime>Vf&&j!==1073741824&&(m.flags|=128,P=!0,Fm($,!1),m.lanes=4194304);$.isBackwards?(te.sibling=m.child,m.child=te):(j=$.last,j!==null?j.sibling=te:m.child=te,$.last=te)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=Xr(),m.sibling=null,j=Qr.current,Ir(Qr,P?j&1|2:j&1),m):(hi(m),null);case 22:case 23:return Vj(),P=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==P&&(m.flags|=8192),P&&(m.mode&1)!==0?(xs&1073741824)!==0&&(hi(m),m.subtreeFlags&6&&(m.flags|=8192)):hi(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function Bte(d,m){switch(Q1(m),m.tag){case 1:return Ui(m.type)&&wx(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Bf(),zr(qi),zr(di),fj(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return uj(m),null;case 13:if(zr(Qr),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Df()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return zr(Qr),null;case 4:return Bf(),null;case 10:return sj(m.type._context),null;case 22:case 23:return Vj(),null;case 24:return null;default:return null}}var zx=!1,pi=!1,zte=typeof WeakSet=="function"?WeakSet:Set,lt=null;function qf(d,m){var j=d.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(P){an(d,m,P)}else j.current=null}function Oj(d,m,j){try{j()}catch(P){an(d,m,P)}}var OD=!1;function qte(d,m){if(nt=ku,d=_m(),jm(d)){if("selectionStart"in d)var j={start:d.selectionStart,end:d.selectionEnd};else e:{j=(j=d.ownerDocument)&&j.defaultView||window;var P=j.getSelection&&j.getSelection();if(P&&P.rangeCount!==0){j=P.anchorNode;var M=P.anchorOffset,$=P.focusNode;P=P.focusOffset;try{j.nodeType,$.nodeType}catch{j=null;break e}var te=0,de=-1,ve=-1,Ie=0,He=0,Ye=d,We=null;t:for(;;){for(var st;Ye!==j||M!==0&&Ye.nodeType!==3||(de=te+M),Ye!==$||P!==0&&Ye.nodeType!==3||(ve=te+P),Ye.nodeType===3&&(te+=Ye.nodeValue.length),(st=Ye.firstChild)!==null;)We=Ye,Ye=st;for(;;){if(Ye===d)break t;if(We===j&&++Ie===M&&(de=te),We===$&&++He===P&&(ve=te),(st=Ye.nextSibling)!==null)break;Ye=We,We=Ye.parentNode}Ye=st}j=de===-1||ve===-1?null:{start:de,end:ve}}else j=null}j=j||{start:0,end:0}}else j=null;for(xt={focusedElem:d,selectionRange:j},ku=!1,lt=m;lt!==null;)if(m=lt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,lt=d;else for(;lt!==null;){m=lt;try{var ut=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ft=ut.memoizedProps,un=ut.memoizedState,Te=m.stateNode,je=Te.getSnapshotBeforeUpdate(m.elementType===m.type?ft:xa(m.type,ft),un);Te.__reactInternalSnapshotBeforeUpdate=je}break;case 3:var Ae=m.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Je){an(m,m.return,Je)}if(d=m.sibling,d!==null){d.return=m.return,lt=d;break}lt=m.return}return ut=OD,OD=!1,ut}function Bm(d,m,j){var P=m.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var M=P=P.next;do{if((M.tag&d)===d){var $=M.destroy;M.destroy=void 0,$!==void 0&&Oj(m,j,$)}M=M.next}while(M!==P)}}function qx(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var j=m=m.next;do{if((j.tag&d)===d){var P=j.create;j.destroy=P()}j=j.next}while(j!==m)}}function Rj(d){var m=d.ref;if(m!==null){var j=d.stateNode;switch(d.tag){case 5:d=j;break;default:d=j}typeof m=="function"?m(d):m.current=d}}function RD(d){var m=d.alternate;m!==null&&(d.alternate=null,RD(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Us],delete m[pc],delete m[mc],delete m[G1],delete m[Z1])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function MD(d){return d.tag===5||d.tag===3||d.tag===4}function ID(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||MD(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Mj(d,m,j){var P=d.tag;if(P===5||P===6)d=d.stateNode,m?j.nodeType===8?j.parentNode.insertBefore(d,m):j.insertBefore(d,m):(j.nodeType===8?(m=j.parentNode,m.insertBefore(d,j)):(m=j,m.appendChild(d)),j=j._reactRootContainer,j!=null||m.onclick!==null||(m.onclick=ze));else if(P!==4&&(d=d.child,d!==null))for(Mj(d,m,j),d=d.sibling;d!==null;)Mj(d,m,j),d=d.sibling}function Ij(d,m,j){var P=d.tag;if(P===5||P===6)d=d.stateNode,m?j.insertBefore(d,m):j.appendChild(d);else if(P!==4&&(d=d.child,d!==null))for(Ij(d,m,j),d=d.sibling;d!==null;)Ij(d,m,j),d=d.sibling}var Qn=null,ba=!1;function wc(d,m,j){for(j=j.child;j!==null;)DD(d,m,j),j=j.sibling}function DD(d,m,j){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Nu,j)}catch{}switch(j.tag){case 5:pi||qf(j,m);case 6:var P=Qn,M=ba;Qn=null,wc(d,m,j),Qn=P,ba=M,Qn!==null&&(ba?(d=Qn,j=j.stateNode,d.nodeType===8?d.parentNode.removeChild(j):d.removeChild(j)):Qn.removeChild(j.stateNode));break;case 18:Qn!==null&&(ba?(d=Qn,j=j.stateNode,d.nodeType===8?Am(d.parentNode,j):d.nodeType===1&&Am(d,j),fs(d)):Am(Qn,j.stateNode));break;case 4:P=Qn,M=ba,Qn=j.stateNode.containerInfo,ba=!0,wc(d,m,j),Qn=P,ba=M;break;case 0:case 11:case 14:case 15:if(!pi&&(P=j.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){M=P=P.next;do{var $=M,te=$.destroy;$=$.tag,te!==void 0&&(($&2)!==0||($&4)!==0)&&Oj(j,m,te),M=M.next}while(M!==P)}wc(d,m,j);break;case 1:if(!pi&&(qf(j,m),P=j.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=j.memoizedProps,P.state=j.memoizedState,P.componentWillUnmount()}catch(de){an(j,m,de)}wc(d,m,j);break;case 21:wc(d,m,j);break;case 22:j.mode&1?(pi=(P=pi)||j.memoizedState!==null,wc(d,m,j),pi=P):wc(d,m,j);break;default:wc(d,m,j)}}function LD(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var j=d.stateNode;j===null&&(j=d.stateNode=new zte),m.forEach(function(P){var M=Xte.bind(null,d,P);j.has(P)||(j.add(P),P.then(M,M))})}}function wa(d,m){var j=m.deletions;if(j!==null)for(var P=0;P<j.length;P++){var M=j[P];try{var $=d,te=m,de=te;e:for(;de!==null;){switch(de.tag){case 5:Qn=de.stateNode,ba=!1;break e;case 3:Qn=de.stateNode.containerInfo,ba=!0;break e;case 4:Qn=de.stateNode.containerInfo,ba=!0;break e}de=de.return}if(Qn===null)throw Error(r(160));DD($,te,M),Qn=null,ba=!1;var ve=M.alternate;ve!==null&&(ve.return=null),M.return=null}catch(Ie){an(M,m,Ie)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)$D(m,d),m=m.sibling}function $D(d,m){var j=d.alternate,P=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(wa(m,d),fo(d),P&4){try{Bm(3,d,d.return),qx(3,d)}catch(ft){an(d,d.return,ft)}try{Bm(5,d,d.return)}catch(ft){an(d,d.return,ft)}}break;case 1:wa(m,d),fo(d),P&512&&j!==null&&qf(j,j.return);break;case 5:if(wa(m,d),fo(d),P&512&&j!==null&&qf(j,j.return),d.flags&32){var M=d.stateNode;try{le(M,"")}catch(ft){an(d,d.return,ft)}}if(P&4&&(M=d.stateNode,M!=null)){var $=d.memoizedProps,te=j!==null?j.memoizedProps:$,de=d.type,ve=d.updateQueue;if(d.updateQueue=null,ve!==null)try{de==="input"&&$.type==="radio"&&$.name!=null&&qe(M,$),Yt(de,te);var Ie=Yt(de,$);for(te=0;te<ve.length;te+=2){var He=ve[te],Ye=ve[te+1];He==="style"?vt(M,Ye):He==="dangerouslySetInnerHTML"?F(M,Ye):He==="children"?le(M,Ye):C(M,He,Ye,Ie)}switch(de){case"input":Ne(M,$);break;case"textarea":Xe(M,$);break;case"select":var We=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!$.multiple;var st=$.value;st!=null?_e(M,!!$.multiple,st,!1):We!==!!$.multiple&&($.defaultValue!=null?_e(M,!!$.multiple,$.defaultValue,!0):_e(M,!!$.multiple,$.multiple?[]:"",!1))}M[pc]=$}catch(ft){an(d,d.return,ft)}}break;case 6:if(wa(m,d),fo(d),P&4){if(d.stateNode===null)throw Error(r(162));M=d.stateNode,$=d.memoizedProps;try{M.nodeValue=$}catch(ft){an(d,d.return,ft)}}break;case 3:if(wa(m,d),fo(d),P&4&&j!==null&&j.memoizedState.isDehydrated)try{fs(m.containerInfo)}catch(ft){an(d,d.return,ft)}break;case 4:wa(m,d),fo(d);break;case 13:wa(m,d),fo(d),M=d.child,M.flags&8192&&($=M.memoizedState!==null,M.stateNode.isHidden=$,!$||M.alternate!==null&&M.alternate.memoizedState!==null||($j=Xr())),P&4&&LD(d);break;case 22:if(He=j!==null&&j.memoizedState!==null,d.mode&1?(pi=(Ie=pi)||He,wa(m,d),pi=Ie):wa(m,d),fo(d),P&8192){if(Ie=d.memoizedState!==null,(d.stateNode.isHidden=Ie)&&!He&&(d.mode&1)!==0)for(lt=d,He=d.child;He!==null;){for(Ye=lt=He;lt!==null;){switch(We=lt,st=We.child,We.tag){case 0:case 11:case 14:case 15:Bm(4,We,We.return);break;case 1:qf(We,We.return);var ut=We.stateNode;if(typeof ut.componentWillUnmount=="function"){P=We,j=We.return;try{m=P,ut.props=m.memoizedProps,ut.state=m.memoizedState,ut.componentWillUnmount()}catch(ft){an(P,j,ft)}}break;case 5:qf(We,We.return);break;case 22:if(We.memoizedState!==null){zD(Ye);continue}}st!==null?(st.return=We,lt=st):zD(Ye)}He=He.sibling}e:for(He=null,Ye=d;;){if(Ye.tag===5){if(He===null){He=Ye;try{M=Ye.stateNode,Ie?($=M.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(de=Ye.stateNode,ve=Ye.memoizedProps.style,te=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,de.style.display=$e("display",te))}catch(ft){an(d,d.return,ft)}}}else if(Ye.tag===6){if(He===null)try{Ye.stateNode.nodeValue=Ie?"":Ye.memoizedProps}catch(ft){an(d,d.return,ft)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===d)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===d)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===d)break e;He===Ye&&(He=null),Ye=Ye.return}He===Ye&&(He=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:wa(m,d),fo(d),P&4&&LD(d);break;case 21:break;default:wa(m,d),fo(d)}}function fo(d){var m=d.flags;if(m&2){try{e:{for(var j=d.return;j!==null;){if(MD(j)){var P=j;break e}j=j.return}throw Error(r(160))}switch(P.tag){case 5:var M=P.stateNode;P.flags&32&&(le(M,""),P.flags&=-33);var $=ID(d);Ij(d,$,M);break;case 3:case 4:var te=P.stateNode.containerInfo,de=ID(d);Mj(d,de,te);break;default:throw Error(r(161))}}catch(ve){an(d,d.return,ve)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Ute(d,m,j){lt=d,FD(d)}function FD(d,m,j){for(var P=(d.mode&1)!==0;lt!==null;){var M=lt,$=M.child;if(M.tag===22&&P){var te=M.memoizedState!==null||zx;if(!te){var de=M.alternate,ve=de!==null&&de.memoizedState!==null||pi;de=zx;var Ie=pi;if(zx=te,(pi=ve)&&!Ie)for(lt=M;lt!==null;)te=lt,ve=te.child,te.tag===22&&te.memoizedState!==null?qD(M):ve!==null?(ve.return=te,lt=ve):qD(M);for(;$!==null;)lt=$,FD($),$=$.sibling;lt=M,zx=de,pi=Ie}BD(d)}else(M.subtreeFlags&8772)!==0&&$!==null?($.return=M,lt=$):BD(d)}}function BD(d){for(;lt!==null;){var m=lt;if((m.flags&8772)!==0){var j=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:pi||qx(5,m);break;case 1:var P=m.stateNode;if(m.flags&4&&!pi)if(j===null)P.componentDidMount();else{var M=m.elementType===m.type?j.memoizedProps:xa(m.type,j.memoizedProps);P.componentDidUpdate(M,j.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&zI(m,$,P);break;case 3:var te=m.updateQueue;if(te!==null){if(j=null,m.child!==null)switch(m.child.tag){case 5:j=m.child.stateNode;break;case 1:j=m.child.stateNode}zI(m,te,j)}break;case 5:var de=m.stateNode;if(j===null&&m.flags&4){j=de;var ve=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&j.focus();break;case"img":ve.src&&(j.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ie=m.alternate;if(Ie!==null){var He=Ie.memoizedState;if(He!==null){var Ye=He.dehydrated;Ye!==null&&fs(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}pi||m.flags&512&&Rj(m)}catch(We){an(m,m.return,We)}}if(m===d){lt=null;break}if(j=m.sibling,j!==null){j.return=m.return,lt=j;break}lt=m.return}}function zD(d){for(;lt!==null;){var m=lt;if(m===d){lt=null;break}var j=m.sibling;if(j!==null){j.return=m.return,lt=j;break}lt=m.return}}function qD(d){for(;lt!==null;){var m=lt;try{switch(m.tag){case 0:case 11:case 15:var j=m.return;try{qx(4,m)}catch(ve){an(m,j,ve)}break;case 1:var P=m.stateNode;if(typeof P.componentDidMount=="function"){var M=m.return;try{P.componentDidMount()}catch(ve){an(m,M,ve)}}var $=m.return;try{Rj(m)}catch(ve){an(m,$,ve)}break;case 5:var te=m.return;try{Rj(m)}catch(ve){an(m,te,ve)}}}catch(ve){an(m,m.return,ve)}if(m===d){lt=null;break}var de=m.sibling;if(de!==null){de.return=m.return,lt=de;break}lt=m.return}}var Vte=Math.ceil,Ux=k.ReactCurrentDispatcher,Dj=k.ReactCurrentOwner,Gs=k.ReactCurrentBatchConfig,rr=0,Un=null,gn=null,ei=0,xs=0,Uf=gc(0),kn=0,zm=null,Wu=0,Vx=0,Lj=0,qm=null,Wi=null,$j=0,Vf=1/0,ll=null,Wx=!1,Fj=null,_c=null,Hx=!1,jc=null,Kx=0,Um=0,Bj=null,Gx=-1,Zx=0;function Ti(){return(rr&6)!==0?Xr():Gx!==-1?Gx:Gx=Xr()}function Sc(d){return(d.mode&1)===0?1:(rr&2)!==0&&ei!==0?ei&-ei:Ete.transition!==null?(Zx===0&&(Zx=Jy()),Zx):(d=Xt,d!==0||(d=window.event,d=d===void 0?16:Gt(d.type)),d)}function _a(d,m,j,P){if(50<Um)throw Um=0,Bj=null,Error(r(185));us(d,j,P),((rr&2)===0||d!==Un)&&(d===Un&&((rr&2)===0&&(Vx|=j),kn===4&&Nc(d,ei)),Hi(d,P),j===1&&rr===0&&(m.mode&1)===0&&(Vf=Xr()+500,jx&&yc()))}function Hi(d,m){var j=d.callbackNode;uf(d,m);var P=Mr(d,d===Un?ei:0);if(P===0)j!==null&&im(j),d.callbackNode=null,d.callbackPriority=0;else if(m=P&-P,d.callbackPriority!==m){if(j!=null&&im(j),m===1)d.tag===0?Cte(VD.bind(null,d)):TI(VD.bind(null,d)),ui(function(){(rr&6)===0&&yc()}),j=null;else{switch(Ql(P)){case 1:j=sm;break;case 4:j=Xy;break;case 16:j=lf;break;case 536870912:j=Zl;break;default:j=lf}j=JD(j,UD.bind(null,d))}d.callbackPriority=m,d.callbackNode=j}}function UD(d,m){if(Gx=-1,Zx=0,(rr&6)!==0)throw Error(r(327));var j=d.callbackNode;if(Wf()&&d.callbackNode!==j)return null;var P=Mr(d,d===Un?ei:0);if(P===0)return null;if((P&30)!==0||(P&d.expiredLanes)!==0||m)m=Yx(d,P);else{m=P;var M=rr;rr|=2;var $=HD();(Un!==d||ei!==m)&&(ll=null,Vf=Xr()+500,Ku(d,m));do try{Kte();break}catch(de){WD(d,de)}while(!0);ij(),Ux.current=$,rr=M,gn!==null?m=0:(Un=null,ei=0,m=kn)}if(m!==0){if(m===2&&(M=li(d),M!==0&&(P=M,m=zj(d,M))),m===1)throw j=zm,Ku(d,0),Nc(d,P),Hi(d,Xr()),j;if(m===6)Nc(d,P);else{if(M=d.current.alternate,(P&30)===0&&!Wte(M)&&(m=Yx(d,P),m===2&&($=li(d),$!==0&&(P=$,m=zj(d,$))),m===1))throw j=zm,Ku(d,0),Nc(d,P),Hi(d,Xr()),j;switch(d.finishedWork=M,d.finishedLanes=P,m){case 0:case 1:throw Error(r(345));case 2:Gu(d,Wi,ll);break;case 3:if(Nc(d,P),(P&130023424)===P&&(m=$j+500-Xr(),10<m)){if(Mr(d,0)!==0)break;if(M=d.suspendedLanes,(M&P)!==P){Ti(),d.pingedLanes|=d.suspendedLanes&M;break}d.timeoutHandle=Tn(Gu.bind(null,d,Wi,ll),m);break}Gu(d,Wi,ll);break;case 4:if(Nc(d,P),(P&4194240)===P)break;for(m=d.eventTimes,M=-1;0<P;){var te=31-kt(P);$=1<<te,te=m[te],te>M&&(M=te),P&=~$}if(P=M,P=Xr()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*Vte(P/1960))-P,10<P){d.timeoutHandle=Tn(Gu.bind(null,d,Wi,ll),P);break}Gu(d,Wi,ll);break;case 5:Gu(d,Wi,ll);break;default:throw Error(r(329))}}}return Hi(d,Xr()),d.callbackNode===j?UD.bind(null,d):null}function zj(d,m){var j=qm;return d.current.memoizedState.isDehydrated&&(Ku(d,m).flags|=256),d=Yx(d,m),d!==2&&(m=Wi,Wi=j,m!==null&&qj(m)),d}function qj(d){Wi===null?Wi=d:Wi.push.apply(Wi,d)}function Wte(d){for(var m=d;;){if(m.flags&16384){var j=m.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var P=0;P<j.length;P++){var M=j[P],$=M.getSnapshot;M=M.value;try{if(!ms($(),M))return!1}catch{return!1}}}if(j=m.child,m.subtreeFlags&16384&&j!==null)j.return=m,m=j;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Nc(d,m){for(m&=~Lj,m&=~Vx,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var j=31-kt(m),P=1<<j;d[j]=-1,m&=~P}}function VD(d){if((rr&6)!==0)throw Error(r(327));Wf();var m=Mr(d,0);if((m&1)===0)return Hi(d,Xr()),null;var j=Yx(d,m);if(d.tag!==0&&j===2){var P=li(d);P!==0&&(m=P,j=zj(d,P))}if(j===1)throw j=zm,Ku(d,0),Nc(d,m),Hi(d,Xr()),j;if(j===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Gu(d,Wi,ll),Hi(d,Xr()),null}function Uj(d,m){var j=rr;rr|=1;try{return d(m)}finally{rr=j,rr===0&&(Vf=Xr()+500,jx&&yc())}}function Hu(d){jc!==null&&jc.tag===0&&(rr&6)===0&&Wf();var m=rr;rr|=1;var j=Gs.transition,P=Xt;try{if(Gs.transition=null,Xt=1,d)return d()}finally{Xt=P,Gs.transition=j,rr=m,(rr&6)===0&&yc()}}function Vj(){xs=Uf.current,zr(Uf)}function Ku(d,m){d.finishedWork=null,d.finishedLanes=0;var j=d.timeoutHandle;if(j!==-1&&(d.timeoutHandle=-1,mn(j)),gn!==null)for(j=gn.return;j!==null;){var P=j;switch(Q1(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&wx();break;case 3:Bf(),zr(qi),zr(di),fj();break;case 5:uj(P);break;case 4:Bf();break;case 13:zr(Qr);break;case 19:zr(Qr);break;case 10:sj(P.type._context);break;case 22:case 23:Vj()}j=j.return}if(Un=d,gn=d=Cc(d.current,null),ei=xs=m,kn=0,zm=null,Lj=Vx=Wu=0,Wi=qm=null,qu!==null){for(m=0;m<qu.length;m++)if(j=qu[m],P=j.interleaved,P!==null){j.interleaved=null;var M=P.next,$=j.pending;if($!==null){var te=$.next;$.next=M,P.next=te}j.pending=P}qu=null}return d}function WD(d,m){do{var j=gn;try{if(ij(),Rx.current=Lx,Mx){for(var P=en.memoizedState;P!==null;){var M=P.queue;M!==null&&(M.pending=null),P=P.next}Mx=!1}if(Vu=0,qn=An=en=null,Im=!1,Dm=0,Dj.current=null,j===null||j.return===null){kn=1,zm=m,gn=null;break}e:{var $=d,te=j.return,de=j,ve=m;if(m=ei,de.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ie=ve,He=de,Ye=He.tag;if((He.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var We=He.alternate;We?(He.updateQueue=We.updateQueue,He.memoizedState=We.memoizedState,He.lanes=We.lanes):(He.updateQueue=null,He.memoizedState=null)}var st=gD(te);if(st!==null){st.flags&=-257,vD(st,te,de,$,m),st.mode&1&&mD($,Ie,m),m=st,ve=Ie;var ut=m.updateQueue;if(ut===null){var ft=new Set;ft.add(ve),m.updateQueue=ft}else ut.add(ve);break e}else{if((m&1)===0){mD($,Ie,m),Wj();break e}ve=Error(r(426))}}else if(Gr&&de.mode&1){var un=gD(te);if(un!==null){(un.flags&65536)===0&&(un.flags|=256),vD(un,te,de,$,m),rj(zf(ve,de));break e}}$=ve=zf(ve,de),kn!==4&&(kn=2),qm===null?qm=[$]:qm.push($),$=te;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var Te=hD($,ve,m);BI($,Te);break e;case 1:de=ve;var je=$.type,Ae=$.stateNode;if(($.flags&128)===0&&(typeof je.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(_c===null||!_c.has(Ae)))){$.flags|=65536,m&=-m,$.lanes|=m;var Je=pD($,de,m);BI($,Je);break e}}$=$.return}while($!==null)}GD(j)}catch(mt){m=mt,gn===j&&j!==null&&(gn=j=j.return);continue}break}while(!0)}function HD(){var d=Ux.current;return Ux.current=Lx,d===null?Lx:d}function Wj(){(kn===0||kn===3||kn===2)&&(kn=4),Un===null||(Wu&268435455)===0&&(Vx&268435455)===0||Nc(Un,ei)}function Yx(d,m){var j=rr;rr|=2;var P=HD();(Un!==d||ei!==m)&&(ll=null,Ku(d,m));do try{Hte();break}catch(M){WD(d,M)}while(!0);if(ij(),rr=j,Ux.current=P,gn!==null)throw Error(r(261));return Un=null,ei=0,kn}function Hte(){for(;gn!==null;)KD(gn)}function Kte(){for(;gn!==null&&!O1();)KD(gn)}function KD(d){var m=XD(d.alternate,d,xs);d.memoizedProps=d.pendingProps,m===null?GD(d):gn=m,Dj.current=null}function GD(d){var m=d;do{var j=m.alternate;if(d=m.return,(m.flags&32768)===0){if(j=Fte(j,m,xs),j!==null){gn=j;return}}else{if(j=Bte(j,m),j!==null){j.flags&=32767,gn=j;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{kn=6,gn=null;return}}if(m=m.sibling,m!==null){gn=m;return}gn=m=d}while(m!==null);kn===0&&(kn=5)}function Gu(d,m,j){var P=Xt,M=Gs.transition;try{Gs.transition=null,Xt=1,Gte(d,m,j,P)}finally{Gs.transition=M,Xt=P}return null}function Gte(d,m,j,P){do Wf();while(jc!==null);if((rr&6)!==0)throw Error(r(327));j=d.finishedWork;var M=d.finishedLanes;if(j===null)return null;if(d.finishedWork=null,d.finishedLanes=0,j===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var $=j.lanes|j.childLanes;if(sn(d,$),d===Un&&(gn=Un=null,ei=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||Hx||(Hx=!0,JD(lf,function(){return Wf(),null})),$=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||$){$=Gs.transition,Gs.transition=null;var te=Xt;Xt=1;var de=rr;rr|=4,Dj.current=null,qte(d,j),$D(j,d),zs(xt),ku=!!nt,xt=nt=null,d.current=j,Ute(j),of(),rr=de,Xt=te,Gs.transition=$}else d.current=j;if(Hx&&(Hx=!1,jc=d,Kx=M),$=d.pendingLanes,$===0&&(_c=null),Cu(j.stateNode),Hi(d,Xr()),m!==null)for(P=d.onRecoverableError,j=0;j<m.length;j++)M=m[j],P(M.value,{componentStack:M.stack,digest:M.digest});if(Wx)throw Wx=!1,d=Fj,Fj=null,d;return(Kx&1)!==0&&d.tag!==0&&Wf(),$=d.pendingLanes,($&1)!==0?d===Bj?Um++:(Um=0,Bj=d):Um=0,yc(),null}function Wf(){if(jc!==null){var d=Ql(Kx),m=Gs.transition,j=Xt;try{if(Gs.transition=null,Xt=16>d?16:d,jc===null)var P=!1;else{if(d=jc,jc=null,Kx=0,(rr&6)!==0)throw Error(r(331));var M=rr;for(rr|=4,lt=d.current;lt!==null;){var $=lt,te=$.child;if((lt.flags&16)!==0){var de=$.deletions;if(de!==null){for(var ve=0;ve<de.length;ve++){var Ie=de[ve];for(lt=Ie;lt!==null;){var He=lt;switch(He.tag){case 0:case 11:case 15:Bm(8,He,$)}var Ye=He.child;if(Ye!==null)Ye.return=He,lt=Ye;else for(;lt!==null;){He=lt;var We=He.sibling,st=He.return;if(RD(He),He===Ie){lt=null;break}if(We!==null){We.return=st,lt=We;break}lt=st}}}var ut=$.alternate;if(ut!==null){var ft=ut.child;if(ft!==null){ut.child=null;do{var un=ft.sibling;ft.sibling=null,ft=un}while(ft!==null)}}lt=$}}if(($.subtreeFlags&2064)!==0&&te!==null)te.return=$,lt=te;else e:for(;lt!==null;){if($=lt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Bm(9,$,$.return)}var Te=$.sibling;if(Te!==null){Te.return=$.return,lt=Te;break e}lt=$.return}}var je=d.current;for(lt=je;lt!==null;){te=lt;var Ae=te.child;if((te.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=te,lt=Ae;else e:for(te=je;lt!==null;){if(de=lt,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:qx(9,de)}}catch(mt){an(de,de.return,mt)}if(de===te){lt=null;break e}var Je=de.sibling;if(Je!==null){Je.return=de.return,lt=Je;break e}lt=de.return}}if(rr=M,yc(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(Nu,d)}catch{}P=!0}return P}finally{Xt=j,Gs.transition=m}}return!1}function ZD(d,m,j){m=zf(j,m),m=hD(d,m,1),d=bc(d,m,1),m=Ti(),d!==null&&(us(d,1,m),Hi(d,m))}function an(d,m,j){if(d.tag===3)ZD(d,d,j);else for(;m!==null;){if(m.tag===3){ZD(m,d,j);break}else if(m.tag===1){var P=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(_c===null||!_c.has(P))){d=zf(j,d),d=pD(m,d,1),m=bc(m,d,1),d=Ti(),m!==null&&(us(m,1,d),Hi(m,d));break}}m=m.return}}function Zte(d,m,j){var P=d.pingCache;P!==null&&P.delete(m),m=Ti(),d.pingedLanes|=d.suspendedLanes&j,Un===d&&(ei&j)===j&&(kn===4||kn===3&&(ei&130023424)===ei&&500>Xr()-$j?Ku(d,0):Lj|=j),Hi(d,m)}function YD(d,m){m===0&&((d.mode&1)===0?m=1:(m=Xl,Xl<<=1,(Xl&130023424)===0&&(Xl=4194304)));var j=Ti();d=sl(d,m),d!==null&&(us(d,m,j),Hi(d,j))}function Yte(d){var m=d.memoizedState,j=0;m!==null&&(j=m.retryLane),YD(d,j)}function Xte(d,m){var j=0;switch(d.tag){case 13:var P=d.stateNode,M=d.memoizedState;M!==null&&(j=M.retryLane);break;case 19:P=d.stateNode;break;default:throw Error(r(314))}P!==null&&P.delete(m),YD(d,j)}var XD;XD=function(d,m,j){if(d!==null)if(d.memoizedProps!==m.pendingProps||qi.current)Vi=!0;else{if((d.lanes&j)===0&&(m.flags&128)===0)return Vi=!1,$te(d,m,j);Vi=(d.flags&131072)!==0}else Vi=!1,Gr&&(m.flags&1048576)!==0&&AI(m,Nx,m.index);switch(m.lanes=0,m.tag){case 2:var P=m.type;Bx(d,m),d=m.pendingProps;var M=Rf(m,di.current);Ff(m,j),M=mj(null,m,P,d,M,j);var $=gj();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Ui(P)?($=!0,_x(m)):$=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,lj(m),M.updater=$x,m.stateNode=M,M._reactInternals=m,_j(m,P,d,j),m=Cj(null,m,P,!0,$,j)):(m.tag=0,Gr&&$&&J1(m),Pi(null,m,M,j),m=m.child),m;case 16:P=m.elementType;e:{switch(Bx(d,m),d=m.pendingProps,M=P._init,P=M(P._payload),m.type=P,M=m.tag=Qte(P),d=xa(P,d),M){case 0:m=Nj(null,m,P,d,j);break e;case 1:m=jD(null,m,P,d,j);break e;case 11:m=yD(null,m,P,d,j);break e;case 14:m=xD(null,m,P,xa(P.type,d),j);break e}throw Error(r(306,P,""))}return m;case 0:return P=m.type,M=m.pendingProps,M=m.elementType===P?M:xa(P,M),Nj(d,m,P,M,j);case 1:return P=m.type,M=m.pendingProps,M=m.elementType===P?M:xa(P,M),jD(d,m,P,M,j);case 3:e:{if(SD(m),d===null)throw Error(r(387));P=m.pendingProps,$=m.memoizedState,M=$.element,FI(d,m),kx(m,P,null,j);var te=m.memoizedState;if(P=te.element,$.isDehydrated)if($={element:P,isDehydrated:!1,cache:te.cache,pendingSuspenseBoundaries:te.pendingSuspenseBoundaries,transitions:te.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){M=zf(Error(r(423)),m),m=ND(d,m,P,j,M);break e}else if(P!==M){M=zf(Error(r(424)),m),m=ND(d,m,P,j,M);break e}else for(ys=lo(m.stateNode.containerInfo.firstChild),vs=m,Gr=!0,ya=null,j=LI(m,null,P,j),m.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Df(),P===M){m=ol(d,m,j);break e}Pi(d,m,P,j)}m=m.child}return m;case 5:return qI(m),d===null&&tj(m),P=m.type,M=m.pendingProps,$=d!==null?d.memoizedProps:null,te=M.children,Dt(P,M)?te=null:$!==null&&Dt(P,$)&&(m.flags|=32),_D(d,m),Pi(d,m,te,j),m.child;case 6:return d===null&&tj(m),null;case 13:return CD(d,m,j);case 4:return cj(m,m.stateNode.containerInfo),P=m.pendingProps,d===null?m.child=Lf(m,null,P,j):Pi(d,m,P,j),m.child;case 11:return P=m.type,M=m.pendingProps,M=m.elementType===P?M:xa(P,M),yD(d,m,P,M,j);case 7:return Pi(d,m,m.pendingProps,j),m.child;case 8:return Pi(d,m,m.pendingProps.children,j),m.child;case 12:return Pi(d,m,m.pendingProps.children,j),m.child;case 10:e:{if(P=m.type._context,M=m.pendingProps,$=m.memoizedProps,te=M.value,Ir(Px,P._currentValue),P._currentValue=te,$!==null)if(ms($.value,te)){if($.children===M.children&&!qi.current){m=ol(d,m,j);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var de=$.dependencies;if(de!==null){te=$.child;for(var ve=de.firstContext;ve!==null;){if(ve.context===P){if($.tag===1){ve=al(-1,j&-j),ve.tag=2;var Ie=$.updateQueue;if(Ie!==null){Ie=Ie.shared;var He=Ie.pending;He===null?ve.next=ve:(ve.next=He.next,He.next=ve),Ie.pending=ve}}$.lanes|=j,ve=$.alternate,ve!==null&&(ve.lanes|=j),aj($.return,j,m),de.lanes|=j;break}ve=ve.next}}else if($.tag===10)te=$.type===m.type?null:$.child;else if($.tag===18){if(te=$.return,te===null)throw Error(r(341));te.lanes|=j,de=te.alternate,de!==null&&(de.lanes|=j),aj(te,j,m),te=$.sibling}else te=$.child;if(te!==null)te.return=$;else for(te=$;te!==null;){if(te===m){te=null;break}if($=te.sibling,$!==null){$.return=te.return,te=$;break}te=te.return}$=te}Pi(d,m,M.children,j),m=m.child}return m;case 9:return M=m.type,P=m.pendingProps.children,Ff(m,j),M=Hs(M),P=P(M),m.flags|=1,Pi(d,m,P,j),m.child;case 14:return P=m.type,M=xa(P,m.pendingProps),M=xa(P.type,M),xD(d,m,P,M,j);case 15:return bD(d,m,m.type,m.pendingProps,j);case 17:return P=m.type,M=m.pendingProps,M=m.elementType===P?M:xa(P,M),Bx(d,m),m.tag=1,Ui(P)?(d=!0,_x(m)):d=!1,Ff(m,j),dD(m,P,M),_j(m,P,M,j),Cj(null,m,P,!0,d,j);case 19:return PD(d,m,j);case 22:return wD(d,m,j)}throw Error(r(156,m.tag))};function JD(d,m){return Yy(d,m)}function Jte(d,m,j,P){this.tag=d,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(d,m,j,P){return new Jte(d,m,j,P)}function Hj(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Qte(d){if(typeof d=="function")return Hj(d)?1:0;if(d!=null){if(d=d.$$typeof,d===U)return 11;if(d===re)return 14}return 2}function Cc(d,m){var j=d.alternate;return j===null?(j=Zs(d.tag,m,d.key,d.mode),j.elementType=d.elementType,j.type=d.type,j.stateNode=d.stateNode,j.alternate=d,d.alternate=j):(j.pendingProps=m,j.type=d.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=d.flags&14680064,j.childLanes=d.childLanes,j.lanes=d.lanes,j.child=d.child,j.memoizedProps=d.memoizedProps,j.memoizedState=d.memoizedState,j.updateQueue=d.updateQueue,m=d.dependencies,j.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},j.sibling=d.sibling,j.index=d.index,j.ref=d.ref,j}function Xx(d,m,j,P,M,$){var te=2;if(P=d,typeof d=="function")Hj(d)&&(te=1);else if(typeof d=="string")te=5;else e:switch(d){case O:return Zu(j.children,M,$,m);case I:te=8,M|=8;break;case q:return d=Zs(12,j,m,M|2),d.elementType=q,d.lanes=$,d;case z:return d=Zs(13,j,m,M),d.elementType=z,d.lanes=$,d;case H:return d=Zs(19,j,m,M),d.elementType=H,d.lanes=$,d;case W:return Jx(j,M,$,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case Z:te=10;break e;case V:te=9;break e;case U:te=11;break e;case re:te=14;break e;case se:te=16,P=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return m=Zs(te,j,m,M),m.elementType=d,m.type=P,m.lanes=$,m}function Zu(d,m,j,P){return d=Zs(7,d,P,m),d.lanes=j,d}function Jx(d,m,j,P){return d=Zs(22,d,P,m),d.elementType=W,d.lanes=j,d.stateNode={isHidden:!1},d}function Kj(d,m,j){return d=Zs(6,d,null,m),d.lanes=j,d}function Gj(d,m,j){return m=Zs(4,d.children!==null?d.children:[],d.key,m),m.lanes=j,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function ere(d,m,j,P,M){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=P,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function Zj(d,m,j,P,M,$,te,de,ve){return d=new ere(d,m,j,de,ve),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Zs(3,null,null,m),d.current=$,$.stateNode=d,$.memoizedState={element:P,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},lj($),d}function tre(d,m,j){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:P==null?null:""+P,children:d,containerInfo:m,implementation:j}}function QD(d){if(!d)return vc;d=d._reactInternals;e:{if(eo(d)!==d||d.tag!==1)throw Error(r(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Ui(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(d.tag===1){var j=d.type;if(Ui(j))return EI(d,j,m)}return m}function eL(d,m,j,P,M,$,te,de,ve){return d=Zj(j,P,!0,d,M,$,te,de,ve),d.context=QD(null),j=d.current,P=Ti(),M=Sc(j),$=al(P,M),$.callback=m??null,bc(j,$,M),d.current.lanes=M,us(d,M,P),Hi(d,P),d}function Qx(d,m,j,P){var M=m.current,$=Ti(),te=Sc(M);return j=QD(j),m.context===null?m.context=j:m.pendingContext=j,m=al($,te),m.payload={element:d},P=P===void 0?null:P,P!==null&&(m.callback=P),d=bc(M,m,te),d!==null&&(_a(d,M,te,$),Ax(d,M,te)),te}function e0(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function tL(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var j=d.retryLane;d.retryLane=j!==0&&j<m?j:m}}function Yj(d,m){tL(d,m),(d=d.alternate)&&tL(d,m)}function rre(){return null}var rL=typeof reportError=="function"?reportError:function(d){console.error(d)};function Xj(d){this._internalRoot=d}t0.prototype.render=Xj.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(r(409));Qx(d,m,null,null)},t0.prototype.unmount=Xj.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Hu(function(){Qx(null,d,null,null)}),m[mr]=null}};function t0(d){this._internalRoot=d}t0.prototype.unstable_scheduleHydration=function(d){if(d){var m=hf();d={blockedOn:null,target:d,priority:m};for(var j=0;j<Pn.length&&m!==0&&m<Pn[j].priority;j++);Pn.splice(j,0,d),j===0&&pf(d)}};function Jj(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function r0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function nL(){}function nre(d,m,j,P,M){if(M){if(typeof P=="function"){var $=P;P=function(){var Ie=e0(te);$.call(Ie)}}var te=eL(m,P,d,0,null,!1,!1,"",nL);return d._reactRootContainer=te,d[mr]=te.current,fc(d.nodeType===8?d.parentNode:d),Hu(),te}for(;M=d.lastChild;)d.removeChild(M);if(typeof P=="function"){var de=P;P=function(){var Ie=e0(ve);de.call(Ie)}}var ve=Zj(d,0,!1,null,null,!1,!1,"",nL);return d._reactRootContainer=ve,d[mr]=ve.current,fc(d.nodeType===8?d.parentNode:d),Hu(function(){Qx(m,ve,j,P)}),ve}function n0(d,m,j,P,M){var $=j._reactRootContainer;if($){var te=$;if(typeof M=="function"){var de=M;M=function(){var ve=e0(te);de.call(ve)}}Qx(m,te,d,M)}else te=nre(j,m,d,M,P);return e0(te)}df=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var j=Pt(m.pendingLanes);j!==0&&(ha(m,j|1),Hi(m,Xr()),(rr&6)===0&&(Vf=Xr()+500,yc()))}break;case 13:Hu(function(){var P=sl(d,1);if(P!==null){var M=Ti();_a(P,d,1,M)}}),Yj(d,1)}},Vo=function(d){if(d.tag===13){var m=sl(d,134217728);if(m!==null){var j=Ti();_a(m,d,134217728,j)}Yj(d,134217728)}},ff=function(d){if(d.tag===13){var m=Sc(d),j=sl(d,m);if(j!==null){var P=Ti();_a(j,d,m,P)}Yj(d,m)}},hf=function(){return Xt},Eu=function(d,m){var j=Xt;try{return Xt=d,m()}finally{Xt=j}},qo=function(d,m,j){switch(m){case"input":if(Ne(d,j),m=j.name,j.type==="radio"&&m!=null){for(j=d;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<j.length;m++){var P=j[m];if(P!==d&&P.form===d.form){var M=kf(P);if(!M)throw Error(r(90));G(P),Ne(P,M)}}}break;case"textarea":Xe(d,j);break;case"select":m=j.value,m!=null&&_e(d,!!j.multiple,m,!1)}},tr=Uj,xr=Hu;var ire={usingClientEntryPoint:!1,Events:[el,tl,kf,sf,Nt,Uj]},Vm={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sre={bundleType:Vm.bundleType,version:Vm.version,rendererPackageName:Vm.rendererPackageName,rendererConfig:Vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Gy(d),d===null?null:d.stateNode},findFiberByHostInstance:Vm.findFiberByHostInstance||rre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{Nu=i0.inject(sre),cs=i0}catch{}}return Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ire,Ki.createPortal=function(d,m){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jj(m))throw Error(r(200));return tre(d,m,null,j)},Ki.createRoot=function(d,m){if(!Jj(d))throw Error(r(299));var j=!1,P="",M=rL;return m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=Zj(d,1,!1,null,null,j,!1,P,M),d[mr]=m.current,fc(d.nodeType===8?d.parentNode:d),new Xj(m)},Ki.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Gy(m),d=d===null?null:d.stateNode,d},Ki.flushSync=function(d){return Hu(d)},Ki.hydrate=function(d,m,j){if(!r0(m))throw Error(r(200));return n0(null,d,m,!0,j)},Ki.hydrateRoot=function(d,m,j){if(!Jj(d))throw Error(r(405));var P=j!=null&&j.hydratedSources||null,M=!1,$="",te=rL;if(j!=null&&(j.unstable_strictMode===!0&&(M=!0),j.identifierPrefix!==void 0&&($=j.identifierPrefix),j.onRecoverableError!==void 0&&(te=j.onRecoverableError)),m=eL(m,null,d,1,j??null,M,!1,$,te),d[mr]=m.current,fc(d),P)for(d=0;d<P.length;d++)j=P[d],M=j._getVersion,M=M(j._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[j,M]:m.mutableSourceEagerHydrationData.push(j,M);return new t0(m)},Ki.render=function(d,m,j){if(!r0(m))throw Error(r(200));return n0(null,d,m,!1,j)},Ki.unmountComponentAtNode=function(d){if(!r0(d))throw Error(r(40));return d._reactRootContainer?(Hu(function(){n0(null,null,d,!1,function(){d._reactRootContainer=null,d[mr]=null})}),!0):!1},Ki.unstable_batchedUpdates=Uj,Ki.unstable_renderSubtreeIntoContainer=function(d,m,j,P){if(!r0(j))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return n0(d,m,j,!1,P)},Ki.version="18.3.1-next-f1338f8080-20240426",Ki}var dL;function zU(){if(dL)return tS.exports;dL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tS.exports=hre(),tS.exports}var fL;function pre(){if(fL)return s0;fL=1;var e=zU();return s0.createRoot=e.createRoot,s0.hydrateRoot=e.hydrateRoot,s0}var mre=pre();const gre=pr(mre);var Za=zU();const r_=pr(Za);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}var Gc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gc||(Gc={}));const hL="popstate";function vre(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return D2("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:mb(i)}return xre(t,r,null,e)}function nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yre(){return Math.random().toString(36).substr(2,8)}function pL(e,t){return{usr:e.state,key:e.key,idx:t}}function D2(e,t,r,n){return r===void 0&&(r=null),Zg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Np(t):t,{state:r,key:t&&t.key||n||yre()})}function mb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Np(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function xre(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Gc.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Zg({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Gc.Pop;let _=f(),S=_==null?null:_-u;u=_,c&&c({action:l,location:y.location,delta:S})}function g(_,S){l=Gc.Push;let N=D2(y.location,_,S);u=f()+1;let C=pL(N,u),k=y.createHref(N);try{o.pushState(C,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(k)}s&&c&&c({action:l,location:y.location,delta:1})}function v(_,S){l=Gc.Replace;let N=D2(y.location,_,S);u=f();let C=pL(N,u),k=y.createHref(N);o.replaceState(C,"",k),s&&c&&c({action:l,location:y.location,delta:0})}function w(_){let S=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:mb(_);return N=N.replace(/ $/,"%20"),nn(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let y={get action(){return l},get location(){return e(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(hL,p),c=_,()=>{i.removeEventListener(hL,p),c=null}},createHref(_){return t(i,_)},createURL:w,encodeLocation(_){let S=w(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(_){return o.go(_)}};return y}var mL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mL||(mL={}));function bre(e,t,r){return r===void 0&&(r="/"),wre(e,t,r)}function wre(e,t,r,n){let i=typeof t=="string"?Np(t):t,s=$h(i.pathname||"/",r);if(s==null)return null;let o=UU(e);_re(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Rre(s);l=kre(o[c],u)}return l}function UU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(nn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xc([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(nn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UU(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Tre(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of VU(s.path))i(s,o,c)}),t}function VU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=VU(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _re(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Are(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jre=/^:[\w-]+$/,Sre=3,Nre=2,Cre=1,Ere=10,Pre=-2,gL=e=>e==="*";function Tre(e,t){let r=e.split("/"),n=r.length;return r.some(gL)&&(n+=Pre),t&&(n+=Nre),r.filter(i=>!gL(i)).reduce((i,s)=>i+(jre.test(s)?Sre:s===""?Cre:Ere),n)}function Are(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function kre(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=L2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Xc([s,p.pathname]),pathnameBase:Lre(Xc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Xc([s,p.pathnameBase]))}return o}function L2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ore(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,f,p)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let y=l[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[p];return v&&!w?u[g]=void 0:u[g]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Ore(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Rre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $h(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Mre(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Np(e):e;return{pathname:r?r.startsWith("/")?r:Ire(r,t):t,search:$re(n),hash:Fre(i)}}function Ire(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function iS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dre(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wk(e,t){let r=Dre(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hk(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Np(e):(i=Zg({},e),nn(!i.pathname||!i.pathname.includes("?"),iS("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),iS("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),iS("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?t[p]:"/"}let c=Mre(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Xc=e=>e.join("/").replace(/\/\/+/g,"/"),Lre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$re=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const WU=["post","put","patch","delete"];new Set(WU);const zre=["get",...WU];new Set(zre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}const n_=x.createContext(null),HU=x.createContext(null),zl=x.createContext(null),i_=x.createContext(null),$o=x.createContext({outlet:null,matches:[],isDataRoute:!1}),KU=x.createContext(null);function qre(e,t){let{relative:r}=t===void 0?{}:t;Cp()||nn(!1);let{basename:n,navigator:i}=x.useContext(zl),{hash:s,pathname:o,search:l}=s_(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Xc([n,o])),i.createHref({pathname:c,search:l,hash:s})}function Cp(){return x.useContext(i_)!=null}function Si(){return Cp()||nn(!1),x.useContext(i_).location}function GU(e){x.useContext(zl).static||x.useLayoutEffect(e)}function Fn(){let{isDataRoute:e}=x.useContext($o);return e?nne():Ure()}function Ure(){Cp()||nn(!1);let e=x.useContext(n_),{basename:t,future:r,navigator:n}=x.useContext(zl),{matches:i}=x.useContext($o),{pathname:s}=Si(),o=JSON.stringify(Wk(i,r.v7_relativeSplatPath)),l=x.useRef(!1);return GU(()=>{l.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=Hk(u,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Xc([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,s,e])}const Vre=x.createContext(null);function Wre(e){let t=x.useContext($o).outlet;return t&&x.createElement(Vre.Provider,{value:e},t)}function Kk(){let{matches:e}=x.useContext($o),t=e[e.length-1];return t?t.params:{}}function s_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(zl),{matches:i}=x.useContext($o),{pathname:s}=Si(),o=JSON.stringify(Wk(i,n.v7_relativeSplatPath));return x.useMemo(()=>Hk(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Hre(e,t){return Kre(e,t)}function Kre(e,t,r,n){Cp()||nn(!1);let{navigator:i}=x.useContext(zl),{matches:s}=x.useContext($o),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Si(),f;if(t){var p;let _=typeof t=="string"?Np(t):t;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||nn(!1),f=_}else f=u;let g=f.pathname||"/",v=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=bre(e,{pathname:v}),y=Jre(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Xc([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Xc([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return t&&y?x.createElement(i_.Provider,{value:{location:Yg({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Gc.Pop}},y):y}function Gre(){let e=rne(),t=Bre(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,null)}const Zre=x.createElement(Gre,null);class Yre extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement($o.Provider,{value:this.props.routeContext},x.createElement(KU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xre(e){let{routeContext:t,match:r,children:n}=e,i=x.useContext(n_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement($o.Provider,{value:t},n)}function Jre(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);f>=0||nn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:v}=r,w=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,w=!1,y=null,_=null;r&&(v=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||Zre,c&&(u<0&&g===0?(ine("route-fallback"),w=!0,_=null):u===g&&(w=!0,_=p.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,g+1)),N=()=>{let C;return v?C=y:w?C=_:p.route.Component?C=x.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,x.createElement(Xre,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(Yre,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var ZU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZU||{}),YU=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(YU||{});function Qre(e){let t=x.useContext(n_);return t||nn(!1),t}function ene(e){let t=x.useContext(HU);return t||nn(!1),t}function tne(e){let t=x.useContext($o);return t||nn(!1),t}function XU(e){let t=tne(),r=t.matches[t.matches.length-1];return r.route.id||nn(!1),r.route.id}function rne(){var e;let t=x.useContext(KU),r=ene(),n=XU();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function nne(){let{router:e}=Qre(ZU.UseNavigateStable),t=XU(YU.UseNavigateStable),r=x.useRef(!1);return GU(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yg({fromRouteId:t},s)))},[e,t])}const vL={};function ine(e,t,r){vL[e]||(vL[e]=!0)}function sne(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function yL(e){let{to:t,replace:r,state:n,relative:i}=e;Cp()||nn(!1);let{future:s,static:o}=x.useContext(zl),{matches:l}=x.useContext($o),{pathname:c}=Si(),u=Fn(),f=Hk(t,Wk(l,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(f);return x.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:i}),[u,p,i,r,n]),null}function JU(e){return Wre(e.context)}function Ft(e){nn(!1)}function ane(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Gc.Pop,navigator:s,static:o=!1,future:l}=e;Cp()&&nn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Yg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Np(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:w="default"}=n,y=x.useMemo(()=>{let _=$h(f,c);return _==null?null:{location:{pathname:_,search:p,hash:g,state:v,key:w},navigationType:i}},[c,f,p,g,v,w,i]);return y==null?null:x.createElement(zl.Provider,{value:u},x.createElement(i_.Provider,{children:r,value:y}))}function one(e){let{children:t,location:r}=e;return Hre($2(t),r)}new Promise(()=>{});function $2(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let s=[...t,i];if(n.type===x.Fragment){r.push.apply(r,$2(n.props.children,s));return}n.type!==Ft&&nn(!1),!n.props.index||!n.props.children||nn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$2(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}function QU(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function lne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cne(e,t){return e.button===0&&(!t||t==="_self")&&!lne(e)}function F2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function une(e,t){let r=F2(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const dne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fne=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],hne="6";try{window.__reactRouterVersion=hne}catch{}const pne=x.createContext({isTransitioning:!1}),mne="startTransition",xL=su[mne];function gne(e){let{basename:t,children:r,future:n,window:i}=e,s=x.useRef();s.current==null&&(s.current=vre({window:i,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=x.useCallback(p=>{u&&xL?xL(()=>c(p)):c(p)},[c,u]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.useEffect(()=>sne(n),[n]),x.createElement(ane,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const vne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ir=x.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:p}=t,g=QU(t,dne),{basename:v}=x.useContext(zl),w,y=!1;if(typeof u=="string"&&yne.test(u)&&(w=u,vne))try{let C=new URL(window.location.href),k=u.startsWith("//")?new URL(C.protocol+u):new URL(u),A=$h(k.pathname,v);k.origin===C.origin&&A!=null?u=A+k.search+k.hash:y=!0}catch{}let _=qre(u,{relative:i}),S=bne(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p});function N(C){n&&n(C),C.defaultPrevented||S(C)}return x.createElement("a",gb({},g,{href:w||_,onClick:y||s?n:N,ref:r,target:c}))}),Yu=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,p=QU(t,fne),g=s_(c,{relative:p.relative}),v=Si(),w=x.useContext(HU),{navigator:y,basename:_}=x.useContext(zl),S=w!=null&&wne(g)&&u===!0,N=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,C=v.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(C=C.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&_&&(k=$h(k,_)||k);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=C===N||!o&&C.startsWith(N)&&C.charAt(A)==="/",O=k!=null&&(k===N||!o&&k.startsWith(N)&&k.charAt(N.length)==="/"),I={isActive:T,isPending:O,isTransitioning:S},q=T?n:void 0,Z;typeof s=="function"?Z=s(I):Z=[s,T?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return x.createElement(ir,gb({},p,{"aria-current":q,className:Z,ref:r,style:V,to:c,viewTransition:u}),typeof f=="function"?f(I):f)});var B2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(B2||(B2={}));var bL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bL||(bL={}));function xne(e){let t=x.useContext(n_);return t||nn(!1),t}function bne(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Fn(),u=Si(),f=s_(e,{relative:o});return x.useCallback(p=>{if(cne(p,r)){p.preventDefault();let g=n!==void 0?n:mb(u)===mb(f);c(e,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,n,i,r,e,s,o,l])}function Gk(e){let t=x.useRef(F2(e)),r=x.useRef(!1),n=Si(),i=x.useMemo(()=>une(n.search,r.current?null:t.current),[n.search]),s=Fn(),o=x.useCallback((l,c)=>{const u=F2(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function wne(e,t){t===void 0&&(t={});let r=x.useContext(pne);r==null&&nn(!1);let{basename:n}=xne(B2.useViewTransitionState),i=s_(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=$h(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=$h(r.nextLocation.pathname,n)||r.nextLocation.pathname;return L2(i.pathname,o)!=null||L2(i.pathname,s)!=null}var Ep=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cd=typeof window>"u"||"Deno"in globalThis;function Ai(){}function _ne(e,t){return typeof e=="function"?e(t):e}function z2(e){return typeof e=="number"&&e>=0&&e!==1/0}function eV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jc(e,t){return typeof e=="function"?e(t):e}function ta(e,t){return typeof e=="function"?e(t):e}function wL(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Zk(o,t.options))return!1}else if(!Xg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function _L(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Ed(t.options.mutationKey)!==Ed(s))return!1}else if(!Xg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Zk(e,t){return(t?.queryKeyHashFn||Ed)(e)}function Ed(e){return JSON.stringify(e,(t,r)=>q2(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Xg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Xg(e[r],t[r])):!1}function tV(e,t){if(e===t)return e;const r=jL(e)&&jL(t);if(r||q2(e)&&q2(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<o;f++){const p=r?f:s[f];(!r&&c.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(l[p]=void 0,u++):(l[p]=tV(e[p],t[p]),l[p]===e[p]&&e[p]!==void 0&&u++)}return i===o&&u===i?e:l}return t}function vb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function jL(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function q2(e){if(!SL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!SL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function SL(e){return Object.prototype.toString.call(e)==="[object Object]"}function jne(e){return new Promise(t=>{setTimeout(t,e)})}function U2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?tV(e,t):t}function Sne(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Nne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Yk=Symbol();function rV(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Yk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function nV(e,t){return typeof e=="function"?e(...t):!!e}var Cne=class extends Ep{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Cd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Xk=new Cne,Ene=class extends Ep{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Cd&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},yb=new Ene;function V2(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function Pne(e){return Math.min(1e3*2**e,3e4)}function iV(e){return(e??"online")==="online"?yb.isOnline():!0}var sV=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function aV(e){let t=!1,r=0,n;const i=V2(),s=()=>i.status!=="pending",o=y=>{s()||(g(new sV(y)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>Xk.isFocused()&&(e.networkMode==="always"||yb.isOnline())&&e.canRun(),f=()=>iV(e.networkMode)&&e.canRun(),p=y=>{s()||(n?.(),i.resolve(y))},g=y=>{s()||(n?.(),i.reject(y))},v=()=>new Promise(y=>{n=_=>{(s()||u())&&y(_)},e.onPause?.()}).then(()=>{n=void 0,s()||e.onContinue?.()}),w=()=>{if(s())return;let y;const _=r===0?e.initialPromise:void 0;try{y=_??e.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(p).catch(S=>{if(s())return;const N=e.retry??(Cd?0:3),C=e.retryDelay??Pne,k=typeof C=="function"?C(r,S):C,A=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,S);if(t||!A){g(S);return}r++,e.onFail?.(r,S),jne(k).then(()=>u()?void 0:v()).then(()=>{t?g(S):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?w():v().then(w),i)}}var Tne=e=>setTimeout(e,0);function Ane(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=Tne;const s=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Dn=Ane(),oV=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z2(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cd?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},kne=class extends oV{#t;#e;#r;#n;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=One(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=U2(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Ai).catch(Ai):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ta(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Jc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!eV(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const l=rV(this.options,t),u=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=aV({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof sV){if(l.silent)return this.#i.promise;if(l.revert)return this.setState({...this.#e,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lV(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?n:void 0,n;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function lV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iV(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function One(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Rne=class extends Ep{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??Zk(n,t);let s=this.get(i);return s||(s=new kne({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>wL(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>wL(e,r)):t}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mne=class extends oV{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||cV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=aV({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Dn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function cV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ine=class extends Ep{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new Mne({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=a0(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=a0(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=a0(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=a0(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Dn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>_L(t,r))}findAll(e={}){return this.getAll().filter(t=>_L(e,t))}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Dn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ai))))}};function a0(e){return e.options.scope?.id}function xb(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=rV(t.options,t.fetchOptions),v=async(w,y,_)=>{if(f)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:y,direction:_?"backward":"forward",meta:t.options.meta};return p(T),T})(),C=await g(N),{maxPages:k}=t.options,A=_?Nne:Sne;return{pages:A(w.pages,C,k),pageParams:A(w.pageParams,y,k)}};if(i&&s.length){const w=i==="backward",y=w?uV:W2,_={pages:s,pageParams:o},S=y(n,_);l=await v(_,S,w)}else{const w=e??s.length;do{const y=c===0?o[0]??n.initialPageParam:W2(n,l);if(c>0&&y==null)break;l=await v(l,y),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function W2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function uV(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function Dne(e,t){return t?W2(e,t)!=null:!1}function Lne(e,t){return!t||!e.getPreviousPageParam?!1:uV(e,t)!=null}var dV=class{#t;#e;#r;#n;#i;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new Rne,this.#e=e.mutationCache||new Ine,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Xk.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=yb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Jc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(n.queryHash)?.state.data,o=_ne(t,s);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Dn.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Dn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Dn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Dn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Ai).catch(Ai)}invalidateQueries(e,t={}){return Dn.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Dn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ai)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ai)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Jc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ai).catch(Ai)}fetchInfiniteQuery(e){return e.behavior=xb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ai).catch(Ai)}ensureInfiniteQueryData(e){return e.behavior=xb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yb.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ed(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Xg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(Ed(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{Xg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yk&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},fV=class extends Ep{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=V2(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),NL(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H2(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H2(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ta(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!vb(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&CL(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||ta(this.options.enabled,this.#e)!==ta(t.enabled,this.#e)||Jc(this.options.staleTime,this.#e)!==Jc(t.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||ta(this.options.enabled,this.#e)!==ta(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Fne(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ai)),t}#g(){this.#b();const e=Jc(this.options.staleTime,this.#e);if(Cd||this.#n.isStale||!z2(e))return;const r=eV(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Cd||ta(this.options.enabled,this.#e)===!1||!z2(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Xk.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,s=this.#i,o=this.#a,c=e!==r?e.state:this.#r,{state:u}=e;let f={...u},p=!1,g;if(t._optimisticResults){const I=this.hasListeners(),q=!I&&NL(e,t),Z=I&&CL(e,r,t,n);(q||Z)&&(f={...f,...lV(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:y}=f;g=f.data;let _=!1;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let I;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(I=i.data,_=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(y="success",g=U2(i?.data,I,t),p=!0)}if(t.select&&g!==void 0&&!_)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=U2(i?.data,g,t),this.#f=g,this.#s=null}catch(I){this.#s=I}this.#s&&(v=this.#s,g=this.#f,w=Date.now(),y="error");const S=f.fetchStatus==="fetching",N=y==="pending",C=y==="error",k=N&&S,A=g!==void 0,O={status:y,fetchStatus:f.fetchStatus,isPending:N,isSuccess:y==="success",isError:C,isInitialLoading:k,isLoading:k,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!N,isLoadingError:C&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&A,isStale:Jk(e,t),refetch:this.refetch,promise:this.#o,isEnabled:ta(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=V=>{O.status==="error"?V.reject(O.error):O.data!==void 0&&V.resolve(O.data)},q=()=>{const V=this.#o=O.promise=V2();I(V)},Z=this.#o;switch(Z.status){case"pending":e.queryHash===r.queryHash&&I(Z);break;case"fulfilled":(O.status==="error"||O.data!==Z.value)&&q();break;case"rejected":(O.status!=="error"||O.error!==Z.reason)&&q();break}}return O}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),vb(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&s.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(e){Dn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function $ne(e,t){return ta(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function NL(e,t){return $ne(e,t)||e.state.data!==void 0&&H2(e,t,t.refetchOnMount)}function H2(e,t,r){if(ta(t.enabled,e)!==!1&&Jc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Jk(e,t)}return!1}function CL(e,t,r,n){return(e!==t||ta(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Jk(e,r)}function Jk(e,t){return ta(t.enabled,e)!==!1&&e.isStaleByTime(Jc(t.staleTime,e))}function Fne(e,t){return!vb(e.getCurrentResult(),t)}var Bne=class extends fV{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:xb()})}getOptimisticResult(e){return e.behavior=xb(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,n=super.createResult(e,t),{isFetching:i,isRefetching:s,isError:o,isRefetchError:l}=n,c=r.fetchMeta?.fetchMore?.direction,u=o&&c==="forward",f=i&&c==="forward",p=o&&c==="backward",g=i&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Dne(t,r.data),hasPreviousPage:Lne(t,r.data),isFetchNextPageError:u,isFetchingNextPage:f,isFetchPreviousPageError:p,isFetchingPreviousPage:g,isRefetchError:l&&!u&&!p,isRefetching:s&&!f&&!g}}},zne=class extends Ep{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),vb(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ed(r.mutationKey)!==Ed(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??cV();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Dn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},hV=x.createContext(void 0),Fo=e=>{const t=x.useContext(hV);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pV=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(hV.Provider,{value:e,children:t})),mV=x.createContext(!1),qne=()=>x.useContext(mV);mV.Provider;function Une(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vne=x.createContext(Une()),gV=()=>x.useContext(Vne),Wne=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Hne=e=>{x.useEffect(()=>{e.clearReset()},[e])},Kne=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||nV(r,[e.error,n])),Gne=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Zne=(e,t)=>e.isLoading&&e.isFetching&&!t,Yne=(e,t)=>e?.suspense&&t.isPending,EL=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function vV(e,t,r){const n=qne(),i=gV(),s=Fo(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Gne(o),Wne(o,i),Hne(i);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(p=>{const g=f?c.subscribe(Dn.batchCalls(p)):Ai;return c.updateResult(),g},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),Yne(o,u))throw EL(o,c,i);if(Kne({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Cd&&Zne(u,n)&&(l?EL(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Ai).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Gn(e,t){return vV(e,fV)}function ii(e,t){const r=Fo(),[n]=x.useState(()=>new zne(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Dn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((o,l)=>{n.mutate(o,l).catch(Ai)},[n]);if(i.error&&nV(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Xne(e,t){return vV(e,Bne)}const Jne="modulepreload",Qne=function(e){return"/"+e},PL={},ty=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(r.map(f=>{if(f=Qne(f),f in PL)return;PL[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Jne,p||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((w,y)=>{v.addEventListener("load",w),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function yV(){return x.useEffect(()=>{if(typeof document<"u"){let e=document.getElementById("toaster-container");e||(e=document.createElement("div"),e.id="toaster-container",e.className="fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none",document.body.appendChild(e))}},[]),a.jsx("div",{id:"toaster-container",className:"fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none"})}const Qk=x.createContext({});function eO(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const a_=x.createContext(null),tO=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class eie extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tie({children:e,isPresent:t}){const r=x.useId(),n=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=x.useContext(tO);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),a.jsx(eie,{isPresent:t,childRef:n,sizeRef:i,children:x.cloneElement(e,{ref:n})})}const rie=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=eO(nie),c=x.useId(),u=x.useCallback(p=>{l.set(p,!0);for(const g of l.values())if(!g)return;n&&n()},[l,n]),f=x.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:u,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),u]:[r,u]);return x.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[r]),x.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(tie,{isPresent:r,children:e})),a.jsx(a_.Provider,{value:f,children:e})};function nie(){return new Map}function xV(e=!0){const t=x.useContext(a_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=x.useId();x.useEffect(()=>{e&&i(s)},[e]);const o=x.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const o0=e=>e.key||"";function TL(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const rO=typeof window<"u",bV=rO?x.useLayoutEffect:x.useEffect,si=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[l,c]=xV(o),u=x.useMemo(()=>TL(e),[e]),f=o&&!l?[]:u.map(o0),p=x.useRef(!0),g=x.useRef(u),v=eO(()=>new Map),[w,y]=x.useState(u),[_,S]=x.useState(u);bV(()=>{p.current=!1,g.current=u;for(let k=0;k<_.length;k++){const A=o0(_[k]);f.includes(A)?v.delete(A):v.get(A)!==!0&&v.set(A,!1)}},[_,f.length,f.join("-")]);const N=[];if(u!==w){let k=[...u];for(let A=0;A<_.length;A++){const T=_[A],O=o0(T);f.includes(O)||(k.splice(A,0,T),N.push(T))}s==="wait"&&N.length&&(k=N),S(TL(k)),y(u);return}const{forceRender:C}=x.useContext(Qk);return a.jsx(a.Fragment,{children:_.map(k=>{const A=o0(k),T=o&&!l?!1:u===_||f.includes(A),O=()=>{if(v.has(A))v.set(A,!0);else return;let I=!0;v.forEach(q=>{q||(I=!1)}),I&&(C?.(),S(g.current),o&&c?.(),n&&n())};return a.jsx(rie,{isPresent:T,initial:!p.current||r?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:O,children:k},A)})})},Ts=e=>e;let wV=Ts;function nO(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},bl=e=>e*1e3,wl=e=>e/1e3,iie={useManualTiming:!1};function sie(e){let t=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,p=!1)=>{const v=p&&n?t:r;return f&&s.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const l0=["read","resolveKeyframes","update","preRender","render","postRender"],aie=40;function _V(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=l0.reduce((S,N)=>(S[N]=sie(s),S),{}),{read:l,resolveKeyframes:c,update:u,preRender:f,render:p,postRender:g}=o,v=()=>{const S=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,aie),1),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(v))},w=()=>{r=!0,n=!0,i.isProcessing||e(v)};return{schedule:l0.reduce((S,N)=>{const C=o[N];return S[N]=(k,A=!1,T=!1)=>(r||w(),C.schedule(k,A,T)),S},{}),cancel:S=>{for(let N=0;N<l0.length;N++)o[l0[N]].cancel(S)},state:i,steps:o}}const{schedule:Kr,cancel:au,state:ri,steps:sS}=_V(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0),jV=x.createContext({strict:!1}),AL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bh={};for(const e in AL)Bh[e]={isEnabled:t=>AL[e].some(r=>!!t[r])};function oie(e){for(const t in e)Bh[t]={...Bh[t],...e[t]}}const lie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lie.has(e)}let SV=e=>!bb(e);function cie(e){e&&(SV=t=>t.startsWith("on")?!bb(t):e(t))}try{cie(require("@emotion/is-prop-valid").default)}catch{}function uie(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(SV(i)||r===!0&&bb(i)||!t&&!bb(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function die(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const o_=x.createContext({});function Jg(e){return typeof e=="string"||Array.isArray(e)}function l_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const iO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sO=["initial",...iO];function c_(e){return l_(e.animate)||sO.some(t=>Jg(e[t]))}function NV(e){return!!(c_(e)||e.variants)}function fie(e,t){if(c_(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Jg(r)?r:void 0,animate:Jg(n)?n:void 0}}return e.inherit!==!1?t:{}}function hie(e){const{initial:t,animate:r}=fie(e,x.useContext(o_));return x.useMemo(()=>({initial:t,animate:r}),[kL(t),kL(r)])}function kL(e){return Array.isArray(e)?e.join(" "):e}const pie=Symbol.for("motionComponentSymbol");function bh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mie(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):bh(r)&&(r.current=n))},[t])}const aO=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gie="framerAppearId",CV="data-"+aO(gie),{schedule:oO}=_V(queueMicrotask,!1),EV=x.createContext({});function vie(e,t,r,n,i){var s,o;const{visualElement:l}=x.useContext(o_),c=x.useContext(jV),u=x.useContext(a_),f=x.useContext(tO).reducedMotion,p=x.useRef(null);n=n||c.renderer,!p.current&&n&&(p.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,v=x.useContext(EV);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&yie(p.current,r,i,v);const w=x.useRef(!1);x.useInsertionEffect(()=>{g&&w.current&&g.update(r,u)});const y=r[CV],_=x.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return bV(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),oO.render(g.render),_.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,y)}),_.current=!1))}),g}function yie(e,t,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:PV(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&bh(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function PV(e){if(e)return e.options.allowProjection!==!1?e.projection:PV(e.parent)}function xie({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var s,o;e&&oie(e);function l(u,f){let p;const g={...x.useContext(tO),...u,layoutId:bie(u)},{isStatic:v}=g,w=hie(u),y=n(u,v);if(!v&&rO){wie();const _=_ie(g);p=_.MeasureLayout,w.visualElement=vie(i,y,g,t,_.ProjectionNode)}return a.jsxs(o_.Provider,{value:w,children:[p&&w.visualElement?a.jsx(p,{visualElement:w.visualElement,...g}):null,r(i,u,mie(y,w.visualElement,f),y,v,w.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[pie]=i,c}function bie({layoutId:e}){const t=x.useContext(Qk).id;return t&&e!==void 0?t+"-"+e:e}function wie(e,t){x.useContext(jV).strict}function _ie(e){const{drag:t,layout:r}=Bh;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const jie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lO(e){return typeof e!="string"||e.includes("-")?!1:!!(jie.indexOf(e)>-1||/[A-Z]/u.test(e))}function OL(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function cO(e,t,r,n){if(typeof t=="function"){const[i,s]=OL(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=OL(n);t=t(r!==void 0?r:e.custom,i,s)}return t}const K2=e=>Array.isArray(e),Sie=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Nie=e=>K2(e)?e[e.length-1]||0:e,_i=e=>!!(e&&e.getVelocity);function eb(e){const t=_i(e)?e.get():e;return Sie(t)?t.toValue():t}function Cie({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,s){const o={latestValues:Eie(n,i,s,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const TV=e=>(t,r)=>{const n=x.useContext(o_),i=x.useContext(a_),s=()=>Cie(e,t,n,i);return r?s():eO(s)};function Eie(e,t,r,n){const i={},s=n(e,{});for(const g in s)i[g]=eb(s[g]);let{initial:o,animate:l}=e;const c=c_(e),u=NV(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?l:o;if(p&&typeof p!="boolean"&&!l_(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const w=cO(e,g[v]);if(w){const{transitionEnd:y,transition:_,...S}=w;for(const N in S){let C=S[N];if(Array.isArray(C)){const k=f?C.length-1:0;C=C[k]}C!==null&&(i[N]=C)}for(const N in y)i[N]=y[N]}}}return i}const Pp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zd=new Set(Pp),AV=e=>t=>typeof t=="string"&&t.startsWith(e),kV=AV("--"),Pie=AV("var(--"),uO=e=>Pie(e)?Tie.test(e.split("/*")[0].trim()):!1,Tie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,OV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ol=(e,t,r)=>r>t?t:r<e?e:r,Tp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qg={...Tp,transform:e=>Ol(0,1,e)},c0={...Tp,default:1},ry=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ic=ry("deg"),_o=ry("%"),jt=ry("px"),Aie=ry("vh"),kie=ry("vw"),RL={..._o,parse:e=>_o.parse(e)/100,transform:e=>_o.transform(e*100)},Oie={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt},Rie={rotate:Ic,rotateX:Ic,rotateY:Ic,rotateZ:Ic,scale:c0,scaleX:c0,scaleY:c0,scaleZ:c0,skew:Ic,skewX:Ic,skewY:Ic,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:Qg,originX:RL,originY:RL,originZ:jt},ML={...Tp,transform:Math.round},dO={...Oie,...Rie,zIndex:ML,size:jt,fillOpacity:Qg,strokeOpacity:Qg,numOctaves:ML},Mie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iie=Pp.length;function Die(e,t,r){let n="",i=!0;for(let s=0;s<Iie;s++){const o=Pp[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=OV(l,dO[o]);if(!c){i=!1;const f=Mie[o]||o;n+=`${f}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function fO(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(zd.has(c)){o=!0;continue}else if(kV(c)){i[c]=u;continue}else{const f=OV(u,dO[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(t.transform||(o||r?n.transform=Die(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const Lie={offset:"stroke-dashoffset",array:"stroke-dasharray"},$ie={offset:"strokeDashoffset",array:"strokeDasharray"};function Fie(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?Lie:$ie;e[s.offset]=jt.transform(-n);const o=jt.transform(t),l=jt.transform(r);e[s.array]=`${o} ${l}`}function IL(e,t,r){return typeof e=="string"?e:jt.transform(t+r*e)}function Bie(e,t,r){const n=IL(t,e.x,e.width),i=IL(r,e.y,e.height);return`${n} ${i}`}function hO(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,p){if(fO(e,u,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v,dimensions:w}=e;g.transform&&(w&&(v.transform=g.transform),delete g.transform),w&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Bie(w,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&Fie(g,o,l,c,!1)}const pO=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RV=()=>({...pO(),attrs:{}}),mO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function MV(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const IV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DV(e,t,r,n){MV(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(IV.has(i)?i:aO(i),t.attrs[i])}const wb={};function zie(e){Object.assign(wb,e)}function LV(e,{layout:t,layoutId:r}){return zd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!wb[e]||e==="opacity")}function gO(e,t,r){var n;const{style:i}=e,s={};for(const o in i)(_i(i[o])||t.style&&_i(t.style[o])||LV(o,e)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function $V(e,t,r){const n=gO(e,t,r);for(const i in e)if(_i(e[i])||_i(t[i])){const s=Pp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}function qie(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const DL=["x","y","width","height","cx","cy","r"],Uie={useVisualState:TV({scrapeMotionValuesFromProps:$V,createRenderState:RV,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!e.drag;if(!s){for(const l in i)if(zd.has(l)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let l=0;l<DL.length;l++){const c=DL[l];e[c]!==t[c]&&(o=!0)}o&&Kr.read(()=>{qie(r,n),Kr.render(()=>{hO(n,i,mO(r.tagName),e.transformTemplate),DV(r,n)})})}})},Vie={useVisualState:TV({scrapeMotionValuesFromProps:gO,createRenderState:pO})};function FV(e,t,r){for(const n in t)!_i(t[n])&&!LV(n,r)&&(e[n]=t[n])}function Wie({transformTemplate:e},t){return x.useMemo(()=>{const r=pO();return fO(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Hie(e,t){const r=e.style||{},n={};return FV(n,r,e),Object.assign(n,Wie(e,t)),n}function Kie(e,t){const r={},n=Hie(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function Gie(e,t,r,n){const i=x.useMemo(()=>{const s=RV();return hO(s,t,mO(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};FV(s,e.style,e),i.style={...s,...i.style}}return i}function Zie(e=!1){return(r,n,i,{latestValues:s},o)=>{const c=(lO(r)?Gie:Kie)(n,s,o,r),u=uie(n,typeof r=="string",e),f=r!==x.Fragment?{...u,...c,ref:i}:{},{children:p}=n,g=x.useMemo(()=>_i(p)?p.get():p,[p]);return x.createElement(r,{...f,children:g})}}function Yie(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...lO(n)?Uie:Vie,preloadedFeatures:e,useRender:Zie(i),createVisualElement:t,Component:n};return xie(o)}}function BV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function u_(e,t,r){const n=e.getProps();return cO(n,t,r!==void 0?r:n.custom,e)}const Xie=nO(()=>window.ScrollTimeline!==void 0);class Jie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(Xie()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Qie extends Jie{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function vO(e,t){return e?e[t]||e.default||e:void 0}const G2=2e4;function zV(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<G2;)t+=r,n=e.next(t);return t>=G2?1/0:t}function yO(e){return typeof e=="function"}function LL(e,t){e.timeline=t,e.onfinish=null}const xO=e=>Array.isArray(e)&&typeof e[0]=="number",ese={linearEasing:void 0};function tse(e,t){const r=nO(e);return()=>{var n;return(n=ese[t])!==null&&n!==void 0?n:r()}}const _b=tse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qV=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=e(Fh(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function UV(e){return!!(typeof e=="function"&&_b()||!e||typeof e=="string"&&(e in Z2||_b())||xO(e)||Array.isArray(e)&&e.every(UV))}const gg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Z2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gg([0,.65,.55,1]),circOut:gg([.55,0,1,.45]),backIn:gg([.31,.01,.66,-.59]),backOut:gg([.33,1.53,.69,.99])};function VV(e,t){if(e)return typeof e=="function"&&_b()?qV(e,t):xO(e)?gg(e):Array.isArray(e)?e.map(r=>VV(r,t)||Z2.easeOut):Z2[e]}const Ca={x:!1,y:!1};function WV(){return Ca.x||Ca.y}function rse(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function HV(e,t){const r=rse(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function $L(e){return t=>{t.pointerType==="touch"||WV()||e(t)}}function nse(e,t,r={}){const[n,i,s]=HV(e,r),o=$L(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const f=$L(p=>{u(p),c.removeEventListener("pointerleave",f)});c.addEventListener("pointerleave",f,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const KV=(e,t)=>t?e===t?!0:KV(e,t.parentElement):!1,bO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ise=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sse(e){return ise.has(e.tagName)||e.tabIndex!==-1}const vg=new WeakSet;function FL(e){return t=>{t.key==="Enter"&&e(t)}}function aS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ase=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=FL(()=>{if(vg.has(r))return;aS(r,"down");const i=FL(()=>{aS(r,"up")}),s=()=>aS(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function BL(e){return bO(e)&&!WV()}function ose(e,t,r={}){const[n,i,s]=HV(e,r),o=l=>{const c=l.currentTarget;if(!BL(l)||vg.has(c))return;vg.add(c);const u=t(l),f=(v,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!BL(v)||!vg.has(c))&&(vg.delete(c),typeof u=="function"&&u(v,{success:w}))},p=v=>{f(v,r.useGlobalTarget||KV(c,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(l=>{!sse(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>ase(u,i),i)}),s}function lse(e){return e==="x"||e==="y"?Ca[e]?null:(Ca[e]=!0,()=>{Ca[e]=!1}):Ca.x||Ca.y?null:(Ca.x=Ca.y=!0,()=>{Ca.x=Ca.y=!1})}const GV=new Set(["width","height","top","left","right","bottom",...Pp]);let tb;function cse(){tb=void 0}const jo={now:()=>(tb===void 0&&jo.set(ri.isProcessing||iie.useManualTiming?ri.timestamp:performance.now()),tb),set:e=>{tb=e,queueMicrotask(cse)}};function wO(e,t){e.indexOf(t)===-1&&e.push(t)}function _O(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class jO{constructor(){this.subscriptions=[]}add(t){return wO(this.subscriptions,t),()=>_O(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ZV(e,t){return t?e*(1e3/t):0}const zL=30,use=e=>!isNaN(parseFloat(e));class dse{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=jo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=jo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=use(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new jO);const n=this.events[t].add(r);return t==="change"?()=>{n(),Kr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=jo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zL)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,zL);return ZV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ev(e,t){return new dse(e,t)}function fse(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ev(r))}function hse(e,t){const r=u_(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=Nie(s[o]);fse(e,o,l)}}function pse(e){return!!(_i(e)&&e.add)}function Y2(e,t){const r=e.getValue("willChange");if(pse(r))return r.add(t)}function YV(e){return e.props[CV]}const XV=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,mse=1e-7,gse=12;function vse(e,t,r,n,i){let s,o,l=0;do o=t+(r-t)/2,s=XV(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>mse&&++l<gse);return o}function ny(e,t,r,n){if(e===t&&r===n)return Ts;const i=s=>vse(s,0,1,e,r);return s=>s===0||s===1?s:XV(i(s),t,n)}const JV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,QV=e=>t=>1-e(1-t),eW=ny(.33,1.53,.69,.99),SO=QV(eW),tW=JV(SO),rW=e=>(e*=2)<1?.5*SO(e):.5*(2-Math.pow(2,-10*(e-1))),NO=e=>1-Math.sin(Math.acos(e)),nW=QV(NO),iW=JV(NO),sW=e=>/^0[^.\s]+$/u.test(e);function yse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sW(e):!0}const Og=e=>Math.round(e*1e5)/1e5,CO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xse(e){return e==null}const bse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,EO=(e,t)=>r=>!!(typeof r=="string"&&bse.test(r)&&r.startsWith(e)||t&&!xse(r)&&Object.prototype.hasOwnProperty.call(r,t)),aW=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(CO);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},wse=e=>Ol(0,255,e),oS={...Tp,transform:e=>Math.round(wse(e))},ud={test:EO("rgb","red"),parse:aW("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+oS.transform(e)+", "+oS.transform(t)+", "+oS.transform(r)+", "+Og(Qg.transform(n))+")"};function _se(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const X2={test:EO("#"),parse:_se,transform:ud.transform},wh={test:EO("hsl","hue"),parse:aW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+_o.transform(Og(t))+", "+_o.transform(Og(r))+", "+Og(Qg.transform(n))+")"},vi={test:e=>ud.test(e)||X2.test(e)||wh.test(e),parse:e=>ud.test(e)?ud.parse(e):wh.test(e)?wh.parse(e):X2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ud.transform(e):wh.transform(e)},jse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sse(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(CO))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(jse))===null||r===void 0?void 0:r.length)||0)>0}const oW="number",lW="color",Nse="var",Cse="var(",qL="${}",Ese=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(Ese,c=>(vi.test(c)?(n.color.push(s),i.push(lW),r.push(vi.parse(c))):c.startsWith(Cse)?(n.var.push(s),i.push(Nse),r.push(c)):(n.number.push(s),i.push(oW),r.push(parseFloat(c))),++s,qL)).split(qL);return{values:r,split:l,indexes:n,types:i}}function cW(e){return tv(e).values}function uW(e){const{split:t,types:r}=tv(e),n=t.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],i[o]!==void 0){const l=r[o];l===oW?s+=Og(i[o]):l===lW?s+=vi.transform(i[o]):s+=i[o]}return s}}const Pse=e=>typeof e=="number"?0:e;function Tse(e){const t=cW(e);return uW(e)(t.map(Pse))}const ou={test:Sse,parse:cW,createTransformer:uW,getAnimatableNone:Tse},Ase=new Set(["brightness","contrast","saturate","opacity"]);function kse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(CO)||[];if(!n)return e;const i=r.replace(n,"");let s=Ase.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const Ose=/\b([a-z-]*)\(.*?\)/gu,J2={...ou,getAnimatableNone:e=>{const t=e.match(Ose);return t?t.map(kse).join(" "):e}},Rse={...dO,color:vi,backgroundColor:vi,outlineColor:vi,fill:vi,stroke:vi,borderColor:vi,borderTopColor:vi,borderRightColor:vi,borderBottomColor:vi,borderLeftColor:vi,filter:J2,WebkitFilter:J2},PO=e=>Rse[e];function dW(e,t){let r=PO(e);return r!==J2&&(r=ou),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Mse=new Set(["auto","none","0"]);function Ise(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!Mse.has(s)&&tv(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=dW(r,i)}const UL=e=>e===Tp||e===jt,VL=(e,t)=>parseFloat(e.split(", ")[t]),WL=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return VL(i[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?VL(s[1],e):0}},Dse=new Set(["x","y","z"]),Lse=Pp.filter(e=>!Dse.has(e));function $se(e){const t=[];return Lse.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const zh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:WL(4,13),y:WL(5,14)};zh.translateX=zh.x;zh.translateY=zh.y;const bd=new Set;let Q2=!1,eT=!1;function fW(){if(eT){const e=Array.from(bd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=$se(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}eT=!1,Q2=!1,bd.forEach(e=>e.complete()),bd.clear()}function hW(){bd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eT=!0)})}function Fse(){hW(),fW()}class TO{constructor(t,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bd.add(this),Q2||(Q2=!0,Kr.read(hW),Kr.resolveKeyframes(fW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Bse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zse(e){const t=Bse.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function mW(e,t,r=1){const[n,i]=zse(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return pW(o)?parseFloat(o):o}return uO(i)?mW(i,t,r+1):i}const gW=e=>t=>t.test(e),qse={test:e=>e==="auto",parse:e=>e},vW=[Tp,jt,_o,Ic,kie,Aie,qse],HL=e=>vW.find(gW(e));class yW extends TO{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),uO(u))){const f=mW(u,r.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!GV.has(n)||t.length!==2)return;const[i,s]=t,o=HL(i),l=HL(s);if(o!==l)if(UL(o)&&UL(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)yse(t[i])&&n.push(i);n.length&&Ise(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=zh[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const KL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ou.test(e)||e==="0")&&!e.startsWith("url("));function Use(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Vse(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=KL(i,t),l=KL(s,t);return!o||!l?!1:Use(e)||(r==="spring"||yO(r))&&n}const Wse=e=>e!==null;function d_(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(Wse),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const Hse=40;class xW{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=jo.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Hse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Fse(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=jo.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Vse(t,n,i,s))if(o)this.options.duration=0;else{c&&c(d_(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,r);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...f},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const tn=(e,t,r)=>e+(t-e)*r;function lS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Kse({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=lS(c,l,e+1/3),s=lS(c,l,e),o=lS(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function jb(e,t){return r=>r>0?t:e}const cS=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Gse=[X2,ud,wh],Zse=e=>Gse.find(t=>t.test(e));function GL(e){const t=Zse(e);if(!t)return!1;let r=t.parse(e);return t===wh&&(r=Kse(r)),r}const ZL=(e,t)=>{const r=GL(e),n=GL(t);if(!r||!n)return jb(e,t);const i={...r};return s=>(i.red=cS(r.red,n.red,s),i.green=cS(r.green,n.green,s),i.blue=cS(r.blue,n.blue,s),i.alpha=tn(r.alpha,n.alpha,s),ud.transform(i))},Yse=(e,t)=>r=>t(e(r)),iy=(...e)=>e.reduce(Yse),tT=new Set(["none","hidden"]);function Xse(e,t){return tT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Jse(e,t){return r=>tn(e,t,r)}function AO(e){return typeof e=="number"?Jse:typeof e=="string"?uO(e)?jb:vi.test(e)?ZL:tae:Array.isArray(e)?bW:typeof e=="object"?vi.test(e)?ZL:Qse:jb}function bW(e,t){const r=[...e],n=r.length,i=e.map((s,o)=>AO(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function Qse(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=AO(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function eae(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[s]=c,i[o]++}return n}const tae=(e,t)=>{const r=ou.createTransformer(t),n=tv(e),i=tv(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?tT.has(e)&&!i.values.length||tT.has(t)&&!n.values.length?Xse(e,t):iy(bW(eae(n,i),i.values),r):jb(e,t)};function wW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?tn(e,t,r):AO(e)(e,t)}const rae=5;function _W(e,t,r){const n=Math.max(t-rae,0);return ZV(r-e(n),t-n)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uS=.001;function nae({duration:e=on.duration,bounce:t=on.bounce,velocity:r=on.velocity,mass:n=on.mass}){let i,s,o=1-t;o=Ol(on.minDamping,on.maxDamping,o),e=Ol(on.minDuration,on.maxDuration,wl(e)),o<1?(i=u=>{const f=u*o,p=f*e,g=f-r,v=rT(u,o),w=Math.exp(-p);return uS-g/v*w},s=u=>{const p=u*o*e,g=p*r+r,v=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-p),y=rT(Math.pow(u,2),o);return(-i(u)+uS>0?-1:1)*((g-v)*w)/y}):(i=u=>{const f=Math.exp(-u*e),p=(u-r)*e+1;return-uS+f*p},s=u=>{const f=Math.exp(-u*e),p=(r-u)*(e*e);return f*p});const l=5/e,c=sae(i,s,l);if(e=bl(e),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const iae=12;function sae(e,t,r){let n=r;for(let i=1;i<iae;i++)n=n-e(n)/t(n);return n}function rT(e,t){return e*Math.sqrt(1-t*t)}const aae=["duration","bounce"],oae=["stiffness","damping","mass"];function YL(e,t){return t.some(r=>e[r]!==void 0)}function lae(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!YL(e,oae)&&YL(e,aae))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Ol(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:on.mass,stiffness:i,damping:s}}else{const r=nae(e);t={...t,...r,mass:on.mass},t.isResolvedFromDuration=!0}return t}function jW(e=on.visualDuration,t=on.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:p,velocity:g,isResolvedFromDuration:v}=lae({...r,velocity:-wl(r.velocity||0)}),w=g||0,y=u/(2*Math.sqrt(c*f)),_=o-s,S=wl(Math.sqrt(c/f)),N=Math.abs(_)<5;n||(n=N?on.restSpeed.granular:on.restSpeed.default),i||(i=N?on.restDelta.granular:on.restDelta.default);let C;if(y<1){const A=rT(S,y);C=T=>{const O=Math.exp(-y*S*T);return o-O*((w+y*S*_)/A*Math.sin(A*T)+_*Math.cos(A*T))}}else if(y===1)C=A=>o-Math.exp(-S*A)*(_+(w+S*_)*A);else{const A=S*Math.sqrt(y*y-1);C=T=>{const O=Math.exp(-y*S*T),I=Math.min(A*T,300);return o-O*((w+y*S*_)*Math.sinh(I)+A*_*Math.cosh(I))/A}}const k={calculatedDuration:v&&p||null,next:A=>{const T=C(A);if(v)l.done=A>=p;else{let O=0;y<1&&(O=A===0?bl(w):_W(C,A,T));const I=Math.abs(O)<=n,q=Math.abs(o-T)<=i;l.done=I&&q}return l.value=l.done?o:T,l},toString:()=>{const A=Math.min(zV(k),G2),T=qV(O=>k.next(A*O).value,A,30);return A+"ms "+T}};return k}function XL({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},v=I=>l!==void 0&&I<l||c!==void 0&&I>c,w=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let y=r*t;const _=p+y,S=o===void 0?_:o(_);S!==_&&(y=S-p);const N=I=>-y*Math.exp(-I/n),C=I=>S+N(I),k=I=>{const q=N(I),Z=C(I);g.done=Math.abs(q)<=u,g.value=g.done?S:Z};let A,T;const O=I=>{v(g.value)&&(A=I,T=jW({keyframes:[g.value,w(g.value)],velocity:_W(C,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return O(0),{calculatedDuration:null,next:I=>{let q=!1;return!T&&A===void 0&&(q=!0,k(I),O(I)),A!==void 0&&I>=A?T.next(I-A):(!q&&k(I),g)}}}const cae=ny(.42,0,1,1),uae=ny(0,0,.58,1),SW=ny(.42,0,.58,1),dae=e=>Array.isArray(e)&&typeof e[0]!="number",fae={linear:Ts,easeIn:cae,easeInOut:SW,easeOut:uae,circIn:NO,circInOut:iW,circOut:nW,backIn:SO,backInOut:tW,backOut:eW,anticipate:rW},JL=e=>{if(xO(e)){wV(e.length===4);const[t,r,n,i]=e;return ny(t,r,n,i)}else if(typeof e=="string")return fae[e];return e};function hae(e,t,r){const n=[],i=r||wW,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ts:t;l=iy(c,l)}n.push(l)}return n}function pae(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(wV(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=hae(t,n,i),c=l.length,u=f=>{if(o&&f<e[0])return t[0];let p=0;if(c>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=Fh(e[p],e[p+1],f);return l[p](g)};return r?f=>u(Ol(e[0],e[s-1],f)):u}function mae(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Fh(0,t,n);e.push(tn(r,1,i))}}function gae(e){const t=[0];return mae(t,e.length-1),t}function vae(e,t){return e.map(r=>r*t)}function yae(e,t){return e.map(()=>t||SW).splice(0,e.length-1)}function Sb({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=dae(n)?n.map(JL):JL(n),s={done:!1,value:t[0]},o=vae(r&&r.length===t.length?r:gae(t),e),l=pae(o,t,{ease:Array.isArray(i)?i:yae(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const xae=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Kr.update(t,!0),stop:()=>au(t),now:()=>ri.isProcessing?ri.timestamp:jo.now()}},bae={decay:XL,inertia:XL,tween:Sb,keyframes:Sb,spring:jW},wae=e=>e/100;class kO extends xW{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||TO,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=yO(r)?r:bae[r]||Sb;let c,u;l!==Sb&&typeof t[0]!="number"&&(c=iy(wae,wW(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=zV(f));const{calculatedDuration:p}=f,g=p+i,v=g*(n+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:g,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:f,resolvedDuration:p}=n;if(this.startTime===null)return s.next(0);const{delay:g,repeat:v,repeatType:w,repeatDelay:y,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-g*(this.speed>=0?1:-1),N=this.speed>=0?S<0:S>f;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let C=this.currentTime,k=s;if(v){const I=Math.min(this.currentTime,f)/p;let q=Math.floor(I),Z=I%1;!Z&&I>=1&&(Z=1),Z===1&&q--,q=Math.min(q,v+1),!!(q%2)&&(w==="reverse"?(Z=1-Z,y&&(Z-=y/p)):w==="mirror"&&(k=o)),C=Ol(0,1,Z)*p}const A=N?{done:!1,value:c[0]}:k.next(C);l&&(A.value=l(A.value));let{done:T}=A;!N&&u!==null&&(T=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return O&&i!==void 0&&(A.value=d_(c,this.options,i)),_&&_(A.value),O&&this.finish(),A}get duration(){const{resolved:t}=this;return t?wl(t.calculatedDuration):0}get time(){return wl(this.currentTime)}set time(t){t=bl(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=wl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=xae,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const _ae=new Set(["opacity","clipPath","filter","transform"]);function jae(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const f=VV(l,i);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Sae=nO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nb=10,Nae=2e4;function Cae(e){return yO(e.type)||e.type==="spring"||!UV(e.ease)}function Eae(e,t){const r=new kO({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let s=0;for(;!n.done&&s<Nae;)n=r.sample(s),i.push(n.value),s+=Nb;return{times:void 0,keyframes:i,duration:s-Nb,ease:"linear"}}const NW={anticipate:rW,backInOut:tW,circInOut:iW};function Pae(e){return e in NW}class QL extends xW{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new yW(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&_b()&&Pae(s)&&(s=NW[s]),Cae(this.options)){const{onComplete:p,onUpdate:g,motionValue:v,element:w,...y}=this.options,_=Eae(t,y);t=_.keyframes,t.length===1&&(t[1]=t[0]),n=_.duration,i=_.times,s=_.ease,o="keyframes"}const f=jae(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:s});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(LL(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(d_(t,this.options,r)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:n,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return wl(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return wl(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=bl(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ts;const{animation:n}=r;LL(n,t)}return Ts}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:p,element:g,...v}=this.options,w=new kO({...v,keyframes:n,duration:i,type:s,ease:o,times:l,isGenerator:!0}),y=bl(this.time);u.setWithVelocity(w.sample(y-Nb).value,w.sample(y).value,Nb)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return Sae()&&n&&_ae.has(n)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const Tae={type:"spring",stiffness:500,damping:25,restSpeed:10},Aae=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kae={type:"keyframes",duration:.8},Oae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rae=(e,{keyframes:t})=>t.length>2?kae:zd.has(e)?e.startsWith("scale")?Aae(t[1]):Tae:Oae;function Mae({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const OO=(e,t,r,n={},i,s)=>o=>{const l=vO(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-bl(c);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};Mae(l)||(f={...f,...Rae(e,f)}),f.duration&&(f.duration=bl(f.duration)),f.repeatDelay&&(f.repeatDelay=bl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=d_(f.keyframes,l);if(g!==void 0)return Kr.update(()=>{f.onUpdate(g),f.onComplete()}),new Qie([])}return!s&&QL.supports(f)?new QL(f):new kO(f)};function Iae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function CW(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),v=c[p];if(v===void 0||f&&Iae(f,p))continue;const w={delay:r,...vO(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const S=YV(e);if(S){const N=window.MotionHandoffAnimation(S,p,Kr);N!==null&&(w.startTime=N,y=!0)}}Y2(e,p),g.start(OO(p,g,v,e.shouldReduceMotion&&GV.has(p)?{type:!1}:w,e,y));const _=g.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{Kr.update(()=>{l&&hse(e,l)})}),u}function nT(e,t,r={}){var n;const i=u_(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(CW(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return Dae(e,t,f+u,p,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,f]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>f())}else return Promise.all([o(),l(r.delay)])}function Dae(e,t,r=0,n=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Lae).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(nT(u,t,{...s,delay:r+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Lae(e,t){return e.sortNodePosition(t)}function $ae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>nT(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=nT(e,t,r);else{const i=typeof t=="function"?u_(e,t,r.custom):t;n=Promise.all(CW(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Fae=sO.length;function EW(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?EW(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Fae;r++){const n=sO[r],i=e.props[n];(Jg(i)||i===!1)&&(t[n]=i)}return t}const Bae=[...iO].reverse(),zae=iO.length;function qae(e){return t=>Promise.all(t.map(({animation:r,options:n})=>$ae(e,r,n)))}function Uae(e){let t=qae(e),r=e4(),n=!0;const i=c=>(u,f)=>{var p;const g=u_(e,f,c==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:v,transitionEnd:w,...y}=g;u={...u,...y,...w}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,f=EW(e.parent)||{},p=[],g=new Set;let v={},w=1/0;for(let _=0;_<zae;_++){const S=Bae[_],N=r[S],C=u[S]!==void 0?u[S]:f[S],k=Jg(C),A=S===c?N.isActive:null;A===!1&&(w=_);let T=C===f[S]&&C!==u[S]&&k;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),N.protectedKeys={...v},!N.isActive&&A===null||!C&&!N.prevProp||l_(C)||typeof C=="boolean")continue;const O=Vae(N.prevProp,C);let I=O||S===c&&N.isActive&&!T&&k||_>w&&k,q=!1;const Z=Array.isArray(C)?C:[C];let V=Z.reduce(i(S),{});A===!1&&(V={});const{prevResolvedValues:U={}}=N,z={...U,...V},H=W=>{I=!0,g.has(W)&&(q=!0,g.delete(W)),N.needsAnimating[W]=!0;const Q=e.getValue(W);Q&&(Q.liveStyle=!1)};for(const W in z){const Q=V[W],Y=U[W];if(v.hasOwnProperty(W))continue;let ne=!1;K2(Q)&&K2(Y)?ne=!BV(Q,Y):ne=Q!==Y,ne?Q!=null?H(W):g.add(W):Q!==void 0&&g.has(W)?H(W):N.protectedKeys[W]=!0}N.prevProp=C,N.prevResolvedValues=V,N.isActive&&(v={...v,...V}),n&&e.blockInitialAnimation&&(I=!1),I&&(!(T&&O)||q)&&p.push(...Z.map(W=>({animation:W,options:{type:S}})))}if(g.size){const _={};g.forEach(S=>{const N=e.getBaseTarget(S),C=e.getValue(S);C&&(C.liveStyle=!0),_[S]=N??null}),p.push({animation:_})}let y=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(p):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const p=o(c);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=e4(),n=!0}}}function Vae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!BV(t,e):!1}function Xu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e4(){return{animate:Xu(!0),whileInView:Xu(),whileHover:Xu(),whileTap:Xu(),whileDrag:Xu(),whileFocus:Xu(),exit:Xu()}}class pu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Wae extends pu{constructor(t){super(t),t.animationState||(t.animationState=Uae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();l_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Hae=0;class Kae extends pu{constructor(){super(...arguments),this.id=Hae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Gae={animation:{Feature:Wae},exit:{Feature:Kae}};function rv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function sy(e){return{point:{x:e.pageX,y:e.pageY}}}const Zae=e=>t=>bO(t)&&e(t,sy(t));function Rg(e,t,r,n){return rv(e,t,Zae(r),n)}const t4=(e,t)=>Math.abs(e-t);function Yae(e,t){const r=t4(e.x,t.x),n=t4(e.y,t.y);return Math.sqrt(r**2+n**2)}class PW{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=fS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=Yae(p.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:w}=p,{timestamp:y}=ri;this.history.push({...w,timestamp:y});const{onStart:_,onMove:S}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=dS(g,this.transformPagePoint),Kr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=fS(p.type==="pointercancel"?this.lastMoveEventInfo:dS(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,_),w&&w(p,_)},!bO(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=sy(t),l=dS(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ri;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,fS(l,this.history)),this.removeListeners=iy(Rg(this.contextWindow,"pointermove",this.handlePointerMove),Rg(this.contextWindow,"pointerup",this.handlePointerUp),Rg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),au(this.updatePoint)}}function dS(e,t){return t?{point:t(e.point)}:e}function r4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fS({point:e},t){return{point:e,delta:r4(e,TW(t)),offset:r4(e,Xae(t)),velocity:Jae(t,.1)}}function Xae(e){return e[0]}function TW(e){return e[e.length-1]}function Jae(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=TW(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>bl(t)));)r--;if(!n)return{x:0,y:0};const s=wl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const AW=1e-4,Qae=1-AW,eoe=1+AW,kW=.01,toe=0-kW,roe=0+kW;function Rs(e){return e.max-e.min}function noe(e,t,r){return Math.abs(e-t)<=r}function n4(e,t,r,n=.5){e.origin=n,e.originPoint=tn(t.min,t.max,e.origin),e.scale=Rs(r)/Rs(t),e.translate=tn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Qae&&e.scale<=eoe||isNaN(e.scale))&&(e.scale=1),(e.translate>=toe&&e.translate<=roe||isNaN(e.translate))&&(e.translate=0)}function Mg(e,t,r,n){n4(e.x,t.x,r.x,n?n.originX:void 0),n4(e.y,t.y,r.y,n?n.originY:void 0)}function i4(e,t,r){e.min=r.min+t.min,e.max=e.min+Rs(t)}function ioe(e,t,r){i4(e.x,t.x,r.x),i4(e.y,t.y,r.y)}function s4(e,t,r){e.min=t.min-r.min,e.max=e.min+Rs(t)}function Ig(e,t,r){s4(e.x,t.x,r.x),s4(e.y,t.y,r.y)}function soe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?tn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?tn(r,e,n.max):Math.min(e,r)),e}function a4(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function aoe(e,{top:t,left:r,bottom:n,right:i}){return{x:a4(e.x,r,i),y:a4(e.y,t,n)}}function o4(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function ooe(e,t){return{x:o4(e.x,t.x),y:o4(e.y,t.y)}}function loe(e,t){let r=.5;const n=Rs(e),i=Rs(t);return i>n?r=Fh(t.min,t.max-n,e.min):n>i&&(r=Fh(e.min,e.max-i,t.min)),Ol(0,1,r)}function coe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const iT=.35;function uoe(e=iT){return e===!1?e=0:e===!0&&(e=iT),{x:l4(e,"left","right"),y:l4(e,"top","bottom")}}function l4(e,t,r){return{min:c4(e,t),max:c4(e,r)}}function c4(e,t){return typeof e=="number"?e:e[t]||0}const u4=()=>({translate:0,scale:1,origin:0,originPoint:0}),_h=()=>({x:u4(),y:u4()}),d4=()=>({min:0,max:0}),fn=()=>({x:d4(),y:d4()});function ea(e){return[e("x"),e("y")]}function OW({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function doe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function foe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function hS(e){return e===void 0||e===1}function sT({scale:e,scaleX:t,scaleY:r}){return!hS(e)||!hS(t)||!hS(r)}function td(e){return sT(e)||RW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function RW(e){return f4(e.x)||f4(e.y)}function f4(e){return e&&e!=="0%"}function Cb(e,t,r){const n=e-r,i=t*n;return r+i}function h4(e,t,r,n,i){return i!==void 0&&(e=Cb(e,i,n)),Cb(e,r,n)+t}function aT(e,t=0,r=1,n,i){e.min=h4(e.min,t,r,n,i),e.max=h4(e.max,t,r,n,i)}function MW(e,{x:t,y:r}){aT(e.x,t.translate,t.scale,t.originPoint),aT(e.y,r.translate,r.scale,r.originPoint)}const p4=.999999999999,m4=1.0000000000001;function hoe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Sh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,MW(e,o)),n&&td(s.latestValues)&&Sh(e,s.latestValues))}t.x<m4&&t.x>p4&&(t.x=1),t.y<m4&&t.y>p4&&(t.y=1)}function jh(e,t){e.min=e.min+t,e.max=e.max+t}function g4(e,t,r,n,i=.5){const s=tn(e.min,e.max,i);aT(e,t,r,s,n)}function Sh(e,t){g4(e.x,t.x,t.scaleX,t.scale,t.originX),g4(e.y,t.y,t.scaleY,t.scale,t.originY)}function IW(e,t){return OW(foe(e.getBoundingClientRect(),t))}function poe(e,t,r){const n=IW(e,r),{scroll:i}=t;return i&&(jh(n.x,i.offset.x),jh(n.y,i.offset.y)),n}const DW=({current:e})=>e?e.ownerDocument.defaultView:null,moe=new WeakMap;class goe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(sy(f).point)},s=(f,p)=>{const{drag:g,dragPropagation:v,onDragStart:w}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lse(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ea(_=>{let S=this.getAxisMotionValue(_).get()||0;if(_o.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const C=N.layout.layoutBox[_];C&&(S=Rs(C)*(parseFloat(S)/100))}}this.originPoint[_]=S}),w&&Kr.postRender(()=>w(f,p)),Y2(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:w,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=p;if(v&&this.currentDirection===null){this.currentDirection=voe(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),y&&y(f,p)},l=(f,p)=>this.stop(f,p),c=()=>ea(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new PW(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:DW(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Kr.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!u0(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=soe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&bh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=aoe(i.layoutBox,r):this.constraints=!1,this.elastic=uoe(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ea(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=coe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!bh(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=poe(n,i.root,this.visualElement.getTransformPagePoint());let o=ooe(i.layout.layoutBox,s);if(r){const l=r(doe(o));this.hasMutatedConstraints=!!l,l&&(o=OW(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ea(f=>{if(!u0(f,r,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:n?t[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Y2(this.visualElement,t),n.start(OO(t,n,0,r,this.visualElement,!1))}stopAnimation(){ea(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ea(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ea(r=>{const{drag:n}=this.getProps();if(!u0(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(t[r]-tn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!bh(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ea(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=loe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ea(o=>{if(!u0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(tn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;moe.set(this.visualElement,this);const t=this.visualElement.current,r=Rg(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();bh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kr.read(n);const o=rv(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ea(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=iT,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function u0(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function voe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class yoe extends pu{constructor(t){super(t),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new goe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const v4=e=>(t,r)=>{e&&Kr.postRender(()=>e(t,r))};class xoe extends pu{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(t){this.session=new PW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:v4(t),onStart:v4(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Kr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Rg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Hm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(jt.test(e))e=parseFloat(e);else return e;const r=y4(e,t.target.x),n=y4(e,t.target.y);return`${r}% ${n}%`}},boe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=ou.parse(e);if(i.length>5)return n;const s=ou.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=tn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class woe extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;zie(_oe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Kr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LW(e){const[t,r]=xV(),n=x.useContext(Qk);return a.jsx(woe,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(EV),isPresent:t,safeToRemove:r})}const _oe={borderRadius:{...Hm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hm,borderTopRightRadius:Hm,borderBottomLeftRadius:Hm,borderBottomRightRadius:Hm,boxShadow:boe};function joe(e,t,r){const n=_i(e)?e:ev(e);return n.start(OO("",n,t,r)),n.animation}function Soe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Noe=(e,t)=>e.depth-t.depth;class Coe{constructor(){this.children=[],this.isDirty=!1}add(t){wO(this.children,t),this.isDirty=!0}remove(t){_O(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Noe),this.isDirty=!1,this.children.forEach(t)}}function Eoe(e,t){const r=jo.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(au(n),e(s-t))};return Kr.read(n,!0),()=>au(n)}const $W=["TopLeft","TopRight","BottomLeft","BottomRight"],Poe=$W.length,x4=e=>typeof e=="string"?parseFloat(e):e,b4=e=>typeof e=="number"||jt.test(e);function Toe(e,t,r,n,i,s){i?(e.opacity=tn(0,r.opacity!==void 0?r.opacity:1,Aoe(n)),e.opacityExit=tn(t.opacity!==void 0?t.opacity:1,0,koe(n))):s&&(e.opacity=tn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Poe;o++){const l=`border${$W[o]}Radius`;let c=w4(t,l),u=w4(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||b4(c)===b4(u)?(e[l]=Math.max(tn(x4(c),x4(u),n),0),(_o.test(u)||_o.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=tn(t.rotate||0,r.rotate||0,n))}function w4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Aoe=FW(0,.5,nW),koe=FW(.5,.95,Ts);function FW(e,t,r){return n=>n<e?0:n>t?1:r(Fh(e,t,n))}function _4(e,t){e.min=t.min,e.max=t.max}function Ys(e,t){_4(e.x,t.x),_4(e.y,t.y)}function j4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function S4(e,t,r,n,i){return e-=t,e=Cb(e,1/r,n),i!==void 0&&(e=Cb(e,1/i,n)),e}function Ooe(e,t=0,r=1,n=.5,i,s=e,o=e){if(_o.test(t)&&(t=parseFloat(t),t=tn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=tn(s.min,s.max,n);e===s&&(l-=t),e.min=S4(e.min,t,r,l,i),e.max=S4(e.max,t,r,l,i)}function N4(e,t,[r,n,i],s,o){Ooe(e,t[r],t[n],t[i],t.scale,s,o)}const Roe=["x","scaleX","originX"],Moe=["y","scaleY","originY"];function C4(e,t,r,n){N4(e.x,t,Roe,r?r.x:void 0,n?n.x:void 0),N4(e.y,t,Moe,r?r.y:void 0,n?n.y:void 0)}function E4(e){return e.translate===0&&e.scale===1}function BW(e){return E4(e.x)&&E4(e.y)}function P4(e,t){return e.min===t.min&&e.max===t.max}function Ioe(e,t){return P4(e.x,t.x)&&P4(e.y,t.y)}function T4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zW(e,t){return T4(e.x,t.x)&&T4(e.y,t.y)}function A4(e){return Rs(e.x)/Rs(e.y)}function k4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Doe{constructor(){this.members=[]}add(t){wO(this.members,t),t.scheduleRender()}remove(t){if(_O(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Loe(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:g,skewX:v,skewY:w}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const rd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},yg=typeof window<"u"&&window.MotionDebug!==void 0,pS=["","X","Y","Z"],$oe={visibility:"hidden"},O4=1e3;let Foe=0;function mS(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function qW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=YV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Kr,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&qW(n)}function UW({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=Foe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yg&&(rd.totalNodes=rd.resolvedTargetDeltas=rd.recalculatedProjection=0),this.nodes.forEach(qoe),this.nodes.forEach(Koe),this.nodes.forEach(Goe),this.nodes.forEach(Uoe),yg&&window.MotionDebug.record(rd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Coe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Soe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Eoe(g,250),rb.hasAnimatedSinceResize&&(rb.hasAnimatedSinceResize=!1,this.nodes.forEach(M4))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||Qoe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=f.getProps(),N=!this.targetLayout||!zW(this.targetLayout,w)||v,C=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const k={...vO(y,"layout"),onPlay:_,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else g||M4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,au(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zoe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R4);return}this.isUpdating||this.nodes.forEach(Woe),this.isUpdating=!1,this.nodes.forEach(Hoe),this.nodes.forEach(Boe),this.nodes.forEach(zoe),this.clearAllSnapshots();const l=jo.now();ri.delta=Ol(0,1e3/60,l-ri.timestamp),ri.timestamp=l,ri.isProcessing=!0,sS.update.process(ri),sS.preRender.process(ri),sS.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Voe),this.sharedNodes.forEach(Yoe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!BW(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||td(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ele(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return fn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(tle))){const{scroll:f}=this.root;f&&(jh(c.x,f.offset.x),jh(c.y,f.offset.y))}return c}removeElementScroll(o){var l;const c=fn();if(Ys(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ys(c,o),jh(c.x,p.offset.x),jh(c.y,p.offset.y))}return c}applyTransform(o,l=!1){const c=fn();Ys(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Sh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),td(f.latestValues)&&Sh(c,f.latestValues)}return td(this.latestValues)&&Sh(c,this.latestValues),c}removeTransform(o){const l=fn();Ys(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!td(u.latestValues))continue;sT(u.latestValues)&&u.updateSnapshot();const f=fn(),p=u.measurePageBox();Ys(f,p),C4(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return td(this.latestValues)&&C4(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Ig(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ioe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ys(this.target,this.layout.layoutBox),MW(this.target,this.targetDelta)):Ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Ig(this.relativeTargetOrigin,this.target,v.target),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yg&&rd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sT(this.parent.latestValues)||RW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ys(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;hoe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=fn());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(j4(this.prevProjectionDelta.x,this.projectionDelta.x),j4(this.prevProjectionDelta.y,this.projectionDelta.y)),Mg(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!k4(this.projectionDelta.x,this.prevProjectionDelta.x)||!k4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),yg&&rd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_h(),this.projectionDelta=_h(),this.projectionDeltaWithTransform=_h()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},p=_h();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=fn(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=v!==w,_=this.getStack(),S=!_||_.members.length<=1,N=!!(y&&!S&&this.options.crossfade===!0&&!this.path.some(Joe));this.animationProgress=0;let C;this.mixTargetDelta=k=>{const A=k/1e3;I4(p.x,o.x,A),I4(p.y,o.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ig(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xoe(this.relativeTarget,this.relativeTargetOrigin,g,A),C&&Ioe(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=fn()),Ys(C,this.relativeTarget)),y&&(this.animationValues=f,Toe(f,u,this.latestValues,A,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(au(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kr.update(()=>{rb.hasAnimatedSinceResize=!0,this.currentAnimation=joe(0,O4,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&VW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||fn();const p=Rs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=Rs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Ys(l,c),Sh(l,f),Mg(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Doe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&mS("z",o,u,this.animationValues);for(let f=0;f<pS.length;f++)mS(`rotate${pS[f]}`,o,u,this.animationValues),mS(`skew${pS[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $oe;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=eb(o?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=eb(o?.pointerEvents)||""),this.hasProjected&&!td(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=Loe(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:v,y:w}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in wb){if(g[y]===void 0)continue;const{correct:_,applyTo:S}=wb[y],N=u.transform==="none"?g[y]:_(g[y],p);if(S){const C=S.length;for(let k=0;k<C;k++)u[S[k]]=N}else u[y]=N}return this.options.layoutId&&(u.pointerEvents=p===this?eb(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(R4),this.root.sharedNodes.clear()}}}function Boe(e){e.updateLayout()}function zoe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?ea(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],v=Rs(g);g.min=n[p].min,g.max=g.min+v}):VW(s,r.layoutBox,n)&&ea(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],v=Rs(n[p]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const l=_h();Mg(l,n,r.layoutBox);const c=_h();o?Mg(c,e.applyTransform(i,!0),r.measuredBox):Mg(c,n,r.layoutBox);const u=!BW(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const w=fn();Ig(w,r.layoutBox,g.layoutBox);const y=fn();Ig(y,n,v.layoutBox),zW(w,y)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function qoe(e){yg&&rd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Uoe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Voe(e){e.clearSnapshot()}function R4(e){e.clearMeasurements()}function Woe(e){e.isLayoutDirty=!1}function Hoe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function M4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Koe(e){e.resolveTargetDelta()}function Goe(e){e.calcProjection()}function Zoe(e){e.resetSkewAndRotation()}function Yoe(e){e.removeLeadSnapshot()}function I4(e,t,r){e.translate=tn(t.translate,0,r),e.scale=tn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function D4(e,t,r,n){e.min=tn(t.min,r.min,n),e.max=tn(t.max,r.max,n)}function Xoe(e,t,r,n){D4(e.x,t.x,r.x,n),D4(e.y,t.y,r.y,n)}function Joe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Qoe={duration:.45,ease:[.4,0,.1,1]},L4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$4=L4("applewebkit/")&&!L4("chrome/")?Math.round:Ts;function F4(e){e.min=$4(e.min),e.max=$4(e.max)}function ele(e){F4(e.x),F4(e.y)}function VW(e,t,r){return e==="position"||e==="preserve-aspect"&&!noe(A4(t),A4(r),.2)}function tle(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const rle=UW({attachResizeListener:(e,t)=>rv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gS={current:void 0},WW=UW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gS.current){const e=new rle({});e.mount(window),e.setOptions({layoutScroll:!0}),gS.current=e}return gS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nle={pan:{Feature:xoe},drag:{Feature:yoe,ProjectionNode:WW,MeasureLayout:LW}};function B4(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Kr.postRender(()=>s(t,sy(t)))}class ile extends pu{mount(){const{current:t}=this.node;t&&(this.unmount=nse(t,r=>(B4(this.node,r,"Start"),n=>B4(this.node,n,"End"))))}unmount(){}}class sle extends pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iy(rv(this.node.current,"focus",()=>this.onFocus()),rv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function z4(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Kr.postRender(()=>s(t,sy(t)))}class ale extends pu{mount(){const{current:t}=this.node;t&&(this.unmount=ose(t,r=>(z4(this.node,r,"Start"),(n,{success:i})=>z4(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oT=new WeakMap,vS=new WeakMap,ole=e=>{const t=oT.get(e.target);t&&t(e)},lle=e=>{e.forEach(ole)};function cle({root:e,...t}){const r=e||document;vS.has(r)||vS.set(r,{});const n=vS.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(lle,{root:e,...t})),n[i]}function ule(e,t,r){const n=cle(t);return oT.set(e,r),n.observe(e),()=>{oT.delete(e),n.unobserve(e)}}const dle={some:0,all:1};class fle extends pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:dle[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=u?f:p;g&&g(c)};return ule(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(hle(t,r))&&this.startObserver()}unmount(){}}function hle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const ple={inView:{Feature:fle},tap:{Feature:ale},focus:{Feature:sle},hover:{Feature:ile}},mle={layout:{ProjectionNode:WW,MeasureLayout:LW}},lT={current:null},HW={current:!1};function gle(){if(HW.current=!0,!!rO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lT.current=e.matches;e.addListener(t),t()}else lT.current=!1}const vle=[...vW,vi,ou],yle=e=>vle.find(gW(e)),q4=new WeakMap;function xle(e,t,r){for(const n in t){const i=t[n],s=r[n];if(_i(i))e.addValue(n,i);else if(_i(s))e.addValue(n,ev(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,ev(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const U4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ble{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=TO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=jo.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Kr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=c_(r),this.isVariantNode=NV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const w=g[v];c[v]!==void 0&&_i(w)&&w.set(c[v],!1)}}mount(t){this.current=t,q4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),HW.current||gle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){q4.delete(this.current),this.projection&&this.projection.unmount(),au(this.notifyUpdate),au(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=zd.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Kr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bh){const r=Bh[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<U4.length;n++){const i=U4[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=xle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=ev(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(pW(i)||sW(i))?i=parseFloat(i):!yle(i)&&ou.test(r)&&(i=dW(t,r)),this.setBaseTarget(t,_i(i)?i.get():i)),_i(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=cO(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!_i(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new jO),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class KW extends ble{constructor(){super(...arguments),this.KeyframeResolver=yW}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_i(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function wle(e){return window.getComputedStyle(e)}class _le extends KW{constructor(){super(...arguments),this.type="html",this.renderInstance=MV}readValueFromInstance(t,r){if(zd.has(r)){const n=PO(r);return n&&n.default||0}else{const n=wle(t),i=(kV(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return IW(t,r)}build(t,r,n){fO(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return gO(t,r,n)}}class jle extends KW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(zd.has(r)){const n=PO(r);return n&&n.default||0}return r=IV.has(r)?r:aO(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return $V(t,r,n)}build(t,r,n){hO(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){DV(t,r,n,i)}mount(t){this.isSVGTag=mO(t.tagName),super.mount(t)}}const Sle=(e,t)=>lO(e)?new jle(t):new _le(t,{allowProjection:e!==x.Fragment}),Nle=Yie({...Gae,...ple,...nle,...mle},Sle),Re=die(Nle),Cle=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ty(async()=>{const{default:n}=await Promise.resolve().then(()=>Ap);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class RO extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ele extends RO{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class V4 extends RO{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class W4 extends RO{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cT;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cT||(cT={}));var Ple=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Tle{constructor(t,{headers:r={},customFetch:n,region:i=cT.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Cle(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ple(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(y=>{throw new Ele(y)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new V4(p);if(!p.ok)throw new W4(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield p.json():v==="application/octet-stream"?w=yield p.blob():v==="text/event-stream"?w=p:v==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof W4||i instanceof V4?i.context:void 0}}})}}var Wn={},Hf={},Kf={},Gf={},Zf={},Yf={},Ale=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qh=Ale();const kle=qh.fetch,GW=qh.fetch.bind(qh),ZW=qh.Headers,Ole=qh.Request,Rle=qh.Response,Ap=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZW,Request:Ole,Response:Rle,default:GW,fetch:kle},Symbol.toStringTag,{value:"Module"})),Mle=BU(Ap);var d0={},H4;function YW(){if(H4)return d0;H4=1,Object.defineProperty(d0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return d0.default=e,d0}var K4;function XW(){if(K4)return Yf;K4=1;var e=Yf&&Yf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Yf,"__esModule",{value:!0});const t=e(Mle),r=e(YW());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,g;let v=null,w=null,y=null,_=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=A:w=JSON.parse(A))}const C=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),k=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&k&&k.length>1&&(y=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,_=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const C=await u.text();try{v=JSON.parse(C),Array.isArray(v)&&u.status===404&&(w=[],v=null,_=200,S="OK")}catch{u.status===404&&C===""?(_=204,S="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,_=200,S="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:w,count:y,status:_,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,p,g;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(p=u?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return Yf.default=n,Yf}var G4;function JW(){if(G4)return Zf;G4=1;var e=Zf&&Zf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zf,"__esModule",{value:!0});const t=e(XW());class r extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Zf.default=r,Zf}var Z4;function MO(){if(Z4)return Gf;Z4=1;var e=Gf&&Gf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gf,"__esModule",{value:!0});const t=e(JW());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Gf.default=r,Gf}var Y4;function QW(){if(Y4)return Kf;Y4=1;var e=Kf&&Kf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kf,"__esModule",{value:!0});const t=e(MO());class r{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=s,this.schema=o,this.fetch=l}select(i,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(u.length>0){const f=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Kf.default=r,Kf}var Km={},Gm={},X4;function Ile(){return X4||(X4=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.version=void 0,Gm.version="0.0.0-automated"),Gm}var J4;function Dle(){if(J4)return Km;J4=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.DEFAULT_HEADERS=void 0;const e=Ile();return Km.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Km}var Q4;function Lle(){if(Q4)return Hf;Q4=1;var e=Hf&&Hf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Hf,"__esModule",{value:!0});const t=e(QW()),r=e(MO()),n=Dle();class i{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let v;c||u?(p=c?"HEAD":"GET",Object.entries(l).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{g.searchParams.append(y,_)})):(p="POST",v=l);const w=Object.assign({},this.headers);return f&&(w.Prefer=`count=${f}`),new r.default({method:p,url:g,headers:w,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Hf.default=i,Hf}var e$;function $le(){if(e$)return Wn;e$=1;var e=Wn&&Wn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const t=e(Lle());Wn.PostgrestClient=t.default;const r=e(QW());Wn.PostgrestQueryBuilder=r.default;const n=e(MO());Wn.PostgrestFilterBuilder=n.default;const i=e(JW());Wn.PostgrestTransformBuilder=i.default;const s=e(XW());Wn.PostgrestBuilder=s.default;const o=e(YW());return Wn.PostgrestError=o.default,Wn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Wn}var Fle=$le();const Ble=pr(Fle),{PostgrestClient:zle,PostgrestQueryBuilder:iqe,PostgrestFilterBuilder:sqe,PostgrestTransformBuilder:aqe,PostgrestBuilder:oqe,PostgrestError:lqe}=Ble;function qle(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ule=qle(),Vle="2.11.15",Wle=`realtime-js/${Vle}`,Hle="1.0.0",e9=1e4,Kle=1e3;var Dg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dg||(Dg={}));var gi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gi||(gi={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var uT;(function(e){e.websocket="websocket"})(uT||(uT={}));var ld;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ld||(ld={}));class Gle{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class t9{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dr||(Dr={}));const t$=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=Zle(o,e,t,i),s),{})},Zle=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i?.type,o=r[e];return s&&!n.includes(s)?r9(s,o):dT(o)},r9=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Qle(t,r)}switch(e){case Dr.bool:return Yle(t);case Dr.float4:case Dr.float8:case Dr.int2:case Dr.int4:case Dr.int8:case Dr.numeric:case Dr.oid:return Xle(t);case Dr.json:case Dr.jsonb:return Jle(t);case Dr.timestamp:return ece(t);case Dr.abstime:case Dr.date:case Dr.daterange:case Dr.int4range:case Dr.int8range:case Dr.money:case Dr.reltime:case Dr.text:case Dr.time:case Dr.timestamptz:case Dr.timetz:case Dr.tsrange:case Dr.tstzrange:return dT(t);default:return dT(t)}},dT=e=>e,Yle=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xle=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Jle=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Qle=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>r9(t,l))}return e},ece=e=>typeof e=="string"?e.replace(" ","T"):e,n9=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yS{constructor(t,r,n={},i=e9){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var r$;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(r$||(r$={}));class Lg{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lg.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Lg.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lg.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const p=s[u];if(p){const g=f.map(_=>_.presence_ref),v=p.map(_=>_.presence_ref),w=f.filter(_=>v.indexOf(_.presence_ref)<0),y=p.filter(_=>g.indexOf(_.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=f}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const p=t[l].map(v=>v.presence_ref),g=f.filter(v=>p.indexOf(v.presence_ref)<0);t[l].unshift(...g)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(p=>p.presence_ref);u=u.filter(p=>f.indexOf(p.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var n$;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(n$||(n$={}));var i$;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(i$||(i$={}));var hl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hl||(hl={}));class IO{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yS(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new t9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Lg(this),this.broadcastEndpointURL=n9(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gi.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(f=>t?.(hl.CHANNEL_ERROR,f)),this._onClose(()=>t?.(hl.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(hl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,w=[];for(let y=0;y<v;y++){const _=g[y],{filter:{event:S,schema:N,table:C,filter:k}}=_,A=f&&f[y];if(A&&A.event===S&&A.schema===N&&A.table===C&&A.filter===k)w.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=gi.errored,t?.(hl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(hl.SUBSCRIBED);return}}).receive("error",f=>{this.state=gi.errored,t?.(hl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(hl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new yS(this,Pa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yS(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Pa;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,y,_;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(y=v.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var w,y,_,S,N,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const k=v.id,A=(w=v.filter)===null||w===void 0?void 0:w.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(A==="*"||A?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(N=(S=v?.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return k==="*"||k===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:y,table:_,commit_timestamp:S,type:N,errors:C}=w;g=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:S,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(w))}v.callback(g,n)})}_isClosed(){return this.state===gi.closed}_isJoined(){return this.state===gi.joined}_isJoining(){return this.state===gi.joining}_isLeaving(){return this.state===gi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&IO.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=t$(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=t$(t.columns,t.old_record)),r}}const s$=()=>{},tce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rce{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e9,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=s$,this.ref=0,this.logger=s$,this.conn=null,this.sendBuffer=[],this.serializer=new Gle,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>ty(async()=>{const{default:c}=await Promise.resolve().then(()=>Ap);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${uT.websocket}`,this.httpEndpoint=n9(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new t9(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ule),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hle}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dg.connecting:return ld.Connecting;case Dg.open:return ld.Open;case Dg.closing:return ld.Closing;default:return ld.Closed}}isConnected(){return this.connectionState()===ld.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new IO(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Wle};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Pa.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Kle,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tce],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class DO extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Hn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nce extends DO{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fT extends DO{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ice=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const i9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ty(async()=>{const{default:n}=await Promise.resolve().then(()=>Ap);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sce=()=>ice(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ty(()=>Promise.resolve().then(()=>Ap),void 0)).Response:Response}),hT=e=>{if(Array.isArray(e))return e.map(r=>hT(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=hT(n)}),t},ace=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qd=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const xS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oce=(e,t,r)=>qd(void 0,void 0,void 0,function*(){const n=yield sce();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new nce(xS(i),s,o))}).catch(i=>{t(new fT(xS(i),i))}):t(new fT(xS(e),e))}),lce=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(ace(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function ay(e,t,r,n,i,s){return qd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,lce(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>oce(c,l,n))})})}function Eb(e,t,r,n){return qd(this,void 0,void 0,function*(){return ay(e,"GET",t,r,n)})}function pl(e,t,r,n,i){return qd(this,void 0,void 0,function*(){return ay(e,"POST",t,n,i,r)})}function pT(e,t,r,n,i){return qd(this,void 0,void 0,function*(){return ay(e,"PUT",t,n,i,r)})}function cce(e,t,r,n){return qd(this,void 0,void 0,function*(){return ay(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function s9(e,t,r,n,i){return qd(this,void 0,void 0,function*(){return ay(e,"DELETE",t,n,i,r)})}var Gi=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const uce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dce{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=i9(i)}uploadOrUpdate(t,r,n,i){return Gi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},a$),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),p=yield(t=="PUT"?pT:pl)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(Hn(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Gi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:a$.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const p=yield pT(this.fetch,l.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(Hn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Gi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield pl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new DO("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}update(t,r,n){return Gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Gi(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Gi(this,void 0,void 0,function*(){try{return{data:{path:(yield pl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Gi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield pl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Gi(this,void 0,void 0,function*(){try{const i=yield pl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}download(t,r){return Gi(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Eb(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Hn(l))return{data:null,error:l};throw l}})}info(t){return Gi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Eb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hT(n),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}exists(t){return Gi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield cce(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Hn(n)&&n instanceof fT){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Gi(this,void 0,void 0,function*(){try{return{data:yield s9(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}list(t,r,n){return Gi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uce),r),{prefix:t||""});return{data:yield pl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fce="2.10.4",hce={"X-Client-Info":`storage-js/${fce}`};var Xf=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class pce{constructor(t,r={},n,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},hce),r),this.fetch=i9(n)}listBuckets(){return Xf(this,void 0,void 0,function*(){try{return{data:yield Eb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Hn(t))return{data:null,error:t};throw t}})}getBucket(t){return Xf(this,void 0,void 0,function*(){try{return{data:yield Eb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Xf(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Xf(this,void 0,void 0,function*(){try{return{data:yield pT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xf(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xf(this,void 0,void 0,function*(){try{return{data:yield s9(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}}class mce extends pce{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new dce(this.url,this.headers,t,this.fetch)}}const gce="2.53.0";let xg="";typeof Deno<"u"?xg="deno":typeof document<"u"?xg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xg="react-native":xg="node";const vce={"X-Client-Info":`supabase-js-${xg}/${gce}`},yce={headers:vce},xce={schema:"public"},bce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wce={};var _ce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const jce=e=>{let t;return e?t=e:typeof fetch>"u"?t=GW:t=fetch,(...r)=>t(...r)},Sce=()=>typeof Headers>"u"?ZW:Headers,Nce=(e,t,r)=>{const n=jce(r),i=Sce();return(s,o)=>_ce(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var Cce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Ece(e){return e.endsWith("/")?e:e+"/"}function Pce(e,t){var r,n;const{db:i,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Cce(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const a9="2.71.1",mh=30*1e3,mT=3,bS=mT*mh,Tce="http://localhost:9999",Ace="supabase.auth.token",kce={"X-Client-Info":`gotrue-js/${a9}`},gT="X-Supabase-Api-Version",o9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Oce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rce=10*60*1e3;class LO extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Lt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Mce extends LO{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ice(e){return Lt(e)&&e.name==="AuthApiError"}class l9 extends LO{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class mu extends LO{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Dc extends mu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dce(e){return Lt(e)&&e.name==="AuthSessionMissingError"}class f0 extends mu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class h0 extends mu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class p0 extends mu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lce(e){return Lt(e)&&e.name==="AuthImplicitGrantRedirectError"}class o$ extends mu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vT extends mu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wS(e){return Lt(e)&&e.name==="AuthRetryableFetchError"}class l$ extends mu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yT extends mu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),c$=` 	
\r=`.split(""),$ce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<c$.length;t+=1)e[c$[t].charCodeAt(0)]=-2;for(let t=0;t<Pb.length;t+=1)e[Pb[t].charCodeAt(0)]=t;return e})();function u$(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pb[n]),t.queuedBits-=6}}function c9(e,t,r){const n=$ce[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function d$(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{zce(o,n,r)};for(let o=0;o<e.length;o+=1)c9(e.charCodeAt(o),i,s);return t.join("")}function Fce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bce(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Fce(n,t)}}function zce(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)c9(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Uce(e){const t=[];return Bce(e,r=>t.push(r)),new Uint8Array(t)}function Vce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>u$(i,r,n)),u$(null,r,n),t.join("")}function Wce(e){return Math.round(Date.now()/1e3)+e}function Hce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Na=()=>typeof window<"u"&&typeof document<"u",Ju={tested:!1,writable:!1},u9=()=>{if(!Na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ju.tested)return Ju.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ju.tested=!0,Ju.writable=!0}catch{Ju.tested=!0,Ju.writable=!1}return Ju.writable};function Kce(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const d9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ty(async()=>{const{default:n}=await Promise.resolve().then(()=>Ap);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Gce=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pc=async(e,t)=>{await e.removeItem(t)};class f_{constructor(){this.promise=new f_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}f_.promiseConstructor=Promise;function _S(e){const t=e.split(".");if(t.length!==3)throw new yT("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Oce.test(t[n]))throw new yT("JWT not in base64url format");return{header:JSON.parse(d$(t[0])),payload:JSON.parse(d$(t[1])),signature:qce(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zce(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Yce(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Xce(e){return("0"+e.toString(16)).substr(-2)}function Jce(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Xce).join("")}async function Qce(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function eue(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Qce(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jf(e,t,r=!1){const n=Jce();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await gh(e,`${t}-code-verifier`,i);const s=await eue(n);return[s,n===s?"plain":"s256"]}const tue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rue(e){const t=e.headers.get(gT);if(!t||!t.match(tue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iue(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qf(e){if(!sue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jS(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f$(e){return JSON.parse(JSON.stringify(e))}var aue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const nd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oue=[502,503,504];async function h$(e){var t;if(!Gce(e))throw new vT(nd(e),0);if(oue.includes(e.status))throw new vT(nd(e),e.status);let r;try{r=await e.json()}catch(s){throw new l9(nd(s),s)}let n;const i=rue(e);if(i&&i.getTime()>=o9["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new l$(nd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Dc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new l$(nd(r),e.status,r.weak_password.reasons);throw new Mce(nd(r),e.status||500,n)}const lue=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Zt(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[gT]||(s[gT]=o9["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await cue(e,t,r+l,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function cue(e,t,r,n,i,s){const o=lue(t,n,i,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new vT(nd(c),0)}if(l.ok||await h$(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await h$(c)}}function fl(e){var t;let r=null;hue(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Wce(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function p$(e){const t=fl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Uc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uue(e){return{data:e,error:null}}function due(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=aue(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function fue(e){return e}function hue(e){return e.access_token&&e.refresh_token&&e.expires_in}const SS=["global","local","others"];var pue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class mue{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=d9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=SS[0]){if(SS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SS.join(", ")}`);try{return await Zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Uc})}catch(n){if(Lt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=pue(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:due,redirectTo:r?.redirectTo})}catch(r){if(Lt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Uc})}catch(r){if(Lt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:fue});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Lt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qf(t);try{return await Zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Uc})}catch(r){if(Lt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Qf(t);try{return await Zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Uc})}catch(n){if(Lt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Qf(t);try{return await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Uc})}catch(n){if(Lt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qf(t.userId);try{const{data:r,error:n}=await Zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Lt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Qf(t.userId),Qf(t.id);try{return{data:await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}}}function m$(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function gue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const eh={debug:!!(globalThis&&u9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f9 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vue extends f9{}async function yue(e,t,r){eh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),eh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){eh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{eh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw eh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(eh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}gue();const xue={url:Tce,storageKey:Ace,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function g$(e,t,r){return await r()}const th={};class nv{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nv.nextInstanceID,nv.nextInstanceID+=1,this.instanceID>0&&Na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xue),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mue({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=d9(i.fetch),this.lock=i.lock||g$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Na()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=yue:this.lock=g$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:u9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=m$(this.memoryStorage)),Na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=th[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){th[this.storageKey]=Object.assign(Object.assign({},th[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=th[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){th[this.storageKey]=Object.assign(Object.assign({},th[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a9}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Kce(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Na()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Lce(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Lt(r)?{error:r}:{error:new l9("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:fl}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Lt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Jf(this.storage,this.storageKey)),s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:w},xform:fl})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:fl})}else throw new h0("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Lt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:p$})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:p$})}else throw new h0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new f0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Lt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,o,l,c,u,f,p,g,v;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:_,wallet:S,statement:N,options:C}=t;let k;if(Na())if(typeof S=="object")k=S;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))k=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=S}const A=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const T=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let O;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")O=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)O=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)w=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),y=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${A.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(f=C?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const T=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:_,error:S}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Vce(y)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:fl});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new f0}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Lt(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Qu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fl});if(await Pc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new f0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Lt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,l=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:fl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new f0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Lt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Jf(this.storage,this.storageKey));const{error:p}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new h0("You must provide either an email or phone number.")}catch(l){if(Lt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:fl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Lt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Jf(this.storage,this.storageKey)),await Zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:uue})}catch(s){if(Lt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Dc;const{error:i}=await Zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Lt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:l}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new h0("You must provide either an email or phone number and a type")}catch(r){if(Lt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<bS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Qu(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=jS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Uc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dc}:await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Uc})})}catch(r){if(Lt(r))return Dce(r)&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Dc;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Jf(this.storage,this.storageKey));const{data:u,error:f}=await Zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Uc});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Lt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=_S(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Lt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Dc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Lt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Na())throw new p0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new p0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new o$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new p0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new o$("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new p0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let g=f+p;c&&(g=parseInt(c));const v=g-f;v*1e3<=mh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const w=g-p;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,f);const{data:y,error:_}=await this._getUser(s);if(_)throw _;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Lt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ice(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Hce(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Jf(this.storage,this.storageKey,!0));try{return await Zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Lt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,f;const{data:p,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Zt(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Na()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Lt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Lt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Yce(async i=>(i>0&&await Zce(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fl})),(i,s)=>{const o=200*Math.pow(2,i);return s&&wS(s)&&Date.now()+o-n<mh})}catch(n){if(this._debug(r,"error",n),Lt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Na()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Qu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Qu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await gh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:jS()}else if(i&&!i.user&&!i.user){const o=await Qu(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Pc(this.storage,this.storageKey+"-user"),await gh(this.storage,this.storageKey,i)):i.user=jS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bS;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${bS}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),wS(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Dc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new f_;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Dc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Lt(s)){const o={session:null,error:s};return wS(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gh(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=f$(i);await gh(this.storage,this.storageKey,s)}else{const i=f$(r);await gh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Pc(this.storage,this.storageKey),await Pc(this.storage,this.storageKey+"-code-verifier"),await Pc(this.storage,this.storageKey+"-user"),this.userStorage&&await Pc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Na()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/mh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mh}ms, refresh threshold is ${mT} ticks`),i<=mT&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof f9)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Na()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Jf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Lt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Lt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_S(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Rce>i)return n;const{data:s,error:o}=await Zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=_S(n);r?.allowExpired||nue(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const f=iue(i.alg),p=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,Uce(`${l}.${c}`)))throw new yT("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}}}nv.nextInstanceID=0;const bue=nv;class wue extends bue{constructor(t){super(t)}}var _ue=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class jue{constructor(t,r,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Ece(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:xce,realtime:wce,auth:Object.assign(Object.assign({},bce),{storageKey:u}),global:yce},p=Pce(n??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Nce(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new zle(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new mce(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Tle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _ue(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:c},u,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wue({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sue=(e,t,r)=>new jue(e,t,r);function Nue(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Nue()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Vc="https://vvlpgviacinsbggfsexs.supabase.co";const $O="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ2bHBndmlhY2luc2JnZ2ZzZXhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MjMzNjUsImV4cCI6MjA3MDA5OTM2NX0.YsZUDyYfgGHD7jNDKAVaR4Y0yzulwLo2NGo85ohHefY";console.log("🔍 Variables d'environnement détectées:");console.log("🔍 VITE_SUPABASE_URL:",Vc);console.log("🔍 VITE_SUPABASE_ANON_KEY length:",$O?.length);Vc&&Vc.startsWith("//")&&(Vc="https:"+Vc,console.log("🔧 URL Supabase corrigée:",Vc));const yr=!!(Vc&&$O);console.log("🔍 isSupabaseConfigured:",yr);yr||console.error("Supabase non configuré: VITE_SUPABASE_URL ou VITE_SUPABASE_ANON_KEY manquants");const ml={sessionTimeout:30*60*1e3,rememberMeDays:7,autoRefresh:!0,detectSessionInUrl:!0,persistSession:!0},Se=Sue(Vc||"https://placeholder.supabase.co",$O,{auth:{autoRefreshToken:ml.autoRefresh,persistSession:ml.persistSession,detectSessionInUrl:ml.detectSessionInUrl,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"maximarket-web"}}});let Cue=0;const Eue=function(e){if(typeof window>"u"||typeof document>"u")return{id:"noop",dismiss:function(){}};const t="toast-"+ ++Cue,r=document.getElementById("toaster-container");if(!r)return console.warn("Toast container not found"),{id:"noop",dismiss:function(){}};try{const n=document.createElement("div");n.id=t,n.className="bg-background border rounded-md p-4 shadow-lg max-w-sm mb-2";let i="";return e.title&&(i+='<div class="font-semibold">'+e.title+"</div>"),e.description&&(i+='<div class="text-sm opacity-90 mt-1">'+e.description+"</div>"),n.innerHTML=i+'<button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-foreground/50 hover:text-foreground">✕</button>',r.appendChild(n),e.duration!==1/0&&setTimeout(function(){n.parentNode&&n.remove()},e.duration||5e3),{id:t,dismiss:function(){n.parentNode&&n.remove()}}}catch(n){return console.error("Error creating toast:",n),{id:"error",dismiss:function(){}}}};function Cn(){return{toast:Eue,toasts:[]}}const h9=x.createContext({}),Pue=({children:e})=>{const[t,r]=x.useState(null),[n,i]=x.useState(null),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(null),[p,g]=x.useState(!1),{toast:v}=Cn(),w=x.useCallback(()=>{if(l&&!p){const V=Date.now();V-(l.created_at?new Date(l.created_at).getTime():V)>ml.sessionTimeout&&(console.log("🕐 Session expirée, déconnexion automatique"),N(),v({title:"Session expirée",description:"Votre session a expiré. Veuillez vous reconnecter.",variant:"destructive"}))}},[l,p,v]);x.useEffect(()=>{if(!l)return;const V=setInterval(w,6e4);return()=>clearInterval(V)},[l,w]);const y=x.useCallback(V=>{g(V),V?(localStorage.setItem("maximarket-remember-me","true"),localStorage.setItem("maximarket-remember-date",new Date().toISOString())):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"))},[]);x.useEffect(()=>{const V=localStorage.getItem("maximarket-remember-me")==="true",U=localStorage.getItem("maximarket-remember-date");V&&U&&((Date.now()-new Date(U).getTime())/864e5<=ml.rememberMeDays?g(!0):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),g(!1)))},[]),x.useEffect(()=>{if(!yr){o(!1);return}(async()=>{const{data:{session:z}}=await Se.auth.getSession();if(c(z),r(z?.user??null),z?.user)try{const{data:H}=await Se.from("users").select("*").eq("id",z.user.id).single();if(i(H),z.created_at){const re=new Date(z.created_at).getTime()+ml.sessionTimeout;f(re)}}catch(H){console.error("Erreur lors de la récupération du profil:",H)}o(!1)})();const{data:{subscription:U}}=Se.auth.onAuthStateChange(async(z,H)=>{if(console.log("Auth state changed:",z,H),c(H),r(H?.user??null),H?.user)try{const{data:re}=await Se.from("users").select("*").eq("id",H.user.id).single();if(i(re),H.created_at){const se=new Date(H.created_at).getTime()+ml.sessionTimeout;f(se)}}catch(re){console.error("Erreur lors de la récupération du profil:",re)}else i(null),f(null);if(o(!1),z==="SIGNED_IN"){if(H?.user){const re={id:H.user.id,first_name:H.user.user_metadata?.first_name||"",last_name:H.user.user_metadata?.last_name||"",email:H.user.email,phone_number:H.user.user_metadata?.phone_number||"",role:"user"},{error:se}=await Se.from("users").upsert([re],{onConflict:"id"});se&&console.error("Profile upsert error:",se)}v({title:"Connexion réussie",description:"Bienvenue sur MaxiMarket !"})}else if(z==="SIGNED_OUT")f(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date");else if(z==="TOKEN_REFRESHED"&&H?.created_at){const re=new Date(H.created_at).getTime()+ml.sessionTimeout;f(re)}});return()=>U.unsubscribe()},[v]);const _=async(V,U=!1)=>{try{if(!yr)throw new Error("Supabase non configuré");const{data:z,error:H}=await Se.auth.signInWithPassword({email:V.email,password:V.password});if(H)throw H;return y(U),console.log("Supabase login successful:",z),!0}catch(z){return console.error("Login error:",z),v({title:"Erreur de connexion",description:z.message,variant:"destructive"}),!1}},S=async V=>{try{if(!yr)throw new Error("Supabase non configuré");const U=(V?.phoneNumber||"").trim(),z=/^\+?[1-9]\d{1,14}$/;if(!U)return v({title:"Numéro requis",description:"Le numéro de téléphone est obligatoire pour créer un compte.",variant:"destructive"}),!1;if(!z.test(U))return v({title:"Numéro invalide",description:"Veuillez saisir un numéro de téléphone valide (format international).",variant:"destructive"}),!1;const{data:H,error:re}=await Se.auth.signUp({email:V.email,password:V.password,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{first_name:V.firstName,last_name:V.lastName,phone_number:U}}});if(re)throw re;if(console.log("Supabase register successful:",H),H.user){const{error:se}=await Se.from("users").upsert([{id:H.user.id,first_name:V.firstName,last_name:V.lastName,email:V.email,phone_number:U,role:"user"}],{onConflict:"id"});se&&console.error("Profile upsert error:",se)}return H.user&&!H.user.email_confirmed_at?(v({title:"Inscription réussie",description:"Vérifiez votre email pour confirmer votre compte !"}),{success:!0,needsConfirmation:!0}):(v({title:"Inscription réussie",description:"Bienvenue sur MaxiMarket !"}),{success:!0,needsConfirmation:!1})}catch(U){return console.error("Register error:",U),v({title:"Erreur d'inscription",description:U.message,variant:"destructive"}),!1}},N=async()=>{try{const{error:V}=await Se.auth.signOut();if(V)throw V;return f(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),!0}catch(V){return console.error("Logout error:",V),v({title:"Erreur de déconnexion",description:V.message,variant:"destructive"}),!1}},Z={user:n||t,userProfile:n,session:l,sessionExpiry:u,isRememberMe:p,loading:s,login:_,register:S,logout:N,extendSession:async()=>{try{if(!l)return!1;const{data:V,error:U}=await Se.auth.refreshSession();if(U)throw U;if(V.session){const z=new Date(V.session.created_at).getTime()+ml.sessionTimeout;return f(z),v({title:"Session étendue",description:"Votre session a été prolongée avec succès."}),!0}return!1}catch(V){return console.error("Erreur lors de l'extension de session:",V),!1}},getSessionStatus:()=>{if(!l)return"disconnected";if(p)return"remembered";if(u){const V=Date.now(),U=u-V;return U<=0?"expired":U<=5*60*1e3?"expiring_soon":"active"}return"active"},getSessionTimeLeft:()=>{if(!u)return 0;const V=Date.now(),U=u-V;return Math.max(0,U)},resetPassword:async V=>{try{const{error:U}=await Se.auth.resetPasswordForEmail(V,{redirectTo:`${window.location.origin}/reset-password`});if(U)throw U;return v({title:"Email envoyé",description:"Vérifiez votre boîte mail pour réinitialiser votre mot de passe."}),!0}catch(U){return console.error("Reset password error:",U),v({title:"Erreur",description:U.message,variant:"destructive"}),!1}},updatePassword:async V=>{try{const{error:U}=await Se.auth.updateUser({password:V});if(U)throw U;return v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été modifié avec succès."}),!0}catch(U){return console.error("Update password error:",U),v({title:"Erreur",description:U.message,variant:"destructive"}),!1}},hasRole:V=>t?n?.role?n.role===V:t.user_metadata?.role===V||t.app_metadata?.role===V:!1,hasAnyRole:V=>{if(!t)return!1;if(n?.role)return V.includes(n.role);const U=t.user_metadata?.role||t.app_metadata?.role;return V.includes(U)},isAuthenticated:!!t};return a.jsx(h9.Provider,{value:Z,children:e})},Or=()=>{const e=x.useContext(h9);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>x.createElement("svg",{ref:f,...Tue,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Aue(e)}`,l].join(" "),...u},[...t.map(([p,g])=>x.createElement(p,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=Be("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=Be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=Be("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=Be("BadgeCent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M15.4 10a4 4 0 1 0 0 4",key:"2eqtx8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Be("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Be("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Be("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Be("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Be("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Be("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=Be("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=Be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=Be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Be("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=Be("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=Be("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=Be("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=Be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=Be("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=Be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Be("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=Be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=Be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=Be("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=Be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=Be("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Be("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=Be("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=Be("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=Be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=Be("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=Be("SearchCode",[["path",{d:"m9 9-2 2 2 2",key:"17gsfh"}],["path",{d:"m13 13 2-2-2-2",key:"186z8k"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=Be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=Be("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Be("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=Be("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=Be("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=Be("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=Be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=Be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),id=({children:e,requiredRole:t="user"})=>{const{user:r,loading:n}=Or(),i=Si();if(console.log("🔒 ProtectedRoute check:",{user:!!r,loading:n,requiredRole:t,path:i.pathname}),n)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(kr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!r)return console.log("🔒 User not authenticated, redirecting to /connexion"),a.jsx(yL,{to:"/connexion",state:{from:i},replace:!0});const s=Array.isArray(r.roles)&&r.roles.includes(t)||r.role===t||r.roles===t;return t&&!s?a.jsx(yL,{to:"/",replace:!0}):e},Tc=({children:e})=>a.jsx(id,{requiredRole:"admin",children:e}),wde=new dV({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(e,t)=>t?.status>=500?e<2:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}}),_$={listings:{staleTime:2*60*1e3,gcTime:5*60*1e3}};class _de{constructor(){this.isSupported="serviceWorker"in navigator,this.registration=null,this.updateAvailable=!1}async register(){if(!this.isSupported)return console.warn("⚠️ Service Worker non supporté par ce navigateur"),!1;try{return console.log("🔄 Enregistrement du Service Worker..."),this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("✅ Service Worker enregistré:",this.registration),this.registration.addEventListener("updatefound",()=>{console.log("🔄 Mise à jour du Service Worker disponible"),this.updateAvailable=!0}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("✅ Nouveau Service Worker activé"),this.updateAvailable=!1,window.location.reload()}),navigator.serviceWorker.addEventListener("message",t=>{console.log("📨 Message du Service Worker:",t.data)}),!0}catch(t){return console.error("❌ Erreur lors de l'enregistrement du Service Worker:",t),!1}}async unregister(){if(this.registration)try{return await this.registration.unregister(),console.log("✅ Service Worker désenregistré"),!0}catch(t){return console.error("❌ Erreur lors du désenregistrement:",t),!1}return!1}async update(){if(this.registration&&this.updateAvailable)try{return this.registration.active.postMessage({type:"SKIP_WAITING"}),console.log("🔄 Mise à jour du Service Worker déclenchée"),!0}catch(t){return console.error("❌ Erreur lors de la mise à jour:",t),!1}return!1}async clearCache(){if(this.registration)try{return this.registration.active.postMessage({type:"CLEAR_CACHE"}),console.log("🗑️ Vidage du cache demandé"),!0}catch(t){return console.error("❌ Erreur lors du vidage du cache:",t),!1}return!1}getStatus(){return{isSupported:this.isSupported,isRegistered:!!this.registration,updateAvailable:this.updateAvailable,scope:this.registration?.scope||null}}}const HO=new _de;class jde{constructor(){this.usagePatterns=new Map,this.optimizations=new Map,this.isOptimizing=!1}recordUsage(t,r,n){this.usagePatterns.has(t)||this.usagePatterns.set(t,{hits:0,misses:0,lastAccess:n,accessTimes:[],totalAccesses:0});const i=this.usagePatterns.get(t);i.totalAccesses++,i.lastAccess=n,i.accessTimes.push(n),r?i.hits++:i.misses++,i.accessTimes.length>100&&i.accessTimes.shift(),this.optimizeTTL(t)}calculateAverageInterval(t){if(t.length<2)return 0;const r=[];for(let i=1;i<t.length;i++)r.push(t[i]-t[i-1]);return r.reduce((i,s)=>i+s,0)/r.length}calculateFreshnessRatio(t){if(t.hits+t.misses===0)return 0;const n=t.hits,i=t.misses;return n/(n+i)}optimizeTTL(t){const r=this.usagePatterns.get(t);if(!r||r.totalAccesses<10)return;const n=this.calculateAverageInterval(r.accessTimes),i=this.calculateFreshnessRatio(r),s=this.getCurrentTTL(t);let o=s;n<5*60*1e3&&i>.8?o=Math.min(s*1.5,30*60*1e3):n>15*60*1e3&&i<.3?o=Math.max(s*.7,1*60*1e3):n<1*60*1e3&&(o=Math.max(n*2,30*1e3)),this.optimizations.set(t,{currentTTL:s,optimalTTL:o,averageInterval:n,freshnessRatio:i,lastOptimized:Date.now()}),console.log(`🔧 TTL optimisé pour ${t}:`,{current:`${s/1e3}s`,optimal:`${o/1e3}s`,interval:`${n/1e3}s`,ratio:`${(i*100).toFixed(1)}%`})}getCurrentTTL(t){return t.includes("categories")?10*60*1e3:t.includes("listings")?2*60*1e3:t.includes("userListings")?1*60*1e3:(t.includes("search"),5*60*1e3)}getOptimalTTL(t){const r=this.optimizations.get(t);return r?r.optimalTTL:this.getCurrentTTL(t)}getOptimizationRecommendations(){const t=[];for(const[r,n]of this.optimizations){const i=(n.optimalTTL-n.currentTTL)/n.currentTTL*100;Math.abs(i)>10&&t.push({cacheKey:r,currentTTL:n.currentTTL,optimalTTL:n.optimalTTL,improvement:i.toFixed(1),averageInterval:n.averageInterval,freshnessRatio:n.freshnessRatio})}return t.sort((r,n)=>Math.abs(n.improvement)-Math.abs(r.improvement))}applyOptimizations(){const t=this.getOptimizationRecommendations();let r=0;for(const n of t)console.log(`✅ Optimisation appliquée pour ${n.cacheKey}:`,{from:`${n.currentTTL/1e3}s`,to:`${n.optimalTTL/1e3}s`,improvement:`${n.improvement}%`}),r++;return r}getOptimizationStats(){const t=this.usagePatterns.size,r=this.optimizations.size,n=this.getOptimizationRecommendations();return{totalPatterns:t,totalOptimizations:r,activeRecommendations:n.length,averageImprovement:n.length>0?n.reduce((i,s)=>i+Math.abs(parseFloat(s.improvement)),0)/n.length:0}}reset(){this.usagePatterns.clear(),this.optimizations.clear(),console.log("🔄 Optimisations TTL réinitialisées")}}const rh=new jde;class Sde{constructor(t="benome"){this.prefix=t,this.maxSize=50*1024*1024}_getKey(t){return`${this.prefix}:${t}`}_isExpired(t,r){return Date.now()-t>r}_getSize(t){return new Blob([JSON.stringify(t)]).size}_cleanup(){const r=Object.keys(localStorage).filter(o=>o.startsWith(`${this.prefix}:`));if(r.length===0)return;const n=r.map(o=>{try{const l=JSON.parse(localStorage.getItem(o));return{key:o,timestamp:l.timestamp,size:this._getSize(l)}}catch{return{key:o,timestamp:0,size:0}}}).sort((o,l)=>o.timestamp-l.timestamp);let i=this._getCurrentCacheSize();const s=this.maxSize*.8;for(const o of n){if(i<=s)break;localStorage.removeItem(o.key),i-=o.size}}_getCurrentCacheSize(){return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).reduce((n,i)=>{try{const s=JSON.parse(localStorage.getItem(i));return n+this._getSize(s)}catch{return n}},0)}set(t,r,n=5*60*1e3){try{const i=this._getKey(t),s={data:r,timestamp:Date.now(),ttl:n,version:"1.0"},o=this._getSize(s);return o>this.maxSize?(console.warn("⚠️ Données trop volumineuses pour le cache local"),!1):(this._getCurrentCacheSize()+o>this.maxSize&&this._cleanup(),localStorage.setItem(i,JSON.stringify(s)),rh.recordUsage(t,!1,Date.now()),!0)}catch(i){return console.error("❌ Erreur lors de la sauvegarde en cache:",i),!1}}get(t){try{const r=this._getKey(t),n=localStorage.getItem(r);if(!n)return rh.recordUsage(t,!1,Date.now()),null;const i=JSON.parse(n);return this._isExpired(i.timestamp,i.ttl)?(this.delete(t),rh.recordUsage(t,!1,Date.now()),null):(rh.recordUsage(t,!0,Date.now()),i.data)}catch(r){return console.error("❌ Erreur lors de la récupération du cache:",r),this.delete(t),null}}delete(t){try{const r=this._getKey(t);return localStorage.removeItem(r),!0}catch(r){return console.error("❌ Erreur lors de la suppression du cache:",r),!1}}clear(){try{return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).forEach(n=>localStorage.removeItem(n)),!0}catch(t){return console.error("❌ Erreur lors du vidage du cache:",t),!1}}getStats(){try{const r=Object.keys(localStorage).filter(s=>s.startsWith(`${this.prefix}:`)),n={totalEntries:r.length,totalSize:this._getCurrentCacheSize(),maxSize:this.maxSize,usagePercentage:this._getCurrentCacheSize()/this.maxSize*100};let i=0;return r.forEach(s=>{try{const o=JSON.parse(localStorage.getItem(s));this._isExpired(o.timestamp,o.ttl)&&i++}catch{i++}}),n.expiredEntries=i,n}catch(t){return console.error("❌ Erreur lors du calcul des statistiques:",t),null}}cleanup(){try{const r=Object.keys(localStorage).filter(i=>i.startsWith(`${this.prefix}:`));let n=0;return r.forEach(i=>{try{const s=JSON.parse(localStorage.getItem(i));this._isExpired(s.timestamp,s.ttl)&&(localStorage.removeItem(i),n++)}catch{localStorage.removeItem(i),n++}}),console.log(`🧹 Cache nettoyé: ${n} entrées supprimées`),n}catch(t){return console.error("❌ Erreur lors du nettoyage du cache:",t),0}}getTTLOptimizations(){return rh.getOptimizationRecommendations()}applyTTLOptimizations(){return rh.applyOptimizations()}}const KO=new Sde;setInterval(()=>{KO.cleanup()},5*60*1e3);const Nde=(e,t)=>t.map(r=>{const n=e[r.key]||"";return r.type==="date"?Cde(n):r.type==="currency"?Ede(n):r.type==="boolean"?n?"Oui":"Non":r.type==="array"?Array.isArray(n)?n.join(", "):n:r.type==="object"&&typeof n=="object"?JSON.stringify(n):n}).map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","),Cde=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}},Ede=e=>{if(e==null)return"";try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}catch{return String(e)}},Ym=(e,t,r="export")=>{try{const n=t.map(u=>u.label).join(","),i=e.map(u=>Nde(u,t)),s=[n,...i].join(`
`),o=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);return l.setAttribute("href",c),l.setAttribute("download",`${r}-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),{success:!0,message:"Export CSV réussi"}}catch(n){throw console.error("Erreur lors de l'export CSV:",n),new Error("Impossible d'exporter les données")}},Pde=[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"last_login_at",label:"Dernière connexion",type:"date"}],Tde=[{key:"id",label:"ID",type:"string"},{key:"title",label:"Titre",type:"string"},{key:"price",label:"Prix",type:"currency"},{key:"category",label:"Catégorie",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"location",label:"Localisation",type:"object"},{key:"views_count",label:"Vues",type:"number"},{key:"favorites_count",label:"Favoris",type:"number"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],Ade=[{key:"id",label:"ID",type:"string"},{key:"reference",label:"Référence",type:"string"},{key:"type",label:"Type",type:"string"},{key:"amount",label:"Montant",type:"currency"},{key:"currency",label:"Devise",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"payment_method",label:"Méthode de paiement",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"completed_at",label:"Date de finalisation",type:"date"}],kde=[{key:"id",label:"ID",type:"string"},{key:"name",label:"Nom",type:"string"},{key:"slug",label:"Slug",type:"string"},{key:"parent_category",label:"Type parent",type:"string"},{key:"description",label:"Description",type:"string"},{key:"icon",label:"Icône",type:"string"},{key:"sort_order",label:"Ordre de tri",type:"number"},{key:"is_active",label:"Actif",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],Ode=[{key:"id",label:"ID",type:"string"},{key:"reason",label:"Raison",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"type",label:"Type",type:"string"},{key:"severity",label:"Sévérité",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"moderated_at",label:"Date de modération",type:"date"}],v_={users:(e,t="utilisateurs")=>Ym(e,Pde,t),listings:(e,t="annonces")=>Ym(e,Tde,t),transactions:(e,t="transactions")=>Ym(e,Ade,t),categories:(e,t="categories")=>Ym(e,kde,t),reports:(e,t="rapports")=>Ym(e,Ode,t)},$a={getProfile:async(e=null)=>{const{data:{user:t}}=await Se.auth.getUser(),r=e||t?.id;if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await Se.from("users").select("*").eq("id",r).single();if(i)throw i;return n},updateProfile:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await Se.from("users").update(e).eq("id",t.id).select().single();if(n)throw n;return r},getAllUsers:async()=>{const{data:e,error:t}=await Se.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},updateUserStatus:async(e,t)=>{const{data:r,error:n}=await Se.from("users").update({status:t}).eq("id",e).select().single();if(n)throw n;return r},getUserById:async e=>{const{data:t,error:r}=await Se.from("users").select("*").eq("id",e).single();if(r)throw r;return t},searchUsers:async(e,t={})=>{let r=Se.from("users").select("*").or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%`);t.role&&(r=r.eq("role",t.role)),t.status&&(r=r.eq("status",t.status));const{data:n,error:i}=await r.order("created_at",{ascending:!1});if(i)throw i;return n},updateUserRole:async(e,t)=>{const{data:r,error:n}=await Se.from("users").update({role:t}).eq("id",e).select().single();if(n)throw n;return r},deleteUser:async e=>{const{error:t}=await Se.from("users").delete().eq("id",e);if(t)throw t;return!0},getUserStats:async()=>{const{data:e,error:t}=await Se.from("users").select("role, status, created_at");if(t)throw t;const r={total:e.length,byRole:{},byStatus:{},byMonth:{}};return e.forEach(n=>{r.byRole[n.role]=(r.byRole[n.role]||0)+1,r.byStatus[n.status]=(r.byStatus[n.status]||0)+1;const i=new Date(n.created_at).toISOString().slice(0,7);r.byMonth[i]=(r.byMonth[i]||0)+1}),r},exportUsers:async(e="csv")=>{const t=await $a.getAllUsers();return v_(t,[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],`utilisateurs-${new Date().toISOString().split("T")[0]}`,e)}},Rde=(e,t)=>{const r=e?.length||0;if(r===0)return{data:[],hasMore:!1,totalPremium:0};if(r<=t)return{data:e||[],hasMore:!1,totalPremium:r};const n=new Date,i=Math.floor((n-new Date(n.getFullYear(),0,0))/(1e3*60*60*24)),s=i%r,o=[];for(let l=0;l<t;l++){const c=(s+l)%r;o.push(e[c])}return console.log(`🔄 Rotation premium: ${r} total, ${t} affichées, offset: ${s}`),{data:o,hasMore:r>t,totalPremium:r,rotationInfo:{dayOfYear:i,rotationOffset:s,nextRotation:new Date(n.getTime()+24*60*60*1e3)}}},CS=e=>{let t=0;t+={highest:1e3,high:800,medium:600,low:400}[e.premium_metadata?.priority]||500,e.is_featured&&e.is_boosted?t+=900:e.is_featured?t+=700:e.is_boosted&&(t+=600);const n=Math.ceil((new Date(e.boost_expires_at)-new Date)/(1e3*60*60*24));t+=Math.max(0,n*10);const i=Math.ceil((Date.now()-new Date(e.updated_at))/(1e3*60*60*24));return t+=Math.max(0,30-i),t},Hr={getAllListings:async(e={})=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour de données de test"),{data:[{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}},{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",description:"Véhicule en parfait état, entretien régulier, première main.",price:25e5,category:"automobile",status:"approved",user_id:"test-user-2",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},automobile_details:{brand:"Toyota",model:"Corolla",year:"2020"},contact_info:{phone:"+221 76 987 6543",email:"vendeur-auto@test.com"},users:{id:"test-user-2",first_name:"Fatou",last_name:"Sall",phone_number:"+221 76 987 6543",email:"fatou.sall@test.com"}},{id:"test-3",title:"Service de Plomberie Professionnel",description:"Plombier qualifié avec 10 ans d'expérience. Réparation, installation, maintenance. Intervention rapide 24h/24.",price:15e3,category:"services",status:"approved",user_id:"test-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Plomberie",experience:"10 ans",availability:"24h/24",verified:!0,certifications:["Certification professionnelle","Assurance responsabilité civile"]},contact_info:{phone:"+221 78 555 1234",email:"plombier@test.com",website:"www.plombier-dakar.com"},users:{id:"test-user-3",first_name:"Ibrahima",last_name:"Ndiaye",phone_number:"+221 78 555 1234",email:"ibrahima.ndiaye@test.com"}},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",description:"iPhone 13 Pro 128GB en excellent état, acheté il y a 6 mois. Boîte et accessoires inclus.",price:45e4,category:"marketplace",status:"approved",user_id:"test-user-4",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},product_details:{brand:"Apple",model:"iPhone 13 Pro",condition:"Excellent",warranty:"Garantie constructeur",dimensions:"146.7 x 71.5 x 7.65 mm",weight:"203g"},contact_info:{phone:"+221 77 888 9999",email:"tech@test.com"},users:{id:"test-user-4",first_name:"Aissatou",last_name:"Diop",phone_number:"+221 77 888 9999",email:"aissatou.diop@test.com"}}],count:4,hasMore:!1};const{page:t=0,limit:r=12,sort:n}=e,i=t*r,s=i+r-1;try{console.log("🔍 Début de la requête getAllListings"),console.log("🔍 Construction de la requête Supabase...");let o=Se.from("listings").select("*").order(n==="popular"?"views_count":"created_at",{ascending:!1}).range(i,s);if(console.log("🔍 Requête de base construite"),e.category&&e.category!=="all"&&(o=o.eq("category",e.category)),e.status&&e.status!=="all"&&(o=o.eq("status",e.status)),e.user_id&&(o=o.eq("user_id",e.user_id)),e.search&&(o=o.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e.minPrice&&(o=o.gte("price",Number(e.minPrice))),e.maxPrice&&(o=o.lte("price",Number(e.maxPrice))),e.location){const f=String(e.location).trim();f&&(o=o.or(`location->>city.ilike.%${f}%,location->>country.ilike.%${f}%`))}console.log("🔍 Executing query with filters:",e),console.log("🔍 Lancement de la requête...");const{data:l,error:c}=await o;if(console.log("🔍 Requête terminée"),c)throw console.error("❌ Erreur Supabase:",c),c;const u=l?.map(f=>{try{return{...f,location:f.location?typeof f.location=="string"?JSON.parse(f.location):f.location:null,real_estate_details:f.real_estate_details?typeof f.real_estate_details=="string"?JSON.parse(f.real_estate_details):f.real_estate_details:null,automobile_details:f.automobile_details?typeof f.automobile_details=="string"?JSON.parse(f.automobile_details):f.automobile_details:null,service_details:f.service_details?typeof f.service_details=="string"?JSON.parse(f.service_details):f.service_details:null,product_details:f.product_details?typeof f.product_details=="string"?JSON.parse(f.product_details):f.product_details:null,contact_info:f.contact_info?typeof f.contact_info=="string"?JSON.parse(f.contact_info):f.contact_info:null}}catch(p){return console.warn("⚠️ Erreur parsing JSONB pour listing:",f.id,p),f}})||[];return{data:u,count:u.length,hasMore:!1}}catch(o){throw console.error("❌ Erreur dans getAllListings:",o),o}},getListingById:async e=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour d'annonce de test"),{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}};try{const{data:t,error:r}=await Se.from("listings").select(`
          *,
          users:users!listings_user_id_fkey (
            id,
            first_name,
            last_name,
            phone_number,
            email
          )
        `).eq("id",e).eq("status","approved").single();if(r){console.log("🔍 Erreur avec requête simple:",r);const{data:n,error:i}=await Se.from("listings").select(`
            *,
            users:users!listings_user_id_fkey (
              id,
              first_name,
              last_name,
              phone_number,
              email
            )
          `).eq("id",e).single();if(i)throw i;return n?(console.log("🔍 Annonce trouvée sans filtre de statut:",n.status),{...n,location:typeof n.location=="string"?JSON.parse(n.location):n.location,real_estate_details:typeof n.real_estate_details=="string"?JSON.parse(n.real_estate_details):n.real_estate_details,automobile_details:typeof n.automobile_details=="string"?JSON.parse(n.automobile_details):n.automobile_details,service_details:typeof n.service_details=="string"?JSON.parse(n.service_details):n.service_details,product_details:typeof n.product_details=="string"?JSON.parse(n.product_details):n.product_details,contact_info:typeof n.contact_info=="string"?JSON.parse(n.contact_info):n.contact_info}):null}return t?{...t,location:typeof t.location=="string"?JSON.parse(t.location):t.location,real_estate_details:typeof t.real_estate_details=="string"?JSON.parse(t.real_estate_details):t.real_estate_details,automobile_details:typeof t.automobile_details=="string"?JSON.parse(t.automobile_details):t.automobile_details,service_details:typeof t.service_details=="string"?JSON.parse(t.service_details):t.service_details,product_details:typeof t.product_details=="string"?JSON.parse(t.product_details):t.product_details,contact_info:typeof t.contact_info=="string"?JSON.parse(t.contact_info):t.contact_info}:null}catch(t){throw console.error("🔍 Erreur dans getListingById:",t),t}},incrementViews:async e=>{try{const{error:t}=await Se.rpc("increment_listing_views",{listing_id:e});if(t)throw t}catch(t){console.warn("⚠️ Impossible d'incrémenter views_count pour",e,t?.message)}},getTopViewedListings:async(e=6)=>{if(console.log("🔍 getTopViewedListings appelé avec limit:",e),console.log("🔍 isSupabaseConfigured:",yr),!yr)return console.warn("⚠️ Supabase non configuré, retour de données de test (top vues)"),[{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",price:25e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:1200,is_featured:!1,is_boosted:!1},{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",price:5e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:980,is_featured:!1,is_boosted:!1},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",price:45e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!1}].slice(0,e);try{console.log("🔍 Tentative de connexion à Supabase...");const{data:t,error:r}=await Se.from("listings").select("*").eq("status","approved").not("is_featured","eq",!0).not("is_boosted","eq",!0).order("views_count",{ascending:!1,nullsFirst:!1}).limit(e);if(console.log("🔍 Réponse Supabase:",{data:t,error:r}),r)throw r;const n=(t||[]).map(i=>({...i,location:i.location?typeof i.location=="string"?JSON.parse(i.location):i.location:null,real_estate_details:i.real_estate_details?typeof i.real_estate_details=="string"?JSON.parse(i.real_estate_details):i.real_estate_details:null,automobile_details:i.automobile_details?typeof i.automobile_details=="string"?JSON.parse(i.automobile_details):i.automobile_details:null,service_details:i.service_details?typeof i.service_details=="string"?JSON.parse(i.service_details):i.service_details:null,product_details:i.product_details?typeof i.product_details=="string"?JSON.parse(i.product_details):i.product_details:null,contact_info:i.contact_info?typeof i.contact_info=="string"?JSON.parse(i.contact_info):i.contact_info:null}));return console.log("🔍 Données nettoyées:",n),n}catch(t){throw console.error("❌ Erreur dans getTopViewedListings:",t),t}},getUserListings:async()=>{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await Se.from("listings").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},createListing:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{currency:r,specificData:n,subCategory:i,videos:s,...o}=e,l={...o,user_id:t.id,status:"approved"};r&&(l.currency=r),n&&Object.keys(n).length>0&&(l.specific_data=n),i&&(l.subCategory=i),s&&s.length>0&&(l.videos=s);const{data:c,error:u}=await Se.from("listings").insert([l]).select().single();if(u)throw console.error("Erreur création annonce:",u),u;return c},updateListing:async(e,t)=>{const{data:r,error:n}=await Se.from("listings").update(t).eq("id",e).select().single();if(n)throw n;return r},deleteListing:async e=>{const{error:t}=await Se.from("listings").delete().eq("id",e);if(t)throw t},updateListingStatus:async(e,t)=>{const{data:r,error:n}=await Se.from("listings").update({status:t}).eq("id",e).select().single();if(n)throw n;return r},searchListings:async e=>{const{query:t,category:r,minPrice:n,maxPrice:i,location:s,status:o="approved"}=e;let l=Se.from("listings").select("*").eq("status",o);t&&(l=l.or(`title.ilike.%${t}%,description.ilike.%${t}%`)),r&&(l=l.eq("category",r)),n&&(l=l.gte("price",Number(n))),i&&(l=l.lte("price",Number(i))),s&&(l=l.or(`location->>city.ilike.%${s}%,location->>country.ilike.%${s}%`));const{data:c,error:u}=await l.order("created_at",{ascending:!1});if(u)throw u;return c},getListingStats:async()=>{const{data:e,error:t}=await Se.from("listings").select("category, status, created_at, price");if(t)throw t;const r={total:e.length,byCategory:{},byStatus:{},byMonth:{},totalValue:0,averagePrice:0};let n=0;return e.forEach(i=>{r.byCategory[i.category]=(r.byCategory[i.category]||0)+1,r.byStatus[i.status]=(r.byStatus[i.status]||0)+1;const s=new Date(i.created_at).toISOString().slice(0,7);r.byMonth[s]=(r.byMonth[s]||0)+1,i.price&&(n+=i.price)}),r.totalValue=n,r.averagePrice=e.length>0?n/e.length:0,r},getPremiumListings:async(e=6,t=!1)=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour de données de test premium"),{data:[{id:"premium-1",title:"Villa de luxe avec vue mer - Premium",description:"Magnifique villa 5 pièces avec vue panoramique sur l'océan. Piscine privée, jardin paysager, garage 2 voitures.",price:15e6,category:"real_estate",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-1",created_at:new Date().toISOString(),location:{city:"Saly",country:"Sénégal"},real_estate_details:{type:"Villa",rooms:"5 pièces",surface:"200m²",amenities:["Piscine","Jardin","Garage"]},contact_info:{phone:"+221 77 999 8888",email:"villa-premium@test.com"},views_count:1250,favorites_count:89,users:{id:"premium-user-1",first_name:"Omar",last_name:"Diop",phone_number:"+221 77 999 8888",email:"omar.diop@test.com"}},{id:"premium-2",title:"Mercedes Classe S 2023 - Premium",description:"Berline de luxe Mercedes Classe S en parfait état, toutes options, entretien constructeur, garantie étendue.",price:45e6,category:"automobile",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-2",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},automobile_details:{brand:"Mercedes",model:"Classe S",year:"2023",condition:"Parfait"},contact_info:{phone:"+221 76 777 6666",email:"mercedes-premium@test.com"},views_count:890,favorites_count:67,users:{id:"premium-user-2",first_name:"Aissatou",last_name:"Fall",phone_number:"+221 76 777 6666",email:"aissatou.fall@test.com"}},{id:"premium-3",title:"Service de Design d'Intérieur Premium",description:"Designer d'intérieur certifié avec 15 ans d'expérience. Projets résidentiels et commerciaux, suivi complet.",price:25e4,category:"services",status:"approved",is_featured:!0,is_boosted:!1,user_id:"premium-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Design d'Intérieur",experience:"15 ans",availability:"Sur rendez-vous",verified:!0,certifications:["Certification internationale","Membre de l'ordre des designers"]},contact_info:{phone:"+221 78 444 3333",email:"design-premium@test.com",website:"www.design-interieur-premium.com"},views_count:567,favorites_count:34,users:{id:"premium-user-3",first_name:"Mariama",last_name:"Ba",phone_number:"+221 78 444 3333",email:"mariama.ba@test.com"}}],hasMore:!1};try{const{data:r,error:n}=await Se.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            phone_number,
            email
          ),
          listing_boosts (
            boost_packages (
              features
            ),
            end_date
          )
        `).or("is_featured.eq.true,is_boosted.eq.true").eq("status","approved").order("updated_at",{ascending:!1});if(n)throw n;const i=r.map(s=>{const o=s.listing_boosts?.[0],l=o?.boost_packages?.features;return{...s,premium_metadata:{priority:l?.priority||"medium",badge:l?.badge||"boosted",featured:l?.featured||!1,analytics:l?.analytics||"basic",support:l?.support||"standard"},boost_expires_at:o?.end_date||null}});if(t){console.log("🏆 Tri par score premium activé");const s=i.sort((o,l)=>{const c=CS(o);return CS(l)-c});return{data:s.slice(0,e),hasMore:s.length>e,totalPremium:s.length,sortingMethod:"score",topScores:s.slice(0,3).map((o,l)=>({position:l+1,score:CS(o),title:o.title}))}}else return console.log("🔄 Rotation intelligente activée"),Rde(i,e)}catch(r){throw console.error("Erreur lors de la récupération des annonces premium:",r),r}}};class Mde{async getUserTransactions(t,r={}){try{let n=Se.from("transactions").select(`
          *,
          listing:listings(id, title, price, images),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url)
        `).or(`sender_id.eq.${t},receiver_id.eq.${t}`).order("created_at",{ascending:!1});r.status&&(n=n.eq("status",r.status)),r.type&&(n=n.eq("type",r.type)),r.dateFrom&&(n=n.gte("created_at",r.dateFrom)),r.dateTo&&(n=n.lte("created_at",r.dateTo)),r.amountMin&&(n=n.gte("amount",r.amountMin)),r.amountMax&&(n=n.lte("amount",r.amountMax));const{data:i,error:s}=await n;if(s)throw s;return i}catch(n){throw console.error("Erreur lors de la récupération des transactions:",n),n}}async createTransaction(t){try{const{data:r,error:n}=await Se.from("transactions").insert([{...t,status:"pending",created_at:new Date().toISOString()}]).select().single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la création de la transaction:",r),r}}async updateTransactionStatus(t,r,n={}){try{const{data:i,error:s}=await Se.from("transactions").update({status:r,metadata:{...n,status_updated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return i}catch(i){throw console.error("Erreur lors de la mise à jour du statut:",i),i}}async getTransaction(t){try{const{data:r,error:n}=await Se.from("transactions").select(`
          *,
          listing:listings(id, title, price, images, description),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url, email)
        `).eq("id",t).single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la récupération de la transaction:",r),r}}async cancelTransaction(t,r){try{const{data:n,error:i}=await Se.from("transactions").update({status:"cancelled",metadata:{cancellation_reason:r,cancelled_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de l'annulation de la transaction:",n),n}}async getTransactionStats(t){try{const{data:r,error:n}=await Se.from("transactions").select("status, amount, type, created_at").or(`sender_id.eq.${t},receiver_id.eq.${t}`);if(n)throw n;const i={total:r.length,totalAmount:r.reduce((s,o)=>s+(o.amount||0),0),byStatus:{},byType:{},monthly:{}};return r.forEach(s=>{i.byStatus[s.status]=(i.byStatus[s.status]||0)+1,i.byType[s.type]=(i.byType[s.type]||0)+1;const o=new Date(s.created_at).toISOString().slice(0,7);i.monthly[o]||(i.monthly[o]={count:0,amount:0}),i.monthly[o].count++,i.monthly[o].amount+=s.amount||0}),i}catch(r){throw console.error("Erreur lors de la récupération des statistiques:",r),r}}async searchTransactions(t,r){try{const{data:n,error:i}=await Se.from("transactions").select(`
          *,
          listing:listings(id, title),
          sender:users!transactions_sender_id_fkey(id, full_name),
          receiver:users!transactions_receiver_id_fkey(id, full_name)
        `).or(`sender_id.eq.${t},receiver_id.eq.${t}`).or(`reference.ilike.%${r}%,description.ilike.%${r}%`).order("created_at",{ascending:!1});if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la recherche de transactions:",n),n}}async exportTransactions(t,r={}){try{return(await this.getUserTransactions(t,r)).map(s=>({Référence:s.reference,Date:new Date(s.created_at).toLocaleDateString("fr-FR"),Type:s.type,Statut:s.status,Montant:s.amount,Devise:s.currency,Description:s.description,Expéditeur:s.sender?.full_name||"N/A",Destinataire:s.receiver?.full_name||"N/A"}))}catch(n){throw console.error("Erreur lors de l'export des transactions:",n),n}}async validateTransaction(t,r){try{const{data:n,error:i}=await Se.from("transactions").update({status:"completed",metadata:{validated_by:r,validated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la validation de la transaction:",n),n}}async getPendingTransactions(){try{const{data:t,error:r}=await Se.from("transactions").select(`
          *,
          listing:listings(id, title, price),
          sender:users!transactions_sender_id_fkey(id, full_name, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, email)
        `).eq("status","pending").order("created_at",{ascending:!0});if(r)throw r;return t}catch(t){throw console.error("Erreur lors de la récupération des transactions en attente:",t),t}}}const Ide=new Mde,w9={getUserNotifications:async()=>{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await Se.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},markAsRead:async e=>{const{data:t,error:r}=await Se.from("notifications").update({read:!0}).eq("id",e).select().single();if(r)throw r;return t},createNotification:async e=>{const{data:t,error:r}=await Se.from("notifications").insert([e]).select().single();if(r)throw r;return t},markAllAsRead:async()=>{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:t}=await Se.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(t)throw t;return!0},deleteNotification:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:r}=await Se.from("notifications").delete().eq("id",e).eq("user_id",t.id);if(r)throw r;return!0},getUnreadCount:async()=>{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{count:t,error:r}=await Se.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("read",!1);if(r)throw r;return t||0},sendPushNotification:async(e,t,r,n={})=>{try{const{data:i,error:s}=await Se.from("users").select("push_token").eq("id",e).single();return s||!i?.push_token?(console.warn("Aucun token push trouvé pour l'utilisateur:",e),!1):await w9.createNotification({user_id:e,title:t,body:r,type:"push",data:JSON.stringify(n),read:!1})}catch(i){throw console.error("Erreur envoi notification push:",i),i}}};new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const Dde=async e=>{try{console.log("🔍 Création de la conversation de bienvenue pour l'utilisateur:",e);const{data:t,error:r}=await Se.from("conversations").insert([{participant1_id:"00000000-0000-0000-0000-000000000000",participant2_id:e,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw console.error("❌ Erreur création conversation de bienvenue:",r),r;console.log("✅ Conversation de bienvenue créée:",t.id);const n={conversation_id:t.id,sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:e,content:`🤖 Bienvenue sur MaxiMarket !

Votre marketplace de confiance pour l'Afrique de l'Ouest.

✨ Découvrez nos fonctionnalités :
• 🏠 Immobilier : Achetez, vendez, louez
• 🚗 Automobile : Véhicules neufs et d'occasion
• 🛠️ Services : Trouvez des professionnels
• 🛍️ Marketplace : Tout ce dont vous avez besoin

🔒 Sécurité garantie avec nos partenaires vérifiés
💬 Support 24/7 disponible

Besoin d'aide ? Je suis là pour vous accompagner !`,message_type:"system",is_read:!1,created_at:new Date().toISOString()},{data:i,error:s}=await Se.from("messages").insert([n]).select().single();if(s)throw console.error("❌ Erreur ajout message de bienvenue:",s),s;return console.log("✅ Message de bienvenue ajouté:",i.id),t}catch(t){return console.error("❌ Erreur création conversation de bienvenue:",t),null}},xi={getUserConversations:async()=>{try{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des conversations pour l'utilisateur:",e.id);const{data:t,error:r}=await Se.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1});if(r)throw console.error("❌ Erreur récupération conversations:",r),r;console.log("🔍 Conversations trouvées:",t?.length||0),console.log("🔍 Vérification de la conversation de l'assistant...");const{data:n,error:i}=await Se.from("conversations").select(`
          id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.00000000-0000-0000-0000-000000000000,participant2_id.eq.${e.id}`).or(`participant1_id.eq.${e.id},participant2_id.eq.00000000-0000-0000-0000-000000000000`).single();let s=null;i||!n?(console.log("Création de la conversation de l'assistant pour l'utilisateur:",e.id),s=await Dde(e.id)):(console.log("Conversation de l'assistant existante trouvée:",n.id),s=n);let o=null;if(s){const{data:c,error:u}=await Se.from("messages").select("*").eq("conversation_id",s.id).eq("sender_id","00000000-0000-0000-0000-000000000000").single();!u&&c&&(o={...s,messages:[c],participant1:{id:"00000000-0000-0000-0000-000000000000",first_name:"Assistant",last_name:"MaxiMarket",profile_image:null},participant2:{id:e.id,first_name:e.user_metadata?.first_name||"",last_name:e.user_metadata?.last_name||"",profile_image:e.user_metadata?.profile_image||null},listing:null})}if((!t||t.length===0)&&!o)return console.log("Aucune conversation trouvée, impossible de créer l'assistant"),[];const l=await Promise.all(t.map(async c=>{try{console.log(`🔍 Traitement de la conversation: ${c.id}`);let u=null;if(c.listing_id){const{data:S,error:N}=await Se.from("listings").select("id, title, price, images").eq("id",c.listing_id).single();!N&&S?(u=S,console.log(`✅ Listing récupéré pour la conversation ${c.id}:`,S.title)):console.warn(`⚠️ Listing non trouvé pour la conversation ${c.id}:`,N)}const f=c.participant1_id,p=c.participant2_id;console.log(`🔍 Récupération des participants pour la conversation ${c.id}:`),console.log(`🔍 Participant 1 ID: ${f}`),console.log(`🔍 Participant 2 ID: ${p}`);let g=null,v=null;if(f)try{console.log(`🔍 Récupération des détails du participant 1: ${f}`);const{data:S,error:N}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",f).single();console.log("🔍 Résultat participant 1 - data:",S),console.log("🔍 Résultat participant 1 - error:",N),!N&&S?(g=S,console.log(`✅ Participant 1 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 1 non trouvé pour la conversation ${c.id}:`,f,N),g={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 1 pour la conversation ${c.id}:`,S),g={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}if(p)try{console.log(`🔍 Récupération des détails du participant 2: ${p}`);const{data:S,error:N}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",p).single();console.log("🔍 Résultat participant 2 - data:",S),console.log("🔍 Résultat participant 2 - error:",N),!N&&S?(v=S,console.log(`✅ Participant 2 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 2 non trouvé pour la conversation ${c.id}:`,p,N),v={id:p,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 2 pour la conversation ${c.id}:`,S),v={id:p,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}const{data:w,error:y}=await Se.from("messages").select(`
                id,
                content,
                created_at,
                is_read,
                sender_id,
                conversation_id
              `).eq("conversation_id",c.id).order("created_at",{ascending:!0});if(y)return console.error(`❌ Erreur récupération messages pour la conversation ${c.id}:`,y),{...c,messages:[],listing:u,participant1:g,participant2:v};console.log(`✅ Messages récupérés pour la conversation ${c.id}:`,w?.length||0);const _=await Promise.all((w||[]).map(async S=>{try{let N=null;if(S.sender_id){console.log(`🔍 Récupération de l'expéditeur pour le message ${S.id}: ${S.sender_id}`);const{data:C,error:k}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",S.sender_id).single();!k&&C?(N=C,console.log(`✅ Expéditeur récupéré pour le message ${S.id}:`,{id:C.id,name:`${C.first_name||"N/A"} ${C.last_name||"N/A"}`})):console.warn(`⚠️ Expéditeur non trouvé pour le message ${S.id}:`,S.sender_id,k)}return{...S,sender:N}}catch(N){return console.error(`❌ Erreur lors de la récupération des détails de l'expéditeur pour le message ${S.id}:`,N),S}}));return console.log(`✅ Conversation ${c.id} traitée avec succès:`,{participant1:g?`${g.first_name||"N/A"} ${g.last_name||"N/A"}`:"N/A",participant2:v?`${v.first_name||"N/A"} ${v.last_name||"N/A"}`:"N/A",messages:_?.length||0,listing:u?.title||"N/A"}),{...c,messages:_||[],listing:u,participant1:g,participant2:v}}catch(u){return console.error(`❌ Erreur lors du traitement de la conversation ${c.id}:`,u),{...c,messages:[],listing:null,participant1:null,participant2:null}}}));return o&&(l.unshift(o),console.log("✅ Conversation de l'assistant ajoutée à la liste")),console.log(`✅ Total des conversations traitées: ${l.length}`),l.forEach((c,u)=>{console.log(`🔍 Conversation ${u+1}:`,{id:c.id,p1:c.participant1?`${c.participant1.first_name||"N/A"} ${c.participant1.last_name||"N/A"}`:"N/A",p2:c.participant2?`${c.participant2.first_name||"N/A"} ${c.participant2.last_name||"N/A"}`:"N/A",messages:c.messages?.length||0})}),l}catch(e){throw console.error("❌ Erreur dans getUserConversations:",e),e}},getConversationMessages:async e=>{try{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages pour la conversation:",e);const{data:r,error:n}=await Se.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw console.error("Erreur récupération messages:",n),n;return await Promise.all((r||[]).map(async s=>{try{let o=null,l=null;if(s.sender_id){const{data:c,error:u}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",s.sender_id).single();!u&&c&&(o=c)}if(s.receiver_id){const{data:c,error:u}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",s.receiver_id).single();!u&&c&&(l=c)}return{...s,sender:o,receiver:l}}catch(o){return console.error("Erreur lors de la récupération des détails utilisateur:",o),s}}))}catch(t){throw console.error("Erreur dans getConversationMessages:",t),t}},sendMessage:async(e,t,r="text")=>{const{data:{user:n}}=await Se.auth.getUser();if(!n)throw new Error("Utilisateur non connecté");console.log("📤 Envoi de message dans la conversation:",e);const{data:i,error:s}=await Se.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(s)throw s;const o=i.participant1_id===n.id?i.participant2_id:i.participant1_id,l=new Date().toISOString(),{data:c,error:u}=await Se.from("messages").insert([{sender_id:n.id,receiver_id:o,conversation_id:e,content:t,message_type:r,created_at:l}]).select().single();if(u)throw u;console.log("✅ Message envoyé avec succès, mise à jour de la conversation..."),console.log("🔍 message.service - Mise à jour de la conversation:",e),console.log("🔍 message.service - currentTime:",l);const{data:f,error:p}=await Se.from("conversations").update({last_message_at:l,updated_at:l}).eq("id",e).select();return p?console.error("❌ Erreur mise à jour conversation:",p):(console.log("✅ Conversation mise à jour avec succès:",f),console.log("✅ last_message_at mis à jour:",l)),c},refreshConversations:async()=>{try{return console.log("🔄 Actualisation automatique des conversations..."),await xi.getUserConversations()}catch(e){throw console.error("❌ Erreur lors de l'actualisation des conversations:",e),e}},syncConversation:async e=>{try{console.log("🔄 Synchronisation de la conversation:",e);const{data:t,error:r}=await Se.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;const n=await Promise.all((t||[]).map(async i=>{try{let s=null;if(i.sender_id){const{data:o,error:l}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!l&&o&&(s=o)}return{...i,sender:s}}catch(s){return console.error("Erreur lors de la récupération des détails de l'expéditeur:",s),i}}));return console.log("✅ Conversation synchronisée:",n?.length||0,"messages"),n}catch(t){throw console.error("❌ Erreur lors de la synchronisation de la conversation:",t),t}},createConversation:async(e,t=null)=>{const{data:{user:r}}=await Se.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await Se.from("conversations").select("id").or(`and(participant1_id.eq.${r.id},participant2_id.eq.${e}),and(participant1_id.eq.${e},participant2_id.eq.${r.id})`).eq("listing_id",t).single();if(n)return n;const{data:s,error:o}=await Se.from("conversations").insert([{participant1_id:r.id,participant2_id:e,listing_id:t,is_active:!0}]).select().single();if(o)throw o;return s},markMessagesAsRead:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Marquage des messages comme lus pour la conversation:",e);const{error:r}=await Se.from("messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",t.id).eq("is_read",!1);if(r)throw console.error("Erreur lors du marquage des messages comme lus:",r),r;return console.log("✅ Messages marqués comme lus avec succès"),!0},archiveConversation:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Archivage de la conversation:",e);const{data:r,error:n}=await Se.from("conversations").select("participant1_id, participant2_id, is_archived").eq("id",e).single();if(n)throw n;if(r.participant1_id!==t.id&&r.participant2_id!==t.id)throw new Error("Non autorisé");const i=!r.is_archived,{error:s}=await Se.from("conversations").update({is_archived:i,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw console.error("Erreur lors de l'archivage de la conversation:",s),s;return console.log(`✅ Conversation ${i?"archivée":"désarchivée"} avec succès`),{is_archived:i}},toggleConversationStar:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Basculement du statut favori pour la conversation:",e);const{data:r,error:n}=await Se.from("conversations").select("participant1_id, participant2_id, starred").eq("id",e).single();if(n)throw n;if(r.participant1_id!==t.id&&r.participant2_id!==t.id)throw new Error("Non autorisé");const i=!r.starred,{error:s}=await Se.from("conversations").update({starred:i,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw console.error("Erreur lors du basculement du statut favori:",s),s;return console.log(`✅ Conversation ${i?"ajoutée aux":"retirée des"} favoris avec succès`),{starred:i}},deleteMessage:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression du message:",e);const{data:r,error:n}=await Se.from("messages").select("sender_id, conversation_id").eq("id",e).single();if(n)throw n;if(r.sender_id!==t.id)throw new Error("Vous ne pouvez supprimer que vos propres messages");const{error:i}=await Se.from("messages").delete().eq("id",e);if(i)throw console.error("Erreur lors de la suppression du message:",i),i;return console.log("✅ Message supprimé avec succès"),!0},deleteConversation:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression de la conversation:",e),console.log("🔍 Utilisateur actuel:",t.id);const{data:r,error:n}=await Se.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(n)throw console.error("❌ Erreur lors de la vérification de la conversation:",n),n;if(console.log("🔍 Conversation trouvée:",r),r.participant1_id!==t.id&&r.participant2_id!==t.id)throw console.error("❌ Utilisateur non autorisé à supprimer cette conversation"),new Error("Non autorisé");console.log("✅ Autorisation vérifiée, suppression en cours..."),console.log("🔍 Suppression des messages de la conversation...");const{error:i}=await Se.from("messages").delete().eq("conversation_id",e);if(i)throw console.error("❌ Erreur lors de la suppression des messages:",i),i;console.log("✅ Messages supprimés avec succès"),console.log("🔍 Suppression de la conversation...");const{error:s}=await Se.from("conversations").delete().eq("id",e);if(s)throw console.error("❌ Erreur lors de la suppression de la conversation:",s),s;return console.log("✅ Conversation supprimée avec succès"),!0},searchConversations:async e=>{try{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Recherche de conversations avec le terme:",e);const{data:r,error:n}=await Se.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1});if(n)throw console.error("Erreur recherche conversations:",n),n;return(await Promise.all((r||[]).map(async s=>{try{let o=null,l=null,c=null;if(s.listing_id){const{data:u,error:f}=await Se.from("listings").select("id, title").eq("id",s.listing_id).single();!f&&u&&(o=u)}if(s.participant1_id){const{data:u,error:f}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant1_id).single();!f&&u&&(l=u)}if(s.participant2_id){const{data:u,error:f}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant2_id).single();!f&&u&&(c=u)}return{...s,listing:o,participant1:l,participant2:c}}catch(o){return console.error("Erreur lors de l'enrichissement de la conversation:",o),s}}))).filter(s=>{if(!e)return!0;const o=e.toLowerCase();return!!(s.listing?.title?.toLowerCase().includes(o)||s.participant1?.first_name?.toLowerCase().includes(o)||s.participant1?.last_name?.toLowerCase().includes(o)||s.participant2?.first_name?.toLowerCase().includes(o)||s.participant2?.last_name?.toLowerCase().includes(o))})}catch(t){throw console.error("Erreur dans searchConversations:",t),t}},getUnreadMessages:async()=>{try{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages non lus pour l'utilisateur:",e.id);const{data:t,error:r}=await Se.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("receiver_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1});if(r)throw console.error("Erreur récupération messages non lus:",r),r;return await Promise.all((t||[]).map(async i=>{try{let s=null,o=null;if(i.conversation_id){const{data:l,error:c}=await Se.from("conversations").select("id, listing_id").eq("id",i.conversation_id).single();!c&&l&&(s=l)}if(i.sender_id){const{data:l,error:c}=await Se.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!c&&l&&(o=l)}return{...i,conversation:s,sender:o}}catch(s){return console.error("Erreur lors de l'enrichissement du message:",s),i}}))}catch(e){throw console.error("Erreur dans getUnreadMessages:",e),e}},getUnreadMessageCount:async()=>{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{count:t,error:r}=await Se.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("is_read",!1);if(r)throw r;return t||0},sendSystemMessage:async(e,t,r="system")=>{const{data:n,error:i}=await Se.from("messages").insert([{sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:e,content:t,message_type:r,is_read:!1}]).select().single();if(i)throw i;return n}},bg={getAllCategories:async()=>{const{data:e,error:t}=await Se.from("categories").select("*").order("name");if(t)throw t;return e},getCategoryById:async e=>{const{data:t,error:r}=await Se.from("categories").select("*").eq("id",e).single();if(r)throw r;return t},getCategoryBySlug:async e=>{const{data:t,error:r}=await Se.from("categories").select("*").eq("slug",e).single();if(r)throw r;return t},getCategoriesByType:async e=>{const{data:t,error:r}=await Se.from("categories").select("*").eq("type",e).order("name");if(r)throw r;return t},createCategory:async e=>{const{data:t,error:r}=await Se.from("categories").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},updateCategory:async(e,t)=>{const{data:r,error:n}=await Se.from("categories").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},deleteCategory:async e=>{const{error:t}=await Se.from("categories").delete().eq("id",e);if(t)throw t;return{success:!0}},toggleCategoryStatus:async(e,t)=>{const{data:r,error:n}=await Se.from("categories").update({is_active:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}},Sl={getUserFavorites:async()=>{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await Se.from("favorites").select(`
        *,
        listings!favorites_listing_id_fkey (
          *,
          users!listings_user_id_fkey (
            id,
            first_name,
            last_name
          )
        )
      `).eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},addToFavorites:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await Se.from("favorites").insert([{user_id:t.id,listing_id:e}]).select().single();if(n)throw n;return r},removeFromFavorites:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:r}=await Se.from("favorites").delete().eq("user_id",t.id).eq("listing_id",e);if(r)throw r},isFavorite:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)return!1;const{data:r,error:n}=await Se.from("favorites").select("id").eq("user_id",t.id).eq("listing_id",e).single();if(n&&n.code!=="PGRST116")throw n;return!!r},toggleFavorite:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");try{return await Sl.isFavorite(e)?(await Sl.removeFromFavorites(e),{is_favorite:!1,action:"removed"}):(await Sl.addToFavorites(e),{is_favorite:!0,action:"added"})}catch(r){throw console.error("Erreur lors du basculement des favoris:",r),new Error("Impossible de modifier les favoris")}},getUserFavoritesWithStatus:async()=>{const{data:{user:e}}=await Se.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");try{const{data:t,error:r}=await Se.from("favorites").select("listing_id").eq("user_id",e.id);if(r)throw r;return new Set(t.map(i=>i.listing_id))}catch(t){return console.error("Erreur lors de la récupération des favoris:",t),new Set}}},Lde={uploadImage:async(e,t="listings")=>{try{const{data:{user:r}}=await Se.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");if(!e.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(e.size>5*1024*1024)throw new Error("L'image ne doit pas dépasser 5MB");const n=`${Date.now()}-${Math.random().toString(36).substring(2)}-${e.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,i=`${t}/${r.id}/${n}`,{data:s,error:o}=await Se.storage.from("images").upload(i,e,{cacheControl:"31536000",upsert:!1,contentType:"image/jpeg"});if(o)throw console.error("Erreur upload Supabase:",o),new Error(`Erreur lors de l'upload: ${o.message}`);const{data:{publicUrl:l}}=Se.storage.from("images").getPublicUrl(i);return l}catch(r){throw console.error("Erreur dans uploadImage:",r),r}},deleteImage:async e=>{try{const{error:t}=await Se.storage.from("images").remove([e]);if(t)throw t}catch(t){throw console.error("Erreur dans deleteImage:",t),t}},listUserImages:async(e,t="listings")=>{try{const{data:r,error:n}=await Se.storage.from("images").list(`${t}/${e}`);if(n)throw n;return r}catch(r){throw console.error("Erreur dans listUserImages:",r),r}}},$de={getAllReports:async(e={})=>{let t=Se.from("reports").select(`
        *,
        reporter:users!reports_reporter_id_fkey (
          id,
          first_name,
          last_name,
          email
        ),
        listing:listings!reports_listing_id_fkey (
          id,
          title,
          description
        )
      `).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.type&&(t=t.eq("type",e.type)),e.severity&&(t=t.eq("severity",e.severity));const{data:r,error:n}=await t;if(n)throw n;return r},createReport:async e=>{const{data:{user:t}}=await Se.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await Se.from("reports").insert([{...e,reporter_id:t.id,status:"pending"}]).select().single();if(n)throw n;return r},moderateReport:async(e,t,r=null)=>{const n={status:t,moderated_at:new Date().toISOString(),moderator_reason:r},{data:i,error:s}=await Se.from("reports").update(n).eq("id",e).select().single();if(s)throw s;return i}},ES={getBoostPackages:async()=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour de packages de test"),[{id:"test-basic",name:"Boost Basique",description:"Visibilité améliorée pendant 7 jours",duration_days:7,price:5e3,features:{priority:"medium",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:1},{id:"test-premium",name:"Boost Premium",description:"Mise en avant complète pendant 14 jours",duration_days:14,price:12e3,features:{priority:"high",badge:"boosted",featured:!0,analytics:"detailed"},is_active:!0,sort_order:2},{id:"test-vip",name:"Boost VIP",description:"Visibilité maximale pendant 30 jours",duration_days:30,price:25e3,features:{priority:"highest",badge:"boosted",featured:!0,analytics:"premium",support:"priority"},is_active:!0,sort_order:3},{id:"test-flash",name:"Boost Flash",description:"Visibilité intensive pendant 3 jours",duration_days:3,price:3e3,features:{priority:"high",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:4}];try{const{data:e,error:t}=await Se.from("boost_packages").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(t)throw t;return e||[]}catch(e){throw console.error("Erreur lors de la récupération des packages de boost:",e),e}},purchaseBoost:async(e,t,r)=>{if(!yr)return console.warn("⚠️ Supabase non configuré, simulation d'achat de boost"),{success:!0,boostId:"test-boost-"+Date.now(),message:"Boost acheté avec succès (mode test)"};try{const{data:n,error:i}=await Se.from("boost_packages").select("*").eq("id",t).eq("is_active",!0).single();if(i||!n)throw new Error("Package de boost non trouvé ou inactif");const{data:s,error:o}=await Se.from("listings").select("id, user_id, status").eq("id",e).eq("user_id",r).eq("status","approved").single();if(o||!s)throw new Error("Annonce non trouvée ou non autorisée");const l=new Date,c=new Date;c.setDate(c.getDate()+n.duration_days);const{data:u,error:f}=await Se.from("listing_boosts").insert({listing_id:e,package_id:t,user_id:r,start_date:l.toISOString(),end_date:c.toISOString(),status:"pending",metadata:{views_before:0,contacts_before:0}}).select().single();if(f)throw f;return await Se.from("boost_history").insert({listing_id:e,boost_id:u.id,user_id:r,action:"purchased",details:{package_name:n.name,price:n.price,duration_days:n.duration_days}}),{success:!0,boostId:u.id,boostData:u,packageData:n,message:"Boost acheté avec succès"}}catch(n){throw console.error("Erreur lors de l'achat du boost:",n),n}},getBoostStatus:async e=>{if(!yr)return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]};try{const{data:t,error:r}=await Se.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            description,
            features
          )
        `).eq("listing_id",e).order("created_at",{ascending:!1});if(r)throw r;const n=t?.find(s=>s.status==="active");return{hasActiveBoost:!!n,currentBoost:n,boostHistory:t||[]}}catch(t){throw console.error("Erreur lors de la vérification du statut de boost:",t),t}},cancelBoost:async(e,t)=>{if(!yr)return{success:!0,message:"Boost annulé avec succès (mode test)"};try{const{data:r,error:n}=await Se.from("listing_boosts").select("*").eq("id",e).eq("user_id",t).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const{error:i}=await Se.from("listing_boosts").update({status:"cancelled"}).eq("id",e);if(i)throw i;return await Se.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:t,action:"cancelled",details:{reason:"user_cancelled",cancelled_at:new Date().toISOString()}}),{success:!0,message:"Boost annulé avec succès"}}catch(r){throw console.error("Erreur lors de l'annulation du boost:",r),r}},getBoostHistory:async e=>{if(!yr)return[];try{const{data:t,error:r}=await Se.from("boost_history").select(`
          *,
          listing_boosts (
            boost_packages (
              name,
              price
            )
          ),
          listings (
            title,
            category
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Erreur lors de la récupération de l'historique des boosts:",t),t}},activateBoost:async(e,t)=>{if(!yr)return{success:!0,message:"Boost activé avec succès (mode test)"};try{const{data:r,error:n}=await Se.from("listing_boosts").select(`
          *,
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",e).single();if(n||!r)throw new Error("Boost non trouvé");const{error:i}=await Se.from("listing_boosts").update({status:"active",payment_id:t,metadata:{views_before:r.listings.views_count||0,contacts_before:r.listings.favorites_count||0,activated_at:new Date().toISOString()}}).eq("id",e);if(i)throw i;return await Se.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:r.user_id,action:"activated",details:{payment_id:t,activated_at:new Date().toISOString()}}),{success:!0,message:"Boost activé avec succès"}}catch(r){throw console.error("Erreur lors de l'activation du boost:",r),r}},renewBoost:async(e,t)=>{if(!yr)return{success:!0,message:"Boost renouvelé avec succès (mode test)"};try{const{data:r,error:n}=await Se.from("listing_boosts").select(`
          *,
          boost_packages (
            duration_days,
            price
          )
        `).eq("id",e).eq("user_id",t).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const i=new Date;i.setDate(i.getDate()+r.boost_packages.duration_days);const{error:s}=await Se.from("listing_boosts").update({end_date:i.toISOString(),updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s;return await Se.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:t,action:"renewed",details:{new_end_date:i.toISOString(),renewed_at:new Date().toISOString()}}),{success:!0,message:"Boost renouvelé avec succès"}}catch(r){throw console.error("Erreur lors du renouvellement du boost:",r),r}},getBoostStats:async e=>{if(!yr)return{total_boosts:0,active_boosts:0,total_days:0,total_investment:0,current_boost:null};try{const{data:t,error:r}=await Se.rpc("get_boost_stats",{listing_id_param:e});if(r)throw r;return t||{}}catch(t){throw console.error("Erreur lors de la récupération des statistiques de boost:",t),t}}};function wr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ml(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Fde(e,t){const r=wr(e);return isNaN(t)?Ml(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const _9=6048e5,Bde=864e5,j9=6e4,S9=36e5,g0=43200,j$=1440;let zde={};function cy(){return zde}function Wh(e,t){const r=cy(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=wr(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function kb(e){return Wh(e,{weekStartsOn:1})}function N9(e){const t=wr(e),r=t.getFullYear(),n=Ml(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=kb(n),s=Ml(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=kb(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function S$(e){const t=wr(e);return t.setHours(0,0,0,0),t}function Ob(e){const t=wr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function qde(e,t){const r=S$(e),n=S$(t),i=+r-Ob(r),s=+n-Ob(n);return Math.round((i-s)/Bde)}function Ude(e){const t=N9(e),r=Ml(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),kb(r)}function nb(e,t){const r=wr(e),n=wr(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Vde(e){return Ml(e,Date.now())}function Wde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Hde(e){if(!Wde(e)&&typeof e!="number")return!1;const t=wr(e);return!isNaN(Number(t))}function Kde(e,t){const r=wr(e),n=wr(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Gde(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Zde(e,t){return+wr(e)-+wr(t)}function Yde(e){const t=wr(e);return t.setHours(23,59,59,999),t}function Xde(e){const t=wr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Jde(e){const t=wr(e);return+Yde(t)==+Xde(t)}function Qde(e,t){const r=wr(e),n=wr(t),i=nb(r,n),s=Math.abs(Kde(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=nb(r,n)===-i;Jde(wr(e))&&s===1&&nb(e,n)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function efe(e,t,r){const n=Zde(e,t)/1e3;return Gde(r?.roundingMethod)(n)}function tfe(e){const t=wr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function rfe(e){const t=wr(e),r=Ml(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const nfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ife=(e,t,r)=>{let n;const i=nfe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Th(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const sfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},afe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ofe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lfe={date:Th({formats:sfe,defaultWidth:"full"}),time:Th({formats:afe,defaultWidth:"full"}),dateTime:Th({formats:ofe,defaultWidth:"full"})},cfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ufe=(e,t,r,n)=>cfe[e];function mo(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const dfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ffe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vfe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yfe={ordinalNumber:vfe,era:mo({values:dfe,defaultWidth:"wide"}),quarter:mo({values:ffe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mo({values:hfe,defaultWidth:"wide"}),day:mo({values:pfe,defaultWidth:"wide"}),dayPeriod:mo({values:mfe,defaultWidth:"wide",formattingValues:gfe,defaultFormattingWidth:"wide"})};function go(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?bfe(l,p=>p.test(o)):xfe(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function xfe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function bfe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function C9(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const wfe=/^(\d+)(th|st|nd|rd)?/i,_fe=/\d+/i,jfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sfe={any:[/^b/i,/^(a|c)/i]},Nfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cfe={any:[/1/i,/2/i,/3/i,/4/i]},Efe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Afe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ofe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rfe={ordinalNumber:C9({matchPattern:wfe,parsePattern:_fe,valueCallback:e=>parseInt(e,10)}),era:go({matchPatterns:jfe,defaultMatchWidth:"wide",parsePatterns:Sfe,defaultParseWidth:"any"}),quarter:go({matchPatterns:Nfe,defaultMatchWidth:"wide",parsePatterns:Cfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:go({matchPatterns:Efe,defaultMatchWidth:"wide",parsePatterns:Pfe,defaultParseWidth:"any"}),day:go({matchPatterns:Tfe,defaultMatchWidth:"wide",parsePatterns:Afe,defaultParseWidth:"any"}),dayPeriod:go({matchPatterns:kfe,defaultMatchWidth:"any",parsePatterns:Ofe,defaultParseWidth:"any"})},E9={code:"en-US",formatDistance:ife,formatLong:lfe,formatRelative:ufe,localize:yfe,match:Rfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mfe(e){const t=wr(e);return qde(t,rfe(t))+1}function Ife(e){const t=wr(e),r=+kb(t)-+Ude(t);return Math.round(r/_9)+1}function P9(e,t){const r=wr(e),n=r.getFullYear(),i=cy(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ml(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Wh(o,t),c=Ml(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Wh(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Dfe(e,t){const r=cy(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=P9(e,t),s=Ml(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Wh(s,t)}function Lfe(e,t){const r=wr(e),n=+Wh(r,t)-+Dfe(r,t);return Math.round(n/_9)+1}function br(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ac={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return br(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):br(r+1,2)},d(e,t){return br(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return br(e.getHours()%12||12,t.length)},H(e,t){return br(e.getHours(),t.length)},m(e,t){return br(e.getMinutes(),t.length)},s(e,t){return br(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return br(i,t.length)}},nh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N$={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ac.y(e,t)},Y:function(e,t,r,n){const i=P9(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return br(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):br(s,t.length)},R:function(e,t){const r=N9(e);return br(r,t.length)},u:function(e,t){const r=e.getFullYear();return br(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return br(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return br(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ac.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return br(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=Lfe(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):br(i,t.length)},I:function(e,t,r){const n=Ife(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):br(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ac.d(e,t)},D:function(e,t,r){const n=Mfe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):br(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return br(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return br(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return br(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=nh.noon:n===0?i=nh.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=nh.evening:n>=12?i=nh.afternoon:n>=4?i=nh.morning:i=nh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ac.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ac.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):br(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):br(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ac.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ac.s(e,t)},S:function(e,t){return Ac.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return E$(n);case"XXXX":case"XX":return sd(n);case"XXXXX":case"XXX":default:return sd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return E$(n);case"xxxx":case"xx":return sd(n);case"xxxxx":case"xxx":default:return sd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+C$(n,":");case"OOOO":default:return"GMT"+sd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+C$(n,":");case"zzzz":default:return"GMT"+sd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return br(n,t.length)},T:function(e,t,r){const n=e.getTime();return br(n,t.length)}};function C$(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+br(s,2)}function E$(e,t){return e%60===0?(e>0?"-":"+")+br(Math.abs(e)/60,2):sd(e,t)}function sd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=br(Math.trunc(n/60),2),s=br(n%60,2);return r+i+t+s}const P$=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},T9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$fe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return P$(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",P$(n,t)).replace("{{time}}",T9(i,t))},Ffe={p:T9,P:$fe},Bfe=/^D+$/,zfe=/^Y+$/,qfe=["D","DD","YY","YYYY"];function Ufe(e){return Bfe.test(e)}function Vfe(e){return zfe.test(e)}function Wfe(e,t,r){const n=Hfe(e,t,r);if(console.warn(n),qfe.includes(e))throw new RangeError(n)}function Hfe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zfe=/^'([^]*?)'?$/,Yfe=/''/g,Xfe=/[a-zA-Z]/;function Sr(e,t,r){const n=cy(),i=r?.locale??n.locale??E9,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=wr(e);if(!Hde(l))throw new RangeError("Invalid time value");let c=t.match(Gfe).map(f=>{const p=f[0];if(p==="p"||p==="P"){const g=Ffe[p];return g(f,i.formatLong)}return f}).join("").match(Kfe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:Jfe(f)};if(N$[p])return{isToken:!0,value:f};if(p.match(Xfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(f=>{if(!f.isToken)return f.value;const p=f.value;(!r?.useAdditionalWeekYearTokens&&Vfe(p)||!r?.useAdditionalDayOfYearTokens&&Ufe(p))&&Wfe(p,t,String(e));const g=N$[p[0]];return g(l,p,i.localize,u)}).join("")}function Jfe(e){const t=e.match(Zfe);return t?t[1].replace(Yfe,"'"):e}function Qfe(e,t,r){const n=cy(),i=r?.locale??n.locale??E9,s=2520,o=nb(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=wr(t),u=wr(e)):(c=wr(e),u=wr(t));const f=efe(u,c),p=(Ob(u)-Ob(c))/1e3,g=Math.round((f-p)/60);let v;if(g<2)return r?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<j$){const w=Math.round(g/60);return i.formatDistance("aboutXHours",w,l)}else{if(g<s)return i.formatDistance("xDays",1,l);if(g<g0){const w=Math.round(g/j$);return i.formatDistance("xDays",w,l)}else if(g<g0*2)return v=Math.round(g/g0),i.formatDistance("aboutXMonths",v,l)}if(v=Qde(u,c),v<12){const w=Math.round(g/g0);return i.formatDistance("xMonths",w,l)}else{const w=v%12,y=Math.trunc(v/12);return w<3?i.formatDistance("aboutXYears",y,l):w<9?i.formatDistance("overXYears",y,l):i.formatDistance("almostXYears",y+1,l)}}function A9(e,t){return Qfe(e,Vde(e),t)}function Xm(e,t){return Fde(e,-t)}function ehe(e,t){const n=ihe(e);let i;if(n.date){const c=she(n.date,2);i=ahe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(n.time&&(o=ohe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=lhe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+l)}const v0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},the=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rhe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ihe(e){const t={},r=e.split(v0.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],v0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(v0.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=v0.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function she(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function ahe(e,t){if(t===null)return new Date(NaN);const r=e.match(the);if(!r)return new Date(NaN);const n=!!r[4],i=Jm(r[1]),s=Jm(r[2])-1,o=Jm(r[3]),l=Jm(r[4]),c=Jm(r[5])-1;if(n)return hhe(t,l,c)?che(t,l,c):new Date(NaN);{const u=new Date(0);return!dhe(t,s,o)||!fhe(t,i)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(i,o)),u)}}function Jm(e){return e?parseInt(e):1}function ohe(e){const t=e.match(rhe);if(!t)return NaN;const r=PS(t[1]),n=PS(t[2]),i=PS(t[3]);return phe(r,n,i)?r*S9+n*j9+i*1e3:NaN}function PS(e){return e&&parseFloat(e.replace(",","."))||0}function lhe(e){if(e==="Z")return 0;const t=e.match(nhe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return mhe(n,i)?r*(n*S9+i*j9):NaN}function che(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const uhe=[31,null,31,30,31,30,31,31,30,31,30,31];function k9(e){return e%400===0||e%4===0&&e%100!==0}function dhe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(uhe[t]||(k9(e)?29:28))}function fhe(e,t){return t>=1&&t<=(k9(e)?366:365)}function hhe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function phe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mhe(e,t){return t>=0&&t<=59}const T$={getBoostAnalytics:async(e=null,t="30d")=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour d'analytics de test"),{totalBoosts:45,activeBoosts:12,totalRevenue:45e4,averageBoostPrice:1e4,successRate:87.5,topPerformingCategories:["Immobilier","Automobile","Services"],boostTrends:{daily:[12,15,18,22,25,28,30],weekly:[85,92,105,118,125,132,140],monthly:[350,420,480,520,580,620,680]}};try{const{data:r,error:n}=await Se.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            title,
            category,
            views_count,
            favorites_count
          )
        `).eq("status","active").gte("created_at",vh(t));if(n)throw n;return ghe(r||[],e)}catch(r){throw console.error("Erreur lors de la récupération des analytics de boost:",r),r}},getBoostPerformance:async e=>{if(!yr)return{viewsIncrease:245,favoritesIncrease:18,contactsIncrease:12,roi:320,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]};try{const{data:t,error:r}=await Se.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",e).single();if(r)throw r;return vhe(t)}catch(t){throw console.error("Erreur lors de la récupération des performances:",t),t}},getPaymentAnalytics:async(e=null,t="30d")=>{if(!yr)return{totalPayments:67,totalRevenue:67e4,averageTransactionValue:1e4,paymentMethods:{orange_money:45,mtn_mobile_money:15,card:7},conversionRate:78.5,refundRate:2.3};try{const{data:r,error:n}=await Se.from("payments").select("*").gte("created_at",vh(t));if(n)throw n;return yhe(r||[],e)}catch(r){throw console.error("Erreur lors de la récupération des analytics de paiement:",r),r}},getRevenueData:async(e,t)=>{if(!yr)return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0};try{const{data:r,error:n}=await Se.from("payments").select(`
          *,
          listings (
            category,
            title
          )
        `).eq("status","completed").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw n;const i=r?.reduce((c,u)=>c+(u.amount||0),0)||0,s=r?.reduce((c,u)=>{const f=Sr(new Date(u.created_at),"yyyy-MM-dd");return c[f]=(c[f]||0)+(u.amount||0),c},{})||{},o=r?.reduce((c,u)=>{const f=u.listings?.category||"Autre";return c[f]=(c[f]||0)+(u.amount||0),c},{})||{},l=r?.reduce((c,u)=>{const f=u.payment_method||"Autre";return c[f]=(c[f]||0)+(u.amount||0),c},{})||{};return{totalRevenue:i,revenueByDate:Object.entries(s).map(([c,u])=>({date:c,revenue:u})),revenueByCategory:o,paymentMethods:l,growth:0}}catch(r){return console.error("Erreur lors de la récupération des données de revenus:",r),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}},getUserPremiumAnalytics:async(e,t="30d")=>{if(!yr)return{totalBoosts:8,totalSpent:85e3,averageBoostPrice:10625,boostSuccessRate:87.5,favoriteCategories:["Immobilier","Services"],boostHistory:[{date:"2024-01-15",package:"Boost Premium",price:12e3,status:"active"},{date:"2024-01-08",package:"Boost Basique",price:5e3,status:"expired"}]};try{const[r,n]=await Promise.all([Se.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            )
          `).eq("user_id",e).gte("created_at",vh(t)),Se.from("payments").select("*").eq("user_id",e).gte("created_at",vh(t))]);if(r.error)throw r.error;if(n.error)throw n.error;return xhe(r.data||[],n.data||[])}catch(r){throw console.error("Erreur lors de la récupération des analytics utilisateur:",r),r}},getPerformanceTrends:async(e="30d",t="revenue")=>{if(!yr)return{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],data:[45e3,52e3,48e3,61e3],trend:"up",percentageChange:15.6};try{const{data:r,error:n}=await Se.from("listing_boosts").select(`
          created_at,
          boost_packages (
            price
          )
        `).gte("created_at",vh(e)).order("created_at",{ascending:!0});if(n)throw n;return bhe(r||[],e,t)}catch(r){throw console.error("Erreur lors de la récupération des tendances:",r),r}},getGrowthTrends:async(e,t)=>{if(!yr)return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}};try{const{data:r,error:n}=await Se.from("users").select("created_at").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw n;const{data:i,error:s}=await Se.from("listings").select("created_at, status").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(s)throw s;const{data:o,error:l}=await Se.from("payments").select("created_at, amount").eq("status","completed").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(l)throw l;const c=TS(r,"created_at"),u=TS(i,"created_at"),f=TS(o,"created_at","amount"),p=AS(r,"created_at"),g=AS(i,"created_at"),v=AS(o,"created_at","amount"),w=kS(r,"created_at"),y=kS(i,"created_at"),_=kS(o,"created_at","amount");return{users:{daily:c,weekly:p,monthly:w},listings:{daily:u,weekly:g,monthly:y},revenue:{daily:f,weekly:v,monthly:_}}}catch(r){return console.error("Erreur lors de la récupération des tendances de croissance:",r),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}},getInsightsAndRecommendations:async(e=null)=>{if(!yr)return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]};try{const[t,r]=await Promise.all([Se.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            ),
            listings (
              category,
              views_count,
              favorites_count
            )
          `).eq("status","active"),Se.from("payments").select("*").eq("status","completed")]);if(t.error)throw t.error;if(r.error)throw r.error;return Che(t.data||[],r.data||[],e)}catch(t){throw console.error("Erreur lors de la génération des insights:",t),t}},getComparisonMetrics:async(e="7d",t="30d")=>{if(!yr)return{revenue:{period1:45e3,period2:18e4,change:300},boosts:{period1:12,period2:45,change:275},conversion:{period1:8.5,period2:12.3,change:44.7}};try{const[r,n]=await Promise.all([A$(e),A$(t)]);return Ehe(r,n)}catch(r){throw console.error("Erreur lors de la comparaison des métriques:",r),r}}};function vh(e){const t=new Date;switch(e){case"7d":return new Date(t.getTime()-7*24*60*60*1e3);case"30d":return new Date(t.getTime()-30*24*60*60*1e3);case"90d":return new Date(t.getTime()-90*24*60*60*1e3);case"1y":return new Date(t.getTime()-365*24*60*60*1e3);default:return new Date(t.getTime()-30*24*60*60*1e3)}}function ghe(e,t){const r=t?e.filter(f=>f.user_id===t):e,n=r.length,i=r.filter(f=>f.status==="active").length,s=r.reduce((f,p)=>f+(p.boost_packages?.price||0),0),o=n>0?s/n:0,l=jhe(r),c=She(r),u=Nhe();return{totalBoosts:n,activeBoosts:i,totalRevenue:s,averageBoostPrice:Math.round(o),successRate:l,topPerformingCategories:c.slice(0,5),boostTrends:u}}function vhe(e){const t=e.metadata?.views_before||0,n=(e.listings?.views_count||0)-t,i=e.metadata?.contacts_before||0,o=(e.listings?.favorites_count||0)-i,l=Math.round(o*.8),c=_he(e.boost_packages?.price||0,n,l);return{viewsIncrease:n,favoritesIncrease:o,contactsIncrease:l,roi:c,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]}}function yhe(e,t){const r=t?e.filter(p=>p.user_id===t):e,n=r.length,i=r.reduce((p,g)=>p+g.amount,0),s=n>0?i/n:0,o={};r.forEach(p=>{o[p.payment_method]=(o[p.payment_method]||0)+1});const l=r.filter(p=>p.status==="completed").length,c=n>0?l/n*100:0,u=r.filter(p=>p.status==="refunded").length,f=n>0?u/n*100:0;return{totalPayments:n,totalRevenue:i,averageTransactionValue:Math.round(s),paymentMethods:o,conversionRate:Math.round(c*100)/100,refundRate:Math.round(f*100)/100}}function xhe(e,t){const r=e.length,n=t.reduce((p,g)=>p+g.amount,0),i=r>0?n/r:0,s=e.filter(p=>p.status==="active").length,o=r>0?s/r*100:0,l=e.map(p=>p.listings?.category).filter(Boolean),c={};l.forEach(p=>{c[p]=(c[p]||0)+1});const u=Object.entries(c).sort(([,p],[,g])=>g-p).slice(0,3).map(([p])=>p),f=e.slice(0,5).map(p=>({date:new Date(p.created_at).toLocaleDateString("fr-FR"),package:p.boost_packages?.name||"Package",price:p.boost_packages?.price||0,status:p.status}));return{totalBoosts:r,totalSpent:n,averageBoostPrice:Math.round(i),boostSuccessRate:Math.round(o*100)/100,favoriteCategories:u,boostHistory:f}}function bhe(e,t,r){const n=whe(e,t),i=Object.keys(n),s=Object.values(n).map(c=>r==="revenue"?c.reduce((u,f)=>u+(f.boost_packages?.price||0),0):r==="boosts"?c.length:0),o=s[s.length-1]>s[0]?"up":"down",l=s[0]>0?(s[s.length-1]-s[0])/s[0]*100:0;return{labels:i,data:s,trend:o,percentageChange:Math.round(l*100)/100}}function whe(e,t){const r={};return e.forEach(n=>{const i=new Date(n.created_at);let s;switch(t){case"7d":s=i.toLocaleDateString("fr-FR",{weekday:"short"});break;case"30d":s=`Sem ${Math.ceil(i.getDate()/7)}`;break;case"90d":s=i.toLocaleDateString("fr-FR",{month:"short"});break;default:s=i.toLocaleDateString("fr-FR",{month:"short"})}r[s]||(r[s]=[]),r[s].push(n)}),r}function _he(e,t,r){if(e<=0)return 0;const i=(r*2e3-e)/e*100;return Math.round(i*100)/100}function jhe(e){if(e.length===0)return 0;const t=e.filter(r=>{const n=(r.listings?.views_count||0)-(r.metadata?.views_before||0),i=(r.listings?.favorites_count||0)-(r.metadata?.contacts_before||0);return n>10||i>2});return Math.round(t.length/e.length*100)}function She(e){const t={};return e.forEach(r=>{const n=r.listings?.category;n&&(t[n]||(t[n]={count:0,totalViews:0,totalFavorites:0}),t[n].count++,t[n].totalViews+=r.listings?.views_count||0,t[n].totalFavorites+=r.listings?.favorites_count||0)}),Object.entries(t).map(([r,n])=>({category:r,performance:(n.totalViews+n.totalFavorites*10)/n.count})).sort((r,n)=>n.performance-r.performance).map(r=>r.category)}function Nhe(e){const t=new Date,r=[],n=[],i=[];for(let s=6;s>=0;s--)new Date(t.getTime()-s*24*60*60*1e3),r.push(Math.floor(Math.random()*20)+10);for(let s=6;s>=0;s--)n.push(Math.floor(Math.random()*50)+80);for(let s=6;s>=0;s--)i.push(Math.floor(Math.random()*100)+300);return{daily:r,weekly:n,monthly:i}}function Che(e,t,r){return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]}}async function A$(e){const{data:t,error:r}=await Se.from("listing_boosts").select(`
      created_at,
      boost_packages (
        price
      )
    `).gte("created_at",vh(e));if(r)throw r;return t||[]}function Ehe(e,t){const r=e.reduce((o,l)=>o+(l.boost_packages?.price||0),0),n=t.reduce((o,l)=>o+(l.boost_packages?.price||0),0),i=e.length,s=t.length;return{revenue:{period1:r,period2:n,change:r>0?(n-r)/r*100:0},boosts:{period1:i,period2:s,change:i>0?(s-i)/i*100:0}}}function TS(e,t,r=null){const n={};return e?.forEach(i=>{const s=Sr(new Date(i[t]),"yyyy-MM-dd");r?n[s]=(n[s]||0)+(i[r]||0):n[s]=(n[s]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function AS(e,t,r=null){const n={};return e?.forEach(i=>{const s=new Date(i[t]),o=Sr(Wh(s,{weekStartsOn:1}),"yyyy-MM-dd");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function kS(e,t,r=null){const n={};return e?.forEach(i=>{const s=new Date(i[t]),o=Sr(tfe(s),"yyyy-MM");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}const dn={getSystemSettings:async()=>{try{if(!yr)return{general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}};const{data:e,error:t}=await Se.from("system_settings").select("*").single();return t?(console.warn("Table system_settings non trouvée, utilisation des paramètres par défaut"),dn.getDefaultSettings()):e.settings||dn.getDefaultSettings()}catch(e){return console.error("Erreur lors de la récupération des paramètres:",e),dn.getDefaultSettings()}},updateSystemSettings:async e=>{try{if(!yr)return console.log("Paramètres mis à jour (mode développement):",e),{success:!0,message:"Paramètres mis à jour en mode développement"};const{data:t,error:r}=await Se.from("system_settings").upsert([{id:"main",settings:e,updated_at:new Date().toISOString()}],{onConflict:"id"}).select().single();if(r)throw r;return{success:!0,data:t,message:"Paramètres mis à jour avec succès"}}catch(t){throw console.error("Erreur lors de la mise à jour des paramètres:",t),new Error("Impossible de sauvegarder les paramètres")}},getSetting:async(e,t)=>{try{return(await dn.getSystemSettings())[e]?.[t]}catch(r){return console.error("Erreur lors de la récupération du paramètre:",r),null}},updateSetting:async(e,t,r)=>{try{const n=await dn.getSystemSettings();return n[e]||(n[e]={}),n[e][t]=r,await dn.updateSystemSettings(n)}catch(n){throw console.error("Erreur lors de la mise à jour du paramètre:",n),n}},getSettingsBySection:async e=>{try{return(await dn.getSystemSettings())[e]||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de la section:",t),{}}},getSiteSettings:async()=>{try{return(await dn.getSystemSettings()).general||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres du site:",e),{}}},getAppearanceSettings:async()=>{try{return(await dn.getSystemSettings()).appearance||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres d'apparence:",e),{}}},getNotificationSettings:async()=>{try{return(await dn.getSystemSettings()).notifications||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de notifications:",e),{}}},getSecuritySettings:async()=>{try{return(await dn.getSystemSettings()).security||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de sécurité:",e),{}}},getSystemSettingsSection:async()=>{try{return(await dn.getSystemSettings()).system||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres système:",e),{}}},resetToDefaults:async()=>{try{const e=dn.getDefaultSettings();return await dn.updateSystemSettings(e)}catch(e){throw console.error("Erreur lors de la réinitialisation des paramètres:",e),e}},exportSettings:async()=>{try{const e=await dn.getSystemSettings(),t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");return i.href=n,i.download=`maximarket-settings-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n),{success:!0,message:"Paramètres exportés avec succès"}}catch(e){throw console.error("Erreur lors de l'export des paramètres:",e),new Error("Impossible d'exporter les paramètres")}},importSettings:async e=>{try{return new Promise((t,r)=>{const n=new FileReader;n.onload=async i=>{try{const s=JSON.parse(i.target.result);if(!dn.validateSettings(s)){r(new Error("Format de paramètres invalide"));return}const o=await dn.updateSystemSettings(s);t(o)}catch{r(new Error("Fichier JSON invalide"))}},n.onerror=()=>r(new Error("Erreur de lecture du fichier")),n.readAsText(e)})}catch(t){throw console.error("Erreur lors de l'import des paramètres:",t),t}},validateSettings:e=>{const t=["general","appearance","notifications","security","system"];for(const n of t)if(!e[n]||typeof e[n]!="object")return!1;const r=e.general;return!(!r.siteName||!r.contactEmail||!r.timezone||!r.currency)},getDefaultSettings:()=>({general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}})};function O9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=O9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=O9(e))&&(n&&(n+=" "),n+=t);return n}const GO="-",Phe=e=>{const t=Ahe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(GO);return l[0]===""&&l.length!==1&&l.shift(),R9(l,t)||The(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},R9=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?R9(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(GO);return t.validators.find(({validator:o})=>o(s))?.classGroupId},k$=/^\[(.+)\]$/,The=e=>{if(k$.test(e)){const t=k$.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Ahe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ohe(Object.entries(e.classGroups),r).forEach(([s,o])=>{jT(o,n,s,t)}),n},jT=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:O$(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(khe(i)){jT(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{jT(o,O$(t,s),r,n)})})},O$=(e,t)=>{let r=e;return t.split(GO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},khe=e=>e.isThemeGetter,Ohe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,Rhe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},M9="!",Mhe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,f=0,p;for(let _=0;_<l.length;_++){let S=l[_];if(u===0){if(S===i&&(n||l.slice(_,_+s)===t)){c.push(l.slice(f,_)),f=_+s;continue}if(S==="/"){p=_;continue}}S==="["?u++:S==="]"&&u--}const g=c.length===0?l:l.substring(f),v=g.startsWith(M9),w=v?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},Ihe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Dhe=e=>({cache:Rhe(e.cacheSize),parseClassName:Mhe(e),...Phe(e)}),Lhe=/\s+/,$he=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(Lhe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=r(u);let w=!!v,y=n(w?g.substring(0,v):g);if(!y){if(!w){l=u+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=u+(l.length>0?" "+l:l);continue}w=!1}const _=Ihe(f).join(":"),S=p?_+M9:_,N=S+y;if(s.includes(N))continue;s.push(N);const C=i(y,w);for(let k=0;k<C.length;++k){const A=C[k];s.push(S+A)}l=u+(l.length>0?" "+l:l)}return l};function Fhe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=I9(t))&&(n&&(n+=" "),n+=r);return n}const I9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=I9(e[n]))&&(r&&(r+=" "),r+=t);return r};function Bhe(e,...t){let r,n,i,s=o;function o(c){const u=t.reduce((f,p)=>p(f),e());return r=Dhe(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=$he(c,r);return i(c,f),f}return function(){return s(Fhe.apply(null,arguments))}}const qr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},D9=/^\[(?:([a-z-]+):)?(.+)\]$/i,zhe=/^\d+\/\d+$/,qhe=new Set(["px","full","screen"]),Uhe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vhe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Whe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hhe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Khe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cl=e=>Ah(e)||qhe.has(e)||zhe.test(e),kc=e=>kp(e,"length",tpe),Ah=e=>!!e&&!Number.isNaN(Number(e)),OS=e=>kp(e,"number",Ah),Qm=e=>!!e&&Number.isInteger(Number(e)),Ghe=e=>e.endsWith("%")&&Ah(e.slice(0,-1)),$t=e=>D9.test(e),Oc=e=>Uhe.test(e),Zhe=new Set(["length","size","percentage"]),Yhe=e=>kp(e,Zhe,L9),Xhe=e=>kp(e,"position",L9),Jhe=new Set(["image","url"]),Qhe=e=>kp(e,Jhe,npe),epe=e=>kp(e,"",rpe),eg=()=>!0,kp=(e,t,r)=>{const n=D9.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},tpe=e=>Vhe.test(e)&&!Whe.test(e),L9=()=>!1,rpe=e=>Hhe.test(e),npe=e=>Khe.test(e),ipe=()=>{const e=qr("colors"),t=qr("spacing"),r=qr("blur"),n=qr("brightness"),i=qr("borderColor"),s=qr("borderRadius"),o=qr("borderSpacing"),l=qr("borderWidth"),c=qr("contrast"),u=qr("grayscale"),f=qr("hueRotate"),p=qr("invert"),g=qr("gap"),v=qr("gradientColorStops"),w=qr("gradientColorStopPositions"),y=qr("inset"),_=qr("margin"),S=qr("opacity"),N=qr("padding"),C=qr("saturate"),k=qr("scale"),A=qr("sepia"),T=qr("skew"),O=qr("space"),I=qr("translate"),q=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",$t,t],U=()=>[$t,t],z=()=>["",cl,kc],H=()=>["auto",Ah,$t],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",$t],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ah,$t];return{cacheSize:500,separator:":",theme:{colors:[eg],spacing:[cl,kc],blur:["none","",Oc,$t],brightness:J(),borderColor:[e],borderRadius:["none","","full",Oc,$t],borderSpacing:U(),borderWidth:z(),contrast:J(),grayscale:Y(),hueRotate:J(),invert:Y(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Ghe,kc],inset:V(),margin:V(),opacity:J(),padding:U(),saturate:J(),scale:J(),sepia:Y(),skew:J(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",$t]}],container:["container"],columns:[{columns:[Oc]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),$t]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qm,$t]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$t]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Qm,$t]}],"grid-cols":[{"grid-cols":[eg]}],"col-start-end":[{col:["auto",{span:["full",Qm,$t]},$t]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[eg]}],"row-start-end":[{row:["auto",{span:[Qm,$t]},$t]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$t]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$t,t]}],"min-w":[{"min-w":[$t,t,"min","max","fit"]}],"max-w":[{"max-w":[$t,t,"none","full","min","max","fit","prose",{screen:[Oc]},Oc]}],h:[{h:[$t,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$t,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Oc,kc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",OS]}],"font-family":[{font:[eg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$t]}],"line-clamp":[{"line-clamp":["none",Ah,OS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cl,$t]}],"list-image":[{"list-image":["none",$t]}],"list-style-type":[{list:["none","disc","decimal",$t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cl,kc]}],"underline-offset":[{"underline-offset":["auto",cl,$t]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),Xhe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yhe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qhe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[cl,$t]}],"outline-w":[{outline:[cl,kc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[cl,kc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oc,epe]}],"shadow-color":[{shadow:[eg]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Oc,$t]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$t]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",$t]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",$t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Qm,$t]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$t]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cl,kc,OS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},spe=Bhe(ipe);function Ke(...e){return spe(Kt(e))}function ape(){return Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}function R$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Is(...e){return t=>{let r=!1;const n=e.map(i=>{const s=R$(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():R$(e[i],null)}}}}function at(...e){return x.useCallback(Is(...e),e)}function Hh(e){const t=ope(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(cpe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var $9=Hh("Slot");function ope(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r,o=x.isValidElement(i)?dpe(i):void 0,l=at(o,n);if(x.isValidElement(i)){const c=upe(s,i.props);return i.type!==x.Fragment&&(c.ref=l),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F9=Symbol("radix.slottable");function lpe(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=F9,t}function cpe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F9}function upe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function dpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const M$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,I$=Kt,y_=(e,t)=>r=>{var n;if(t?.variants==null)return I$(e,r?.class,r?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const f=r?.[u],p=s?.[u];if(f===null)return null;const g=M$(f)||M$(p);return i[u][g]}),l=r&&Object.entries(r).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(w=>{let[y,_]=w;return Array.isArray(_)?_.includes({...s,...l}[y]):{...s,...l}[y]===_})?[...u,p,g]:u},[]);return I$(e,o,c,r?.class,r?.className)},ZO=y_("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=X.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const o=n?$9:"button";return a.jsx(o,{className:Ke(ZO({variant:t,size:r,className:e})),ref:s,...i})});ue.displayName="Button";const zt=X.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));zt.displayName="Card";const lr=X.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ke("flex flex-col space-y-1.5 p-6",e),...t}));lr.displayName="CardHeader";const cr=X.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));cr.displayName="CardTitle";const wn=X.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Ke("text-sm text-muted-foreground",e),...t}));wn.displayName="CardDescription";const Ut=X.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ke("p-6 pt-0",e),...t}));Ut.displayName="CardContent";const sv=X.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ke("flex items-center p-6 pt-0",e),...t}));sv.displayName="CardFooter";const fpe=y_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yt({className:e,variant:t,...r}){return a.jsx("div",{className:Ke(fpe({variant:t}),e),...r})}function hpe(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function Rr(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=p=>{const{scope:g,children:v,...w}=p,y=g?.[e]?.[c]||l,_=x.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:_,children:v})};u.displayName=s+"Provider";function f(p,g){const v=g?.[e]?.[c]||l,w=x.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=l?.[e]||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,ppe(i,...t)]}function ppe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(s)[`__scope${u}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function mpe(e){const t=gpe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(ype);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function gpe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=bpe(i),l=xpe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vpe=Symbol("radix.slottable");function ype(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vpe}function xpe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function bpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B9=wpe.reduce((e,t)=>{const r=mpe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),YO="Progress",XO=100,[_pe,cqe]=Rr(YO),[jpe,Spe]=_pe(YO),z9=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Npe,...o}=e;(i||i===0)&&!D$(i)&&console.error(Cpe(`${i}`,"Progress"));const l=D$(i)?i:XO;n!==null&&!L$(n,l)&&console.error(Epe(`${n}`,"Progress"));const c=L$(n,l)?n:null,u=Rb(c)?s(c,l):void 0;return a.jsx(jpe,{scope:r,value:c,max:l,children:a.jsx(B9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":V9(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});z9.displayName=YO;var q9="ProgressIndicator",U9=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Spe(q9,r);return a.jsx(B9.div,{"data-state":V9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});U9.displayName=q9;function Npe(e,t){return`${Math.round(e/t*100)}%`}function V9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rb(e){return typeof e=="number"}function D$(e){return Rb(e)&&!isNaN(e)&&e>0}function L$(e,t){return Rb(e)&&!isNaN(e)&&e<=t&&e>=0}function Cpe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${XO}\`.`}function Epe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${XO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var W9=z9,Ppe=U9;const H9=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(W9,{ref:n,className:Ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Ppe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));H9.displayName=W9.displayName;const Tpe=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(!1);x.useEffect(()=>{o();const l=setInterval(o,5e3);return()=>clearInterval(l)},[]);const o=()=>{t(KO.getStats()),n(HO.getStatus())};return null};class Ape{constructor(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},this.observers=[],this.isMonitoring=!1}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.monitorMemoryUsage(),this.monitorNetworkRequests(),this.monitorCachePerformance(),console.log("📊 Monitoring de performance démarré"))}stopMonitoring(){this.isMonitoring=!1,console.log("📊 Monitoring de performance arrêté")}recordCacheHit(t,r){this.metrics.cacheHits++,this.notifyObservers("cacheHit",{type:t,key:r,timestamp:Date.now()})}recordCacheMiss(t,r){this.metrics.cacheMisses++,this.notifyObservers("cacheMiss",{type:t,key:r,timestamp:Date.now()})}recordApiCall(t,r){this.metrics.apiCalls++,this.metrics.loadTimes.push(r),this.metrics.loadTimes.length>100&&this.metrics.loadTimes.shift(),this.notifyObservers("apiCall",{endpoint:t,duration:r,timestamp:Date.now()})}recordError(t,r){this.metrics.errors++,this.notifyObservers("error",{type:t,error:r,timestamp:Date.now()})}getCacheHitRatio(){const t=this.metrics.cacheHits+this.metrics.cacheMisses;return t>0?this.metrics.cacheHits/t*100:0}getAverageLoadTime(){return this.metrics.loadTimes.length===0?0:this.metrics.loadTimes.reduce((r,n)=>r+n,0)/this.metrics.loadTimes.length}getStats(){const t=Date.now()-this.metrics.startTime;return{uptime:Math.floor(t/1e3),cacheHits:this.metrics.cacheHits,cacheMisses:this.metrics.cacheMisses,cacheHitRatio:this.getCacheHitRatio(),apiCalls:this.metrics.apiCalls,errors:this.metrics.errors,averageLoadTime:this.getAverageLoadTime(),memoryUsage:this.metrics.memoryUsage[this.metrics.memoryUsage.length-1]||0,isMonitoring:this.isMonitoring}}monitorMemoryUsage(){if(this.isMonitoring){if("memory"in performance){const t=performance.memory;this.metrics.memoryUsage.push({used:t.usedJSHeapSize,total:t.totalJSHeapSize,limit:t.jsHeapSizeLimit,timestamp:Date.now()}),this.metrics.memoryUsage.length>50&&this.metrics.memoryUsage.shift()}setTimeout(()=>this.monitorMemoryUsage(),5e3)}}monitorNetworkRequests(){if(!this.isMonitoring)return;const t=window.fetch;window.fetch=async(...r)=>{const n=performance.now();try{const i=await t(...r),s=performance.now()-n;return this.recordApiCall(r[0],s),i}catch(i){throw this.recordError("network",i),i}}}monitorCachePerformance(){if(!this.isMonitoring)return;const t=Storage.prototype.getItem,r=Storage.prototype.setItem;Storage.prototype.getItem=function(n){const i=t.call(this,n);return i&&n.startsWith("benome:")&&kh.recordCacheHit("localStorage",n),i},Storage.prototype.setItem=function(n,i){return n.startsWith("benome:")&&kh.recordCacheMiss("localStorage",n),r.call(this,n,i)}}addObserver(t){this.observers.push(t)}removeObserver(t){this.observers=this.observers.filter(r=>r!==t)}notifyObservers(t,r){this.observers.forEach(n=>{try{n(t,r)}catch(i){console.error("Erreur dans l'observateur de métriques:",i)}})}exportMetrics(){return{...this.metrics,cacheHitRatio:this.getCacheHitRatio(),averageLoadTime:this.getAverageLoadTime(),exportTime:new Date().toISOString()}}reset(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},console.log("📊 Métriques réinitialisées")}}const kh=new Ape;kh.startMonitoring();function Ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function ST(e){const t=kpe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Rpe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function kpe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=Ipe(i),l=Mpe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ope=Symbol("radix.slottable");function Rpe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ope}function Mpe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Ipe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Dpe(e){const t=e+"CollectionProvider",[r,n]=Rr(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=X.useRef(null),C=X.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=ST(l),u=X.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),k=at(_,C.collectionRef);return a.jsx(c,{ref:k,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=ST(f),v=X.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,k=X.useRef(null),A=at(_,k),T=s(f,S);return X.useEffect(()=>(T.itemMap.set(k,{ref:k,...C}),()=>void T.itemMap.delete(k))),a.jsx(g,{[p]:"",ref:A,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return X.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((T,O)=>C.indexOf(T.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}var sr=globalThis?.document?x.useLayoutEffect:()=>{},Lpe=su[" useId ".trim().toString()]||(()=>{}),$pe=0;function ts(e){const[t,r]=x.useState(Lpe());return sr(()=>{r(n=>n??String($pe++))},[e]),t?`radix-${t}`:""}var Fpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Op=Fpe.reduce((e,t)=>{const r=ST(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}var Bpe=su[" useInsertionEffect ".trim().toString()]||sr;function ns({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=zpe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=x.useCallback(f=>{if(l){const p=qpe(f)?f(e):f;p!==e&&o.current?.(p)}else s(f)},[l,e,s,o]);return[c,u]}function zpe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return Bpe(()=>{s.current=t},[t]),x.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function qpe(e){return typeof e=="function"}var Upe=x.createContext(void 0);function Rp(e){const t=x.useContext(Upe);return e||t||"ltr"}var RS="rovingFocusGroup.onEntryFocus",Vpe={bubbles:!1,cancelable:!0},uy="RovingFocusGroup",[NT,K9,Wpe]=Dpe(uy),[Hpe,G9]=Rr(uy,[Wpe]),[Kpe,Gpe]=Hpe(uy),Z9=x.forwardRef((e,t)=>a.jsx(NT.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(NT.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Zpe,{...e,ref:t})})}));Z9.displayName=uy;var Zpe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=x.useRef(null),v=at(t,g),w=Rp(s),[y,_]=ns({prop:o,defaultProp:l??null,onChange:c,caller:uy}),[S,N]=x.useState(!1),C=fr(u),k=K9(r),A=x.useRef(!1),[T,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(RS,C),()=>I.removeEventListener(RS,C)},[C]),a.jsx(Kpe,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:a.jsx(Op.div,{tabIndex:S||T===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{A.current=!0}),onFocus:Ue(e.onFocus,I=>{const q=!A.current;if(I.target===I.currentTarget&&q&&!S){const Z=new CustomEvent(RS,Vpe);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const V=k().filter(se=>se.focusable),U=V.find(se=>se.active),z=V.find(se=>se.id===y),re=[U,z,...V].filter(Boolean).map(se=>se.ref.current);J9(re,f)}}A.current=!1}),onBlur:Ue(e.onBlur,()=>N(!1))})})}),Y9="RovingFocusGroupItem",X9=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=ts(),u=s||c,f=Gpe(Y9,r),p=f.currentTabStopId===u,g=K9(r),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:y}=f;return x.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),a.jsx(NT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(Op.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ue(e.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:Ue(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ue(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=Jpe(_,f.orientation,f.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(k=>k.focusable).map(k=>k.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const k=C.indexOf(_.currentTarget);C=f.loop?Qpe(C,k+1):C.slice(k+1)}setTimeout(()=>J9(C))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});X9.displayName=Y9;var Ype={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xpe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jpe(e,t,r){const n=Xpe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ype[n]}function J9(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Qpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var eme=Z9,tme=X9;function rme(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var is=e=>{const{present:t,children:r}=e,n=nme(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=at(n.ref,ime(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};is.displayName="Presence";function nme(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=rme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=y0(n.current);s.current=l==="mounted"?u:"none"},[l]),sr(()=>{const u=n.current,f=i.current;if(f!==e){const g=s.current,v=y0(u);e?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),sr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=v=>{const y=y0(n.current).includes(v.animationName);if(v.target===t&&y&&(c("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=v=>{v.target===t&&(s.current=y0(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function y0(e){return e?.animationName||"none"}function ime(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var x_="Tabs",[sme,uqe]=Rr(x_,[G9]),Q9=G9(),[ame,JO]=sme(x_),e7=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Rp(l),[p,g]=ns({prop:n,onChange:i,defaultProp:s??"",caller:x_});return a.jsx(ame,{scope:r,baseId:ts(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:a.jsx(Op.div,{dir:f,"data-orientation":o,...u,ref:t})})});e7.displayName=x_;var t7="TabsList",r7=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=JO(t7,r),o=Q9(r);return a.jsx(eme,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Op.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});r7.displayName=t7;var n7="TabsTrigger",i7=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,o=JO(n7,r),l=Q9(r),c=o7(o.baseId,n),u=l7(o.baseId,n),f=n===o.value;return a.jsx(tme,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(Op.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:Ue(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ue(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ue(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(n)})})})});i7.displayName=n7;var s7="TabsContent",a7=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=e,l=JO(s7,r),c=o7(l.baseId,n),u=l7(l.baseId,n),f=n===l.value,p=x.useRef(f);return x.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(is,{present:i||f,children:({present:g})=>a.jsx(Op.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});a7.displayName=s7;function o7(e,t){return`${e}-trigger-${t}`}function l7(e,t){return`${e}-content-${t}`}var ome=e7,c7=r7,u7=i7,d7=a7;const QO=ome,b_=X.forwardRef(({className:e,...t},r)=>a.jsx(c7,{ref:r,className:Ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));b_.displayName=c7.displayName;const Oi=X.forwardRef(({className:e,...t},r)=>a.jsx(u7,{ref:r,className:Ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oi.displayName=u7.displayName;const Ri=X.forwardRef(({className:e,...t},r)=>a.jsx(d7,{ref:r,className:Ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ri.displayName=d7.displayName;const lme=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState("overview"),[i,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[f,p]=x.useState([]);return x.useEffect(()=>{if(!e)return;const g=()=>{s(kh.getStats()),l(KO.getStats()),u(HO.getStatus())};g();const v=setInterval(g,2e3),w=(y,_)=>{p(S=>[...S,{event:y,data:_,timestamp:Date.now()}].slice(-50))};return kh.addObserver(w),()=>{clearInterval(v),kh.removeObserver(w)}},[e]),null},cme=y_("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),f7=x.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Ke(cme({variant:t}),e),...r}));f7.displayName="Alert";const h7=x.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:Ke("mb-1 font-medium leading-none tracking-tight",e),...t}));h7.displayName="AlertTitle";const p7=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ke("text-sm [&_p]:leading-relaxed",e),...t}));p7.displayName="AlertDescription";let ume=class extends X.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("QueryErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender({error:this.state.error,resetErrorBoundary:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()}}):a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"Erreur inconnue"}),a.jsxs(ue,{onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()},variant:"outline",children:[a.jsx(Vd,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}):this.props.children}};const dme=({children:e})=>{const{reset:t}=gV();return a.jsx(ume,{onReset:t,fallbackRender:({error:r,resetErrorBoundary:n})=>a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs(f7,{className:"max-w-md",children:[a.jsx(Kd,{className:"h-4 w-4"}),a.jsx(h7,{children:"Erreur de chargement"}),a.jsxs(p7,{className:"mt-2",children:["Une erreur est survenue lors du chargement des données.",a.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:r.message})]}),a.jsxs(ue,{onClick:n,className:"mt-4",variant:"outline",children:[a.jsx(Vd,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}),children:e})},ih={theme:"light",notifications:{email:!0,push:!0,sms:!1},privacy:{profile_visibility:"public",show_online_status:!0,allow_messages:!0},security_settings:{two_factor_auth:!1,login_notifications:!0,session_timeout:30,require_password_change:!1,remember_me_enabled:!0,auto_logout:!0,max_session_age:7},customization:{primary_color:"#3B82F6",accent_color:"#10B981",font_size:"medium",animations_enabled:!0}},fme=()=>{const{user:e}=Or(),[t,r]=x.useState(ih),[n,i]=x.useState(!1),[s,o]=x.useState(null),l=async()=>{if(!e){r(ih),i(!1);return}try{i(!0),o(null);const p=localStorage.getItem(`maximarket-preferences-${e.id}`);if(p){const g=JSON.parse(p);r({...ih,...g})}else r(ih)}catch(p){console.error("Erreur lors du chargement des préférences:",p),o(p.message),r(ih)}finally{i(!1)}},c=async(p,g)=>{if(e)try{const v={...t},w=p.split(".");let y=v;for(let _=0;_<w.length-1;_++)y[w[_]]||(y[w[_]]={}),y=y[w[_]];y[w[w.length-1]]=g,r(v),localStorage.setItem(`maximarket-preferences-${e.id}`,JSON.stringify(v))}catch(v){console.error("Erreur lors de la mise à jour des préférences:",v),o(v.message)}},u=async p=>{if(e)try{const g={...t};Object.entries(p).forEach(([v,w])=>{const y=v.split(".");let _=g;for(let S=0;S<y.length-1;S++)_[y[S]]||(_[y[S]]={}),_=_[y[S]];_[y[y.length-1]]=w}),r(g),localStorage.setItem(`maximarket-preferences-${e.id}`,JSON.stringify(g))}catch(g){console.error("Erreur lors de la mise à jour des préférences:",g),o(g.message)}},f=async()=>{if(e)try{r(ih),localStorage.removeItem(`maximarket-preferences-${e.id}`)}catch(p){console.error("Erreur lors de la réinitialisation des préférences:",p),o(p.message)}};return x.useEffect(()=>{l()},[e]),{preferences:t,loading:n,error:s,updatePreference:c,updateMultiplePreferences:u,resetPreferences:f,reloadPreferences:l}},hme=()=>{const{session:e,logout:t,isRememberMe:r}=Or(),{preferences:n}=fme(),i=x.useRef(null),s=x.useRef(Date.now()),o=x.useCallback(()=>{if(s.current=Date.now(),i.current&&clearTimeout(i.current),!e||r||!n?.security_settings?.auto_logout)return;const u=(n.security_settings.session_timeout||30)*60*1e3;i.current=setTimeout(()=>{console.log("🕐 Inactivité détectée, déconnexion automatique"),t()},u)},[e,r,n,t]),l=x.useCallback(()=>{o()},[o]);return x.useEffect(()=>{if(!e)return;const c=["mousedown","mousemove","keypress","keydown","scroll","touchstart","click","focus","input","change"];return c.forEach(u=>{document.addEventListener(u,l,{passive:!0})}),o(),()=>{c.forEach(u=>{document.removeEventListener(u,l)}),i.current&&clearTimeout(i.current)}},[e,l,o]),x.useEffect(()=>{!e&&i.current&&clearTimeout(i.current)},[e]),{lastActivity:s.current,resetTimer:o}},pme=()=>(hme(),null),mme=({children:e})=>yr?e:a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",color:"#fff",fontFamily:"Arial, sans-serif",padding:"20px",textAlign:"center"},children:a.jsxs("div",{children:[a.jsx("h1",{style:{color:"#e74c3c",marginBottom:"20px"},children:"⚠️ Configuration Supabase requise"}),a.jsx("p",{style:{marginBottom:"15px"},children:"L'application nécessite la configuration des variables Supabase."}),a.jsxs("div",{style:{backgroundColor:"#2c3e50",padding:"15px",borderRadius:"5px",textAlign:"left",marginBottom:"20px"},children:[a.jsx("strong",{children:"Variables requises dans Vercel :"}),a.jsxs("div",{style:{marginTop:"10px",fontFamily:"monospace"},children:["VITE_SUPABASE_URL",a.jsx("br",{}),"VITE_SUPABASE_ANON_KEY"]})]}),a.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},children:"🔄 Recharger"})]})});async function gme(e,t={},r="mistral-small-latest",n,i){const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,context:t,model:r,stream:!0}),signal:i});if(!s.ok||!s.body){const f=await s.json().catch(()=>({}));throw new Error(f?.error||"Chat API error")}const o=s.body.getReader(),l=new TextDecoder;let c="",u="";for(;;){const{value:f,done:p}=await o.read();if(p)break;c+=l.decode(f,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)if(v.startsWith("data: ")){const w=v.slice(6);if(w==="[DONE]")continue;try{const _=JSON.parse(w)?.choices?.[0]?.delta?.content||"";_&&(u+=_,n?.(u))}catch{}}}}const tt=X.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-foreground",e),ref:n,...r}));tt.displayName="Input";const vme=["Dakar","Thiès","Saint-Louis","Kaolack","Ziguinchor","Touba","Mbour","Rufisque","Pikine","Guédiawaye","Cotonou","Porto-Novo","Abomey-Calavi","Parakou","Djougou","Bohicon","Kandi","Lokossa","Ouidah","Natitingou","Lomé","Sokodé","Kara","Kpalimé","Atakpamé","Bassar","Tsévié","Aného","Dapaong","Mango","Abidjan","Bouaké","Daloa","Yamoussoukro","San-Pédro","Korhogo","Man","Abengourou","Gagnoa","Anyama","Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"],$$=["toyota","peugeot","renault","citroën","citroen","ford","volkswagen","vw","bmw","mercedes","audi","honda","nissan","hyundai","kia","dacia","opel","fiat","chevrolet","mazda","suzuki"];function CT(e){if(!e||typeof e!="string")return{section:"marketplace",params:{sort:"popular"}};const t=e.trim(),r=t.toLowerCase(),n=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=n.replace(/[\s-]/g,""),s=y=>{const _=y.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),S=_.replace(/[\s-]/g,"");return n.includes(_)||i.includes(S)},o=vme.find(y=>s(y));let l,c;const u=r.match(/(\d+[\.,]?\d*)\s*(k|m)?/gi)||[],f=y=>{const _=y.match(/(\d+[\.,]?\d*)\s*(k|m)?/i);if(!_)return null;const S=parseFloat(_[1].replace(",",".")),N=_[2]?_[2].toLowerCase()==="m"?1e6:1e3:1;return Math.round(S*N)};if(u.length>=2&&/entre|et|-/i.test(r)){const y=f(u[0]),_=f(u[1]);y&&_&&(l=Math.min(y,_),c=Math.max(y,_))}else/max|<=|<\s*/i.test(r)&&u[0]?c=f(u[0]):/min|>=|>\s*/i.test(r)&&u[0]?l=f(u[0]):u.length===1&&(c=f(u[0]));let p="marketplace";/\b(appartement|maison|terrain|studio|immobilier|villa|pi[eè]ces|m²|m2)\b/i.test(r)?p="immobilier":/\b(voiture|auto|car|moto|scooter|camion|camionnette|vehicule|véhicule)\b/i.test(r)||$$.some(y=>r.includes(y))?p="automobile":/\b(plombier|electricien|électricien|menage|ménage|jardinage|coiffure|réparation|reparation|d[eé]m[eé]nagement|cours|prof|service|informatique|evenementiel|événementiel)\b/i.test(r)&&(p="services");let g;const v=$$.find(y=>r.includes(y));v&&(g=v);const w={search:t,sort:"popular"};return o&&(w.location=o),l&&(w.minPrice=String(l)),c&&(w.maxPrice=String(c)),g&&p==="automobile"&&(w.brand=g),{section:p,params:w}}const yme=({pageContext:e={}})=>{const{user:t}=Or(),[r,n]=x.useState(!1),[i,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState([]),[f,p]=x.useState([]),[g,v]=x.useState(null),[w,y]=x.useState(!1),[_,S]=x.useState(!1),[N,C]=x.useState(!1),k=x.useRef(null),A=x.useRef(null),T=x.useMemo(()=>({path:window.location.pathname,...typeof window<"u"&&window.__MAXIMARKET_CONTEXT?window.__MAXIMARKET_CONTEXT:{},...e}),[e]);x.useEffect(()=>{const z=localStorage.getItem("chatbot_conversations");if(z)try{const H=JSON.parse(z);Array.isArray(H)&&p(H)}catch(H){console.error("Erreur parsing conversations:",H)}},[]),x.useEffect(()=>{f.length>0&&localStorage.setItem("chatbot_conversations",JSON.stringify(f))},[f]),x.useEffect(()=>{const z=()=>S(window.matchMedia("(max-width: 640px)").matches);return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const O=async()=>{const z=i.trim();if(!z||o)return;if(c.length===0){const re=Date.now().toString();v(re),p(se=>[...se,{id:re,title:z.length>30?z.substring(0,30)+"...":z,date:new Date().toLocaleDateString(),messages:[]}])}const H=[...c,{role:"user",content:z}];u(H),s(""),l(!0);try{const re=/^(yo|salut|bonjour|hello|hi|hey|ciao|hola|bonsoir|bonne\s+nuit)$/i.test(z.trim()),se=/\b(appartement|maison|voiture|service|immobilier|auto|plombier|electricien|terrain|studio|villa|moto|scooter|camion|menage|jardinage|coiffure|reparation|demenagement|cours|prof|informatique|evenementiel)\b/i.test(z.toLowerCase()),W=/\d+\s*(k|m|xof|frs?)|(dakar|abidjan|lome|cotonou|thiès|saint-louis|kaolack|ziguinchor|touba|mbour|rufisque|pikine|guediawaye)/i.test(z.toLowerCase());let Q=null,Y="",ne=[];if(y(!1),!re&&(se||W)&&(Q=CT(z)),Q){const{section:Ce,params:De}=Q,ae={...De,category:{immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[Ce]||void 0,limit:3,page:0,status:"approved"};try{const ge=await Hr.getAllListings(ae);ge?.data?.length&&(ne=ge.data.slice(0,3).map(he=>({id:he.id,title:he.title,price:he.price})),Y+=`J'ai trouvé ${ge.data.length} résultats. Voici quelques suggestions:
`+ne.map(he=>`• ${he.title} — ${he.price??""} XOF (ouvrir: /annonce/${he.id})`).join(`
`)+`

`,y(!0))}catch{}}u(Ce=>[...Ce,{role:"assistant",content:Y}]);const J=H.length;let oe="";A.current?.abort();const be=new AbortController;A.current=be,await gme(H,{...T,intent:Q},void 0,Ce=>{oe=Ce;const De=Y+oe;u(ce=>ce.map((ae,ge)=>ge===J?{...ae,content:De}:ae))},be.signal),setTimeout(()=>k.current?.scrollTo({top:k.current.scrollHeight,behavior:"smooth"}),50)}catch(re){if(re?.name!=="AbortError"){console.error("Chat error:",re);let se="Une erreur serveur est survenue côté assistant.";re.message?.includes("API configuration error")?se="Erreur de configuration API. Veuillez contacter l'administrateur.":re.message?.includes("401")||re.message?.includes("Unauthorized")?se="Erreur d'authentification API. Veuillez réessayer plus tard.":re.message?.includes("429")||re.message?.includes("Too Many Requests")?se="Limite de requêtes atteinte. Veuillez réessayer dans quelques minutes.":(re.message?.includes("500")||re.message?.includes("Internal Server Error"))&&(se="Erreur serveur temporaire. Veuillez réessayer dans un instant.");const W="Bonjour. Je reste à votre disposition pour la recherche et vos questions.",Q=w?`${se} Vous pouvez cliquer sur « Voir plus » pour ouvrir tous les résultats, ou réessayer dans un instant.`:`${se} Veuillez réessayer dans un instant ou lancer la recherche complète depuis le marketplace.`;u(Y=>[...Y,{role:"assistant",content:W},{role:"assistant",content:Q}])}}finally{l(!1)}},I=()=>{try{A.current?.abort()}catch{}if(c.length>0&&g){const H=c.find(W=>W.role==="user")?.content||"Nouvelle conversation",re=H.length>30?H.substring(0,30)+"...":H,se=f.map(W=>W.id===g?{...W,messages:c,title:re}:W);p(se)}const z=Date.now().toString();v(z),u([]),s(""),l(!1),setTimeout(()=>k.current?.scrollTo({top:0,behavior:"smooth"}),50)},q=()=>{const z=[],H=c.filter(Q=>Q.role==="user").map(Q=>Q.content.toLowerCase()),re=H.some(Q=>Q.includes("immobilier")||Q.includes("appartement")||Q.includes("maison")||Q.includes("terrain")),se=H.some(Q=>Q.includes("voiture")||Q.includes("auto")||Q.includes("véhicule")),W=H.some(Q=>Q.includes("service")||Q.includes("plomberie")||Q.includes("électricité"));return re&&(z.push("Appartements 2 chambres à Dakar"),z.push("Terrains constructibles")),se&&(z.push("Voitures d'occasion récentes"),z.push("Motos économiques")),W&&(z.push("Services de nettoyage"),z.push("Réparation électroménager")),z.length===0&&z.push("Immobilier à Dakar","Voitures < 3 000 000 XOF"),z.slice(0,3)},Z=()=>f.map(z=>({id:z.id,title:z.title||"Conversation sans titre",date:z.date||new Date(z.id).toLocaleDateString(),messageCount:z.messages?.length||0})).slice(-10).reverse(),V=()=>{const z=c.filter(se=>se.role==="user").length,H=c.filter(se=>se.role==="assistant").length,re=c.length;return{userMessages:z,assistantMessages:H,totalMessages:re,sessionDuration:c.length>0?Math.floor((Date.now()-new Date().getTime())/6e4):0}},U=(z,H={})=>{switch(z){case"publish_listing":window.location.href="/creer-annonce";break;case"my_listings":t?window.location.href="/mes-annonces":u(re=>[...re,{role:"assistant",content:"Vous devez être connecté pour voir vos annonces. Connectez-vous d'abord."}]);break;case"contact_seller":T.listing?.sellerId?window.location.href=`/annonce/${T.listing.id}#contact`:u(re=>[...re,{role:"assistant",content:"Informations de contact non disponibles pour cette annonce."}]);break;case"share_listing":if(T.listing?.id){const re=`${window.location.origin}/annonce/${T.listing.id}`;navigator.share?navigator.share({title:T.listing.title||"Annonce MaxiMarket",url:re}):(navigator.clipboard.writeText(re),u(se=>[...se,{role:"assistant",content:"Lien copié dans le presse-papiers !"}]))}break}};return a.jsxs("div",{children:[!r&&a.jsx("button",{onClick:()=>n(!0),"aria-label":"Ouvrir le chat",style:{position:"fixed",bottom:"calc(16px + env(safe-area-inset-bottom, 0px))",right:"calc(16px + env(safe-area-inset-right, 0px))",zIndex:9999,width:56,height:56,borderRadius:14,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"white",border:"1px solid #1f2937",boxShadow:"0 10px 30px rgba(0,0,0,0.55)",display:"grid",placeItems:"center"},children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M21 12c0 4.418-4.03 8-9 8-1.032 0-2.021-.152-2.94-.432L3 21l1.49-4.47C3.55 15.19 3 13.65 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8Z",stroke:"#e5e7eb",strokeWidth:"1.2"}),a.jsx("path",{d:"M7.5 11h9M7.5 14h5",stroke:"#9ca3af",strokeWidth:"1.2",strokeLinecap:"round"})]})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{onClick:()=>{n(!1),C(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,background:"rgba(0,0,0,0.3)"}}),N&&a.jsx("div",{onClick:()=>C(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9997,background:"transparent"}}),a.jsxs("div",{style:{position:"fixed",bottom:_?"calc(16px + env(safe-area-inset-bottom, 0px))":20,right:_?"calc(16px + env(safe-area-inset-right, 0px))":20,left:"auto",top:"auto",zIndex:9999,width:_?"80vw":420,maxWidth:"95vw",height:_?"90vw":560,maxHeight:"78vh",background:"#0b0f14",border:"1px solid #111827",borderRadius:16,display:"flex",flexDirection:"column",boxShadow:"0 18px 38px rgba(0,0,0,0.6)"},children:[a.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #1f2937",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#0e141b",position:_?"sticky":"static",top:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsx("button",{onClick:()=>C(!N),style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"#fff",display:"grid",placeItems:"center",border:"1px solid #1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="linear-gradient(135deg,#1f2937,#111827)",onMouseLeave:z=>z.target.style.background="linear-gradient(135deg,#111827,#0b0f14)",children:N?a.jsxs("div",{style:{position:"relative",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(45deg)",transition:"all 0.2s"}}),a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(-45deg)",transition:"all 0.2s"}})]}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}})]})}),N&&a.jsxs("div",{onClick:z=>z.stopPropagation(),style:{position:"absolute",top:"100%",left:0,width:280,background:"#0b0f14",border:"1px solid #1f2937",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",zIndex:1e4,marginTop:8,padding:16},children:[a.jsxs("div",{style:{borderBottom:"1px solid #1f2937",paddingBottom:12,marginBottom:12},children:[a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:14,marginBottom:4},children:"Assistant MaxiMarket"}),a.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:[V().totalMessages," messages • ",V().userMessages," recherches"]})]}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"CONVERSATIONS RÉCENTES"}),a.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:Z().length>0?Z().map((z,H)=>a.jsx("button",{onClick:()=>{const re=f.find(se=>se.id===z.id);re&&(u(re.messages||[]),v(z.id),C(!1))},style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",color:"#e5e7eb",fontSize:12,textAlign:"left",borderRadius:6,cursor:"pointer",marginBottom:2,transition:"all 0.2s"},onMouseEnter:re=>re.target.style.background="#1f2937",onMouseLeave:re=>re.target.style.background="transparent",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:"#6b7280"}}),a.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[a.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:z.title}),a.jsxs("div",{style:{fontSize:10,color:"#9ca3af"},children:[z.date," • ",z.messageCount," messages"]})]})]})},z.id)):a.jsx("div",{style:{fontSize:12,color:"#6b7280",fontStyle:"italic"},children:"Aucune conversation récente"})})]}),a.jsxs("div",{style:{borderTop:"1px solid #1f2937",paddingTop:12},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"ACTIONS RAPIDES"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[a.jsx("button",{onClick:()=>{U("publish_listing"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="#1f2937",onMouseLeave:z=>z.target.style.background="transparent",children:"📝 Publier une annonce"}),t&&a.jsx("button",{onClick:()=>{U("my_listings"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="#1f2937",onMouseLeave:z=>z.target.style.background="transparent",children:"📋 Mes annonces"}),a.jsx("button",{onClick:()=>{I(),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="#1f2937",onMouseLeave:z=>z.target.style.background="transparent",children:"🆕 Nouveau chat"})]})]})]})]}),a.jsx("div",{children:a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:15},children:"Assistant MaxiMarket"})})]}),a.jsxs("div",{style:{display:"flex",gap:6},children:[a.jsx("button",{onClick:I,title:"Nouveau chat","aria-label":"Nouveau chat",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontWeight:600,fontSize:16},children:"+"}),o&&a.jsx("button",{onClick:()=>A.current?.abort(),title:"Arrêter",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:12,fontWeight:600},children:"⏹"}),a.jsx("button",{onClick:()=>{n(!1),C(!1)},"aria-label":"Fermer",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:16,fontWeight:600},children:"×"})]})]}),a.jsxs("div",{ref:k,style:{flex:1,overflowY:"auto",padding:14,paddingBottom:"calc(14px + env(safe-area-inset-bottom, 0px))"},children:[c.length===0&&a.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:["Bonjour. Je suis l'assistant Maximarket. Indiquez ce que vous recherchez (catégorie, budget, ville) ou posez votre question.",a.jsx("div",{style:{marginTop:10,display:"flex",flexWrap:"wrap",gap:8},children:[...q(),"Publier une annonce","Services plomberie",t?"Voir mes annonces":"Se connecter"].map((z,H)=>a.jsx("button",{onClick:()=>{z==="Publier une annonce"?U("publish_listing"):z==="Voir mes annonces"?U("my_listings"):z==="Se connecter"?window.location.href="/connexion":s(z)},style:{padding:"6px 10px",border:"1px solid #374151",borderRadius:999,background:"#0e141b",color:"#e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:re=>re.target.style.background="#1f2937",onMouseLeave:re=>re.target.style.background="#0e141b",children:z},H))}),T.listing&&a.jsxs("div",{style:{marginTop:15,paddingTop:15,borderTop:"1px solid #1f2937"},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:"Actions rapides :"}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[a.jsx("button",{onClick:()=>U("contact_seller"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Contacter le vendeur"}),a.jsx("button",{onClick:()=>U("share_listing"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Partager"})]})]})]}),c.map((z,H)=>a.jsxs("div",{style:{margin:"10px 0",display:"flex",gap:10,alignItems:"flex-start"},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:z.role==="user"?"#111827":"#0e141b",color:"#e5e7eb",display:"grid",placeItems:"center",fontSize:12,border:"1px solid #1f2937"},children:z.role==="user"?"Vous":"AI"}),a.jsx("div",{style:{whiteSpace:"pre-wrap",background:z.role==="user"?"#0e141b":"#0b0f14",border:"1px solid #1f2937",color:"#e5e7eb",borderRadius:12,padding:"10px 12px",maxWidth:"85%"},children:z.content})]},H)),o&&a.jsx("div",{style:{color:"#9ca3af",fontSize:14},children:"Rédaction..."})]}),a.jsxs("div",{style:{display:"flex",gap:8,padding:12,paddingBottom:"calc(12px + env(safe-area-inset-bottom, 0px))",borderTop:"1px solid #1f2937",background:"#0e141b",borderBottomLeftRadius:16,borderBottomRightRadius:16},children:[a.jsx(tt,{value:i,onChange:z=>s(z.target.value),onKeyDown:z=>{z.key==="Enter"&&O()},placeholder:"Votre message...",style:{background:"#0b0f14",color:"#e5e7eb",borderColor:"#1f2937"}}),a.jsx(ue,{onClick:O,disabled:o||!i.trim(),style:{background:"#111827",border:"1px solid #1f2937"},children:"Envoyer"}),w&&a.jsx(ue,{variant:"outline",onClick:()=>{const z=c.filter(se=>se.role==="user").slice(-1)[0]?.content||"",H=CT(z),re=new URLSearchParams;H?.params?.search&&re.set("search",H.params.search),H?.params?.minPrice&&re.set("minPrice",H.params.minPrice),H?.params?.maxPrice&&re.set("maxPrice",H.params.maxPrice),H?.params?.location&&re.set("location",H.params.location),window.location.href=`/marketplace?${re.toString()}`},style:{border:"1px solid #374151",color:"#e5e7eb"},children:"Voir plus"})]})]})]})]})},nr={siteName:"MaxiMarket",tagline:"Votre Hub Innovant pour l'Afrique de l'Ouest",socials:{linkedin:"https://linkedin.com/in/yourusername",twitter:"https://twitter.com/yourusername",instagram:"https://instagram.com/yourusername",facebook:"https://facebook.com/yourusername",youtube:"https://youtube.com/yourusername"}},xme=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[i,s]=x.useState(!0),{user:o}=Or(),l=x.useMemo(()=>[{name:"Immobilier",path:"/immobilier",icon:a.jsx(Td,{className:"mr-2 h-4 w-4"})},{name:"Automobile",path:"/automobile",icon:a.jsx(p_,{className:"mr-2 h-4 w-4"})},{name:"Services",path:"/services",icon:a.jsx(Pd,{className:"mr-2 h-4 w-4"})},{name:"Marketplace",path:"/marketplace",icon:a.jsx(Wd,{className:"mr-2 h-4 w-4"})}],[]),c=x.useMemo(()=>({closed:{opacity:0,x:"-100%"},open:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}}}),[]),u=x.useMemo(()=>"text-muted-foreground hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium flex items-center",[]),f=x.useMemo(()=>"text-primary bg-primary/10",[]);x.useEffect(()=>{const v=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[]),x.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const p=()=>{s(!i)},g=x.useMemo(()=>a.jsx(ir,{to:"/",className:"flex items-center space-x-2","aria-label":"Accueil MaxiMarket",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:nr.siteName})}),[]);return a.jsxs("header",{role:"banner","aria-label":"Navigation principale",children:[a.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${r||e?"bg-background/95 shadow-lg backdrop-blur-md":"bg-transparent"}`,role:"navigation","aria-label":"Menu principal",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:g}),a.jsx("nav",{role:"navigation","aria-label":"Navigation desktop",className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:l.map(v=>a.jsxs(Yu,{to:v.path,className:({isActive:w})=>`${u} ${w?f:""}`,"aria-current":({isActive:w})=>w?"page":void 0,children:[v.icon,v.name]},v.name))}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{variant:"ghost",size:"icon",onClick:p,"aria-label":"Changer de thème",type:"button",children:i?a.jsx(hde,{className:"h-5 w-5"}):a.jsx(ede,{className:"h-5 w-5"})}),a.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Rechercher",type:"button",children:a.jsx(Yn,{className:"h-5 w-5"})}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ir,{to:"/connexion","aria-label":"Se connecter",children:[a.jsx(m0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-secondary",children:a.jsxs(ir,{to:"/inscription","aria-label":"S'inscrire",children:[a.jsx(m0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})})]}),o&&o.role==="admin"?a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-secondary",children:a.jsxs(ir,{to:"/admin","aria-label":"Accéder à l'administration",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]})}):o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ir,{to:"/messages","aria-label":"Accéder aux messages",children:[a.jsx(es,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ir,{to:"/profile","aria-label":"Accéder à mon compte",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t(!e),"aria-label":e?"Fermer le menu":"Ouvrir le menu","aria-expanded":e,type:"button",children:e?a.jsx(Ms,{className:"h-6 w-6"}):a.jsx(v9,{className:"h-6 w-6"})})})]})]})})}),a.jsx(si,{children:e&&a.jsxs(Re.nav,{variants:c,initial:"closed",animate:"open",exit:"closed",className:"md:hidden fixed inset-0 top-20 bg-background/95 backdrop-blur-md z-40 p-4 space-y-3 border-t border-border",role:"navigation","aria-label":"Menu mobile",children:[l.map(v=>a.jsxs(Yu,{to:v.path,onClick:()=>t(!1),className:({isActive:w})=>`${u} text-base w-full justify-start ${w?f:""}`,"aria-current":({isActive:w})=>w?"page":void 0,children:[v.icon,v.name]},v.name)),!o&&a.jsxs(a.Fragment,{children:[a.jsxs(Yu,{to:"/connexion",onClick:()=>t(!1),className:`${u} text-base w-full justify-start`,"aria-label":"Se connecter",children:[a.jsx(m0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]}),a.jsxs(Yu,{to:"/inscription",onClick:()=>t(!1),className:`${u} text-base w-full justify-start`,"aria-label":"S'inscrire",children:[a.jsx(m0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})]}),o&&o.role==="admin"?a.jsxs(Yu,{to:"/admin",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder à l'administration",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]}):o&&a.jsxs(a.Fragment,{children:[a.jsxs(Yu,{to:"/messages",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder aux messages",children:[a.jsx(es,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]}),a.jsxs(Yu,{to:"/profile",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder à mon compte",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})]})]})})]})},bme=()=>{const e=new Date().getFullYear(),t=[{title:"Explorer",links:[{name:"Immobilier",path:"/immobilier"},{name:"Automobile",path:"/automobile"},{name:"Services Pro",path:"/services"},{name:"Marketplace",path:"/marketplace"}]},{title:"Entreprise",links:[{name:"À Propos",path:"/a-propos"},{name:"Carrières",path:"/carrieres"},{name:"Presse",path:"/presse"},{name:"Blog",path:"/blog"}]},{title:"Support",links:[{name:"Centre d'Aide",path:"/aide"},{name:"Contactez-nous",path:"/contact"},{name:"FAQ",path:"/faq"},{name:"Politique de Confidentialité",path:"/politique-confidentialite"},{name:"Termes & Conditions",path:"/conditions-utilisation"}]}],r=[{name:"Facebook",icon:a.jsx(que,{className:"h-5 w-5"}),path:nr.socials.facebook},{name:"Twitter",icon:a.jsx(x9,{className:"h-5 w-5"}),path:nr.socials.twitter},{name:"Instagram",icon:a.jsx(Zue,{className:"h-5 w-5"}),path:nr.socials.instagram},{name:"LinkedIn",icon:a.jsx(g9,{className:"h-5 w-5"}),path:nr.socials.linkedin},{name:"YouTube",icon:a.jsx(xde,{className:"h-5 w-5"}),path:nr.socials.youtube}].filter(n=>n.path&&!n.path.includes("yourusername"));return a.jsx("footer",{className:"bg-card text-card-foreground border-t border-border pt-16 pb-8",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2 lg:col-span-1 xl:col-span-2 pr-4",children:[a.jsx(ir,{to:"/",className:"flex items-center space-x-2 mb-6",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:nr.siteName})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"La plateforme N°1 en Afrique de l'Ouest pour l'immobilier, l'automobile, les services et bien plus."}),a.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Restez informé de nos nouveautés :"}),a.jsxs("form",{className:"flex items-center gap-2",children:[a.jsx(tt,{type:"email",placeholder:"Votre adresse e-mail",className:"flex-grow"}),a.jsx(ue,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary/90",children:a.jsx(m_,{className:"h-4 w-4"})})]})]}),t.map(n=>a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold mb-4",children:n.title}),a.jsx("ul",{className:"space-y-2",children:n.links.map(i=>a.jsx("li",{children:a.jsxs(ir,{to:i.path,className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center group",children:[i.name,a.jsx(_l,{className:"h-3 w-3 ml-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},i.name))})]},n.title))]}),a.jsxs("div",{className:"border-t border-border pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-xs text-muted-foreground mb-4 md:mb-0",children:["© ",e," ",nr.siteName,". Tous droits réservés."]}),a.jsx("div",{className:"flex space-x-4",children:r.map(n=>a.jsx(ir,{to:n.path,target:"_blank",rel:"noopener noreferrer","aria-label":n.name,className:"text-muted-foreground hover:text-primary transition-colors",children:n.icon},n.name))})]})]})})},wme=()=>{const e=Si(),[t,r]=x.useState(!1),n=x.useCallback(()=>{r(window.scrollY>20)},[]);x.useEffect(()=>(window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)),[n]),x.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]);const i=x.useMemo(()=>Ke("fixed top-0 left-0 right-0 z-50 transition-all duration-300",t?"py-3 glass-effect":"py-5 bg-transparent"),[t]),s=x.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background grid-pattern",children:[a.jsx("header",{className:i,role:"banner","aria-label":"En-tête principal",children:a.jsx(xme,{})}),a.jsx("main",{className:"flex-grow pt-24 pb-16",role:"main","aria-label":"Contenu principal",id:"main-content",children:a.jsx(Re.div,{...s,children:a.jsx(JU,{})},e.pathname)}),a.jsx(bme,{})]})},_me=[{name:"Tableau de bord",href:"/admin",icon:m9},{name:"Utilisateurs",href:"/admin/users",icon:za},{name:"Annonces",href:"/admin/listings",icon:zg},{name:"Transactions",href:"/admin/transactions",icon:Vh},{name:"Catégories",href:"/admin/categories",icon:Hd},{name:"Rapports",href:"/admin/analytics",icon:FO},{name:"Modération",href:"/admin/moderation",icon:Ab},{name:"Paramètres",href:"/admin/settings",icon:dd}];function jme({className:e}){const t=Si(),{logout:r}=Or(),n=async()=>{try{await r()}catch(i){console.error("Erreur lors de la déconnexion:",i)}};return a.jsxs("div",{className:Ke("hidden md:flex md:flex-col md:w-64 bg-slate-900 border-r border-slate-800 min-h-screen",e),children:[a.jsx("div",{className:"p-4 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:_me.map(i=>a.jsxs(ir,{to:i.href,className:Ke("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",t.pathname===i.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[a.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.href))}),a.jsx("div",{className:"p-4 border-t border-slate-800",children:a.jsxs(ue,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-slate-800 hover:text-white",children:[a.jsx(qO,{className:"mr-3 h-5 w-5"}),"Déconnexion"]})})]})}var Sme=Object.defineProperty,Nme=(e,t,r)=>t in e?Sme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,MS=(e,t,r)=>(Nme(e,typeof t!="symbol"?t+"":t,r),r);let Cme=class{constructor(){MS(this,"current",this.detect()),MS(this,"handoffState","pending"),MS(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Nl=new Cme,aa=(e,t)=>{Nl.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function Cl(e){let t=x.useRef(e);return aa(()=>{t.current=e},[e]),t}let Zr=function(e){let t=Cl(e);return X.useCallback((...r)=>t.current(...r),[t])};function w_(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Gd(){let e=[],t={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),t.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return w_(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Gd();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function eR(){let[e]=x.useState(Gd);return x.useEffect(()=>()=>e.dispose(),[e]),e}function Eme(){let e=typeof document>"u";return"useSyncExternalStore"in su?(t=>t.useSyncExternalStore)(su)(()=>()=>{},()=>!1,()=>!e):!1}function Mp(){let e=Eme(),[t,r]=x.useState(Nl.isHandoffComplete);return t&&Nl.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>Nl.handoff(),[]),e?!1:t}var F$;let Ip=(F$=X.useId)!=null?F$:function(){let e=Mp(),[t,r]=X.useState(e?()=>Nl.nextId():null);return aa(()=>{t===null&&r(Nl.nextId())},[t]),t!=null?""+t:void 0};function ji(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ji),n}function m7(e){return Nl.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let ET=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var cd=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(cd||{}),g7=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(g7||{}),Pme=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Pme||{});function Tme(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ET)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var v7=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(v7||{});function Ame(e,t=0){var r;return e===((r=m7(e))==null?void 0:r.body)?!1:ji(t,{0(){return e.matches(ET)},1(){let n=e;for(;n!==null;){if(n.matches(ET))return!0;n=n.parentElement}return!1}})}var kme=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(kme||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function jd(e){e?.focus({preventScroll:!0})}let Ome=["textarea","input"].join(",");function Rme(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,Ome))!=null?r:!1}function Mme(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),s=t(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ib(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?Mme(e):e:Tme(e);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),n=n??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,p=o.length,g;do{if(f>=p||f+p<=0)return 0;let v=c+f;if(t&16)v=(v+p)%p;else{if(v<0)return 3;if(v>=p)return 1}g=o[v],g?.focus(u),f+=l}while(g!==s.activeElement);return t&6&&Rme(g)&&g.select(),2}function y7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ime(){return/Android/gi.test(window.navigator.userAgent)}function Dme(){return y7()||Ime()}function x0(e,t,r){let n=Cl(t);x.useEffect(()=>{function i(s){n.current(s)}return document.addEventListener(e,i,r),()=>document.removeEventListener(e,i,r)},[e,r])}function x7(e,t,r){let n=Cl(t);x.useEffect(()=>{function i(s){n.current(s)}return window.addEventListener(e,i,r),()=>window.removeEventListener(e,i,r)},[e,r])}function Lme(e,t,r=!0){let n=x.useRef(!1);x.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(o,l){if(!n.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let f of u){if(f===null)continue;let p=f instanceof HTMLElement?f:f.current;if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!Ame(c,v7.Loose)&&c.tabIndex!==-1&&o.preventDefault(),t(o,c)}let s=x.useRef(null);x0("pointerdown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),x0("mousedown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),x0("click",o=>{Dme()||s.current&&(i(o,()=>s.current),s.current=null)},!0),x0("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),x7("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function dy(...e){return x.useMemo(()=>m7(...e),[...e])}let b7=Symbol();function $me(e,t=!0){return Object.assign(e,{[b7]:t})}function Ya(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=Zr(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||n?.[b7])?void 0:r}function tR(e,t){let r=x.useRef([]),n=Zr(e);x.useEffect(()=>{let i=[...r.current];for(let[s,o]of t.entries())if(r.current[s]!==o){let l=n(t,i);return r.current=t,l}},[n,...t])}function Mb(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Ib=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ib||{}),Zc=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Zc||{});function la({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??Fme;let c=w7(t,e);if(s)return b0(c,r,n,o,l);let u=i??0;if(u&2){let{static:f=!1,...p}=c;if(f)return b0(p,r,n,o,l)}if(u&1){let{unmount:f=!0,...p}=c;return ji(f?0:1,{0(){return null},1(){return b0({...p,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return b0(c,r,n,o,l)}function b0(e,t={},r,n,i){let{as:s=r,children:o,refName:l="ref",...c}=IS(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},f=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let p={};if(t){let g=!1,v=[];for(let[w,y]of Object.entries(t))typeof y=="boolean"&&(g=!0),y===!0&&v.push(w);g&&(p["data-headlessui-state"]=v.join(" "))}if(s===x.Fragment&&Object.keys(B$(c)).length>0){if(!x.isValidElement(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let g=f.props,v=typeof g?.className=="function"?(...y)=>Mb(g?.className(...y),c.className):Mb(g?.className,c.className),w=v?{className:v}:{};return x.cloneElement(f,Object.assign({},w7(f.props,B$(IS(c,["ref"]))),p,u,{ref:i(f.ref,u.ref)},w))}return x.createElement(s,Object.assign({},IS(c,["ref"]),s!==x.Fragment&&u,s!==x.Fragment&&p),f)}function Fme(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function w7(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](i,...s){let o=r[n];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function Ds(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function B$(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function IS(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let Bme="div";var Db=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Db||{});function zme(e,t){var r;let{features:n=1,...i}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return la({ourProps:s,theirProps:i,slot:{},defaultTag:Bme,name:"Hidden"})}let PT=Ds(zme),rR=x.createContext(null);rR.displayName="OpenClosedContext";var Ss=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ss||{});function nR(){return x.useContext(rR)}function qme({value:e,children:t}){return X.createElement(rR.Provider,{value:e},t)}function Ume(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Wc=[];Ume(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Wc[0]!==t.target&&(Wc.unshift(t.target),Wc=Wc.filter(r=>r!=null&&r.isConnected),Wc.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Vme(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Wme(r)?!1:n}function Wme(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var _7=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(_7||{});function j7(e,t,r,n){let i=Cl(r);x.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function fy(){let e=x.useRef(!1);return aa(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function S7(e){let t=Zr(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,w_(()=>{r.current&&t()})}),[t])}var wg=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(wg||{});function Hme(){let e=x.useRef(0);return x7("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function N7(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let Kme="div";var C7=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(C7||{});function Gme(e,t){let r=x.useRef(null),n=Ya(r,t),{initialFocus:i,containers:s,features:o=30,...l}=e;Mp()||(o=1);let c=dy(r);Xme({ownerDocument:c},!!(o&16));let u=Jme({ownerDocument:c,container:r,initialFocus:i},!!(o&2));Qme({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(o&8));let f=Hme(),p=Zr(y=>{let _=r.current;_&&(S=>S())(()=>{ji(f.current,{[wg.Forwards]:()=>{ib(_,cd.First,{skipElements:[y.relatedTarget]})},[wg.Backwards]:()=>{ib(_,cd.Last,{skipElements:[y.relatedTarget]})}})})}),g=eR(),v=x.useRef(!1),w={ref:n,onKeyDown(y){y.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(y){let _=N7(s);r.current instanceof HTMLElement&&_.add(r.current);let S=y.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(E7(_,S)||(v.current?ib(r.current,ji(f.current,{[wg.Forwards]:()=>cd.Next,[wg.Backwards]:()=>cd.Previous})|cd.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&jd(y.target)))}};return X.createElement(X.Fragment,null,!!(o&4)&&X.createElement(PT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Db.Focusable}),la({ourProps:w,theirProps:l,defaultTag:Kme,name:"FocusTrap"}),!!(o&4)&&X.createElement(PT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Db.Focusable}))}let Zme=Ds(Gme),tg=Object.assign(Zme,{features:C7});function Yme(e=!0){let t=x.useRef(Wc.slice());return tR(([r],[n])=>{n===!0&&r===!1&&w_(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Wc.slice())},[e,Wc,t]),Zr(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Xme({ownerDocument:e},t){let r=Yme(t);tR(()=>{t||e?.activeElement===e?.body&&jd(r())},[t]),S7(()=>{t&&jd(r())})}function Jme({ownerDocument:e,container:t,initialFocus:r},n){let i=x.useRef(null),s=fy();return tR(()=>{if(!n)return;let o=t.current;o&&w_(()=>{if(!s.current)return;let l=e?.activeElement;if(r!=null&&r.current){if(r?.current===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}r!=null&&r.current?jd(r.current):ib(o,cd.First)===g7.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e?.activeElement})},[n]),i}function Qme({ownerDocument:e,container:t,containers:r,previousActiveElement:n},i){let s=fy();j7(e?.defaultView,"focus",o=>{if(!i||!s.current)return;let l=N7(r);t.current instanceof HTMLElement&&l.add(t.current);let c=n.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?E7(l,u)?(n.current=u,jd(u)):(o.preventDefault(),o.stopPropagation(),jd(c)):jd(n.current)},!0)}function E7(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let P7=x.createContext(!1);function ege(){return x.useContext(P7)}function TT(e){return X.createElement(P7.Provider,{value:e.force},e.children)}function tge(e){let t=ege(),r=x.useContext(T7),n=dy(e),[i,s]=x.useState(()=>{if(!t&&r!==null||Nl.isServer)return null;let o=n?.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return x.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),x.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),i}let rge=x.Fragment;function nge(e,t){let r=e,n=x.useRef(null),i=Ya($me(f=>{n.current=f}),t),s=dy(n),o=tge(n),[l]=x.useState(()=>{var f;return Nl.isServer?null:(f=s?.createElement("div"))!=null?f:null}),c=x.useContext(AT),u=Mp();return aa(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),aa(()=>{if(l&&c)return c.register(l)},[c,l]),S7(()=>{var f;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((f=o.parentElement)==null||f.removeChild(o)))}),u?!o||!l?null:Za.createPortal(la({ourProps:{ref:i},theirProps:r,defaultTag:rge,name:"Portal"}),l):null}let ige=x.Fragment,T7=x.createContext(null);function sge(e,t){let{target:r,...n}=e,i={ref:Ya(t)};return X.createElement(T7.Provider,{value:r},la({ourProps:i,theirProps:n,defaultTag:ige,name:"Popover.Group"}))}let AT=x.createContext(null);function age(){let e=x.useContext(AT),t=x.useRef([]),r=Zr(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Zr(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return X.createElement(AT.Provider,{value:i},s)},[i])]}let oge=Ds(nge),lge=Ds(sge),kT=Object.assign(oge,{Group:lge});function cge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const uge=typeof Object.is=="function"?Object.is:cge,{useState:dge,useEffect:fge,useLayoutEffect:hge,useDebugValue:pge}=su;function mge(e,t,r){const n=t(),[{inst:i},s]=dge({inst:{value:n,getSnapshot:t}});return hge(()=>{i.value=n,i.getSnapshot=t,DS(i)&&s({inst:i})},[e,n,t]),fge(()=>(DS(i)&&s({inst:i}),e(()=>{DS(i)&&s({inst:i})})),[e]),pge(n),n}function DS(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!uge(r,n)}catch{return!0}}function gge(e,t,r){return t()}const vge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yge=!vge,xge=yge?gge:mge,bge="useSyncExternalStore"in su?(e=>e.useSyncExternalStore)(su):xge;function wge(e){return bge(e.subscribe,e.getSnapshot,e.getSnapshot)}function _ge(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=t[i].call(r,...s);o&&(r=o,n.forEach(l=>l()))}}}function jge(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,i=n.clientWidth-n.offsetWidth,s=e-i;r.style(n,"paddingRight",`${s}px`)}}}function Sge(){return y7()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Gd();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),f=e.querySelector(u);f&&!n(f)&&(o=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Nge(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Cge(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let fd=_ge(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Gd(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:Cge(r)},i=[Sge(),jge(),Nge()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});fd.subscribe(()=>{let e=fd.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&fd.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&fd.dispatch("TEARDOWN",r)}});function Ege(e,t,r){let n=wge(fd),i=e?n.get(e):void 0,s=i?i.count>0:!1;return aa(()=>{if(!(!e||!t))return fd.dispatch("PUSH",e,r),()=>fd.dispatch("POP",e,r)},[t,e]),s}let LS=new Map,rg=new Map;function z$(e,t=!0){aa(()=>{var r;if(!t)return;let n=typeof e=="function"?e():e.current;if(!n)return;function i(){var o;if(!n)return;let l=(o=rg.get(n))!=null?o:1;if(l===1?rg.delete(n):rg.set(n,l-1),l!==1)return;let c=LS.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,LS.delete(n))}let s=(r=rg.get(n))!=null?r:0;return rg.set(n,s+1),s!==0||(LS.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),i},[e,t])}function Pge({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var n;let i=x.useRef((n=r?.current)!=null?n:null),s=dy(i),o=Zr(()=>{var l,c,u;let f=[];for(let p of e)p!==null&&(p instanceof HTMLElement?f.push(p):"current"in p&&p.current instanceof HTMLElement&&f.push(p.current));if(t!=null&&t.current)for(let p of t.current)f.push(p);for(let p of(l=s?.querySelectorAll("html > *, body > *"))!=null?l:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(i.current)||p.contains((u=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||f.some(g=>p.contains(g))||f.push(p));return f});return{resolveContainers:o,contains:Zr(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:i,MainTreeNode:x.useMemo(()=>function(){return r!=null?null:X.createElement(PT,{features:Db.Hidden,ref:i})},[i,r])}}let iR=x.createContext(()=>{});iR.displayName="StackContext";var OT=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(OT||{});function Tge(){return x.useContext(iR)}function Age({children:e,onUpdate:t,type:r,element:n,enabled:i}){let s=Tge(),o=Zr((...l)=>{t?.(...l),s(...l)});return aa(()=>{let l=i===void 0||i===!0;return l&&o(0,r,n),()=>{l&&o(1,r,n)}},[o,r,n,i]),X.createElement(iR.Provider,{value:o},e)}let A7=x.createContext(null);function k7(){let e=x.useContext(A7);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,k7),t}return e}function kge(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=Zr(s=>(t(o=>[...o,s]),()=>t(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return X.createElement(A7.Provider,{value:i},r.children)},[t])]}let Oge="p";function Rge(e,t){let r=Ip(),{id:n=`headlessui-description-${r}`,...i}=e,s=k7(),o=Ya(t);aa(()=>s.register(n),[n,s.register]);let l={ref:o,...s.props,id:n};return la({ourProps:l,theirProps:i,slot:s.slot||{},defaultTag:Oge,name:s.name||"Description"})}let Mge=Ds(Rge),Ige=Object.assign(Mge,{});var Dge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Dge||{}),Lge=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Lge||{});let $ge={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Lb=x.createContext(null);Lb.displayName="DialogContext";function hy(e){let t=x.useContext(Lb);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,hy),r}return t}function Fge(e,t,r=()=>[document.body]){Ege(e,t,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function Bge(e,t){return ji(t.type,$ge,e,t)}let zge="div",qge=Ib.RenderStrategy|Ib.Static;function Uge(e,t){let r=Ip(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=e,[f,p]=x.useState(0),g=x.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=nR();i===void 0&&v!==null&&(i=(v&Ss.Open)===Ss.Open);let w=x.useRef(null),y=Ya(w,t),_=dy(w),S=e.hasOwnProperty("open")||v!==null,N=e.hasOwnProperty("onClose");if(!S&&!N)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!N)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let C=i?0:1,[k,A]=x.useReducer(Bge,{titleId:null,descriptionId:null,panelRef:x.createRef()}),T=Zr(()=>s(!1)),O=Zr(ee=>A({type:0,id:ee})),I=Mp()?c?!1:C===0:!1,q=f>1,Z=x.useContext(Lb)!==null,[V,U]=age(),z={get current(){var ee;return(ee=k.panelRef.current)!=null?ee:w.current}},{resolveContainers:H,mainTreeNodeRef:re,MainTreeNode:se}=Pge({portals:V,defaultContainers:[z]}),W=q?"parent":"leaf",Q=v!==null?(v&Ss.Closing)===Ss.Closing:!1,Y=Z||Q?!1:I,ne=x.useCallback(()=>{var ee,G;return(G=Array.from((ee=_?.querySelectorAll("body > *"))!=null?ee:[]).find(we=>we.id==="headlessui-portal-root"?!1:we.contains(re.current)&&we instanceof HTMLElement))!=null?G:null},[re]);z$(ne,Y);let J=q?!0:I,oe=x.useCallback(()=>{var ee,G;return(G=Array.from((ee=_?.querySelectorAll("[data-headlessui-portal]"))!=null?ee:[]).find(we=>we.contains(re.current)&&we instanceof HTMLElement))!=null?G:null},[re]);z$(oe,J),Lme(H,ee=>{ee.preventDefault(),T()},!(!I||q));let Ce=!(q||C!==0);j7(_?.defaultView,"keydown",ee=>{Ce&&(ee.defaultPrevented||ee.key===_7.Escape&&(ee.preventDefault(),ee.stopPropagation(),T()))}),Fge(_,!(Q||C!==0||Z),H),x.useEffect(()=>{if(C!==0||!w.current)return;let ee=new ResizeObserver(G=>{for(let we of G){let xe=we.target.getBoundingClientRect();xe.x===0&&xe.y===0&&xe.width===0&&xe.height===0&&T()}});return ee.observe(w.current),()=>ee.disconnect()},[C,w,T]);let[ce,ae]=kge(),ge=x.useMemo(()=>[{dialogState:C,close:T,setTitleId:O},k],[C,k,T,O]),he=x.useMemo(()=>({open:C===0}),[C]),Pe={ref:y,id:n,role:l,"aria-modal":C===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":ce};return X.createElement(Age,{type:"Dialog",enabled:C===0,element:w,onUpdate:Zr((ee,G)=>{G==="Dialog"&&ji(ee,{[OT.Add]:()=>p(we=>we+1),[OT.Remove]:()=>p(we=>we-1)})})},X.createElement(TT,{force:!0},X.createElement(kT,null,X.createElement(Lb.Provider,{value:ge},X.createElement(kT.Group,{target:w},X.createElement(TT,{force:!1},X.createElement(ae,{slot:he,name:"Dialog.Description"},X.createElement(tg,{initialFocus:o,containers:H,features:I?ji(W,{parent:tg.features.RestoreFocus,leaf:tg.features.All&~tg.features.FocusLock}):tg.features.None},X.createElement(U,null,la({ourProps:Pe,theirProps:u,slot:he,defaultTag:zge,features:qge,visible:C===0,name:"Dialog"}))))))))),X.createElement(se,null))}let Vge="div";function Wge(e,t){let r=Ip(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=e,[{dialogState:s,close:o}]=hy("Dialog.Overlay"),l=Ya(t),c=Zr(f=>{if(f.target===f.currentTarget){if(Vme(f.currentTarget))return f.preventDefault();f.preventDefault(),f.stopPropagation(),o()}}),u=x.useMemo(()=>({open:s===0}),[s]);return la({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:i,slot:u,defaultTag:Vge,name:"Dialog.Overlay"})}let Hge="div";function Kge(e,t){let r=Ip(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=e,[{dialogState:s},o]=hy("Dialog.Backdrop"),l=Ya(t);x.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=x.useMemo(()=>({open:s===0}),[s]);return X.createElement(TT,{force:!0},X.createElement(kT,null,la({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:Hge,name:"Dialog.Backdrop"})))}let Gge="div";function Zge(e,t){let r=Ip(),{id:n=`headlessui-dialog-panel-${r}`,...i}=e,[{dialogState:s},o]=hy("Dialog.Panel"),l=Ya(t,o.panelRef),c=x.useMemo(()=>({open:s===0}),[s]),u=Zr(f=>{f.stopPropagation()});return la({ourProps:{ref:l,id:n,onClick:u},theirProps:i,slot:c,defaultTag:Gge,name:"Dialog.Panel"})}let Yge="h2";function Xge(e,t){let r=Ip(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:o}]=hy("Dialog.Title"),l=Ya(t);x.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=x.useMemo(()=>({open:s===0}),[s]);return la({ourProps:{ref:l,id:n},theirProps:i,slot:c,defaultTag:Yge,name:"Dialog.Title"})}let Jge=Ds(Uge),Qge=Ds(Kge),eve=Ds(Zge),tve=Ds(Wge),rve=Ds(Xge),q$=Object.assign(Jge,{Backdrop:Qge,Panel:eve,Overlay:tve,Title:rve,Description:Ige});function nve(e=0){let[t,r]=x.useState(e),n=fy(),i=x.useCallback(c=>{n.current&&r(u=>u|c)},[t,n]),s=x.useCallback(c=>!!(t&c),[t]),o=x.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=x.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:t,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:l}}function ive(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function $S(e,...t){e&&t.length>0&&e.classList.add(...t)}function FS(e,...t){e&&t.length>0&&e.classList.remove(...t)}function sve(e,t){let r=Gd();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[s,o]=[n,i].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return u}),l=s+o;if(l!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",f=>{f.target===f.currentTarget&&u.dispose()})});let c=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return r.add(()=>t()),r.dispose}function ave(e,t,r,n){let i=r?"enter":"leave",s=Gd(),o=n!==void 0?ive(n):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=ji(i,{enter:()=>t.enter,leave:()=>t.leave}),c=ji(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=ji(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return FS(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),$S(e,...t.base,...l,...u),s.nextFrame(()=>{FS(e,...t.base,...l,...u),$S(e,...t.base,...l,...c),sve(e,()=>(FS(e,...t.base,...l),$S(e,...t.base,...t.entered),o()))}),s.dispose}function ove({immediate:e,container:t,direction:r,classes:n,onStart:i,onStop:s}){let o=fy(),l=eR(),c=Cl(r);aa(()=>{e&&(c.current="enter")},[e]),aa(()=>{let u=Gd();l.add(u.dispose);let f=t.current;if(f&&c.current!=="idle"&&o.current)return u.dispose(),i.current(c.current),u.add(ave(f,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Rc(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let __=x.createContext(null);__.displayName="TransitionContext";var lve=(e=>(e.Visible="visible",e.Hidden="hidden",e))(lve||{});function cve(){let e=x.useContext(__);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function uve(){let e=x.useContext(j_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let j_=x.createContext(null);j_.displayName="NestingContext";function S_(e){return"children"in e?S_(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function O7(e,t){let r=Cl(e),n=x.useRef([]),i=fy(),s=eR(),o=Zr((v,w=Zc.Hidden)=>{let y=n.current.findIndex(({el:_})=>_===v);y!==-1&&(ji(w,{[Zc.Unmount](){n.current.splice(y,1)},[Zc.Hidden](){n.current[y].state="hidden"}}),s.microTask(()=>{var _;!S_(n)&&i.current&&((_=r.current)==null||_.call(r))}))}),l=Zr(v=>{let w=n.current.find(({el:y})=>y===v);return w?w.state!=="visible"&&(w.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,Zc.Unmount)}),c=x.useRef([]),u=x.useRef(Promise.resolve()),f=x.useRef({enter:[],leave:[],idle:[]}),p=Zr((v,w,y)=>{c.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([_])=>_!==v)),t?.chains.current[w].push([v,new Promise(_=>{c.current.push(_)})]),t?.chains.current[w].push([v,new Promise(_=>{Promise.all(f.current[w].map(([S,N])=>N)).then(()=>_())})]),w==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>y(w)):y(w)}),g=Zr((v,w,y)=>{Promise.all(f.current[w].splice(0).map(([_,S])=>S)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>y(w))});return x.useMemo(()=>({children:n,register:l,unregister:o,onStart:p,onStop:g,wait:u,chains:f}),[l,o,n,p,g,f,u])}function dve(){}let fve=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function U$(e){var t;let r={};for(let n of fve)r[n]=(t=e[n])!=null?t:dve;return r}function hve(e){let t=x.useRef(U$(e));return x.useEffect(()=>{t.current=U$(e)},[e]),t}let pve="div",R7=Ib.RenderStrategy;function mve(e,t){var r,n;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:f,entered:p,leave:g,leaveFrom:v,leaveTo:w,...y}=e,_=x.useRef(null),S=Ya(_,t),N=(r=y.unmount)==null||r?Zc.Unmount:Zc.Hidden,{show:C,appear:k,initial:A}=cve(),[T,O]=x.useState(C?"visible":"hidden"),I=uve(),{register:q,unregister:Z}=I;x.useEffect(()=>q(_),[q,_]),x.useEffect(()=>{if(N===Zc.Hidden&&_.current){if(C&&T!=="visible"){O("visible");return}return ji(T,{hidden:()=>Z(_),visible:()=>q(_)})}},[T,_,q,Z,C,N]);let V=Cl({base:Rc(y.className),enter:Rc(c),enterFrom:Rc(u),enterTo:Rc(f),entered:Rc(p),leave:Rc(g),leaveFrom:Rc(v),leaveTo:Rc(w)}),U=hve({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l}),z=Mp();x.useEffect(()=>{if(z&&T==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,T,z]);let H=A&&!k,re=k&&C&&A,se=!z||H?"idle":C?"enter":"leave",W=nve(0),Q=Zr(Ce=>ji(Ce,{enter:()=>{W.addFlag(Ss.Opening),U.current.beforeEnter()},leave:()=>{W.addFlag(Ss.Closing),U.current.beforeLeave()},idle:()=>{}})),Y=Zr(Ce=>ji(Ce,{enter:()=>{W.removeFlag(Ss.Opening),U.current.afterEnter()},leave:()=>{W.removeFlag(Ss.Closing),U.current.afterLeave()},idle:()=>{}})),ne=O7(()=>{O("hidden"),Z(_)},I),J=x.useRef(!1);ove({immediate:re,container:_,classes:V,direction:se,onStart:Cl(Ce=>{J.current=!0,ne.onStart(_,Ce,Q)}),onStop:Cl(Ce=>{J.current=!1,ne.onStop(_,Ce,Y),Ce==="leave"&&!S_(ne)&&(O("hidden"),Z(_))})});let oe=y,be={ref:S};return re?oe={...oe,className:Mb(y.className,...V.current.enter,...V.current.enterFrom)}:J.current&&(oe.className=Mb(y.className,(n=_.current)==null?void 0:n.className),oe.className===""&&delete oe.className),X.createElement(j_.Provider,{value:ne},X.createElement(qme,{value:ji(T,{visible:Ss.Open,hidden:Ss.Closed})|W.flags},la({ourProps:be,theirProps:oe,defaultTag:pve,features:R7,visible:T==="visible",name:"Transition.Child"})))}function gve(e,t){let{show:r,appear:n=!1,unmount:i=!0,...s}=e,o=x.useRef(null),l=Ya(o,t);Mp();let c=nR();if(r===void 0&&c!==null&&(r=(c&Ss.Open)===Ss.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=x.useState(r?"visible":"hidden"),p=O7(()=>{f("hidden")}),[g,v]=x.useState(!0),w=x.useRef([r]);aa(()=>{g!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),v(!1))},[w,r]);let y=x.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);x.useEffect(()=>{if(r)f("visible");else if(!S_(p))f("hidden");else{let C=o.current;if(!C)return;let k=C.getBoundingClientRect();k.x===0&&k.y===0&&k.width===0&&k.height===0&&f("hidden")}},[r,p]);let _={unmount:i},S=Zr(()=>{var C;g&&v(!1),(C=e.beforeEnter)==null||C.call(e)}),N=Zr(()=>{var C;g&&v(!1),(C=e.beforeLeave)==null||C.call(e)});return X.createElement(j_.Provider,{value:p},X.createElement(__.Provider,{value:y},la({ourProps:{..._,as:x.Fragment,children:X.createElement(M7,{ref:l,..._,...s,beforeEnter:S,beforeLeave:N})},theirProps:{},defaultTag:x.Fragment,features:R7,visible:u==="visible",name:"Transition"})))}function vve(e,t){let r=x.useContext(__)!==null,n=nR()!==null;return X.createElement(X.Fragment,null,!r&&n?X.createElement(RT,{ref:t,...e}):X.createElement(M7,{ref:t,...e}))}let RT=Ds(gve),M7=Ds(mve),yve=Ds(vve),BS=Object.assign(RT,{Child:yve,Root:RT});const xve=[{name:"Tableau de bord",href:"/admin",icon:m9},{name:"Utilisateurs",href:"/admin/users",icon:za},{name:"Annonces",href:"/admin/listings",icon:zg},{name:"Transactions",href:"/admin/transactions",icon:Vh},{name:"Catégories",href:"/admin/categories",icon:Hd},{name:"Rapports",href:"/admin/analytics",icon:FO},{name:"Modération",href:"/admin/moderation",icon:Ab},{name:"Paramètres",href:"/admin/settings",icon:dd}];function bve({sidebarOpen:e,setSidebarOpen:t}){const r=Si(),{logout:n}=Or(),i=async()=>{try{await n(),t(!1)}catch(s){console.error("Erreur lors de la déconnexion:",s)}};return a.jsx(BS.Root,{show:e,as:x.Fragment,children:a.jsxs(q$,{as:"div",className:"fixed inset-0 z-40 flex md:hidden",onClose:t,children:[a.jsx(BS.Child,{as:x.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(q$.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),a.jsx(BS.Child,{as:x.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-slate-900",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>t(!1),children:[a.jsx("span",{className:"sr-only",children:"Fermer le menu"}),a.jsx(Ms,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:a.jsx("h1",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:xve.map(s=>a.jsxs(ir,{to:s.href,onClick:()=>t(!1),className:[r.pathname===s.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center px-2 py-2 text-base font-medium rounded-md"].join(" "),children:[a.jsx(s.icon,{className:["mr-4 flex-shrink-0 h-6 w-6",r.pathname===s.href?"text-white":"text-slate-400 group-hover:text-white"].join(" "),"aria-hidden":"true"}),s.name]},s.name))})]}),a.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-800 p-4",children:a.jsx("button",{onClick:i,className:"flex-shrink-0 w-full group block",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{children:a.jsx(qO,{className:"h-6 w-6 text-slate-400 group-hover:text-white","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-slate-300 group-hover:text-white",children:"Déconnexion"})})]})})})]})}),a.jsx("div",{className:"flex-shrink-0 w-14"})]})})}function wve(){const{user:e,hasRole:t,loading:r}=Or(),[n,i]=x.useState(!1),s=Fn();return x.useEffect(()=>{!r&&!e?s("/connexion",{state:{from:"/admin"}}):!r&&e&&!t("admin")&&s("/")},[e,r,t,s]),r?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:a.jsx(kr,{className:"h-12 w-12 animate-spin text-blue-500"})}):a.jsxs("div",{className:"flex h-screen bg-slate-900 text-white overflow-hidden",children:[a.jsx(bve,{sidebarOpen:n,setSidebarOpen:i}),a.jsx(jme,{className:"hidden md:flex"}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-slate-800 border-b border-slate-700 flex items-center justify-between p-4",children:[a.jsxs("button",{type:"button",className:"md:hidden text-slate-400 hover:text-white focus:outline-none",onClick:()=>i(!0),children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"p-1 rounded-full text-slate-400 hover:text-white focus:outline-none",children:[a.jsx("span",{className:"sr-only",children:"Notifications"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),a.jsx("div",{className:"relative",children:a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",children:[a.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-slate-700 text-sm font-medium text-white",children:e?.name?.charAt(0)||"A"}),a.jsxs("span",{className:"hidden md:inline-flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:e?.name||"Admin"}),a.jsx("svg",{className:"ml-2 h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-900 p-4 md:p-8",children:a.jsx(JU,{})})]})]})}var py=e=>e.type==="checkbox",hd=e=>e instanceof Date,ki=e=>e==null;const I7=e=>typeof e=="object";var hn=e=>!ki(e)&&!Array.isArray(e)&&I7(e)&&!hd(e),_ve=e=>hn(e)&&e.target?py(e.target)?e.target.checked:e.target.value:e,jve=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sve=(e,t)=>e.has(jve(t)),Nve=e=>{const t=e.constructor&&e.constructor.prototype;return hn(t)&&t.hasOwnProperty("isPrototypeOf")},sR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(sR&&(e instanceof Blob||n))&&(r||hn(e)))if(t=r?[]:{},!r&&!Nve(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=mi(e[i]));else return e;return t}var N_=e=>Array.isArray(e)?e.filter(Boolean):[],bn=e=>e===void 0,pt=(e,t,r)=>{if(!t||!hn(e))return r;const n=N_(t.split(/[,[\].]+?/)).reduce((i,s)=>ki(i)?i:i[s],e);return bn(n)||n===e?bn(e[t])?r:e[t]:n},ho=e=>typeof e=="boolean",aR=e=>/^\w*$/.test(e),D7=e=>N_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ur=(e,t,r)=>{let n=-1;const i=aR(t)?[t]:D7(t),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=e[l];c=hn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const V$={BLUR:"blur",FOCUS_OUT:"focusout"},Oa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ul={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Cve=X.createContext(null),Eve=()=>X.useContext(Cve);var Pve=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Oa.all&&(t._proxyFormState[o]=!n||Oa.all),e[o]}});return i};const Tve=typeof window<"u"?x.useLayoutEffect:x.useEffect;var bo=e=>typeof e=="string",Ave=(e,t,r,n,i)=>bo(e)?(n&&t.watch.add(e),pt(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),pt(r,s))):(n&&(t.watchAll=!0),r),kve=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},qg=e=>Array.isArray(e)?e:[e],W$=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},MT=e=>ki(e)||!I7(e);function Hc(e,t){if(MT(e)||MT(t))return e===t;if(hd(e)&&hd(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(hd(s)&&hd(o)||hn(s)&&hn(o)||Array.isArray(s)&&Array.isArray(o)?!Hc(s,o):s!==o)return!1}}return!0}var Zi=e=>hn(e)&&!Object.keys(e).length,oR=e=>e.type==="file",Ra=e=>typeof e=="function",$b=e=>{if(!sR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},L7=e=>e.type==="select-multiple",lR=e=>e.type==="radio",Ove=e=>lR(e)||py(e),zS=e=>$b(e)&&e.isConnected;function Rve(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=bn(e)?n++:e[t[n++]];return e}function Mve(e){for(const t in e)if(e.hasOwnProperty(t)&&!bn(e[t]))return!1;return!0}function Mn(e,t){const r=Array.isArray(t)?t:aR(t)?[t]:D7(t),n=r.length===1?e:Rve(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(hn(n)&&Zi(n)||Array.isArray(n)&&Mve(n))&&Mn(e,r.slice(0,-1)),e}var $7=e=>{for(const t in e)if(Ra(e[t]))return!0;return!1};function Fb(e,t={}){const r=Array.isArray(e);if(hn(e)||r)for(const n in e)Array.isArray(e[n])||hn(e[n])&&!$7(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Fb(e[n],t[n])):ki(e[n])||(t[n]=!0);return t}function F7(e,t,r){const n=Array.isArray(e);if(hn(e)||n)for(const i in e)Array.isArray(e[i])||hn(e[i])&&!$7(e[i])?bn(t)||MT(r[i])?r[i]=Array.isArray(e[i])?Fb(e[i],[]):{...Fb(e[i])}:F7(e[i],ki(t)?{}:t[i],r[i]):r[i]=!Hc(e[i],t[i]);return r}var ng=(e,t)=>F7(e,t,Fb(t));const H$={value:!1,isValid:!1},K$={value:!0,isValid:!0};var B7=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bn(e[0].attributes.value)?bn(e[0].value)||e[0].value===""?K$:{value:e[0].value,isValid:!0}:K$:H$}return H$},z7=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>bn(e)?e:t?e===""?NaN:e&&+e:r&&bo(e)?new Date(e):n?n(e):e;const G$={isValid:!1,value:null};var q7=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,G$):G$;function Z$(e){const t=e.ref;return oR(t)?t.files:lR(t)?q7(e.refs).value:L7(t)?[...t.selectedOptions].map(({value:r})=>r):py(t)?B7(e.refs).value:z7(bn(t.value)?e.ref.value:t.value,e)}var Ive=(e,t,r,n)=>{const i={};for(const s of e){const o=pt(t,s);o&&Ur(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Bb=e=>e instanceof RegExp,ig=e=>bn(e)?e:Bb(e)?e.source:hn(e)?Bb(e.value)?e.value.source:e.value:e,Y$=e=>({isOnSubmit:!e||e===Oa.onSubmit,isOnBlur:e===Oa.onBlur,isOnChange:e===Oa.onChange,isOnAll:e===Oa.all,isOnTouch:e===Oa.onTouched});const X$="AsyncFunction";var Dve=e=>!!e&&!!e.validate&&!!(Ra(e.validate)&&e.validate.constructor.name===X$||hn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===X$)),Lve=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),J$=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ug=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=pt(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ug(l,t))break}else if(hn(l)&&Ug(l,t))break}}};function Q$(e,t,r){const n=pt(e,r);if(n||aR(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=pt(t,s),l=pt(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:r}}var $ve=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Zi(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Oa.all))},Fve=(e,t,r)=>!e||!t||e===t||qg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Bve=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,zve=(e,t)=>!N_(pt(e,t)).length&&Mn(e,t),qve=(e,t,r)=>{const n=qg(pt(e,r));return Ur(n,"root",t[r]),Ur(e,r,n),e},sb=e=>bo(e);function eF(e,t,r="validate"){if(sb(e)||Array.isArray(e)&&e.every(sb)||ho(e)&&!e)return{type:r,message:sb(e)?e:"",ref:t}}var sh=e=>hn(e)&&!Bb(e)?e:{value:e,message:""},tF=async(e,t,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:f,min:p,max:g,pattern:v,validate:w,name:y,valueAsNumber:_,mount:S}=e._f,N=pt(r,y);if(!S||t.has(y))return{};const C=l?l[0]:o,k=U=>{i&&C.reportValidity&&(C.setCustomValidity(ho(U)?"":U||""),C.reportValidity())},A={},T=lR(o),O=py(o),I=T||O,q=(_||oR(o))&&bn(o.value)&&bn(N)||$b(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,Z=kve.bind(null,y,n,A),V=(U,z,H,re=ul.maxLength,se=ul.minLength)=>{const W=U?z:H;A[y]={type:U?re:se,message:W,ref:o,...Z(U?re:se,W)}};if(s?!Array.isArray(N)||!N.length:c&&(!I&&(q||ki(N))||ho(N)&&!N||O&&!B7(l).isValid||T&&!q7(l).isValid)){const{value:U,message:z}=sb(c)?{value:!!c,message:c}:sh(c);if(U&&(A[y]={type:ul.required,message:z,ref:C,...Z(ul.required,z)},!n))return k(z),A}if(!q&&(!ki(p)||!ki(g))){let U,z;const H=sh(g),re=sh(p);if(!ki(N)&&!isNaN(N)){const se=o.valueAsNumber||N&&+N;ki(H.value)||(U=se>H.value),ki(re.value)||(z=se<re.value)}else{const se=o.valueAsDate||new Date(N),W=ne=>new Date(new Date().toDateString()+" "+ne),Q=o.type=="time",Y=o.type=="week";bo(H.value)&&N&&(U=Q?W(N)>W(H.value):Y?N>H.value:se>new Date(H.value)),bo(re.value)&&N&&(z=Q?W(N)<W(re.value):Y?N<re.value:se<new Date(re.value))}if((U||z)&&(V(!!U,H.message,re.message,ul.max,ul.min),!n))return k(A[y].message),A}if((u||f)&&!q&&(bo(N)||s&&Array.isArray(N))){const U=sh(u),z=sh(f),H=!ki(U.value)&&N.length>+U.value,re=!ki(z.value)&&N.length<+z.value;if((H||re)&&(V(H,U.message,z.message),!n))return k(A[y].message),A}if(v&&!q&&bo(N)){const{value:U,message:z}=sh(v);if(Bb(U)&&!N.match(U)&&(A[y]={type:ul.pattern,message:z,ref:o,...Z(ul.pattern,z)},!n))return k(z),A}if(w){if(Ra(w)){const U=await w(N,r),z=eF(U,C);if(z&&(A[y]={...z,...Z(ul.validate,z.message)},!n))return k(z.message),A}else if(hn(w)){let U={};for(const z in w){if(!Zi(U)&&!n)break;const H=eF(await w[z](N,r),C,z);H&&(U={...H,...Z(z,H.message)},k(H.message),n&&(A[y]=U))}if(!Zi(U)&&(A[y]={ref:C,...U},!n))return A}}return k(!0),A};const Uve={mode:Oa.onSubmit,reValidateMode:Oa.onChange,shouldFocusError:!0};function Vve(e={}){let t={...Uve,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ra(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=hn(t.defaultValues)||hn(t.values)?mi(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:mi(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const g={array:W$(),state:W$()},v=t.criteriaMode===Oa.all,w=fe=>_e=>{clearTimeout(u),u=setTimeout(fe,_e)},y=async fe=>{if(!t.disabled&&(f.isValid||p.isValid||fe)){const _e=t.resolver?Zi((await O()).errors):await q(n,!0);_e!==r.isValid&&g.state.next({isValid:_e})}},_=(fe,_e)=>{!t.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((fe||Array.from(l.mount)).forEach(ke=>{ke&&(_e?Ur(r.validatingFields,ke,_e):Mn(r.validatingFields,ke))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Zi(r.validatingFields)}))},S=(fe,_e=[],ke,Ze,Xe=!0,me=!0)=>{if(Ze&&ke&&!t.disabled){if(o.action=!0,me&&Array.isArray(pt(n,fe))){const Le=ke(pt(n,fe),Ze.argA,Ze.argB);Xe&&Ur(n,fe,Le)}if(me&&Array.isArray(pt(r.errors,fe))){const Le=ke(pt(r.errors,fe),Ze.argA,Ze.argB);Xe&&Ur(r.errors,fe,Le),zve(r.errors,fe)}if((f.touchedFields||p.touchedFields)&&me&&Array.isArray(pt(r.touchedFields,fe))){const Le=ke(pt(r.touchedFields,fe),Ze.argA,Ze.argB);Xe&&Ur(r.touchedFields,fe,Le)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=ng(i,s)),g.state.next({name:fe,isDirty:V(fe,_e),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ur(s,fe,_e)},N=(fe,_e)=>{Ur(r.errors,fe,_e),g.state.next({errors:r.errors})},C=fe=>{r.errors=fe,g.state.next({errors:r.errors,isValid:!1})},k=(fe,_e,ke,Ze)=>{const Xe=pt(n,fe);if(Xe){const me=pt(s,fe,bn(ke)?pt(i,fe):ke);bn(me)||Ze&&Ze.defaultChecked||_e?Ur(s,fe,_e?me:Z$(Xe._f)):H(fe,me),o.mount&&y()}},A=(fe,_e,ke,Ze,Xe)=>{let me=!1,Le=!1;const K={name:fe};if(!t.disabled){if(!ke||Ze){(f.isDirty||p.isDirty)&&(Le=r.isDirty,r.isDirty=K.isDirty=V(),me=Le!==K.isDirty);const D=Hc(pt(i,fe),_e);Le=!!pt(r.dirtyFields,fe),D?Mn(r.dirtyFields,fe):Ur(r.dirtyFields,fe,!0),K.dirtyFields=r.dirtyFields,me=me||(f.dirtyFields||p.dirtyFields)&&Le!==!D}if(ke){const D=pt(r.touchedFields,fe);D||(Ur(r.touchedFields,fe,ke),K.touchedFields=r.touchedFields,me=me||(f.touchedFields||p.touchedFields)&&D!==ke)}me&&Xe&&g.state.next(K)}return me?K:{}},T=(fe,_e,ke,Ze)=>{const Xe=pt(r.errors,fe),me=(f.isValid||p.isValid)&&ho(_e)&&r.isValid!==_e;if(t.delayError&&ke?(c=w(()=>N(fe,ke)),c(t.delayError)):(clearTimeout(u),c=null,ke?Ur(r.errors,fe,ke):Mn(r.errors,fe)),(ke?!Hc(Xe,ke):Xe)||!Zi(Ze)||me){const Le={...Ze,...me&&ho(_e)?{isValid:_e}:{},errors:r.errors,name:fe};r={...r,...Le},g.state.next(Le)}},O=async fe=>{_(fe,!0);const _e=await t.resolver(s,t.context,Ive(fe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(fe),_e},I=async fe=>{const{errors:_e}=await O(fe);if(fe)for(const ke of fe){const Ze=pt(_e,ke);Ze?Ur(r.errors,ke,Ze):Mn(r.errors,ke)}else r.errors=_e;return _e},q=async(fe,_e,ke={valid:!0})=>{for(const Ze in fe){const Xe=fe[Ze];if(Xe){const{_f:me,...Le}=Xe;if(me){const K=l.array.has(me.name),D=Xe._f&&Dve(Xe._f);D&&f.validatingFields&&_([Ze],!0);const F=await tF(Xe,l.disabled,s,v,t.shouldUseNativeValidation&&!_e,K);if(D&&f.validatingFields&&_([Ze]),F[me.name]&&(ke.valid=!1,_e))break;!_e&&(pt(F,me.name)?K?qve(r.errors,F,me.name):Ur(r.errors,me.name,F[me.name]):Mn(r.errors,me.name))}!Zi(Le)&&await q(Le,_e,ke)}}return ke.valid},Z=()=>{for(const fe of l.unMount){const _e=pt(n,fe);_e&&(_e._f.refs?_e._f.refs.every(ke=>!zS(ke)):!zS(_e._f.ref))&&ae(fe)}l.unMount=new Set},V=(fe,_e)=>!t.disabled&&(fe&&_e&&Ur(s,fe,_e),!Hc(ne(),i)),U=(fe,_e,ke)=>Ave(fe,l,{...o.mount?s:bn(_e)?i:bo(fe)?{[fe]:_e}:_e},ke,_e),z=fe=>N_(pt(o.mount?s:i,fe,t.shouldUnregister?pt(i,fe,[]):[])),H=(fe,_e,ke={})=>{const Ze=pt(n,fe);let Xe=_e;if(Ze){const me=Ze._f;me&&(!me.disabled&&Ur(s,fe,z7(_e,me)),Xe=$b(me.ref)&&ki(_e)?"":_e,L7(me.ref)?[...me.ref.options].forEach(Le=>Le.selected=Xe.includes(Le.value)):me.refs?py(me.ref)?me.refs.forEach(Le=>{(!Le.defaultChecked||!Le.disabled)&&(Array.isArray(Xe)?Le.checked=!!Xe.find(K=>K===Le.value):Le.checked=Xe===Le.value||!!Xe)}):me.refs.forEach(Le=>Le.checked=Le.value===Xe):oR(me.ref)?me.ref.value="":(me.ref.value=Xe,me.ref.type||g.state.next({name:fe,values:mi(s)})))}(ke.shouldDirty||ke.shouldTouch)&&A(fe,Xe,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&Y(fe)},re=(fe,_e,ke)=>{for(const Ze in _e){if(!_e.hasOwnProperty(Ze))return;const Xe=_e[Ze],me=fe+"."+Ze,Le=pt(n,me);(l.array.has(fe)||hn(Xe)||Le&&!Le._f)&&!hd(Xe)?re(me,Xe,ke):H(me,Xe,ke)}},se=(fe,_e,ke={})=>{const Ze=pt(n,fe),Xe=l.array.has(fe),me=mi(_e);Ur(s,fe,me),Xe?(g.array.next({name:fe,values:mi(s)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&ke.shouldDirty&&g.state.next({name:fe,dirtyFields:ng(i,s),isDirty:V(fe,me)})):Ze&&!Ze._f&&!ki(me)?re(fe,me,ke):H(fe,me,ke),J$(fe,l)&&g.state.next({...r}),g.state.next({name:o.mount?fe:void 0,values:mi(s)})},W=async fe=>{o.mount=!0;const _e=fe.target;let ke=_e.name,Ze=!0;const Xe=pt(n,ke),me=D=>{Ze=Number.isNaN(D)||hd(D)&&isNaN(D.getTime())||Hc(D,pt(s,ke,D))},Le=Y$(t.mode),K=Y$(t.reValidateMode);if(Xe){let D,F;const le=_e.type?Z$(Xe._f):_ve(fe),ye=fe.type===V$.BLUR||fe.type===V$.FOCUS_OUT,Oe=!Lve(Xe._f)&&!t.resolver&&!pt(r.errors,ke)&&!Xe._f.deps||Bve(ye,pt(r.touchedFields,ke),r.isSubmitted,K,Le),$e=J$(ke,l,ye);Ur(s,ke,le),ye?(Xe._f.onBlur&&Xe._f.onBlur(fe),c&&c(0)):Xe._f.onChange&&Xe._f.onChange(fe);const vt=A(ke,le,ye),ar=!Zi(vt)||$e;if(!ye&&g.state.next({name:ke,type:fe.type,values:mi(s)}),Oe)return(f.isValid||p.isValid)&&(t.mode==="onBlur"?ye&&y():ye||y()),ar&&g.state.next({name:ke,...$e?{}:vt});if(!ye&&$e&&g.state.next({...r}),t.resolver){const{errors:Bt}=await O([ke]);if(me(le),Ze){const Yt=Q$(r.errors,n,ke),Wt=Q$(Bt,n,Yt.name||ke);D=Wt.error,ke=Wt.name,F=Zi(Bt)}}else _([ke],!0),D=(await tF(Xe,l.disabled,s,v,t.shouldUseNativeValidation))[ke],_([ke]),me(le),Ze&&(D?F=!1:(f.isValid||p.isValid)&&(F=await q(n,!0)));Ze&&(Xe._f.deps&&Y(Xe._f.deps),T(ke,F,D,vt))}},Q=(fe,_e)=>{if(pt(r.errors,_e)&&fe.focus)return fe.focus(),1},Y=async(fe,_e={})=>{let ke,Ze;const Xe=qg(fe);if(t.resolver){const me=await I(bn(fe)?fe:Xe);ke=Zi(me),Ze=fe?!Xe.some(Le=>pt(me,Le)):ke}else fe?(Ze=(await Promise.all(Xe.map(async me=>{const Le=pt(n,me);return await q(Le&&Le._f?{[me]:Le}:Le)}))).every(Boolean),!(!Ze&&!r.isValid)&&y()):Ze=ke=await q(n);return g.state.next({...!bo(fe)||(f.isValid||p.isValid)&&ke!==r.isValid?{}:{name:fe},...t.resolver||!fe?{isValid:ke}:{},errors:r.errors}),_e.shouldFocus&&!Ze&&Ug(n,Q,fe?Xe:l.mount),Ze},ne=fe=>{const _e={...o.mount?s:i};return bn(fe)?_e:bo(fe)?pt(_e,fe):fe.map(ke=>pt(_e,ke))},J=(fe,_e)=>({invalid:!!pt((_e||r).errors,fe),isDirty:!!pt((_e||r).dirtyFields,fe),error:pt((_e||r).errors,fe),isValidating:!!pt(r.validatingFields,fe),isTouched:!!pt((_e||r).touchedFields,fe)}),oe=fe=>{fe&&qg(fe).forEach(_e=>Mn(r.errors,_e)),g.state.next({errors:fe?r.errors:{}})},be=(fe,_e,ke)=>{const Ze=(pt(n,fe,{_f:{}})._f||{}).ref,Xe=pt(r.errors,fe)||{},{ref:me,message:Le,type:K,...D}=Xe;Ur(r.errors,fe,{...D,..._e,ref:Ze}),g.state.next({name:fe,errors:r.errors,isValid:!1}),ke&&ke.shouldFocus&&Ze&&Ze.focus&&Ze.focus()},Ce=(fe,_e)=>Ra(fe)?g.state.subscribe({next:ke=>fe(U(void 0,_e),ke)}):U(fe,_e,!0),De=fe=>g.state.subscribe({next:_e=>{Fve(fe.name,_e.name,fe.exact)&&$ve(_e,fe.formState||f,Ne,fe.reRenderRoot)&&fe.callback({values:{...s},...r,..._e})}}).unsubscribe,ce=fe=>(o.mount=!0,p={...p,...fe.formState},De({...fe,formState:p})),ae=(fe,_e={})=>{for(const ke of fe?qg(fe):l.mount)l.mount.delete(ke),l.array.delete(ke),_e.keepValue||(Mn(n,ke),Mn(s,ke)),!_e.keepError&&Mn(r.errors,ke),!_e.keepDirty&&Mn(r.dirtyFields,ke),!_e.keepTouched&&Mn(r.touchedFields,ke),!_e.keepIsValidating&&Mn(r.validatingFields,ke),!t.shouldUnregister&&!_e.keepDefaultValue&&Mn(i,ke);g.state.next({values:mi(s)}),g.state.next({...r,..._e.keepDirty?{isDirty:V()}:{}}),!_e.keepIsValid&&y()},ge=({disabled:fe,name:_e})=>{(ho(fe)&&o.mount||fe||l.disabled.has(_e))&&(fe?l.disabled.add(_e):l.disabled.delete(_e))},he=(fe,_e={})=>{let ke=pt(n,fe);const Ze=ho(_e.disabled)||ho(t.disabled);return Ur(n,fe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:fe}},name:fe,mount:!0,..._e}}),l.mount.add(fe),ke?ge({disabled:ho(_e.disabled)?_e.disabled:t.disabled,name:fe}):k(fe,!0,_e.value),{...Ze?{disabled:_e.disabled||t.disabled}:{},...t.progressive?{required:!!_e.required,min:ig(_e.min),max:ig(_e.max),minLength:ig(_e.minLength),maxLength:ig(_e.maxLength),pattern:ig(_e.pattern)}:{},name:fe,onChange:W,onBlur:W,ref:Xe=>{if(Xe){he(fe,_e),ke=pt(n,fe);const me=bn(Xe.value)&&Xe.querySelectorAll&&Xe.querySelectorAll("input,select,textarea")[0]||Xe,Le=Ove(me),K=ke._f.refs||[];if(Le?K.find(D=>D===me):me===ke._f.ref)return;Ur(n,fe,{_f:{...ke._f,...Le?{refs:[...K.filter(zS),me,...Array.isArray(pt(i,fe))?[{}]:[]],ref:{type:me.type,name:fe}}:{ref:me}}}),k(fe,!1,void 0,me)}else ke=pt(n,fe,{}),ke._f&&(ke._f.mount=!1),(t.shouldUnregister||_e.shouldUnregister)&&!(Sve(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},Pe=()=>t.shouldFocusError&&Ug(n,Q,l.mount),ee=fe=>{ho(fe)&&(g.state.next({disabled:fe}),Ug(n,(_e,ke)=>{const Ze=pt(n,ke);Ze&&(_e.disabled=Ze._f.disabled||fe,Array.isArray(Ze._f.refs)&&Ze._f.refs.forEach(Xe=>{Xe.disabled=Ze._f.disabled||fe}))},0,!1))},G=(fe,_e)=>async ke=>{let Ze;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Xe=mi(s);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:Le}=await O();r.errors=me,Xe=Le}else await q(n);if(l.disabled.size)for(const me of l.disabled)Ur(Xe,me,void 0);if(Mn(r.errors,"root"),Zi(r.errors)){g.state.next({errors:{}});try{await fe(Xe,ke)}catch(me){Ze=me}}else _e&&await _e({...r.errors},ke),Pe(),setTimeout(Pe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zi(r.errors)&&!Ze,submitCount:r.submitCount+1,errors:r.errors}),Ze)throw Ze},we=(fe,_e={})=>{pt(n,fe)&&(bn(_e.defaultValue)?se(fe,mi(pt(i,fe))):(se(fe,_e.defaultValue),Ur(i,fe,mi(_e.defaultValue))),_e.keepTouched||Mn(r.touchedFields,fe),_e.keepDirty||(Mn(r.dirtyFields,fe),r.isDirty=_e.defaultValue?V(fe,mi(pt(i,fe))):V()),_e.keepError||(Mn(r.errors,fe),f.isValid&&y()),g.state.next({...r}))},xe=(fe,_e={})=>{const ke=fe?mi(fe):i,Ze=mi(ke),Xe=Zi(fe),me=Xe?i:Ze;if(_e.keepDefaultValues||(i=ke),!_e.keepValues){if(_e.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys(ng(i,s))]);for(const K of Array.from(Le))pt(r.dirtyFields,K)?Ur(me,K,pt(s,K)):se(K,pt(me,K))}else{if(sR&&bn(fe))for(const Le of l.mount){const K=pt(n,Le);if(K&&K._f){const D=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if($b(D)){const F=D.closest("form");if(F){F.reset();break}}}}for(const Le of l.mount)se(Le,pt(me,Le))}s=mi(me),g.array.next({values:{...me}}),g.state.next({values:{...me}})}l={mount:_e.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!_e.keepIsValid||!!_e.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:_e.keepSubmitCount?r.submitCount:0,isDirty:Xe?!1:_e.keepDirty?r.isDirty:!!(_e.keepDefaultValues&&!Hc(fe,i)),isSubmitted:_e.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Xe?{}:_e.keepDirtyValues?_e.keepDefaultValues&&s?ng(i,s):r.dirtyFields:_e.keepDefaultValues&&fe?ng(i,fe):_e.keepDirty?r.dirtyFields:{},touchedFields:_e.keepTouched?r.touchedFields:{},errors:_e.keepErrors?r.errors:{},isSubmitSuccessful:_e.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(fe,_e)=>xe(Ra(fe)?fe(s):fe,_e),qe=(fe,_e={})=>{const ke=pt(n,fe),Ze=ke&&ke._f;if(Ze){const Xe=Ze.refs?Ze.refs[0]:Ze.ref;Xe.focus&&(Xe.focus(),_e.shouldSelect&&Ra(Xe.select)&&Xe.select())}},Ne=fe=>{r={...r,...fe}},It={control:{register:he,unregister:ae,getFieldState:J,handleSubmit:G,setError:be,_subscribe:De,_runSchema:O,_focusError:Pe,_getWatch:U,_getDirty:V,_setValid:y,_setFieldArray:S,_setDisabledField:ge,_setErrors:C,_getFieldArray:z,_reset:xe,_resetDefaultValues:()=>Ra(t.defaultValues)&&t.defaultValues().then(fe=>{Ve(fe,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:ee,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return i},get _names(){return l},set _names(fe){l=fe},get _formState(){return r},get _options(){return t},set _options(fe){t={...t,...fe}}},subscribe:ce,trigger:Y,register:he,handleSubmit:G,watch:Ce,setValue:se,getValues:ne,reset:Ve,resetField:we,clearErrors:oe,unregister:ae,setError:be,setFocus:qe,getFieldState:J};return{...It,formControl:It}}function my(e={}){const t=X.useRef(void 0),r=X.useRef(void 0),[n,i]=X.useState({isDirty:!1,isValidating:!1,isLoading:Ra(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ra(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Vve(e),formState:n},e.formControl&&e.defaultValues&&!Ra(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,Tve(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),X.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),X.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),X.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),X.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),X.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),X.useEffect(()=>{e.values&&!Hc(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),X.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=Pve(n,s),t.current}var Wve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],er=Wve.reduce((e,t)=>{const r=Hh(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function cR(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var Hve="Label",U7=x.forwardRef((e,t)=>a.jsx(er.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));U7.displayName=Hve;var V7=U7;const rt=X.forwardRef(({className:e,...t},r)=>a.jsx(V7,{ref:r,className:Ke("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));rt.displayName=V7.displayName;function uR(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Zd(e){const[t,r]=x.useState(void 0);return sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var C_="Checkbox",[Kve,hqe]=Rr(C_),[Gve,dR]=Kve(C_);function Zve(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:p}=e,[g,v]=ns({prop:r,defaultProp:i??!1,onChange:c,caller:C_}),[w,y]=x.useState(null),[_,S]=x.useState(null),N=x.useRef(!1),C=w?!!o||!!w.closest("form"):!0,k={checked:g,disabled:s,setChecked:v,control:w,setControl:y,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:Qc(i)?!1:i,isFormControl:C,bubbleInput:_,setBubbleInput:S};return a.jsx(Gve,{scope:t,...k,children:Yve(p)?p(k):n})}var W7="CheckboxTrigger",H7=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:w}=dR(W7,e),y=at(i,f),_=x.useRef(c);return x.useEffect(()=>{const S=s?.form;if(S){const N=()=>p(_.current);return S.addEventListener("reset",N),()=>S.removeEventListener("reset",N)}},[s,p]),a.jsx(er.button,{type:"button",role:"checkbox","aria-checked":Qc(c)?"mixed":c,"aria-required":u,"data-state":X7(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:Ue(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ue(r,S=>{p(N=>Qc(N)?!0:!N),w&&v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});H7.displayName=W7;var fR=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...p}=e;return a.jsx(Zve,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(H7,{...p,ref:t,__scopeCheckbox:r}),g&&a.jsx(Y7,{__scopeCheckbox:r})]})})});fR.displayName=C_;var K7="CheckboxIndicator",G7=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=dR(K7,r);return a.jsx(is,{present:n||Qc(s.checked)||s.checked===!0,children:a.jsx(er.span,{"data-state":X7(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});G7.displayName=K7;var Z7="CheckboxBubbleInput",Y7=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:p,bubbleInput:g,setBubbleInput:v}=dR(Z7,e),w=at(r,v),y=uR(s),_=Zd(n);x.useEffect(()=>{const N=g;if(!N)return;const C=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(C,"checked").set,T=!i.current;if(y!==s&&A){const O=new Event("click",{bubbles:T});N.indeterminate=Qc(s),A.call(N,Qc(s)?!1:s),N.dispatchEvent(O)}},[g,y,s,i]);const S=x.useRef(Qc(s)?!1:s);return a.jsx(er.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:l,disabled:c,name:u,value:f,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Y7.displayName=Z7;function Yve(e){return typeof e=="function"}function Qc(e){return e==="indeterminate"}function X7(e){return Qc(e)?"indeterminate":e?"checked":"unchecked"}const J7=x.forwardRef(({className:e,...t},r)=>a.jsx(fR,{ref:r,className:Ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(G7,{className:Ke("flex items-center justify-center text-current"),children:a.jsx(iv,{className:"h-4 w-4"})})}));J7.displayName=fR.displayName;const Xve=()=>{const{login:e}=Or(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=my(),[s,o]=x.useState(!1),l=async c=>{await e(c,s)};return a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Connexion"}),a.jsx(wn,{children:"Connectez-vous à votre compte MaxiMarket"})]}),a.jsx(Ut,{children:a.jsxs("form",{onSubmit:r(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(lu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...t("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),n.password&&a.jsx("p",{className:"text-sm text-destructive",children:n.password.message})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(J7,{id:"rememberMe",checked:s,onCheckedChange:o}),a.jsx(rt,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:"Se souvenir de moi pendant 7 jours"})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion en cours..."]}):"Se connecter"})]})}),a.jsxs(sv,{className:"flex flex-col space-y-2",children:[a.jsx(ir,{to:"/mot-de-passe-oublie",className:"text-sm text-primary hover:underline",children:"Mot de passe oublié ?"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",a.jsx(ir,{to:"/inscription",className:"text-primary hover:underline",children:"S'inscrire"})]})]})]})})},Jve=()=>{const{user:e,loading:t}=Or(),r=Fn(),n=Si();return x.useEffect(()=>{if(!t&&e){const i=n.state?.from||(e.role==="admin"?"/admin":"/");r(i,{replace:!0})}},[e,t,r,n]),t||e?null:a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(Xve,{})})},Qve=()=>{const{register:e}=Or(),{register:t,handleSubmit:r,watch:n,formState:{errors:i,isSubmitting:s}}=my(),[o,l]=x.useState({shown:!1,email:""}),[c,u]=x.useState(!1),[f,p]=x.useState(null),g=async w=>{const y=await e(w);y&&y.needsConfirmation&&l({shown:!0,email:w.email})},v=n("password");return o.shown?a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Lue,{className:"h-5 w-5 text-green-600"}),a.jsx(cr,{children:"Inscription réussie"})]}),a.jsx(wn,{children:"Vérifiez votre email pour confirmer votre compte."})]}),a.jsxs(Ut,{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nous avons envoyé un lien de confirmation à:",a.jsx("div",{className:"mt-1 font-medium text-foreground",children:o.email})]}),f&&a.jsx("div",{className:"text-sm",children:f}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{type:"button",onClick:async()=>{try{u(!0),p(null);const{error:w}=await Se.auth.resend({type:"signup",email:o.email,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(w)throw w;p("Un nouvel email de confirmation a été envoyé.")}catch(w){p(w.message||"Impossible d'envoyer l'email de confirmation.")}finally{u(!1)}},disabled:c,className:"inline-flex items-center",children:c?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ode,{className:"mr-2 h-4 w-4"}),"Renvoyer l'email"]})}),a.jsx(ue,{type:"button",variant:"outline",onClick:()=>l({shown:!1,email:""}),children:"Utiliser une autre adresse"})]})]}),a.jsxs(sv,{className:"flex flex-col items-start gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Déjà confirmé ?"}),a.jsx(ir,{to:"/connexion",className:"text-primary hover:underline text-sm",children:"Se connecter"})]})]})}):a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Inscription"}),a.jsx(wn,{children:"Créez votre compte MaxiMarket"})]}),a.jsx(Ut,{children:a.jsxs("form",{onSubmit:r(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ji,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",type:"text",placeholder:"John",className:"pl-10",...t("firstName",{required:"Le prénom est requis",minLength:{value:2,message:"Le prénom doit contenir au moins 2 caractères"}})})]}),i.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:i.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ji,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",type:"text",placeholder:"Doe",className:"pl-10",...t("lastName",{required:"Le nom est requis",minLength:{value:2,message:"Le nom doit contenir au moins 2 caractères"}})})]}),i.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:i.lastName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(lu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),i.email&&a.jsx("p",{className:"text-sm text-destructive",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Da,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",placeholder:"+221 77 123 45 67",className:"pl-10",...t("phoneNumber",{required:"Le numéro de téléphone est requis",pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),i.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:i.phoneNumber.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...t("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),i.password&&a.jsx("p",{className:"text-sm text-destructive",children:i.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",placeholder:"••••••••",className:"pl-10",...t("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:w=>w===v||"Les mots de passe ne correspondent pas"})})]}),i.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:i.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription en cours..."]}):"S'inscrire"})]})}),a.jsx(sv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",a.jsx(ir,{to:"/connexion",className:"text-primary hover:underline",children:"Se connecter"})]})})]})})},eye=()=>a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(Qve,{})}),tye=()=>{const{toast:e}=Cn(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=my(),s=async o=>{try{e({title:"Email envoyé",description:"Si un compte existe avec cet email, vous recevrez les instructions de réinitialisation."})}catch(l){e({title:"Erreur",description:l.message,variant:"destructive"})}};return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Mot de passe oublié"}),a.jsx(wn,{children:"Entrez votre adresse email pour recevoir les instructions de réinitialisation"})]}),a.jsx(Ut,{children:a.jsxs("form",{onSubmit:r(s),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(lu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer les instructions"})]})}),a.jsx(sv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Retour à la"," ",a.jsx(ir,{to:"/connexion",className:"text-primary hover:underline",children:"page de connexion"})]})})]})})})},rye=()=>{const{toast:e}=Cn(),t=Fn(),[r]=Gk(),n=r.get("token"),{register:i,handleSubmit:s,watch:o,formState:{errors:l,isSubmitting:c}}=my(),u=o("password"),f=async p=>{try{if(!n)throw new Error("Token de réinitialisation manquant");e({title:"Mot de passe réinitialisé",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),t("/connexion")}catch(g){e({title:"Erreur",description:g.message,variant:"destructive"})}};return n?a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Réinitialisation du mot de passe"}),a.jsx(wn,{children:"Choisissez votre nouveau mot de passe"})]}),a.jsx(Ut,{children:a.jsxs("form",{onSubmit:s(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",className:"pl-10",...i("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),l.password&&a.jsx("p",{className:"text-sm text-destructive",children:l.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",className:"pl-10",...i("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:p=>p===u||"Les mots de passe ne correspondent pas"})})]}),l.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:l.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Réinitialisation en cours..."]}):"Réinitialiser le mot de passe"})]})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(zt,{children:a.jsxs(lr,{children:[a.jsx(cr,{className:"text-destructive",children:"Lien invalide"}),a.jsx(wn,{children:"Le lien de réinitialisation est invalide ou a expiré. Veuillez faire une nouvelle demande de réinitialisation."})]})})})},nye=(e="dashboard")=>{const[t,r]=Gk(),[n,i]=x.useState(e);return x.useEffect(()=>{const o=t.get("tab");o&&i(o)},[t]),{activeTab:n,handleTabChange:o=>{i(o),r({tab:o})},setActiveTab:i}},w0=({title:e,value:t,icon:r,trend:n,trendValue:i,color:s="blue",className:o})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600",pink:"from-pink-500 to-pink-600"},c={blue:"text-blue-200",green:"text-green-200",purple:"text-purple-200",orange:"text-orange-200",red:"text-red-200",teal:"text-teal-200",indigo:"text-indigo-200",pink:"text-pink-200"};return a.jsx(zt,{className:Ke(`bg-gradient-to-br ${l[s]} text-white overflow-hidden`,o),children:a.jsx(Ut,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm opacity-90 mb-1",children:e}),a.jsx("p",{className:"text-2xl font-bold",children:t}),n&&a.jsx("div",{className:"flex items-center mt-2",children:a.jsxs(yt,{variant:"secondary",className:Ke("text-xs bg-white/20 text-white border-0",n==="up"?"text-green-200":"text-red-200"),children:[n==="up"?"↗":"↘"," ",i]})})]}),r&&a.jsx("div",{className:Ke("p-3 rounded-full bg-white/10",c[s]),children:a.jsx(r,{className:"h-6 w-6"})})]})})})},iye=(e={})=>{const{threshold:t=.1,rootMargin:r="50px",root:n=null,triggerOnce:i=!1}=e,[s,o]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),f=x.useCallback(p=>{const[g]=p;g.isIntersecting?(o(!0),i&&!l&&c(!0)):i||o(!1)},[i,l]);return x.useEffect(()=>{const p=u.current;if(!p)return;const g=new IntersectionObserver(f,{threshold:t,rootMargin:r,root:n});return g.observe(p),()=>{g.unobserve(p),g.disconnect()}},[f,t,r,n]),[u,s]},Q7=(e={})=>{const{threshold:t=.1,rootMargin:r="100px",placeholder:n=null,onLoad:i=null,onError:s=null}=e,[o,l]=x.useState({src:null,isLoading:!1,hasLoaded:!1,hasError:!1}),[c,u]=iye({threshold:t,rootMargin:r,triggerOnce:!0}),f=x.useCallback(g=>{if(!g||o.src===g)return;l(w=>({...w,src:g,isLoading:!0,hasLoaded:!1,hasError:!1}));const v=new Image;v.onload=()=>{l(w=>({...w,isLoading:!1,hasLoaded:!0})),i?.(g)},v.onerror=()=>{l(w=>({...w,isLoading:!1,hasError:!0})),s?.(g)},v.src=g},[o.src,i,s]);x.useEffect(()=>{u&&o.src&&f(o.src)},[u,o.src,f]);const p=x.useCallback(g=>{g!==o.src&&l(v=>({...v,src:g}))},[o.src]);return{elementRef:c,isIntersecting:u,imageState:o,setImageSrc:p,loadImage:f}},rF={thumbnail:{width:150,height:150},card:{width:400,height:300},gallery:{width:800,height:600},fullscreen:{width:1200,height:900},hero:{width:1920,height:1080}},nF={low:60,medium:80,high:95},hR=(e,t="gallery",r="medium")=>{if(!e)return e;const n=rF[t]||rF.gallery,i=nF[r]||nF.medium;if(e.includes("unsplash.com"))return`${e}?w=${n.width}&h=${n.height}&fit=crop&q=${i}&auto=format&fm=webp`;if(e.includes("cloudinary.com"))return e.replace("/upload/",`/upload/w_${n.width},h_${n.height},c_fill,q_${i},f_auto/`);if(e.includes("imagekit.io"))return`${e}?tr=w-${n.width},h-${n.height},c-at_max,q-${i}`;if(e.includes("cdn.")||e.includes("static.")){const s=e.includes("?")?"&":"?";return`${e}${s}w=${n.width}&h=${n.height}&q=${i}`}return e},sye=(e,t="gallery",r="medium")=>Array.isArray(e)?e.map(n=>hR(n,t,r)):[],aye=({src:e,alt:t,className:r="",placeholder:n=null,context:i="gallery",quality:s="medium",onLoad:o=null,onError:l=null,showSkeleton:c=!0,...u})=>{const[f,p]=x.useState(!1),[g,v]=x.useState(!1),w=I=>I?typeof I=="string"?I:I?.url?I.url:I?.file?URL.createObjectURL(I.file):I?.src?I.src:I?.displayUrl?I.displayUrl:null:null,y=x.useMemo(()=>{const I=w(e);return I?hR(I,i,s):null},[e,i,s]),{elementRef:_,isIntersecting:S,imageState:N,setImageSrc:C}=Q7({threshold:.1,rootMargin:"100px",onLoad:I=>{v(!0),o?.(I)},onError:I=>{p(!0),l?.(I)}});X.useEffect(()=>{S&&y&&C(y)},[S,y,C]);const k=x.useCallback(I=>{u.onClick&&u.onClick(I)},[u.onClick]),A=()=>a.jsx("div",{className:"animate-pulse bg-muted rounded-lg",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-muted via-muted/50 to-muted"})}),T=()=>a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Image non disponible"})]})});if(!e)return a.jsx("div",{className:r,children:a.jsx(T,{})});const O=w(e)!==null;return a.jsxs("div",{ref:_,className:`relative overflow-hidden ${r}`,children:[c&&!g&&!f&&O&&a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx(A,{})})}),n&&!g&&!f&&O&&a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx("img",{src:n,alt:"Placeholder",className:"w-full h-full object-cover"})})}),a.jsx(si,{children:!f&&O&&a.jsx(Re.img,{src:N.src||w(e),alt:t,className:`w-full h-full object-cover transition-opacity duration-300 ${g?"opacity-100":"opacity-0"}`,onLoad:()=>{(N.src||w(e))&&(v(!0),o?.(N.src||w(e)))},onError:()=>{p(!0),l?.(N.src||w(e))},onClick:k,loading:"lazy",...u})}),f&&a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"absolute inset-0 z-20",children:a.jsx(T,{})})}),N.isLoading&&!g&&!f&&O&&a.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/10",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),!O&&a.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Format d'image non supporté"})]})})]})},IT=X.memo(aye),eH=X.memo(({images:e=[],title:t="Galerie d'images",className:r=""})=>{const[n,i]=x.useState(0),[s,o]=x.useState(!1),l=v=>v?typeof v=="string"?v:v?.url?v.url:v?.file?URL.createObjectURL(v.file):v?.src?v.src:v?.displayUrl?v.displayUrl:null:null,c=e.filter(v=>l(v)!==null);x.useEffect(()=>{if(!s||c.length<=1)return;const v=setInterval(()=>{i(w=>(w+1)%c.length)},3e3);return()=>clearInterval(v)},[s,c.length]);const u=()=>{c.length>0&&i(v=>(v+1)%c.length)},f=()=>{c.length>0&&i(v=>(v-1+c.length)%c.length)},p=v=>{v>=0&&v<c.length&&i(v)};if(!c||c.length===0)return a.jsx("div",{className:`relative bg-muted flex items-center justify-center ${r}`,children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{className:"text-xs sm:text-sm",children:"Aucune image"})})});const g=c[n];return a.jsxs("div",{className:`relative bg-muted overflow-hidden group ${r}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(si,{mode:"wait",children:a.jsx(Re.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full h-full",children:a.jsx(IT,{src:g,alt:`${t} - Image ${n+1}`,className:"w-full h-full object-cover",context:"card",quality:"medium",showSkeleton:!0})},n)}),c.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),f()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image précédente",children:a.jsx(Ua,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("button",{onClick:v=>{v.stopPropagation(),u()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image suivante",children:a.jsx(Va,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),c.length>1&&a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 sm:gap-1.5",children:c.map((v,w)=>a.jsx("button",{onClick:y=>{y.stopPropagation(),p(w)},className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full transition-all duration-200 ${w===n?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${w+1}`},w))})]})}),iF=({listing:e,onEdit:t,onDelete:r,onRefresh:n,onBoost:i,showActions:s=!0})=>{const o=u=>{switch(u){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=u=>{switch(u){case"active":return"Active";case"pending":return"En attente";case"expired":return"Expirée";case"draft":return"Brouillon";default:return u}},c=u=>{let f="";if(typeof u=="string")f=u;else if(u&&typeof u=="object"&&u.name)f=u.name;else return"📦";switch(f.toLowerCase()){case"immobilier":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📦"}};return a.jsxs(zt,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx(eH,{images:e.images||[e.image],title:e.title,className:"h-48"}),a.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[a.jsx(yt,{variant:"secondary",className:Ke("text-xs font-medium",o(e.status)),children:l(e.status)}),e.featured&&a.jsx(yt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200 text-xs",children:"⭐ Premium"})]}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"text-2xl",children:c(e.category)})})]}),a.jsx(Ut,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2",children:e.title}),a.jsx("p",{className:"text-primary font-bold text-lg",children:e.price})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(So,{className:"h-3 w-3 mr-1"}),e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:e.location?.city||e.location?.country||"Localisation non spécifiée"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 mr-1"}),e.createdAt||e.created_at?new Date(e.createdAt||e.created_at).toLocaleDateString("fr-FR"):"Date inconnue"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Rl,{className:"h-4 w-4 mr-1"}),e.views||e.views_count||0," vues"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(za,{className:"h-4 w-4 mr-1"}),e.contacts||e.contacts_count||0," contacts"]})]}),e.boosted&&a.jsxs(yt,{variant:"outline",className:"text-xs",children:[a.jsx(La,{className:"h-3 w-3 mr-1"}),"Boosté"]})]}),s&&a.jsxs("div",{className:"flex space-x-2 pt-2 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>t?.(e),children:[a.jsx(VO,{className:"h-4 w-4 mr-1"}),"Modifier"]}),e.status==="active"&&a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(e),className:"flex-1",children:[a.jsx(La,{className:"h-4 w-4 mr-1"}),"Booster"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>n?.(e),children:a.jsx(Vd,{className:"h-4 w-4"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(e),className:"text-red-600 hover:text-red-700",children:a.jsx(ko,{className:"h-4 w-4"})})]})]})})]})};function DT(e){const t=oye(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(cye);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function oye(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=dye(i),l=uye(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lye=Symbol("radix.slottable");function cye(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lye}function uye(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function dye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function fye(e){const t=e+"CollectionProvider",[r,n]=Rr(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=X.useRef(null),C=X.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=DT(l),u=X.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),k=at(_,C.collectionRef);return a.jsx(c,{ref:k,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=DT(f),v=X.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,k=X.useRef(null),A=at(_,k),T=s(f,S);return X.useEffect(()=>(T.itemMap.set(k,{ref:k,...C}),()=>void T.itemMap.delete(k))),a.jsx(g,{[p]:"",ref:A,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return X.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((T,O)=>C.indexOf(T.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}var hye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tH=hye.reduce((e,t)=>{const r=DT(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function pye(e){const t=mye(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(vye);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function mye(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=xye(i),l=yye(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gye=Symbol("radix.slottable");function vye(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gye}function yye(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function xye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pR=bye.reduce((e,t)=>{const r=pye(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),E_="Collapsible",[wye,rH]=Rr(E_),[_ye,mR]=wye(E_),nH=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=e,[c,u]=ns({prop:n,defaultProp:i??!1,onChange:o,caller:E_});return a.jsx(_ye,{scope:r,disabled:s,contentId:ts(),open:c,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),children:a.jsx(pR.div,{"data-state":vR(c),"data-disabled":s?"":void 0,...l,ref:t})})});nH.displayName=E_;var iH="CollapsibleTrigger",sH=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=mR(iH,r);return a.jsx(pR.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":vR(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Ue(e.onClick,i.onOpenToggle)})});sH.displayName=iH;var gR="CollapsibleContent",aH=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=mR(gR,e.__scopeCollapsible);return a.jsx(is,{present:r||i.open,children:({present:s})=>a.jsx(jye,{...n,ref:t,present:s})})});aH.displayName=gR;var jye=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=e,o=mR(gR,r),[l,c]=x.useState(n),u=x.useRef(null),f=at(t,u),p=x.useRef(0),g=p.current,v=x.useRef(0),w=v.current,y=o.open||l,_=x.useRef(y),S=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(N)},[]),sr(()=>{const N=u.current;if(N){S.current=S.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const C=N.getBoundingClientRect();p.current=C.height,v.current=C.width,_.current||(N.style.transitionDuration=S.current.transitionDuration,N.style.animationName=S.current.animationName),c(n)}},[o.open,n]),a.jsx(pR.div,{"data-state":vR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&i})});function vR(e){return e?"open":"closed"}var Sye=nH,Nye=sH,Cye=aH,Xa="Accordion",Eye=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[yR,Pye,Tye]=fye(Xa),[P_,pqe]=Rr(Xa,[Tye,rH]),xR=rH(),oH=X.forwardRef((e,t)=>{const{type:r,...n}=e,i=n,s=n;return a.jsx(yR.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(Rye,{...s,ref:t}):a.jsx(Oye,{...i,ref:t})})});oH.displayName=Xa;var[lH,Aye]=P_(Xa),[cH,kye]=P_(Xa,{collapsible:!1}),Oye=X.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=e,[l,c]=ns({prop:r,defaultProp:n??"",onChange:i,caller:Xa});return a.jsx(lH,{scope:e.__scopeAccordion,value:X.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:X.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(cH,{scope:e.__scopeAccordion,collapsible:s,children:a.jsx(uH,{...o,ref:t})})})}),Rye=X.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=e,[o,l]=ns({prop:r,defaultProp:n??[],onChange:i,caller:Xa}),c=X.useCallback(f=>l((p=[])=>[...p,f]),[l]),u=X.useCallback(f=>l((p=[])=>p.filter(g=>g!==f)),[l]);return a.jsx(lH,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(cH,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(uH,{...s,ref:t})})})}),[Mye,T_]=P_(Xa),uH=X.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=e,l=X.useRef(null),c=at(l,t),u=Pye(r),p=Rp(i)==="ltr",g=Ue(e.onKeyDown,v=>{if(!Eye.includes(v.key))return;const w=v.target,y=u().filter(I=>!I.ref.current?.disabled),_=y.findIndex(I=>I.ref.current===w),S=y.length;if(_===-1)return;v.preventDefault();let N=_;const C=0,k=S-1,A=()=>{N=_+1,N>k&&(N=C)},T=()=>{N=_-1,N<C&&(N=k)};switch(v.key){case"Home":N=C;break;case"End":N=k;break;case"ArrowRight":s==="horizontal"&&(p?A():T());break;case"ArrowDown":s==="vertical"&&A();break;case"ArrowLeft":s==="horizontal"&&(p?T():A());break;case"ArrowUp":s==="vertical"&&T();break}const O=N%S;y[O].ref.current?.focus()});return a.jsx(Mye,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(yR.Slot,{scope:r,children:a.jsx(tH.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:g})})})}),zb="AccordionItem",[Iye,bR]=P_(zb),dH=X.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...i}=e,s=T_(zb,r),o=Aye(zb,r),l=xR(r),c=ts(),u=n&&o.value.includes(n)||!1,f=s.disabled||e.disabled;return a.jsx(Iye,{scope:r,open:u,disabled:f,triggerId:c,children:a.jsx(Sye,{"data-orientation":s.orientation,"data-state":vH(u),...l,...i,ref:t,disabled:f,open:u,onOpenChange:p=>{p?o.onItemOpen(n):o.onItemClose(n)}})})});dH.displayName=zb;var fH="AccordionHeader",hH=X.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=T_(Xa,r),s=bR(fH,r);return a.jsx(tH.h3,{"data-orientation":i.orientation,"data-state":vH(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});hH.displayName=fH;var LT="AccordionTrigger",pH=X.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=T_(Xa,r),s=bR(LT,r),o=kye(LT,r),l=xR(r);return a.jsx(yR.ItemSlot,{scope:r,children:a.jsx(Nye,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...n,ref:t})})});pH.displayName=LT;var mH="AccordionContent",gH=X.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=T_(Xa,r),s=bR(mH,r),o=xR(r);return a.jsx(Cye,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});gH.displayName=mH;function vH(e){return e?"open":"closed"}var Dye=oH,Lye=dH,$ye=hH,yH=pH,xH=gH;const Fye=Dye,bH=X.forwardRef(({className:e,...t},r)=>a.jsx(Lye,{ref:r,className:Ke("border-b border-border",e),...t}));bH.displayName="AccordionItem";const wH=X.forwardRef(({className:e,children:t,...r},n)=>a.jsx($ye,{className:"flex",children:a.jsxs(yH,{ref:n,className:Ke("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline text-foreground [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(jl,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));wH.displayName=yH.displayName;const _H=X.forwardRef(({className:e,children:t,...r},n)=>a.jsx(xH,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:Ke("pb-4 pt-0 text-muted-foreground",e),children:t})}));_H.displayName=xH.displayName;function gy(e,t=globalThis?.document){const r=fr(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Bye="DismissableLayer",$T="dismissableLayer.update",zye="dismissableLayer.pointerDownOutside",qye="dismissableLayer.focusOutside",sF,jH=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),A_=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(jH),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=S,A=Vye(O=>{const I=O.target,q=[...u.branches].some(Z=>Z.contains(I));!k||q||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),T=Wye(O=>{const I=O.target;[...u.branches].some(Z=>Z.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return gy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),aF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=sF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),aF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener($T,O),()=>document.removeEventListener($T,O)},[]),a.jsx(er.div,{...c,ref:w,style:{pointerEvents:C?k?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,A.onPointerDownCapture)})});A_.displayName=Bye;var Uye="DismissableLayerBranch",SH=x.forwardRef((e,t)=>{const r=x.useContext(jH),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(er.div,{...e,ref:i})});SH.displayName=Uye;function Vye(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){NH(zye,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Wye(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&NH(qye,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aF(){const e=new CustomEvent($T);document.dispatchEvent(e)}function NH(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?cR(i,s):i.dispatchEvent(s)}var Hye=A_,Kye=SH,qS="focusScope.autoFocusOnMount",US="focusScope.autoFocusOnUnmount",oF={bubbles:!1,cancelable:!0},Gye="FocusScope",wR=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=fr(i),f=fr(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const k=C.target;l.contains(k)?p.current=k:Lc(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const k=C.relatedTarget;k!==null&&(l.contains(k)||Lc(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&Lc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){cF.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(qS,oF);l.addEventListener(qS,u),l.dispatchEvent(S),S.defaultPrevented||(Zye(exe(CH(l)),{select:!0}),document.activeElement===y&&Lc(l))}return()=>{l.removeEventListener(qS,u),setTimeout(()=>{const S=new CustomEvent(US,oF);l.addEventListener(US,f),l.dispatchEvent(S),S.defaultPrevented||Lc(y??document.body,{select:!0}),l.removeEventListener(US,f),cF.remove(v)},0)}}},[l,u,f,v]);const w=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,k]=Yye(N);C&&k?!y.shiftKey&&S===k?(y.preventDefault(),r&&Lc(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&Lc(k,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(er.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});wR.displayName=Gye;function Zye(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Lc(n,{select:t}),document.activeElement!==r)return}function Yye(e){const t=CH(e),r=lF(t,e),n=lF(t.reverse(),e);return[r,n]}function CH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lF(e,t){for(const r of e)if(!Xye(r,{upTo:t}))return r}function Xye(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Jye(e){return e instanceof HTMLInputElement&&"select"in e}function Lc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Jye(e)&&t&&e.select()}}var cF=Qye();function Qye(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=uF(e,t),e.unshift(t)},remove(t){e=uF(e,t),e[0]?.resume()}}}function uF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function exe(e){return e.filter(t=>t.tagName!=="A")}var txe="Portal",k_=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);sr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?r_.createPortal(a.jsx(er.div,{...n,ref:t}),o):null});k_.displayName=txe;var VS=0;function _R(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dF()),document.body.insertAdjacentElement("beforeend",e[1]??dF()),VS++,()=>{VS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),VS--}},[])}function dF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vo=function(){return vo=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vo.apply(this,arguments)};function EH(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function rxe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var ab="right-scroll-bar-position",ob="width-before-scroll-bar",nxe="with-scroll-bars-hidden",ixe="--removed-body-scroll-bar-size";function WS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sxe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var axe=typeof window<"u"?x.useLayoutEffect:x.useEffect,fF=new WeakMap;function oxe(e,t){var r=sxe(null,function(n){return e.forEach(function(i){return WS(i,n)})});return axe(function(){var n=fF.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(l){s.has(l)||WS(l,null)}),s.forEach(function(l){i.has(l)||WS(l,o)})}fF.set(r,e)},[e]),r}function lxe(e){return e}function cxe(e,t){t===void 0&&(t=lxe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return i}function uxe(e){e===void 0&&(e={});var t=cxe(null);return t.options=vo({async:!0,ssr:!1},e),t}var PH=function(e){var t=e.sideCar,r=EH(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,vo({},r))};PH.isSideCarExport=!0;function dxe(e,t){return e.useMedium(t),PH}var TH=uxe(),HS=function(){},O_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:HS,onWheelCapture:HS,onTouchMoveCapture:HS}),i=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,v=e.noIsolation,w=e.inert,y=e.allowPinchZoom,_=e.as,S=_===void 0?"div":_,N=e.gapMode,C=EH(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,A=oxe([r,t]),T=vo(vo({},C),i);return x.createElement(x.Fragment,null,f&&x.createElement(k,{sideCar:TH,removeScrollBar:u,shards:p,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:N}),o?x.cloneElement(x.Children.only(l),vo(vo({},T),{ref:A})):x.createElement(S,vo({},T,{className:c,ref:A}),l))});O_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};O_.classNames={fullWidth:ob,zeroRight:ab};var fxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hxe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fxe();return t&&e.setAttribute("nonce",t),e}function pxe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mxe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gxe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=hxe())&&(pxe(t,r),mxe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vxe=function(){var e=gxe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},AH=function(){var e=vxe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},yxe={left:0,top:0,right:0,gap:0},KS=function(e){return parseInt(e||"",10)||0},xxe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[KS(r),KS(n),KS(i)]},bxe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yxe;var t=xxe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wxe=AH(),Oh="data-scroll-locked",_xe=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(nxe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Oh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ab,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ob,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ab," .").concat(ab,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ob," .").concat(ob,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Oh,`] {
    `).concat(ixe,": ").concat(l,`px;
  }
`)},hF=function(){var e=parseInt(document.body.getAttribute(Oh)||"0",10);return isFinite(e)?e:0},jxe=function(){x.useEffect(function(){return document.body.setAttribute(Oh,(hF()+1).toString()),function(){var e=hF()-1;e<=0?document.body.removeAttribute(Oh):document.body.setAttribute(Oh,e.toString())}},[])},Sxe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;jxe();var s=x.useMemo(function(){return bxe(i)},[i]);return x.createElement(wxe,{styles:_xe(s,!t,i,r?"":"!important")})},FT=!1;if(typeof window<"u")try{var _0=Object.defineProperty({},"passive",{get:function(){return FT=!0,!0}});window.addEventListener("test",_0,_0),window.removeEventListener("test",_0,_0)}catch{FT=!1}var ah=FT?{passive:!1}:!1,Nxe=function(e){return e.tagName==="TEXTAREA"},kH=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Nxe(e)&&r[t]==="visible")},Cxe=function(e){return kH(e,"overflowY")},Exe=function(e){return kH(e,"overflowX")},pF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=OH(e,n);if(i){var s=RH(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Pxe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Txe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},OH=function(e,t){return e==="v"?Cxe(t):Exe(t)},RH=function(e,t){return e==="v"?Pxe(t):Txe(t)},Axe=function(e,t){return e==="h"&&t==="rtl"?-1:1},kxe=function(e,t,r,n,i){var s=Axe(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,f=o>0,p=0,g=0;do{var v=RH(e,l),w=v[0],y=v[1],_=v[2],S=y-_-s*w;(w||S)&&OH(e,l)&&(p+=S,g+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},j0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mF=function(e){return[e.deltaX,e.deltaY]},gF=function(e){return e&&"current"in e?e.current:e},Oxe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Rxe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Mxe=0,oh=[];function Ixe(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(Mxe++)[0],s=x.useState(AH)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=rxe([e.lockRef.current],(e.shards||[]).map(gF),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=j0(y),N=r.current,C="deltaX"in y?y.deltaX:N[0]-S[0],k="deltaY"in y?y.deltaY:N[1]-S[1],A,T=y.target,O=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in y&&O==="h"&&T.type==="range")return!1;var I=pF(O,T);if(!I)return!0;if(I?A=O:(A=O==="v"?"h":"v",I=pF(O,T)),!I)return!1;if(!n.current&&"changedTouches"in y&&(C||k)&&(n.current=A),!A)return!0;var q=n.current||A;return kxe(q,_,y,q==="h"?C:k)},[]),c=x.useCallback(function(y){var _=y;if(!(!oh.length||oh[oh.length-1]!==s)){var S="deltaY"in _?mF(_):j0(_),N=t.current.filter(function(A){return A.name===_.type&&(A.target===_.target||_.target===A.shadowParent)&&Oxe(A.delta,S)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(gF).filter(Boolean).filter(function(A){return A.contains(_.target)}),k=C.length>0?l(_,C[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),u=x.useCallback(function(y,_,S,N){var C={name:y,delta:_,target:S,should:N,shadowParent:Dxe(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(k){return k!==C})},1)},[]),f=x.useCallback(function(y){r.current=j0(y),n.current=void 0},[]),p=x.useCallback(function(y){u(y.type,mF(y),y.target,l(y,e.lockRef.current))},[]),g=x.useCallback(function(y){u(y.type,j0(y),y.target,l(y,e.lockRef.current))},[]);x.useEffect(function(){return oh.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ah),document.addEventListener("touchmove",c,ah),document.addEventListener("touchstart",f,ah),function(){oh=oh.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,ah),document.removeEventListener("touchmove",c,ah),document.removeEventListener("touchstart",f,ah)}},[]);var v=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(s,{styles:Rxe(i)}):null,v?x.createElement(Sxe,{gapMode:e.gapMode}):null)}function Dxe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Lxe=dxe(TH,Ixe);var vy=x.forwardRef(function(e,t){return x.createElement(O_,vo({},e,{ref:t,sideCar:Lxe}))});vy.classNames=O_.classNames;var $xe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lh=new WeakMap,S0=new WeakMap,N0={},GS=0,MH=function(e){return e&&(e.host||MH(e.parentNode))},Fxe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=MH(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Bxe=function(e,t,r,n){var i=Fxe(t,Array.isArray(e)?e:[e]);N0[r]||(N0[r]=new WeakMap);var s=N0[r],o=[],l=new Set,c=new Set(i),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var v=g.getAttribute(n),w=v!==null&&v!=="false",y=(lh.get(g)||0)+1,_=(s.get(g)||0)+1;lh.set(g,y),s.set(g,_),o.push(g),y===1&&w&&S0.set(g,!0),_===1&&g.setAttribute(r,"true"),w||g.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return f(t),l.clear(),GS++,function(){o.forEach(function(p){var g=lh.get(p)-1,v=s.get(p)-1;lh.set(p,g),s.set(p,v),g||(S0.has(p)||p.removeAttribute(n),S0.delete(p)),v||p.removeAttribute(r)}),GS--,GS||(lh=new WeakMap,lh=new WeakMap,S0=new WeakMap,N0={})}},R_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=$xe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Bxe(n,i,r,"aria-hidden")):function(){return null}},M_="Dialog",[IH,DH]=Rr(M_),[zxe,Ja]=IH(M_),LH=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,f]=ns({prop:n,defaultProp:i??!1,onChange:s,caller:M_});return a.jsx(zxe,{scope:t,triggerRef:l,contentRef:c,contentId:ts(),titleId:ts(),descriptionId:ts(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};LH.displayName=M_;var $H="DialogTrigger",FH=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ja($H,r),s=at(t,i.triggerRef);return a.jsx(er.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":NR(i.open),...n,ref:s,onClick:Ue(e.onClick,i.onOpenToggle)})});FH.displayName=$H;var jR="DialogPortal",[qxe,BH]=IH(jR,{forceMount:void 0}),zH=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Ja(jR,t);return a.jsx(qxe,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(is,{present:r||s.open,children:a.jsx(k_,{asChild:!0,container:i,children:o})}))})};zH.displayName=jR;var qb="DialogOverlay",qH=x.forwardRef((e,t)=>{const r=BH(qb,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Ja(qb,e.__scopeDialog);return s.modal?a.jsx(is,{present:n||s.open,children:a.jsx(Vxe,{...i,ref:t})}):null});qH.displayName=qb;var Uxe=Hh("DialogOverlay.RemoveScroll"),Vxe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ja(qb,r);return a.jsx(vy,{as:Uxe,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(er.div,{"data-state":NR(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),kd="DialogContent",UH=x.forwardRef((e,t)=>{const r=BH(kd,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Ja(kd,e.__scopeDialog);return a.jsx(is,{present:n||s.open,children:s.modal?a.jsx(Wxe,{...i,ref:t}):a.jsx(Hxe,{...i,ref:t})})});UH.displayName=kd;var Wxe=x.forwardRef((e,t)=>{const r=Ja(kd,e.__scopeDialog),n=x.useRef(null),i=at(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return R_(s)},[]),a.jsx(VH,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault())})}),Hxe=x.forwardRef((e,t)=>{const r=Ja(kd,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(VH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),VH=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,l=Ja(kd,r),c=x.useRef(null),u=at(t,c);return _R(),a.jsxs(a.Fragment,{children:[a.jsx(wR,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(A_,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Gxe,{titleId:l.titleId}),a.jsx(Yxe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),SR="DialogTitle",WH=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ja(SR,r);return a.jsx(er.h2,{id:i.titleId,...n,ref:t})});WH.displayName=SR;var HH="DialogDescription",KH=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ja(HH,r);return a.jsx(er.p,{id:i.descriptionId,...n,ref:t})});KH.displayName=HH;var GH="DialogClose",ZH=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ja(GH,r);return a.jsx(er.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,()=>i.onOpenChange(!1))})});ZH.displayName=GH;function NR(e){return e?"open":"closed"}var YH="DialogTitleWarning",[Kxe,XH]=hpe(YH,{contentName:kd,titleName:SR,docsSlug:"dialog"}),Gxe=({titleId:e})=>{const t=XH(YH),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Zxe="DialogDescriptionWarning",Yxe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XH(Zxe).contentName}}.`;return x.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},JH=LH,Xxe=FH,QH=zH,CR=qH,ER=UH,PR=WH,TR=KH,AR=ZH,eK="AlertDialog",[Jxe,mqe]=Rr(eK,[DH]),Ul=DH(),tK=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ul(t);return a.jsx(JH,{...n,...r,modal:!0})};tK.displayName=eK;var Qxe="AlertDialogTrigger",e0e=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(Xxe,{...i,...n,ref:t})});e0e.displayName=Qxe;var t0e="AlertDialogPortal",rK=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ul(t);return a.jsx(QH,{...n,...r})};rK.displayName=t0e;var r0e="AlertDialogOverlay",nK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(CR,{...i,...n,ref:t})});nK.displayName=r0e;var Rh="AlertDialogContent",[n0e,i0e]=Jxe(Rh),s0e=lpe("AlertDialogContent"),iK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=Ul(r),o=x.useRef(null),l=at(t,o),c=x.useRef(null);return a.jsx(Kxe,{contentName:Rh,titleName:sK,docsSlug:"alert-dialog",children:a.jsx(n0e,{scope:r,cancelRef:c,children:a.jsxs(ER,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ue(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(s0e,{children:n}),a.jsx(o0e,{contentRef:o})]})})})});iK.displayName=Rh;var sK="AlertDialogTitle",aK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(PR,{...i,...n,ref:t})});aK.displayName=sK;var oK="AlertDialogDescription",lK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(TR,{...i,...n,ref:t})});lK.displayName=oK;var a0e="AlertDialogAction",cK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(AR,{...i,...n,ref:t})});cK.displayName=a0e;var uK="AlertDialogCancel",dK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=i0e(uK,r),s=Ul(r),o=at(t,i);return a.jsx(AR,{...s,...n,ref:o})});dK.displayName=uK;var o0e=({contentRef:e})=>{const t=`\`${Rh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rh}\` by passing a \`${oK}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},l0e=tK,c0e=rK,fK=nK,hK=iK,pK=cK,mK=dK,gK=aK,vK=lK;const yK=l0e,u0e=c0e,xK=x.forwardRef(({className:e,...t},r)=>a.jsx(fK,{className:Ke("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));xK.displayName=fK.displayName;const kR=x.forwardRef(({className:e,...t},r)=>a.jsxs(u0e,{children:[a.jsx(xK,{}),a.jsx(hK,{ref:r,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kR.displayName=hK.displayName;const OR=({className:e,...t})=>a.jsx("div",{className:Ke("flex flex-col space-y-2 text-center sm:text-left",e),...t});OR.displayName="AlertDialogHeader";const RR=({className:e,...t})=>a.jsx("div",{className:Ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});RR.displayName="AlertDialogFooter";const MR=x.forwardRef(({className:e,...t},r)=>a.jsx(gK,{ref:r,className:Ke("text-lg font-semibold",e),...t}));MR.displayName=gK.displayName;const IR=x.forwardRef(({className:e,...t},r)=>a.jsx(vK,{ref:r,className:Ke("text-sm text-muted-foreground",e),...t}));IR.displayName=vK.displayName;const bK=x.forwardRef(({className:e,...t},r)=>a.jsx(pK,{ref:r,className:Ke(ZO(),e),...t}));bK.displayName=pK.displayName;const DR=x.forwardRef(({className:e,...t},r)=>a.jsx(mK,{ref:r,className:Ke(ZO({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));DR.displayName=mK.displayName;var ZS={exports:{}},YS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vF;function d0e(){if(vF)return YS;vF=1;var e=t_();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function l(p,g){var v=g(),w=n({inst:{value:v,getSnapshot:g}}),y=w[0].inst,_=w[1];return s(function(){y.value=v,y.getSnapshot=g,c(y)&&_({inst:y})},[p,v,g]),i(function(){return c(y)&&_({inst:y}),p(function(){c(y)&&_({inst:y})})},[p]),o(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!r(p,v)}catch{return!0}}function u(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return YS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,YS}var yF;function f0e(){return yF||(yF=1,ZS.exports=d0e()),ZS.exports}var h0e=f0e();function p0e(){return h0e.useSyncExternalStore(m0e,()=>!0,()=>!1)}function m0e(){return()=>{}}var LR="Avatar",[g0e,gqe]=Rr(LR),[v0e,wK]=g0e(LR),_K=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,s]=x.useState("idle");return a.jsx(v0e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(er.span,{...n,ref:t})})});_K.displayName=LR;var jK="AvatarImage",SK=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=e,o=wK(jK,r),l=y0e(n,s),c=fr(u=>{i(u),o.onImageLoadingStatusChange(u)});return sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(er.img,{...s,ref:t,src:n}):null});SK.displayName=jK;var NK="AvatarFallback",CK=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,s=wK(NK,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(er.span,{...i,ref:t}):null});CK.displayName=NK;function xF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function y0e(e,{referrerPolicy:t,crossOrigin:r}){const n=p0e(),i=x.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=x.useState(()=>xF(s,e));return sr(()=>{l(xF(s,e))},[s,e]),sr(()=>{const c=p=>()=>{l(p)};if(!s)return;const u=c("loaded"),f=c("error");return s.addEventListener("load",u),s.addEventListener("error",f),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",f)}},[s,r,t]),o}var EK=_K,PK=SK,TK=CK;const BT=X.forwardRef(({className:e,...t},r)=>a.jsx(EK,{ref:r,className:Ke("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));BT.displayName=EK.displayName;const AK=X.forwardRef(({className:e,...t},r)=>a.jsx(PK,{ref:r,className:Ke("aspect-square h-full w-full",e),...t}));AK.displayName=PK.displayName;const zT=X.forwardRef(({className:e,...t},r)=>a.jsx(TK,{ref:r,className:Ke("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zT.displayName=TK.displayName;const I_=({isOpen:e,onClose:t,onConfirm:r,title:n,description:i,confirmText:s="Confirmer",cancelText:o="Annuler",variant:l="destructive",icon:c=Kd,isLoading:u=!1})=>{const f=()=>{switch(l){case"destructive":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}},p=()=>{switch(l){case"destructive":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"outline"}};return a.jsx(yK,{open:e,onOpenChange:t,children:a.jsxs(kR,{children:[a.jsxs(OR,{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(c,{className:`h-6 w-6 ${f()}`}),a.jsx(MR,{children:n})]}),a.jsx(IR,{className:"text-left",children:i})]}),a.jsxs(RR,{children:[a.jsx(DR,{disabled:u,children:o}),a.jsxs(ue,{variant:p(),onClick:r,disabled:u,className:"flex items-center space-x-2",children:[u&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:s})]})]})]})})},x0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(I_,{isOpen:e,onClose:t,onConfirm:r,title:"Confirmer la suppression",description:`Êtes-vous sûr de vouloir supprimer "${n}" ? Cette action est irréversible.`,confirmText:"Supprimer",variant:"destructive",icon:ko,isLoading:i}),b0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(I_,{isOpen:e,onClose:t,onConfirm:r,title:"Modifier l'élément",description:`Voulez-vous modifier "${n}" ?`,confirmText:"Modifier",variant:"info",icon:VO,isLoading:i}),w0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(I_,{isOpen:e,onClose:t,onConfirm:r,title:"Actualiser l'élément",description:`Voulez-vous actualiser "${n}" ? Cela remettra l'élément en haut de la liste.`,confirmText:"Actualiser",variant:"info",icon:Vd,isLoading:i}),_0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(I_,{isOpen:e,onClose:t,onConfirm:r,title:"Booster l'élément",description:`Voulez-vous booster "${n}" ? Cela augmentera sa visibilité.`,confirmText:"Booster",variant:"warning",icon:Ha,isLoading:i}),bF=JH,j0e=QH,kK=X.forwardRef(({className:e,...t},r)=>a.jsx(CR,{ref:r,className:Ke("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kK.displayName=CR.displayName;const qT=X.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(j0e,{children:[a.jsx(kK,{}),a.jsxs(ER,{ref:n,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(AR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ms,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qT.displayName=ER.displayName;const UT=({className:e,...t})=>a.jsx("div",{className:Ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});UT.displayName="DialogHeader";const VT=({className:e,...t})=>a.jsx("div",{className:Ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});VT.displayName="DialogFooter";const WT=X.forwardRef(({className:e,...t},r)=>a.jsx(PR,{ref:r,className:Ke("text-lg font-semibold leading-none tracking-tight",e),...t}));WT.displayName=PR.displayName;const HT=X.forwardRef(({className:e,...t},r)=>a.jsx(TR,{ref:r,className:Ke("text-sm text-muted-foreground",e),...t}));HT.displayName=TR.displayName;function $R(e){const t=e+"CollectionProvider",[r,n]=Rr(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=X.useRef(null),C=X.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=Hh(l),u=X.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),k=at(_,C.collectionRef);return a.jsx(c,{ref:k,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=Hh(f),v=X.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,k=X.useRef(null),A=at(_,k),T=s(f,S);return X.useEffect(()=>(T.itemMap.set(k,{ref:k,...C}),()=>void T.itemMap.delete(k))),a.jsx(g,{[p]:"",ref:A,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return X.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((T,O)=>C.indexOf(T.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}const S0e=["top","right","bottom","left"],uu=Math.min,Ns=Math.max,Ub=Math.round,C0=Math.floor,No=e=>({x:e,y:e}),N0e={left:"right",right:"left",bottom:"top",top:"bottom"},C0e={start:"end",end:"start"};function KT(e,t,r){return Ns(e,uu(t,r))}function Il(e,t){return typeof e=="function"?e(t):e}function Dl(e){return e.split("-")[0]}function Dp(e){return e.split("-")[1]}function FR(e){return e==="x"?"y":"x"}function BR(e){return e==="y"?"height":"width"}function El(e){return["top","bottom"].includes(Dl(e))?"y":"x"}function zR(e){return FR(El(e))}function E0e(e,t,r){r===void 0&&(r=!1);const n=Dp(e),i=zR(e),s=BR(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Vb(o)),[o,Vb(o)]}function P0e(e){const t=Vb(e);return[GT(e),t,GT(t)]}function GT(e){return e.replace(/start|end/g,t=>C0e[t])}function T0e(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function A0e(e,t,r,n){const i=Dp(e);let s=T0e(Dl(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(GT)))),s}function Vb(e){return e.replace(/left|right|bottom|top/g,t=>N0e[t])}function k0e(e){return{top:0,right:0,bottom:0,left:0,...e}}function OK(e){return typeof e!="number"?k0e(e):{top:e,right:e,bottom:e,left:e}}function Wb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function wF(e,t,r){let{reference:n,floating:i}=e;const s=El(t),o=zR(t),l=BR(o),c=Dl(t),u=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:p};break;case"left":v={x:n.x-i.width,y:p};break;default:v={x:n.x,y:n.y}}switch(Dp(t)){case"start":v[o]-=g*(r&&u?-1:1);break;case"end":v[o]+=g*(r&&u?-1:1);break}return v}const O0e=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=wF(u,n,c),g=n,v={},w=0;for(let y=0;y<l.length;y++){const{name:_,fn:S}=l[y],{x:N,y:C,data:k,reset:A}=await S({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});f=N??f,p=C??p,v={...v,[_]:{...v[_],...k}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:f,y:p}=wF(u,g,c)),y=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:v}};async function av(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Il(t,e),w=OK(v),_=l[g?p==="floating"?"reference":"floating":p],S=Wb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),N=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),k=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},A=Wb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:C,strategy:c}):N);return{top:(S.top-A.top+w.top)/k.y,bottom:(A.bottom-S.bottom+w.bottom)/k.y,left:(S.left-A.left+w.left)/k.x,right:(A.right-S.right+w.right)/k.x}}const R0e=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Il(e,t)||{};if(u==null)return{};const p=OK(f),g={x:r,y:n},v=zR(i),w=BR(v),y=await o.getDimensions(u),_=v==="y",S=_?"top":"left",N=_?"bottom":"right",C=_?"clientHeight":"clientWidth",k=s.reference[w]+s.reference[v]-g[v]-s.floating[w],A=g[v]-s.reference[v],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=T?T[C]:0;(!O||!await(o.isElement==null?void 0:o.isElement(T)))&&(O=l.floating[C]||s.floating[w]);const I=k/2-A/2,q=O/2-y[w]/2-1,Z=uu(p[S],q),V=uu(p[N],q),U=Z,z=O-y[w]-V,H=O/2-y[w]/2+I,re=KT(U,H,z),se=!c.arrow&&Dp(i)!=null&&H!==re&&s.reference[w]/2-(H<U?Z:V)-y[w]/2<0,W=se?H<U?H-U:H-z:0;return{[v]:g[v]+W,data:{[v]:re,centerOffset:H-re-W,...se&&{alignmentOffset:W}},reset:se}}}),M0e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,..._}=Il(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=Dl(i),N=El(l),C=Dl(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=g||(C||!y?[Vb(l)]:P0e(l)),T=w!=="none";!g&&T&&A.push(...A0e(l,y,w,k));const O=[l,...A],I=await av(t,_),q=[];let Z=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&q.push(I[S]),p){const re=E0e(i,o,k);q.push(I[re[0]],I[re[1]])}if(Z=[...Z,{placement:i,overflows:q}],!q.every(re=>re<=0)){var V,U;const re=(((V=s.flip)==null?void 0:V.index)||0)+1,se=O[re];if(se){var z;const Q=p==="alignment"?N!==El(se):!1,Y=((z=Z[0])==null?void 0:z.overflows[0])>0;if(!Q||Y)return{data:{index:re,overflows:Z},reset:{placement:se}}}let W=(U=Z.filter(Q=>Q.overflows[0]<=0).sort((Q,Y)=>Q.overflows[1]-Y.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(v){case"bestFit":{var H;const Q=(H=Z.filter(Y=>{if(T){const ne=El(Y.placement);return ne===N||ne==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ne=>ne>0).reduce((ne,J)=>ne+J,0)]).sort((Y,ne)=>Y[1]-ne[1])[0])==null?void 0:H[0];Q&&(W=Q);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function _F(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function jF(e){return S0e.some(t=>e[t]>=0)}const I0e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Il(e,t);switch(n){case"referenceHidden":{const s=await av(t,{...i,elementContext:"reference"}),o=_F(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:jF(o)}}}case"escaped":{const s=await av(t,{...i,altBoundary:!0}),o=_F(s,r.floating);return{data:{escapedOffsets:o,escaped:jF(o)}}}default:return{}}}}};async function D0e(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Dl(r),l=Dp(r),c=El(r)==="y",u=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,p=Il(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*f,y:g*u}:{x:g*u,y:v*f}}const L0e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await D0e(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},$0e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:S,y:N}=_;return{x:S,y:N}}},...c}=Il(e,t),u={x:r,y:n},f=await av(t,c),p=El(Dl(i)),g=FR(p);let v=u[g],w=u[p];if(s){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",N=v+f[_],C=v-f[S];v=KT(N,v,C)}if(o){const _=p==="y"?"top":"left",S=p==="y"?"bottom":"right",N=w+f[_],C=w-f[S];w=KT(N,w,C)}const y=l.fn({...t,[g]:v,[p]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:s,[p]:o}}}}}},F0e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Il(e,t),f={x:r,y:n},p=El(i),g=FR(p);let v=f[g],w=f[p];const y=Il(l,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=g==="y"?"height":"width",k=s.reference[g]-s.floating[C]+_.mainAxis,A=s.reference[g]+s.reference[C]-_.mainAxis;v<k?v=k:v>A&&(v=A)}if(u){var S,N;const C=g==="y"?"width":"height",k=["top","left"].includes(Dl(i)),A=s.reference[p]-s.floating[C]+(k&&((S=o.offset)==null?void 0:S[p])||0)+(k?0:_.crossAxis),T=s.reference[p]+s.reference[C]+(k?0:((N=o.offset)==null?void 0:N[p])||0)-(k?_.crossAxis:0);w<A?w=A:w>T&&(w=T)}return{[g]:v,[p]:w}}}},B0e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Il(e,t),f=await av(t,u),p=Dl(i),g=Dp(i),v=El(i)==="y",{width:w,height:y}=s.floating;let _,S;p==="top"||p==="bottom"?(_=p,S=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,_=g==="end"?"top":"bottom");const N=y-f.top-f.bottom,C=w-f.left-f.right,k=uu(y-f[_],N),A=uu(w-f[S],C),T=!t.middlewareData.shift;let O=k,I=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=N),T&&!g){const Z=Ns(f.left,0),V=Ns(f.right,0),U=Ns(f.top,0),z=Ns(f.bottom,0);v?I=w-2*(Z!==0||V!==0?Z+V:Ns(f.left,f.right)):O=y-2*(U!==0||z!==0?U+z:Ns(f.top,f.bottom))}await c({...t,availableWidth:I,availableHeight:O});const q=await o.getDimensions(l.floating);return w!==q.width||y!==q.height?{reset:{rects:!0}}:{}}}};function D_(){return typeof window<"u"}function Lp(e){return RK(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bo(e){var t;return(t=(RK(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RK(e){return D_()?e instanceof Node||e instanceof As(e).Node:!1}function Ka(e){return D_()?e instanceof Element||e instanceof As(e).Element:!1}function Oo(e){return D_()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function SF(e){return!D_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}function yy(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ga(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function z0e(e){return["table","td","th"].includes(Lp(e))}function L_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qR(e){const t=UR(),r=Ka(e)?Ga(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function q0e(e){let t=du(e);for(;Oo(t)&&!Kh(t);){if(qR(t))return t;if(L_(t))return null;t=du(t)}return null}function UR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kh(e){return["html","body","#document"].includes(Lp(e))}function Ga(e){return As(e).getComputedStyle(e)}function $_(e){return Ka(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function du(e){if(Lp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||SF(e)&&e.host||Bo(e);return SF(t)?t.host:t}function MK(e){const t=du(e);return Kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oo(t)&&yy(t)?t:MK(t)}function ov(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=MK(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=As(i);if(s){const l=ZT(o);return t.concat(o,o.visualViewport||[],yy(i)?i:[],l&&r?ov(l):[])}return t.concat(i,ov(i,[],r))}function ZT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function IK(e){const t=Ga(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Oo(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=Ub(r)!==s||Ub(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function VR(e){return Ka(e)?e:e.contextElement}function Mh(e){const t=VR(e);if(!Oo(t))return No(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=IK(t);let o=(s?Ub(r.width):r.width)/n,l=(s?Ub(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const U0e=No(0);function DK(e){const t=As(e);return!UR()||!t.visualViewport?U0e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V0e(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function Od(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=VR(e);let o=No(1);t&&(n?Ka(n)&&(o=Mh(n)):o=Mh(e));const l=V0e(s,r,n)?DK(s):No(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const g=As(s),v=n&&Ka(n)?As(n):n;let w=g,y=ZT(w);for(;y&&n&&v!==w;){const _=Mh(y),S=y.getBoundingClientRect(),N=Ga(y),C=S.left+(y.clientLeft+parseFloat(N.paddingLeft))*_.x,k=S.top+(y.clientTop+parseFloat(N.paddingTop))*_.y;c*=_.x,u*=_.y,f*=_.x,p*=_.y,c+=C,u+=k,w=As(y),y=ZT(w)}}return Wb({width:f,height:p,x:c,y:u})}function WR(e,t){const r=$_(e).scrollLeft;return t?t.left+r:Od(Bo(e)).left+r}function LK(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:WR(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function W0e(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=Bo(n),l=t?L_(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=No(1);const f=No(0),p=Oo(n);if((p||!p&&!s)&&((Lp(n)!=="body"||yy(o))&&(c=$_(n)),Oo(n))){const v=Od(n);u=Mh(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const g=o&&!p&&!s?LK(o,c,!0):No(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function H0e(e){return Array.from(e.getClientRects())}function K0e(e){const t=Bo(e),r=$_(e),n=e.ownerDocument.body,i=Ns(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ns(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+WR(e);const l=-r.scrollTop;return Ga(n).direction==="rtl"&&(o+=Ns(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function G0e(e,t){const r=As(e),n=Bo(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=UR();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function Z0e(e,t){const r=Od(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Oo(e)?Mh(e):No(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function NF(e,t,r){let n;if(t==="viewport")n=G0e(e,r);else if(t==="document")n=K0e(Bo(e));else if(Ka(t))n=Z0e(t,r);else{const i=DK(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Wb(n)}function $K(e,t){const r=du(e);return r===t||!Ka(r)||Kh(r)?!1:Ga(r).position==="fixed"||$K(r,t)}function Y0e(e,t){const r=t.get(e);if(r)return r;let n=ov(e,[],!1).filter(l=>Ka(l)&&Lp(l)!=="body"),i=null;const s=Ga(e).position==="fixed";let o=s?du(e):e;for(;Ka(o)&&!Kh(o);){const l=Ga(o),c=qR(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||yy(o)&&!c&&$K(e,o))?n=n.filter(f=>f!==o):i=l,o=du(o)}return t.set(e,n),n}function X0e(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?L_(t)?[]:Y0e(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const p=NF(t,f,i);return u.top=Ns(p.top,u.top),u.right=uu(p.right,u.right),u.bottom=uu(p.bottom,u.bottom),u.left=Ns(p.left,u.left),u},NF(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function J0e(e){const{width:t,height:r}=IK(e);return{width:t,height:r}}function Q0e(e,t,r){const n=Oo(t),i=Bo(t),s=r==="fixed",o=Od(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=No(0);function u(){c.x=WR(i)}if(n||!n&&!s)if((Lp(t)!=="body"||yy(i))&&(l=$_(t)),n){const v=Od(t,!0,s,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else i&&u();s&&!n&&i&&u();const f=i&&!n&&!s?LK(i,l):No(0),p=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function XS(e){return Ga(e).position==="static"}function CF(e,t){if(!Oo(e)||Ga(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bo(e)===r&&(r=r.ownerDocument.body),r}function FK(e,t){const r=As(e);if(L_(e))return r;if(!Oo(e)){let i=du(e);for(;i&&!Kh(i);){if(Ka(i)&&!XS(i))return i;i=du(i)}return r}let n=CF(e,t);for(;n&&z0e(n)&&XS(n);)n=CF(n,t);return n&&Kh(n)&&XS(n)&&!qR(n)?r:n||q0e(e)||r}const ebe=async function(e){const t=this.getOffsetParent||FK,r=this.getDimensions,n=await r(e.floating);return{reference:Q0e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tbe(e){return Ga(e).direction==="rtl"}const rbe={convertOffsetParentRelativeRectToViewportRelativeRect:W0e,getDocumentElement:Bo,getClippingRect:X0e,getOffsetParent:FK,getElementRects:ebe,getClientRects:H0e,getDimensions:J0e,getScale:Mh,isElement:Ka,isRTL:tbe};function BK(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nbe(e,t){let r=null,n;const i=Bo(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=u;if(l||t(),!g||!v)return;const w=C0(p),y=C0(i.clientWidth-(f+g)),_=C0(i.clientHeight-(p+v)),S=C0(f),C={rootMargin:-w+"px "+-y+"px "+-_+"px "+-S+"px",threshold:Ns(0,uu(1,c))||1};let k=!0;function A(T){const O=T[0].intersectionRatio;if(O!==c){if(!k)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!BK(u,e.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(A,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,C)}r.observe(e)}return o(!0),s}function xy(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=VR(e),f=i||s?[...u?ov(u):[],...ov(t)]:[];f.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const p=u&&l?nbe(u,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(S=>{let[N]=S;N&&N.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let w,y=c?Od(e):null;c&&_();function _(){const S=Od(e);y&&!BK(y,S)&&r(),y=S,w=requestAnimationFrame(_)}return r(),()=>{var S;f.forEach(N=>{i&&N.removeEventListener("scroll",r),s&&N.removeEventListener("resize",r)}),p?.(),(S=v)==null||S.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const ibe=L0e,sbe=$0e,abe=M0e,obe=B0e,lbe=I0e,EF=R0e,cbe=F0e,ube=(e,t,r)=>{const n=new Map,i={platform:rbe,...r},s={...i.platform,_c:n};return O0e(e,t,{...i,platform:s})};var lb=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Hb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Hb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function zK(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PF(e,t){const r=zK(e);return Math.round(t*r)/r}function JS(e){const t=x.useRef(e);return lb(()=>{t.current=e}),t}function by(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=x.useState(n);Hb(g,n)||v(n);const[w,y]=x.useState(null),[_,S]=x.useState(null),N=x.useCallback(Q=>{Q!==T.current&&(T.current=Q,y(Q))},[]),C=x.useCallback(Q=>{Q!==O.current&&(O.current=Q,S(Q))},[]),k=s||w,A=o||_,T=x.useRef(null),O=x.useRef(null),I=x.useRef(f),q=c!=null,Z=JS(c),V=JS(i),U=JS(u),z=x.useCallback(()=>{if(!T.current||!O.current)return;const Q={placement:t,strategy:r,middleware:g};V.current&&(Q.platform=V.current),ube(T.current,O.current,Q).then(Y=>{const ne={...Y,isPositioned:U.current!==!1};H.current&&!Hb(I.current,ne)&&(I.current=ne,Za.flushSync(()=>{p(ne)}))})},[g,t,r,V,U]);lb(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(Q=>({...Q,isPositioned:!1})))},[u]);const H=x.useRef(!1);lb(()=>(H.current=!0,()=>{H.current=!1}),[]),lb(()=>{if(k&&(T.current=k),A&&(O.current=A),k&&A){if(Z.current)return Z.current(k,A,z);z()}},[k,A,z,Z,q]);const re=x.useMemo(()=>({reference:T,floating:O,setReference:N,setFloating:C}),[N,C]),se=x.useMemo(()=>({reference:k,floating:A}),[k,A]),W=x.useMemo(()=>{const Q={position:r,left:0,top:0};if(!se.floating)return Q;const Y=PF(se.floating,f.x),ne=PF(se.floating,f.y);return l?{...Q,transform:"translate("+Y+"px, "+ne+"px)",...zK(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:ne}},[r,l,se.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:z,refs:re,elements:se,floatingStyles:W}),[f,z,re,se,W])}const dbe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?EF({element:n.current,padding:i}).fn(r):{}:n?EF({element:n,padding:i}).fn(r):{}}}},wy=(e,t)=>({...ibe(e),options:[e,t]}),_y=(e,t)=>({...sbe(e),options:[e,t]}),jy=(e,t)=>({...cbe(e),options:[e,t]}),Sy=(e,t)=>({...abe(e),options:[e,t]}),Ny=(e,t)=>({...obe(e),options:[e,t]}),Cy=(e,t)=>({...lbe(e),options:[e,t]}),Ey=(e,t)=>({...dbe(e),options:[e,t]});var fbe="Arrow",qK=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(er.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});qK.displayName=fbe;var hbe=qK,HR="Popper",[UK,VK]=Rr(HR),[pbe,WK]=UK(HR),HK=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(pbe,{scope:t,anchor:n,onAnchorChange:i,children:r})};HK.displayName=HR;var KK="PopperAnchor",GK=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=WK(KK,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(er.div,{...i,ref:l})});GK.displayName=KK;var KR="PopperContent",[mbe,gbe]=UK(KR),ZK=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=WK(KR,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[k,A]=x.useState(null),T=Zd(k),O=T?.width??0,I=T?.height??0,q=n+(s!=="center"?"-"+s:""),Z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:Z,boundary:V.filter(ybe),altBoundary:U},{refs:H,floatingStyles:re,placement:se,isPositioned:W,middlewareData:Q}=by({strategy:"fixed",placement:q,whileElementsMounted:(...ae)=>xy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[wy({mainAxis:i+I,alignmentAxis:o}),c&&_y({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?jy():void 0,...z}),c&&Sy({...z}),Ny({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:ee,height:G}=ge.reference,we=ae.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${ee}px`),we.setProperty("--radix-popper-anchor-height",`${G}px`)}}),k&&Ey({element:k,padding:l}),xbe({arrowWidth:O,arrowHeight:I}),g&&Cy({strategy:"referenceHidden",...z})]}),[Y,ne]=JK(se),J=fr(w);sr(()=>{W&&J?.()},[W,J]);const oe=Q.arrow?.x,be=Q.arrow?.y,Ce=Q.arrow?.centerOffset!==0,[De,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:W?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(mbe,{scope:r,placedSide:Y,onArrowChange:A,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(er.div,{"data-side":Y,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});ZK.displayName=KR;var YK="PopperArrow",vbe={top:"bottom",right:"left",bottom:"top",left:"right"},XK=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=gbe(YK,n),o=vbe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(hbe,{...i,ref:r,style:{...i.style,display:"block"}})})});XK.displayName=YK;function ybe(e){return e!==null}var xbe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=JK(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function JK(e){const[t,r="center"]=e.split("-");return[t,r]}var bbe=HK,wbe=GK,_be=ZK,jbe=XK,QS="rovingFocusGroup.onEntryFocus",Sbe={bubbles:!1,cancelable:!0},Py="RovingFocusGroup",[YT,QK,Nbe]=$R(Py),[Cbe,eG]=Rr(Py,[Nbe]),[Ebe,Pbe]=Cbe(Py),tG=x.forwardRef((e,t)=>a.jsx(YT.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(YT.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Tbe,{...e,ref:t})})}));tG.displayName=Py;var Tbe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=x.useRef(null),v=at(t,g),w=Rp(s),[y,_]=ns({prop:o,defaultProp:l??null,onChange:c,caller:Py}),[S,N]=x.useState(!1),C=fr(u),k=QK(r),A=x.useRef(!1),[T,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(QS,C),()=>I.removeEventListener(QS,C)},[C]),a.jsx(Ebe,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:a.jsx(er.div,{tabIndex:S||T===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{A.current=!0}),onFocus:Ue(e.onFocus,I=>{const q=!A.current;if(I.target===I.currentTarget&&q&&!S){const Z=new CustomEvent(QS,Sbe);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const V=k().filter(se=>se.focusable),U=V.find(se=>se.active),z=V.find(se=>se.id===y),re=[U,z,...V].filter(Boolean).map(se=>se.ref.current);iG(re,f)}}A.current=!1}),onBlur:Ue(e.onBlur,()=>N(!1))})})}),rG="RovingFocusGroupItem",nG=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=ts(),u=s||c,f=Pbe(rG,r),p=f.currentTabStopId===u,g=QK(r),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:y}=f;return x.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),a.jsx(YT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(er.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ue(e.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:Ue(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ue(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=Obe(_,f.orientation,f.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(k=>k.focusable).map(k=>k.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const k=C.indexOf(_.currentTarget);C=f.loop?Rbe(C,k+1):C.slice(k+1)}setTimeout(()=>iG(C))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});nG.displayName=rG;var Abe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kbe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Obe(e,t,r){const n=kbe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Abe[n]}function iG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Rbe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Mbe=tG,Ibe=nG,XT=["Enter"," "],Dbe=["ArrowDown","PageUp","Home"],sG=["ArrowUp","PageDown","End"],Lbe=[...Dbe,...sG],$be={ltr:[...XT,"ArrowRight"],rtl:[...XT,"ArrowLeft"]},Fbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ty="Menu",[lv,Bbe,zbe]=$R(Ty),[Yd,aG]=Rr(Ty,[zbe,VK,eG]),F_=VK(),oG=eG(),[qbe,Xd]=Yd(Ty),[Ube,Ay]=Yd(Ty),lG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=e,l=F_(t),[c,u]=x.useState(null),f=x.useRef(!1),p=fr(s),g=Rp(i);return x.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(bbe,{...l,children:a.jsx(qbe,{scope:t,open:r,onOpenChange:p,content:c,onContentChange:u,children:a.jsx(Ube,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};lG.displayName=Ty;var Vbe="MenuAnchor",GR=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=F_(r);return a.jsx(wbe,{...i,...n,ref:t})});GR.displayName=Vbe;var ZR="MenuPortal",[Wbe,cG]=Yd(ZR,{forceMount:void 0}),uG=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=Xd(ZR,t);return a.jsx(Wbe,{scope:t,forceMount:r,children:a.jsx(is,{present:r||s.open,children:a.jsx(k_,{asChild:!0,container:i,children:n})})})};uG.displayName=ZR;var sa="MenuContent",[Hbe,YR]=Yd(sa),dG=x.forwardRef((e,t)=>{const r=cG(sa,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=Xd(sa,e.__scopeMenu),o=Ay(sa,e.__scopeMenu);return a.jsx(lv.Provider,{scope:e.__scopeMenu,children:a.jsx(is,{present:n||s.open,children:a.jsx(lv.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(Kbe,{...i,ref:t}):a.jsx(Gbe,{...i,ref:t})})})})}),Kbe=x.forwardRef((e,t)=>{const r=Xd(sa,e.__scopeMenu),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return R_(s)},[]),a.jsx(XR,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Gbe=x.forwardRef((e,t)=>{const r=Xd(sa,e.__scopeMenu);return a.jsx(XR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Zbe=Hh("MenuContent.ScrollLock"),XR=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,disableOutsideScroll:w,...y}=e,_=Xd(sa,r),S=Ay(sa,r),N=F_(r),C=oG(r),k=Bbe(r),[A,T]=x.useState(null),O=x.useRef(null),I=at(t,O,_.onContentChange),q=x.useRef(0),Z=x.useRef(""),V=x.useRef(0),U=x.useRef(null),z=x.useRef("right"),H=x.useRef(0),re=w?vy:x.Fragment,se=w?{as:Zbe,allowPinchZoom:!0}:void 0,W=Y=>{const ne=Z.current+Y,J=k().filter(ae=>!ae.disabled),oe=document.activeElement,be=J.find(ae=>ae.ref.current===oe)?.textValue,Ce=J.map(ae=>ae.textValue),De=owe(Ce,ne,be),ce=J.find(ae=>ae.textValue===De)?.ref.current;(function ae(ge){Z.current=ge,window.clearTimeout(q.current),ge!==""&&(q.current=window.setTimeout(()=>ae(""),1e3))})(ne),ce&&setTimeout(()=>ce.focus())};x.useEffect(()=>()=>window.clearTimeout(q.current),[]),_R();const Q=x.useCallback(Y=>z.current===U.current?.side&&cwe(Y,U.current?.area),[]);return a.jsx(Hbe,{scope:r,searchRef:Z,onItemEnter:x.useCallback(Y=>{Q(Y)&&Y.preventDefault()},[Q]),onItemLeave:x.useCallback(Y=>{Q(Y)||(O.current?.focus(),T(null))},[Q]),onTriggerLeave:x.useCallback(Y=>{Q(Y)&&Y.preventDefault()},[Q]),pointerGraceTimerRef:V,onPointerGraceIntentChange:x.useCallback(Y=>{U.current=Y},[]),children:a.jsx(re,{...se,children:a.jsx(wR,{asChild:!0,trapped:i,onMountAutoFocus:Ue(s,Y=>{Y.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(A_,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,children:a.jsx(Mbe,{asChild:!0,...C,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:T,onEntryFocus:Ue(c,Y=>{S.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(_be,{role:"menu","aria-orientation":"vertical","data-state":EG(_.open),"data-radix-menu-content":"",dir:S.dir,...N,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:Ue(y.onKeyDown,Y=>{const J=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,oe=Y.ctrlKey||Y.altKey||Y.metaKey,be=Y.key.length===1;J&&(Y.key==="Tab"&&Y.preventDefault(),!oe&&be&&W(Y.key));const Ce=O.current;if(Y.target!==Ce||!Lbe.includes(Y.key))return;Y.preventDefault();const ce=k().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);sG.includes(Y.key)&&ce.reverse(),swe(ce)}),onBlur:Ue(e.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(q.current),Z.current="")}),onPointerMove:Ue(e.onPointerMove,cv(Y=>{const ne=Y.target,J=H.current!==Y.clientX;if(Y.currentTarget.contains(ne)&&J){const oe=Y.clientX>H.current?"right":"left";z.current=oe,H.current=Y.clientX}}))})})})})})})});dG.displayName=sa;var Ybe="MenuGroup",JR=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{role:"group",...n,ref:t})});JR.displayName=Ybe;var Xbe="MenuLabel",fG=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});fG.displayName=Xbe;var Kb="MenuItem",TF="menu.itemSelect",B_=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=x.useRef(null),o=Ay(Kb,e.__scopeMenu),l=YR(Kb,e.__scopeMenu),c=at(t,s),u=x.useRef(!1),f=()=>{const p=s.current;if(!r&&p){const g=new CustomEvent(TF,{bubbles:!0,cancelable:!0});p.addEventListener(TF,v=>n?.(v),{once:!0}),cR(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(hG,{...i,ref:c,disabled:r,onClick:Ue(e.onClick,f),onPointerDown:p=>{e.onPointerDown?.(p),u.current=!0},onPointerUp:Ue(e.onPointerUp,p=>{u.current||p.currentTarget?.click()}),onKeyDown:Ue(e.onKeyDown,p=>{const g=l.searchRef.current!=="";r||g&&p.key===" "||XT.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});B_.displayName=Kb;var hG=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,o=YR(Kb,r),l=oG(r),c=x.useRef(null),u=at(t,c),[f,p]=x.useState(!1),[g,v]=x.useState("");return x.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[s.children]),a.jsx(lv.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:a.jsx(Ibe,{asChild:!0,...l,focusable:!n,children:a.jsx(er.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ue(e.onPointerMove,cv(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,cv(w=>o.onItemLeave(w))),onFocus:Ue(e.onFocus,()=>p(!0)),onBlur:Ue(e.onBlur,()=>p(!1))})})})}),Jbe="MenuCheckboxItem",pG=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return a.jsx(xG,{scope:e.__scopeMenu,checked:r,children:a.jsx(B_,{role:"menuitemcheckbox","aria-checked":Gb(r)?"mixed":r,...i,ref:t,"data-state":eM(r),onSelect:Ue(i.onSelect,()=>n?.(Gb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});pG.displayName=Jbe;var mG="MenuRadioGroup",[Qbe,ewe]=Yd(mG,{value:void 0,onValueChange:()=>{}}),gG=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=fr(n);return a.jsx(Qbe,{scope:e.__scopeMenu,value:r,onValueChange:s,children:a.jsx(JR,{...i,ref:t})})});gG.displayName=mG;var vG="MenuRadioItem",yG=x.forwardRef((e,t)=>{const{value:r,...n}=e,i=ewe(vG,e.__scopeMenu),s=r===i.value;return a.jsx(xG,{scope:e.__scopeMenu,checked:s,children:a.jsx(B_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":eM(s),onSelect:Ue(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});yG.displayName=vG;var QR="MenuItemIndicator",[xG,twe]=Yd(QR,{checked:!1}),bG=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=twe(QR,r);return a.jsx(is,{present:n||Gb(s.checked)||s.checked===!0,children:a.jsx(er.span,{...i,ref:t,"data-state":eM(s.checked)})})});bG.displayName=QR;var rwe="MenuSeparator",wG=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});wG.displayName=rwe;var nwe="MenuArrow",_G=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=F_(r);return a.jsx(jbe,{...i,...n,ref:t})});_G.displayName=nwe;var iwe="MenuSub",[vqe,jG]=Yd(iwe),_g="MenuSubTrigger",SG=x.forwardRef((e,t)=>{const r=Xd(_g,e.__scopeMenu),n=Ay(_g,e.__scopeMenu),i=jG(_g,e.__scopeMenu),s=YR(_g,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),a.jsx(GR,{asChild:!0,...u,children:a.jsx(hG,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":EG(r.open),...e,ref:Is(t,i.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,cv(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ue(e.onPointerLeave,cv(p=>{f();const g=r.content?.getBoundingClientRect();if(g){const v=r.content?.dataset.side,w=v==="right",y=w?-5:5,_=g[w?"left":"right"],S=g[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:_,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:_,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,p=>{const g=s.searchRef.current!=="";e.disabled||g&&p.key===" "||$be[n.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});SG.displayName=_g;var NG="MenuSubContent",CG=x.forwardRef((e,t)=>{const r=cG(sa,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=Xd(sa,e.__scopeMenu),o=Ay(sa,e.__scopeMenu),l=jG(NG,e.__scopeMenu),c=x.useRef(null),u=at(t,c);return a.jsx(lv.Provider,{scope:e.__scopeMenu,children:a.jsx(is,{present:n||s.open,children:a.jsx(lv.Slot,{scope:e.__scopeMenu,children:a.jsx(XR,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ue(e.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),g=Fbe[o.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});CG.displayName=NG;function EG(e){return e?"open":"closed"}function Gb(e){return e==="indeterminate"}function eM(e){return Gb(e)?"indeterminate":e?"checked":"unchecked"}function swe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function awe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function owe(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=awe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function lwe(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function cwe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return lwe(r,t)}function cv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var uwe=lG,dwe=GR,fwe=uG,hwe=dG,pwe=JR,mwe=fG,gwe=B_,vwe=pG,ywe=gG,xwe=yG,bwe=bG,wwe=wG,_we=_G,jwe=SG,Swe=CG,z_="DropdownMenu",[Nwe,yqe]=Rr(z_,[aG]),Fi=aG(),[Cwe,PG]=Nwe(z_),TG=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=Fi(t),u=x.useRef(null),[f,p]=ns({prop:i,defaultProp:s??!1,onChange:o,caller:z_});return a.jsx(Cwe,{scope:t,triggerId:ts(),triggerRef:u,contentId:ts(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:l,children:a.jsx(uwe,{...c,open:f,onOpenChange:p,dir:n,modal:l,children:r})})};TG.displayName=z_;var AG="DropdownMenuTrigger",kG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=PG(AG,r),o=Fi(r);return a.jsx(dwe,{asChild:!0,...o,children:a.jsx(er.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Is(t,s.triggerRef),onPointerDown:Ue(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ue(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});kG.displayName=AG;var Ewe="DropdownMenuPortal",OG=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Fi(t);return a.jsx(fwe,{...n,...r})};OG.displayName=Ewe;var RG="DropdownMenuContent",MG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=PG(RG,r),s=Fi(r),o=x.useRef(!1);return a.jsx(hwe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MG.displayName=RG;var Pwe="DropdownMenuGroup",Twe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(pwe,{...i,...n,ref:t})});Twe.displayName=Pwe;var Awe="DropdownMenuLabel",IG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(mwe,{...i,...n,ref:t})});IG.displayName=Awe;var kwe="DropdownMenuItem",DG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(gwe,{...i,...n,ref:t})});DG.displayName=kwe;var Owe="DropdownMenuCheckboxItem",LG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(vwe,{...i,...n,ref:t})});LG.displayName=Owe;var Rwe="DropdownMenuRadioGroup",Mwe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(ywe,{...i,...n,ref:t})});Mwe.displayName=Rwe;var Iwe="DropdownMenuRadioItem",$G=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(xwe,{...i,...n,ref:t})});$G.displayName=Iwe;var Dwe="DropdownMenuItemIndicator",FG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(bwe,{...i,...n,ref:t})});FG.displayName=Dwe;var Lwe="DropdownMenuSeparator",BG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(wwe,{...i,...n,ref:t})});BG.displayName=Lwe;var $we="DropdownMenuArrow",Fwe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(_we,{...i,...n,ref:t})});Fwe.displayName=$we;var Bwe="DropdownMenuSubTrigger",zG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(jwe,{...i,...n,ref:t})});zG.displayName=Bwe;var zwe="DropdownMenuSubContent",qG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return a.jsx(Swe,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qG.displayName=zwe;var qwe=TG,Uwe=kG,Vwe=OG,UG=MG,VG=IG,WG=DG,HG=LG,KG=$G,GG=FG,ZG=BG,YG=zG,XG=qG;const ky=qwe,Oy=Uwe,Wwe=x.forwardRef(({className:e,inset:t,children:r,...n},i)=>a.jsxs(YG,{ref:i,className:Ke("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Va,{className:"ml-auto h-4 w-4"})]}));Wwe.displayName=YG.displayName;const Hwe=x.forwardRef(({className:e,...t},r)=>a.jsx(XG,{ref:r,className:Ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Hwe.displayName=XG.displayName;const $p=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(Vwe,{children:a.jsx(UG,{ref:n,sideOffset:t,className:Ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));$p.displayName=UG.displayName;const _n=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(WG,{ref:n,className:Ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));_n.displayName=WG.displayName;const Kwe=x.forwardRef(({className:e,children:t,checked:r,...n},i)=>a.jsxs(HG,{ref:i,className:Ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(GG,{children:a.jsx(iv,{className:"h-4 w-4"})})}),t]}));Kwe.displayName=HG.displayName;const Gwe=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(KG,{ref:n,className:Ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(GG,{children:a.jsx($ue,{className:"h-2 w-2 fill-current"})})}),t]}));Gwe.displayName=KG.displayName;const Zwe=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(VG,{ref:n,className:Ke("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Zwe.displayName=VG.displayName;const Fp=x.forwardRef(({className:e,...t},r)=>a.jsx(ZG,{ref:r,className:Ke("-mx-1 my-1 h-px bg-muted",e),...t}));Fp.displayName=ZG.displayName;const Ywe=x.createContext({}),q_=()=>{const e=x.useContext(Ywe),t=x.useContext(JG),{getFieldState:r,formState:n}=Eve(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},JG=x.createContext({}),Xwe=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return a.jsx(JG.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:Ke("space-y-2",e),...t})})});Xwe.displayName="FormItem";const Jwe=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=q_();return a.jsx(rt,{ref:r,className:Ke(n&&"text-destructive",e),htmlFor:i,...t})});Jwe.displayName="FormLabel";const Qwe=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=q_();return a.jsx($9,{ref:t,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});Qwe.displayName="FormControl";const e_e=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=q_();return a.jsx("p",{ref:r,id:n,className:Ke("text-sm text-muted-foreground",e),...t})});e_e.displayName="FormDescription";const t_e=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:s}=q_(),o=i?String(i?.message):t;return o?a.jsx("p",{ref:n,id:s,className:Ke("text-sm font-medium text-destructive",e),...r,children:o}):null});t_e.displayName="FormMessage";function r_e(e){const t=n_e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(s_e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function n_e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=o_e(i),l=a_e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var i_e=Symbol("radix.slottable");function s_e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===i_e}function a_e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function o_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var l_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bp=l_e.reduce((e,t)=>{const r=r_e(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function c_e(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var u_e="Arrow",QG=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Bp.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});QG.displayName=u_e;var d_e=QG,eZ="Popper",[tZ,rZ]=Rr(eZ),[xqe,nZ]=tZ(eZ),iZ="PopperAnchor",sZ=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=nZ(iZ,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Bp.div,{...i,ref:l})});sZ.displayName=iZ;var tM="PopperContent",[f_e,h_e]=tZ(tM),aZ=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=nZ(tM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[k,A]=x.useState(null),T=Zd(k),O=T?.width??0,I=T?.height??0,q=n+(s!=="center"?"-"+s:""),Z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:Z,boundary:V.filter(m_e),altBoundary:U},{refs:H,floatingStyles:re,placement:se,isPositioned:W,middlewareData:Q}=by({strategy:"fixed",placement:q,whileElementsMounted:(...ae)=>xy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[wy({mainAxis:i+I,alignmentAxis:o}),c&&_y({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?jy():void 0,...z}),c&&Sy({...z}),Ny({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:ee,height:G}=ge.reference,we=ae.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${ee}px`),we.setProperty("--radix-popper-anchor-height",`${G}px`)}}),k&&Ey({element:k,padding:l}),g_e({arrowWidth:O,arrowHeight:I}),g&&Cy({strategy:"referenceHidden",...z})]}),[Y,ne]=cZ(se),J=fr(w);sr(()=>{W&&J?.()},[W,J]);const oe=Q.arrow?.x,be=Q.arrow?.y,Ce=Q.arrow?.centerOffset!==0,[De,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:W?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(f_e,{scope:r,placedSide:Y,onArrowChange:A,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(Bp.div,{"data-side":Y,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});aZ.displayName=tM;var oZ="PopperArrow",p_e={top:"bottom",right:"left",bottom:"top",left:"right"},lZ=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=h_e(oZ,n),o=p_e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(d_e,{...i,ref:r,style:{...i.style,display:"block"}})})});lZ.displayName=oZ;function m_e(e){return e!==null}var g_e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=cZ(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function cZ(e){const[t,r="center"]=e.split("-");return[t,r]}var v_e=sZ,y_e=aZ,x_e=lZ,b_e="DismissableLayer",JT="dismissableLayer.update",w_e="dismissableLayer.pointerDownOutside",__e="dismissableLayer.focusOutside",AF,uZ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dZ=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(uZ),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=S,A=N_e(O=>{const I=O.target,q=[...u.branches].some(Z=>Z.contains(I));!k||q||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),T=C_e(O=>{const I=O.target;[...u.branches].some(Z=>Z.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return gy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(AF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),kF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=AF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),kF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(JT,O),()=>document.removeEventListener(JT,O)},[]),a.jsx(Bp.div,{...c,ref:w,style:{pointerEvents:C?k?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,A.onPointerDownCapture)})});dZ.displayName=b_e;var j_e="DismissableLayerBranch",S_e=x.forwardRef((e,t)=>{const r=x.useContext(uZ),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Bp.div,{...e,ref:i})});S_e.displayName=j_e;function N_e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){fZ(w_e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function C_e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&fZ(__e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kF(){const e=new CustomEvent(JT);document.dispatchEvent(e)}function fZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?c_e(i,s):i.dispatchEvent(s)}var eN,hZ="HoverCard",[pZ,bqe]=Rr(hZ,[rZ]),rM=rZ(),[wqe,nM]=pZ(hZ),mZ="HoverCardTrigger",E_e=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,i=nM(mZ,r),s=rM(r);return a.jsx(v_e,{asChild:!0,...s,children:a.jsx(Bp.a,{"data-state":i.open?"open":"closed",...n,ref:t,onPointerEnter:Ue(e.onPointerEnter,Yb(i.onOpen)),onPointerLeave:Ue(e.onPointerLeave,Yb(i.onClose)),onFocus:Ue(e.onFocus,i.onOpen),onBlur:Ue(e.onBlur,i.onClose),onTouchStart:Ue(e.onTouchStart,o=>o.preventDefault())})})});E_e.displayName=mZ;var P_e="HoverCardPortal",[_qe,T_e]=pZ(P_e,{forceMount:void 0}),Zb="HoverCardContent",gZ=x.forwardRef((e,t)=>{const r=T_e(Zb,e.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=e,s=nM(Zb,e.__scopeHoverCard);return a.jsx(is,{present:n||s.open,children:a.jsx(A_e,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Ue(e.onPointerEnter,Yb(s.onOpen)),onPointerLeave:Ue(e.onPointerLeave,Yb(s.onClose)),ref:t})})});gZ.displayName=Zb;var A_e=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...l}=e,c=nM(Zb,r),u=rM(r),f=x.useRef(null),p=at(t,f),[g,v]=x.useState(!1);return x.useEffect(()=>{if(g){const w=document.body;return eN=w.style.userSelect||w.style.webkitUserSelect,w.style.userSelect="none",w.style.webkitUserSelect="none",()=>{w.style.userSelect=eN,w.style.webkitUserSelect=eN}}},[g]),x.useEffect(()=>{if(f.current){const w=()=>{v(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",w),()=>{document.removeEventListener("pointerup",w),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),x.useEffect(()=>{f.current&&R_e(f.current).forEach(y=>y.setAttribute("tabindex","-1"))}),a.jsx(dZ,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:Ue(s,w=>{w.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(y_e,{...u,...l,onPointerDown:Ue(l.onPointerDown,w=>{w.currentTarget.contains(w.target)&&v(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:p,style:{...l.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),k_e="HoverCardArrow",O_e=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,i=rM(r);return a.jsx(x_e,{...i,...n,ref:t})});O_e.displayName=k_e;function Yb(e){return t=>t.pointerType==="touch"?void 0:e()}function R_e(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t}var vZ=gZ;const M_e=X.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>a.jsx(vZ,{ref:i,align:t,sideOffset:r,className:Ke("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));M_e.displayName=vZ.displayName;function eu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function yZ(e){const t=I_e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(L_e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function I_e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=F_e(i),l=$_e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D_e=Symbol("radix.slottable");function L_e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D_e}function $_e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function F_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var B_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vl=B_e.reduce((e,t)=>{const r=yZ(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function z_e(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var q_e="DismissableLayer",QT="dismissableLayer.update",U_e="dismissableLayer.pointerDownOutside",V_e="dismissableLayer.focusOutside",OF,xZ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bZ=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(xZ),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=S,A=K_e(O=>{const I=O.target,q=[...u.branches].some(Z=>Z.contains(I));!k||q||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),T=G_e(O=>{const I=O.target;[...u.branches].some(Z=>Z.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return gy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(OF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),RF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=OF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),RF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(QT,O),()=>document.removeEventListener(QT,O)},[]),a.jsx(Vl.div,{...c,ref:w,style:{pointerEvents:C?k?"auto":"none":void 0,...e.style},onFocusCapture:eu(e.onFocusCapture,T.onFocusCapture),onBlurCapture:eu(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:eu(e.onPointerDownCapture,A.onPointerDownCapture)})});bZ.displayName=q_e;var W_e="DismissableLayerBranch",H_e=x.forwardRef((e,t)=>{const r=x.useContext(xZ),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Vl.div,{...e,ref:i})});H_e.displayName=W_e;function K_e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){wZ(U_e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function G_e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&wZ(V_e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function RF(){const e=new CustomEvent(QT);document.dispatchEvent(e)}function wZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?z_e(i,s):i.dispatchEvent(s)}var tN=0;function Z_e(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MF()),document.body.insertAdjacentElement("beforeend",e[1]??MF()),tN++,()=>{tN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tN--}},[])}function MF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rN="focusScope.autoFocusOnMount",nN="focusScope.autoFocusOnUnmount",IF={bubbles:!1,cancelable:!0},Y_e="FocusScope",_Z=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=fr(i),f=fr(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const k=C.target;l.contains(k)?p.current=k:$c(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const k=C.relatedTarget;k!==null&&(l.contains(k)||$c(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&$c(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){LF.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(rN,IF);l.addEventListener(rN,u),l.dispatchEvent(S),S.defaultPrevented||(X_e(r1e(jZ(l)),{select:!0}),document.activeElement===y&&$c(l))}return()=>{l.removeEventListener(rN,u),setTimeout(()=>{const S=new CustomEvent(nN,IF);l.addEventListener(nN,f),l.dispatchEvent(S),S.defaultPrevented||$c(y??document.body,{select:!0}),l.removeEventListener(nN,f),LF.remove(v)},0)}}},[l,u,f,v]);const w=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,k]=J_e(N);C&&k?!y.shiftKey&&S===k?(y.preventDefault(),r&&$c(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&$c(k,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(Vl.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});_Z.displayName=Y_e;function X_e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($c(n,{select:t}),document.activeElement!==r)return}function J_e(e){const t=jZ(e),r=DF(t,e),n=DF(t.reverse(),e);return[r,n]}function jZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function DF(e,t){for(const r of e)if(!Q_e(r,{upTo:t}))return r}function Q_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function e1e(e){return e instanceof HTMLInputElement&&"select"in e}function $c(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&e1e(e)&&t&&e.select()}}var LF=t1e();function t1e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=$F(e,t),e.unshift(t)},remove(t){e=$F(e,t),e[0]?.resume()}}}function $F(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function r1e(e){return e.filter(t=>t.tagName!=="A")}var n1e="Arrow",SZ=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Vl.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});SZ.displayName=n1e;var i1e=SZ,NZ="Popper",[CZ,EZ]=Rr(NZ),[jqe,PZ]=CZ(NZ),TZ="PopperAnchor",AZ=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=PZ(TZ,r),o=x.useRef(null),l=at(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(Vl.div,{...i,ref:l})});AZ.displayName=TZ;var iM="PopperContent",[s1e,a1e]=CZ(iM),kZ=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=PZ(iM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[k,A]=x.useState(null),T=Zd(k),O=T?.width??0,I=T?.height??0,q=n+(s!=="center"?"-"+s:""),Z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:Z,boundary:V.filter(l1e),altBoundary:U},{refs:H,floatingStyles:re,placement:se,isPositioned:W,middlewareData:Q}=by({strategy:"fixed",placement:q,whileElementsMounted:(...ae)=>xy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[wy({mainAxis:i+I,alignmentAxis:o}),c&&_y({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?jy():void 0,...z}),c&&Sy({...z}),Ny({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:ee,height:G}=ge.reference,we=ae.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${ee}px`),we.setProperty("--radix-popper-anchor-height",`${G}px`)}}),k&&Ey({element:k,padding:l}),c1e({arrowWidth:O,arrowHeight:I}),g&&Cy({strategy:"referenceHidden",...z})]}),[Y,ne]=MZ(se),J=fr(w);sr(()=>{W&&J?.()},[W,J]);const oe=Q.arrow?.x,be=Q.arrow?.y,Ce=Q.arrow?.centerOffset!==0,[De,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:W?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(s1e,{scope:r,placedSide:Y,onArrowChange:A,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(Vl.div,{"data-side":Y,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});kZ.displayName=iM;var OZ="PopperArrow",o1e={top:"bottom",right:"left",bottom:"top",left:"right"},RZ=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=a1e(OZ,n),o=o1e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(i1e,{...i,ref:r,style:{...i.style,display:"block"}})})});RZ.displayName=OZ;function l1e(e){return e!==null}var c1e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=MZ(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function MZ(e){const[t,r="center"]=e.split("-");return[t,r]}var IZ=AZ,u1e=kZ,d1e=RZ,f1e="Portal",DZ=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);sr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?r_.createPortal(a.jsx(Vl.div,{...n,ref:t}),o):null});DZ.displayName=f1e;function h1e(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var sM=e=>{const{present:t,children:r}=e,n=p1e(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=at(n.ref,m1e(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};sM.displayName="Presence";function p1e(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=h1e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=E0(n.current);s.current=l==="mounted"?u:"none"},[l]),sr(()=>{const u=n.current,f=i.current;if(f!==e){const g=s.current,v=E0(u);e?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),sr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=v=>{const y=E0(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(c("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=v=>{v.target===t&&(s.current=E0(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function E0(e){return e?.animationName||"none"}function m1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var LZ="Popover",[$Z,Sqe]=Rr(LZ,[EZ]),U_=EZ(),[Nqe,gu]=$Z(LZ),FZ="PopoverAnchor",g1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=gu(FZ,r),s=U_(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return x.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(IZ,{...s,...n,ref:t})});g1e.displayName=FZ;var BZ="PopoverTrigger",v1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=gu(BZ,r),s=U_(r),o=at(t,i.triggerRef),l=a.jsx(Vl.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":WZ(i.open),...n,ref:o,onClick:eu(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(IZ,{asChild:!0,...s,children:l})});v1e.displayName=BZ;var aM="PopoverPortal",[y1e,x1e]=$Z(aM,{forceMount:void 0}),zZ=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=gu(aM,t);return a.jsx(y1e,{scope:t,forceMount:r,children:a.jsx(sM,{present:r||s.open,children:a.jsx(DZ,{asChild:!0,container:i,children:n})})})};zZ.displayName=aM;var Gh="PopoverContent",qZ=x.forwardRef((e,t)=>{const r=x1e(Gh,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=gu(Gh,e.__scopePopover);return a.jsx(sM,{present:n||s.open,children:s.modal?a.jsx(w1e,{...i,ref:t}):a.jsx(_1e,{...i,ref:t})})});qZ.displayName=Gh;var b1e=yZ("PopoverContent.RemoveScroll"),w1e=x.forwardRef((e,t)=>{const r=gu(Gh,e.__scopePopover),n=x.useRef(null),i=at(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return R_(o)},[]),a.jsx(vy,{as:b1e,allowPinchZoom:!0,children:a.jsx(UZ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:eu(e.onCloseAutoFocus,o=>{o.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:eu(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:eu(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),_1e=x.forwardRef((e,t)=>{const r=gu(Gh,e.__scopePopover),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(UZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),UZ=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...p}=e,g=gu(Gh,r),v=U_(r);return Z_e(),a.jsx(_Z,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(bZ,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:a.jsx(u1e,{"data-state":WZ(g.open),role:"dialog",id:g.contentId,...v,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VZ="PopoverClose",j1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=gu(VZ,r);return a.jsx(Vl.button,{type:"button",...n,ref:t,onClick:eu(e.onClick,()=>i.onOpenChange(!1))})});j1e.displayName=VZ;var S1e="PopoverArrow",N1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=U_(r);return a.jsx(d1e,{...i,...n,ref:t})});N1e.displayName=S1e;function WZ(e){return e?"open":"closed"}var C1e=zZ,HZ=qZ;const E1e=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>a.jsx(C1e,{children:a.jsx(HZ,{ref:i,align:t,sideOffset:r,className:Ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));E1e.displayName=HZ.displayName;const P1e=({currentPage:e,totalPages:t,onPageChange:r,hasNextPage:n,hasPrevPage:i,isLoading:s=!1})=>{const o=()=>{const c=[],u=[];for(let f=Math.max(2,e-2);f<=Math.min(t-1,e+2);f++)c.push(f);return e-2>2?u.push(1,"..."):u.push(1),u.push(...c),e+2<t-1?u.push("...",t):u.push(t),u};return t<=1?null:a.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:!i||s,className:"flex items-center space-x-1",children:[a.jsx(Ua,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Précédent"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:o().map((l,c)=>a.jsx(X.Fragment,{children:l==="..."?a.jsx(Bue,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(ue,{variant:e===l?"default":"outline",size:"sm",onClick:()=>r(l),disabled:s,className:"w-8 h-8 p-0",children:l})},c))}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:!n||s,className:"flex items-center space-x-1",children:[a.jsx("span",{className:"hidden sm:inline",children:"Suivant"}),a.jsx(Va,{className:"h-4 w-4"})]})]})},T1e=x.forwardRef(({className:e="",...t},r)=>a.jsx("div",{className:`grid gap-2 ${e}`,ref:r,...t}));T1e.displayName="RadioGroup";const A1e=x.forwardRef(({className:e="",...t},r)=>a.jsx("input",{type:"radio",className:`h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${e}`,ref:r,...t}));A1e.displayName="RadioGroupItem";function FF(e,[t,r]){return Math.min(r,Math.max(t,e))}function Xb(e){const t=k1e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(R1e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function k1e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=I1e(i),l=M1e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O1e=Symbol("radix.slottable");function R1e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O1e}function M1e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function I1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function D1e(e){const t=e+"CollectionProvider",[r,n]=Rr(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=X.useRef(null),C=X.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=Xb(l),u=X.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),k=at(_,C.collectionRef);return a.jsx(c,{ref:k,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=Xb(f),v=X.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,k=X.useRef(null),A=at(_,k),T=s(f,S);return X.useEffect(()=>(T.itemMap.set(k,{ref:k,...C}),()=>void T.itemMap.delete(k))),a.jsx(g,{[p]:"",ref:A,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return X.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((T,O)=>C.indexOf(T.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}var L1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pn=L1e.reduce((e,t)=>{const r=Xb(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $1e(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var F1e="DismissableLayer",eA="dismissableLayer.update",B1e="dismissableLayer.pointerDownOutside",z1e="dismissableLayer.focusOutside",BF,KZ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GZ=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(KZ),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=S,A=V1e(O=>{const I=O.target,q=[...u.branches].some(Z=>Z.contains(I));!k||q||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),T=W1e(O=>{const I=O.target;[...u.branches].some(Z=>Z.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return gy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(BF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),zF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=BF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),zF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(eA,O),()=>document.removeEventListener(eA,O)},[]),a.jsx(pn.div,{...c,ref:w,style:{pointerEvents:C?k?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,A.onPointerDownCapture)})});GZ.displayName=F1e;var q1e="DismissableLayerBranch",U1e=x.forwardRef((e,t)=>{const r=x.useContext(KZ),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(pn.div,{...e,ref:i})});U1e.displayName=q1e;function V1e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){ZZ(B1e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function W1e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&ZZ(z1e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zF(){const e=new CustomEvent(eA);document.dispatchEvent(e)}function ZZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?$1e(i,s):i.dispatchEvent(s)}var iN="focusScope.autoFocusOnMount",sN="focusScope.autoFocusOnUnmount",qF={bubbles:!1,cancelable:!0},H1e="FocusScope",YZ=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=fr(i),f=fr(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const k=C.target;l.contains(k)?p.current=k:Fc(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const k=C.relatedTarget;k!==null&&(l.contains(k)||Fc(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&Fc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){VF.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(iN,qF);l.addEventListener(iN,u),l.dispatchEvent(S),S.defaultPrevented||(K1e(J1e(XZ(l)),{select:!0}),document.activeElement===y&&Fc(l))}return()=>{l.removeEventListener(iN,u),setTimeout(()=>{const S=new CustomEvent(sN,qF);l.addEventListener(sN,f),l.dispatchEvent(S),S.defaultPrevented||Fc(y??document.body,{select:!0}),l.removeEventListener(sN,f),VF.remove(v)},0)}}},[l,u,f,v]);const w=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,k]=G1e(N);C&&k?!y.shiftKey&&S===k?(y.preventDefault(),r&&Fc(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&Fc(k,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(pn.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});YZ.displayName=H1e;function K1e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fc(n,{select:t}),document.activeElement!==r)return}function G1e(e){const t=XZ(e),r=UF(t,e),n=UF(t.reverse(),e);return[r,n]}function XZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function UF(e,t){for(const r of e)if(!Z1e(r,{upTo:t}))return r}function Z1e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Y1e(e){return e instanceof HTMLInputElement&&"select"in e}function Fc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Y1e(e)&&t&&e.select()}}var VF=X1e();function X1e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=WF(e,t),e.unshift(t)},remove(t){e=WF(e,t),e[0]?.resume()}}}function WF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function J1e(e){return e.filter(t=>t.tagName!=="A")}var Q1e="Arrow",JZ=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(pn.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});JZ.displayName=Q1e;var eje=JZ,oM="Popper",[QZ,eY]=Rr(oM),[tje,tY]=QZ(oM),rY=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(tje,{scope:t,anchor:n,onAnchorChange:i,children:r})};rY.displayName=oM;var nY="PopperAnchor",iY=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=tY(nY,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(pn.div,{...i,ref:l})});iY.displayName=nY;var lM="PopperContent",[rje,nje]=QZ(lM),sY=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=tY(lM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[k,A]=x.useState(null),T=Zd(k),O=T?.width??0,I=T?.height??0,q=n+(s!=="center"?"-"+s:""),Z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:Z,boundary:V.filter(sje),altBoundary:U},{refs:H,floatingStyles:re,placement:se,isPositioned:W,middlewareData:Q}=by({strategy:"fixed",placement:q,whileElementsMounted:(...ae)=>xy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[wy({mainAxis:i+I,alignmentAxis:o}),c&&_y({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?jy():void 0,...z}),c&&Sy({...z}),Ny({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:ee,height:G}=ge.reference,we=ae.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${ee}px`),we.setProperty("--radix-popper-anchor-height",`${G}px`)}}),k&&Ey({element:k,padding:l}),aje({arrowWidth:O,arrowHeight:I}),g&&Cy({strategy:"referenceHidden",...z})]}),[Y,ne]=lY(se),J=fr(w);sr(()=>{W&&J?.()},[W,J]);const oe=Q.arrow?.x,be=Q.arrow?.y,Ce=Q.arrow?.centerOffset!==0,[De,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:W?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(rje,{scope:r,placedSide:Y,onArrowChange:A,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(pn.div,{"data-side":Y,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});sY.displayName=lM;var aY="PopperArrow",ije={top:"bottom",right:"left",bottom:"top",left:"right"},oY=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=nje(aY,n),o=ije[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(eje,{...i,ref:r,style:{...i.style,display:"block"}})})});oY.displayName=aY;function sje(e){return e!==null}var aje=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=lY(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function lY(e){const[t,r="center"]=e.split("-");return[t,r]}var oje=rY,lje=iY,cje=sY,uje=oY,dje="Portal",cY=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);sr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?r_.createPortal(a.jsx(pn.div,{...n,ref:t}),o):null});cY.displayName=dje;var uY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fje="VisuallyHidden",hje=x.forwardRef((e,t)=>a.jsx(pn.span,{...e,ref:t,style:{...uY,...e.style}}));hje.displayName=fje;var pje=[" ","Enter","ArrowUp","ArrowDown"],mje=[" ","Enter"],Rd="Select",[V_,W_,gje]=D1e(Rd),[zp,Cqe]=Rr(Rd,[gje,eY]),H_=eY(),[vje,vu]=zp(Rd),[yje,xje]=zp(Rd),dY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:p,disabled:g,required:v,form:w}=e,y=H_(t),[_,S]=x.useState(null),[N,C]=x.useState(null),[k,A]=x.useState(!1),T=Rp(u),[O,I]=ns({prop:n,defaultProp:i??!1,onChange:s,caller:Rd}),[q,Z]=ns({prop:o,defaultProp:l,onChange:c,caller:Rd}),V=x.useRef(null),U=_?w||!!_.closest("form"):!0,[z,H]=x.useState(new Set),re=Array.from(z).map(se=>se.props.value).join(";");return a.jsx(oje,{...y,children:a.jsxs(vje,{required:v,scope:t,trigger:_,onTriggerChange:S,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:ts(),value:q,onValueChange:Z,open:O,onOpenChange:I,dir:T,triggerPointerDownPosRef:V,disabled:g,children:[a.jsx(V_.Provider,{scope:t,children:a.jsx(yje,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(se=>{H(W=>new Set(W).add(se))},[]),onNativeOptionRemove:x.useCallback(se=>{H(W=>{const Q=new Set(W);return Q.delete(se),Q})},[]),children:r})}),U?a.jsxs(IY,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:p,value:q,onChange:se=>Z(se.target.value),disabled:g,form:w,children:[q===void 0?a.jsx("option",{value:""}):null,Array.from(z)]},re):null]})})};dY.displayName=Rd;var fY="SelectTrigger",hY=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=H_(r),o=vu(fY,r),l=o.disabled||n,c=at(t,o.onTriggerChange),u=W_(r),f=x.useRef("touch"),[p,g,v]=LY(y=>{const _=u().filter(C=>!C.disabled),S=_.find(C=>C.value===o.value),N=$Y(_,y,S);N!==void 0&&o.onValueChange(N.value)}),w=y=>{l||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(lje,{asChild:!0,...s,children:a.jsx(pn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":DY(o.value)?"":void 0,...i,ref:c,onClick:Ue(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&w(y)}),onPointerDown:Ue(i.onPointerDown,y=>{f.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Ue(i.onKeyDown,y=>{const _=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(_&&y.key===" ")&&pje.includes(y.key)&&(w(),y.preventDefault())})})})});hY.displayName=fY;var pY="SelectValue",mY=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=e,c=vu(pY,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,p=at(t,c.onValueNodeChange);return sr(()=>{u(f)},[u,f]),a.jsx(pn.span,{...l,ref:p,style:{pointerEvents:"none"},children:DY(c.value)?a.jsx(a.Fragment,{children:o}):s})});mY.displayName=pY;var bje="SelectIcon",gY=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(pn.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});gY.displayName=bje;var wje="SelectPortal",vY=e=>a.jsx(cY,{asChild:!0,...e});vY.displayName=wje;var Md="SelectContent",yY=x.forwardRef((e,t)=>{const r=vu(Md,e.__scopeSelect),[n,i]=x.useState();if(sr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Za.createPortal(a.jsx(xY,{scope:e.__scopeSelect,children:a.jsx(V_.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(bY,{...e,ref:t})});yY.displayName=Md;var Ea=10,[xY,yu]=zp(Md),_je="SelectContentImpl",jje=Xb("SelectContent.RemoveScroll"),bY=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:_,...S}=e,N=vu(Md,r),[C,k]=x.useState(null),[A,T]=x.useState(null),O=at(t,ae=>k(ae)),[I,q]=x.useState(null),[Z,V]=x.useState(null),U=W_(r),[z,H]=x.useState(!1),re=x.useRef(!1);x.useEffect(()=>{if(C)return R_(C)},[C]),_R();const se=x.useCallback(ae=>{const[ge,...he]=U().map(G=>G.ref.current),[Pe]=he.slice(-1),ee=document.activeElement;for(const G of ae)if(G===ee||(G?.scrollIntoView({block:"nearest"}),G===ge&&A&&(A.scrollTop=0),G===Pe&&A&&(A.scrollTop=A.scrollHeight),G?.focus(),document.activeElement!==ee))return},[U,A]),W=x.useCallback(()=>se([I,C]),[se,I,C]);x.useEffect(()=>{z&&W()},[z,W]);const{onOpenChange:Q,triggerPointerDownPosRef:Y}=N;x.useEffect(()=>{if(C){let ae={x:0,y:0};const ge=Pe=>{ae={x:Math.abs(Math.round(Pe.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(Y.current?.y??0))}},he=Pe=>{ae.x<=10&&ae.y<=10?Pe.preventDefault():C.contains(Pe.target)||Q(!1),document.removeEventListener("pointermove",ge),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,Q,Y]),x.useEffect(()=>{const ae=()=>Q(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[Q]);const[ne,J]=LY(ae=>{const ge=U().filter(ee=>!ee.disabled),he=ge.find(ee=>ee.ref.current===document.activeElement),Pe=$Y(ge,ae,he);Pe&&setTimeout(()=>Pe.ref.current.focus())}),oe=x.useCallback((ae,ge,he)=>{const Pe=!re.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&(q(ae),Pe&&(re.current=!0))},[N.value]),be=x.useCallback(()=>C?.focus(),[C]),Ce=x.useCallback((ae,ge,he)=>{const Pe=!re.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&V(ae)},[N.value]),De=n==="popper"?tA:wY,ce=De===tA?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:_}:{};return a.jsx(xY,{scope:r,content:C,viewport:A,onViewportChange:T,itemRefCallback:oe,selectedItem:I,onItemLeave:be,itemTextRefCallback:Ce,focusSelectedItem:W,selectedItemText:Z,position:n,isPositioned:z,searchRef:ne,children:a.jsx(vy,{as:jje,allowPinchZoom:!0,children:a.jsx(YZ,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ue(i,ae=>{N.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:a.jsx(GZ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(De,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...S,...ce,onPlaced:()=>H(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ue(S.onKeyDown,ae=>{const ge=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ge&&ae.key.length===1&&J(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Pe=U().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ee=ae.target,G=Pe.indexOf(ee);Pe=Pe.slice(G+1)}setTimeout(()=>se(Pe)),ae.preventDefault()}})})})})})})});bY.displayName=_je;var Sje="SelectItemAlignedPosition",wY=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=vu(Md,r),o=yu(Md,r),[l,c]=x.useState(null),[u,f]=x.useState(null),p=at(t,O=>f(O)),g=W_(r),v=x.useRef(!1),w=x.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:S,focusSelectedItem:N}=o,C=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&_&&S){const O=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),q=s.valueNode.getBoundingClientRect(),Z=S.getBoundingClientRect();if(s.dir!=="rtl"){const ee=Z.left-I.left,G=q.left-ee,we=O.left-G,xe=O.width+we,Ve=Math.max(xe,I.width),qe=window.innerWidth-Ea,Ne=FF(G,[Ea,Math.max(Ea,qe-Ve)]);l.style.minWidth=xe+"px",l.style.left=Ne+"px"}else{const ee=I.right-Z.right,G=window.innerWidth-q.right-ee,we=window.innerWidth-O.right-G,xe=O.width+we,Ve=Math.max(xe,I.width),qe=window.innerWidth-Ea,Ne=FF(G,[Ea,Math.max(Ea,qe-Ve)]);l.style.minWidth=xe+"px",l.style.right=Ne+"px"}const V=g(),U=window.innerHeight-Ea*2,z=y.scrollHeight,H=window.getComputedStyle(u),re=parseInt(H.borderTopWidth,10),se=parseInt(H.paddingTop,10),W=parseInt(H.borderBottomWidth,10),Q=parseInt(H.paddingBottom,10),Y=re+se+z+Q+W,ne=Math.min(_.offsetHeight*5,Y),J=window.getComputedStyle(y),oe=parseInt(J.paddingTop,10),be=parseInt(J.paddingBottom,10),Ce=O.top+O.height/2-Ea,De=U-Ce,ce=_.offsetHeight/2,ae=_.offsetTop+ce,ge=re+se+ae,he=Y-ge;if(ge<=Ce){const ee=V.length>0&&_===V[V.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-y.offsetTop-y.offsetHeight,we=Math.max(De,ce+(ee?be:0)+G+W),xe=ge+we;l.style.height=xe+"px"}else{const ee=V.length>0&&_===V[0].ref.current;l.style.top="0px";const we=Math.max(Ce,re+y.offsetTop+(ee?oe:0)+ce)+he;l.style.height=we+"px",y.scrollTop=ge-Ce+y.offsetTop}l.style.margin=`${Ea}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,l,u,y,_,S,s.dir,n]);sr(()=>C(),[C]);const[k,A]=x.useState();sr(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const T=x.useCallback(O=>{O&&w.current===!0&&(C(),N?.(),w.current=!1)},[C,N]);return a.jsx(Cje,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:T,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:a.jsx(pn.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});wY.displayName=Sje;var Nje="SelectPopperPosition",tA=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ea,...s}=e,o=H_(r);return a.jsx(cje,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tA.displayName=Nje;var[Cje,cM]=zp(Md,{}),rA="SelectViewport",_Y=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=yu(rA,r),o=cM(rA,r),l=at(t,s.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(V_.Slot,{scope:r,children:a.jsx(pn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const v=Math.abs(c.current-f.scrollTop);if(v>0){const w=window.innerHeight-Ea*2,y=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),S=Math.max(y,_);if(S<w){const N=S+v,C=Math.min(w,N),k=N-C;p.style.height=C+"px",p.style.bottom==="0px"&&(f.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});_Y.displayName=rA;var jY="SelectGroup",[Eje,Pje]=zp(jY),Tje=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ts();return a.jsx(Eje,{scope:r,id:i,children:a.jsx(pn.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Tje.displayName=jY;var SY="SelectLabel",NY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Pje(SY,r);return a.jsx(pn.div,{id:i.id,...n,ref:t})});NY.displayName=SY;var Jb="SelectItem",[Aje,CY]=zp(Jb),EY=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,l=vu(Jb,r),c=yu(Jb,r),u=l.value===n,[f,p]=x.useState(s??""),[g,v]=x.useState(!1),w=at(t,N=>c.itemRefCallback?.(N,n,i)),y=ts(),_=x.useRef("touch"),S=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Aje,{scope:r,value:n,disabled:i,textId:y,isSelected:u,onItemTextChange:x.useCallback(N=>{p(C=>C||(N?.textContent??"").trim())},[]),children:a.jsx(V_.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:a.jsx(pn.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Ue(o.onFocus,()=>v(!0)),onBlur:Ue(o.onBlur,()=>v(!1)),onClick:Ue(o.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Ue(o.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Ue(o.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:Ue(o.onPointerMove,N=>{_.current=N.pointerType,i?c.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ue(o.onKeyDown,N=>{c.searchRef?.current!==""&&N.key===" "||(mje.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});EY.displayName=Jb;var jg="SelectItemText",PY=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=vu(jg,r),l=yu(jg,r),c=CY(jg,r),u=xje(jg,r),[f,p]=x.useState(null),g=at(t,S=>p(S),c.onItemTextChange,S=>l.itemTextRefCallback?.(S,c.value,c.disabled)),v=f?.textContent,w=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=u;return sr(()=>(y(w),()=>_(w)),[y,_,w]),a.jsxs(a.Fragment,{children:[a.jsx(pn.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Za.createPortal(s.children,o.valueNode):null]})});PY.displayName=jg;var TY="SelectItemIndicator",AY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return CY(TY,r).isSelected?a.jsx(pn.span,{"aria-hidden":!0,...n,ref:t}):null});AY.displayName=TY;var nA="SelectScrollUpButton",kY=x.forwardRef((e,t)=>{const r=yu(nA,e.__scopeSelect),n=cM(nA,e.__scopeSelect),[i,s]=x.useState(!1),o=at(t,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(RY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kY.displayName=nA;var iA="SelectScrollDownButton",OY=x.forwardRef((e,t)=>{const r=yu(iA,e.__scopeSelect),n=cM(iA,e.__scopeSelect),[i,s]=x.useState(!1),o=at(t,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(RY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});OY.displayName=iA;var RY=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=yu("SelectScrollButton",r),o=x.useRef(null),l=W_(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),sr(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(pn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ue(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{c()})})}),kje="SelectSeparator",MY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(pn.div,{"aria-hidden":!0,...n,ref:t})});MY.displayName=kje;var sA="SelectArrow",Oje=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=H_(r),s=vu(sA,r),o=yu(sA,r);return s.open&&o.position==="popper"?a.jsx(uje,{...i,...n,ref:t}):null});Oje.displayName=sA;var Rje="SelectBubbleInput",IY=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=x.useRef(null),s=at(n,i),o=uR(t);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const p=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(pn.select,{...r,style:{...uY,...r.style},ref:s,defaultValue:t})});IY.displayName=Rje;function DY(e){return e===""||e===void 0}function LY(e){const t=fr(e),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function $Y(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Mje(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Mje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ije=dY,FY=hY,Dje=mY,Lje=gY,$je=vY,BY=yY,Fje=_Y,zY=NY,qY=EY,Bje=PY,zje=AY,UY=kY,VY=OY,WY=MY;const Pr=Ije,Tr=Dje,Cr=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(FY,{ref:n,className:Ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Lje,{asChild:!0,children:a.jsx(jl,{className:"h-4 w-4 opacity-50"})})]}));Cr.displayName=FY.displayName;const HY=x.forwardRef(({className:e,...t},r)=>a.jsx(UY,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(_d,{className:"h-4 w-4"})}));HY.displayName=UY.displayName;const KY=x.forwardRef(({className:e,...t},r)=>a.jsx(VY,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(jl,{className:"h-4 w-4"})}));KY.displayName=VY.displayName;const Er=x.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>a.jsx($je,{children:a.jsxs(BY,{ref:i,className:Ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(HY,{}),a.jsx(Fje,{className:Ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(KY,{})]})}));Er.displayName=BY.displayName;const qje=x.forwardRef(({className:e,...t},r)=>a.jsx(zY,{ref:r,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));qje.displayName=zY.displayName;const Ge=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(qY,{ref:n,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(zje,{children:a.jsx(iv,{className:"h-4 w-4"})})}),a.jsx(Bje,{children:t})]}));Ge.displayName=qY.displayName;const Uje=x.forwardRef(({className:e,...t},r)=>a.jsx(WY,{ref:r,className:Ke("-mx-1 my-1 h-px bg-muted",e),...t}));Uje.displayName=WY.displayName;function Vje(e){const t=Wje(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Kje);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Wje(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=Zje(i),l=Gje(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hje=Symbol("radix.slottable");function Kje(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hje}function Gje(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Zje(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xje=Yje.reduce((e,t)=>{const r=Vje(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Jje="Separator",HF="horizontal",Qje=["horizontal","vertical"],GY=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=HF,...i}=e,s=eSe(n)?n:HF,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Xje.div,{"data-orientation":s,...l,...i,ref:t})});GY.displayName=Jje;function eSe(e){return Qje.includes(e)}var ZY=GY;const uv=X.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>a.jsx(ZY,{ref:i,decorative:r,orientation:t,className:Ke("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));uv.displayName=ZY.displayName;const po=({className:e,...t})=>a.jsx("div",{className:Ke("animate-pulse rounded-md bg-muted",e),...t}),tSe=()=>a.jsxs("div",{className:"bg-card rounded-lg shadow-lg overflow-hidden",children:[a.jsx(po,{className:"h-48 w-full"}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx(po,{className:"h-4 w-3/4"}),a.jsx(po,{className:"h-4 w-1/2"}),a.jsx(po,{className:"h-6 w-1/3"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(po,{className:"h-4 w-20"}),a.jsx(po,{className:"h-8 w-20 rounded"})]})]})]}),rSe=()=>a.jsxs("div",{className:"bg-card rounded-lg p-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(po,{className:"h-4 w-1/2"}),a.jsx(po,{className:"h-8 w-8 rounded"})]}),a.jsx(po,{className:"h-8 w-1/3"}),a.jsx(po,{className:"h-3 w-2/3"})]});function nSe(e){const t=iSe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(aSe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function iSe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=lSe(i),l=oSe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sSe=Symbol("radix.slottable");function aSe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sSe}function oSe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function lSe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],YY=cSe.reduce((e,t)=>{const r=nSe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),K_="Switch",[uSe,Eqe]=Rr(K_),[dSe,fSe]=uSe(K_),XY=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...p}=e,[g,v]=x.useState(null),w=at(t,C=>v(C)),y=x.useRef(!1),_=g?f||!!g.closest("form"):!0,[S,N]=ns({prop:i,defaultProp:s??!1,onChange:u,caller:K_});return a.jsxs(dSe,{scope:r,checked:S,disabled:l,children:[a.jsx(YY.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":tX(S),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:w,onClick:Ue(e.onClick,C=>{N(k=>!k),_&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),_&&a.jsx(eX,{control:g,bubbles:!y.current,name:n,value:c,checked:S,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});XY.displayName=K_;var JY="SwitchThumb",QY=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=fSe(JY,r);return a.jsx(YY.span,{"data-state":tX(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});QY.displayName=JY;var hSe="SwitchBubbleInput",eX=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const o=x.useRef(null),l=at(o,s),c=uR(r),u=Zd(t);return x.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&v){const w=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(w)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eX.displayName=hSe;function tX(e){return e?"checked":"unchecked"}var rX=XY,pSe=QY;const Sg=x.forwardRef(({className:e,...t},r)=>a.jsx(rX,{className:Ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(pSe,{className:Ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sg.displayName=rX.displayName;const qp=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Ke("w-full caption-bottom text-sm",e),...t})}));qp.displayName="Table";const Up=x.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Ke("[&_tr]:border-b",e),...t}));Up.displayName="TableHeader";const Vp=x.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Ke("[&_tr:last-child]:border-0",e),...t}));Vp.displayName="TableBody";const mSe=x.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));mSe.displayName="TableFooter";const rn=x.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rn.displayName="TableRow";const ur=x.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ur.displayName="TableHead";const Ot=x.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableCell";const gSe=x.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Ke("mt-4 text-sm text-muted-foreground",e),...t}));gSe.displayName="TableCaption";const Id=X.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Id.displayName="Textarea";var vSe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ySe="VisuallyHidden",uM=x.forwardRef((e,t)=>a.jsx(er.span,{...e,ref:t,style:{...vSe,...e.style}}));uM.displayName=ySe;var xSe="ToastProvider",[nX,bSe,wSe]=$R("Toast"),[iX,Pqe]=Rr("Toast",[wSe]),[Tqe,G_]=iX(xSe),sX="ToastViewport",_Se=["F8"],aA="toast.viewportPause",oA="toast.viewportResume",aX=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=_Se,label:i="Notifications ({hotkey})",...s}=e,o=G_(sX,r),l=bSe(r),c=x.useRef(null),u=x.useRef(null),f=x.useRef(null),p=x.useRef(null),g=at(t,p,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;x.useEffect(()=>{const _=S=>{n.length!==0&&n.every(C=>S[C]||S.code===C)&&p.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),x.useEffect(()=>{const _=c.current,S=p.current;if(w&&_&&S){const N=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(aA);S.dispatchEvent(T),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(oA);S.dispatchEvent(T),o.isClosePausedRef.current=!1}},k=T=>{!_.contains(T.relatedTarget)&&C()},A=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",N),_.addEventListener("focusout",k),_.addEventListener("pointermove",N),_.addEventListener("pointerleave",A),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",N),_.removeEventListener("focusout",k),_.removeEventListener("pointermove",N),_.removeEventListener("pointerleave",A),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[w,o.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:_})=>{const N=l().map(C=>{const k=C.ref.current,A=[k,...ISe(k)];return _==="forwards"?A:A.reverse()});return(_==="forwards"?N.reverse():N).flat()},[l]);return x.useEffect(()=>{const _=p.current;if(_){const S=N=>{const C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){const A=document.activeElement,T=N.shiftKey;if(N.target===_&&T){u.current?.focus();return}const q=y({tabbingDirection:T?"backwards":"forwards"}),Z=q.findIndex(V=>V===A);aN(q.slice(Z+1))?N.preventDefault():T?u.current?.focus():f.current?.focus()}};return _.addEventListener("keydown",S),()=>_.removeEventListener("keydown",S)}},[l,y]),a.jsxs(Kye,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(lA,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});aN(_)}}),a.jsx(nX.Slot,{scope:r,children:a.jsx(er.ol,{tabIndex:-1,...s,ref:g})}),w&&a.jsx(lA,{ref:f,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});aN(_)}})]})});aX.displayName=sX;var oX="ToastFocusProxy",lA=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=G_(oX,r);return a.jsx(uM,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&n()}})});lA.displayName=oX;var Ry="Toast",jSe="toast.swipeStart",SSe="toast.swipeMove",NSe="toast.swipeCancel",CSe="toast.swipeEnd",lX=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=e,[l,c]=ns({prop:n,defaultProp:i??!0,onChange:s,caller:Ry});return a.jsx(is,{present:r||l,children:a.jsx(TSe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:fr(e.onPause),onResume:fr(e.onResume),onSwipeStart:Ue(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});lX.displayName=Ry;var[ESe,PSe]=iX(Ry,{onClose(){}}),TSe=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:v,...w}=e,y=G_(Ry,r),[_,S]=x.useState(null),N=at(t,H=>S(H)),C=x.useRef(null),k=x.useRef(null),A=i||y.duration,T=x.useRef(0),O=x.useRef(A),I=x.useRef(0),{onToastAdd:q,onToastRemove:Z}=y,V=fr(()=>{_?.contains(document.activeElement)&&y.viewport?.focus(),o()}),U=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),T.current=new Date().getTime(),I.current=window.setTimeout(V,H))},[V]);x.useEffect(()=>{const H=y.viewport;if(H){const re=()=>{U(O.current),u?.()},se=()=>{const W=new Date().getTime()-T.current;O.current=O.current-W,window.clearTimeout(I.current),c?.()};return H.addEventListener(aA,se),H.addEventListener(oA,re),()=>{H.removeEventListener(aA,se),H.removeEventListener(oA,re)}}},[y.viewport,A,c,u,U]),x.useEffect(()=>{s&&!y.isClosePausedRef.current&&U(A)},[s,A,y.isClosePausedRef,U]),x.useEffect(()=>(q(),()=>Z()),[q,Z]);const z=x.useMemo(()=>_?mX(_):null,[_]);return y.viewport?a.jsxs(a.Fragment,{children:[z&&a.jsx(ASe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),a.jsx(ESe,{scope:r,onClose:V,children:Za.createPortal(a.jsx(nX.ItemSlot,{scope:r,children:a.jsx(Hye,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(er.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,H=>{H.key==="Escape"&&(l?.(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ue(e.onPointerDown,H=>{H.button===0&&(C.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ue(e.onPointerMove,H=>{if(!C.current)return;const re=H.clientX-C.current.x,se=H.clientY-C.current.y,W=!!k.current,Q=["left","right"].includes(y.swipeDirection),Y=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=Q?Y(0,re):0,J=Q?0:Y(0,se),oe=H.pointerType==="touch"?10:2,be={x:ne,y:J},Ce={originalEvent:H,delta:be};W?(k.current=be,P0(SSe,p,Ce,{discrete:!1})):KF(be,y.swipeDirection,oe)?(k.current=be,P0(jSe,f,Ce,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(re)>oe||Math.abs(se)>oe)&&(C.current=null)}),onPointerUp:Ue(e.onPointerUp,H=>{const re=k.current,se=H.target;if(se.hasPointerCapture(H.pointerId)&&se.releasePointerCapture(H.pointerId),k.current=null,C.current=null,re){const W=H.currentTarget,Q={originalEvent:H,delta:re};KF(re,y.swipeDirection,y.swipeThreshold)?P0(CSe,v,Q,{discrete:!0}):P0(NSe,g,Q,{discrete:!0}),W.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),ASe=e=>{const{__scopeToast:t,children:r,...n}=e,i=G_(Ry,t),[s,o]=x.useState(!1),[l,c]=x.useState(!1);return RSe(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(k_,{asChild:!0,children:a.jsx(uM,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},kSe="ToastTitle",cX=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});cX.displayName=kSe;var OSe="ToastDescription",uX=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});uX.displayName=OSe;var dX="ToastAction",fX=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(pX,{altText:r,asChild:!0,children:a.jsx(dM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${dX}\`. Expected non-empty \`string\`.`),null)});fX.displayName=dX;var hX="ToastClose",dM=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=PSe(hX,r);return a.jsx(pX,{asChild:!0,children:a.jsx(er.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,i.onClose)})})});dM.displayName=hX;var pX=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return a.jsx(er.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function mX(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),MSe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...mX(n))}}),t}function P0(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?cR(i,s):i.dispatchEvent(s)}var KF=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function RSe(e=()=>{}){const t=fr(e);sr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function MSe(e){return e.nodeType===e.ELEMENT_NODE}function ISe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function aN(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var gX=aX,vX=lX,yX=cX,xX=uX,bX=fX,wX=dM;const DSe=X.forwardRef(({className:e,...t},r)=>a.jsx(gX,{ref:r,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));DSe.displayName=gX.displayName;const LSe=y_("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$Se=X.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(vX,{ref:n,className:Ke(LSe({variant:t}),e),...r}));$Se.displayName=vX.displayName;const FSe=X.forwardRef(({className:e,...t},r)=>a.jsx(bX,{ref:r,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));FSe.displayName=bX.displayName;const BSe=X.forwardRef(({className:e,...t},r)=>a.jsx(wX,{ref:r,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ms,{className:"h-4 w-4"})}));BSe.displayName=wX.displayName;const zSe=X.forwardRef(({className:e,...t},r)=>a.jsx(yX,{ref:r,className:Ke("text-sm font-semibold",e),...t}));zSe.displayName=yX.displayName;const qSe=X.forwardRef(({className:e,...t},r)=>a.jsx(xX,{ref:r,className:Ke("text-sm opacity-90",e),...t}));qSe.displayName=xX.displayName;function USe(e){const t=VSe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(HSe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function VSe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=GSe(i),l=KSe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _X=Symbol("radix.slottable");function WSe(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=_X,t}function HSe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_X}function KSe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function GSe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jd=ZSe.reduce((e,t)=>{const r=USe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function YSe(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var XSe="DismissableLayer",cA="dismissableLayer.update",JSe="dismissableLayer.pointerDownOutside",QSe="dismissableLayer.focusOutside",GF,jX=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SX=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(jX),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=S,A=rNe(O=>{const I=O.target,q=[...u.branches].some(Z=>Z.contains(I));!k||q||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),T=nNe(O=>{const I=O.target;[...u.branches].some(Z=>Z.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return gy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),ZF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=GF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),ZF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(cA,O),()=>document.removeEventListener(cA,O)},[]),a.jsx(Jd.div,{...c,ref:w,style:{pointerEvents:C?k?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,A.onPointerDownCapture)})});SX.displayName=XSe;var eNe="DismissableLayerBranch",tNe=x.forwardRef((e,t)=>{const r=x.useContext(jX),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Jd.div,{...e,ref:i})});tNe.displayName=eNe;function rNe(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){NX(JSe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function nNe(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&NX(QSe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ZF(){const e=new CustomEvent(cA);document.dispatchEvent(e)}function NX(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?YSe(i,s):i.dispatchEvent(s)}var iNe="Arrow",CX=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Jd.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});CX.displayName=iNe;var sNe=CX,fM="Popper",[EX,PX]=Rr(fM),[aNe,TX]=EX(fM),AX=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(aNe,{scope:t,anchor:n,onAnchorChange:i,children:r})};AX.displayName=fM;var kX="PopperAnchor",OX=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=TX(kX,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Jd.div,{...i,ref:l})});OX.displayName=kX;var hM="PopperContent",[oNe,lNe]=EX(hM),RX=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=TX(hM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[k,A]=x.useState(null),T=Zd(k),O=T?.width??0,I=T?.height??0,q=n+(s!=="center"?"-"+s:""),Z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:Z,boundary:V.filter(uNe),altBoundary:U},{refs:H,floatingStyles:re,placement:se,isPositioned:W,middlewareData:Q}=by({strategy:"fixed",placement:q,whileElementsMounted:(...ae)=>xy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[wy({mainAxis:i+I,alignmentAxis:o}),c&&_y({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?jy():void 0,...z}),c&&Sy({...z}),Ny({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:ee,height:G}=ge.reference,we=ae.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${ee}px`),we.setProperty("--radix-popper-anchor-height",`${G}px`)}}),k&&Ey({element:k,padding:l}),dNe({arrowWidth:O,arrowHeight:I}),g&&Cy({strategy:"referenceHidden",...z})]}),[Y,ne]=DX(se),J=fr(w);sr(()=>{W&&J?.()},[W,J]);const oe=Q.arrow?.x,be=Q.arrow?.y,Ce=Q.arrow?.centerOffset!==0,[De,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:W?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(oNe,{scope:r,placedSide:Y,onArrowChange:A,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(Jd.div,{"data-side":Y,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});RX.displayName=hM;var MX="PopperArrow",cNe={top:"bottom",right:"left",bottom:"top",left:"right"},IX=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=lNe(MX,n),o=cNe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(sNe,{...i,ref:r,style:{...i.style,display:"block"}})})});IX.displayName=MX;function uNe(e){return e!==null}var dNe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=DX(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function DX(e){const[t,r="center"]=e.split("-");return[t,r]}var fNe=AX,hNe=OX,pNe=RX,mNe=IX,gNe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vNe="VisuallyHidden",LX=x.forwardRef((e,t)=>a.jsx(Jd.span,{...e,ref:t,style:{...gNe,...e.style}}));LX.displayName=vNe;var yNe=LX,[Z_,Aqe]=Rr("Tooltip",[PX]),Y_=PX(),$X="TooltipProvider",xNe=700,uA="tooltip.open",[bNe,pM]=Z_($X),FX=e=>{const{__scopeTooltip:t,delayDuration:r=xNe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(bNe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};FX.displayName=$X;var dv="Tooltip",[wNe,X_]=Z_(dv),BX=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=pM(dv,e.__scopeTooltip),u=Y_(t),[f,p]=x.useState(null),g=ts(),v=x.useRef(0),w=o??c.disableHoverableContent,y=l??c.delayDuration,_=x.useRef(!1),[S,N]=ns({prop:n,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(uA))):c.onClose(),s?.(O)},caller:dv}),C=x.useMemo(()=>S?_.current?"delayed-open":"instant-open":"closed",[S]),k=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,N(!0)},[N]),A=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N(!1)},[N]),T=x.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,N(!0),v.current=0},y)},[y,N]);return x.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(fNe,{...u,children:a.jsx(wNe,{scope:t,contentId:g,open:S,stateAttribute:C,trigger:f,onTriggerChange:p,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?T():k()},[c.isOpenDelayedRef,T,k]),onTriggerLeave:x.useCallback(()=>{w?A():(window.clearTimeout(v.current),v.current=0)},[A,w]),onOpen:k,onClose:A,disableHoverableContent:w,children:r})})};BX.displayName=dv;var dA="TooltipTrigger",zX=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=X_(dA,r),s=pM(dA,r),o=Y_(r),l=x.useRef(null),c=at(t,l,i.onTriggerChange),u=x.useRef(!1),f=x.useRef(!1),p=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(hNe,{asChild:!0,...o,children:a.jsx(Jd.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ue(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ue(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ue(e.onBlur,i.onClose),onClick:Ue(e.onClick,i.onClose)})})});zX.displayName=dA;var _Ne="TooltipPortal",[kqe,jNe]=Z_(_Ne,{forceMount:void 0}),Zh="TooltipContent",qX=x.forwardRef((e,t)=>{const r=jNe(Zh,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,o=X_(Zh,e.__scopeTooltip);return a.jsx(is,{present:n||o.open,children:o.disableHoverableContent?a.jsx(UX,{side:i,...s,ref:t}):a.jsx(SNe,{side:i,...s,ref:t})})}),SNe=x.forwardRef((e,t)=>{const r=X_(Zh,e.__scopeTooltip),n=pM(Zh,e.__scopeTooltip),i=x.useRef(null),s=at(t,i),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:p}=n,g=x.useCallback(()=>{l(null),p(!1)},[p]),v=x.useCallback((w,y)=>{const _=w.currentTarget,S={x:w.clientX,y:w.clientY},N=TNe(S,_.getBoundingClientRect()),C=ANe(S,N),k=kNe(y.getBoundingClientRect()),A=RNe([...C,...k]);l(A),p(!0)},[p]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(c&&f){const w=_=>v(_,f),y=_=>v(_,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",y)}}},[c,f,v,g]),x.useEffect(()=>{if(o){const w=y=>{const _=y.target,S={x:y.clientX,y:y.clientY},N=c?.contains(_)||f?.contains(_),C=!ONe(S,o);N?g():C&&(g(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,o,u,g]),a.jsx(UX,{...e,ref:s})}),[NNe,CNe]=Z_(dv,{isInside:!1}),ENe=WSe("TooltipContent"),UX=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=X_(Zh,r),u=Y_(r),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(uA,f),()=>document.removeEventListener(uA,f)),[f]),x.useEffect(()=>{if(c.trigger){const p=g=>{g.target?.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),a.jsx(SX,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:a.jsxs(pNe,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(ENe,{children:n}),a.jsx(NNe,{scope:r,isInside:!0,children:a.jsx(yNe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});qX.displayName=Zh;var VX="TooltipArrow",PNe=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Y_(r);return CNe(VX,r).isInside?null:a.jsx(mNe,{...i,...n,ref:t})});PNe.displayName=VX;function TNe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ANe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function kNe(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function ONe(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function RNe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),MNe(t)}function MNe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var INe=FX,DNe=BX,LNe=zX,WX=qX;const yh=INe,yo=DNe,xo=LNe,Ma=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(WX,{ref:n,sideOffset:t,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ma.displayName=WX.displayName;const fv=({user:e,size:t="default",className:r,showFallbackIcon:n=!1})=>{if(!e)return a.jsx(BT,{className:Ke("bg-gray-200",t==="sm"&&"h-8 w-8",t==="default"&&"h-10 w-10",t==="lg"&&"h-12 w-12",t==="xl"&&"h-16 w-16",r),children:a.jsx(zT,{className:"bg-gray-200 text-gray-600",children:a.jsx(Ji,{className:"h-4 w-4"})})});const i=()=>{const c=e.first_name||"",u=e.last_name||"";return c&&u?`${c.charAt(0)}${u.charAt(0)}`.toUpperCase():c?c.charAt(0).toUpperCase():u?u.charAt(0).toUpperCase():e.email?e.email.charAt(0).toUpperCase():"?"},s=()=>{const c=`${e.first_name||""}${e.last_name||""}`.toLowerCase();if(!c)return"bg-gray-500";const u=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"];let f=0;for(let p=0;p<c.length;p++)f=c.charCodeAt(p)+((f<<5)-f);return u[Math.abs(f)%u.length]},o=()=>{switch(t){case"sm":return"h-8 w-8";case"lg":return"h-12 w-12";case"xl":return"h-16 w-16";default:return"h-10 w-10"}},l=()=>{switch(t){case"sm":return"text-xs";case"lg":return"text-lg";case"xl":return"text-2xl";default:return"text-sm"}};return a.jsxs(BT,{className:Ke(o(),r),children:[e.avatar_url&&a.jsx(AK,{src:e.avatar_url,alt:`${e.first_name||""} ${e.last_name||""}`,onError:c=>{c.target.style.display="none"}}),a.jsx(zT,{className:Ke(s(),"text-white font-semibold",l()),children:n?a.jsx(Ji,{className:Ke(t==="sm"&&"h-3 w-3",t==="default"&&"h-4 w-4",t==="lg"&&"h-5 w-5",t==="xl"&&"h-6 w-6")}):i()})]})},T0=({error:e,className:t="",showIcon:r=!0})=>e?a.jsxs("div",{className:Ke("flex items-start gap-1.5 text-xs text-red-600 mt-1",t),children:[r&&a.jsx(Zn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:e})]}):null,$Ne=(e={})=>({getFieldError:o=>e[o]||null,hasFieldError:o=>!!e[o],hasAnyErrors:()=>Object.keys(e).length>0,clearFieldError:(o,l)=>{l&&e[o]&&l(c=>{const u={...c};return delete u[o],u})},clearAllErrors:o=>{o&&o({})}});var dr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(dr||(dr={}));var YF;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(YF||(YF={}));const dt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bc=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return Number.isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},Qe=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ro extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Ro))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ro.create=e=>new Ro(e);const fA=(e,t)=>{let r;switch(e.code){case Qe.invalid_type:e.received===dt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Qe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dr.jsonStringifyReplacer)}`;break;case Qe.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(e.keys,", ")}`;break;case Qe.invalid_union:r="Invalid input";break;case Qe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(e.options)}`;break;case Qe.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(e.options)}, received '${e.received}'`;break;case Qe.invalid_arguments:r="Invalid function arguments";break;case Qe.invalid_return_type:r="Invalid function return type";break;case Qe.invalid_date:r="Invalid date";break;case Qe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Qe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Qe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Qe.custom:r="Invalid input";break;case Qe.invalid_intersection_types:r="Intersection results could not be merged";break;case Qe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Qe.not_finite:r="Number must be finite";break;default:r=t.defaultError,dr.assertNever(e)}return{message:r}};let FNe=fA;function BNe(){return FNe}const zNe=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function it(e,t){const r=BNe(),n=zNe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===fA?void 0:fA].filter(i=>!!i)});e.common.issues.push(n)}class $i{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return At;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return $i.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return At;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const At=Object.freeze({status:"aborted"}),Ng=e=>({status:"dirty",value:e}),ca=e=>({status:"valid",value:e}),XF=e=>e.status==="aborted",JF=e=>e.status==="dirty",Yh=e=>e.status==="valid",Qb=e=>typeof Promise<"u"&&e instanceof Promise;var gt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(gt||(gt={}));class Mo{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const QF=(e,t)=>{if(Yh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ro(e.common.issues);return this._error=r,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class Qt{get description(){return this._def.description}_getType(t){return Bc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $i,ctx:{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Qb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},i=this._parseSync({data:t,path:n.path,parent:n});return QF(n,i)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return Yh(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Yh(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Qb(i)?i:Promise.resolve(i));return QF(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),l=()=>s.addIssue({code:Qe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Qh({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tu.create(this,this._def)}nullable(){return ep.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Co.create(this)}promise(){return nw.create(this,this._def)}or(t){return ew.create([this,t],this._def)}and(t){return tw.create(this,t,this._def)}transform(t){return new Qh({...qt(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new gA({...qt(this._def),innerType:this,defaultValue:r,typeName:Tt.ZodDefault})}brand(){return new uCe({typeName:Tt.ZodBranded,type:this,...qt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new vA({...qt(this._def),innerType:this,catchValue:r,typeName:Tt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return mM.create(this,t)}readonly(){return yA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qNe=/^c[^\s-]{8,}$/i,UNe=/^[0-9a-z]+$/,VNe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,WNe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HNe=/^[a-z0-9_-]{21}$/i,KNe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GNe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ZNe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YNe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let oN;const XNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,QNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rCe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,HX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nCe=new RegExp(`^${HX}$`);function KX(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function iCe(e){return new RegExp(`^${KX(e)}$`)}function sCe(e){let t=`${HX}T${KX(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function aCe(e,t){return!!((t==="v4"||!t)&&XNe.test(e)||(t==="v6"||!t)&&QNe.test(e))}function oCe(e,t){if(!KNe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function lCe(e,t){return!!((t==="v4"||!t)&&JNe.test(e)||(t==="v6"||!t)&&eCe.test(e))}class gl extends Qt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_type,expected:dt.string,received:s.parsedType}),At}const n=new $i;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?it(i,{code:Qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&it(i,{code:Qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")ZNe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"email",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")oN||(oN=new RegExp(YNe,"u")),oN.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"emoji",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")WNe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"uuid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")HNe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"nanoid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")qNe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cuid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")UNe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cuid2",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")VNe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"ulid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),it(i,{validation:"url",code:Qe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"regex",code:Qe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?sCe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?nCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?iCe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?GNe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"duration",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?aCe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"ip",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?oCe(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"jwt",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?lCe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cidr",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?tCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"base64",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?rCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"base64url",code:Qe.invalid_string,message:s.message}),n.dirty()):dr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Qe.invalid_string,...gt.errToObj(n)})}_addCheck(t){return new gl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...gt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...gt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...gt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...gt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...gt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...gt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...gt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...gt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...gt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...gt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...gt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...gt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...gt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...gt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...gt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...gt.errToObj(r)})}nonempty(t){return this.min(1,gt.errToObj(t))}trim(){return new gl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gl.create=e=>new gl({checks:[],typeName:Tt.ZodString,coerce:e?.coerce??!1,...qt(e)});function cCe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class Xh extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_type,expected:dt.number,received:s.parsedType}),At}let n;const i=new $i;for(const s of this._def.checks)s.kind==="int"?dr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?cCe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.not_finite,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,i){return new Xh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(i)}]})}_addCheck(t){return new Xh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Xh.create=e=>new Xh({checks:[],typeName:Tt.ZodNumber,coerce:e?.coerce||!1,...qt(e)});class hv extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==dt.bigint)return this._getInvalidInput(t);let n;const i=new $i;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return it(r,{code:Qe.invalid_type,expected:dt.bigint,received:r.parsedType}),At}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,i){return new hv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(i)}]})}_addCheck(t){return new hv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hv.create=e=>new hv({checks:[],typeName:Tt.ZodBigInt,coerce:e?.coerce??!1,...qt(e)});class hA extends Qt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:dt.boolean,received:n.parsedType}),At}return ca(t.data)}}hA.create=e=>new hA({typeName:Tt.ZodBoolean,coerce:e?.coerce||!1,...qt(e)});class pv extends Qt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_type,expected:dt.date,received:s.parsedType}),At}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_date}),At}const n=new $i;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):dr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pv({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:gt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:gt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}pv.create=e=>new pv({checks:[],coerce:e?.coerce||!1,typeName:Tt.ZodDate,...qt(e)});class e3 extends Qt{_parse(t){if(this._getType(t)!==dt.symbol){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:dt.symbol,received:n.parsedType}),At}return ca(t.data)}}e3.create=e=>new e3({typeName:Tt.ZodSymbol,...qt(e)});class t3 extends Qt{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:dt.undefined,received:n.parsedType}),At}return ca(t.data)}}t3.create=e=>new t3({typeName:Tt.ZodUndefined,...qt(e)});class r3 extends Qt{_parse(t){if(this._getType(t)!==dt.null){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:dt.null,received:n.parsedType}),At}return ca(t.data)}}r3.create=e=>new r3({typeName:Tt.ZodNull,...qt(e)});class pA extends Qt{constructor(){super(...arguments),this._any=!0}_parse(t){return ca(t.data)}}pA.create=e=>new pA({typeName:Tt.ZodAny,...qt(e)});class n3 extends Qt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ca(t.data)}}n3.create=e=>new n3({typeName:Tt.ZodUnknown,...qt(e)});class fu extends Qt{_parse(t){const r=this._getOrReturnCtx(t);return it(r,{code:Qe.invalid_type,expected:dt.never,received:r.parsedType}),At}}fu.create=e=>new fu({typeName:Tt.ZodNever,...qt(e)});class i3 extends Qt{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:dt.void,received:n.parsedType}),At}return ca(t.data)}}i3.create=e=>new i3({typeName:Tt.ZodVoid,...qt(e)});class Co extends Qt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==dt.array)return it(r,{code:Qe.invalid_type,expected:dt.array,received:r.parsedType}),At;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(it(r,{code:o?Qe.too_big:Qe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(it(r,{code:Qe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(it(r,{code:Qe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Mo(r,o,r.path,l)))).then(o=>$i.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new Mo(r,o,r.path,l)));return $i.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Co({...this._def,minLength:{value:t,message:gt.toString(r)}})}max(t,r){return new Co({...this._def,maxLength:{value:t,message:gt.toString(r)}})}length(t,r){return new Co({...this._def,exactLength:{value:t,message:gt.toString(r)}})}nonempty(t){return this.min(1,t)}}Co.create=(e,t)=>new Co({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...qt(t)});function xh(e){if(e instanceof xn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=tu.create(xh(n))}return new xn({...e._def,shape:()=>t})}else return e instanceof Co?new Co({...e._def,type:xh(e.element)}):e instanceof tu?tu.create(xh(e.unwrap())):e instanceof ep?ep.create(xh(e.unwrap())):e instanceof Dd?Dd.create(e.items.map(t=>xh(t))):e}class xn extends Qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==dt.object){const u=this._getOrReturnCtx(t);return it(u,{code:Qe.invalid_type,expected:dt.object,received:u.parsedType}),At}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof fu&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=s[u],p=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Mo(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof fu){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(it(i,{code:Qe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const p=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Mo(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const p=await f.key,g=await f.value;u.push({key:p,value:g,alwaysSet:f.alwaysSet})}return u}).then(u=>$i.mergeObjectSync(n,u)):$i.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return gt.errToObj,new xn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:gt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(t){return new xn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new xn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Tt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new xn({...this._def,catchall:t})}pick(t){const r={};for(const n of dr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new xn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of dr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new xn({...this._def,shape:()=>r})}deepPartial(){return xh(this)}partial(t){const r={};for(const n of dr.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new xn({...this._def,shape:()=>r})}required(t){const r={};for(const n of dr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof tu;)s=s._def.innerType;r[n]=s}return new xn({...this._def,shape:()=>r})}keyof(){return GX(dr.objectKeys(this.shape))}}xn.create=(e,t)=>new xn({shape:()=>e,unknownKeys:"strip",catchall:fu.create(),typeName:Tt.ZodObject,...qt(t)});xn.strictCreate=(e,t)=>new xn({shape:()=>e,unknownKeys:"strict",catchall:fu.create(),typeName:Tt.ZodObject,...qt(t)});xn.lazycreate=(e,t)=>new xn({shape:e,unknownKeys:"strip",catchall:fu.create(),typeName:Tt.ZodObject,...qt(t)});class ew extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Ro(l.ctx.common.issues));return it(r,{code:Qe.invalid_union,unionErrors:o}),At}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Ro(c));return it(r,{code:Qe.invalid_union,unionErrors:l}),At}}get options(){return this._def.options}}ew.create=(e,t)=>new ew({options:e,typeName:Tt.ZodUnion,...qt(t)});function mA(e,t){const r=Bc(e),n=Bc(t);if(e===t)return{valid:!0,data:e};if(r===dt.object&&n===dt.object){const i=dr.objectKeys(t),s=dr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=mA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===dt.array&&n===dt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=mA(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===dt.date&&n===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class tw extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(XF(s)||XF(o))return At;const l=mA(s.value,o.value);return l.valid?((JF(s)||JF(o))&&r.dirty(),{status:r.value,value:l.data}):(it(n,{code:Qe.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}tw.create=(e,t,r)=>new tw({left:e,right:t,typeName:Tt.ZodIntersection,...qt(r)});class Dd extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.array)return it(n,{code:Qe.invalid_type,expected:dt.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return it(n,{code:Qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:Qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Mo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>$i.mergeArray(r,o)):$i.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Dd({...this._def,rest:t})}}Dd.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Dd({items:e,typeName:Tt.ZodTuple,rest:null,...qt(t)})};class rw extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.object)return it(n,{code:Qe.invalid_type,expected:dt.object,received:n.parsedType}),At;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Mo(n,l,n.path,l)),value:o._parse(new Mo(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?$i.mergeObjectAsync(r,i):$i.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Qt?new rw({keyType:t,valueType:r,typeName:Tt.ZodRecord,...qt(n)}):new rw({keyType:gl.create(),valueType:t,typeName:Tt.ZodRecord,...qt(r)})}}class s3 extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.map)return it(n,{code:Qe.invalid_type,expected:dt.map,received:n.parsedType}),At;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Mo(n,l,n.path,[u,"key"])),value:s._parse(new Mo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return At;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return At;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}s3.create=(e,t,r)=>new s3({valueType:t,keyType:e,typeName:Tt.ZodMap,...qt(r)});class mv extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.set)return it(n,{code:Qe.invalid_type,expected:dt.set,received:n.parsedType}),At;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(it(n,{code:Qe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(it(n,{code:Qe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return At;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Mo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new mv({...this._def,minSize:{value:t,message:gt.toString(r)}})}max(t,r){return new mv({...this._def,maxSize:{value:t,message:gt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}mv.create=(e,t)=>new mv({valueType:e,minSize:null,maxSize:null,typeName:Tt.ZodSet,...qt(t)});class a3 extends Qt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}a3.create=(e,t)=>new a3({getter:e,typeName:Tt.ZodLazy,...qt(t)});class o3 extends Qt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return it(r,{received:r.data,code:Qe.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:t.data}}get value(){return this._def.value}}o3.create=(e,t)=>new o3({value:e,typeName:Tt.ZodLiteral,...qt(t)});function GX(e,t){return new Jh({values:e,typeName:Tt.ZodEnum,...qt(t)})}class Jh extends Qt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{expected:dr.joinValues(n),received:r.parsedType,code:Qe.invalid_type}),At}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{received:r.data,code:Qe.invalid_enum_value,options:n}),At}return ca(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Jh.create(t,{...this._def,...r})}exclude(t,r=this._def){return Jh.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Jh.create=GX;class l3 extends Qt{_parse(t){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==dt.string&&n.parsedType!==dt.number){const i=dr.objectValues(r);return it(n,{expected:dr.joinValues(i),received:n.parsedType,code:Qe.invalid_type}),At}if(this._cache||(this._cache=new Set(dr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=dr.objectValues(r);return it(n,{received:n.data,code:Qe.invalid_enum_value,options:i}),At}return ca(t.data)}get enum(){return this._def.values}}l3.create=(e,t)=>new l3({values:e,typeName:Tt.ZodNativeEnum,...qt(t)});class nw extends Qt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.promise&&r.common.async===!1)return it(r,{code:Qe.invalid_type,expected:dt.promise,received:r.parsedType}),At;const n=r.parsedType===dt.promise?r.data:Promise.resolve(r.data);return ca(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nw.create=(e,t)=>new nw({type:e,typeName:Tt.ZodPromise,...qt(t)});class Qh extends Qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{it(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return At;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?At:c.status==="dirty"||r.value==="dirty"?Ng(c.value):c});{if(r.value==="aborted")return At;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"||r.value==="dirty"?Ng(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Yh(o))return At;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Yh(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):At);dr.assertNever(i)}}Qh.create=(e,t,r)=>new Qh({schema:e,typeName:Tt.ZodEffects,effect:t,...qt(r)});Qh.createWithPreprocess=(e,t,r)=>new Qh({schema:t,effect:{type:"preprocess",transform:e},typeName:Tt.ZodEffects,...qt(r)});class tu extends Qt{_parse(t){return this._getType(t)===dt.undefined?ca(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tu.create=(e,t)=>new tu({innerType:e,typeName:Tt.ZodOptional,...qt(t)});class ep extends Qt{_parse(t){return this._getType(t)===dt.null?ca(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ep.create=(e,t)=>new ep({innerType:e,typeName:Tt.ZodNullable,...qt(t)});class gA extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===dt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gA.create=(e,t)=>new gA({innerType:e,typeName:Tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class vA extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Qb(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ro(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ro(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}vA.create=(e,t)=>new vA({innerType:e,typeName:Tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class c3 extends Qt{_parse(t){if(this._getType(t)!==dt.nan){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:dt.nan,received:n.parsedType}),At}return{status:"valid",value:t.data}}}c3.create=e=>new c3({typeName:Tt.ZodNaN,...qt(e)});class uCe extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class mM extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?At:s.status==="dirty"?(r.dirty(),Ng(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?At:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new mM({in:t,out:r,typeName:Tt.ZodPipeline})}}class yA extends Qt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Yh(i)&&(i.value=Object.freeze(i.value)),i);return Qb(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}yA.create=(e,t)=>new yA({innerType:e,typeName:Tt.ZodReadonly,...qt(t)});var Tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const St=gl.create,wi=Xh.create,vn=hA.create,xA=pv.create,dCe=pA.create;fu.create;const cb=Co.create,In=xn.create;ew.create;tw.create;Dd.create;const fCe=rw.create,cn=Jh.create;nw.create;tu.create;ep.create;const hCe=({conversation:e,onReply:t,onArchive:r,onDelete:n,onMarkAsRead:i,onStar:s,showActions:o=!0})=>{const{user:l}=Or();if(console.log("🔍 ConversationCard - Données reçues:",{id:e.id,participant1_id:e.participant1_id,participant2_id:e.participant2_id,participant1:e.participant1,participant2:e.participant2,messages:e.messages?.length||0,currentUserId:l?.id,p1_details:e.participant1?{id:e.participant1.id,first_name:e.participant1.first_name,last_name:e.participant1.last_name,profile_image:e.participant1.profile_image,avatar_url:e.participant1.avatar_url}:null,p2_details:e.participant2?{id:e.participant2.id,first_name:e.participant2.first_name,last_name:e.participant2.last_name,profile_image:e.participant2.profile_image,avatar_url:e.participant2.avatar_url}:null}),e.id==="welcome-message"||e.type==="system"||e.is_system)return a.jsx(zt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 shadow-sm",children:a.jsx(Ut,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"🤖"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-blue-800",children:"Assistant MaxiMarket"}),a.jsx(yt,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Système"})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:e.content||"Bienvenue sur MaxiMarket !"}),a.jsx("div",{className:"flex items-center space-x-1 mt-2",children:a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),"À l'instant"]})})]})]})})});const u=S=>{if(!S)return"À l'instant";try{const N=new Date(S),C=new Date,k=Math.floor((C-N)/(1e3*60*60)),A=Math.floor((C-N)/(1e3*60*60*24));return k<1?"À l'instant":k<24?`Il y a ${k}h`:A<7?`Il y a ${A}j`:N.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}},f=e.messages&&e.messages.length>0?e.messages[e.messages.length-1]:null;let p=null,g="unknown";l&&e.participant1&&e.participant2?e.participant1_id===l.id?(p=e.participant2,g="participant2"):e.participant2_id===l.id?(p=e.participant1,g="participant1"):e.participant1_id==="00000000-0000-0000-0000-000000000000"?(p=e.participant2,g="assistant_participant2"):e.participant2_id==="00000000-0000-0000-0000-000000000000"?(p=e.participant1,g="assistant_participant1"):(p=e.participant1,g="fallback_participant1"):e.participant1?(p=e.participant1,g="only_participant1"):e.participant2&&(p=e.participant2,g="only_participant2"),console.log("🔍 ConversationCard - Logique de sélection du participant:",{conversationId:e.id,currentUserId:l?.id,participant1_id:e.participant1_id,participant2_id:e.participant2_id,participantSource:g,otherParticipant:p?{id:p.id,first_name:p.first_name,last_name:p.last_name,profile_image:p.profile_image,avatar_url:p.avatar_url}:null});const w=(S=>{if(!S)return console.warn("⚠️ ConversationCard - Participant null/undefined"),"Utilisateur inconnu";if(S.first_name&&S.last_name)return`${S.first_name} ${S.last_name}`;if(S.first_name)return S.first_name;if(S.last_name)return S.last_name;if(S.name)return S.name;if(S.email){const N=S.email.split("@")[0];return N.charAt(0).toUpperCase()+N.slice(1)}return console.warn("⚠️ ConversationCard - Aucun nom trouvé pour le participant:",S),"Utilisateur"})(p);console.log("🔍 ConversationCard - Nom d'affichage final:",{conversationId:e.id,displayName:w,participant:p});const y=e.messages&&e.messages.some(S=>!S.is_read&&S.sender_id!==l?.id),_=!p||!p.first_name&&!p.last_name&&!p.name;return a.jsx(zt,{className:Ke("transition-all duration-200 hover:shadow-md",y&&"bg-blue-50 border-blue-200",e.starred&&"bg-yellow-50 border-yellow-200",_&&"bg-orange-50 border-orange-200"),children:a.jsx(Ut,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fv,{user:p,size:"lg",className:"flex-shrink-0"}),y&&a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 border-2 border-white rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:w}),_&&a.jsxs(yt,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:[a.jsx(Kd,{className:"h-3 w-3 mr-1"}),"Données manquantes"]}),y&&a.jsx(yt,{variant:"destructive",className:"text-xs",children:"Nouveau"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[e.starred&&a.jsx(Ha,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),u(e.last_message_at)]})]})]}),f&&a.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:f.content||"Aucun contenu"}),a.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[e.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Td,{className:"h-3 w-3 mr-1"}),e.listing.title||"Annonce"]}),e.messages&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(es,{className:"h-3 w-3 mr-1"}),e.messages.length," message",e.messages.length>1?"s":""]})]})}),o&&a.jsxs("div",{className:"flex items-center space-x-2 mt-3 pt-3 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>t?.(e),className:"flex-1",children:[a.jsx(lde,{className:"h-3 w-3 mr-1"}),"Répondre"]}),a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(e),className:"flex-1",children:[a.jsx(Rl,{className:"h-3 w-3 mr-1"}),"Marquer lu"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(e),children:a.jsx(h_,{className:"h-3 w-3"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>s?.(e),children:a.jsx(Ha,{className:"h-3 w-3"})})]})]})]})})})},pCe=({activities:e=[]})=>{const t=i=>{switch(i){case"view":return a.jsx(Rl,{className:"h-4 w-4"});case"message":return a.jsx(es,{className:"h-4 w-4"});case"favorite":return a.jsx(Ao,{className:"h-4 w-4"});case"boost":return a.jsx(La,{className:"h-4 w-4"});case"approval":return a.jsx(Li,{className:"h-4 w-4"});case"warning":return a.jsx(Zn,{className:"h-4 w-4"});case"info":return a.jsx(Gue,{className:"h-4 w-4"});default:return a.jsx(xT,{className:"h-4 w-4"})}},r=i=>{switch(i){case"view":return"bg-blue-50 border-blue-200";case"message":return"bg-green-50 border-green-200";case"favorite":return"bg-pink-50 border-pink-200";case"boost":return"bg-purple-50 border-purple-200";case"approval":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},n=i=>{switch(i){case"view":return"text-blue-500";case"message":return"text-green-500";case"favorite":return"text-pink-500";case"boost":return"text-purple-500";case"approval":return"text-green-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}};return e.length===0?a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsxs(cr,{className:"flex items-center space-x-2",children:[a.jsx(La,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsx(Ut,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(La,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Aucune activité récente"}),a.jsx("p",{className:"text-xs mt-1",children:"Vos activités apparaîtront ici"})]})})]}):a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsxs(cr,{className:"flex items-center space-x-2",children:[a.jsx(La,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsxs(Ut,{children:[a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsxs("div",{className:Ke("flex items-start space-x-3 p-3 rounded-lg transition-colors",r(i.type),i.unread&&"bg-blue-50 border-blue-200"),children:[a.jsx("div",{className:Ke("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",r(i.type).replace("border-","bg-").replace("-50","-100")),children:a.jsx("div",{className:n(i.type),children:t(i.type)})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:i.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[i.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Rl,{className:"h-3 w-3 mr-1"}),i.listing]}),i.location&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(So,{className:"h-3 w-3 mr-1"}),i.location]}),i.sender&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ji,{className:"h-3 w-3 mr-1"}),i.sender]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[i.unread&&a.jsx(yt,{variant:"destructive",className:"text-xs",children:"Nouveau"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 mr-1"}),i.time]})]})]})})]},i.id))}),activitiesToShow.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(xT,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune activité"}),a.jsx("p",{className:"text-muted-foreground",children:"Vous n'avez pas encore d'activité récente."})]})]})]})},mCe=({stats:e={}})=>{const t=[{id:"new-listing",title:"Nouvelle Annonce",description:"Publier une nouvelle annonce",icon:cu,color:"from-primary to-blue-600",href:"/creer-annonce",badge:null},{id:"messages",title:"Messages",description:"Voir vos conversations",icon:es,color:"from-green-500 to-green-600",href:"/messages",badge:e.unreadMessages||0},{id:"favorites",title:"Mes Favoris",description:"Annonces sauvegardées",icon:Ao,color:"from-pink-500 to-pink-600",href:"/favorites",badge:e.totalFavorites||0},{id:"analytics",title:"Analytics",description:"Voir vos statistiques",icon:La,color:"from-purple-500 to-purple-600",href:"/admin/analytics",badge:null},{id:"settings",title:"Paramètres",description:"Configurer votre compte",icon:dd,color:"from-gray-500 to-gray-600",href:"/profile",badge:null},{id:"support",title:"Support",description:"Besoin d'aide ?",icon:BO,color:"from-orange-500 to-orange-600",href:"/aide",badge:null}];return a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsxs(cr,{className:"flex items-center space-x-2",children:[a.jsx(cu,{className:"h-5 w-5"}),a.jsx("span",{children:"Actions Rapides"})]})}),a.jsx(Ut,{children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map(r=>a.jsx(ue,{variant:"outline",className:`h-12 bg-gradient-to-r ${r.color} hover:from-primary/90 hover:to-blue-600/90 text-white border-0 transition-all duration-200 hover:scale-105`,asChild:!0,children:a.jsxs(ir,{to:r.href,className:"flex items-center space-x-2",children:[a.jsx(r.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:r.title}),r.badge&&r.badge>0&&a.jsx(yt,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-0",children:r.badge})]})},r.id))})})]})},gCe=()=>{const{user:e,loading:t,logout:r}=Or(),{toast:n}=Cn(),i=Fn(),[s,o]=x.useState(!1),{activeTab:l,handleTabChange:c}=nye("dashboard"),[u,f]=x.useState([]),[p,g]=x.useState([]),[v,w]=x.useState([]),[y,_]=x.useState({totalListings:0,activeListings:0,totalViews:0,totalContacts:0,unreadMessages:0,totalFavorites:0}),[S,N]=x.useState({isOpen:!1,item:null}),[C,k]=x.useState({isOpen:!1,item:null}),[A,T]=x.useState({isOpen:!1,item:null}),[O,I]=x.useState({isOpen:!1,item:null}),[q,Z]=x.useState(1),[V,U]=x.useState(1),[z]=x.useState(6),{register:H,handleSubmit:re,formState:{errors:se}}=my({defaultValues:{firstName:e?.firstName||"",lastName:e?.lastName||"",email:e?.email||"",phoneNumber:e?.phoneNumber||""}});x.useEffect(()=>{(async()=>{if(e)try{const Ve=await Hr.getUserListings();f(Ve);let qe=[];try{qe=await Sl.getUserFavorites()}catch(_e){console.warn("Erreur lors du chargement des favoris:",_e)}w(qe);let Ne=[];try{Ne=await xi.getUserConversations()}catch(_e){console.warn("Erreur lors du chargement des messages:",_e)}g(Ne);const ot=Ve.filter(_e=>_e.status==="approved").length,It=Ve.reduce((_e,ke)=>_e+(ke.views_count||0),0),fe=Ne.filter(_e=>!_e.read).length;_({totalListings:Ve.length,activeListings:ot,totalViews:It,totalContacts:Ne.length,unreadMessages:fe,totalFavorites:qe.length}),U(Math.ceil(Ve.length/z))}catch(Ve){console.error("Erreur lors du chargement des données:",Ve),n({title:"Erreur",description:"Impossible de charger vos données",variant:"destructive"})}})()},[e,n]);const W=async xe=>{try{o(!0),await $a.updateProfile(xe),n({title:"Profil mis à jour",description:"Vos informations ont été mises à jour avec succès."})}catch(Ve){n({title:"Erreur",description:Ve.message,variant:"destructive"})}finally{o(!1)}},Q=async xe=>{try{o(!0),await $a.updatePassword(xe.newPassword),n({title:"Mot de passe mis à jour",description:"Votre mot de passe a été changé avec succès."})}catch(Ve){n({title:"Erreur",description:Ve.message,variant:"destructive"})}finally{o(!1)}},Y=xe=>{k({isOpen:!0,item:xe})},ne=xe=>{N({isOpen:!0,item:xe})},J=xe=>{I({isOpen:!0,item:xe})},oe=xe=>{T({isOpen:!0,item:xe})},be=async()=>{try{const xe=C.item;i(`/editer-annonce/${xe.id}`),k({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de modifier l'annonce",variant:"destructive"})}},Ce=async()=>{try{const xe=S.item;await Hr.deleteListing(xe.id);const Ve=u.filter(qe=>qe.id!==xe.id);f(Ve),n({title:"Annonce supprimée",description:`"${xe.title}" a été supprimée`}),N({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de supprimer l'annonce",variant:"destructive"})}},De=async()=>{try{const xe=O.item;await Hr.updateListing(xe.id,{boosted:!xe.boosted});const Ve=u.map(qe=>qe.id===xe.id?{...qe,boosted:!qe.boosted}:qe);f(Ve),n({title:"Annonce boostée",description:`"${xe.title}" a été boostée`}),I({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de booster l'annonce",variant:"destructive"})}},ce=async()=>{try{const xe=A.item;await Hr.updateListing(xe.id,{updated_at:new Date().toISOString()}),n({title:"Annonce actualisée",description:`"${xe.title}" a été actualisée`}),T({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible d'actualiser l'annonce",variant:"destructive"})}},ae=xe=>{Z(xe)},ge=()=>{const xe=(q-1)*z,Ve=xe+z;return u.slice(xe,Ve)},he=xe=>{i(`/messages?conversation=${xe.id}`)},Pe=async xe=>{try{await xi.archiveConversation(xe.id);const Ve=p.map(qe=>qe.id===xe.id?{...qe,is_archived:!0}:qe);g(Ve),n({title:"Conversation archivée",description:"La conversation a été archivée"})}catch{n({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},ee=async xe=>{try{await xi.markMessagesAsRead(xe.id);const Ve=p.map(qe=>qe.id===xe.id?{...qe,messages:qe.messages?.map(Ne=>({...Ne,is_read:!0}))}:qe);g(Ve),_(qe=>({...qe,unreadMessages:Math.max(0,qe.unreadMessages-1)})),n({title:"Messages marqués comme lus",description:"Les messages ont été marqués comme lus"})}catch{n({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},G=async xe=>{try{const Ve=!xe.starred;await xi.toggleConversationStar(xe.id,Ve);const qe=p.map(Ne=>Ne.id===xe.id?{...Ne,starred:Ve}:Ne);g(qe),n({title:Ve?"Conversation ajoutée aux favoris":"Conversation retirée des favoris",description:Ve?"La conversation a été ajoutée à vos favoris":"La conversation a été retirée de vos favoris"})}catch{n({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},we=async()=>{try{if(await r())n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i("/");else throw new Error("Échec de la déconnexion")}catch(xe){n({title:"Erreur de déconnexion",description:xe.message||"Une erreur est survenue lors de la déconnexion",variant:"destructive"})}};return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(kr,{className:"h-8 w-8 animate-spin"})}):a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/20",children:[a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center overflow-hidden shadow-lg",children:e?.profileImage?a.jsx("img",{src:e.profileImage,alt:`${e.firstName} ${e.lastName}`,className:"w-full h-full object-cover"}):a.jsx(Ji,{className:"h-10 w-10 text-white"})}),a.jsx(ue,{size:"icon",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full shadow-md",children:a.jsx(wd,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[e?.firstName," ",e?.lastName]}),a.jsxs("p",{className:"text-muted-foreground flex items-center",children:[a.jsx(lu,{className:"h-4 w-4 mr-2"}),e?.email]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsxs(yt,{variant:"secondary",className:"bg-green-100 text-green-800",children:[a.jsx(Ab,{className:"h-3 w-3 mr-1"}),"Compte vérifié"]}),a.jsxs(yt,{variant:"outline",children:["Membre depuis ",new Date(e?.createdAt).toLocaleDateString()]})]})]})]})}),a.jsxs(QO,{value:l,onValueChange:c,className:"w-full",children:[a.jsxs(b_,{className:"grid w-full grid-cols-7 bg-white/50 backdrop-blur-sm border border-border/50",children:[a.jsxs(Oi,{value:"dashboard",className:"flex items-center space-x-2",children:[a.jsx($g,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),a.jsxs(Oi,{value:"listings",className:"flex items-center space-x-2",children:[a.jsx(Td,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Mes Annonces"})]}),a.jsxs(Oi,{value:"messages",className:"flex items-center space-x-2",children:[a.jsx(es,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Messages"}),y.unreadMessages>0&&a.jsx(yt,{variant:"destructive",className:"h-5 w-5 p-0 text-xs",children:y.unreadMessages})]}),a.jsxs(Oi,{value:"favorites",className:"flex items-center space-x-2",children:[a.jsx(Ao,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Favoris"})]}),a.jsxs(Oi,{value:"transactions",className:"flex items-center space-x-2",children:[a.jsx(Fg,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),a.jsxs(Oi,{value:"profile",className:"flex items-center space-x-2",children:[a.jsx(Ji,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Profil"})]}),a.jsxs(Oi,{value:"security",className:"flex items-center space-x-2",children:[a.jsx(Ab,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sécurité"})]})]}),a.jsxs(Ri,{value:"dashboard",className:"space-y-6",children:[t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((xe,Ve)=>a.jsx(rSe,{},Ve))}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(w0,{title:"Annonces Actives",value:y.activeListings,icon:Td,color:"blue"}),a.jsx(w0,{title:"Total des Vues",value:y.totalViews.toLocaleString(),icon:Rl,color:"green"}),a.jsx(w0,{title:"Contacts Reçus",value:y.totalContacts,icon:za,color:"purple"}),a.jsx(w0,{title:"Messages Non Lus",value:y.unreadMessages,icon:xT,color:"orange"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(pCe,{}),a.jsx(mCe,{stats:y})]})]}),a.jsxs(Ri,{value:"listings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos annonces publiées"})]}),a.jsx(ue,{asChild:!0,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",children:a.jsxs(ir,{to:"/creer-annonce",children:[a.jsx(cu,{className:"h-4 w-4 mr-2"}),"Nouvelle Annonce"]})})]}),t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((xe,Ve)=>a.jsx(tSe,{},Ve))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge().map(xe=>a.jsx(iF,{listing:xe,onEdit:Y,onDelete:ne,onRefresh:oe,onBoost:J,showActions:!0},xe.id))}),a.jsx(P1e,{currentPage:q,totalPages:V,onPageChange:ae,hasNextPage:q<V,hasPrevPage:q>1,isLoading:t})]})]}),a.jsxs(Ri,{value:"messages",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),"Filtrer"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Rechercher"]})]})]}),a.jsx("div",{className:"space-y-4",children:p.map(xe=>a.jsx(hCe,{conversation:xe,onReply:he,onArchive:Pe,onDelete:()=>{},onMarkAsRead:ee,onStar:G,showActions:!0},xe.id))})]}),a.jsxs(Ri,{value:"favorites",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Favoris"}),a.jsx("p",{className:"text-muted-foreground",children:"Annonces que vous avez sauvegardées"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(xe=>a.jsx(iF,{listing:xe,showActions:!1},xe.id))})]}),a.jsxs(Ri,{value:"transactions",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Historique de vos transactions"})]})}),a.jsx(zt,{children:a.jsx(Ut,{className:"p-6",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Fg,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune transaction"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous n'avez pas encore effectué de transactions sur MaxiMarket."}),a.jsx(ue,{variant:"outline",children:"Découvrir nos services"})]})})})]}),a.jsxs(Ri,{value:"profile",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Informations du profil"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos informations personnelles"})]})}),a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Paramètres du profil"}),a.jsx(wn,{children:"Gérez vos informations personnelles et vos préférences"})]}),a.jsx(Ut,{children:a.jsxs("form",{onSubmit:re(W),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ji,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",className:"pl-10",...H("firstName",{required:"Le prénom est requis"})})]}),se.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:se.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ji,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",className:"pl-10",...H("lastName",{required:"Le nom est requis"})})]}),se.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:se.lastName.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(lu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",className:"pl-10",...H("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),se.email&&a.jsx("p",{className:"text-sm text-destructive",children:se.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Da,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",className:"pl-10",...H("phoneNumber",{pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),se.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:se.phoneNumber.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Mettre à jour le profil"})]})})]})]}),a.jsxs(Ri,{value:"security",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Sécurité"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez la sécurité de votre compte"})]})}),a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Changer le mot de passe"}),a.jsx(wn,{children:"Assurez-vous d'utiliser un mot de passe fort et unique"})]}),a.jsx(Ut,{children:a.jsxs("form",{onSubmit:re(Q),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"currentPassword",type:"password",className:"pl-10",...H("currentPassword",{required:"Le mot de passe actuel est requis"})})]}),se.currentPassword&&a.jsx("p",{className:"text-sm text-destructive",children:se.currentPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"newPassword",type:"password",className:"pl-10",...H("newPassword",{required:"Le nouveau mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),se.newPassword&&a.jsx("p",{className:"text-sm text-destructive",children:se.newPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Changer le mot de passe"})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(ue,{onClick:we,variant:"destructive",className:"w-full",children:[a.jsx(qO,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})})]})]})]}),a.jsx(x0e,{isOpen:S.isOpen,onClose:()=>N({isOpen:!1,item:null}),onConfirm:Ce,itemName:S.item?.title,isLoading:s}),a.jsx(b0e,{isOpen:C.isOpen,onClose:()=>k({isOpen:!1,item:null}),onConfirm:be,itemName:C.item?.title,isLoading:s}),a.jsx(w0e,{isOpen:A.isOpen,onClose:()=>T({isOpen:!1,item:null}),onConfirm:ce,itemName:A.item?.title,isLoading:s}),a.jsx(_0e,{isOpen:O.isOpen,onClose:()=>I({isOpen:!1,item:null}),onConfirm:De,itemName:O.item?.title,isLoading:s})]})},vCe=()=>{const e=Fn();return x.useEffect(()=>{(async()=>{try{const{data:{session:r}}=await Se.auth.getSession();r?.user?e("/",{replace:!0}):e("/connexion",{replace:!0})}catch{e("/connexion",{replace:!0})}})()},[e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx(kr,{className:"mr-2 h-5 w-5 animate-spin"}),"Traitement de la confirmation..."]})})};function yCe(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[i,s]=x.useState(null);return x.useEffect(()=>{(async()=>{try{const{data:{session:v}}=await Se.auth.getSession();s(v),t(v?.user??null)}catch(v){console.error("Erreur lors de la récupération de la session:",v)}finally{n(!1)}})();const{data:{subscription:g}}=Se.auth.onAuthStateChange(async(v,w)=>{console.log("🔄 Événement d'authentification:",v),s(w),t(w?.user??null),n(!1)});return()=>g.unsubscribe()},[]),{user:e,session:i,loading:r,signIn:async(p,g)=>{try{const{data:v,error:w}=await Se.auth.signInWithPassword({email:p,password:g});if(w)throw w;return{data:v,error:null}}catch(v){return console.error("Erreur de connexion:",v),{data:null,error:v}}},signUp:async(p,g,v={})=>{try{const{data:w,error:y}=await Se.auth.signUp({email:p,password:g,options:{data:v}});if(y)throw y;return{data:w,error:null}}catch(w){return console.error("Erreur d'inscription:",w),{data:null,error:w}}},signOut:async()=>{try{const{error:p}=await Se.auth.signOut();if(p)throw p;return{error:null}}catch(p){return console.error("Erreur de déconnexion:",p),{error:p}}},resetPassword:async p=>{try{const{data:g,error:v}=await Se.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de réinitialisation de mot de passe:",g),{data:null,error:g}}},updatePassword:async p=>{try{const{data:g,error:v}=await Se.auth.updateUser({password:p});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de mise à jour du mot de passe:",g),{data:null,error:g}}},isAuthenticated:!!e}}const xCe=(e={})=>{const{user:t}=Or();return Gn({queryKey:["conversations",t?.id,e],queryFn:async()=>{try{console.log("🔍 Hook useConversations - Début de la récupération");const r=await xi.getUserConversations();return console.log("🔍 Hook useConversations - Récupération réussie:",r?.length||0),r}catch(r){throw console.error("❌ Hook useConversations - Erreur lors de la récupération:",r),r.code==="PGRST116"?new Error("Erreur de base de données: Vérifiez la structure des tables"):r.message?.includes("Invalid Refresh Token")?new Error("Session expirée. Veuillez vous reconnecter."):r.status===400?new Error("Requête invalide. Vérifiez les paramètres."):new Error(`Erreur de messagerie: ${r.message||"Erreur inconnue"}`)}},enabled:!!t,staleTime:3e4,gcTime:5*60*1e3,retry:(r,n)=>n.message?.includes("Session expirée")||n.message?.includes("Utilisateur non connecté")?!1:r<2,retryDelay:r=>Math.min(1e3*2**r,3e4)})},bCe=e=>{const t=Fo(),{user:r}=Or();x.useEffect(()=>{if(!e||!r)return;const n=Se.channel(`messages:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},i=>{t.setQueryData(["conversation-messages",e],s=>{if(!s)return s;const o=i.new,l=[...s.pages];return l.length>0&&(l[l.length-1]=[...l[l.length-1],o]),{...s,pages:l}}),t.setQueryData(["conversations"],s=>s&&s.map(o=>o.id===e?{...o,last_message_at:newMessage.created_at,messages:[...o.messages||[],newMessage]}:o))}).subscribe();return()=>{Se.removeChannel(n)}},[e,r,t])},wCe=({selectedConversation:e,onBack:t,onMenuToggle:r,onSearch:n,onFilter:i,onMore:s,onCall:o,onVideo:l,unreadCount:c=0,isStarred:u=!1,isArchived:f=!1})=>e?a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:t,className:"p-2 -ml-2",children:a.jsx(Ua,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:a.jsx(Ji,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.participant1?.first_name||"Utilisateur"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.listing?.title||"Conversation"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[o&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:o,className:"p-2",children:a.jsx(Da,{className:"h-4 w-4"})}),l&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:l,className:"p-2",children:a.jsx(WO,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:a.jsx(Ud,{className:"h-4 w-4"})})]})]}):a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Messages"}),c>0&&a.jsx(yt,{variant:"destructive",className:"h-5 px-2 text-xs",children:c})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-2",children:a.jsx(Yn,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-2",children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:a.jsx(v9,{className:"h-4 w-4"})})]})]}),_Ce=({searchTerm:e,onSearchChange:t,filterType:r,onFilterChange:n,onClear:i,totalCount:s=0,unreadCount:o=0,starredCount:l=0,archivedCount:c=0})=>{const[u,f]=x.useState(!1),p=[{key:"all",label:"Toutes",icon:es,count:s},{key:"unread",label:"Non lues",icon:Wa,count:o},{key:"starred",label:"Favoris",icon:Ha,count:l},{key:"archived",label:"Archivées",icon:h_,count:c}];return a.jsxs("div",{className:"bg-card border-b border-border p-4",children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher des conversations...",value:e,onChange:g=>t(g.target.value),className:"pl-10 pr-10"}),e&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 h-6 w-6",children:a.jsx(Ms,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex space-x-2 mb-3",children:p.map(g=>a.jsxs(ue,{variant:r===g.key?"default":"outline",size:"sm",onClick:()=>n(g.key),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(g.icon,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs",children:g.label}),g.count>0&&a.jsx(yt,{variant:"secondary",className:"ml-1 h-4 px-1 text-xs",children:g.count})]},g.key))}),u&&a.jsx("div",{className:"pt-3 border-t border-border",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Ji,{className:"h-3 w-3 mr-1"}),"Par utilisateur"]}),a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Td,{className:"h-3 w-3 mr-1"}),"Par annonce"]})]})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>f(!u),className:"text-xs text-muted-foreground hover:text-foreground",children:[a.jsx(rs,{className:"h-3 w-3 mr-1"}),u?"Masquer":"Plus de filtres"]})})]})},jCe=({onCapture:e,onClose:t,isOpen:r=!1,quality:n=.8,maxWidth:i=1920,maxHeight:s=1080})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState(!1),[p,g]=x.useState(null),[v,w]=x.useState(null),[y,_]=x.useState(null),[S,N]=x.useState(!1),[C,k]=x.useState("user"),{toast:A}=Cn(),T=x.useCallback(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){w("Votre navigateur ne supporte pas l'accès à la caméra");return}f(!0),w(null);try{const z={video:{facingMode:C,width:{ideal:i},height:{ideal:s}},audio:!1},H=await navigator.mediaDevices.getUserMedia(z);c.current=H,o.current&&(o.current.srcObject=H,o.current.onloadedmetadata=()=>{N(!0),f(!1)}),g(!0)}catch(z){console.error("Erreur caméra:",z),z.name==="NotAllowedError"?w("Permission d'accès à la caméra refusée. Veuillez autoriser l'accès dans les paramètres de votre navigateur."):z.name==="NotFoundError"?w("Aucune caméra trouvée sur votre appareil."):z.name==="NotReadableError"?w("La caméra est déjà utilisée par une autre application."):w("Erreur lors de l'accès à la caméra. Veuillez réessayer."),g(!1),f(!1)}},[C,i,s]),O=x.useCallback(()=>{c.current&&(c.current.getTracks().forEach(z=>z.stop()),c.current=null),N(!1)},[]),I=x.useCallback(()=>{S&&(O(),k(z=>z==="user"?"environment":"user"),setTimeout(()=>T(),100))},[S,O,T]),q=x.useCallback(()=>{if(!o.current||!l.current)return;const z=o.current,H=l.current,re=H.getContext("2d");H.width=z.videoWidth,H.height=z.videoHeight,re.drawImage(z,0,0,H.width,H.height),H.toBlob(se=>{if(se){const W=URL.createObjectURL(se);_({blob:se,url:W,timestamp:new Date().toISOString()}),A({title:"Photo capturée !",description:"Votre photo a été capturée avec succès.",duration:3e3})}},"image/jpeg",n)},[n,A]),Z=x.useCallback(()=>{_(null),y?.url&&URL.revokeObjectURL(y.url)},[y]),V=x.useCallback(()=>{y&&e&&(e(y),t())},[y,e,t]),U=x.useCallback(()=>{O(),y?.url&&URL.revokeObjectURL(y.url),_(null),w(null),t()},[O,y,t]);return x.useEffect(()=>{r&&!S&&T()},[r,S,T]),x.useEffect(()=>()=>{O(),y?.url&&URL.revokeObjectURL(y.url)},[O,y]),p===!1?a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Zn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la caméra refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v||"Pour utiliser la caméra, vous devez autoriser l'accès dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Fermer"}),a.jsx(ue,{onClick:T,children:"Réessayer"})]})]})})}):a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(wd,{className:"h-5 w-5 mr-2"}),"Prendre une photo"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4",children:u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(kr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]}):y?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:a.jsx("img",{src:y.url,alt:"Photo capturée",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:Z,children:[a.jsx(b$,{className:"h-4 w-4 mr-2"}),"Reprendre"]}),a.jsxs(ue,{onClick:V,children:[a.jsx(Li,{className:"h-4 w-4 mr-2"}),"Utiliser cette photo"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:[a.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!S&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx(wd,{className:"h-16 w-16 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]})})]}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:I,disabled:!S,className:"flex items-center",children:[a.jsx(b$,{className:"h-4 w-4 mr-2"}),"Changer de caméra"]}),a.jsxs(ue,{onClick:q,disabled:!S,size:"lg",className:"bg-primary hover:bg-primary/90",children:[a.jsx(wd,{className:"h-5 w-5 mr-2"}),"Prendre la photo"]})]}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:'Positionnez-vous dans le cadre et appuyez sur "Prendre la photo"'}),a.jsx("p",{className:"mt-1",children:"Vous pourrez reprendre la photo si nécessaire"})]})]})})]})})})},SCe=({onFilesSelected:e,onClose:t,isOpen:r=!1,maxFiles:n=10,maxFileSize:i=10*1024*1024,acceptedTypes:s=["image/*","video/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","application/zip"],multiple:o=!0})=>{const l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState([]),[p,g]=x.useState(!1),[v,w]=x.useState({}),[y,_]=x.useState([]),[S,N]=x.useState({}),{toast:C}=Cn(),k=W=>W.type.startsWith("image/")?"image":W.type.startsWith("video/")?"video":W.type.startsWith("application/pdf")?"pdf":W.type.includes("word")||W.type.includes("document")?"document":W.type.includes("excel")||W.type.includes("spreadsheet")?"spreadsheet":W.type.includes("text/")||W.type.includes("csv")?"text":W.type.includes("zip")||W.type.includes("archive")?"archive":"other",A=W=>{switch(W){case"image":return a.jsx(p9,{className:"h-8 w-8 text-blue-500"});case"video":return a.jsx(WO,{className:"h-8 w-8 text-purple-500"});case"pdf":return a.jsx(Vr,{className:"h-8 w-8 text-red-500"});case"document":return a.jsx(Vr,{className:"h-8 w-8 text-blue-600"});case"spreadsheet":return a.jsx(Vr,{className:"h-8 w-8 text-green-600"});case"text":return a.jsx(Vr,{className:"h-8 w-8 text-gray-600"});case"archive":return a.jsx(Tb,{className:"h-8 w-8 text-orange-500"});default:return a.jsx(Tb,{className:"h-8 w-8 text-gray-500"})}},T=W=>{if(W===0)return"0 Bytes";const Q=1024,Y=["Bytes","KB","MB","GB"],ne=Math.floor(Math.log(W)/Math.log(Q));return parseFloat((W/Math.pow(Q,ne)).toFixed(2))+" "+Y[ne]},O=W=>{const Q=[];return W.size>i&&Q.push(`Le fichier "${W.name}" est trop volumineux (${T(W.size)}). Taille maximale : ${T(i)}`),s.some(ne=>ne.endsWith("/*")?W.type.startsWith(ne.slice(0,-1)):W.type===ne)||Q.push(`Le type de fichier "${W.type}" n'est pas accepté pour "${W.name}"`),u.length>=n&&Q.push(`Nombre maximum de fichiers atteint (${n})`),Q},I=x.useCallback(W=>{if(W.type.startsWith("image/")){const Q=new FileReader;Q.onload=Y=>{N(ne=>({...ne,[W.name]:Y.target.result}))},Q.readAsDataURL(W)}},[]),q=x.useCallback(W=>{const Q=Array.from(W),Y=[],ne=[];Q.forEach(J=>{const oe=O(J);oe.length===0?(ne.push(J),I(J)):Y.push(...oe)}),Y.length>0&&(_(Y),C({title:"Erreurs de validation",description:Y.slice(0,3).join(". "),variant:"destructive",duration:5e3})),ne.length>0&&(f(J=>[...J,...ne]),C({title:"Fichiers ajoutés",description:`${ne.length} fichier(s) ajouté(s) avec succès.`,duration:3e3}))},[u,n,i,s,I,C]),Z=x.useCallback(W=>{W.preventDefault(),g(!1);const Q=W.dataTransfer.files;Q.length>0&&q(Q)},[q]),V=x.useCallback(W=>{W.preventDefault(),g(!0)},[]),U=x.useCallback(W=>{W.preventDefault(),g(!1)},[]),z=x.useCallback(W=>{f(Q=>Q.filter(Y=>Y.name!==W)),N(Q=>{const Y={...Q};return delete Y[W],Y}),w(Q=>{const Y={...Q};return delete Y[W],Y})},[]),H=x.useCallback(()=>{u.length>0&&e&&(e(u),t())},[u,e,t]),re=x.useCallback(W=>{w(Y=>({...Y,[W.name]:0}));const Q=setInterval(()=>{w(Y=>{const ne=Y[W.name]||0;return ne>=100?(clearInterval(Q),Y):{...Y,[W.name]:ne+10}})},100)},[]),se=x.useCallback(()=>{f([]),N({}),w({}),_([]),t()},[t]);return a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Zm,{className:"h-5 w-5 mr-2"}),"Sélectionner des fichiers"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:se,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{ref:c,onDrop:Z,onDragOver:V,onDragLeave:U,className:`
                  border-2 border-dashed rounded-lg p-8 text-center transition-colors
                  ${p?"border-primary bg-primary/10":"border-border hover:border-primary/50"}
                `,children:[a.jsx(Zm,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Glissez-déposez vos fichiers ici"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"ou cliquez pour sélectionner des fichiers"}),a.jsxs(ue,{onClick:()=>l.current?.click(),variant:"outline",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[a.jsx(Zm,{className:"h-4 w-4 mr-2"}),"Choisir des fichiers"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Types acceptés : Images, Vidéos, PDF, Documents, etc.",a.jsx("br",{}),"Taille maximale : ",T(i)," par fichier"]})]}),a.jsx("input",{ref:l,type:"file",multiple:o,accept:s.join(","),onChange:W=>q(W.target.files),className:"hidden"}),u.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium",children:["Fichiers sélectionnés (",u.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:u.map((W,Q)=>a.jsx(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-lg p-3 bg-muted/30",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[A(k(W)),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",title:W.name,children:W.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[T(W.size)," • ",k(W)]}),S[W.name]&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:S[W.name],alt:W.name,className:"w-16 h-16 object-cover rounded border"})}),v[W.name]!==void 0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(H9,{value:v[W.name],className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v[W.name],"% terminé"]})]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>re(W),disabled:v[W.name]!==void 0,children:a.jsx(Zm,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>z(W.name),className:"text-red-500 hover:text-red-700",children:a.jsx(ko,{className:"h-4 w-4"})})]})]})},`${W.name}-${Q}`))})]}),y.length>0&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Zn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreurs de validation"}),a.jsxs("ul",{className:"text-sm text-destructive space-y-1",children:[y.slice(0,5).map((W,Q)=>a.jsxs("li",{children:["• ",W]},Q)),y.length>5&&a.jsxs("li",{children:["• ... et ",y.length-5," autres erreurs"]})]})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:u.length>0?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Li,{className:"h-4 w-4 mr-2 text-green-500"}),u.length," fichier(s) prêt(s) à être envoyé(s)"]}):"Aucun fichier sélectionné"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:se,children:"Annuler"}),a.jsxs(ue,{onClick:H,disabled:u.length===0,className:"bg-primary hover:bg-primary/90",children:[a.jsx(Zm,{className:"h-4 w-4 mr-2"}),"Envoyer ",u.length>0&&`(${u.length})`]})]})]})]})})})};var Cg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var NCe=Cg.exports,u3;function CCe(){return u3||(u3=1,function(e,t){(function(r,n){n(t)})(NCe,function(r){var n="1.9.4";function i(h){var b,E,R,B;for(E=1,R=arguments.length;E<R;E++){B=arguments[E];for(b in B)h[b]=B[b]}return h}var s=Object.create||function(){function h(){}return function(b){return h.prototype=b,new h}}();function o(h,b){var E=Array.prototype.slice;if(h.bind)return h.bind.apply(h,E.call(arguments,1));var R=E.call(arguments,2);return function(){return h.apply(b,R.length?R.concat(E.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function u(h,b,E){var R,B,ie,pe;return pe=function(){R=!1,B&&(ie.apply(E,B),B=!1)},ie=function(){R?B=arguments:(h.apply(E,arguments),setTimeout(pe,b),R=!0)},ie}function f(h,b,E){var R=b[1],B=b[0],ie=R-B;return h===R&&E?h:((h-B)%ie+ie)%ie+B}function p(){return!1}function g(h,b){if(b===!1)return h;var E=Math.pow(10,b===void 0?6:b);return Math.round(h*E)/E}function v(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function w(h){return v(h).split(/\s+/)}function y(h,b){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?s(h.options):{});for(var E in b)h.options[E]=b[E];return h.options}function _(h,b,E){var R=[];for(var B in h)R.push(encodeURIComponent(E?B.toUpperCase():B)+"="+encodeURIComponent(h[B]));return(!b||b.indexOf("?")===-1?"?":"&")+R.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function N(h,b){return h.replace(S,function(E,R){var B=b[R];if(B===void 0)throw new Error("No value provided for variable "+E);return typeof B=="function"&&(B=B(b)),B})}var C=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function k(h,b){for(var E=0;E<h.length;E++)if(h[E]===b)return E;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var O=0;function I(h){var b=+new Date,E=Math.max(0,16-(b-O));return O=b+E,window.setTimeout(h,E)}var q=window.requestAnimationFrame||T("RequestAnimationFrame")||I,Z=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function V(h,b,E){if(E&&q===I)h.call(b);else return q.call(window,o(h,b))}function U(h){h&&Z.call(window,h)}var z={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:f,falseFn:p,formatNum:g,trim:v,splitWords:w,setOptions:y,getParamString:_,template:N,isArray:C,indexOf:k,emptyImageUrl:A,requestFn:q,cancelFn:Z,requestAnimFrame:V,cancelAnimFrame:U};function H(){}H.extend=function(h){var b=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=b.__super__=this.prototype,R=s(E);R.constructor=b,b.prototype=R;for(var B in this)Object.prototype.hasOwnProperty.call(this,B)&&B!=="prototype"&&B!=="__super__"&&(b[B]=this[B]);return h.statics&&i(b,h.statics),h.includes&&(re(h.includes),i.apply(null,[R].concat(h.includes))),i(R,h),delete R.statics,delete R.includes,R.options&&(R.options=E.options?s(E.options):{},i(R.options,h.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,pe=R._initHooks.length;ie<pe;ie++)R._initHooks[ie].call(this)}},b},H.include=function(h){var b=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=b,this.mergeOptions(h.options)),this},H.mergeOptions=function(h){return i(this.prototype.options,h),this},H.addInitHook=function(h){var b=Array.prototype.slice.call(arguments,1),E=typeof h=="function"?h:function(){this[h].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function re(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=C(h)?h:[h];for(var b=0;b<h.length;b++)h[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(h,b,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],b);else{h=w(h);for(var B=0,ie=h.length;B<ie;B++)this._on(h[B],b,E)}return this},off:function(h,b,E){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var R in h)this._off(R,h[R],b);else{h=w(h);for(var B=arguments.length===1,ie=0,pe=h.length;ie<pe;ie++)B?this._off(h[ie]):this._off(h[ie],b,E)}return this},_on:function(h,b,E,R){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(h,b,E)===!1){E===this&&(E=void 0);var B={fn:b,ctx:E};R&&(B.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(B)}},_off:function(h,b,E){var R,B,ie;if(this._events&&(R=this._events[h],!!R)){if(arguments.length===1){if(this._firingCount)for(B=0,ie=R.length;B<ie;B++)R[B].fn=p;delete this._events[h];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var pe=this._listens(h,b,E);if(pe!==!1){var Ee=R[pe];this._firingCount&&(Ee.fn=p,this._events[h]=R=R.slice()),R.splice(pe,1)}}},fire:function(h,b,E){if(!this.listens(h,E))return this;var R=i({},b,{type:h,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var B=this._events[h];if(B){this._firingCount=this._firingCount+1||1;for(var ie=0,pe=B.length;ie<pe;ie++){var Ee=B[ie],Me=Ee.fn;Ee.once&&this.off(h,Me,Ee.ctx),Me.call(Ee.ctx||this,R)}this._firingCount--}}return E&&this._propagateEvent(R),this},listens:function(h,b,E,R){typeof h!="string"&&console.warn('"string" type argument expected');var B=b;typeof b!="function"&&(R=!!b,B=void 0,E=void 0);var ie=this._events&&this._events[h];if(ie&&ie.length&&this._listens(h,B,E)!==!1)return!0;if(R){for(var pe in this._eventParents)if(this._eventParents[pe].listens(h,b,E,R))return!0}return!1},_listens:function(h,b,E){if(!this._events)return!1;var R=this._events[h]||[];if(!b)return!!R.length;E===this&&(E=void 0);for(var B=0,ie=R.length;B<ie;B++)if(R[B].fn===b&&R[B].ctx===E)return B;return!1},once:function(h,b,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],b,!0);else{h=w(h);for(var B=0,ie=h.length;B<ie;B++)this._on(h[B],b,E,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var b in this._eventParents)this._eventParents[b].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var W=H.extend(se);function Q(h,b,E){this.x=E?Math.round(h):h,this.y=E?Math.round(b):b}var Y=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(h){return this.clone()._add(ne(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(ne(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new Q(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new Q(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(h){h=ne(h);var b=h.x-this.x,E=h.y-this.y;return Math.sqrt(b*b+E*E)},equals:function(h){return h=ne(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=ne(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function ne(h,b,E){return h instanceof Q?h:C(h)?new Q(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new Q(h.x,h.y):new Q(h,b,E)}function J(h,b){if(h)for(var E=b?[h,b]:h,R=0,B=E.length;R<B;R++)this.extend(E[R])}J.prototype={extend:function(h){var b,E;if(!h)return this;if(h instanceof Q||typeof h[0]=="number"||"x"in h)b=E=ne(h);else if(h=oe(h),b=h.min,E=h.max,!b||!E)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=E.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(h){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var b,E;return typeof h[0]=="number"||h instanceof Q?h=ne(h):h=oe(h),h instanceof J?(b=h.min,E=h.max):b=E=h,b.x>=this.min.x&&E.x<=this.max.x&&b.y>=this.min.y&&E.y<=this.max.y},intersects:function(h){h=oe(h);var b=this.min,E=this.max,R=h.min,B=h.max,ie=B.x>=b.x&&R.x<=E.x,pe=B.y>=b.y&&R.y<=E.y;return ie&&pe},overlaps:function(h){h=oe(h);var b=this.min,E=this.max,R=h.min,B=h.max,ie=B.x>b.x&&R.x<E.x,pe=B.y>b.y&&R.y<E.y;return ie&&pe},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var b=this.min,E=this.max,R=Math.abs(b.x-E.x)*h,B=Math.abs(b.y-E.y)*h;return oe(ne(b.x-R,b.y-B),ne(E.x+R,E.y+B))},equals:function(h){return h?(h=oe(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function oe(h,b){return!h||h instanceof J?h:new J(h,b)}function be(h,b){if(h)for(var E=b?[h,b]:h,R=0,B=E.length;R<B;R++)this.extend(E[R])}be.prototype={extend:function(h){var b=this._southWest,E=this._northEast,R,B;if(h instanceof De)R=h,B=h;else if(h instanceof be){if(R=h._southWest,B=h._northEast,!R||!B)return this}else return h?this.extend(ce(h)||Ce(h)):this;return!b&&!E?(this._southWest=new De(R.lat,R.lng),this._northEast=new De(B.lat,B.lng)):(b.lat=Math.min(R.lat,b.lat),b.lng=Math.min(R.lng,b.lng),E.lat=Math.max(B.lat,E.lat),E.lng=Math.max(B.lng,E.lng)),this},pad:function(h){var b=this._southWest,E=this._northEast,R=Math.abs(b.lat-E.lat)*h,B=Math.abs(b.lng-E.lng)*h;return new be(new De(b.lat-R,b.lng-B),new De(E.lat+R,E.lng+B))},getCenter:function(){return new De((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new De(this.getNorth(),this.getWest())},getSouthEast:function(){return new De(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof De||"lat"in h?h=ce(h):h=Ce(h);var b=this._southWest,E=this._northEast,R,B;return h instanceof be?(R=h.getSouthWest(),B=h.getNorthEast()):R=B=h,R.lat>=b.lat&&B.lat<=E.lat&&R.lng>=b.lng&&B.lng<=E.lng},intersects:function(h){h=Ce(h);var b=this._southWest,E=this._northEast,R=h.getSouthWest(),B=h.getNorthEast(),ie=B.lat>=b.lat&&R.lat<=E.lat,pe=B.lng>=b.lng&&R.lng<=E.lng;return ie&&pe},overlaps:function(h){h=Ce(h);var b=this._southWest,E=this._northEast,R=h.getSouthWest(),B=h.getNorthEast(),ie=B.lat>b.lat&&R.lat<E.lat,pe=B.lng>b.lng&&R.lng<E.lng;return ie&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,b){return h?(h=Ce(h),this._southWest.equals(h.getSouthWest(),b)&&this._northEast.equals(h.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ce(h,b){return h instanceof be?h:new be(h,b)}function De(h,b,E){if(isNaN(h)||isNaN(b))throw new Error("Invalid LatLng object: ("+h+", "+b+")");this.lat=+h,this.lng=+b,E!==void 0&&(this.alt=+E)}De.prototype={equals:function(h,b){if(!h)return!1;h=ce(h);var E=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return E<=(b===void 0?1e-9:b)},toString:function(h){return"LatLng("+g(this.lat,h)+", "+g(this.lng,h)+")"},distanceTo:function(h){return ge.distance(this,ce(h))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(h){var b=180*h/40075017,E=b/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-b,this.lng-E],[this.lat+b,this.lng+E])},clone:function(){return new De(this.lat,this.lng,this.alt)}};function ce(h,b,E){return h instanceof De?h:C(h)&&typeof h[0]!="object"?h.length===3?new De(h[0],h[1],h[2]):h.length===2?new De(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new De(h.lat,"lng"in h?h.lng:h.lon,h.alt):b===void 0?null:new De(h,b,E)}var ae={latLngToPoint:function(h,b){var E=this.projection.project(h),R=this.scale(b);return this.transformation._transform(E,R)},pointToLatLng:function(h,b){var E=this.scale(b),R=this.transformation.untransform(h,E);return this.projection.unproject(R)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var b=this.projection.bounds,E=this.scale(h),R=this.transformation.transform(b.min,E),B=this.transformation.transform(b.max,E);return new J(R,B)},infinite:!1,wrapLatLng:function(h){var b=this.wrapLng?f(h.lng,this.wrapLng,!0):h.lng,E=this.wrapLat?f(h.lat,this.wrapLat,!0):h.lat,R=h.alt;return new De(E,b,R)},wrapLatLngBounds:function(h){var b=h.getCenter(),E=this.wrapLatLng(b),R=b.lat-E.lat,B=b.lng-E.lng;if(R===0&&B===0)return h;var ie=h.getSouthWest(),pe=h.getNorthEast(),Ee=new De(ie.lat-R,ie.lng-B),Me=new De(pe.lat-R,pe.lng-B);return new be(Ee,Me)}},ge=i({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(h,b){var E=Math.PI/180,R=h.lat*E,B=b.lat*E,ie=Math.sin((b.lat-h.lat)*E/2),pe=Math.sin((b.lng-h.lng)*E/2),Ee=ie*ie+Math.cos(R)*Math.cos(B)*pe*pe,Me=2*Math.atan2(Math.sqrt(Ee),Math.sqrt(1-Ee));return this.R*Me}}),he=6378137,Pe={R:he,MAX_LATITUDE:85.0511287798,project:function(h){var b=Math.PI/180,E=this.MAX_LATITUDE,R=Math.max(Math.min(E,h.lat),-E),B=Math.sin(R*b);return new Q(this.R*h.lng*b,this.R*Math.log((1+B)/(1-B))/2)},unproject:function(h){var b=180/Math.PI;return new De((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*b,h.x*b/this.R)},bounds:function(){var h=he*Math.PI;return new J([-h,-h],[h,h])}()};function ee(h,b,E,R){if(C(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=b,this._c=E,this._d=R}ee.prototype={transform:function(h,b){return this._transform(h.clone(),b)},_transform:function(h,b){return b=b||1,h.x=b*(this._a*h.x+this._b),h.y=b*(this._c*h.y+this._d),h},untransform:function(h,b){return b=b||1,new Q((h.x/b-this._b)/this._a,(h.y/b-this._d)/this._c)}};function G(h,b,E,R){return new ee(h,b,E,R)}var we=i({},ge,{code:"EPSG:3857",projection:Pe,transformation:function(){var h=.5/(Math.PI*Pe.R);return G(h,.5,-h,.5)}()}),xe=i({},we,{code:"EPSG:900913"});function Ve(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function qe(h,b){var E="",R,B,ie,pe,Ee,Me;for(R=0,ie=h.length;R<ie;R++){for(Ee=h[R],B=0,pe=Ee.length;B<pe;B++)Me=Ee[B],E+=(B?"L":"M")+Me.x+" "+Me.y;E+=b?ht.svg?"z":"x":""}return E||"M0 0"}var Ne=document.documentElement.style,ot="ActiveXObject"in window,It=ot&&!document.addEventListener,fe="msLaunchUri"in navigator&&!("documentMode"in document),_e=oi("webkit"),ke=oi("android"),Ze=oi("android 2")||oi("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),me=ke&&oi("Google")&&Xe<537&&!("AudioNode"in window),Le=!!window.opera,K=!fe&&oi("chrome"),D=oi("gecko")&&!_e&&!Le&&!ot,F=!K&&oi("safari"),le=oi("phantom"),ye="OTransition"in Ne,Oe=navigator.platform.indexOf("Win")===0,$e=ot&&"transition"in Ne,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ze,ar="MozPerspective"in Ne,Bt=!window.L_DISABLE_3D&&($e||vt||ar)&&!ye&&!le,Yt=typeof orientation<"u"||oi("mobile"),Wt=Yt&&_e,Gl=Yt&&vt,qo=!window.PointerEvent&&window.MSPointerEvent,da=!!(window.PointerEvent||qo),as="ontouchstart"in window||!!window.TouchEvent,os=!window.L_NO_TOUCH&&(as||da),sf=Yt&&Le,Nt=Yt&&D,tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xr=function(){var h=!1;try{var b=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",p,b),window.removeEventListener("testPassiveEventSupport",p,b)}catch{}return h}(),Jn=function(){return!!document.createElement("canvas").getContext}(),zn=!!(document.createElementNS&&Ve("svg").createSVGRect),ai=!!zn&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ls=!zn&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var b=h.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),En=navigator.platform.indexOf("Mac")===0,Ls=navigator.platform.indexOf("Linux")===0;function oi(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var ht={ie:ot,ielt9:It,edge:fe,webkit:_e,android:ke,android23:Ze,androidStock:me,opera:Le,chrome:K,gecko:D,safari:F,phantom:le,opera12:ye,win:Oe,ie3d:$e,webkit3d:vt,gecko3d:ar,any3d:Bt,mobile:Yt,mobileWebkit:Wt,mobileWebkit3d:Gl,msPointer:qo,pointer:da,touch:os,touchNative:as,mobileOpera:sf,mobileGecko:Nt,retina:tr,passiveEvents:xr,canvas:Jn,svg:zn,vml:ls,inlineSvg:ai,mac:En,linux:Ls},Su=ht.msPointer?"MSPointerDown":"pointerdown",af=ht.msPointer?"MSPointerMove":"pointermove",Hy=ht.msPointer?"MSPointerUp":"pointerup",Ky=ht.msPointer?"MSPointerCancel":"pointercancel",rm={touchstart:Su,touchmove:af,touchend:Hy,touchcancel:Ky},eo={touchstart:Xr,touchmove:of,touchend:of,touchcancel:of},Uo={},nm=!1;function k1(h,b,E){return b==="touchstart"&&O1(),eo[b]?(E=eo[b].bind(this,E),h.addEventListener(rm[b],E,!1),E):(console.warn("wrong event specified:",b),p)}function Gy(h,b,E){if(!rm[b]){console.warn("wrong event specified:",b);return}h.removeEventListener(rm[b],E,!1)}function Zy(h){Uo[h.pointerId]=h}function Yy(h){Uo[h.pointerId]&&(Uo[h.pointerId]=h)}function im(h){delete Uo[h.pointerId]}function O1(){nm||(document.addEventListener(Su,Zy,!0),document.addEventListener(af,Yy,!0),document.addEventListener(Hy,im,!0),document.addEventListener(Ky,im,!0),nm=!0)}function of(h,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var E in Uo)b.touches.push(Uo[E]);b.changedTouches=[b],h(b)}}function Xr(h,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Jr(b),of(h,b)}function R1(h){var b={},E,R;for(R in h)E=h[R],b[R]=E&&E.bind?E.bind(h):E;return h=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var sm=200;function Xy(h,b){h.addEventListener("dblclick",b);var E=0,R;function B(ie){if(ie.detail!==1){R=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var pe=Ho(ie);if(!(pe.some(function(Me){return Me instanceof HTMLLabelElement&&Me.attributes.for})&&!pe.some(function(Me){return Me instanceof HTMLInputElement||Me instanceof HTMLSelectElement}))){var Ee=Date.now();Ee-E<=sm?(R++,R===2&&b(R1(ie))):R=1,E=Ee}}}return h.addEventListener("click",B),{dblclick:b,simDblclick:B}}function lf(h,b){h.removeEventListener("dblclick",b.dblclick),h.removeEventListener("click",b.simDblclick)}var am=Jl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zl=Jl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nu=Zl==="webkitTransition"||Zl==="OTransition"?Zl+"End":"transitionend";function cs(h){return typeof h=="string"?document.getElementById(h):h}function Cu(h,b){var E=h.style[b]||h.currentStyle&&h.currentStyle[b];if((!E||E==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(h,null);E=R?R[b]:null}return E==="auto"?null:E}function kt(h,b,E){var R=document.createElement(h);return R.className=b||"",E&&E.appendChild(R),R}function Br(h){var b=h.parentNode;b&&b.removeChild(h)}function cf(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Yl(h){var b=h.parentNode;b&&b.lastChild!==h&&b.appendChild(h)}function fa(h){var b=h.parentNode;b&&b.firstChild!==h&&b.insertBefore(h,b.firstChild)}function Xl(h,b){if(h.classList!==void 0)return h.classList.contains(b);var E=uf(h);return E.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(E)}function Pt(h,b){if(h.classList!==void 0)for(var E=w(b),R=0,B=E.length;R<B;R++)h.classList.add(E[R]);else if(!Xl(h,b)){var ie=uf(h);om(h,(ie?ie+" ":"")+b)}}function Mr(h,b){h.classList!==void 0?h.classList.remove(b):om(h,v((" "+uf(h)+" ").replace(" "+b+" "," ")))}function om(h,b){h.className.baseVal===void 0?h.className=b:h.className.baseVal=b}function uf(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function li(h,b){"opacity"in h.style?h.style.opacity=b:"filter"in h.style&&Jy(h,b)}function Jy(h,b){var E=!1,R="DXImageTransform.Microsoft.Alpha";try{E=h.filters.item(R)}catch{if(b===1)return}b=Math.round(b*100),E?(E.Enabled=b!==100,E.Opacity=b):h.style.filter+=" progid:"+R+"(opacity="+b+")"}function Jl(h){for(var b=document.documentElement.style,E=0;E<h.length;E++)if(h[E]in b)return h[E];return!1}function us(h,b,E){var R=b||new Q(0,0);h.style[am]=(ht.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(E?" scale("+E+")":"")}function sn(h,b){h._leaflet_pos=b,ht.any3d?us(h,b):(h.style.left=b.x+"px",h.style.top=b.y+"px")}function ha(h){return h._leaflet_pos||new Q(0,0)}var Xt,Ql,df;if("onselectstart"in document)Xt=function(){Ct(window,"selectstart",Jr)},Ql=function(){_r(window,"selectstart",Jr)};else{var Vo=Jl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(Vo){var h=document.documentElement.style;df=h[Vo],h[Vo]="none"}},Ql=function(){Vo&&(document.documentElement.style[Vo]=df,df=void 0)}}function ff(){Ct(window,"dragstart",Jr)}function hf(){_r(window,"dragstart",Jr)}var Eu,Pu;function ec(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(ds(),Eu=h,Pu=h.style.outlineStyle,h.style.outlineStyle="none",Ct(window,"keydown",ds))}function ds(){Eu&&(Eu.style.outlineStyle=Pu,Eu=void 0,Pu=void 0,_r(window,"keydown",ds))}function pa(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function $s(h){var b=h.getBoundingClientRect();return{x:b.width/h.offsetWidth||1,y:b.height/h.offsetHeight||1,boundingClientRect:b}}var Tu={__proto__:null,TRANSFORM:am,TRANSITION:Zl,TRANSITION_END:Nu,get:cs,getStyle:Cu,create:kt,remove:Br,empty:cf,toFront:Yl,toBack:fa,hasClass:Xl,addClass:Pt,removeClass:Mr,setClass:om,getClass:uf,setOpacity:li,testProp:Jl,setTransform:us,setPosition:sn,getPosition:ha,get disableTextSelection(){return Xt},get enableTextSelection(){return Ql},disableImageDrag:ff,enableImageDrag:hf,preventOutline:ec,restoreOutline:ds,getSizedParentNode:pa,getScale:$s};function Ct(h,b,E,R){if(b&&typeof b=="object")for(var B in b)cm(h,B,b[B],E);else{b=w(b);for(var ie=0,pe=b.length;ie<pe;ie++)cm(h,b[ie],E,R)}return this}var Pn="_leaflet_events";function _r(h,b,E,R){if(arguments.length===1)lm(h),delete h[Pn];else if(b&&typeof b=="object")for(var B in b)pf(h,B,b[B],E);else if(b=w(b),arguments.length===2)lm(h,function(Ee){return k(b,Ee)!==-1});else for(var ie=0,pe=b.length;ie<pe;ie++)pf(h,b[ie],E,R);return this}function lm(h,b){for(var E in h[Pn]){var R=E.split(/\d/)[0];(!b||b(R))&&pf(h,R,null,null,E)}}var Wo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cm(h,b,E,R){var B=b+c(E)+(R?"_"+c(R):"");if(h[Pn]&&h[Pn][B])return this;var ie=function(Ee){return E.call(R||h,Ee||window.event)},pe=ie;!ht.touchNative&&ht.pointer&&b.indexOf("touch")===0?ie=k1(h,b,ie):ht.touch&&b==="dblclick"?ie=Xy(h,ie):"addEventListener"in h?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?h.addEventListener(Wo[b]||b,ie,ht.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(ie=function(Ee){Ee=Ee||window.event,Ou(h,Ee)&&pe(Ee)},h.addEventListener(Wo[b],ie,!1)):h.addEventListener(b,pe,!1):h.attachEvent("on"+b,ie),h[Pn]=h[Pn]||{},h[Pn][B]=ie}function pf(h,b,E,R,B){B=B||b+c(E)+(R?"_"+c(R):"");var ie=h[Pn]&&h[Pn][B];if(!ie)return this;!ht.touchNative&&ht.pointer&&b.indexOf("touch")===0?Gy(h,b,ie):ht.touch&&b==="dblclick"?lf(h,ie):"removeEventListener"in h?h.removeEventListener(Wo[b]||b,ie,!1):h.detachEvent("on"+b,ie),h[Pn][B]=null}function Fs(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function mf(h){return cm(h,"wheel",Fs),this}function Au(h){return Ct(h,"mousedown touchstart dblclick contextmenu",Fs),h._leaflet_disable_click=!0,this}function Jr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function fs(h){return Jr(h),Fs(h),this}function Ho(h){if(h.composedPath)return h.composedPath();for(var b=[],E=h.target;E;)b.push(E),E=E.parentNode;return b}function ku(h,b){if(!b)return new Q(h.clientX,h.clientY);var E=$s(b),R=E.boundingClientRect;return new Q((h.clientX-R.left)/E.x-b.clientLeft,(h.clientY-R.top)/E.y-b.clientTop)}var M1=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qy(h){return ht.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/M1:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Ou(h,b){var E=b.relatedTarget;if(!E)return!0;try{for(;E&&E!==h;)E=E.parentNode}catch{return!1}return E!==h}var gf={__proto__:null,on:Ct,off:_r,stopPropagation:Fs,disableScrollPropagation:mf,disableClickPropagation:Au,preventDefault:Jr,stop:fs,getPropagationPath:Ho,getMousePosition:ku,getWheelDelta:Qy,isExternalTarget:Ou,addListener:Ct,removeListener:_r},vf=W.extend({run:function(h,b,E,R){this.stop(),this._el=h,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=ha(h),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(h){var b=+new Date-this._startTime,E=this._duration*1e3;b<E?this._runFrame(this._easeOut(b/E),h):(this._runFrame(1),this._complete())},_runFrame:function(h,b){var E=this._startPos.add(this._offset.multiplyBy(h));b&&E._round(),sn(this._el,E),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Gt=W.extend({options:{crs:we,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,b){b=y(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(ce(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zl&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Nu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,b,E){if(b=b===void 0?this._zoom:this._limitZoom(b),h=this._limitCenter(ce(h),b,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var R=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,b,E.zoom):this._tryAnimatedPan(h,E.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(h,b,E.pan&&E.pan.noMoveStart),this},setZoom:function(h,b){return this._loaded?this.setView(this.getCenter(),h,{zoom:b}):(this._zoom=h,this)},zoomIn:function(h,b){return h=h||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,b)},zoomOut:function(h,b){return h=h||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,b)},setZoomAround:function(h,b,E){var R=this.getZoomScale(b),B=this.getSize().divideBy(2),ie=h instanceof Q?h:this.latLngToContainerPoint(h),pe=ie.subtract(B).multiplyBy(1-1/R),Ee=this.containerPointToLatLng(B.add(pe));return this.setView(Ee,b,{zoom:E})},_getBoundsCenterZoom:function(h,b){b=b||{},h=h.getBounds?h.getBounds():Ce(h);var E=ne(b.paddingTopLeft||b.padding||[0,0]),R=ne(b.paddingBottomRight||b.padding||[0,0]),B=this.getBoundsZoom(h,!1,E.add(R));if(B=typeof b.maxZoom=="number"?Math.min(b.maxZoom,B):B,B===1/0)return{center:h.getCenter(),zoom:B};var ie=R.subtract(E).divideBy(2),pe=this.project(h.getSouthWest(),B),Ee=this.project(h.getNorthEast(),B),Me=this.unproject(pe.add(Ee).divideBy(2).add(ie),B);return{center:Me,zoom:B}},fitBounds:function(h,b){if(h=Ce(h),!h.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(h,b);return this.setView(E.center,E.zoom,b)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,b){return this.setView(h,this._zoom,{pan:b})},panBy:function(h,b){if(h=ne(h).round(),b=b||{},!h.x&&!h.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,E,b.duration||.25,b.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,b,E){if(E=E||{},E.animate===!1||!ht.any3d)return this.setView(h,b,E);this._stop();var R=this.project(this.getCenter()),B=this.project(h),ie=this.getSize(),pe=this._zoom;h=ce(h),b=b===void 0?pe:b;var Ee=Math.max(ie.x,ie.y),Me=Ee*this.getZoomScale(pe,b),ze=B.distanceTo(R)||1,nt=1.42,xt=nt*nt;function Dt(mr){var mc=mr?-1:1,G1=mr?Me:Ee,Z1=Me*Me-Ee*Ee+mc*xt*xt*ze*ze,Qo=2*G1*xt*ze,el=Z1/Qo,tl=Math.sqrt(el*el+1)-el,kf=tl<1e-9?-18:Math.log(tl);return kf}function Tn(mr){return(Math.exp(mr)-Math.exp(-mr))/2}function mn(mr){return(Math.exp(mr)+Math.exp(-mr))/2}function Ei(mr){return Tn(mr)/mn(mr)}var ui=Dt(0);function hc(mr){return Ee*(mn(ui)/mn(ui+nt*mr))}function Am(mr){return Ee*(mn(ui)*Ei(ui+nt*mr)-Tn(ui))/xt}function lo(mr){return 1-Math.pow(1-mr,1.5)}var bx=Date.now(),Jo=(Dt(1)-ui)/nt,Us=E.duration?1e3*E.duration:1e3*Jo*.8;function pc(){var mr=(Date.now()-bx)/Us,mc=lo(mr)*Jo;mr<=1?(this._flyToFrame=V(pc,this),this._move(this.unproject(R.add(B.subtract(R).multiplyBy(Am(mc)/ze)),pe),this.getScaleZoom(Ee/hc(mc),pe),{flyTo:!0})):this._move(h,b)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),pc.call(this),this},flyToBounds:function(h,b){var E=this._getBoundsCenterZoom(h,b);return this.flyTo(E.center,E.zoom,b)},setMaxBounds:function(h){return h=Ce(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var b=this.options.minZoom;return this.options.minZoom=h,this._loaded&&b!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var b=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&b!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,b){this._enforcingBounds=!0;var E=this.getCenter(),R=this._limitCenter(E,this._zoom,Ce(h));return E.equals(R)||this.panTo(R,b),this._enforcingBounds=!1,this},panInside:function(h,b){b=b||{};var E=ne(b.paddingTopLeft||b.padding||[0,0]),R=ne(b.paddingBottomRight||b.padding||[0,0]),B=this.project(this.getCenter()),ie=this.project(h),pe=this.getPixelBounds(),Ee=oe([pe.min.add(E),pe.max.subtract(R)]),Me=Ee.getSize();if(!Ee.contains(ie)){this._enforcingBounds=!0;var ze=ie.subtract(Ee.getCenter()),nt=Ee.extend(ie).getSize().subtract(Me);B.x+=ze.x<0?-nt.x:nt.x,B.y+=ze.y<0?-nt.y:nt.y,this.panTo(this.unproject(B),b),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),R=b.divideBy(2).round(),B=E.divideBy(2).round(),ie=R.subtract(B);return!ie.x&&!ie.y?this:(h.animate&&h.pan?this.panBy(ie):(h.pan&&this._rawPanBy(ie),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,E,h):navigator.geolocation.getCurrentPosition(b,E,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var b=h.code,E=h.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var b=h.coords.latitude,E=h.coords.longitude,R=new De(b,E),B=R.toBounds(h.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var pe=this.getBoundsZoom(B);this.setView(R,ie.maxZoom?Math.min(pe,ie.maxZoom):pe)}var Ee={latlng:R,bounds:B,timestamp:h.timestamp};for(var Me in h.coords)typeof h.coords[Me]=="number"&&(Ee[Me]=h.coords[Me]);this.fire("locationfound",Ee)}},addHandler:function(h,b){if(!b)return this;var E=this[h]=new b(this);return this._handlers.push(E),this.options[h]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Br(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Br(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,b){var E="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),R=kt("div",E,b||this._mapPane);return h&&(this._panes[h]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),b=this.unproject(h.getBottomLeft()),E=this.unproject(h.getTopRight());return new be(b,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,b,E){h=Ce(h),E=ne(E||[0,0]);var R=this.getZoom()||0,B=this.getMinZoom(),ie=this.getMaxZoom(),pe=h.getNorthWest(),Ee=h.getSouthEast(),Me=this.getSize().subtract(E),ze=oe(this.project(Ee,R),this.project(pe,R)).getSize(),nt=ht.any3d?this.options.zoomSnap:1,xt=Me.x/ze.x,Dt=Me.y/ze.y,Tn=b?Math.max(xt,Dt):Math.min(xt,Dt);return R=this.getScaleZoom(Tn,R),nt&&(R=Math.round(R/(nt/100))*(nt/100),R=b?Math.ceil(R/nt)*nt:Math.floor(R/nt)*nt),Math.max(B,Math.min(ie,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,b){var E=this._getTopLeftPoint(h,b);return new J(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,b){var E=this.options.crs;return b=b===void 0?this._zoom:b,E.scale(h)/E.scale(b)},getScaleZoom:function(h,b){var E=this.options.crs;b=b===void 0?this._zoom:b;var R=E.zoom(h*E.scale(b));return isNaN(R)?1/0:R},project:function(h,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(ce(h),b)},unproject:function(h,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(ne(h),b)},layerPointToLatLng:function(h){var b=ne(h).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(h){var b=this.project(ce(h))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ce(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Ce(h))},distance:function(h,b){return this.options.crs.distance(ce(h),ce(b))},containerPointToLayerPoint:function(h){return ne(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return ne(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var b=this.containerPointToLayerPoint(ne(h));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(h)))},mouseEventToContainerPoint:function(h){return ku(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var b=this._container=cs(h);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(b,"scroll",this._onScroll,this),this._containerId=c(b)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,Pt(h,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=Cu(h,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),sn(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(h.markerPane,"leaflet-zoom-hide"),Pt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,b,E){sn(this._mapPane,new Q(0,0));var R=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var B=this._zoom!==b;this._moveStart(B,E)._move(h,b)._moveEnd(B),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(h,b){return h&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(h,b,E,R){b===void 0&&(b=this._zoom);var B=this._zoom!==b;return this._zoom=b,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),R?E&&E.pinch&&this.fire("zoom",E):((B||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){sn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var b=h?_r:Ct;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,b){for(var E=[],R,B=b==="mouseout"||b==="mouseover",ie=h.target||h.srcElement,pe=!1;ie;){if(R=this._targets[c(ie)],R&&(b==="click"||b==="preclick")&&this._draggableMoved(R)){pe=!0;break}if(R&&R.listens(b,!0)&&(B&&!Ou(ie,h)||(E.push(R),B))||ie===this._container)break;ie=ie.parentNode}return!E.length&&!pe&&!B&&this.listens(b,!0)&&(E=[this]),E},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var b=h.target||h.srcElement;if(!(!this._loaded||b._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(b))){var E=h.type;E==="mousedown"&&ec(b),this._fireDOMEvent(h,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,b,E){if(h.type==="click"){var R=i({},h);R.type="preclick",this._fireDOMEvent(R,R.type,E)}var B=this._findEventTargets(h,b);if(E){for(var ie=[],pe=0;pe<E.length;pe++)E[pe].listens(b,!0)&&ie.push(E[pe]);B=ie.concat(B)}if(B.length){b==="contextmenu"&&Jr(h);var Ee=B[0],Me={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ze=Ee.getLatLng&&(!Ee._radius||Ee._radius<=10);Me.containerPoint=ze?this.latLngToContainerPoint(Ee.getLatLng()):this.mouseEventToContainerPoint(h),Me.layerPoint=this.containerPointToLayerPoint(Me.containerPoint),Me.latlng=ze?Ee.getLatLng():this.layerPointToLatLng(Me.layerPoint)}for(pe=0;pe<B.length;pe++)if(B[pe].fire(b,Me,!0),Me.originalEvent._stopped||B[pe].options.bubblingMouseEvents===!1&&k(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,b=this._handlers.length;h<b;h++)this._handlers[h].disable()},whenReady:function(h,b){return this._loaded?h.call(b||this,{target:this}):this.on("load",h,b),this},_getMapPanePos:function(){return ha(this._mapPane)||new Q(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,b){var E=h&&b!==void 0?this._getNewPixelOrigin(h,b):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,b){var E=this.getSize()._divideBy(2);return this.project(h,b)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,b,E){var R=this._getNewPixelOrigin(E,b);return this.project(h,b)._subtract(R)},_latLngBoundsToNewLayerBounds:function(h,b,E){var R=this._getNewPixelOrigin(E,b);return oe([this.project(h.getSouthWest(),b)._subtract(R),this.project(h.getNorthWest(),b)._subtract(R),this.project(h.getSouthEast(),b)._subtract(R),this.project(h.getNorthEast(),b)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,b,E){if(!E)return h;var R=this.project(h,b),B=this.getSize().divideBy(2),ie=new J(R.subtract(B),R.add(B)),pe=this._getBoundsOffset(ie,E,b);return Math.abs(pe.x)<=1&&Math.abs(pe.y)<=1?h:this.unproject(R.add(pe),b)},_limitOffset:function(h,b){if(!b)return h;var E=this.getPixelBounds(),R=new J(E.min.add(h),E.max.add(h));return h.add(this._getBoundsOffset(R,b))},_getBoundsOffset:function(h,b,E){var R=oe(this.project(b.getNorthEast(),E),this.project(b.getSouthWest(),E)),B=R.min.subtract(h.min),ie=R.max.subtract(h.max),pe=this._rebound(B.x,-ie.x),Ee=this._rebound(B.y,-ie.y);return new Q(pe,Ee)},_rebound:function(h,b){return h+b>0?Math.round(h-b)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(b))},_limitZoom:function(h){var b=this.getMinZoom(),E=this.getMaxZoom(),R=ht.any3d?this.options.zoomSnap:1;return R&&(h=Math.round(h/R)*R),Math.max(b,Math.min(E,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Mr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,b){var E=this._getCenterOffset(h)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,b),!0)},_createAnimProxy:function(){var h=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(b){var E=am,R=this._proxy.style[E];us(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),R===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Br(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),b=this.getZoom();us(this._proxy,this.project(h,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,b,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(b),B=this._getCenterOffset(h)._divideBy(1-1/R);return E.animate!==!0&&!this.getSize().contains(B)?!1:(V(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(h,b,!0)},this),!0)},_animateZoom:function(h,b,E,R){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=b,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:b,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Mr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function to(h,b){return new Gt(h,b)}var Ni=H.extend({options:{position:"topright"},initialize:function(h){y(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var b=this._map;return b&&b.removeControl(this),this.options.position=h,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var b=this._container=this.onAdd(h),E=this.getPosition(),R=h._controlCorners[E];return Pt(b,"leaflet-control"),E.indexOf("bottom")!==-1?R.insertBefore(b,R.firstChild):R.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Br(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),ro=function(h){return new Ni(h)};Gt.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},b="leaflet-",E=this._controlContainer=kt("div",b+"control-container",this._container);function R(B,ie){var pe=b+B+" "+b+ie;h[B+ie]=kt("div",pe,E)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Br(this._controlCorners[h]);Br(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var um=Ni.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,b,E,R){return E<R?-1:R<E?1:0}},initialize:function(h,b,E){y(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in h)this._addLayer(h[R],R);for(R in b)this._addLayer(b[R],R,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ni.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,b){return this._addLayer(h,b),this._map?this._update():this},addOverlay:function(h,b){return this._addLayer(h,b,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var b=this._getLayer(c(h));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Mr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Mr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",b=this._container=kt("div",h),E=this.options.collapsed;b.setAttribute("aria-haspopup",!0),Au(b),mf(b);var R=this._section=kt("section",h+"-list");E&&(this._map.on("click",this.collapse,this),Ct(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var B=this._layersLink=kt("a",h+"-toggle",b);B.href="#",B.title="Layers",B.setAttribute("role","button"),Ct(B,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){Jr(ie),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=kt("div",h+"-base",R),this._separator=kt("div",h+"-separator",R),this._overlaysList=kt("div",h+"-overlays",R),b.appendChild(R)},_getLayer:function(h){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&c(this._layers[b].layer)===h)return this._layers[b]},_addLayer:function(h,b,E){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:b,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(R,B){return this.options.sortFunction(R.layer,B.layer,R.name,B.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cf(this._baseLayersList),cf(this._overlaysList),this._layerControlInputs=[];var h,b,E,R,B=0;for(E=0;E<this._layers.length;E++)R=this._layers[E],this._addItem(R),b=b||R.overlay,h=h||!R.overlay,B+=R.overlay?0:1;return this.options.hideSingleBase&&(h=h&&B>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=b&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var b=this._getLayer(c(h.target)),E=b.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;E&&this._map.fire(E,b)},_createRadioElement:function(h,b){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(b?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=E,R.firstChild},_addItem:function(h){var b=document.createElement("label"),E=this._map.hasLayer(h.layer),R;h.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=E):R=this._createRadioElement("leaflet-base-layers_"+c(this),E),this._layerControlInputs.push(R),R.layerId=c(h.layer),Ct(R,"click",this._onInputClick,this);var B=document.createElement("span");B.innerHTML=" "+h.name;var ie=document.createElement("span");b.appendChild(ie),ie.appendChild(R),ie.appendChild(B);var pe=h.overlay?this._overlaysList:this._baseLayersList;return pe.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,b,E,R=[],B=[];this._handlingClick=!0;for(var ie=h.length-1;ie>=0;ie--)b=h[ie],E=this._getLayer(b.layerId).layer,b.checked?R.push(E):b.checked||B.push(E);for(ie=0;ie<B.length;ie++)this._map.hasLayer(B[ie])&&this._map.removeLayer(B[ie]);for(ie=0;ie<R.length;ie++)this._map.hasLayer(R[ie])||this._map.addLayer(R[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,b,E,R=this._map.getZoom(),B=h.length-1;B>=0;B--)b=h[B],E=this._getLayer(b.layerId).layer,b.disabled=E.options.minZoom!==void 0&&R<E.options.minZoom||E.options.maxZoom!==void 0&&R>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ct(h,"click",Jr),this.expand();var b=this;setTimeout(function(){_r(h,"click",Jr),b._preventClick=!1})}}),yf=function(h,b,E){return new um(h,b,E)},tc=Ni.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var b="leaflet-control-zoom",E=kt("div",b+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,b+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,b+"-out",E,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,b,E,R,B){var ie=kt("a",E,R);return ie.innerHTML=h,ie.href="#",ie.title=b,ie.setAttribute("role","button"),ie.setAttribute("aria-label",b),Au(ie),Ct(ie,"click",fs),Ct(ie,"click",B,this),Ct(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var h=this._map,b="leaflet-disabled";Mr(this._zoomInButton,b),Mr(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Pt(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Pt(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new tc,this.addControl(this.zoomControl))});var ex=function(h){return new tc(h)},ci=Ni.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var b="leaflet-control-scale",E=kt("div",b),R=this.options;return this._addScales(R,b+"-line",E),h.on(R.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),E},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,b,E){h.metric&&(this._mScale=kt("div",b,E)),h.imperial&&(this._iScale=kt("div",b,E))},_update:function(){var h=this._map,b=h.getSize().y/2,E=h.distance(h.containerPointToLatLng([0,b]),h.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(E)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var b=this._getRoundNum(h),E=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,E,b/h)},_updateImperial:function(h){var b=h*3.2808399,E,R,B;b>5280?(E=b/5280,R=this._getRoundNum(E),this._updateScale(this._iScale,R+" mi",R/E)):(B=this._getRoundNum(b),this._updateScale(this._iScale,B+" ft",B/b))},_updateScale:function(h,b,E){h.style.width=Math.round(this.options.maxWidth*E)+"px",h.innerHTML=b},_getRoundNum:function(h){var b=Math.pow(10,(Math.floor(h)+"").length-1),E=h/b;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,b*E}}),rc=function(h){return new ci(h)},dm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ko=Ni.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?dm+" ":"")+"Leaflet</a>"},initialize:function(h){y(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Au(this._container);for(var b in h._layers)h._layers[b].getAttribution&&this.addAttribution(h._layers[b].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var b in this._attributions)this._attributions[b]&&h.push(b);var E=[];this.options.prefix&&E.push(this.options.prefix),h.length&&E.push(h.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook(function(){this.options.attributionControl&&new Ko().addTo(this)});var I1=function(h){return new Ko(h)};Ni.Layers=um,Ni.Zoom=tc,Ni.Scale=ci,Ni.Attribution=Ko,ro.layers=yf,ro.zoom=ex,ro.scale=rc,ro.attribution=I1;var Bi=H.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bi.addTo=function(h,b){return h.addHandler(b,this),this};var fm={Events:se},nc=ht.touch?"touchstart mousedown":"mousedown",hs=W.extend({options:{clickTolerance:3},initialize:function(h,b,E,R){y(this,R),this._element=h,this._dragStartTarget=b||h,this._preventOutline=E},enable:function(){this._enabled||(Ct(this._dragStartTarget,nc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hs._dragging===this&&this.finishDrag(!0),_r(this._dragStartTarget,nc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Xl(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){hs._dragging===this&&this.finishDrag();return}if(!(hs._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(hs._dragging=this,this._preventOutline&&ec(this._element),ff(),Xt(),!this._moving)){this.fire("down");var b=h.touches?h.touches[0]:h,E=pa(this._element);this._startPoint=new Q(b.clientX,b.clientY),this._startPos=ha(this._element),this._parentScale=$s(E);var R=h.type==="mousedown";Ct(document,R?"mousemove":"touchmove",this._onMove,this),Ct(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var b=h.touches&&h.touches.length===1?h.touches[0]:h,E=new Q(b.clientX,b.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,Jr(h),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),sn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Mr(document.body,"leaflet-dragging"),this._lastTarget&&(Mr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_r(document,"mousemove touchmove",this._onMove,this),_r(document,"mouseup touchend touchcancel",this._onUp,this),hf(),Ql();var b=this._moved&&this._moving;this._moving=!1,hs._dragging=!1,b&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function hm(h,b,E){var R,B=[1,4,2,8],ie,pe,Ee,Me,ze,nt,xt,Dt;for(ie=0,nt=h.length;ie<nt;ie++)h[ie]._code=Go(h[ie],b);for(Ee=0;Ee<4;Ee++){for(xt=B[Ee],R=[],ie=0,nt=h.length,pe=nt-1;ie<nt;pe=ie++)Me=h[ie],ze=h[pe],Me._code&xt?ze._code&xt||(Dt=bf(ze,Me,xt,b,E),Dt._code=Go(Dt,b),R.push(Dt)):(ze._code&xt&&(Dt=bf(ze,Me,xt,b,E),Dt._code=Go(Dt,b),R.push(Dt)),R.push(Me));h=R}return h}function tx(h,b){var E,R,B,ie,pe,Ee,Me,ze,nt;if(!h||h.length===0)throw new Error("latlngs not passed");zi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var xt=ce([0,0]),Dt=Ce(h),Tn=Dt.getNorthWest().distanceTo(Dt.getSouthWest())*Dt.getNorthEast().distanceTo(Dt.getNorthWest());Tn<1700&&(xt=pm(h));var mn=h.length,Ei=[];for(E=0;E<mn;E++){var ui=ce(h[E]);Ei.push(b.project(ce([ui.lat-xt.lat,ui.lng-xt.lng])))}for(Ee=Me=ze=0,E=0,R=mn-1;E<mn;R=E++)B=Ei[E],ie=Ei[R],pe=B.y*ie.x-ie.y*B.x,Me+=(B.x+ie.x)*pe,ze+=(B.y+ie.y)*pe,Ee+=pe*3;Ee===0?nt=Ei[0]:nt=[Me/Ee,ze/Ee];var hc=b.unproject(ne(nt));return ce([hc.lat+xt.lat,hc.lng+xt.lng])}function pm(h){for(var b=0,E=0,R=0,B=0;B<h.length;B++){var ie=ce(h[B]);b+=ie.lat,E+=ie.lng,R++}return ce([b/R,E/R])}var D1={__proto__:null,clipPolygon:hm,polygonCenter:tx,centroid:pm};function xf(h,b){if(!b||!h.length)return h.slice();var E=b*b;return h=F1(h,E),h=$1(h,E),h}function rx(h,b,E){return Math.sqrt(Zo(h,b,E,!0))}function L1(h,b,E){return Zo(h,b,E)}function $1(h,b){var E=h.length,R=typeof Uint8Array<"u"?Uint8Array:Array,B=new R(E);B[0]=B[E-1]=1,mm(h,B,b,0,E-1);var ie,pe=[];for(ie=0;ie<E;ie++)B[ie]&&pe.push(h[ie]);return pe}function mm(h,b,E,R,B){var ie=0,pe,Ee,Me;for(Ee=R+1;Ee<=B-1;Ee++)Me=Zo(h[Ee],h[R],h[B],!0),Me>ie&&(pe=Ee,ie=Me);ie>E&&(b[pe]=1,mm(h,b,E,R,pe),mm(h,b,E,pe,B))}function F1(h,b){for(var E=[h[0]],R=1,B=0,ie=h.length;R<ie;R++)B1(h[R],h[B])>b&&(E.push(h[R]),B=R);return B<ie-1&&E.push(h[ie-1]),E}var gm;function nx(h,b,E,R,B){var ie=R?gm:Go(h,E),pe=Go(b,E),Ee,Me,ze;for(gm=pe;;){if(!(ie|pe))return[h,b];if(ie&pe)return!1;Ee=ie||pe,Me=bf(h,b,Ee,E,B),ze=Go(Me,E),Ee===ie?(h=Me,ie=ze):(b=Me,pe=ze)}}function bf(h,b,E,R,B){var ie=b.x-h.x,pe=b.y-h.y,Ee=R.min,Me=R.max,ze,nt;return E&8?(ze=h.x+ie*(Me.y-h.y)/pe,nt=Me.y):E&4?(ze=h.x+ie*(Ee.y-h.y)/pe,nt=Ee.y):E&2?(ze=Me.x,nt=h.y+pe*(Me.x-h.x)/ie):E&1&&(ze=Ee.x,nt=h.y+pe*(Ee.x-h.x)/ie),new Q(ze,nt,B)}function Go(h,b){var E=0;return h.x<b.min.x?E|=1:h.x>b.max.x&&(E|=2),h.y<b.min.y?E|=4:h.y>b.max.y&&(E|=8),E}function B1(h,b){var E=b.x-h.x,R=b.y-h.y;return E*E+R*R}function Zo(h,b,E,R){var B=b.x,ie=b.y,pe=E.x-B,Ee=E.y-ie,Me=pe*pe+Ee*Ee,ze;return Me>0&&(ze=((h.x-B)*pe+(h.y-ie)*Ee)/Me,ze>1?(B=E.x,ie=E.y):ze>0&&(B+=pe*ze,ie+=Ee*ze)),pe=h.x-B,Ee=h.y-ie,R?pe*pe+Ee*Ee:new Q(B,ie)}function zi(h){return!C(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function ix(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),zi(h)}function sx(h,b){var E,R,B,ie,pe,Ee,Me,ze;if(!h||h.length===0)throw new Error("latlngs not passed");zi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var nt=ce([0,0]),xt=Ce(h),Dt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());Dt<1700&&(nt=pm(h));var Tn=h.length,mn=[];for(E=0;E<Tn;E++){var Ei=ce(h[E]);mn.push(b.project(ce([Ei.lat-nt.lat,Ei.lng-nt.lng])))}for(E=0,R=0;E<Tn-1;E++)R+=mn[E].distanceTo(mn[E+1])/2;if(R===0)ze=mn[0];else for(E=0,ie=0;E<Tn-1;E++)if(pe=mn[E],Ee=mn[E+1],B=pe.distanceTo(Ee),ie+=B,ie>R){Me=(ie-R)/B,ze=[Ee.x-Me*(Ee.x-pe.x),Ee.y-Me*(Ee.y-pe.y)];break}var ui=b.unproject(ne(ze));return ce([ui.lat+nt.lat,ui.lng+nt.lng])}var ax={__proto__:null,simplify:xf,pointToSegmentDistance:rx,closestPointOnSegment:L1,clipSegment:nx,_getEdgeIntersection:bf,_getBitCode:Go,_sqClosestPointOnSegment:Zo,isFlat:zi,_flat:ix,polylineCenter:sx},vm={project:function(h){return new Q(h.lng,h.lat)},unproject:function(h){return new De(h.y,h.x)},bounds:new J([-180,-90],[180,90])},ym={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var b=Math.PI/180,E=this.R,R=h.lat*b,B=this.R_MINOR/E,ie=Math.sqrt(1-B*B),pe=ie*Math.sin(R),Ee=Math.tan(Math.PI/4-R/2)/Math.pow((1-pe)/(1+pe),ie/2);return R=-E*Math.log(Math.max(Ee,1e-10)),new Q(h.lng*b*E,R)},unproject:function(h){for(var b=180/Math.PI,E=this.R,R=this.R_MINOR/E,B=Math.sqrt(1-R*R),ie=Math.exp(-h.y/E),pe=Math.PI/2-2*Math.atan(ie),Ee=0,Me=.1,ze;Ee<15&&Math.abs(Me)>1e-7;Ee++)ze=B*Math.sin(pe),ze=Math.pow((1-ze)/(1+ze),B/2),Me=Math.PI/2-2*Math.atan(ie*ze)-pe,pe+=Me;return new De(pe*b,h.x*b/E)}},z1={__proto__:null,LonLat:vm,Mercator:ym,SphericalMercator:Pe},q1=i({},ge,{code:"EPSG:3395",projection:ym,transformation:function(){var h=.5/(Math.PI*ym.R);return G(h,.5,-h,.5)}()}),ox=i({},ge,{code:"EPSG:4326",projection:vm,transformation:G(1/180,1,-1/180,.5)}),U1=i({},ae,{projection:vm,transformation:G(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,b){var E=b.lng-h.lng,R=b.lat-h.lat;return Math.sqrt(E*E+R*R)},infinite:!0});ae.Earth=ge,ae.EPSG3395=q1,ae.EPSG3857=we,ae.EPSG900913=xe,ae.EPSG4326=ox,ae.Simple=U1;var ps=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var b=h.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var E=this.getEvents();b.on(E,this),this.once("remove",function(){b.off(E,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var b=c(h);return this._layers[b]?this:(this._layers[b]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var b=c(h);return this._layers[b]?(this._loaded&&h.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,b){for(var E in this._layers)h.call(b,this._layers[E]);return this},_addLayers:function(h){h=h?C(h)?h:[h]:[];for(var b=0,E=h.length;b<E;b++)this.addLayer(h[b])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var b=c(h);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,b=-1/0,E=this._getZoomSpan();for(var R in this._zoomBoundLayers){var B=this._zoomBoundLayers[R].options;h=B.minZoom===void 0?h:Math.min(h,B.minZoom),b=B.maxZoom===void 0?b:Math.max(b,B.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=h===1/0?void 0:h,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var no=ps.extend({initialize:function(h,b){y(this,b),this._layers={};var E,R;if(h)for(E=0,R=h.length;E<R;E++)this.addLayer(h[E])},addLayer:function(h){var b=this.getLayerId(h);return this._layers[b]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var b=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(h){var b=typeof h=="number"?h:this.getLayerId(h);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var b=Array.prototype.slice.call(arguments,1),E,R;for(E in this._layers)R=this._layers[E],R[h]&&R[h].apply(R,b);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,b){for(var E in this._layers)h.call(b,this._layers[E]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Ru=function(h,b){return new no(h,b)},ma=no.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),no.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),no.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new be;for(var b in this._layers){var E=this._layers[b];h.extend(E.getBounds?E.getBounds():E.getLatLng())}return h}}),lx=function(h,b){return new ma(h,b)},Yo=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){y(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,b){var E=this._getIconUrl(h);if(!E){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(E,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(R,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(h,b){var E=this.options,R=E[b+"Size"];typeof R=="number"&&(R=[R,R]);var B=ne(R),ie=ne(b==="shadow"&&E.shadowAnchor||E.iconAnchor||B&&B.divideBy(2,!0));h.className="leaflet-marker-"+b+" "+(E.className||""),ie&&(h.style.marginLeft=-ie.x+"px",h.style.marginTop=-ie.y+"px"),B&&(h.style.width=B.x+"px",h.style.height=B.y+"px")},_createImg:function(h,b){return b=b||document.createElement("img"),b.src=h,b},_getIconUrl:function(h){return ht.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function cx(h){return new Yo(h)}var ic=Yo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof ic.imagePath!="string"&&(ic.imagePath=this._detectIconPath()),(this.options.imagePath||ic.imagePath)+Yo.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var b=function(E,R,B){var ie=R.exec(E);return ie&&ie[B]};return h=b(h,/^url\((['"])?(.+)\1\)$/,2),h&&b(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=kt("div","leaflet-default-icon-path",document.body),b=Cu(h,"background-image")||Cu(h,"backgroundImage");if(document.body.removeChild(h),b=this._stripUrl(b),b)return b;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),xm=Bi.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new hs(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Mr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var b=this._marker,E=b._map,R=this._marker.options.autoPanSpeed,B=this._marker.options.autoPanPadding,ie=ha(b._icon),pe=E.getPixelBounds(),Ee=E.getPixelOrigin(),Me=oe(pe.min._subtract(Ee).add(B),pe.max._subtract(Ee).subtract(B));if(!Me.contains(ie)){var ze=ne((Math.max(Me.max.x,ie.x)-Me.max.x)/(pe.max.x-Me.max.x)-(Math.min(Me.min.x,ie.x)-Me.min.x)/(pe.min.x-Me.min.x),(Math.max(Me.max.y,ie.y)-Me.max.y)/(pe.max.y-Me.max.y)-(Math.min(Me.min.y,ie.y)-Me.min.y)/(pe.min.y-Me.min.y)).multiplyBy(R);E.panBy(ze,{animate:!1}),this._draggable._newPos._add(ze),this._draggable._startPos._add(ze),sn(b._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=V(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,h)))},_onDrag:function(h){var b=this._marker,E=b._shadow,R=ha(b._icon),B=b._map.layerPointToLatLng(R);E&&sn(E,R),b._latlng=B,h.latlng=B,h.oldLatLng=this._oldLatLng,b.fire("move",h).fire("drag",h)},_onDragEnd:function(h){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),ga=ps.extend({options:{icon:new ic,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,b){y(this,b),this._latlng=ce(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var b=this._latlng;return this._latlng=ce(h),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=h.icon.createIcon(this._icon),R=!1;E!==this._icon&&(this._icon&&this._removeIcon(),R=!0,h.title&&(E.title=h.title),E.tagName==="IMG"&&(E.alt=h.alt||"")),Pt(E,b),h.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(E,"focus",this._panOnFocus,this);var B=h.icon.createShadow(this._shadow),ie=!1;B!==this._shadow&&(this._removeShadow(),ie=!0),B&&(Pt(B,b),B.alt=""),this._shadow=B,h.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),B&&ie&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_r(this._icon,"focus",this._panOnFocus,this),Br(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Br(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&sn(this._icon,h),this._shadow&&sn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xm)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xm(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&li(this._icon,h),this._shadow&&li(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var b=this.options.icon.options,E=b.iconSize?ne(b.iconSize):ne(0,0),R=b.iconAnchor?ne(b.iconAnchor):ne(0,0);h.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:E.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function V1(h,b){return new ga(h,b)}var io=ps.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return y(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wf=io.extend({options:{fill:!0,radius:10},initialize:function(h,b){y(this,b),this._latlng=ce(h),this._radius=this.options.radius},setLatLng:function(h){var b=this._latlng;return this._latlng=ce(h),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var b=h&&h.radius||this._radius;return io.prototype.setStyle.call(this,h),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,b=this._radiusY||h,E=this._clickTolerance(),R=[h+E,b+E];this._pxBounds=new J(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ux(h,b){return new wf(h,b)}var _f=wf.extend({initialize:function(h,b,E){if(typeof b=="number"&&(b=i({},E,{radius:b})),y(this,b),this._latlng=ce(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:io.prototype.setStyle,_project:function(){var h=this._latlng.lng,b=this._latlng.lat,E=this._map,R=E.options.crs;if(R.distance===ge.distance){var B=Math.PI/180,ie=this._mRadius/ge.R/B,pe=E.project([b+ie,h]),Ee=E.project([b-ie,h]),Me=pe.add(Ee).divideBy(2),ze=E.unproject(Me).lat,nt=Math.acos((Math.cos(ie*B)-Math.sin(b*B)*Math.sin(ze*B))/(Math.cos(b*B)*Math.cos(ze*B)))/B;(isNaN(nt)||nt===0)&&(nt=ie/Math.cos(Math.PI/180*b)),this._point=Me.subtract(E.getPixelOrigin()),this._radius=isNaN(nt)?0:Me.x-E.project([ze,h-nt]).x,this._radiusY=Me.y-pe.y}else{var xt=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(xt).x}this._updateBounds()}});function Mu(h,b,E){return new _f(h,b,E)}var Ci=io.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,b){y(this,b),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var b=1/0,E=null,R=Zo,B,ie,pe=0,Ee=this._parts.length;pe<Ee;pe++)for(var Me=this._parts[pe],ze=1,nt=Me.length;ze<nt;ze++){B=Me[ze-1],ie=Me[ze];var xt=R(h,B,ie,!0);xt<b&&(b=xt,E=R(h,B,ie))}return E&&(E.distance=Math.sqrt(b)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,b){return b=b||this._defaultShape(),h=ce(h),b.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new be,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return zi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var b=[],E=zi(h),R=0,B=h.length;R<B;R++)E?(b[R]=ce(h[R]),this._bounds.extend(b[R])):b[R]=this._convertLatLngs(h[R]);return b},_project:function(){var h=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),b=new Q(h,h);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(h,b,E){var R=h[0]instanceof De,B=h.length,ie,pe;if(R){for(pe=[],ie=0;ie<B;ie++)pe[ie]=this._map.latLngToLayerPoint(h[ie]),E.extend(pe[ie]);b.push(pe)}else for(ie=0;ie<B;ie++)this._projectLatlngs(h[ie],b,E)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,E,R,B,ie,pe,Ee,Me;for(E=0,B=0,ie=this._rings.length;E<ie;E++)for(Me=this._rings[E],R=0,pe=Me.length;R<pe-1;R++)Ee=nx(Me[R],Me[R+1],h,R,!0),Ee&&(b[B]=b[B]||[],b[B].push(Ee[0]),(Ee[1]!==Me[R+1]||R===pe-2)&&(b[B].push(Ee[1]),B++))}},_simplifyPoints:function(){for(var h=this._parts,b=this.options.smoothFactor,E=0,R=h.length;E<R;E++)h[E]=xf(h[E],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,b){var E,R,B,ie,pe,Ee,Me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(E=0,ie=this._parts.length;E<ie;E++)for(Ee=this._parts[E],R=0,pe=Ee.length,B=pe-1;R<pe;B=R++)if(!(!b&&R===0)&&rx(h,Ee[B],Ee[R])<=Me)return!0;return!1}});function W1(h,b){return new Ci(h,b)}Ci._flat=ix;var va=Ci.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tx(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var b=Ci.prototype._convertLatLngs.call(this,h),E=b.length;return E>=2&&b[0]instanceof De&&b[0].equals(b[E-1])&&b.pop(),b},_setLatLngs:function(h){Ci.prototype._setLatLngs.call(this,h),zi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return zi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,b=this.options.weight,E=new Q(b,b);if(h=new J(h.min.subtract(E),h.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,B=this._rings.length,ie;R<B;R++)ie=hm(this._rings[R],h,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var b=!1,E,R,B,ie,pe,Ee,Me,ze;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ie=0,Me=this._parts.length;ie<Me;ie++)for(E=this._parts[ie],pe=0,ze=E.length,Ee=ze-1;pe<ze;Ee=pe++)R=E[pe],B=E[Ee],R.y>h.y!=B.y>h.y&&h.x<(B.x-R.x)*(h.y-R.y)/(B.y-R.y)+R.x&&(b=!b);return b||Ci.prototype._containsPoint.call(this,h,!0)}});function H1(h,b){return new va(h,b)}var Bs=ma.extend({initialize:function(h,b){y(this,b),this._layers={},h&&this.addData(h)},addData:function(h){var b=C(h)?h:h.features,E,R,B;if(b){for(E=0,R=b.length;E<R;E++)B=b[E],(B.geometries||B.geometry||B.features||B.coordinates)&&this.addData(B);return this}var ie=this.options;if(ie.filter&&!ie.filter(h))return this;var pe=sc(h,ie);return pe?(pe.feature=Ef(h),pe.defaultOptions=pe.options,this.resetStyle(pe),ie.onEachFeature&&ie.onEachFeature(h,pe),this.addLayer(pe)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(b){this._setLayerStyle(b,h)},this)},_setLayerStyle:function(h,b){h.setStyle&&(typeof b=="function"&&(b=b(h.feature)),h.setStyle(b))}});function sc(h,b){var E=h.type==="Feature"?h.geometry:h,R=E?E.coordinates:null,B=[],ie=b&&b.pointToLayer,pe=b&&b.coordsToLatLng||Sf,Ee,Me,ze,nt;if(!R&&!E)return null;switch(E.type){case"Point":return Ee=pe(R),jf(ie,h,Ee,b);case"MultiPoint":for(ze=0,nt=R.length;ze<nt;ze++)Ee=pe(R[ze]),B.push(jf(ie,h,Ee,b));return new ma(B);case"LineString":case"MultiLineString":return Me=Iu(R,E.type==="LineString"?0:1,pe),new Ci(Me,b);case"Polygon":case"MultiPolygon":return Me=Iu(R,E.type==="Polygon"?1:2,pe),new va(Me,b);case"GeometryCollection":for(ze=0,nt=E.geometries.length;ze<nt;ze++){var xt=sc({geometry:E.geometries[ze],type:"Feature",properties:h.properties},b);xt&&B.push(xt)}return new ma(B);case"FeatureCollection":for(ze=0,nt=E.features.length;ze<nt;ze++){var Dt=sc(E.features[ze],b);Dt&&B.push(Dt)}return new ma(B);default:throw new Error("Invalid GeoJSON object.")}}function jf(h,b,E,R){return h?h(b,E):new ga(E,R&&R.markersInheritOptions&&R)}function Sf(h){return new De(h[1],h[0],h[2])}function Iu(h,b,E){for(var R=[],B=0,ie=h.length,pe;B<ie;B++)pe=b?Iu(h[B],b-1,E):(E||Sf)(h[B]),R.push(pe);return R}function Nf(h,b){return h=ce(h),h.alt!==void 0?[g(h.lng,b),g(h.lat,b),g(h.alt,b)]:[g(h.lng,b),g(h.lat,b)]}function Cf(h,b,E,R){for(var B=[],ie=0,pe=h.length;ie<pe;ie++)B.push(b?Cf(h[ie],zi(h[ie])?0:b-1,E,R):Nf(h[ie],R));return!b&&E&&B.length>0&&B.push(B[0].slice()),B}function ac(h,b){return h.feature?i({},h.feature,{geometry:b}):Ef(b)}function Ef(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var bm={toGeoJSON:function(h){return ac(this,{type:"Point",coordinates:Nf(this.getLatLng(),h)})}};ga.include(bm),_f.include(bm),wf.include(bm),Ci.include({toGeoJSON:function(h){var b=!zi(this._latlngs),E=Cf(this._latlngs,b?1:0,!1,h);return ac(this,{type:(b?"Multi":"")+"LineString",coordinates:E})}}),va.include({toGeoJSON:function(h){var b=!zi(this._latlngs),E=b&&!zi(this._latlngs[0]),R=Cf(this._latlngs,E?2:b?1:0,!0,h);return b||(R=[R]),ac(this,{type:(E?"Multi":"")+"Polygon",coordinates:R})}}),no.include({toMultiPoint:function(h){var b=[];return this.eachLayer(function(E){b.push(E.toGeoJSON(h).geometry.coordinates)}),ac(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(h){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(h);var E=b==="GeometryCollection",R=[];return this.eachLayer(function(B){if(B.toGeoJSON){var ie=B.toGeoJSON(h);if(E)R.push(ie.geometry);else{var pe=Ef(ie);pe.type==="FeatureCollection"?R.push.apply(R,pe.features):R.push(pe)}}}),E?ac(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function dx(h,b){return new Bs(h,b)}var ms=dx,so=ps.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,b,E){this._url=h,this._bounds=Ce(b),y(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Br(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Yl(this._image),this},bringToBack:function(){return this._map&&fa(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=Ce(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",b=this._image=h?this._url:kt("img");if(Pt(b,"leaflet-image-layer"),this._zoomAnimated&&Pt(b,"leaflet-zoom-animated"),this.options.className&&Pt(b,this.options.className),b.onselectstart=p,b.onmousemove=p,b.onload=o(this.fire,this,"load"),b.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(h){var b=this._map.getZoomScale(h.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;us(this._image,E,b)},_reset:function(){var h=this._image,b=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=b.getSize();sn(h,b.min),h.style.width=E.x+"px",h.style.height=E.y+"px"},_updateOpacity:function(){li(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),fx=function(h,b,E){return new so(h,b,E)},wm=so.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",b=this._image=h?this._url:kt("video");if(Pt(b,"leaflet-image-layer"),this._zoomAnimated&&Pt(b,"leaflet-zoom-animated"),this.options.className&&Pt(b,this.options.className),b.onselectstart=p,b.onmousemove=p,b.onloadeddata=o(this.fire,this,"load"),h){for(var E=b.getElementsByTagName("source"),R=[],B=0;B<E.length;B++)R.push(E[B].src);this._url=E.length>0?R:[b.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var pe=kt("source");pe.src=this._url[ie],b.appendChild(pe)}}});function hx(h,b,E){return new wm(h,b,E)}var _m=so.extend({_initImage:function(){var h=this._image=this._url;Pt(h,"leaflet-image-layer"),this._zoomAnimated&&Pt(h,"leaflet-zoom-animated"),this.options.className&&Pt(h,this.options.className),h.onselectstart=p,h.onmousemove=p}});function jm(h,b,E){return new _m(h,b,E)}var zs=ps.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,b){h&&(h instanceof De||C(h))?(this._latlng=ce(h),y(this,b)):(y(this,h),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&li(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&li(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(li(this._container,0),this._removeTimeout=setTimeout(o(Br,void 0,this._container),200)):Br(this._container),this.options.interactive&&(Mr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ce(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yl(this._container),this},bringToBack:function(){return this._map&&fa(this._container),this},_prepareOpen:function(h){var b=this._source;if(!b._map)return!1;if(b instanceof ma){b=null;var E=this._source._layers;for(var R in E)if(E[R]._map){b=E[R];break}if(!b)return!1;this._source=b}if(!h)if(b.getCenter)h=b.getCenter();else if(b.getLatLng)h=b.getLatLng();else if(b.getBounds)h=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")h.innerHTML=b;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),b=ne(this.options.offset),E=this._getAnchor();this._zoomAnimated?sn(this._container,h.add(E)):b=b.add(h).add(E);var R=this._containerBottom=-b.y,B=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=R+"px",this._container.style.left=B+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(h,b,E,R){var B=b;return B instanceof h||(B=new h(R).setContent(b)),E&&B.setLatLng(E),B}}),ps.include({_initOverlay:function(h,b,E,R){var B=E;return B instanceof h?(y(B,R),B._source=this):(B=b&&!R?b:new h(R,this),B.setContent(E)),B}});var Pf=zs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,zs.prototype.openOn.call(this,h)},onAdd:function(h){zs.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof io||this._source.on("preclick",Fs))},onRemove:function(h){zs.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof io||this._source.off("preclick",Fs))},getEvents:function(){var h=zs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",b=this._container=kt("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=kt("div",h+"-content-wrapper",b);if(this._contentNode=kt("div",h+"-content",E),Au(b),mf(this._contentNode),Ct(b,"contextmenu",Fs),this._tipContainer=kt("div",h+"-tip-container",b),this._tip=kt("div",h+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=kt("a",h+"-close-button",b);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(R,"click",function(B){Jr(B),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,b=h.style;b.width="",b.whiteSpace="nowrap";var E=h.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),b.width=E+1+"px",b.whiteSpace="",b.height="";var R=h.offsetHeight,B=this.options.maxHeight,ie="leaflet-popup-scrolled";B&&R>B?(b.height=B+"px",Pt(h,ie)):Mr(h,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),E=this._getAnchor();sn(this._container,b.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,b=parseInt(Cu(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+b,R=this._containerWidth,B=new Q(this._containerLeft,-E-this._containerBottom);B._add(ha(this._container));var ie=h.layerPointToContainerPoint(B),pe=ne(this.options.autoPanPadding),Ee=ne(this.options.autoPanPaddingTopLeft||pe),Me=ne(this.options.autoPanPaddingBottomRight||pe),ze=h.getSize(),nt=0,xt=0;ie.x+R+Me.x>ze.x&&(nt=ie.x+R-ze.x+Me.x),ie.x-nt-Ee.x<0&&(nt=ie.x-Ee.x),ie.y+E+Me.y>ze.y&&(xt=ie.y+E-ze.y+Me.y),ie.y-xt-Ee.y<0&&(xt=ie.y-Ee.y),(nt||xt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([nt,xt]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),oc=function(h,b){return new Pf(h,b)};Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(h,b,E){return this._initOverlay(Pf,h,b,E).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),ps.include({bindPopup:function(h,b){return this._popup=this._initOverlay(Pf,this._popup,h,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof ma||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){fs(h);var b=h.layer||h.target;if(this._popup._source===b&&!(b instanceof io)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=b,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var lc=zs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){zs.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){zs.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=zs.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",b=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var b,E,R=this._map,B=this._container,ie=R.latLngToContainerPoint(R.getCenter()),pe=R.layerPointToContainerPoint(h),Ee=this.options.direction,Me=B.offsetWidth,ze=B.offsetHeight,nt=ne(this.options.offset),xt=this._getAnchor();Ee==="top"?(b=Me/2,E=ze):Ee==="bottom"?(b=Me/2,E=0):Ee==="center"?(b=Me/2,E=ze/2):Ee==="right"?(b=0,E=ze/2):Ee==="left"?(b=Me,E=ze/2):pe.x<ie.x?(Ee="right",b=0,E=ze/2):(Ee="left",b=Me+(nt.x+xt.x)*2,E=ze/2),h=h.subtract(ne(b,E,!0)).add(nt).add(xt),Mr(B,"leaflet-tooltip-right"),Mr(B,"leaflet-tooltip-left"),Mr(B,"leaflet-tooltip-top"),Mr(B,"leaflet-tooltip-bottom"),Pt(B,"leaflet-tooltip-"+Ee),sn(B,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&li(this._container,h)},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(b)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Du=function(h,b){return new lc(h,b)};Gt.include({openTooltip:function(h,b,E){return this._initOverlay(lc,h,b,E).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),ps.include({bindTooltip:function(h,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lc,this._tooltip,h,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var b=h?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[b](E),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof ma||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var b=typeof h.getElement=="function"&&h.getElement();b&&(Ct(b,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ct(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var b=typeof h.getElement=="function"&&h.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var b=h.latlng,E,R;this._tooltip.options.sticky&&h.originalEvent&&(E=this._map.mouseEventToContainerPoint(h.originalEvent),R=this._map.containerPointToLayerPoint(E),b=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(b)}});var Tf=Yo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var b=h&&h.tagName==="DIV"?h:document.createElement("div"),E=this.options;if(E.html instanceof Element?(cf(b),b.appendChild(E.html)):b.innerHTML=E.html!==!1?E.html:"",E.bgPos){var R=ne(E.bgPos);b.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function px(h){return new Tf(h)}Yo.Default=ic;var ao=ps.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){y(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Br(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof Q?h:new Q(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var b=this.getPane().children,E=-h(-1/0,1/0),R=0,B=b.length,ie;R<B;R++)ie=b[R].style.zIndex,b[R]!==this._container&&ie&&(E=h(E,+ie));isFinite(E)&&(this.options.zIndex=E+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){li(this._container,this.options.opacity);var h=+new Date,b=!1,E=!1;for(var R in this._tiles){var B=this._tiles[R];if(!(!B.current||!B.loaded)){var ie=Math.min(1,(h-B.loaded)/200);li(B.el,ie),ie<1?b=!0:(B.active?E=!0:this._onOpaqueTile(B),B.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),b&&(U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,b=this.options.maxZoom;if(h!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===h?(this._levels[E].el.style.zIndex=b-Math.abs(h-E),this._onUpdateLevel(E)):(Br(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var R=this._levels[h],B=this._map;return R||(R=this._levels[h]={},R.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=b,R.origin=B.project(B.unproject(B.getPixelOrigin()),h).round(),R.zoom=h,this._setZoomTransform(R,B.getCenter(),B.getZoom()),p(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var h,b,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)b=this._tiles[h],b.retain=b.current;for(h in this._tiles)if(b=this._tiles[h],b.current&&!b.active){var R=b.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var b in this._tiles)this._tiles[b].coords.z===h&&this._removeTile(b)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Br(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,b,E,R){var B=Math.floor(h/2),ie=Math.floor(b/2),pe=E-1,Ee=new Q(+B,+ie);Ee.z=+pe;var Me=this._tileCoordsToKey(Ee),ze=this._tiles[Me];return ze&&ze.active?(ze.retain=!0,!0):(ze&&ze.loaded&&(ze.retain=!0),pe>R?this._retainParent(B,ie,pe,R):!1)},_retainChildren:function(h,b,E,R){for(var B=2*h;B<2*h+2;B++)for(var ie=2*b;ie<2*b+2;ie++){var pe=new Q(B,ie);pe.z=E+1;var Ee=this._tileCoordsToKey(pe),Me=this._tiles[Ee];if(Me&&Me.active){Me.retain=!0;continue}else Me&&Me.loaded&&(Me.retain=!0);E+1<R&&this._retainChildren(B,ie,E+1,R)}},_resetView:function(h){var b=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var b=this.options;return b.minNativeZoom!==void 0&&h<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<h?b.maxNativeZoom:h},_setView:function(h,b,E,R){var B=Math.round(b);this.options.maxZoom!==void 0&&B>this.options.maxZoom||this.options.minZoom!==void 0&&B<this.options.minZoom?B=void 0:B=this._clampZoom(B);var ie=this.options.updateWhenZooming&&B!==this._tileZoom;(!R||ie)&&(this._tileZoom=B,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),B!==void 0&&this._update(h),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(h,b)},_setZoomTransforms:function(h,b){for(var E in this._levels)this._setZoomTransform(this._levels[E],h,b)},_setZoomTransform:function(h,b,E){var R=this._map.getZoomScale(E,h.zoom),B=h.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(b,E)).round();ht.any3d?us(h.el,B,R):sn(h.el,B)},_resetGrid:function(){var h=this._map,b=h.options.crs,E=this._tileSize=this.getTileSize(),R=this._tileZoom,B=this._map.getPixelWorldBounds(this._tileZoom);B&&(this._globalTileRange=this._pxBoundsToTileRange(B)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,b.wrapLng[0]],R).x/E.x),Math.ceil(h.project([0,b.wrapLng[1]],R).x/E.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([b.wrapLat[0],0],R).y/E.x),Math.ceil(h.project([b.wrapLat[1],0],R).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var b=this._map,E=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),R=b.getZoomScale(E,this._tileZoom),B=b.project(h,this._tileZoom).floor(),ie=b.getSize().divideBy(R*2);return new J(B.subtract(ie),B.add(ie))},_update:function(h){var b=this._map;if(b){var E=this._clampZoom(b.getZoom());if(h===void 0&&(h=b.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(h),B=this._pxBoundsToTileRange(R),ie=B.getCenter(),pe=[],Ee=this.options.keepBuffer,Me=new J(B.getBottomLeft().subtract([Ee,-Ee]),B.getTopRight().add([Ee,-Ee]));if(!(isFinite(B.min.x)&&isFinite(B.min.y)&&isFinite(B.max.x)&&isFinite(B.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ze in this._tiles){var nt=this._tiles[ze].coords;(nt.z!==this._tileZoom||!Me.contains(new Q(nt.x,nt.y)))&&(this._tiles[ze].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(h,E);return}for(var xt=B.min.y;xt<=B.max.y;xt++)for(var Dt=B.min.x;Dt<=B.max.x;Dt++){var Tn=new Q(Dt,xt);if(Tn.z=this._tileZoom,!!this._isValidTile(Tn)){var mn=this._tiles[this._tileCoordsToKey(Tn)];mn?mn.current=!0:pe.push(Tn)}}if(pe.sort(function(ui,hc){return ui.distanceTo(ie)-hc.distanceTo(ie)}),pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ei=document.createDocumentFragment();for(Dt=0;Dt<pe.length;Dt++)this._addTile(pe[Dt],Ei);this._level.el.appendChild(Ei)}}}},_isValidTile:function(h){var b=this._map.options.crs;if(!b.infinite){var E=this._globalTileRange;if(!b.wrapLng&&(h.x<E.min.x||h.x>E.max.x)||!b.wrapLat&&(h.y<E.min.y||h.y>E.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(h);return Ce(this.options.bounds).overlaps(R)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var b=this._map,E=this.getTileSize(),R=h.scaleBy(E),B=R.add(E),ie=b.unproject(R,h.z),pe=b.unproject(B,h.z);return[ie,pe]},_tileCoordsToBounds:function(h){var b=this._tileCoordsToNwSe(h),E=new be(b[0],b[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var b=h.split(":"),E=new Q(+b[0],+b[1]);return E.z=+b[2],E},_removeTile:function(h){var b=this._tiles[h];b&&(Br(b.el),delete this._tiles[h],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Pt(h,"leaflet-tile");var b=this.getTileSize();h.style.width=b.x+"px",h.style.height=b.y+"px",h.onselectstart=p,h.onmousemove=p,ht.ielt9&&this.options.opacity<1&&li(h,this.options.opacity)},_addTile:function(h,b){var E=this._getTilePos(h),R=this._tileCoordsToKey(h),B=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(B),this.createTile.length<2&&V(o(this._tileReady,this,h,null,B)),sn(B,E),this._tiles[R]={el:B,coords:h,current:!0},b.appendChild(B),this.fire("tileloadstart",{tile:B,coords:h})},_tileReady:function(h,b,E){b&&this.fire("tileerror",{error:b,tile:E,coords:h});var R=this._tileCoordsToKey(h);E=this._tiles[R],E&&(E.loaded=+new Date,this._map._fadeAnimated?(li(E.el,0),U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),b||(Pt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var b=new Q(this._wrapX?f(h.x,this._wrapX):h.x,this._wrapY?f(h.y,this._wrapY):h.y);return b.z=h.z,b},_pxBoundsToTileRange:function(h){var b=this.getTileSize();return new J(h.min.unscaleBy(b).floor(),h.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function cc(h){return new ao(h)}var oo=ao.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,b){this._url=h,b=y(this,b),b.detectRetina&&ht.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,b){return this._url===h&&b===void 0&&(b=!0),this._url=h,b||this.redraw(),this},createTile:function(h,b){var E=document.createElement("img");return Ct(E,"load",o(this._tileOnLoad,this,b,E)),Ct(E,"error",o(this._tileOnError,this,b,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(h),E},getTileUrl:function(h){var b={r:ht.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-h.y;this.options.tms&&(b.y=E),b["-y"]=E}return N(this._url,i(b,this.options))},_tileOnLoad:function(h,b){ht.ielt9?setTimeout(o(h,this,null,b),0):h(null,b)},_tileOnError:function(h,b,E){var R=this.options.errorTileUrl;R&&b.getAttribute("src")!==R&&(b.src=R),h(E,b)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,b=this.options.maxZoom,E=this.options.zoomReverse,R=this.options.zoomOffset;return E&&(h=b-h),h+R},_getSubdomain:function(h){var b=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var h,b;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(b=this._tiles[h].el,b.onload=p,b.onerror=p,!b.complete)){b.src=A;var E=this._tiles[h].coords;Br(b),delete this._tiles[h],this.fire("tileabort",{tile:b,coords:E})}},_removeTile:function(h){var b=this._tiles[h];if(b)return b.el.setAttribute("src",A),ao.prototype._removeTile.call(this,h)},_tileReady:function(h,b,E){if(!(!this._map||E&&E.getAttribute("src")===A))return ao.prototype._tileReady.call(this,h,b,E)}});function Sm(h,b){return new oo(h,b)}var Lu=oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,b){this._url=h;var E=i({},this.defaultWmsParams);for(var R in b)R in this.options||(E[R]=b[R]);b=y(this,b);var B=b.detectRetina&&ht.retina?2:1,ie=this.getTileSize();E.width=ie.x*B,E.height=ie.y*B,this.wmsParams=E},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,oo.prototype.onAdd.call(this,h)},getTileUrl:function(h){var b=this._tileCoordsToNwSe(h),E=this._crs,R=oe(E.project(b[0]),E.project(b[1])),B=R.min,ie=R.max,pe=(this._wmsVersion>=1.3&&this._crs===ox?[B.y,B.x,ie.y,ie.x]:[B.x,B.y,ie.x,ie.y]).join(","),Ee=oo.prototype.getTileUrl.call(this,h);return Ee+_(this.wmsParams,Ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+pe},setParams:function(h,b){return i(this.wmsParams,h),b||this.redraw(),this}});function mx(h,b){return new Lu(h,b)}oo.WMS=Lu,Sm.wms=mx;var qs=ps.extend({options:{padding:.1},initialize:function(h){y(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,b){var E=this._map.getZoomScale(b,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),B=this._map.project(this._center,b),ie=R.multiplyBy(-E).add(B).subtract(this._map._getNewPixelOrigin(h,b));ht.any3d?us(this._container,ie,E):sn(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,b=this._map.getSize(),E=this._map.containerPointToLayerPoint(b.multiplyBy(-h)).round();this._bounds=new J(E,E.add(b.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nm=qs.extend({options:{tolerance:0},getEvents:function(){var h=qs.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ct(h,"mousemove",this._onMouseMove,this),Ct(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Br(this._container),_r(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var b in this._layers)h=this._layers[b],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qs.prototype._update.call(this);var h=this._bounds,b=this._container,E=h.getSize(),R=ht.retina?2:1;sn(b,h.min),b.width=R*E.x,b.height=R*E.y,b.style.width=E.x+"px",b.style.height=E.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){qs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var b=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var b=h._order,E=b.next,R=b.prev;E?E.prev=R:this._drawLast=R,R?R.next=E:this._drawFirst=E,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var b=h.options.dashArray.split(/[, ]+/),E=[],R,B;for(B=0;B<b.length;B++){if(R=Number(b[B]),isNaN(R))return;E.push(R)}h.options._dashArray=E}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var b=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(h._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(h._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var b=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,b=this._redrawBounds;if(this._ctx.save(),b){var E=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)h=R.layer,(!b||h._pxBounds&&h._pxBounds.intersects(b))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,b){if(this._drawing){var E,R,B,ie,pe=h._parts,Ee=pe.length,Me=this._ctx;if(Ee){for(Me.beginPath(),E=0;E<Ee;E++){for(R=0,B=pe[E].length;R<B;R++)ie=pe[E][R],Me[R?"lineTo":"moveTo"](ie.x,ie.y);b&&Me.closePath()}this._fillStroke(Me,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var b=h._point,E=this._ctx,R=Math.max(Math.round(h._radius),1),B=(Math.max(Math.round(h._radiusY),1)||R)/R;B!==1&&(E.save(),E.scale(1,B)),E.beginPath(),E.arc(b.x,b.y/B,R,0,Math.PI*2,!1),B!==1&&E.restore(),this._fillStroke(E,h)}},_fillStroke:function(h,b){var E=b.options;E.fill&&(h.globalAlpha=E.fillOpacity,h.fillStyle=E.fillColor||E.color,h.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(h.setLineDash&&h.setLineDash(b.options&&b.options._dashArray||[]),h.globalAlpha=E.opacity,h.lineWidth=E.weight,h.strokeStyle=E.color,h.lineCap=E.lineCap,h.lineJoin=E.lineJoin,h.stroke())},_onClick:function(h){for(var b=this._map.mouseEventToLayerPoint(h),E,R,B=this._drawFirst;B;B=B.next)E=B.layer,E.options.interactive&&E._containsPoint(b)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(E))&&(R=E);this._fireEvent(R?[R]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,b)}},_handleMouseOut:function(h){var b=this._hoveredLayer;b&&(Mr(this._container,"leaflet-interactive"),this._fireEvent([b],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,b){if(!this._mouseHoverThrottled){for(var E,R,B=this._drawFirst;B;B=B.next)E=B.layer,E.options.interactive&&E._containsPoint(b)&&(R=E);R!==this._hoveredLayer&&(this._handleMouseOut(h),R&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([R],h,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,b,E){this._map._fireDOMEvent(b,E||b.type,h)},_bringToFront:function(h){var b=h._order;if(b){var E=b.next,R=b.prev;if(E)E.prev=R;else return;R?R.next=E:E&&(this._drawFirst=E),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(h)}},_bringToBack:function(h){var b=h._order;if(b){var E=b.next,R=b.prev;if(R)R.next=E;else return;E?E.prev=R:R&&(this._drawLast=R),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(h)}}});function Cm(h){return ht.canvas?new Nm(h):null}var uc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),gx={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qs.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var b=h._container=uc("shape");Pt(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",h._path=uc("path"),b.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var b=h._container;this._container.appendChild(b),h.options.interactive&&h.addInteractiveTarget(b)},_removePath:function(h){var b=h._container;Br(b),h.removeInteractiveTarget(b),delete this._layers[c(h)]},_updateStyle:function(h){var b=h._stroke,E=h._fill,R=h.options,B=h._container;B.stroked=!!R.stroke,B.filled=!!R.fill,R.stroke?(b||(b=h._stroke=uc("stroke")),B.appendChild(b),b.weight=R.weight+"px",b.color=R.color,b.opacity=R.opacity,R.dashArray?b.dashStyle=C(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=R.lineCap.replace("butt","flat"),b.joinstyle=R.lineJoin):b&&(B.removeChild(b),h._stroke=null),R.fill?(E||(E=h._fill=uc("fill")),B.appendChild(E),E.color=R.fillColor||R.color,E.opacity=R.fillOpacity):E&&(B.removeChild(E),h._fill=null)},_updateCircle:function(h){var b=h._point.round(),E=Math.round(h._radius),R=Math.round(h._radiusY||E);this._setPath(h,h._empty()?"M0 0":"AL "+b.x+","+b.y+" "+E+","+R+" 0,"+65535*360)},_setPath:function(h,b){h._path.v=b},_bringToFront:function(h){Yl(h._container)},_bringToBack:function(h){fa(h._container)}},gs=ht.vml?uc:Ve,Xo=qs.extend({_initContainer:function(){this._container=gs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Br(this._container),_r(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qs.prototype._update.call(this);var h=this._bounds,b=h.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,E.setAttribute("width",b.x),E.setAttribute("height",b.y)),sn(E,h.min),E.setAttribute("viewBox",[h.min.x,h.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(h){var b=h._path=gs("path");h.options.className&&Pt(b,h.options.className),h.options.interactive&&Pt(b,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Br(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var b=h._path,E=h.options;b&&(E.stroke?(b.setAttribute("stroke",E.color),b.setAttribute("stroke-opacity",E.opacity),b.setAttribute("stroke-width",E.weight),b.setAttribute("stroke-linecap",E.lineCap),b.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?b.setAttribute("stroke-dasharray",E.dashArray):b.removeAttribute("stroke-dasharray"),E.dashOffset?b.setAttribute("stroke-dashoffset",E.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),E.fill?(b.setAttribute("fill",E.fillColor||E.color),b.setAttribute("fill-opacity",E.fillOpacity),b.setAttribute("fill-rule",E.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(h,b){this._setPath(h,qe(h._parts,b))},_updateCircle:function(h){var b=h._point,E=Math.max(Math.round(h._radius),1),R=Math.max(Math.round(h._radiusY),1)||E,B="a"+E+","+R+" 0 1,0 ",ie=h._empty()?"M0 0":"M"+(b.x-E)+","+b.y+B+E*2+",0 "+B+-E*2+",0 ";this._setPath(h,ie)},_setPath:function(h,b){h._path.setAttribute("d",b)},_bringToFront:function(h){Yl(h._path)},_bringToBack:function(h){fa(h._path)}});ht.vml&&Xo.include(gx);function Af(h){return ht.svg||ht.vml?new Xo(h):null}Gt.include({getRenderer:function(h){var b=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var b=this._paneRenderers[h];return b===void 0&&(b=this._createRenderer({pane:h}),this._paneRenderers[h]=b),b},_createRenderer:function(h){return this.options.preferCanvas&&Cm(h)||Af(h)}});var vx=va.extend({initialize:function(h,b){va.prototype.initialize.call(this,this._boundsToLatLngs(h),b)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=Ce(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function K1(h,b){return new vx(h,b)}Xo.create=gs,Xo.pointsToPath=qe,Bs.geometryToLayer=sc,Bs.coordsToLatLng=Sf,Bs.coordsToLatLngs=Iu,Bs.latLngToCoords=Nf,Bs.latLngsToCoords=Cf,Bs.getFeature=ac,Bs.asFeature=Ef,Gt.mergeOptions({boxZoom:!0});var dc=Bi.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_r(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Br(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),ff(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ct(document,{contextmenu:fs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var b=new J(this._point,this._startPoint),E=b.getSize();sn(this._box,b.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Br(this._box),Mr(this._container,"leaflet-crosshair")),Ql(),hf(),_r(document,{contextmenu:fs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var b=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",dc),Gt.mergeOptions({doubleClickZoom:!0});var yx=Bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var b=this._map,E=b.getZoom(),R=b.options.zoomDelta,B=h.originalEvent.shiftKey?E-R:E+R;b.options.doubleClickZoom==="center"?b.setZoom(B):b.setZoomAround(h.containerPoint,B)}});Gt.addInitHook("addHandler","doubleClickZoom",yx),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Em=Bi.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new hs(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Mr(this._map._container,"leaflet-grab"),Mr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=Ce(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var b=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(b),this._prunePositions(b)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,b){return h-(h-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;h.x<b.min.x&&(h.x=this._viscousLimit(h.x,b.min.x)),h.y<b.min.y&&(h.y=this._viscousLimit(h.y,b.min.y)),h.x>b.max.x&&(h.x=this._viscousLimit(h.x,b.max.x)),h.y>b.max.y&&(h.y=this._viscousLimit(h.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,b=Math.round(h/2),E=this._initialWorldOffset,R=this._draggable._newPos.x,B=(R-b+E)%h+b-E,ie=(R+b+E)%h-b-E,pe=Math.abs(B+E)<Math.abs(ie+E)?B:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=pe},_onDragEnd:function(h){var b=this._map,E=b.options,R=!E.inertia||h.noInertia||this._times.length<2;if(b.fire("dragend",h),R)b.fire("moveend");else{this._prunePositions(+new Date);var B=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,pe=E.easeLinearity,Ee=B.multiplyBy(pe/ie),Me=Ee.distanceTo([0,0]),ze=Math.min(E.inertiaMaxSpeed,Me),nt=Ee.multiplyBy(ze/Me),xt=ze/(E.inertiaDeceleration*pe),Dt=nt.multiplyBy(-xt/2).round();!Dt.x&&!Dt.y?b.fire("moveend"):(Dt=b._limitOffset(Dt,b.options.maxBounds),V(function(){b.panBy(Dt,{duration:xt,easeLinearity:pe,noMoveStart:!0,animate:!0})}))}}});Gt.addInitHook("addHandler","dragging",Em),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pm=Bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ct(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_r(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,b=document.documentElement,E=h.scrollTop||b.scrollTop,R=h.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(R,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var b=this._panKeys={},E=this.keyCodes,R,B;for(R=0,B=E.left.length;R<B;R++)b[E.left[R]]=[-1*h,0];for(R=0,B=E.right.length;R<B;R++)b[E.right[R]]=[h,0];for(R=0,B=E.down.length;R<B;R++)b[E.down[R]]=[0,h];for(R=0,B=E.up.length;R<B;R++)b[E.up[R]]=[0,-1*h]},_setZoomDelta:function(h){var b=this._zoomKeys={},E=this.keyCodes,R,B;for(R=0,B=E.zoomIn.length;R<B;R++)b[E.zoomIn[R]]=h;for(R=0,B=E.zoomOut.length;R<B;R++)b[E.zoomOut[R]]=-h},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_r(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var b=h.keyCode,E=this._map,R;if(b in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(R=this._panKeys[b],h.shiftKey&&(R=ne(R).multiplyBy(3)),E.options.maxBounds&&(R=E._limitOffset(ne(R),E.options.maxBounds)),E.options.worldCopyJump){var B=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(R)));E.panTo(B)}else E.panBy(R)}else if(b in this._zoomKeys)E.setZoom(E.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;fs(h)}}});Gt.addInitHook("addHandler","keyboard",Pm),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jr=Bi.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_r(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var b=Qy(h),E=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var R=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),R),fs(h)},_performZoom:function(){var h=this._map,b=h.getZoom(),E=this._map.options.zoomSnap||0;h._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),B=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,ie=E?Math.ceil(B/E)*E:B,pe=h._limitZoom(b+(this._delta>0?ie:-ie))-b;this._delta=0,this._startTime=null,pe&&(h.options.scrollWheelZoom==="center"?h.setZoom(b+pe):h.setZoomAround(this._lastMousePos,b+pe))}});Gt.addInitHook("addHandler","scrollWheelZoom",jr);var Tm=600;Gt.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var $u=Bi.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_r(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var b=h.touches[0];this._startPos=this._newPos=new Q(b.clientX,b.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",Jr),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),Tm),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){_r(document,"touchend",Jr),_r(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),_r(document,"touchend touchcancel contextmenu",this._cancel,this),_r(document,"touchmove",this._onMove,this)},_onMove:function(h){var b=h.touches[0];this._newPos=new Q(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,b){var E=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});E._simulated=!0,b.target.dispatchEvent(E)}});Gt.addInitHook("addHandler","tapHold",$u),Gt.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var fc=Bi.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Mr(this._map._container,"leaflet-touch-zoom"),_r(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var b=this._map;if(!(!h.touches||h.touches.length!==2||b._animatingZoom||this._zooming)){var E=b.mouseEventToContainerPoint(h.touches[0]),R=b.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(E.add(R)._divideBy(2))),this._startDist=E.distanceTo(R),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),Jr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var b=this._map,E=b.mouseEventToContainerPoint(h.touches[0]),R=b.mouseEventToContainerPoint(h.touches[1]),B=E.distanceTo(R)/this._startDist;if(this._zoom=b.getScaleZoom(B,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&B<1||this._zoom>b.getMaxZoom()&&B>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,B===1)return}else{var ie=E._add(R)._divideBy(2)._subtract(this._centerPoint);if(B===1&&ie.x===0&&ie.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var pe=o(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(pe,this,!0),Jr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),_r(document,"touchmove",this._onTouchMove,this),_r(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gt.addInitHook("addHandler","touchZoom",fc),Gt.BoxZoom=dc,Gt.DoubleClickZoom=yx,Gt.Drag=Em,Gt.Keyboard=Pm,Gt.ScrollWheelZoom=jr,Gt.TapHold=$u,Gt.TouchZoom=fc,r.Bounds=J,r.Browser=ht,r.CRS=ae,r.Canvas=Nm,r.Circle=_f,r.CircleMarker=wf,r.Class=H,r.Control=Ni,r.DivIcon=Tf,r.DivOverlay=zs,r.DomEvent=gf,r.DomUtil=Tu,r.Draggable=hs,r.Evented=W,r.FeatureGroup=ma,r.GeoJSON=Bs,r.GridLayer=ao,r.Handler=Bi,r.Icon=Yo,r.ImageOverlay=so,r.LatLng=De,r.LatLngBounds=be,r.Layer=ps,r.LayerGroup=no,r.LineUtil=ax,r.Map=Gt,r.Marker=ga,r.Mixin=fm,r.Path=io,r.Point=Q,r.PolyUtil=D1,r.Polygon=va,r.Polyline=Ci,r.Popup=Pf,r.PosAnimation=vf,r.Projection=z1,r.Rectangle=vx,r.Renderer=qs,r.SVG=Xo,r.SVGOverlay=_m,r.TileLayer=oo,r.Tooltip=lc,r.Transformation=ee,r.Util=z,r.VideoOverlay=wm,r.bind=o,r.bounds=oe,r.canvas=Cm,r.circle=Mu,r.circleMarker=ux,r.control=ro,r.divIcon=px,r.extend=i,r.featureGroup=lx,r.geoJSON=dx,r.geoJson=ms,r.gridLayer=cc,r.icon=cx,r.imageOverlay=fx,r.latLng=ce,r.latLngBounds=Ce,r.layerGroup=Ru,r.map=to,r.marker=V1,r.point=ne,r.polygon=H1,r.polyline=W1,r.popup=oc,r.rectangle=K1,r.setOptions=y,r.stamp=c,r.svg=Af,r.svgOverlay=jm,r.tileLayer=Sm,r.tooltip=Du,r.transformation=G,r.version=n,r.videoOverlay=hx;var xx=window.L;r.noConflict=function(){return window.L=xx,this},window.L=r})}(Cg,Cg.exports)),Cg.exports}var ECe=CCe();const zc=pr(ECe);delete zc.Icon.Default.prototype._getIconUrl;zc.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const PCe=({center:e=[48.8566,2.3522],zoom:t=13,onLocationSelect:r,selectedLocation:n=null,height:i="400px",className:s=""})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState(!1);x.useEffect(()=>{if(!o.current||l.current)return;const g=zc.map(o.current).setView(e,t);return l.current=g,zc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(g),g.on("click",v=>{const{lat:w,lng:y}=v.latlng;c.current&&g.removeLayer(c.current),c.current=zc.marker([w,y],{icon:zc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(g),r&&r({latitude:w,longitude:y,timestamp:new Date().toISOString(),source:"map"})}),g.whenReady(()=>{f(!0)}),()=>{l.current&&(l.current.remove(),l.current=null)}},[e,t,r]),x.useEffect(()=>{!l.current||!n||(c.current&&l.current.removeLayer(c.current),c.current=zc.marker([n.latitude,n.longitude],{icon:zc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(l.current),l.current.setView([n.latitude,n.longitude],15))},[n]);const p=(g,v,w=15)=>{l.current&&l.current.setView([g,v],w)};return x.useEffect(()=>{window.centerMapOnLocation,window.centerMapOnLocation=p},[]),a.jsxs("div",{className:`relative ${s}`,children:[a.jsx("div",{ref:o,style:{height:i},className:"w-full rounded-lg overflow-hidden border"}),!u&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement de la carte..."})]})}),a.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-muted-foreground shadow-sm",children:"Cliquez sur la carte pour sélectionner un point"})]})};class TCe{constructor(){this.baseUrl="https://nominatim.openstreetmap.org",this.cache=new Map,this.cacheTimeout=5*60*1e3}async searchLocation(t,r={}){const{limit:n=5,countrycodes:i="",bounded:s=0,viewbox:o="",addressdetails:l=1}=r,c=`${t}_${n}_${i}`,u=this.getFromCache(c);if(u)return u;try{const f=new URLSearchParams({q:t,format:"json",limit:n.toString(),addressdetails:l.toString(),bounded:s.toString()});i&&f.append("countrycodes",i),o&&f.append("viewbox",o);const p=await fetch(`${this.baseUrl}/search?${f}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!p.ok)throw new Error(`Erreur HTTP: ${p.status}`);const v=(await p.json()).map(w=>({id:w.place_id,name:w.display_name,latitude:parseFloat(w.lat),longitude:parseFloat(w.lon),type:w.type,importance:w.importance,address:w.address,boundingbox:w.boundingbox}));return this.setCache(c,v),v}catch(f){throw console.error("Erreur géocodage:",f),new Error("Erreur lors de la recherche d'adresse. Veuillez réessayer.")}}async reverseGeocode(t,r,n={}){const{zoom:i=18,addressdetails:s=1,extratags:o=1}=n,l=`reverse_${t}_${r}_${i}`,c=this.getFromCache(l);if(c)return c;try{const u=new URLSearchParams({lat:t.toString(),lon:r.toString(),format:"json",zoom:i.toString(),addressdetails:s.toString(),extratags:o.toString()}),f=await fetch(`${this.baseUrl}/reverse?${u}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!f.ok)throw new Error(`Erreur HTTP: ${f.status}`);const p=await f.json(),g={id:p.place_id,name:p.display_name,latitude:parseFloat(p.lat),longitude:parseFloat(p.lon),type:p.type,address:p.address,boundingbox:p.boundingbox};return this.setCache(l,g),g}catch(u){throw console.error("Erreur géocodage inverse:",u),new Error("Erreur lors de la récupération de l'adresse. Veuillez réessayer.")}}async searchPopularPlaces(t,r={}){const{limit:n=10,countrycodes:i="fr,be,ch,ca"}=r;try{return(await this.searchLocation(t,{limit:n,countrycodes:i})).sort((o,l)=>l.importance-o.importance)}catch(s){return console.error("Erreur recherche lieux populaires:",s),[]}}validateCoordinates(t,r){const n=parseFloat(t),i=parseFloat(r);return!(isNaN(n)||isNaN(i)||n<-90||n>90||i<-180||i>180)}formatAddress(t){if(!t)return"";const r=[];return t.house_number&&r.push(t.house_number),t.road&&r.push(t.road),t.postcode&&r.push(t.postcode),(t.city||t.town||t.village)&&r.push(t.city||t.town||t.village),t.country&&r.push(t.country),r.join(", ")}getFromCache(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>this.cacheTimeout?(this.cache.delete(t),null):r.data:null}setCache(t,r){this.cache.set(t,{data:r,timestamp:Date.now()})}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const A0=new TCe,ACe=({onLocationSelect:e,onClose:t,isOpen:r=!1,defaultLocation:n=null,showMap:i=!0})=>{x.useRef(null);const s=x.useRef(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[f,p]=x.useState(null),[g,v]=x.useState(n),[w,y]=x.useState(""),[_,S]=x.useState([]),[N,C]=x.useState(!1),[k,A]=x.useState(null),{toast:T}=Cn(),O=x.useCallback(async()=>{if(!navigator.geolocation){p("La géolocalisation n'est pas supportée par votre navigateur");return}l(!0),p(null);const z={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4};try{const H=await new Promise((Q,Y)=>{navigator.geolocation.getCurrentPosition(Q,Y,z)}),{latitude:re,longitude:se}=H.coords,W={latitude:re,longitude:se,accuracy:H.coords.accuracy,timestamp:new Date().toISOString(),source:"gps"};A(W),v(W),u(!0),T({title:"Position obtenue !",description:`Précision : ${Math.round(H.coords.accuracy)} mètres`,duration:3e3})}catch(H){console.error("Erreur géolocalisation:",H),H.code===1?p("Permission de géolocalisation refusée. Veuillez autoriser l'accès à votre position dans les paramètres de votre navigateur."):H.code===2?p("Impossible de déterminer votre position. Vérifiez que votre GPS est activé."):H.code===3?p("Délai d'attente dépassé. Vérifiez votre connexion internet."):p("Erreur lors de la géolocalisation. Veuillez réessayer."),u(!1)}finally{l(!1)}},[T]),I=x.useCallback(async z=>{if(!z.trim()){S([]);return}C(!0),p(null);try{const H=await A0.searchLocation(z,{limit:8,countrycodes:"fr,be,ch,ca",addressdetails:1});S(H)}catch(H){console.error("Erreur recherche:",H),p(H.message||"Erreur lors de la recherche. Veuillez réessayer."),S([])}finally{C(!1)}},[]),q=x.useCallback(z=>{const H={latitude:z.latitude,longitude:z.longitude,name:z.name,timestamp:new Date().toISOString(),source:"search"};v(H),y(z.name),S([]),T({title:"Localisation sélectionnée !",description:z.name,duration:3e3})},[T]),Z=x.useCallback(async(z,H)=>{try{const re=await A0.reverseGeocode(z,H),se={latitude:z,longitude:H,name:re.name,address:A0.formatAddress(re.address),timestamp:new Date().toISOString(),source:"map"};v(se),T({title:"Position sélectionnée !",description:re.name||`Lat: ${z.toFixed(6)}, Lng: ${H.toFixed(6)}`,duration:3e3})}catch{const se={latitude:z,longitude:H,timestamp:new Date().toISOString(),source:"map"};v(se),T({title:"Position sélectionnée !",description:`Lat: ${z.toFixed(6)}, Lng: ${H.toFixed(6)}`,duration:3e3})}},[T]),V=x.useCallback(()=>{g&&e&&(e(g),t())},[g,e,t]),U=x.useCallback(()=>{v(null),y(""),S([]),p(null),t()},[t]);return x.useEffect(()=>{const z=setTimeout(()=>{w.trim()&&I(w)},500);return()=>clearTimeout(z)},[w,I]),x.useEffect(()=>{r&&!n&&!k&&O()},[r,n,k,O]),c===!1?a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Zn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la localisation refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:f||"Pour utiliser la géolocalisation, vous devez autoriser l'accès à votre position dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Fermer"}),a.jsx(ue,{onClick:O,children:"Réessayer"})]})]})})}):a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(So,{className:"h-5 w-5 mr-2"}),"Sélectionner une localisation"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{ref:s,placeholder:"Rechercher une adresse, ville, lieu...",value:w,onChange:z=>y(z.target.value),className:"pl-10 pr-4"}),N&&a.jsx(kr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),_.length>0&&a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.map(z=>a.jsxs(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>q(z),children:[a.jsx(So,{className:"h-4 w-4 text-primary"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:z.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.type," • ",A0.formatAddress(z.address)]})]})]},z.id))}),i&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Carte interactive"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:O,disabled:o,className:"flex items-center",children:[a.jsx(Fue,{className:"h-4 w-4 mr-2"}),"Ma position"]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>{g&&window.centerMapOnLocation&&window.centerMapOnLocation(g.latitude,g.longitude)},disabled:!g,className:"flex items-center",children:[a.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Centrer"]})]})]}),a.jsx(PCe,{center:k?[k.latitude,k.longitude]:[48.8566,2.3522],zoom:13,onLocationSelect:Z,selectedLocation:g,height:"400px",className:"w-full"})]}),g&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Li,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-primary mb-2",children:"Localisation sélectionnée"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Latitude :"})," ",g.latitude.toFixed(6)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Longitude :"})," ",g.longitude.toFixed(6)]}),g.name&&a.jsxs("p",{children:[a.jsx("strong",{children:"Nom :"})," ",g.name]}),g.address&&a.jsxs("p",{children:[a.jsx("strong",{children:"Adresse :"})," ",g.address]}),g.accuracy&&a.jsxs("p",{children:[a.jsx("strong",{children:"Précision :"})," ",Math.round(g.accuracy)," mètres"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Source :"})," ",g.source]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Heure :"})," ",new Date(g.timestamp).toLocaleTimeString()]})]})]})]})}),f&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Zn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:f})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:g?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Li,{className:"h-4 w-4 mr-2 text-green-500"}),"Localisation prête à être envoyée"]}):"Aucune localisation sélectionnée"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Annuler"}),a.jsxs(ue,{onClick:V,disabled:!g,className:"bg-primary hover:bg-primary/90",children:[a.jsx(So,{className:"h-4 w-4 mr-2"}),"Utiliser cette localisation"]})]})]})]})})})},kCe=({onAppointmentCreate:e,onClose:t,isOpen:r=!1,existingAppointments:n=[],availableSlots:i=[],timezone:s="Europe/Paris"})=>{const[o,l]=x.useState(""),[c,u]=x.useState(""),[f,p]=x.useState(60),[g,v]=x.useState(""),[w,y]=x.useState(""),[_,S]=x.useState(""),[N,C]=x.useState(1),[k,A]=x.useState(!1),[T,O]=x.useState(null),{toast:I}=Cn(),q=x.useCallback(()=>{const z=[],H=new Date;for(let re=0;re<30;re++){const se=new Date(H);se.setDate(H.getDate()+re);const W=se.getDay();W!==0&&W!==6&&z.push({date:se.toISOString().split("T")[0],label:se.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),isToday:re===0})}return z},[]),Z=x.useCallback(async()=>{if(!o||!c||!g.trim()){O("Veuillez remplir tous les champs obligatoires");return}A(!0),O(null);try{const z={id:Date.now().toString(),date:o,time:c,duration:f,title:g.trim(),description:w.trim(),location:_.trim(),timezone:s,createdAt:new Date().toISOString(),status:"confirmed"};await new Promise(H=>setTimeout(H,1e3)),e&&e(z),I({title:"Rendez-vous créé !",description:`Le rendez-vous "${g}" a été planifié avec succès.`,duration:5e3}),t()}catch{O("Erreur lors de la création du rendez-vous. Veuillez réessayer.")}finally{A(!1)}},[o,c,f,g,w,_,s,e,t,I]),V=x.useCallback(()=>{l(""),u(""),p(60),v(""),y(""),S(""),O(null),C(1),t()},[t]),U=q();return a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ql,{className:"h-5 w-5 mr-2"}),"Planifier un rendez-vous"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:V,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Sélectionnez une date et une heure"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:U.map(z=>a.jsx(ue,{variant:o===z.date?"default":"outline",size:"sm",onClick:()=>l(z.date),className:`h-12 ${z.isToday?"ring-2 ring-primary":""}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:z.label.split(" ")[0]}),a.jsx("div",{className:"font-medium",children:z.label.split(" ")[1]})]})},z.date))})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Heure"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(z=>a.jsx(ue,{variant:c===z?"default":"outline",size:"sm",onClick:()=>u(z),className:"h-10",children:z},z))})]}),o&&c&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Détails du rendez-vous"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),a.jsx(tt,{placeholder:"Titre du rendez-vous",value:g,onChange:z=>v(z.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx(Id,{placeholder:"Description du rendez-vous...",value:w,onChange:z=>y(z.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lieu"}),a.jsx(tt,{placeholder:"Adresse ou lieu",value:_,onChange:z=>S(z.target.value)})]})]}),T&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Zn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:T})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Rendez-vous"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:V,children:"Annuler"}),a.jsx(ue,{onClick:Z,disabled:k||!o||!c||!g.trim(),className:"bg-primary hover:bg-primary/90",children:k?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"h-4 w-4 mr-2 animate-spin"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Li,{className:"h-4 w-4 mr-2"}),"Créer le rendez-vous"]})})]})]})]})})})},Io=Object.create(null);Io.open="0";Io.close="1";Io.ping="2";Io.pong="3";Io.message="4";Io.upgrade="5";Io.noop="6";const ub=Object.create(null);Object.keys(Io).forEach(e=>{ub[Io[e]]=e});const bA={type:"error",data:"parser error"},ZX=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",YX=typeof ArrayBuffer=="function",XX=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gM=({type:e,data:t},r,n)=>ZX&&t instanceof Blob?r?n(t):d3(t,n):YX&&(t instanceof ArrayBuffer||XX(t))?r?n(t):d3(new Blob([t]),n):n(Io[e]+(t||"")),d3=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function f3(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let lN;function OCe(e,t){if(ZX&&e.data instanceof Blob)return e.data.arrayBuffer().then(f3).then(t);if(YX&&(e.data instanceof ArrayBuffer||XX(e.data)))return t(f3(e.data));gM(e,!1,r=>{lN||(lN=new TextEncoder),t(lN.encode(r))})}const h3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<h3.length;e++)Eg[h3.charCodeAt(e)]=e;const RCe=e=>{let t=e.length*.75,r=e.length,n,i=0,s,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(n=0;n<r;n+=4)s=Eg[e.charCodeAt(n)],o=Eg[e.charCodeAt(n+1)],l=Eg[e.charCodeAt(n+2)],c=Eg[e.charCodeAt(n+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|l>>2,f[i++]=(l&3)<<6|c&63;return u},MCe=typeof ArrayBuffer=="function",vM=(e,t)=>{if(typeof e!="string")return{type:"message",data:JX(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:ICe(e.substring(1),t)}:ub[r]?e.length>1?{type:ub[r],data:e.substring(1)}:{type:ub[r]}:bA},ICe=(e,t)=>{if(MCe){const r=RCe(e);return JX(r,t)}else return{base64:!0,data:e}},JX=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},QX="",DCe=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((s,o)=>{gM(s,!1,l=>{n[o]=l,++i===r&&t(n.join(QX))})})},LCe=(e,t)=>{const r=e.split(QX),n=[];for(let i=0;i<r.length;i++){const s=vM(r[i],t);if(n.push(s),s.type==="error")break}return n};function $Ce(){return new TransformStream({transform(e,t){OCe(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let cN;function k0(e){return e.reduce((t,r)=>t+r.length,0)}function O0(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function FCe(e,t){cN||(cN=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(k0(r)<1)break;const c=O0(r,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(k0(r)<2)break;const c=O0(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(k0(r)<8)break;const c=O0(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(bA);break}i=f*Math.pow(2,32)+u.getUint32(4),n=3}else{if(k0(r)<i)break;const c=O0(r,i);l.enqueue(vM(s?c:cN.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(bA);break}}}})}const eJ=4;function jn(e){if(e)return BCe(e)}function BCe(e){for(var t in jn.prototype)e[t]=jn.prototype[t];return e}jn.prototype.on=jn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};jn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};jn.prototype.off=jn.prototype.removeListener=jn.prototype.removeAllListeners=jn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};jn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};jn.prototype.emitReserved=jn.prototype.emit;jn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};jn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const J_=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),ra=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),zCe="arraybuffer";function tJ(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const qCe=ra.setTimeout,UCe=ra.clearTimeout;function Q_(e,t){t.useNativeTimers?(e.setTimeoutFn=qCe.bind(ra),e.clearTimeoutFn=UCe.bind(ra)):(e.setTimeoutFn=ra.setTimeout.bind(ra),e.clearTimeoutFn=ra.clearTimeout.bind(ra))}const VCe=1.33;function WCe(e){return typeof e=="string"?HCe(e):Math.ceil((e.byteLength||e.size)*VCe)}function HCe(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function rJ(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function KCe(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function GCe(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class ZCe extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class yM extends jn{constructor(t){super(),this.writable=!1,Q_(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new ZCe(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=vM(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=KCe(t);return r.length?"?"+r:""}}class YCe extends yM{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};LCe(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,DCe(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=rJ()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let nJ=!1;try{nJ=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const XCe=nJ;function JCe(){}class QCe extends YCe{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Eo extends jn{constructor(t,r,n){super(),this.createRequest=t,Q_(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=tJ(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Eo.requestsCount++,Eo.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=JCe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Eo.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Eo.requestsCount=0;Eo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",p3);else if(typeof addEventListener=="function"){const e="onpagehide"in ra?"pagehide":"unload";addEventListener(e,p3,!1)}}function p3(){for(let e in Eo.requests)Eo.requests.hasOwnProperty(e)&&Eo.requests[e].abort()}const eEe=function(){const e=iJ({xdomain:!1});return e&&e.responseType!==null}();class tEe extends QCe{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=eEe&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Eo(iJ,this.uri(),t)}}function iJ(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||XCe))return new XMLHttpRequest}catch{}if(!t)try{return new ra[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sJ=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class rEe extends yM{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=sJ?{}:tJ(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;gM(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&J_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=rJ()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const uN=ra.WebSocket||ra.MozWebSocket;class nEe extends rEe{createSocket(t,r,n){return sJ?new uN(t,r,n):r?new uN(t,r):new uN(t)}doWrite(t,r){this.ws.send(r)}}class iEe extends yM{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=FCe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=$Ce();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&J_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const sEe={websocket:nEe,webtransport:iEe,polling:tEe},aEe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,oEe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wA(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=aEe.exec(e||""),s={},o=14;for(;o--;)s[oEe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=lEe(s,s.path),s.queryKey=cEe(s,s.query),s}function lEe(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function cEe(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}const _A=typeof addEventListener=="function"&&typeof removeEventListener=="function",db=[];_A&&addEventListener("offline",()=>{db.forEach(e=>e())},!1);class ru extends jn{constructor(t,r){if(super(),this.binaryType=zCe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=wA(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=wA(r.host).host);Q_(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=GCe(this.opts.query)),_A&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},db.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=eJ,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ru.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ru.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=WCe(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,J_(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:t,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ru.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_A&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=db.indexOf(this._offlineEventListener);n!==-1&&db.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ru.protocol=eJ;class uEe extends ru{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;ru.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ru.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function s(){n||(n=!0,f(),r.close(),r=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=r.name,s(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function u(p){r&&p.name!==r.name&&s()}const f=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let dEe=class extends uEe{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>sEe[i]).filter(i=>!!i)),super(t,n)}};function fEe(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=wA(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const hEe=typeof ArrayBuffer=="function",pEe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,aJ=Object.prototype.toString,mEe=typeof Blob=="function"||typeof Blob<"u"&&aJ.call(Blob)==="[object BlobConstructor]",gEe=typeof File=="function"||typeof File<"u"&&aJ.call(File)==="[object FileConstructor]";function xM(e){return hEe&&(e instanceof ArrayBuffer||pEe(e))||mEe&&e instanceof Blob||gEe&&e instanceof File}function fb(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(fb(e[r]))return!0;return!1}if(xM(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return fb(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&fb(e[r]))return!0;return!1}function vEe(e){const t=[],r=e.data,n=e;return n.data=jA(r,t),n.attachments=t.length,{packet:n,buffers:t}}function jA(e,t){if(!e)return e;if(xM(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=jA(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=jA(e[n],t));return r}return e}function yEe(e,t){return e.data=SA(e.data,t),delete e.attachments,e}function SA(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=SA(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=SA(e[r],t));return e}const xEe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],bEe=5;var Jt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Jt||(Jt={}));class wEe{constructor(t){this.replacer=t}encode(t){return(t.type===Jt.EVENT||t.type===Jt.ACK)&&fb(t)?this.encodeAsBinary({type:t.type===Jt.EVENT?Jt.BINARY_EVENT:Jt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Jt.BINARY_EVENT||t.type===Jt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=vEe(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function m3(e){return Object.prototype.toString.call(e)==="[object Object]"}class bM extends jn{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Jt.BINARY_EVENT;n||r.type===Jt.BINARY_ACK?(r.type=n?Jt.EVENT:Jt.ACK,this.reconstructor=new _Ee(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(xM(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Jt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Jt.BINARY_EVENT||n.type===Jt.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(s,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(bM.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Jt.CONNECT:return m3(r);case Jt.DISCONNECT:return r===void 0;case Jt.CONNECT_ERROR:return typeof r=="string"||m3(r);case Jt.EVENT:case Jt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&xEe.indexOf(r[0])===-1);case Jt.ACK:case Jt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _Ee{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=yEe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const jEe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bM,Encoder:wEe,get PacketType(){return Jt},protocol:bEe},Symbol.toStringTag,{value:"Module"}));function Ta(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const SEe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class oJ extends jn{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ta(t,"open",this.onopen.bind(this)),Ta(t,"packet",this.onpacket.bind(this)),Ta(t,"error",this.onerror.bind(this)),Ta(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,s;if(SEe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Jt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,p=r.pop();this._registerAckCallback(f,p),o.id=f}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const s=(o,l)=>o?i(o):n(l);s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Jt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Jt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Jt.EVENT:case Jt.BINARY_EVENT:this.onevent(t);break;case Jt.ACK:case Jt.BINARY_ACK:this.onack(t);break;case Jt.DISCONNECT:this.ondisconnect();break;case Jt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Jt.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Jt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Wp(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Wp.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Wp.prototype.reset=function(){this.attempts=0};Wp.prototype.setMin=function(e){this.ms=e};Wp.prototype.setMax=function(e){this.max=e};Wp.prototype.setJitter=function(e){this.jitter=e};class NA extends jn{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Q_(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Wp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||jEe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new dEe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ta(r,"open",function(){n.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Ta(r,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ta(t,"ping",this.onping.bind(this)),Ta(t,"data",this.ondata.bind(this)),Ta(t,"error",this.onerror.bind(this)),Ta(t,"close",this.onclose.bind(this)),Ta(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){J_(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new oJ(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const sg={};function hb(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=fEe(e,t.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=sg[i]&&s in sg[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new NA(n,t):(sg[i]||(sg[i]=new NA(n,t)),c=sg[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(hb,{Manager:NA,Socket:oJ,io:hb,connect:hb});var R0={exports:{}},dN,g3;function NEe(){if(g3)return dN;g3=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;dN=function(f,p){p=p||{};var g=typeof f;if(g==="string"&&f.length>0)return o(f);if(g==="number"&&isFinite(f))return p.long?c(f):l(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var g=parseFloat(p[1]),v=(p[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(f){var p=Math.abs(f);return p>=n?Math.round(f/n)+"d":p>=r?Math.round(f/r)+"h":p>=t?Math.round(f/t)+"m":p>=e?Math.round(f/e)+"s":f+"ms"}function c(f){var p=Math.abs(f);return p>=n?u(f,p,n,"day"):p>=r?u(f,p,r,"hour"):p>=t?u(f,p,t,"minute"):p>=e?u(f,p,e,"second"):f+" ms"}function u(f,p,g,v){var w=p>=g*1.5;return Math.round(f/g)+" "+v+(w?"s":"")}return dN}var fN,v3;function CEe(){if(v3)return fN;v3=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=l,n.enable=s,n.enabled=c,n.humanize=NEe(),n.destroy=f,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function r(p){let g=0;for(let v=0;v<p.length;v++)g=(g<<5)-g+p.charCodeAt(v),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=r;function n(p){let g,v=null,w,y;function _(...S){if(!_.enabled)return;const N=_,C=Number(new Date),k=C-(g||C);N.diff=k,N.prev=g,N.curr=C,g=C,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let A=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(O,I)=>{if(O==="%%")return"%";A++;const q=n.formatters[I];if(typeof q=="function"){const Z=S[A];O=q.call(N,Z),S.splice(A,1),A--}return O}),n.formatArgs.call(N,S),(N.log||n.log).apply(N,S)}return _.namespace=p,_.useColors=n.useColors(),_.color=n.selectColor(p),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(w!==n.namespaces&&(w=n.namespaces,y=n.enabled(p)),y),set:S=>{v=S}}),typeof n.init=="function"&&n.init(_),_}function i(p,g){const v=n(this.namespace+(typeof g>"u"?":":g)+p);return v.log=this.log,v}function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];const g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of g)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(p,g){let v=0,w=0,y=-1,_=0;for(;v<p.length;)if(w<g.length&&(g[w]===p[v]||g[w]==="*"))g[w]==="*"?(y=w,_=v,w++):(v++,w++);else if(y!==-1)w=y+1,_++,v=_;else return!1;for(;w<g.length&&g[w]==="*";)w++;return w===g.length}function l(){const p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}function c(p){for(const g of n.skips)if(o(p,g))return!1;for(const g of n.names)if(o(p,g))return!0;return!1}function u(p){return p instanceof Error?p.stack||p.message:p}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return fN=e,fN}var y3;function EEe(){return y3||(y3=1,function(e,t){var r={};t.formatArgs=i,t.save=s,t.load=o,t.useColors=n,t.storage=l(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;u.splice(1,0,f,"color: inherit");let p=0,g=0;u[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(p++,v==="%c"&&(g=p))}),u.splice(g,0,f)}t.log=console.debug||console.log||(()=>{});function s(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function l(){try{return localStorage}catch{}}e.exports=CEe()(t);const{formatters:c}=e.exports;c.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(R0,R0.exports)),R0.exports}var hN,x3;function PEe(){return x3||(x3=1,hN=function(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null}),hN}var M0={exports:{}},I0={exports:{}},pN={},ag={},b3;function TEe(){if(b3)return ag;b3=1,ag.byteLength=l,ag.toByteArray=u,ag.fromByteArray=g;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=v.indexOf("=");y===-1&&(y=w);var _=y===w?0:4-y%4;return[y,_]}function l(v){var w=o(v),y=w[0],_=w[1];return(y+_)*3/4-_}function c(v,w,y){return(w+y)*3/4-y}function u(v){var w,y=o(v),_=y[0],S=y[1],N=new r(c(v,_,S)),C=0,k=S>0?_-4:_,A;for(A=0;A<k;A+=4)w=t[v.charCodeAt(A)]<<18|t[v.charCodeAt(A+1)]<<12|t[v.charCodeAt(A+2)]<<6|t[v.charCodeAt(A+3)],N[C++]=w>>16&255,N[C++]=w>>8&255,N[C++]=w&255;return S===2&&(w=t[v.charCodeAt(A)]<<2|t[v.charCodeAt(A+1)]>>4,N[C++]=w&255),S===1&&(w=t[v.charCodeAt(A)]<<10|t[v.charCodeAt(A+1)]<<4|t[v.charCodeAt(A+2)]>>2,N[C++]=w>>8&255,N[C++]=w&255),N}function f(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function p(v,w,y){for(var _,S=[],N=w;N<y;N+=3)_=(v[N]<<16&16711680)+(v[N+1]<<8&65280)+(v[N+2]&255),S.push(f(_));return S.join("")}function g(v){for(var w,y=v.length,_=y%3,S=[],N=16383,C=0,k=y-_;C<k;C+=N)S.push(p(v,C,C+N>k?k:C+N));return _===1?(w=v[y-1],S.push(e[w>>2]+e[w<<4&63]+"==")):_===2&&(w=(v[y-2]<<8)+v[y-1],S.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),S.join("")}return ag}var D0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var w3;function AEe(){return w3||(w3=1,D0.read=function(e,t,r,n,i){var s,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,f=-7,p=r?i-1:0,g=r?-1:1,v=e[t+p];for(p+=g,s=v&(1<<-f)-1,v>>=-f,f+=l;f>0;s=s*256+e[t+p],p+=g,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+e[t+p],p+=g,f-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(v?-1:1)*o*Math.pow(2,s-n)},D0.write=function(e,t,r,n,i,s){var o,l,c,u=s*8-i-1,f=(1<<u)-1,p=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,w=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?t+=g/c:t+=g*Math.pow(2,1-p),t*c>=2&&(o++,c/=2),o+p>=f?(l=0,o=f):o+p>=1?(l=(t*c-1)*Math.pow(2,i),o=o+p):(l=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=l&255,v+=w,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;e[r+v]=o&255,v+=w,o/=256,u-=8);e[r+v-w]|=y*128}),D0}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var _3;function My(){return _3||(_3=1,function(e){const t=TEe(),r=AEe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const K=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(K,D),K.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');const D=new Uint8Array(K);return Object.setPrototypeOf(D,l.prototype),D}function l(K,D,F){if(typeof K=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(K)}return c(K,D,F)}l.poolSize=8192;function c(K,D,F){if(typeof K=="string")return g(K,D);if(ArrayBuffer.isView(K))return w(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ke(K,ArrayBuffer)||K&&ke(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(K,SharedArrayBuffer)||K&&ke(K.buffer,SharedArrayBuffer)))return y(K,D,F);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=K.valueOf&&K.valueOf();if(le!=null&&le!==K)return l.from(le,D,F);const ye=_(K);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return l.from(K[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}l.from=function(K,D,F){return c(K,D,F)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function f(K,D,F){return u(K),K<=0?o(K):D!==void 0?typeof F=="string"?o(K).fill(D,F):o(K).fill(D):o(K)}l.alloc=function(K,D,F){return f(K,D,F)};function p(K){return u(K),o(K<0?0:S(K)|0)}l.allocUnsafe=function(K){return p(K)},l.allocUnsafeSlow=function(K){return p(K)};function g(K,D){if((typeof D!="string"||D==="")&&(D="utf8"),!l.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const F=C(K,D)|0;let le=o(F);const ye=le.write(K,D);return ye!==F&&(le=le.slice(0,ye)),le}function v(K){const D=K.length<0?0:S(K.length)|0,F=o(D);for(let le=0;le<D;le+=1)F[le]=K[le]&255;return F}function w(K){if(ke(K,Uint8Array)){const D=new Uint8Array(K);return y(D.buffer,D.byteOffset,D.byteLength)}return v(K)}function y(K,D,F){if(D<0||K.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');let le;return D===void 0&&F===void 0?le=new Uint8Array(K):F===void 0?le=new Uint8Array(K,D):le=new Uint8Array(K,D,F),Object.setPrototypeOf(le,l.prototype),le}function _(K){if(l.isBuffer(K)){const D=S(K.length)|0,F=o(D);return F.length===0||K.copy(F,0,0,D),F}if(K.length!==void 0)return typeof K.length!="number"||Ze(K.length)?o(0):v(K);if(K.type==="Buffer"&&Array.isArray(K.data))return v(K.data)}function S(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function N(K){return+K!=K&&(K=0),l.alloc(+K)}l.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==l.prototype},l.compare=function(D,F){if(ke(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),ke(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength)),!l.isBuffer(D)||!l.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===F)return 0;let le=D.length,ye=F.length;for(let Oe=0,$e=Math.min(le,ye);Oe<$e;++Oe)if(D[Oe]!==F[Oe]){le=D[Oe],ye=F[Oe];break}return le<ye?-1:ye<le?1:0},l.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(D,F){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return l.alloc(0);let le;if(F===void 0)for(F=0,le=0;le<D.length;++le)F+=D[le].length;const ye=l.allocUnsafe(F);let Oe=0;for(le=0;le<D.length;++le){let $e=D[le];if(ke($e,Uint8Array))Oe+$e.length>ye.length?(l.isBuffer($e)||($e=l.from($e)),$e.copy(ye,Oe)):Uint8Array.prototype.set.call(ye,$e,Oe);else if(l.isBuffer($e))$e.copy(ye,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=$e.length}return ye};function C(K,D){if(l.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ke(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const F=K.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&F===0)return 0;let ye=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return fe(K).length;default:if(ye)return le?-1:Ne(K).length;D=(""+D).toLowerCase(),ye=!0}}l.byteLength=C;function k(K,D,F){let le=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(K||(K="utf8");;)switch(K){case"hex":return Y(this,D,F);case"utf8":case"utf-8":return H(this,D,F);case"ascii":return W(this,D,F);case"latin1":case"binary":return Q(this,D,F);case"base64":return z(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,D,F);default:if(le)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),le=!0}}l.prototype._isBuffer=!0;function A(K,D,F){const le=K[D];K[D]=K[F],K[F]=le}l.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<D;F+=2)A(this,F,F+1);return this},l.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<D;F+=4)A(this,F,F+3),A(this,F+1,F+2);return this},l.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<D;F+=8)A(this,F,F+7),A(this,F+1,F+6),A(this,F+2,F+5),A(this,F+3,F+4);return this},l.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?H(this,0,D):k.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(D){if(!l.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:l.compare(this,D)===0},l.prototype.inspect=function(){let D="";const F=e.INSPECT_MAX_BYTES;return D=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(D+=" ... "),"<Buffer "+D+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(D,F,le,ye,Oe){if(ke(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(F===void 0&&(F=0),le===void 0&&(le=D?D.length:0),ye===void 0&&(ye=0),Oe===void 0&&(Oe=this.length),F<0||le>D.length||ye<0||Oe>this.length)throw new RangeError("out of range index");if(ye>=Oe&&F>=le)return 0;if(ye>=Oe)return-1;if(F>=le)return 1;if(F>>>=0,le>>>=0,ye>>>=0,Oe>>>=0,this===D)return 0;let $e=Oe-ye,vt=le-F;const ar=Math.min($e,vt),Bt=this.slice(ye,Oe),Yt=D.slice(F,le);for(let Wt=0;Wt<ar;++Wt)if(Bt[Wt]!==Yt[Wt]){$e=Bt[Wt],vt=Yt[Wt];break}return $e<vt?-1:vt<$e?1:0};function T(K,D,F,le,ye){if(K.length===0)return-1;if(typeof F=="string"?(le=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Ze(F)&&(F=ye?0:K.length-1),F<0&&(F=K.length+F),F>=K.length){if(ye)return-1;F=K.length-1}else if(F<0)if(ye)F=0;else return-1;if(typeof D=="string"&&(D=l.from(D,le)),l.isBuffer(D))return D.length===0?-1:O(K,D,F,le,ye);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(K,D,F):Uint8Array.prototype.lastIndexOf.call(K,D,F):O(K,[D],F,le,ye);throw new TypeError("val must be string, number or Buffer")}function O(K,D,F,le,ye){let Oe=1,$e=K.length,vt=D.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(K.length<2||D.length<2)return-1;Oe=2,$e/=2,vt/=2,F/=2}function ar(Yt,Wt){return Oe===1?Yt[Wt]:Yt.readUInt16BE(Wt*Oe)}let Bt;if(ye){let Yt=-1;for(Bt=F;Bt<$e;Bt++)if(ar(K,Bt)===ar(D,Yt===-1?0:Bt-Yt)){if(Yt===-1&&(Yt=Bt),Bt-Yt+1===vt)return Yt*Oe}else Yt!==-1&&(Bt-=Bt-Yt),Yt=-1}else for(F+vt>$e&&(F=$e-vt),Bt=F;Bt>=0;Bt--){let Yt=!0;for(let Wt=0;Wt<vt;Wt++)if(ar(K,Bt+Wt)!==ar(D,Wt)){Yt=!1;break}if(Yt)return Bt}return-1}l.prototype.includes=function(D,F,le){return this.indexOf(D,F,le)!==-1},l.prototype.indexOf=function(D,F,le){return T(this,D,F,le,!0)},l.prototype.lastIndexOf=function(D,F,le){return T(this,D,F,le,!1)};function I(K,D,F,le){F=Number(F)||0;const ye=K.length-F;le?(le=Number(le),le>ye&&(le=ye)):le=ye;const Oe=D.length;le>Oe/2&&(le=Oe/2);let $e;for($e=0;$e<le;++$e){const vt=parseInt(D.substr($e*2,2),16);if(Ze(vt))return $e;K[F+$e]=vt}return $e}function q(K,D,F,le){return _e(Ne(D,K.length-F),K,F,le)}function Z(K,D,F,le){return _e(ot(D),K,F,le)}function V(K,D,F,le){return _e(fe(D),K,F,le)}function U(K,D,F,le){return _e(It(D,K.length-F),K,F,le)}l.prototype.write=function(D,F,le,ye){if(F===void 0)ye="utf8",le=this.length,F=0;else if(le===void 0&&typeof F=="string")ye=F,le=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(le)?(le=le>>>0,ye===void 0&&(ye="utf8")):(ye=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Oe=this.length-F;if((le===void 0||le>Oe)&&(le=Oe),D.length>0&&(le<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let $e=!1;for(;;)switch(ye){case"hex":return I(this,D,F,le);case"utf8":case"utf-8":return q(this,D,F,le);case"ascii":case"latin1":case"binary":return Z(this,D,F,le);case"base64":return V(this,D,F,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,D,F,le);default:if($e)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),$e=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(K,D,F){return D===0&&F===K.length?t.fromByteArray(K):t.fromByteArray(K.slice(D,F))}function H(K,D,F){F=Math.min(K.length,F);const le=[];let ye=D;for(;ye<F;){const Oe=K[ye];let $e=null,vt=Oe>239?4:Oe>223?3:Oe>191?2:1;if(ye+vt<=F){let ar,Bt,Yt,Wt;switch(vt){case 1:Oe<128&&($e=Oe);break;case 2:ar=K[ye+1],(ar&192)===128&&(Wt=(Oe&31)<<6|ar&63,Wt>127&&($e=Wt));break;case 3:ar=K[ye+1],Bt=K[ye+2],(ar&192)===128&&(Bt&192)===128&&(Wt=(Oe&15)<<12|(ar&63)<<6|Bt&63,Wt>2047&&(Wt<55296||Wt>57343)&&($e=Wt));break;case 4:ar=K[ye+1],Bt=K[ye+2],Yt=K[ye+3],(ar&192)===128&&(Bt&192)===128&&(Yt&192)===128&&(Wt=(Oe&15)<<18|(ar&63)<<12|(Bt&63)<<6|Yt&63,Wt>65535&&Wt<1114112&&($e=Wt))}}$e===null?($e=65533,vt=1):$e>65535&&($e-=65536,le.push($e>>>10&1023|55296),$e=56320|$e&1023),le.push($e),ye+=vt}return se(le)}const re=4096;function se(K){const D=K.length;if(D<=re)return String.fromCharCode.apply(String,K);let F="",le=0;for(;le<D;)F+=String.fromCharCode.apply(String,K.slice(le,le+=re));return F}function W(K,D,F){let le="";F=Math.min(K.length,F);for(let ye=D;ye<F;++ye)le+=String.fromCharCode(K[ye]&127);return le}function Q(K,D,F){let le="";F=Math.min(K.length,F);for(let ye=D;ye<F;++ye)le+=String.fromCharCode(K[ye]);return le}function Y(K,D,F){const le=K.length;(!D||D<0)&&(D=0),(!F||F<0||F>le)&&(F=le);let ye="";for(let Oe=D;Oe<F;++Oe)ye+=Xe[K[Oe]];return ye}function ne(K,D,F){const le=K.slice(D,F);let ye="";for(let Oe=0;Oe<le.length-1;Oe+=2)ye+=String.fromCharCode(le[Oe]+le[Oe+1]*256);return ye}l.prototype.slice=function(D,F){const le=this.length;D=~~D,F=F===void 0?le:~~F,D<0?(D+=le,D<0&&(D=0)):D>le&&(D=le),F<0?(F+=le,F<0&&(F=0)):F>le&&(F=le),F<D&&(F=D);const ye=this.subarray(D,F);return Object.setPrototypeOf(ye,l.prototype),ye};function J(K,D,F){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+D>F)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=this[D],Oe=1,$e=0;for(;++$e<F&&(Oe*=256);)ye+=this[D+$e]*Oe;return ye},l.prototype.readUintBE=l.prototype.readUIntBE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=this[D+--F],Oe=1;for(;F>0&&(Oe*=256);)ye+=this[D+--F]*Oe;return ye},l.prototype.readUint8=l.prototype.readUInt8=function(D,F){return D=D>>>0,F||J(D,1,this.length),this[D]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(D,F){return D=D>>>0,F||J(D,2,this.length),this[D]|this[D+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(D,F){return D=D>>>0,F||J(D,2,this.length),this[D]<<8|this[D+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(D,F){return D=D>>>0,F||J(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(D,F){return D=D>>>0,F||J(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},l.prototype.readBigUInt64LE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,Oe=this[++D]+this[++D]*2**8+this[++D]*2**16+le*2**24;return BigInt(ye)+(BigInt(Oe)<<BigInt(32))}),l.prototype.readBigUInt64BE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=F*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],Oe=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le;return(BigInt(ye)<<BigInt(32))+BigInt(Oe)}),l.prototype.readIntLE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=this[D],Oe=1,$e=0;for(;++$e<F&&(Oe*=256);)ye+=this[D+$e]*Oe;return Oe*=128,ye>=Oe&&(ye-=Math.pow(2,8*F)),ye},l.prototype.readIntBE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=F,Oe=1,$e=this[D+--ye];for(;ye>0&&(Oe*=256);)$e+=this[D+--ye]*Oe;return Oe*=128,$e>=Oe&&($e-=Math.pow(2,8*F)),$e},l.prototype.readInt8=function(D,F){return D=D>>>0,F||J(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},l.prototype.readInt16LE=function(D,F){D=D>>>0,F||J(D,2,this.length);const le=this[D]|this[D+1]<<8;return le&32768?le|4294901760:le},l.prototype.readInt16BE=function(D,F){D=D>>>0,F||J(D,2,this.length);const le=this[D+1]|this[D]<<8;return le&32768?le|4294901760:le},l.prototype.readInt32LE=function(D,F){return D=D>>>0,F||J(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},l.prototype.readInt32BE=function(D,F){return D=D>>>0,F||J(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},l.prototype.readBigInt64LE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(le<<24);return(BigInt(ye)<<BigInt(32))+BigInt(F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),l.prototype.readBigInt64BE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=(F<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ye)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le)}),l.prototype.readFloatLE=function(D,F){return D=D>>>0,F||J(D,4,this.length),r.read(this,D,!0,23,4)},l.prototype.readFloatBE=function(D,F){return D=D>>>0,F||J(D,4,this.length),r.read(this,D,!1,23,4)},l.prototype.readDoubleLE=function(D,F){return D=D>>>0,F||J(D,8,this.length),r.read(this,D,!0,52,8)},l.prototype.readDoubleBE=function(D,F){return D=D>>>0,F||J(D,8,this.length),r.read(this,D,!1,52,8)};function oe(K,D,F,le,ye,Oe){if(!l.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ye||D<Oe)throw new RangeError('"value" argument is out of bounds');if(F+le>K.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(D,F,le,ye){if(D=+D,F=F>>>0,le=le>>>0,!ye){const vt=Math.pow(2,8*le)-1;oe(this,D,F,le,vt,0)}let Oe=1,$e=0;for(this[F]=D&255;++$e<le&&(Oe*=256);)this[F+$e]=D/Oe&255;return F+le},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(D,F,le,ye){if(D=+D,F=F>>>0,le=le>>>0,!ye){const vt=Math.pow(2,8*le)-1;oe(this,D,F,le,vt,0)}let Oe=le-1,$e=1;for(this[F+Oe]=D&255;--Oe>=0&&($e*=256);)this[F+Oe]=D/$e&255;return F+le},l.prototype.writeUint8=l.prototype.writeUInt8=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,1,255,0),this[F]=D&255,F+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,65535,0),this[F]=D&255,this[F+1]=D>>>8,F+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,65535,0),this[F]=D>>>8,this[F+1]=D&255,F+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,4294967295,0),this[F+3]=D>>>24,this[F+2]=D>>>16,this[F+1]=D>>>8,this[F]=D&255,F+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,4294967295,0),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4};function be(K,D,F,le,ye){G(D,le,ye,K,F,7);let Oe=Number(D&BigInt(4294967295));K[F++]=Oe,Oe=Oe>>8,K[F++]=Oe,Oe=Oe>>8,K[F++]=Oe,Oe=Oe>>8,K[F++]=Oe;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return K[F++]=$e,$e=$e>>8,K[F++]=$e,$e=$e>>8,K[F++]=$e,$e=$e>>8,K[F++]=$e,F}function Ce(K,D,F,le,ye){G(D,le,ye,K,F,7);let Oe=Number(D&BigInt(4294967295));K[F+7]=Oe,Oe=Oe>>8,K[F+6]=Oe,Oe=Oe>>8,K[F+5]=Oe,Oe=Oe>>8,K[F+4]=Oe;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return K[F+3]=$e,$e=$e>>8,K[F+2]=$e,$e=$e>>8,K[F+1]=$e,$e=$e>>8,K[F]=$e,F+8}l.prototype.writeBigUInt64LE=me(function(D,F=0){return be(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=me(function(D,F=0){return Ce(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(D,F,le,ye){if(D=+D,F=F>>>0,!ye){const ar=Math.pow(2,8*le-1);oe(this,D,F,le,ar-1,-ar)}let Oe=0,$e=1,vt=0;for(this[F]=D&255;++Oe<le&&($e*=256);)D<0&&vt===0&&this[F+Oe-1]!==0&&(vt=1),this[F+Oe]=(D/$e>>0)-vt&255;return F+le},l.prototype.writeIntBE=function(D,F,le,ye){if(D=+D,F=F>>>0,!ye){const ar=Math.pow(2,8*le-1);oe(this,D,F,le,ar-1,-ar)}let Oe=le-1,$e=1,vt=0;for(this[F+Oe]=D&255;--Oe>=0&&($e*=256);)D<0&&vt===0&&this[F+Oe+1]!==0&&(vt=1),this[F+Oe]=(D/$e>>0)-vt&255;return F+le},l.prototype.writeInt8=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,1,127,-128),D<0&&(D=255+D+1),this[F]=D&255,F+1},l.prototype.writeInt16LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,32767,-32768),this[F]=D&255,this[F+1]=D>>>8,F+2},l.prototype.writeInt16BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,32767,-32768),this[F]=D>>>8,this[F+1]=D&255,F+2},l.prototype.writeInt32LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,2147483647,-2147483648),this[F]=D&255,this[F+1]=D>>>8,this[F+2]=D>>>16,this[F+3]=D>>>24,F+4},l.prototype.writeInt32BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4},l.prototype.writeBigInt64LE=me(function(D,F=0){return be(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=me(function(D,F=0){return Ce(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function De(K,D,F,le,ye,Oe){if(F+le>K.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function ce(K,D,F,le,ye){return D=+D,F=F>>>0,ye||De(K,D,F,4),r.write(K,D,F,le,23,4),F+4}l.prototype.writeFloatLE=function(D,F,le){return ce(this,D,F,!0,le)},l.prototype.writeFloatBE=function(D,F,le){return ce(this,D,F,!1,le)};function ae(K,D,F,le,ye){return D=+D,F=F>>>0,ye||De(K,D,F,8),r.write(K,D,F,le,52,8),F+8}l.prototype.writeDoubleLE=function(D,F,le){return ae(this,D,F,!0,le)},l.prototype.writeDoubleBE=function(D,F,le){return ae(this,D,F,!1,le)},l.prototype.copy=function(D,F,le,ye){if(!l.isBuffer(D))throw new TypeError("argument should be a Buffer");if(le||(le=0),!ye&&ye!==0&&(ye=this.length),F>=D.length&&(F=D.length),F||(F=0),ye>0&&ye<le&&(ye=le),ye===le||D.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),D.length-F<ye-le&&(ye=D.length-F+le);const Oe=ye-le;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,le,ye):Uint8Array.prototype.set.call(D,this.subarray(le,ye),F),Oe},l.prototype.fill=function(D,F,le,ye){if(typeof D=="string"){if(typeof F=="string"?(ye=F,F=0,le=this.length):typeof le=="string"&&(ye=le,le=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!l.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(D.length===1){const $e=D.charCodeAt(0);(ye==="utf8"&&$e<128||ye==="latin1")&&(D=$e)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(F<0||this.length<F||this.length<le)throw new RangeError("Out of range index");if(le<=F)return this;F=F>>>0,le=le===void 0?this.length:le>>>0,D||(D=0);let Oe;if(typeof D=="number")for(Oe=F;Oe<le;++Oe)this[Oe]=D;else{const $e=l.isBuffer(D)?D:l.from(D,ye),vt=$e.length;if(vt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Oe=0;Oe<le-F;++Oe)this[Oe+F]=$e[Oe%vt]}return this};const ge={};function he(K,D,F){ge[K]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(K,D){return`The "${K}" argument must be of type number. Received type ${typeof D}`},TypeError),he("ERR_OUT_OF_RANGE",function(K,D,F){let le=`The value of "${K}" is out of range.`,ye=F;return Number.isInteger(F)&&Math.abs(F)>2**32?ye=Pe(String(F)):typeof F=="bigint"&&(ye=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(ye=Pe(ye)),ye+="n"),le+=` It must be ${D}. Received ${ye}`,le},RangeError);function Pe(K){let D="",F=K.length;const le=K[0]==="-"?1:0;for(;F>=le+4;F-=3)D=`_${K.slice(F-3,F)}${D}`;return`${K.slice(0,F)}${D}`}function ee(K,D,F){we(D,"offset"),(K[D]===void 0||K[D+F]===void 0)&&xe(D,K.length-(F+1))}function G(K,D,F,le,ye,Oe){if(K>F||K<D){const $e=typeof D=="bigint"?"n":"";let vt;throw D===0||D===BigInt(0)?vt=`>= 0${$e} and < 2${$e} ** ${(Oe+1)*8}${$e}`:vt=`>= -(2${$e} ** ${(Oe+1)*8-1}${$e}) and < 2 ** ${(Oe+1)*8-1}${$e}`,new ge.ERR_OUT_OF_RANGE("value",vt,K)}ee(le,ye,Oe)}function we(K,D){if(typeof K!="number")throw new ge.ERR_INVALID_ARG_TYPE(D,"number",K)}function xe(K,D,F){throw Math.floor(K)!==K?(we(K,F),new ge.ERR_OUT_OF_RANGE("offset","an integer",K)):D<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,K)}const Ve=/[^+/0-9A-Za-z-_]/g;function qe(K){if(K=K.split("=")[0],K=K.trim().replace(Ve,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function Ne(K,D){D=D||1/0;let F;const le=K.length;let ye=null;const Oe=[];for(let $e=0;$e<le;++$e){if(F=K.charCodeAt($e),F>55295&&F<57344){if(!ye){if(F>56319){(D-=3)>-1&&Oe.push(239,191,189);continue}else if($e+1===le){(D-=3)>-1&&Oe.push(239,191,189);continue}ye=F;continue}if(F<56320){(D-=3)>-1&&Oe.push(239,191,189),ye=F;continue}F=(ye-55296<<10|F-56320)+65536}else ye&&(D-=3)>-1&&Oe.push(239,191,189);if(ye=null,F<128){if((D-=1)<0)break;Oe.push(F)}else if(F<2048){if((D-=2)<0)break;Oe.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;Oe.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;Oe.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return Oe}function ot(K){const D=[];for(let F=0;F<K.length;++F)D.push(K.charCodeAt(F)&255);return D}function It(K,D){let F,le,ye;const Oe=[];for(let $e=0;$e<K.length&&!((D-=2)<0);++$e)F=K.charCodeAt($e),le=F>>8,ye=F%256,Oe.push(ye),Oe.push(le);return Oe}function fe(K){return t.toByteArray(qe(K))}function _e(K,D,F,le){let ye;for(ye=0;ye<le&&!(ye+F>=D.length||ye>=K.length);++ye)D[ye+F]=K[ye];return ye}function ke(K,D){return K instanceof D||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===D.name}function Ze(K){return K!==K}const Xe=function(){const K="0123456789abcdef",D=new Array(256);for(let F=0;F<16;++F){const le=F*16;for(let ye=0;ye<16;++ye)D[le+ye]=K[F]+K[ye]}return D}();function me(K){return typeof BigInt>"u"?Le:K}function Le(){throw new Error("BigInt not supported")}}(pN)),pN}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var j3;function lJ(){return j3||(j3=1,function(e,t){var r=My(),n=r.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,l,c){return n(o,l,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},s.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(I0,I0.exports)),I0.exports}var S3;function kEe(){if(S3)return M0.exports;S3=1;var e=65536,t=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=lJ().Buffer,i=Ps.crypto||Ps.msCrypto;i&&i.getRandomValues?M0.exports=s:M0.exports=r;function s(o,l){if(o>t)throw new RangeError("requested too many random bytes");var c=n.allocUnsafe(o);if(o>0)if(o>e)for(var u=0;u<o;u+=e)i.getRandomValues(c.slice(u,u+e));else i.getRandomValues(c);return typeof l=="function"?process.nextTick(function(){l(null,c)}):c}return M0.exports}var L0={exports:{}};const OEe={},REe=Object.freeze(Object.defineProperty({__proto__:null,default:OEe},Symbol.toStringTag,{value:"Module"})),iw=BU(REe);var mN,N3;function cJ(){return N3||(N3=1,mN=iw.EventEmitter),mN}var gN,C3;function MEe(){if(C3)return gN;C3=1;function e(w,y){var _=Object.keys(w);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(w);y&&(S=S.filter(function(N){return Object.getOwnPropertyDescriptor(w,N).enumerable})),_.push.apply(_,S)}return _}function t(w){for(var y=1;y<arguments.length;y++){var _=arguments[y]!=null?arguments[y]:{};y%2?e(Object(_),!0).forEach(function(S){r(w,S,_[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(S){Object.defineProperty(w,S,Object.getOwnPropertyDescriptor(_,S))})}return w}function r(w,y,_){return y=o(y),y in w?Object.defineProperty(w,y,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[y]=_,w}function n(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function i(w,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,o(S.key),S)}}function s(w,y,_){return y&&i(w.prototype,y),Object.defineProperty(w,"prototype",{writable:!1}),w}function o(w){var y=l(w,"string");return typeof y=="symbol"?y:String(y)}function l(w,y){if(typeof w!="object"||w===null)return w;var _=w[Symbol.toPrimitive];if(_!==void 0){var S=_.call(w,y);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}var c=My(),u=c.Buffer,f=iw,p=f.inspect,g=p&&p.custom||"inspect";function v(w,y,_){u.prototype.copy.call(w,y,_)}return gN=function(){function w(){n(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(_){var S={data:_,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(_){var S={data:_,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var S=this.head,N=""+S.data;S=S.next;)N+=_+S.data;return N}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var S=u.allocUnsafe(_>>>0),N=this.head,C=0;N;)v(N.data,S,C),C+=N.data.length,N=N.next;return S}},{key:"consume",value:function(_,S){var N;return _<this.head.data.length?(N=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?N=this.shift():N=S?this._getString(_):this._getBuffer(_),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var S=this.head,N=1,C=S.data;for(_-=C.length;S=S.next;){var k=S.data,A=_>k.length?k.length:_;if(A===k.length?C+=k:C+=k.slice(0,_),_-=A,_===0){A===k.length?(++N,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=k.slice(A));break}++N}return this.length-=N,C}},{key:"_getBuffer",value:function(_){var S=u.allocUnsafe(_),N=this.head,C=1;for(N.data.copy(S),_-=N.data.length;N=N.next;){var k=N.data,A=_>k.length?k.length:_;if(k.copy(S,S.length-_,0,A),_-=A,_===0){A===k.length?(++C,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=k.slice(A));break}++C}return this.length-=C,S}},{key:g,value:function(_,S){return p(this,t(t({},S),{},{depth:0,customInspect:!1}))}}]),w}(),gN}var vN,E3;function uJ(){if(E3)return vN;E3=1;function e(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!l&&p?c._writableState?c._writableState.errorEmitted?process.nextTick(r,c):(c._writableState.errorEmitted=!0,process.nextTick(t,c,p)):process.nextTick(t,c,p):l?(process.nextTick(r,c),l(p)):process.nextTick(r,c)}),this)}function t(o,l){i(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return vN={destroy:e,undestroy:n,errorOrDestroy:s},vN}var yN={},P3;function Hp(){if(P3)return yN;P3=1;function e(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var t={};function r(l,c,u){u||(u=Error);function f(g,v,w){return typeof c=="string"?c:c(g,v,w)}var p=function(g){e(v,g);function v(w,y,_){return g.call(this,f(w,y,_))||this}return v}(u);p.prototype.name=u.name,p.prototype.code=l,t[l]=p}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(f){return String(f)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function s(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var f;typeof c=="string"&&i(c,"not ")?(f="must not be",c=c.replace(/^not /,"")):f="must be";var p;if(s(l," argument"))p="The ".concat(l," ").concat(f," ").concat(n(c,"type"));else{var g=o(l,".")?"property":"argument";p='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(n(c,"type"))}return p+=". Received type ".concat(typeof u),p},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),yN.codes=t,yN}var xN,T3;function dJ(){if(T3)return xN;T3=1;var e=Hp().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var l=t(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?s:"highWaterMark";throw new e(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return xN={getHighWaterMark:r},xN}var $0={exports:{}},A3;function Iy(){return A3||(A3=1,typeof Object.create=="function"?$0.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:$0.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),$0.exports}var bN,k3;function IEe(){if(k3)return bN;k3=1,bN=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!Ps.localStorage)return!1}catch{return!1}var n=Ps.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return bN}var wN,O3;function fJ(){if(O3)return wN;O3=1,wN=I;function e(ce){var ae=this;this.next=null,this.entry=null,this.finish=function(){De(ae,ce)}}var t;I.WritableState=T;var r={deprecate:IEe()},n=cJ(),i=My().Buffer,s=(typeof Ps<"u"?Ps:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(ce){return i.from(ce)}function l(ce){return i.isBuffer(ce)||ce instanceof s}var c=uJ(),u=dJ(),f=u.getHighWaterMark,p=Hp().codes,g=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,S=p.ERR_STREAM_NULL_VALUES,N=p.ERR_STREAM_WRITE_AFTER_END,C=p.ERR_UNKNOWN_ENCODING,k=c.errorOrDestroy;Iy()(I,n);function A(){}function T(ce,ae,ge){t=t||tp(),ce=ce||{},typeof ge!="boolean"&&(ge=ae instanceof t),this.objectMode=!!ce.objectMode,ge&&(this.objectMode=this.objectMode||!!ce.writableObjectMode),this.highWaterMark=f(this,ce,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=ce.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){se(ae,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}T.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,ge=[];ae;)ge.push(ae),ae=ae.next;return ge},function(){try{Object.defineProperty(T.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(ae){return O.call(this,ae)?!0:this!==I?!1:ae&&ae._writableState instanceof T}})):O=function(ae){return ae instanceof this};function I(ce){t=t||tp();var ae=this instanceof t;if(!ae&&!O.call(I,this))return new I(ce);this._writableState=new T(ce,this,ae),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),n.call(this)}I.prototype.pipe=function(){k(this,new y)};function q(ce,ae){var ge=new N;k(ce,ge),process.nextTick(ae,ge)}function Z(ce,ae,ge,he){var Pe;return ge===null?Pe=new S:typeof ge!="string"&&!ae.objectMode&&(Pe=new g("chunk",["string","Buffer"],ge)),Pe?(k(ce,Pe),process.nextTick(he,Pe),!1):!0}I.prototype.write=function(ce,ae,ge){var he=this._writableState,Pe=!1,ee=!he.objectMode&&l(ce);return ee&&!i.isBuffer(ce)&&(ce=o(ce)),typeof ae=="function"&&(ge=ae,ae=null),ee?ae="buffer":ae||(ae=he.defaultEncoding),typeof ge!="function"&&(ge=A),he.ending?q(this,ge):(ee||Z(this,he,ce,ge))&&(he.pendingcb++,Pe=U(this,he,ee,ce,ae,ge)),Pe},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&Y(this,ce))},I.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new C(ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function V(ce,ae,ge){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof ae=="string"&&(ae=i.from(ae,ge)),ae}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(ce,ae,ge,he,Pe,ee){if(!ge){var G=V(ae,he,Pe);he!==G&&(ge=!0,Pe="buffer",he=G)}var we=ae.objectMode?1:he.length;ae.length+=we;var xe=ae.length<ae.highWaterMark;if(xe||(ae.needDrain=!0),ae.writing||ae.corked){var Ve=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:he,encoding:Pe,isBuf:ge,callback:ee,next:null},Ve?Ve.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else z(ce,ae,!1,we,he,Pe,ee);return xe}function z(ce,ae,ge,he,Pe,ee,G){ae.writelen=he,ae.writecb=G,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new _("write")):ge?ce._writev(Pe,ae.onwrite):ce._write(Pe,ee,ae.onwrite),ae.sync=!1}function H(ce,ae,ge,he,Pe){--ae.pendingcb,ge?(process.nextTick(Pe,he),process.nextTick(be,ce,ae),ce._writableState.errorEmitted=!0,k(ce,he)):(Pe(he),ce._writableState.errorEmitted=!0,k(ce,he),be(ce,ae))}function re(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function se(ce,ae){var ge=ce._writableState,he=ge.sync,Pe=ge.writecb;if(typeof Pe!="function")throw new w;if(re(ge),ae)H(ce,ge,he,ae,Pe);else{var ee=ne(ge)||ce.destroyed;!ee&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&Y(ce,ge),he?process.nextTick(W,ce,ge,ee,Pe):W(ce,ge,ee,Pe)}}function W(ce,ae,ge,he){ge||Q(ce,ae),ae.pendingcb--,he(),be(ce,ae)}function Q(ce,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,ce.emit("drain"))}function Y(ce,ae){ae.bufferProcessing=!0;var ge=ae.bufferedRequest;if(ce._writev&&ge&&ge.next){var he=ae.bufferedRequestCount,Pe=new Array(he),ee=ae.corkedRequestsFree;ee.entry=ge;for(var G=0,we=!0;ge;)Pe[G]=ge,ge.isBuf||(we=!1),ge=ge.next,G+=1;Pe.allBuffers=we,z(ce,ae,!0,ae.length,Pe,"",ee.finish),ae.pendingcb++,ae.lastBufferedRequest=null,ee.next?(ae.corkedRequestsFree=ee.next,ee.next=null):ae.corkedRequestsFree=new e(ae),ae.bufferedRequestCount=0}else{for(;ge;){var xe=ge.chunk,Ve=ge.encoding,qe=ge.callback,Ne=ae.objectMode?1:xe.length;if(z(ce,ae,!1,Ne,xe,Ve,qe),ge=ge.next,ae.bufferedRequestCount--,ae.writing)break}ge===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=ge,ae.bufferProcessing=!1}I.prototype._write=function(ce,ae,ge){ge(new v("_write()"))},I.prototype._writev=null,I.prototype.end=function(ce,ae,ge){var he=this._writableState;return typeof ce=="function"?(ge=ce,ce=null,ae=null):typeof ae=="function"&&(ge=ae,ae=null),ce!=null&&this.write(ce,ae),he.corked&&(he.corked=1,this.uncork()),he.ending||Ce(this,he,ge),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ne(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function J(ce,ae){ce._final(function(ge){ae.pendingcb--,ge&&k(ce,ge),ae.prefinished=!0,ce.emit("prefinish"),be(ce,ae)})}function oe(ce,ae){!ae.prefinished&&!ae.finalCalled&&(typeof ce._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,process.nextTick(J,ce,ae)):(ae.prefinished=!0,ce.emit("prefinish")))}function be(ce,ae){var ge=ne(ae);if(ge&&(oe(ce,ae),ae.pendingcb===0&&(ae.finished=!0,ce.emit("finish"),ae.autoDestroy))){var he=ce._readableState;(!he||he.autoDestroy&&he.endEmitted)&&ce.destroy()}return ge}function Ce(ce,ae,ge){ae.ending=!0,be(ce,ae),ge&&(ae.finished?process.nextTick(ge):ce.once("finish",ge)),ae.ended=!0,ce.writable=!1}function De(ce,ae,ge){var he=ce.entry;for(ce.entry=null;he;){var Pe=he.callback;ae.pendingcb--,Pe(ge),he=he.next}ae.corkedRequestsFree.next=ce}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(ce,ae){ae(ce)},wN}var _N,R3;function tp(){if(R3)return _N;R3=1;var e=Object.keys||function(u){var f=[];for(var p in u)f.push(p);return f};_N=o;var t=hJ(),r=fJ();Iy()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),_N}var jN={},M3;function I3(){if(M3)return jN;M3=1;var e=lJ().Buffer,t=e.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var N;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(N)return;S=(""+S).toLowerCase(),N=!0}}function n(S){var N=r(S);if(typeof N!="string"&&(e.isEncoding===t||!t(S)))throw new Error("Unknown encoding: "+S);return N||S}jN.StringDecoder=i;function i(S){this.encoding=n(S);var N;switch(this.encoding){case"utf16le":this.text=p,this.end=g,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=v,this.end=w,N=3;break;default:this.write=y,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}i.prototype.write=function(S){if(S.length===0)return"";var N,C;if(this.lastNeed){if(N=this.fillLast(S),N===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<S.length?N?N+this.text(S,C):this.text(S,C):N||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function o(S,N,C){var k=N.length-1;if(k<C)return 0;var A=s(N[k]);return A>=0?(A>0&&(S.lastNeed=A-1),A):--k<C||A===-2?0:(A=s(N[k]),A>=0?(A>0&&(S.lastNeed=A-2),A):--k<C||A===-2?0:(A=s(N[k]),A>=0?(A>0&&(A===2?A=0:S.lastNeed=A-3),A):0))}function l(S,N,C){if((N[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return S.lastNeed=2,"�"}}function c(S){var N=this.lastTotal-this.lastNeed,C=l(this,S);if(C!==void 0)return C;if(this.lastNeed<=S.length)return S.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,N,0,S.length),this.lastNeed-=S.length}function u(S,N){var C=o(this,S,N);if(!this.lastNeed)return S.toString("utf8",N);this.lastTotal=C;var k=S.length-(C-this.lastNeed);return S.copy(this.lastChar,0,k),S.toString("utf8",N,k)}function f(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+"�":N}function p(S,N){if((S.length-N)%2===0){var C=S.toString("utf16le",N);if(C){var k=C.charCodeAt(C.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",N,S.length-1)}function g(S){var N=S&&S.length?this.write(S):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,C)}return N}function v(S,N){var C=(S.length-N)%3;return C===0?S.toString("base64",N):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",N,S.length-C))}function w(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function y(S){return S.toString(this.encoding)}function _(S){return S&&S.length?this.write(S):""}return jN}var SN,D3;function wM(){if(D3)return SN;D3=1;var e=Hp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=t(l||r);var c=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,f=function(){s.writable||g()},p=s._writableState&&s._writableState.finished,g=function(){u=!1,p=!0,c||l.call(s)},v=s._readableState&&s._readableState.endEmitted,w=function(){c=!1,v=!0,u||l.call(s)},y=function(C){l.call(s,C)},_=function(){var C;if(c&&!v)return(!s._readableState||!s._readableState.ended)&&(C=new e),l.call(s,C);if(u&&!p)return(!s._writableState||!s._writableState.ended)&&(C=new e),l.call(s,C)},S=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",_),s.req?S():s.on("request",S)):u&&!s._writableState&&(s.on("end",f),s.on("close",f)),s.on("end",w),s.on("finish",g),o.error!==!1&&s.on("error",y),s.on("close",_),function(){s.removeListener("complete",g),s.removeListener("abort",_),s.removeListener("request",S),s.req&&s.req.removeListener("finish",g),s.removeListener("end",f),s.removeListener("close",f),s.removeListener("finish",g),s.removeListener("end",w),s.removeListener("error",y),s.removeListener("close",_)}}return SN=i,SN}var NN,L3;function DEe(){if(L3)return NN;L3=1;var e;function t(C,k,A){return k=r(k),k in C?Object.defineProperty(C,k,{value:A,enumerable:!0,configurable:!0,writable:!0}):C[k]=A,C}function r(C){var k=n(C,"string");return typeof k=="symbol"?k:String(k)}function n(C,k){if(typeof C!="object"||C===null)return C;var A=C[Symbol.toPrimitive];if(A!==void 0){var T=A.call(C,k);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(C)}var i=wM(),s=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function g(C,k){return{value:C,done:k}}function v(C){var k=C[s];if(k!==null){var A=C[p].read();A!==null&&(C[u]=null,C[s]=null,C[o]=null,k(g(A,!1)))}}function w(C){process.nextTick(v,C)}function y(C,k){return function(A,T){C.then(function(){if(k[c]){A(g(void 0,!0));return}k[f](A,T)},T)}}var _=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((e={get stream(){return this[p]},next:function(){var k=this,A=this[l];if(A!==null)return Promise.reject(A);if(this[c])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(q,Z){process.nextTick(function(){k[l]?Z(k[l]):q(g(void 0,!0))})});var T=this[u],O;if(T)O=new Promise(y(T,this));else{var I=this[p].read();if(I!==null)return Promise.resolve(g(I,!1));O=new Promise(this[f])}return this[u]=O,O}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var k=this;return new Promise(function(A,T){k[p].destroy(null,function(O){if(O){T(O);return}A(g(void 0,!0))})})}),e),_),N=function(k){var A,T=Object.create(S,(A={},t(A,p,{value:k,writable:!0}),t(A,s,{value:null,writable:!0}),t(A,o,{value:null,writable:!0}),t(A,l,{value:null,writable:!0}),t(A,c,{value:k._readableState.endEmitted,writable:!0}),t(A,f,{value:function(I,q){var Z=T[p].read();Z?(T[u]=null,T[s]=null,T[o]=null,I(g(Z,!1))):(T[s]=I,T[o]=q)},writable:!0}),A));return T[u]=null,i(k,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=T[o];I!==null&&(T[u]=null,T[s]=null,T[o]=null,I(O)),T[l]=O;return}var q=T[s];q!==null&&(T[u]=null,T[s]=null,T[o]=null,q(g(void 0,!0))),T[c]=!0}),k.on("readable",w.bind(null,T)),T};return NN=N,NN}var CN,$3;function LEe(){return $3||($3=1,CN=function(){throw new Error("Readable.from is not available in the browser")}),CN}var EN,F3;function hJ(){if(F3)return EN;F3=1,EN=q;var e;q.ReadableState=I,iw.EventEmitter;var t=function(G,we){return G.listeners(we).length},r=cJ(),n=My().Buffer,i=(typeof Ps<"u"?Ps:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(ee){return n.from(ee)}function o(ee){return n.isBuffer(ee)||ee instanceof i}var l=iw,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=MEe(),f=uJ(),p=dJ(),g=p.getHighWaterMark,v=Hp().codes,w=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,C,k;Iy()(q,r);var A=f.errorOrDestroy,T=["error","close","destroy","pause","resume"];function O(ee,G,we){if(typeof ee.prependListener=="function")return ee.prependListener(G,we);!ee._events||!ee._events[G]?ee.on(G,we):Array.isArray(ee._events[G])?ee._events[G].unshift(we):ee._events[G]=[we,ee._events[G]]}function I(ee,G,we){e=e||tp(),ee=ee||{},typeof we!="boolean"&&(we=G instanceof e),this.objectMode=!!ee.objectMode,we&&(this.objectMode=this.objectMode||!!ee.readableObjectMode),this.highWaterMark=g(this,ee,"readableHighWaterMark",we),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.destroyed=!1,this.defaultEncoding=ee.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ee.encoding&&(N||(N=I3().StringDecoder),this.decoder=new N(ee.encoding),this.encoding=ee.encoding)}function q(ee){if(e=e||tp(),!(this instanceof q))return new q(ee);var G=this instanceof e;this._readableState=new I(ee,this,G),this.readable=!0,ee&&(typeof ee.read=="function"&&(this._read=ee.read),typeof ee.destroy=="function"&&(this._destroy=ee.destroy)),r.call(this)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),q.prototype.destroy=f.destroy,q.prototype._undestroy=f.undestroy,q.prototype._destroy=function(ee,G){G(ee)},q.prototype.push=function(ee,G){var we=this._readableState,xe;return we.objectMode?xe=!0:typeof ee=="string"&&(G=G||we.defaultEncoding,G!==we.encoding&&(ee=n.from(ee,G),G=""),xe=!0),Z(this,ee,G,!1,xe)},q.prototype.unshift=function(ee){return Z(this,ee,null,!0,!1)};function Z(ee,G,we,xe,Ve){c("readableAddChunk",G);var qe=ee._readableState;if(G===null)qe.reading=!1,se(ee,qe);else{var Ne;if(Ve||(Ne=U(qe,G)),Ne)A(ee,Ne);else if(qe.objectMode||G&&G.length>0)if(typeof G!="string"&&!qe.objectMode&&Object.getPrototypeOf(G)!==n.prototype&&(G=s(G)),xe)qe.endEmitted?A(ee,new S):V(ee,qe,G,!0);else if(qe.ended)A(ee,new y);else{if(qe.destroyed)return!1;qe.reading=!1,qe.decoder&&!we?(G=qe.decoder.write(G),qe.objectMode||G.length!==0?V(ee,qe,G,!1):Y(ee,qe)):V(ee,qe,G,!1)}else xe||(qe.reading=!1,Y(ee,qe))}return!qe.ended&&(qe.length<qe.highWaterMark||qe.length===0)}function V(ee,G,we,xe){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,ee.emit("data",we)):(G.length+=G.objectMode?1:we.length,xe?G.buffer.unshift(we):G.buffer.push(we),G.needReadable&&W(ee)),Y(ee,G)}function U(ee,G){var we;return!o(G)&&typeof G!="string"&&G!==void 0&&!ee.objectMode&&(we=new w("chunk",["string","Buffer","Uint8Array"],G)),we}q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(ee){N||(N=I3().StringDecoder);var G=new N(ee);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var we=this._readableState.buffer.head,xe="";we!==null;)xe+=G.write(we.data),we=we.next;return this._readableState.buffer.clear(),xe!==""&&this._readableState.buffer.push(xe),this._readableState.length=xe.length,this};var z=1073741824;function H(ee){return ee>=z?ee=z:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}function re(ee,G){return ee<=0||G.length===0&&G.ended?0:G.objectMode?1:ee!==ee?G.flowing&&G.length?G.buffer.head.data.length:G.length:(ee>G.highWaterMark&&(G.highWaterMark=H(ee)),ee<=G.length?ee:G.ended?G.length:(G.needReadable=!0,0))}q.prototype.read=function(ee){c("read",ee),ee=parseInt(ee,10);var G=this._readableState,we=ee;if(ee!==0&&(G.emittedReadable=!1),ee===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return c("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?ge(this):W(this),null;if(ee=re(ee,G),ee===0&&G.ended)return G.length===0&&ge(this),null;var xe=G.needReadable;c("need readable",xe),(G.length===0||G.length-ee<G.highWaterMark)&&(xe=!0,c("length less than watermark",xe)),G.ended||G.reading?(xe=!1,c("reading or ended",xe)):xe&&(c("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(ee=re(we,G)));var Ve;return ee>0?Ve=ae(ee,G):Ve=null,Ve===null?(G.needReadable=G.length<=G.highWaterMark,ee=0):(G.length-=ee,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),we!==ee&&G.ended&&ge(this)),Ve!==null&&this.emit("data",Ve),Ve};function se(ee,G){if(c("onEofChunk"),!G.ended){if(G.decoder){var we=G.decoder.end();we&&we.length&&(G.buffer.push(we),G.length+=G.objectMode?1:we.length)}G.ended=!0,G.sync?W(ee):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,Q(ee)))}}function W(ee){var G=ee._readableState;c("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(c("emitReadable",G.flowing),G.emittedReadable=!0,process.nextTick(Q,ee))}function Q(ee){var G=ee._readableState;c("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(ee.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,ce(ee)}function Y(ee,G){G.readingMore||(G.readingMore=!0,process.nextTick(ne,ee,G))}function ne(ee,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var we=G.length;if(c("maybeReadMore read 0"),ee.read(0),we===G.length)break}G.readingMore=!1}q.prototype._read=function(ee){A(this,new _("_read()"))},q.prototype.pipe=function(ee,G){var we=this,xe=this._readableState;switch(xe.pipesCount){case 0:xe.pipes=ee;break;case 1:xe.pipes=[xe.pipes,ee];break;default:xe.pipes.push(ee);break}xe.pipesCount+=1,c("pipe count=%d opts=%j",xe.pipesCount,G);var Ve=(!G||G.end!==!1)&&ee!==process.stdout&&ee!==process.stderr,qe=Ve?ot:Le;xe.endEmitted?process.nextTick(qe):we.once("end",qe),ee.on("unpipe",Ne);function Ne(K,D){c("onunpipe"),K===we&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,_e())}function ot(){c("onend"),ee.end()}var It=J(we);ee.on("drain",It);var fe=!1;function _e(){c("cleanup"),ee.removeListener("close",Xe),ee.removeListener("finish",me),ee.removeListener("drain",It),ee.removeListener("error",Ze),ee.removeListener("unpipe",Ne),we.removeListener("end",ot),we.removeListener("end",Le),we.removeListener("data",ke),fe=!0,xe.awaitDrain&&(!ee._writableState||ee._writableState.needDrain)&&It()}we.on("data",ke);function ke(K){c("ondata");var D=ee.write(K);c("dest.write",D),D===!1&&((xe.pipesCount===1&&xe.pipes===ee||xe.pipesCount>1&&Pe(xe.pipes,ee)!==-1)&&!fe&&(c("false write response, pause",xe.awaitDrain),xe.awaitDrain++),we.pause())}function Ze(K){c("onerror",K),Le(),ee.removeListener("error",Ze),t(ee,"error")===0&&A(ee,K)}O(ee,"error",Ze);function Xe(){ee.removeListener("finish",me),Le()}ee.once("close",Xe);function me(){c("onfinish"),ee.removeListener("close",Xe),Le()}ee.once("finish",me);function Le(){c("unpipe"),we.unpipe(ee)}return ee.emit("pipe",we),xe.flowing||(c("pipe resume"),we.resume()),ee};function J(ee){return function(){var we=ee._readableState;c("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&t(ee,"data")&&(we.flowing=!0,ce(ee))}}q.prototype.unpipe=function(ee){var G=this._readableState,we={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return ee&&ee!==G.pipes?this:(ee||(ee=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,ee&&ee.emit("unpipe",this,we),this);if(!ee){var xe=G.pipes,Ve=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var qe=0;qe<Ve;qe++)xe[qe].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=Pe(G.pipes,ee);return Ne===-1?this:(G.pipes.splice(Ne,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),ee.emit("unpipe",this,we),this)},q.prototype.on=function(ee,G){var we=r.prototype.on.call(this,ee,G),xe=this._readableState;return ee==="data"?(xe.readableListening=this.listenerCount("readable")>0,xe.flowing!==!1&&this.resume()):ee==="readable"&&!xe.endEmitted&&!xe.readableListening&&(xe.readableListening=xe.needReadable=!0,xe.flowing=!1,xe.emittedReadable=!1,c("on readable",xe.length,xe.reading),xe.length?W(this):xe.reading||process.nextTick(be,this)),we},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(ee,G){var we=r.prototype.removeListener.call(this,ee,G);return ee==="readable"&&process.nextTick(oe,this),we},q.prototype.removeAllListeners=function(ee){var G=r.prototype.removeAllListeners.apply(this,arguments);return(ee==="readable"||ee===void 0)&&process.nextTick(oe,this),G};function oe(ee){var G=ee._readableState;G.readableListening=ee.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:ee.listenerCount("data")>0&&ee.resume()}function be(ee){c("readable nexttick read 0"),ee.read(0)}q.prototype.resume=function(){var ee=this._readableState;return ee.flowing||(c("resume"),ee.flowing=!ee.readableListening,Ce(this,ee)),ee.paused=!1,this};function Ce(ee,G){G.resumeScheduled||(G.resumeScheduled=!0,process.nextTick(De,ee,G))}function De(ee,G){c("resume",G.reading),G.reading||ee.read(0),G.resumeScheduled=!1,ee.emit("resume"),ce(ee),G.flowing&&!G.reading&&ee.read(0)}q.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ce(ee){var G=ee._readableState;for(c("flow",G.flowing);G.flowing&&ee.read()!==null;);}q.prototype.wrap=function(ee){var G=this,we=this._readableState,xe=!1;ee.on("end",function(){if(c("wrapped end"),we.decoder&&!we.ended){var Ne=we.decoder.end();Ne&&Ne.length&&G.push(Ne)}G.push(null)}),ee.on("data",function(Ne){if(c("wrapped data"),we.decoder&&(Ne=we.decoder.write(Ne)),!(we.objectMode&&Ne==null)&&!(!we.objectMode&&(!Ne||!Ne.length))){var ot=G.push(Ne);ot||(xe=!0,ee.pause())}});for(var Ve in ee)this[Ve]===void 0&&typeof ee[Ve]=="function"&&(this[Ve]=function(ot){return function(){return ee[ot].apply(ee,arguments)}}(Ve));for(var qe=0;qe<T.length;qe++)ee.on(T[qe],this.emit.bind(this,T[qe]));return this._read=function(Ne){c("wrapped _read",Ne),xe&&(xe=!1,ee.resume())},this},typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=DEe()),C(this)}),Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),q._fromList=ae,Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ae(ee,G){if(G.length===0)return null;var we;return G.objectMode?we=G.buffer.shift():!ee||ee>=G.length?(G.decoder?we=G.buffer.join(""):G.buffer.length===1?we=G.buffer.first():we=G.buffer.concat(G.length),G.buffer.clear()):we=G.buffer.consume(ee,G.decoder),we}function ge(ee){var G=ee._readableState;c("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,process.nextTick(he,G,ee))}function he(ee,G){if(c("endReadableNT",ee.endEmitted,ee.length),!ee.endEmitted&&ee.length===0&&(ee.endEmitted=!0,G.readable=!1,G.emit("end"),ee.autoDestroy)){var we=G._writableState;(!we||we.autoDestroy&&we.finished)&&G.destroy()}}typeof Symbol=="function"&&(q.from=function(ee,G){return k===void 0&&(k=LEe()),k(q,ee,G)});function Pe(ee,G){for(var we=0,xe=ee.length;we<xe;we++)if(ee[we]===G)return we;return-1}return EN}var PN,B3;function pJ(){if(B3)return PN;B3=1,PN=l;var e=Hp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=tp();Iy()(l,s);function o(f,p){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),v(f);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function c(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){u(f,p,g)}):u(this,null,null)}l.prototype.push=function(f,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,p)},l.prototype._transform=function(f,p,g){g(new t("_transform()"))},l.prototype._write=function(f,p,g){var v=this._transformState;if(v.writecb=g,v.writechunk=f,v.writeencoding=p,!v.transforming){var w=this._readableState;(v.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},l.prototype._read=function(f){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},l.prototype._destroy=function(f,p){s.prototype._destroy.call(this,f,function(g){p(g)})};function u(f,p,g){if(p)return f.emit("error",p);if(g!=null&&f.push(g),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return PN}var TN,z3;function $Ee(){if(z3)return TN;z3=1,TN=t;var e=pJ();Iy()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},TN}var AN,q3;function FEe(){if(q3)return AN;q3=1;var e;function t(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var r=Hp().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,v,w,y){y=t(y);var _=!1;g.on("close",function(){_=!0}),e===void 0&&(e=wM()),e(g,{readable:v,writable:w},function(N){if(N)return y(N);_=!0,y()});var S=!1;return function(N){if(!_&&!S){if(S=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();y(N||new i("pipe"))}}}function c(g){g()}function u(g,v){return g.pipe(v)}function f(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function p(){for(var g=arguments.length,v=new Array(g),w=0;w<g;w++)v[w]=arguments[w];var y=f(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new n("streams");var _,S=v.map(function(N,C){var k=C<v.length-1,A=C>0;return l(N,k,A,function(T){_||(_=T),T&&S.forEach(c),!k&&(S.forEach(c),y(_))})});return v.reduce(u)}return AN=p,AN}var U3;function BEe(){return U3||(U3=1,function(e,t){t=e.exports=hJ(),t.Stream=t,t.Readable=t,t.Writable=fJ(),t.Duplex=tp(),t.Transform=pJ(),t.PassThrough=$Ee(),t.finished=wM(),t.pipeline=FEe()}(L0,L0.exports)),L0.exports}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var kN,V3;function zEe(){if(V3)return kN;V3=1;let e;return kN=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ps):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),kN}var ON,W3;function qEe(){if(W3)return ON;W3=1;function e(r,n){for(const i in n)Object.defineProperty(r,i,{value:n[i],enumerable:!0,configurable:!0});return r}function t(r,n,i){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof n=="object"&&(i=n,n=""),n&&(i.code=n);try{return e(r,i)}catch{i.message=r.message,i.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),e(new o,i)}}return ON=t,ON}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var RN,H3;function UEe(){if(H3)return RN;H3=1;const e=EEe()("simple-peer"),t=PEe(),r=kEe(),n=BEe(),i=zEe(),s=qEe(),{Buffer:o}=My(),l=64*1024,c=5*1e3,u=5*1e3;function f(v){return v.replace(/a=ice-options:trickle\s\n/g,"")}function p(v){console.warn(v)}class g extends n.Duplex{constructor(w){if(w=Object.assign({allowHalfOpen:!1},w),super(w),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",w),this.channelName=w.initiator?w.channelName||r(20).toString("hex"):null,this.initiator=w.initiator||!1,this.channelConfig=w.channelConfig||g.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},g.config,w.config),this.offerOptions=w.offerOptions||{},this.answerOptions=w.answerOptions||{},this.sdpTransform=w.sdpTransform||(y=>y),this.streams=w.streams||(w.stream?[w.stream]:[]),this.trickle=w.trickle!==void 0?w.trickle:!0,this.allowHalfTrickle=w.allowHalfTrickle!==void 0?w.allowHalfTrickle:!1,this.iceCompleteTimeout=w.iceCompleteTimeout||c,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=w.wrtc&&typeof w.wrtc=="object"?w.wrtc:t(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(y){this.destroy(s(y,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=y=>{this._onIceCandidate(y)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(y=>{this.destroy(s(y,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=y=>{this._setupData(y)},this.streams&&this.streams.forEach(y=>{this.addStream(y)}),this._pc.ontrack=y=>{this._onTrack(y)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof w=="string")try{w=JSON.parse(w)}catch{w={}}this._debug("signal()"),w.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),w.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(w.transceiverRequest.kind,w.transceiverRequest.init)),w.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(w.candidate):this._pendingCandidates.push(w.candidate)),w.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(w)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(y=>{this._addIceCandidate(y)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(y=>{this.destroy(s(y,"ERR_SET_REMOTE_DESCRIPTION"))}),!w.sdp&&!w.candidate&&!w.renegotiate&&!w.transceiverRequest&&this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(w){const y=new this._wrtc.RTCIceCandidate(w);this._pc.addIceCandidate(y).catch(_=>{!y.address||y.address.endsWith(".local")?p("Ignoring unsupported ICE candidate."):this.destroy(s(_,"ERR_ADD_ICE_CANDIDATE"))})}send(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(w)}}addTransceiver(w,y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(w,y),this._needsNegotiation()}catch(_){this.destroy(s(_,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:w,init:y}})}}addStream(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),w.getTracks().forEach(y=>{this.addTrack(y,w)})}}addTrack(w,y){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const _=this._senderMap.get(w)||new Map;let S=_.get(y);if(!S)S=this._pc.addTrack(w,y),_.set(y,S),this._senderMap.set(w,_),this._needsNegotiation();else throw S.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(w,y,_){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const S=this._senderMap.get(w),N=S?S.get(_):null;if(!N)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");y&&this._senderMap.set(y,S),N.replaceTrack!=null?N.replaceTrack(y):this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(w,y){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const _=this._senderMap.get(w),S=_?_.get(y):null;if(!S)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{S.removed=!0,this._pc.removeTrack(S)}catch(N){N.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(S):this.destroy(s(N,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),w.getTracks().forEach(y=>{this.removeTrack(y,w)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(w){this._destroy(w,()=>{})}_destroy(w,y){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",w&&(w.message||w)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",w&&(w.message||w)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,w&&this.emit("error",w),this.emit("close"),y()}))}_setupData(w){if(!w.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=w.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=l),this.channelName=this._channel.label,this._channel.onmessage=_=>{this._onChannelMessage(_)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=_=>{const S=_.error instanceof Error?_.error:new Error(`Datachannel error: ${_.message} ${_.filename}:${_.lineno}:${_.colno}`);this.destroy(s(S,"ERR_DATA_CHANNEL"))};let y=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(y&&this._onChannelClose(),y=!0):y=!1},u)}_read(){}_write(w,y,_){if(this.destroyed)return _(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(w)}catch(S){return this.destroy(s(S,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>l?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=_):_(null)}else this._debug("write before connect"),this._chunk=w,this._cb=_}_onFinish(){if(this.destroyed)return;const w=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?w():this.once("connect",w)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(w=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(w.sdp=f(w.sdp)),w.sdp=this.sdpTransform(w.sdp);const y=()=>{if(this.destroyed)return;const N=this._pc.localDescription||w;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp})},_=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(w).then(_).catch(S)}).catch(w=>{this.destroy(s(w,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(w=>{!w.mid&&w.sender.track&&!w.requested&&(w.requested=!0,this.addTransceiver(w.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(w=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(w.sdp=f(w.sdp)),w.sdp=this.sdpTransform(w.sdp);const y=()=>{if(this.destroyed)return;const N=this._pc.localDescription||w;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp}),this.initiator||this._requestMissingTransceivers()},_=()=>{this.destroyed||(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(w).then(_).catch(S)}).catch(w=>{this.destroy(s(w,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const w=this._pc.iceConnectionState,y=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",w,y),this.emit("iceStateChange",w,y),(w==="connected"||w==="completed")&&(this._pcReady=!0,this._maybeReady()),w==="failed"&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),w==="closed"&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(w){const y=_=>(Object.prototype.toString.call(_.values)==="[object Array]"&&_.values.forEach(S=>{Object.assign(_,S)}),_);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(_=>{const S=[];_.forEach(N=>{S.push(y(N))}),w(null,S)},_=>w(_)):this._pc.getStats.length>0?this._pc.getStats(_=>{if(this.destroyed)return;const S=[];_.result().forEach(N=>{const C={};N.names().forEach(k=>{C[k]=N.stat(k)}),C.id=N.id,C.type=N.type,C.timestamp=N.timestamp,S.push(y(C))}),w(null,S)},_=>w(_)):w(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const w=()=>{this.destroyed||this.getStats((y,_)=>{if(this.destroyed)return;y&&(_=[]);const S={},N={},C={};let k=!1;_.forEach(T=>{(T.type==="remotecandidate"||T.type==="remote-candidate")&&(S[T.id]=T),(T.type==="localcandidate"||T.type==="local-candidate")&&(N[T.id]=T),(T.type==="candidatepair"||T.type==="candidate-pair")&&(C[T.id]=T)});const A=T=>{k=!0;let O=N[T.localCandidateId];O&&(O.ip||O.address)?(this.localAddress=O.ip||O.address,this.localPort=Number(O.port)):O&&O.ipAddress?(this.localAddress=O.ipAddress,this.localPort=Number(O.portNumber)):typeof T.googLocalAddress=="string"&&(O=T.googLocalAddress.split(":"),this.localAddress=O[0],this.localPort=Number(O[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let I=S[T.remoteCandidateId];I&&(I.ip||I.address)?(this.remoteAddress=I.ip||I.address,this.remotePort=Number(I.port)):I&&I.ipAddress?(this.remoteAddress=I.ipAddress,this.remotePort=Number(I.portNumber)):typeof T.googRemoteAddress=="string"&&(I=T.googRemoteAddress.split(":"),this.remoteAddress=I[0],this.remotePort=Number(I[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(_.forEach(T=>{T.type==="transport"&&T.selectedCandidatePairId&&A(C[T.selectedCandidatePairId]),(T.type==="googCandidatePair"&&T.googActiveConnection==="true"||(T.type==="candidatepair"||T.type==="candidate-pair")&&T.selected)&&A(T)}),!k&&(!Object.keys(C).length||Object.keys(N).length)){setTimeout(w,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(O){return this.destroy(s(O,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const T=this._cb;this._cb=null,T(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};w()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>l||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(w=>{this._pc.removeTrack(w),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(w){this.destroyed||(w.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:w.candidate.candidate,sdpMLineIndex:w.candidate.sdpMLineIndex,sdpMid:w.candidate.sdpMid}}):!w.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),w.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(w){if(this.destroyed)return;let y=w.data;y instanceof ArrayBuffer&&(y=o.from(y)),this.push(y)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const w=this._cb;this._cb=null,w(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(w){this.destroyed||w.streams.forEach(y=>{this._debug("on track"),this.emit("track",w.track,y),this._remoteTracks.push({track:w.track,stream:y}),!this._remoteStreams.some(_=>_.id===y.id)&&(this._remoteStreams.push(y),i(()=>{this._debug("on stream"),this.emit("stream",y)}))})}_debug(){const w=[].slice.call(arguments);w[0]="["+this._id+"] "+w[0],e.apply(null,w)}}return g.WEBRTC_SUPPORT=!!t(),g.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},g.channelConfig={},RN=g,RN}var VEe=UEe();const K3=pr(VEe);var WEe={};class HEe{constructor(){this.socket=null,this.peer=null,this.localStream=null,this.remoteStream=null,this.callState="idle",this.callDuration=0,this.callTimer=null,this.callStartTime=null,this.onCallStateChange=null,this.onRemoteStream=null,this.onCallDuration=null,this.onError=null,this.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],audio:!0,video:!1}}async initialize(t,r){try{return this.socket=hb(WEe.REACT_APP_SIGNALING_SERVER||"http://localhost:3001",{query:{userId:t,roomId:r}}),this.setupSocketListeners(),await this.requestAudioPermission(),!0}catch(n){return console.error("Erreur initialisation AudioCall:",n),this.handleError(n),!1}}async requestAudioPermission(){try{return this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100},video:!1}),console.log("Accès microphone accordé"),!0}catch(t){throw console.error("Erreur accès microphone:",t),new Error("Accès au microphone refusé. Veuillez autoriser l'accès audio.")}}setupSocketListeners(){this.socket&&(this.socket.on("incoming-call",t=>{console.log("Appel entrant de:",t.callerId),this.callState="incoming",this.triggerCallStateChange()}),this.socket.on("call-answered",t=>{console.log("Appel répondu par:",t.answererId),this.handleCallAnswered(t)}),this.socket.on("call-rejected",t=>{console.log("Appel refusé par:",t.rejecterId),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}),this.socket.on("call-ended",t=>{console.log("Appel terminé par:",t.enderId),this.endCall()}),this.socket.on("webrtc-signal",t=>{this.peer&&this.peer.signal(t.signal)}),this.socket.on("connect",()=>{console.log("Connecté au serveur de signalisation")}),this.socket.on("disconnect",()=>{console.log("Déconnecté du serveur de signalisation"),this.handleError(new Error("Connexion perdue au serveur"))}))}async startCall(t,r){try{if(this.callState!=="idle")throw new Error("Un appel est déjà en cours");return this.localStream||await this.requestAudioPermission(),this.callState="calling",this.triggerCallStateChange(),this.peer=new K3({initiator:!0,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("start-call",{targetUserId:t,roomId:r,callerId:this.socket.id}),!0}catch(n){return console.error("Erreur démarrage appel:",n),this.handleError(n),!1}}async answerCall(t,r){try{if(this.callState!=="incoming")throw new Error("Aucun appel entrant");return this.localStream||await this.requestAudioPermission(),this.callState="connected",this.triggerCallStateChange(),this.peer=new K3({initiator:!1,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("answer-call",{callerId:t,roomId:r,answererId:this.socket.id}),this.startCallTimer(),!0}catch(n){return console.error("Erreur réponse appel:",n),this.handleError(n),!1}}rejectCall(t,r){try{this.socket.emit("reject-call",{callerId:t,roomId:r,rejecterId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(n){console.error("Erreur refus appel:",n),this.handleError(n)}}endCall(){try{this.callState==="connected"&&this.socket.emit("end-call",{enderId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(t){console.error("Erreur fin appel:",t),this.handleError(t)}}setupPeerListeners(){this.peer&&(this.peer.on("signal",t=>{this.socket.emit("webrtc-signal",{signal:t})}),this.peer.on("connect",()=>{console.log("Connexion WebRTC établie"),this.callState="connected",this.triggerCallStateChange(),this.startCallTimer()}),this.peer.on("stream",t=>{this.remoteStream=t,this.onRemoteStream&&this.onRemoteStream(t)}),this.peer.on("error",t=>{console.error("Erreur WebRTC:",t),this.handleError(t)}),this.peer.on("close",()=>{console.log("Connexion WebRTC fermée"),this.endCall()}))}startCallTimer(){this.callStartTime=Date.now(),this.callDuration=0,this.callTimer=setInterval(()=>{this.callDuration=Math.floor((Date.now()-this.callStartTime)/1e3),this.onCallDuration&&this.onCallDuration(this.callDuration)},1e3)}handleCallAnswered(t){this.peer&&this.callState==="calling"&&(this.callState="connected",this.triggerCallStateChange(),this.startCallTimer())}cleanup(){this.callTimer&&(clearInterval(this.callTimer),this.callTimer=null),this.peer&&(this.peer.destroy(),this.peer=null),this.localStream&&(this.localStream.getTracks().forEach(t=>t.stop()),this.localStream=null),this.callState="idle",this.callDuration=0,this.callStartTime=null,this.remoteStream=null}handleError(t){console.error("Erreur AudioCall:",t),this.onError&&this.onError(t)}triggerCallStateChange(){this.onCallStateChange&&this.onCallStateChange(this.callState)}formatCallDuration(t){const r=Math.floor(t/3600),n=Math.floor(t%3600/60),i=t%60;return r>0?`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getCallState(){return{state:this.callState,duration:this.callDuration,formattedDuration:this.formatCallDuration(this.callDuration),hasLocalStream:!!this.localStream,hasRemoteStream:!!this.remoteStream}}isInCall(){return["calling","incoming","connected"].includes(this.callState)}isConnected(){return this.callState==="connected"}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.cleanup()}setCallbacks(t){this.onCallStateChange=t.onCallStateChange,this.onRemoteStream=t.onRemoteStream,this.onCallDuration=t.onCallDuration,this.onError=t.onError}}const Mc=new HEe,mJ=({isOpen:e=!1,onClose:t,targetUser:r=null,currentUser:n=null,roomId:i=null})=>{const[s,o]=x.useState("idle"),[l,c]=x.useState(0),[u,f]=x.useState(!1),[p,g]=x.useState(!0),[v,w]=x.useState(!1),[y,_]=x.useState(null),[S,N]=x.useState(!1),C=x.useRef(null),{toast:k}=Cn();x.useEffect(()=>{e&&n&&i&&A()},[e,n,i]),x.useEffect(()=>{e||z()},[e]);const A=async()=>{try{w(!0),_(null),console.log("🔍 Initialisation appel simplifié pour:",{currentUser:n?.id,targetUser:r?.id,roomId:i}),setTimeout(()=>{o("calling"),w(!1),k({title:"Appel initialisé",description:`Appel en cours vers ${r?.first_name||r?.last_name||"l'utilisateur"}`,duration:3e3})},1e3)}catch(Y){console.error("Erreur initialisation:",Y),_(Y.message),k({title:"Erreur d'initialisation",description:Y.message,variant:"destructive",duration:5e3})}finally{w(!1)}};x.useCallback(Y=>{o(Y),N(Y==="connected"),Y==="ended"&&setTimeout(()=>{t()},2e3)},[t]),x.useCallback(Y=>{C.current&&(C.current.srcObject=Y,C.current.play().catch(console.error))},[]),x.useCallback(Y=>{c(Y)},[]);const T=x.useCallback(Y=>{_(Y.message),k({title:"Erreur d'appel",description:Y.message,variant:"destructive",duration:5e3})},[k]),O=async()=>{try{if(!r||!i)throw new Error("Informations manquantes pour l'appel");await Mc.startCall(r.id,i)&&k({title:"Appel en cours...",description:`Appel de ${r.name||r.email}`,duration:3e3})}catch(Y){console.error("Erreur démarrage appel:",Y),T(Y)}},I=async()=>{try{await Mc.answerCall()&&k({title:"Appel accepté",description:"Connexion en cours...",duration:3e3})}catch(Y){console.error("Erreur réponse appel:",Y),T(Y)}},q=()=>{Mc.rejectCall(),k({title:"Appel refusé",description:"L'appel a été refusé",duration:3e3,variant:"destructive"})},Z=()=>{Mc.endCall(),k({title:"Appel terminé",description:"L'appel a été terminé",duration:3e3})},V=()=>{if(Mc.localStream){const Y=Mc.localStream.getAudioTracks()[0];Y&&(Y.enabled=!Y.enabled,f(!Y.enabled),k({title:u?"Micro activé":"Micro désactivé",description:u?"Votre voix est maintenant audible":"Votre voix est maintenant muette",duration:2e3}))}},U=()=>{C.current&&(C.current.muted=!C.current.muted,g(!C.current.muted),k({title:p?"Haut-parleur désactivé":"Haut-parleur activé",description:p?"Son désactivé":"Son activé",duration:2e3}))},z=()=>{Mc.disconnect(),o("idle"),c(0),N(!1),_(null)},H=()=>{Mc.isInCall()&&Z(),t()},re=Y=>{const ne=Math.floor(Y/60),J=Y%60;return`${ne.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},se=()=>{switch(s){case"calling":return a.jsx(ade,{className:"h-6 w-6 text-orange-500"});case"incoming":return a.jsx(sde,{className:"h-6 w-6 text-green-500"});case"connected":return a.jsx(Da,{className:"h-6 w-6 text-green-500"});default:return a.jsx(Da,{className:"h-6 w-6 text-gray-500"})}},W=()=>{switch(s){case"calling":return"Appel en cours...";case"incoming":return"Appel entrant";case"connected":return"Appel en cours";case"ended":return"Appel terminé";default:return"Prêt pour l'appel"}},Q=()=>s==="connected"?`Durée: ${re(l)}`:r?`Appel de ${r.name||r.email}`:"En attente...";return e?a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white text-center relative",children:[a.jsx("button",{onClick:H,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(Ms,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:se()}),a.jsx("h2",{className:"text-xl font-semibold mb-1",children:W()}),a.jsx("p",{className:"text-blue-100 text-sm",children:Q()})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[r&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx(Ji,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name||"Utilisateur"}),r.email&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.email})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(yt,{variant:s==="connected"?"default":"secondary",children:s.toUpperCase()}),s==="connected"&&a.jsxs("div",{className:"flex items-center justify-center mt-2 text-green-600",children:[a.jsx(Wa,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"font-mono",children:re(l)})]})]}),y&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[a.jsx(Zn,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700 text-sm",children:y})]}),a.jsxs("div",{className:"space-y-3",children:[s==="idle"&&a.jsx(ue,{onClick:O,disabled:v||!r,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:v?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"h-5 w-5 mr-2 animate-spin"}),"Initialisation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Da,{className:"h-5 w-5 mr-2"}),"Appeler"]})}),s==="incoming"&&a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(ue,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[a.jsx(Da,{className:"h-5 w-5 mr-2"}),"Répondre"]}),a.jsxs(ue,{onClick:q,variant:"destructive",className:"flex-1",size:"lg",children:[a.jsx(NS,{className:"h-5 w-5 mr-2"}),"Refuser"]})]}),s==="calling"&&a.jsxs(ue,{onClick:Z,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(NS,{className:"h-5 w-5 mr-2"}),"Annuler l'appel"]}),s==="connected"&&a.jsxs(ue,{onClick:Z,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(NS,{className:"h-5 w-5 mr-2"}),"Terminer l'appel"]}),s==="connected"&&a.jsxs("div",{className:"flex space-x-3 pt-3 border-t",children:[a.jsxs(ue,{onClick:V,variant:u?"destructive":"outline",className:"flex-1",children:[u?a.jsx(Jue,{className:"h-4 w-4 mr-2"}):a.jsx(Que,{className:"h-4 w-4 mr-2"}),u?"Activer":"Muet"]}),a.jsxs(ue,{onClick:U,variant:p?"outline":"destructive",className:"flex-1",children:[p?a.jsx(vde,{className:"h-4 w-4 mr-2"}):a.jsx(yde,{className:"h-4 w-4 mr-2"}),p?"Désactiver":"Activer"]})]})]}),a.jsx("div",{className:"text-center text-sm text-gray-500",children:S?a.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[a.jsx(Li,{className:"h-4 w-4 mr-2"}),"Connecté"]}):a.jsxs("div",{className:"flex items-center justify-center text-gray-400",children:[a.jsx(kr,{className:"h-4 w-4 mr-2 animate-spin"}),"Connexion..."]})})]}),a.jsx("audio",{ref:C,autoPlay:!0,playsInline:!0,className:"hidden"})]})})}):null},KEe=({value:e,onChange:t,onSend:r,onAttachment:n,onEmoji:i,onVoice:s,onCamera:o,placeholder:l="Tapez votre message...",disabled:c=!1,showActions:u=!0})=>{const[f,p]=x.useState(!1),[g,v]=x.useState(!1),[w,y]=x.useState(!1),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[k,A]=x.useState(!1),T=x.useRef(null),O=()=>{e.trim()&&!c&&r(e.trim())},I=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),O())},q=re=>{const se=Array.from(re.target.files);se.length>0&&n(se)},Z=re=>{const se=new Tb([re.blob],`photo_${Date.now()}.jpg`,{type:"image/jpeg",lastModified:Date.now()});n&&n([se])},V=re=>{n&&n(re)},U=re=>{const se=`📍 Localisation partagée
Lat: ${re.latitude.toFixed(6)}
Lng: ${re.longitude.toFixed(6)}${re.name?`
Lieu: ${re.name}`:""}`;n&&n([{type:"location",data:re,message:se}])},z=re=>{const se=`📅 Rendez-vous planifié
Titre: ${re.title}
Date: ${new Date(re.date).toLocaleDateString("fr-FR")}
Heure: ${re.time}${re.location?`
Lieu: ${re.location}`:""}${re.description?`
Description: ${re.description}`:""}`;n&&n([{type:"appointment",data:re,message:se}])},H=[{icon:p9,label:"Photo",action:()=>y(!0)},{icon:wd,label:"Caméra",action:()=>v(!0)},{icon:Tb,label:"Document",action:()=>y(!0)},{icon:So,label:"Localisation",action:()=>S(!0)},{icon:ql,label:"Rendez-vous",action:()=>C(!0)},{icon:Da,label:"Appel",action:()=>A(!0)},{icon:WO,label:"Vidéo",action:()=>console.log("Vidéo - Phase 3")}];return a.jsxs("div",{className:"bg-card border-t border-border p-3",children:[f&&a.jsx("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-2",children:H.map((re,se)=>a.jsxs(ue,{variant:"ghost",size:"sm",onClick:re.action,className:"flex flex-col items-center space-y-1 p-2 h-auto",children:[a.jsx(re.icon,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:re.label})]},se))})}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>p(!f),className:"p-2 flex-shrink-0",children:a.jsx(cu,{className:`h-4 w-4 transition-transform ${f?"rotate-45":""}`})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(tt,{ref:T,placeholder:l,value:e,onChange:t,onKeyPress:I,disabled:c,className:"pr-20 resize-none",style:{minHeight:"44px"}}),a.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-6 w-6",children:a.jsx(dde,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:a.jsx(nde,{className:"h-4 w-4"})})]})]}),a.jsx(ue,{onClick:O,disabled:!e.trim()||c,className:"bg-primary hover:bg-primary/90 flex-shrink-0 px-4",children:a.jsx(m_,{className:"h-4 w-4"})})]}),a.jsx("input",{ref:T,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.txt",onChange:q,className:"hidden"}),e&&a.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Appuyez sur Entrée pour envoyer, Shift+Entrée pour une nouvelle ligne"}),a.jsx(jCe,{isOpen:g,onClose:()=>v(!1),onCapture:Z}),a.jsx(SCe,{isOpen:w,onClose:()=>y(!1),onFilesSelected:V}),a.jsx(ACe,{isOpen:_,onClose:()=>S(!1),onLocationSelect:U}),a.jsx(kCe,{isOpen:N,onClose:()=>C(!1),onAppointmentCreate:z}),a.jsx(mJ,{isOpen:k,onClose:()=>A(!1),targetUser:{id:"user123",name:"Utilisateur Test",email:"test@example.com"},currentUser:{id:"currentUser",name:"Moi"},roomId:"room123"})]})},gJ=({size:e="default",className:t=""})=>{const r={sm:"w-8 h-8",default:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"};return a.jsxs("div",{className:`
      relative flex items-center justify-center rounded-full
      bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500
      text-white font-bold shadow-lg
      ${r[e]}
      ${t}
    `,children:[a.jsx(Due,{className:"w-5 h-5"}),a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(UO,{className:"w-3 h-3 text-yellow-300 animate-pulse"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 animate-spin opacity-20"})]})},GEe=new dV({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:1}}}),ZEe=()=>{const{user:e}=yCe(),{toast:t}=Cn(),[r]=Gk(),{data:n,isLoading:i,error:s,refetch:o}=xCe(),l=Fo(),[c,u]=x.useState(null),[f,p]=x.useState([]),[g,v]=x.useState(""),[w,y]=x.useState("all"),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[k,A]=x.useState(""),[T,O]=x.useState(!1),[I,q]=x.useState(null),[Z,V]=x.useState(new Set),[U,z]=x.useState(!1),[H,re]=x.useState(null),[se,W]=x.useState(!1),[Q,Y]=x.useState(null);bCe(c?.id);const ne=ii({mutationFn:me=>xi.deleteConversation(me),onSuccess:()=>{l.invalidateQueries(["conversations"]),t({title:"Conversation supprimée",description:"La conversation a été supprimée définitivement"})},onError:me=>{t({title:"Erreur",description:"Impossible de supprimer la conversation",variant:"destructive"})}});x.useEffect(()=>{if(!n||n.length===0)return;const me=r.get("conversation"),Le=r.get("listing");if(me&&!c){const K=n.find(D=>D.id===me);K&&(console.log("🔍 Ouverture automatique de la conversation:",me),u(K),J(K.id))}else if(Le&&!c){const K=n.find(D=>D.listing_id===Le);K&&(console.log("🔍 Ouverture automatique de la conversation pour l'annonce:",Le),u(K),J(K.id))}},[n,r,c]),x.useEffect(()=>{if(!e)return;const me=Se.channel("conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations",filter:`participant1_id=eq.${e.id} OR participant2_id=eq.${e.id}`},Le=>{console.log("🆕 Nouvelle conversation reçue:",Le),o()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`participant1_id=eq.${e.id} OR participant2_id=eq.${e.id}`},Le=>{console.log("🔄 Conversation mise à jour:",Le),o()}).subscribe();return()=>{Se.removeChannel(me)}},[e,o]),x.useEffect(()=>{if(!e)return;const me=Se.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${e.id}`},Le=>{console.log("💬 Nouveau message reçu:",Le),c&&Le.new.conversation_id===c.id&&p(K=>[...K,Le.new]),o(),Le.new.sender_id!==e.id&&t({title:"Nouveau message",description:"Vous avez reçu un nouveau message"})}).subscribe();return()=>{Se.removeChannel(me)}},[e,c,o,t]);const J=async me=>{if(me){C(!0);try{const Le=await xi.getConversationMessages(me);p(Le),await xi.markMessagesAsRead(me),o()}catch(Le){console.error("Erreur chargement messages:",Le),t({title:"Erreur",description:"Impossible de charger les messages",variant:"destructive"})}finally{C(!1)}}},oe=async me=>{u(me),J(me.id),S(!1);try{await xi.markMessagesAsRead(me.id),o()}catch(Le){console.error("Erreur lors du marquage des messages comme lus:",Le)}},be=async me=>{if(!(!me.trim()||!c))try{const Le=await xi.sendMessage(c.id,me.trim());A(""),p(K=>[...K,Le]),o()}catch(Le){console.error("Erreur envoi message:",Le),t({title:"Erreur",description:"Impossible d'envoyer le message",variant:"destructive"})}},Ce=me=>{console.log("Fichiers sélectionnés:",me)},De=()=>{},ce=()=>{if(!c||!e){t({title:"Erreur",description:"Impossible de déterminer la conversation ou l'utilisateur",variant:"destructive"});return}const me=c.participant1_id===e.id?c.participant2:c.participant1;if(!me||!me.id){t({title:"Erreur",description:"Impossible de déterminer l'interlocuteur",variant:"destructive"});return}console.log("🔍 Initialisation appel avec:",{user:e.id,target:me.id,targetName:me.first_name||me.last_name||"Utilisateur"}),Y(me),W(!0),t({title:"Appel audio",description:`Initialisation de l'appel avec ${me.first_name||me.last_name||"l'utilisateur"}`})},ae=()=>{W(!1),Y(null)},Pe=[...(n?.filter(me=>w==="unread"?me.messages?.some(Le=>!Le.is_read&&Le.sender_id!==e?.id):w==="starred"?me.starred:w==="archived"?me.is_archived:!0)||[]).filter(me=>{if(!g)return!0;const Le=g.toLowerCase(),K=`${me.participant1?.first_name||""} ${me.participant1?.last_name||""}`.toLowerCase(),D=`${me.participant2?.first_name||""} ${me.participant2?.last_name||""}`.toLowerCase();return!!(K.includes(Le)||D.includes(Le)||me.listing?.title?.toLowerCase().includes(Le)||me.messages?.some(F=>F.content?.toLowerCase().includes(Le)))})].sort((me,Le)=>{const K=me.messages?.[me.messages.length-1]?.created_at||me.created_at,D=Le.messages?.[Le.messages.length-1]?.created_at||Le.created_at;return!K&&!D?0:K?D?new Date(D)-new Date(K):-1:1});console.log("🔍 Conversations triées:",Pe.map(me=>({id:me.id,title:me.listing?.title||"Sans titre",lastMessage:me.messages?.[me.messages.length-1]?.created_at||me.created_at,hasUnread:me.messages?.some(Le=>!Le.is_read&&Le.sender_id!==e?.id)})));const ee={total:n?.length||0,unread:n?.filter(me=>me.messages?.some(Le=>!Le.is_read&&Le.sender_id!==e?.id)).length||0,starred:n?.filter(me=>me.starred).length||0,archived:n?.filter(me=>me.is_archived).length||0},G=async me=>{try{await xi.markMessagesAsRead(me.id),o()}catch{t({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},we=async me=>{try{const Le=!me.starred;await xi.toggleConversationStar(me.id,Le),o()}catch{t({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},xe=async me=>{try{await xi.archiveConversation(me.id),o()}catch{t({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},Ve=me=>{c?.id===me.id&&(u(null),p([])),ne.mutate(me.id)},qe=me=>{q(me),O(!0)},Ne=me=>{z(!0),V(new Set([me]))},ot=me=>{U&&V(Le=>{const K=new Set(Le);return K.has(me)?K.delete(me):K.add(me),K})},It=me=>{U&&ot(me)},fe=()=>{V(new Set),z(!1)},_e=()=>{const me=f.map(Le=>Le.id);V(new Set(me))},ke=()=>{const me=f.filter(Le=>Le.sender_id===e?.id).map(Le=>Le.id);V(new Set(me))},Ze=async()=>{if(Z.size!==0)try{const me=Array.from(Z).map(Le=>xi.deleteMessage(Le));await Promise.all(me),p(Le=>Le.filter(K=>!Z.has(K.id))),fe(),t({title:"Messages supprimés",description:`${Z.size} message(s) supprimé(s) avec succès`})}catch{t({title:"Erreur",description:"Impossible de supprimer certains messages",variant:"destructive"})}},Xe=()=>{Z.size};return s?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(es,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.message||"Impossible de charger les conversations"}),a.jsx(ue,{onClick:()=>o(),className:"bg-blue-600 hover:bg-blue-700",children:"Réessayer"})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(wCe,{selectedConversation:c,onBack:()=>u(null),onMenuToggle:()=>S(!_),onSearch:()=>S(!1),onFilter:()=>S(!1),onMore:()=>console.log("Plus d'options"),onCall:ce,onVideo:()=>console.log("Video"),unreadCount:ee.unread}),a.jsx("div",{className:"bg-card border-b border-border px-6 py-4 hidden md:block",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:"Centre de Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations et échangez avec d'autres utilisateurs"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(ue,{className:"bg-primary hover:bg-primary/90",children:[a.jsx(cu,{className:"h-4 w-4 mr-2"}),"Nouvelle Conversation"]})})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-120px)] md:h-[calc(100vh-140px)]",children:[a.jsxs("div",{className:`
          ${c?"hidden md:block":"block"} 
          w-full md:w-80 lg:w-96 
          bg-card border-r border-border 
          flex flex-col
        `,children:[a.jsx(_Ce,{searchTerm:g,onSearchChange:v,filterType:w,onFilterChange:y,onClear:()=>v(""),totalCount:ee.total,unreadCount:ee.unread,starredCount:ee.starred,archivedCount:ee.archived}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:i?a.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((me,Le)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},Le))}):Pe.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(es,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Aucune conversation"}),a.jsx("p",{className:"text-muted-foreground",children:g?"Aucune conversation trouvée pour votre recherche":"Commencez une nouvelle conversation"})]}):a.jsx("div",{className:"space-y-1",children:Pe.map(me=>a.jsx(YEe,{conversation:me,isSelected:c?.id===me.id,onSelect:()=>oe(me),onMarkAsRead:()=>G(me),onToggleStar:()=>we(me),onArchive:()=>xe(me),onDelete:()=>qe(me),currentUserId:e?.id},me.id))})})]}),c?a.jsxs("div",{className:"flex-1 flex flex-col bg-card",children:[a.jsx("div",{className:"border-b border-border p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(fv,{user:c.participant1_id===e?.id?c.participant2:c.participant1,size:"default"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:(()=>{const me=c.participant1_id===e?.id?c.participant2:c.participant1;return me&&`${me.first_name||""} ${me.last_name||""}`.trim()||"Utilisateur"})()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c.listing?.title||"Conversation"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:ce,children:a.jsx(Da,{className:"h-4 w-4"})}),a.jsxs(ky,{children:[a.jsx(Oy,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(Ud,{className:"h-4 w-4"})})}),a.jsxs($p,{align:"end",className:"w-48",children:[a.jsxs(_n,{onClick:()=>we(c),children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),c.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(_n,{onClick:()=>xe(c),children:[a.jsx(h_,{className:"h-4 w-4 mr-2"}),c.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Fp,{}),a.jsxs(_n,{onClick:()=>qe(c),className:"text-destructive focus:text-destructive",children:[a.jsx(ko,{className:"h-4 w-4 mr-2"}),"Supprimer la conversation"]})]})]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[U&&a.jsx("div",{className:"sticky top-0 bg-card border border-border rounded-lg p-3 mb-4 shadow-sm z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-sm font-medium text-foreground",children:[Z.size," message(s) sélectionné(s)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:_e,className:"text-xs",children:"Tout sélectionner"}),a.jsx(ue,{variant:"outline",size:"sm",onClick:ke,className:"text-xs",children:"Mes messages"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:fe,className:"text-xs",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",size:"sm",onClick:Xe,className:"text-xs",disabled:Z.size===0,children:["Supprimer (",Z.size,")"]})]})]})}),!U&&f.length>0&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground mb-4 p-2 bg-muted/30 rounded-lg",children:["💡 ",a.jsx("strong",{children:"Appui long"})," sur un message pour activer la sélection multiple"]}),N?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):f.length===0?a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucun message dans cette conversation"})}):f.map(me=>a.jsx(XEe,{message:me,isOwn:me.sender_id===e?.id,participant1:c.participant1,participant2:c.participant2,currentUserId:e?.id,onLongPress:()=>Ne(me.id),onPress:()=>It(me.id),isSelected:Z.has(me.id),isSelectionMode:U},me.id))]}),a.jsx(KEe,{value:k,onChange:me=>A(me.target.value),onSend:be,onAttachment:Ce,onEmoji:De,onVoice:()=>console.log("Voice message"),onCamera:()=>console.log("Camera"),placeholder:"Tapez votre message...",disabled:N})]}):a.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(es,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-card-foreground mb-2",children:"Sélectionnez une conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choisissez une conversation dans la liste pour commencer à échanger"})]})})]}),T&&I&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Êtes-vous sûr de vouloir supprimer définitivement cette conversation ? Cette action ne peut pas être annulée."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Annuler"}),a.jsx(ue,{variant:"destructive",onClick:()=>{Ve(I),O(!1),q(null)},className:"flex-1",disabled:ne.isLoading,children:ne.isLoading?"Suppression...":"Supprimer"})]})]})}),U&&Z.size>0&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Êtes-vous sûr de vouloir supprimer définitivement ",Z.size," message(s) ? Cette action ne peut pas être annulée."]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:fe,className:"flex-1",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",onClick:Ze,className:"flex-1",children:["Supprimer (",Z.size,")"]})]})]})}),se&&Q&&a.jsx(mJ,{isOpen:se,onClose:ae,targetUser:Q,currentUser:e,roomId:`call-${e?.id}-${Q.id}`})]})},YEe=({conversation:e,isSelected:t,onSelect:r,onMarkAsRead:n,onToggleStar:i,onArchive:s,onDelete:o,currentUserId:l})=>{const c=e.messages?.[e.messages.length-1],u=e.messages?.some(v=>!v.is_read&&v.sender_id!==l),f=e.participant1_id===l?e.participant2:e.participant1,p=e.participant1_id==="00000000-0000-0000-0000-000000000000"||e.participant2_id==="00000000-0000-0000-0000-000000000000",g=v=>{if(!v)return"À l'instant";try{const w=new Date(v),y=new Date,_=Math.floor((y-w)/(1e3*60*60)),S=Math.floor((y-w)/(1e3*60*60*24));return _<1?"À l'instant":_<24?`Il y a ${_}h`:S<7?`Il y a ${S}j`:w.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}};return a.jsxs("div",{className:`
        group p-4 cursor-pointer transition-colors hover:bg-accent relative
        ${t?"bg-primary/10 border-r-2 border-primary":""}
        ${u?"bg-primary/10":""}
        ${p?"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500":""}
      `,onClick:r,children:[p&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-2 py-1 rounded-full font-medium shadow-sm",children:"🤖 Assistant"})}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsxs("div",{className:"relative",children:[p?a.jsx(gJ,{size:"default",className:"flex-shrink-0"}):a.jsx(fv,{user:f,size:"default",className:"flex-shrink-0"}),u&&a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:p?"Assistant MaxiMarket":f&&`${f.first_name||""} ${f.last_name||""}`.trim()||"Utilisateur"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e.starred&&a.jsx(Ha,{className:"h-3 w-3 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c?.created_at?g(c.created_at):"À l'instant"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate mb-1",children:c?.content||"Aucun message"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:p?"Support et assistance":e.listing?.title||"Conversation"}),a.jsx("div",{className:"flex items-center space-x-1",children:u&&a.jsx(yt,{variant:"destructive",className:"h-5 px-2 text-xs",children:"Nouveau"})})]})]}),a.jsx("div",{className:"flex-shrink-0",onClick:v=>v.stopPropagation(),children:a.jsxs(ky,{children:[a.jsx(Oy,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Ud,{className:"h-4 w-4"})})}),a.jsxs($p,{align:"end",className:"w-48",children:[a.jsxs(_n,{onClick:()=>n?.(e),children:[a.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Marquer comme lu"]}),a.jsxs(_n,{onClick:()=>i?.(e),children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),e.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(_n,{onClick:()=>s?.(e),children:[a.jsx(h_,{className:"h-4 w-4 mr-2"}),e.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Fp,{}),a.jsxs(_n,{onClick:()=>o?.(e),className:"text-destructive focus:text-destructive",children:[a.jsx(ko,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]})]})},XEe=({message:e,isOwn:t,participant1:r,participant2:n,currentUserId:i,onLongPress:s,onPress:o,isSelected:l=!1,isSelectionMode:c=!1})=>{const[u,f]=x.useState(null),p=e.sender_id==="00000000-0000-0000-0000-000000000000",g=S=>{if(!S)return"À l'instant";try{return new Date(S).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch{return"À l'instant"}},v=e.sender_id===r?.id?r:n,w=()=>{if(s){const S=setTimeout(()=>{s()},500);f(S)}},y=()=>{u&&(clearTimeout(u),f(null))},_=()=>{o&&o()};return a.jsxs("div",{className:`flex ${t?"justify-end":"justify-start"} space-x-2`,onTouchStart:w,onTouchEnd:y,onClick:_,children:[!t&&(p?a.jsx(gJ,{size:"sm",className:"flex-shrink-0 mt-1"}):a.jsx(fv,{user:v,size:"sm",className:"flex-shrink-0 mt-1"})),a.jsxs("div",{className:`
        relative max-w-xs lg:max-w-md px-4 py-2 rounded-lg cursor-pointer
        transition-all duration-200
        ${t?"bg-primary text-primary-foreground":p?"bg-gradient-to-r from-blue-100 to-purple-100 text-gray-800 border border-blue-200":"bg-muted text-muted-foreground"}
        ${l?"ring-2 ring-primary ring-offset-2":""}
        ${c?"hover:ring-2 hover:ring-primary/50":""}
      `,children:[l&&a.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-foreground text-xs",children:"✓"})}),a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!t&&a.jsx("span",{className:`text-xs font-medium ${p?"text-blue-600":""}`,children:p?"🤖 Assistant MaxiMarket":v&&`${v.first_name||""} ${v.last_name||""}`.trim()||"Utilisateur"}),a.jsx("span",{className:"text-xs opacity-75",children:g(e.created_at)})]}),a.jsx("p",{className:"text-sm",children:e.content})]}),t&&a.jsx(fv,{user:{first_name:"Moi",last_name:""},size:"sm",className:"flex-shrink-0 mt-1"})]})},JEe=()=>a.jsx(pV,{client:GEe,children:a.jsx(ZEe,{})}),e1=(e=null,t={})=>{const r=Fo(),{user:n}=Or(),[i,s]=x.useState(new Set);x.useEffect(()=>{n&&o()},[n]);const o=async()=>{try{const k=await Sl.getUserFavoritesWithStatus();s(k)}catch(k){console.error("Erreur lors du chargement des favoris:",k)}},{data:l,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:f,isLoading:p,error:g,refetch:v}=Xne({queryKey:["listings",e,t],queryFn:({pageParam:k=0})=>{const A={status:"approved",category:e,search:t.search,minPrice:t.minPrice,maxPrice:t.maxPrice,location:t.location,page:k,limit:12,...t};return Hr.getAllListings(A)},getNextPageParam:(k,A)=>k.hasMore?A.length:void 0,staleTime:_$.listings.staleTime,gcTime:_$.listings.gcTime,keepPreviousData:!0}),w=ii({mutationFn:k=>{if(!n)throw new Error("Vous devez être connecté pour créer une annonce");return Hr.createListing({...k,user_id:n.id,status:"pending"})},onSuccess:()=>{r.invalidateQueries(["listings"])}}),y=ii({mutationFn:({id:k,updates:A})=>Hr.updateListing(k,A),onSuccess:(k,A)=>{r.setQueryData(["listings"],T=>T&&{...T,pages:T.pages.map(O=>({...O,data:O.data.map(I=>I.id===A.id?{...I,...A.updates}:I)}))})}}),_=ii({mutationFn:k=>Hr.deleteListing(k),onSuccess:(k,A)=>{r.setQueryData(["listings"],T=>T&&{...T,pages:T.pages.map(O=>({...O,data:O.data.filter(I=>I.id!==A)}))})}}),S=ii({mutationFn:async k=>{if(!n)throw new Error("Vous devez être connecté pour ajouter aux favoris");const A=await Sl.toggleFavorite(k);return s(T=>{const O=new Set(T);return A.is_favorite?O.add(k):O.delete(k),O}),A},onSuccess:(k,A)=>{r.setQueryData(["listings"],T=>T&&{...T,pages:T.pages.map(O=>({...O,data:O.data.map(I=>I.id===A?{...I,is_favorite:k.is_favorite}:I)}))}),r.invalidateQueries(["favorites"]),r.invalidateQueries(["userStats"])},onError:(k,A)=>{s(T=>{const O=new Set(T);return i.has(A)?O.delete(A):O.add(A),O}),console.error("Erreur lors du basculement des favoris:",k)}}),N=k=>i.has(k);return{listings:(l?.pages.flatMap(A=>A.data)||[]).map(A=>({...A,is_favorite:i.has(A.id)})),loading:p,error:g,hasMore:u,isFetchingMore:f,loadMore:c,refresh:v,createListing:w.mutate,updateListing:y.mutate,deleteListing:_.mutate,toggleFavorite:S.mutate,isCreating:w.isLoading,isUpdating:y.isLoading,isDeleting:_.isLoading,isTogglingFavorite:S.isLoading,isFavorite:N,favoriteIds:i,loadUserFavorites:o}},QEe=()=>{const{user:e}=Or(),t=Fo(),[r,n]=x.useState(new Set),{data:i,isLoading:s,error:o,refetch:l}=Gn({queryKey:["favorites",e?.id],queryFn:()=>Sl.getUserFavorites(),enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:c,isLoading:u,error:f}=Gn({queryKey:["favoriteIds",e?.id],queryFn:()=>Sl.getUserFavoritesWithStatus(),enabled:!!e,staleTime:2*60*1e3,gcTime:5*60*1e3});x.useEffect(()=>{c&&n(c)},[c]);const p=ii({mutationFn:async S=>{if(!e)throw new Error("Vous devez être connecté pour ajouter aux favoris");return{...await Sl.toggleFavorite(S),listingId:S}},onMutate:async S=>{await t.cancelQueries(["favorites",e?.id]),await t.cancelQueries(["favoriteIds",e?.id]);const N=t.getQueryData(["favorites",e?.id]),C=t.getQueryData(["favoriteIds",e?.id]),k=new Set(r);return k.has(S)?k.delete(S):k.add(S),n(k),t.setQueryData(["favoriteIds",e?.id],k),{previousFavorites:N,previousIds:C,listingId:S}},onSuccess:(S,N)=>{t.invalidateQueries(["favorites",e?.id]),t.invalidateQueries(["favoriteIds",e?.id]),t.invalidateQueries(["listings"]),t.invalidateQueries(["userStats"])},onError:(S,N,C)=>{C?.previousIds&&(n(C.previousIds),t.setQueryData(["favoriteIds",e?.id],C.previousIds)),console.error("Erreur lors du basculement des favoris:",S)}}),g=S=>r.has(S),v=S=>{p.mutate(S)},w=S=>{g(S)||v(S)},y=S=>{g(S)&&v(S)},_=()=>{l()};return{favorites:i||[],favoriteIds:r,isLoading:s||u,error:o||f,isToggling:p.isLoading,isFavorite:g,toggleFavorite:v,addToFavorites:w,removeFromFavorites:y,refreshFavorites:_,totalFavorites:i?.length||0,toggleFavoriteMutation:p}};var ePe=e=>{switch(e){case"success":return nPe;case"info":return sPe;case"warning":return iPe;case"error":return aPe;default:return null}},tPe=Array(12).fill(0),rPe=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},tPe.map((r,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nPe=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iPe=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sPe=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aPe=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oPe=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lPe=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},CA=1,cPe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:CA++,s=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],X.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(dPe(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||CA++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yi=new cPe,uPe=(e,t)=>{let r=t?.id||CA++;return Yi.addToast({title:e,...t,id:r}),r},dPe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fPe=uPe,hPe=()=>Yi.toasts,pPe=()=>Yi.getActiveToasts(),MN=Object.assign(fPe,{success:Yi.success,info:Yi.info,warning:Yi.warning,error:Yi.error,custom:Yi.custom,message:Yi.message,promise:Yi.promise,dismiss:Yi.dismiss,loading:Yi.loading},{getHistory:hPe,getToasts:pPe});function mPe(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}mPe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function F0(e){return e.label!==void 0}var gPe=3,vPe="32px",yPe="16px",G3=4e3,xPe=356,bPe=14,wPe=20,_Pe=200;function ja(...e){return e.filter(Boolean).join(" ")}function jPe(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var SPe=e=>{var t,r,n,i,s,o,l,c,u,f,p;let{invert:g,toast:v,unstyled:w,interacting:y,setHeights:_,visibleToasts:S,heights:N,index:C,toasts:k,expanded:A,removeToast:T,defaultRichColors:O,closeButton:I,style:q,cancelButtonStyle:Z,actionButtonStyle:V,className:U="",descriptionClassName:z="",duration:H,position:re,gap:se,loadingIcon:W,expandByDefault:Q,classNames:Y,icons:ne,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:oe}=e,[be,Ce]=X.useState(null),[De,ce]=X.useState(null),[ae,ge]=X.useState(!1),[he,Pe]=X.useState(!1),[ee,G]=X.useState(!1),[we,xe]=X.useState(!1),[Ve,qe]=X.useState(!1),[Ne,ot]=X.useState(0),[It,fe]=X.useState(0),_e=X.useRef(v.duration||H||G3),ke=X.useRef(null),Ze=X.useRef(null),Xe=C===0,me=C+1<=S,Le=v.type,K=v.dismissible!==!1,D=v.className||"",F=v.descriptionClassName||"",le=X.useMemo(()=>N.findIndex(Nt=>Nt.toastId===v.id)||0,[N,v.id]),ye=X.useMemo(()=>{var Nt;return(Nt=v.closeButton)!=null?Nt:I},[v.closeButton,I]),Oe=X.useMemo(()=>v.duration||H||G3,[v.duration,H]),$e=X.useRef(0),vt=X.useRef(0),ar=X.useRef(0),Bt=X.useRef(null),[Yt,Wt]=re.split("-"),Gl=X.useMemo(()=>N.reduce((Nt,tr,xr)=>xr>=le?Nt:Nt+tr.height,0),[N,le]),qo=lPe(),da=v.invert||g,as=Le==="loading";vt.current=X.useMemo(()=>le*se+Gl,[le,Gl]),X.useEffect(()=>{_e.current=Oe},[Oe]),X.useEffect(()=>{ge(!0)},[]),X.useEffect(()=>{let Nt=Ze.current;if(Nt){let tr=Nt.getBoundingClientRect().height;return fe(tr),_(xr=>[{toastId:v.id,height:tr,position:v.position},...xr]),()=>_(xr=>xr.filter(Jn=>Jn.toastId!==v.id))}},[_,v.id]),X.useLayoutEffect(()=>{if(!ae)return;let Nt=Ze.current,tr=Nt.style.height;Nt.style.height="auto";let xr=Nt.getBoundingClientRect().height;Nt.style.height=tr,fe(xr),_(Jn=>Jn.find(zn=>zn.toastId===v.id)?Jn.map(zn=>zn.toastId===v.id?{...zn,height:xr}:zn):[{toastId:v.id,height:xr,position:v.position},...Jn])},[ae,v.title,v.description,_,v.id]);let os=X.useCallback(()=>{Pe(!0),ot(vt.current),_(Nt=>Nt.filter(tr=>tr.toastId!==v.id)),setTimeout(()=>{T(v)},_Pe)},[v,T,_,vt]);X.useEffect(()=>{if(v.promise&&Le==="loading"||v.duration===1/0||v.type==="loading")return;let Nt;return A||y||oe&&qo?(()=>{if(ar.current<$e.current){let tr=new Date().getTime()-$e.current;_e.current=_e.current-tr}ar.current=new Date().getTime()})():_e.current!==1/0&&($e.current=new Date().getTime(),Nt=setTimeout(()=>{var tr;(tr=v.onAutoClose)==null||tr.call(v,v),os()},_e.current)),()=>clearTimeout(Nt)},[A,y,v,Le,oe,qo,os]),X.useEffect(()=>{v.delete&&os()},[os,v.delete]);function sf(){var Nt,tr,xr;return ne!=null&&ne.loading?X.createElement("div",{className:ja(Y?.loader,(Nt=v?.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":Le==="loading"},ne.loading):W?X.createElement("div",{className:ja(Y?.loader,(tr=v?.classNames)==null?void 0:tr.loader,"sonner-loader"),"data-visible":Le==="loading"},W):X.createElement(rPe,{className:ja(Y?.loader,(xr=v?.classNames)==null?void 0:xr.loader),visible:Le==="loading"})}return X.createElement("li",{tabIndex:0,ref:Ze,className:ja(U,D,Y?.toast,(t=v?.classNames)==null?void 0:t.toast,Y?.default,Y?.[Le],(r=v?.classNames)==null?void 0:r[Le]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:O,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":ae,"data-promise":!!v.promise,"data-swiped":Ve,"data-removed":he,"data-visible":me,"data-y-position":Yt,"data-x-position":Wt,"data-index":C,"data-front":Xe,"data-swiping":ee,"data-dismissible":K,"data-type":Le,"data-invert":da,"data-swipe-out":we,"data-swipe-direction":De,"data-expanded":!!(A||Q&&ae),style:{"--index":C,"--toasts-before":C,"--z-index":k.length-C,"--offset":`${he?Ne:vt.current}px`,"--initial-height":Q?"auto":`${It}px`,...q,...v.style},onDragEnd:()=>{G(!1),Ce(null),Bt.current=null},onPointerDown:Nt=>{as||!K||(ke.current=new Date,ot(vt.current),Nt.target.setPointerCapture(Nt.pointerId),Nt.target.tagName!=="BUTTON"&&(G(!0),Bt.current={x:Nt.clientX,y:Nt.clientY}))},onPointerUp:()=>{var Nt,tr,xr,Jn;if(we||!K)return;Bt.current=null;let zn=Number(((Nt=Ze.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ai=Number(((tr=Ze.current)==null?void 0:tr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ls=new Date().getTime()-((xr=ke.current)==null?void 0:xr.getTime()),En=be==="x"?zn:ai,Ls=Math.abs(En)/ls;if(Math.abs(En)>=wPe||Ls>.11){ot(vt.current),(Jn=v.onDismiss)==null||Jn.call(v,v),ce(be==="x"?zn>0?"right":"left":ai>0?"down":"up"),os(),xe(!0),qe(!1);return}G(!1),Ce(null)},onPointerMove:Nt=>{var tr,xr,Jn,zn;if(!Bt.current||!K||((tr=window.getSelection())==null?void 0:tr.toString().length)>0)return;let ai=Nt.clientY-Bt.current.y,ls=Nt.clientX-Bt.current.x,En=(xr=e.swipeDirections)!=null?xr:jPe(re);!be&&(Math.abs(ls)>1||Math.abs(ai)>1)&&Ce(Math.abs(ls)>Math.abs(ai)?"x":"y");let Ls={x:0,y:0};be==="y"?(En.includes("top")||En.includes("bottom"))&&(En.includes("top")&&ai<0||En.includes("bottom")&&ai>0)&&(Ls.y=ai):be==="x"&&(En.includes("left")||En.includes("right"))&&(En.includes("left")&&ls<0||En.includes("right")&&ls>0)&&(Ls.x=ls),(Math.abs(Ls.x)>0||Math.abs(Ls.y)>0)&&qe(!0),(Jn=Ze.current)==null||Jn.style.setProperty("--swipe-amount-x",`${Ls.x}px`),(zn=Ze.current)==null||zn.style.setProperty("--swipe-amount-y",`${Ls.y}px`)}},ye&&!v.jsx?X.createElement("button",{"aria-label":J,"data-disabled":as,"data-close-button":!0,onClick:as||!K?()=>{}:()=>{var Nt;os(),(Nt=v.onDismiss)==null||Nt.call(v,v)},className:ja(Y?.closeButton,(i=v?.classNames)==null?void 0:i.closeButton)},(s=ne?.close)!=null?s:oPe):null,v.jsx||x.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:X.createElement(X.Fragment,null,Le||v.icon||v.promise?X.createElement("div",{"data-icon":"",className:ja(Y?.icon,(o=v?.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||sf():null,v.type!=="loading"?v.icon||ne?.[Le]||ePe(Le):null):null,X.createElement("div",{"data-content":"",className:ja(Y?.content,(l=v?.classNames)==null?void 0:l.content)},X.createElement("div",{"data-title":"",className:ja(Y?.title,(c=v?.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?X.createElement("div",{"data-description":"",className:ja(z,F,Y?.description,(u=v?.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),x.isValidElement(v.cancel)?v.cancel:v.cancel&&F0(v.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||Z,onClick:Nt=>{var tr,xr;F0(v.cancel)&&K&&((xr=(tr=v.cancel).onClick)==null||xr.call(tr,Nt),os())},className:ja(Y?.cancelButton,(f=v?.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,x.isValidElement(v.action)?v.action:v.action&&F0(v.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||V,onClick:Nt=>{var tr,xr;F0(v.action)&&((xr=(tr=v.action).onClick)==null||xr.call(tr,Nt),!Nt.defaultPrevented&&os())},className:ja(Y?.actionButton,(p=v?.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function Z3(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function NPe(e,t){let r={};return[e,t].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?yPe:vPe;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:p,duration:g,style:v,visibleToasts:w=gPe,toastOptions:y,dir:_=Z3(),gap:S=bPe,loadingIcon:N,icons:C,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:A}=e,[T,O]=X.useState([]),I=X.useMemo(()=>Array.from(new Set([n].concat(T.filter(oe=>oe.position).map(oe=>oe.position)))),[T,n]),[q,Z]=X.useState([]),[V,U]=X.useState(!1),[z,H]=X.useState(!1),[re,se]=X.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=X.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=X.useRef(null),ne=X.useRef(!1),J=X.useCallback(oe=>{O(be=>{var Ce;return(Ce=be.find(De=>De.id===oe.id))!=null&&Ce.delete||Yi.dismiss(oe.id),be.filter(({id:De})=>De!==oe.id)})},[]);return X.useEffect(()=>Yi.subscribe(oe=>{if(oe.dismiss){O(be=>be.map(Ce=>Ce.id===oe.id?{...Ce,delete:!0}:Ce));return}setTimeout(()=>{r_.flushSync(()=>{O(be=>{let Ce=be.findIndex(De=>De.id===oe.id);return Ce!==-1?[...be.slice(0,Ce),{...be[Ce],...oe},...be.slice(Ce+1)]:[oe,...be]})})})}),[]),X.useEffect(()=>{if(f!=="system"){se(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:be})=>{se(be?"dark":"light")})}catch{oe.addListener(({matches:Ce})=>{try{se(Ce?"dark":"light")}catch(De){console.error(De)}})}},[f]),X.useEffect(()=>{T.length<=1&&U(!1)},[T]),X.useEffect(()=>{let oe=be=>{var Ce,De;i.every(ce=>be[ce]||be.code===ce)&&(U(!0),(Ce=W.current)==null||Ce.focus()),be.code==="Escape"&&(document.activeElement===W.current||(De=W.current)!=null&&De.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[i]),X.useEffect(()=>{if(W.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,ne.current=!1)}},[W.current]),X.createElement("section",{ref:t,"aria-label":`${k} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((oe,be)=>{var Ce;let[De,ce]=oe.split("-");return T.length?X.createElement("ol",{key:oe,dir:_==="auto"?Z3():_,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":De,"data-lifted":V&&T.length>1&&!s,"data-x-position":ce,style:{"--front-toast-height":`${((Ce=q[0])==null?void 0:Ce.height)||0}px`,"--width":`${xPe}px`,"--gap":`${S}px`,...v,...NPe(c,u)},onBlur:ae=>{ne.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(ne.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,Y.current=ae.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{z||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},T.filter(ae=>!ae.position&&be===0||ae.position===oe).map((ae,ge)=>{var he,Pe;return X.createElement(SPe,{key:ae.id,icons:C,index:ge,toast:ae,defaultRichColors:p,duration:(he=y?.duration)!=null?he:g,className:y?.className,descriptionClassName:y?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Pe=y?.closeButton)!=null?Pe:o,interacting:z,position:oe,style:y?.style,unstyled:y?.unstyled,classNames:y?.classNames,cancelButtonStyle:y?.cancelButtonStyle,actionButtonStyle:y?.actionButtonStyle,removeToast:J,toasts:T.filter(ee=>ee.position==ae.position),heights:q.filter(ee=>ee.position==ae.position),setHeights:Z,expandByDefault:s,gap:S,loadingIcon:N,expanded:V,pauseWhenPageIsHidden:A,swipeDirections:e.swipeDirections})})):null}))});const CPe=(e,t)=>{const[r,n]=x.useState(new Set),[i,s]=x.useState(new Map),o=x.useRef(new Map);x.useEffect(()=>()=>{o.current.forEach(f=>f.abort()),o.current.clear()},[]),x.useEffect(()=>{if(!e||e.length===0)return;[e[t],e[(t+1)%e.length],e[(t-1+e.length)%e.length],e[(t+2)%e.length],e[(t-2+e.length)%e.length]].filter(Boolean).forEach((p,g)=>{if(p&&!r.has(p)&&!i.has(p)){o.current.has(p)&&o.current.get(p).abort();const v=new AbortController;o.current.set(p,v),s(y=>new Map(y).set(p,"loading"));const w=new Image;w.onload=()=>{n(y=>new Set([...y,p])),s(y=>{const _=new Map(y);return _.set(p,"loaded"),_}),o.current.delete(p)},w.onerror=()=>{s(y=>{const _=new Map(y);return _.set(p,"error"),_}),o.current.delete(p)},w.src=p}})},[t,e]);const l=x.useCallback(f=>r.has(f),[r]),c=x.useCallback(f=>i.get(f)||"idle",[i]),u=x.useCallback(f=>{if(f&&!r.has(f)&&!i.has(f)){const p=new AbortController;o.current.set(f,p),s(v=>new Map(v).set(f,"loading"));const g=new Image;g.onload=()=>{n(v=>new Set([...v,f])),s(v=>{const w=new Map(v);return w.set(f,"loaded"),w}),o.current.delete(f)},g.onerror=()=>{s(v=>{const w=new Map(v);return w.set(f,"error"),w}),o.current.delete(f)},g.src=f}},[r,i]);return{preloadedImages:r,loadingStates:i,isImagePreloaded:l,getImageLoadingState:c,preloadImage:u}},vJ=e=>{const t=x.useMemo(()=>{if(e?.images&&e.images.length>0){const l=e.images.map(c=>typeof c=="string"?c:c?.url?c.url:c?.file?URL.createObjectURL(c.file):c?.src?c.src:c?.displayUrl?c.displayUrl:null).filter(Boolean);if(l.length>0)return l}const i={real_estate:["https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop"],automobile:["https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop"],services:["https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],marketplace:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742044-3c52d6e88c62?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop"]};let s=e?.category;s&&(s={immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[s.toLowerCase()]||s);const o=i[s]||i.marketplace;return sye(o,"gallery","medium")},[e?.images,e?.category]),r=x.useMemo(()=>t[0],[t]),n=x.useMemo(()=>t.length>1,[t]);return{images:t,mainImage:r,hasMultipleImages:n,imageCount:t.length}},EPe=(e={})=>{const{onSwipeLeft:t,onSwipeRight:r,onSwipeUp:n,onSwipeDown:i,onPinch:s,onDoubleTap:o,minSwipeDistance:l=50,minPinchDistance:c=10,doubleTapDelay:u=300}=e,[f,p]=x.useState({startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}),g=x.useRef(null),v=x.useRef(null),w=x.useRef(0),y=x.useCallback((O,I)=>Math.hypot(O.clientX-I.clientX,O.clientY-I.clientY),[]),_=x.useCallback((O,I)=>Math.atan2(I.clientY-O.clientY,I.clientX-O.clientX)*180/Math.PI,[]),S=x.useCallback(O=>{const I=Date.now(),q=Array.from(O.touches);if(q.length===2){const Z=y(q[0],q[1]),V=_(q[0],q[1]);p(U=>({...U,startDistance:Z,startAngle:V,isPinching:!0,startTime:I}))}else if(q.length===1){const Z=q[0];if(I-w.current<u){p(U=>({...U,isDoubleTap:!0})),o?.(Z),setTimeout(()=>{p(U=>({...U,isDoubleTap:!1}))},100);return}w.current=I,p(U=>({...U,startX:Z.clientX,startY:Z.clientY,startTime:I,isPinching:!1}))}},[y,_,o,u]),N=x.useCallback(O=>{O.preventDefault();const I=Array.from(O.touches);if(f.isPinching&&I.length===2){const q=y(I[0],I[1]),Z=_(I[0],I[1]),V=q-f.startDistance,U=Z-f.startAngle;if(Math.abs(V)>c){const z=q/f.startDistance;s?.({scale:z,distanceDelta:V,angleDelta:U,center:{x:(I[0].clientX+I[1].clientX)/2,y:(I[0].clientY+I[1].clientY)/2}})}}},[f,y,_,c,s]),C=x.useCallback(O=>{const I=Array.from(O.changedTouches);if(f.isPinching){p(q=>({...q,isPinching:!1}));return}if(I.length===1&&!f.isDoubleTap){const q=I[0],Z=q.clientX-f.startX,V=q.clientY-f.startY,U=Date.now()-f.startTime,z=Math.hypot(Z,V),H=z/U;z>l&&H>.3&&(Math.abs(Z)>Math.abs(V)?Z>0?r?.({deltaX:Z,deltaY:V,velocity:H,distance:z}):t?.({deltaX:Z,deltaY:V,velocity:H,distance:z}):V>0?i?.({deltaX:Z,deltaY:V,velocity:H,distance:z}):n?.({deltaX:Z,deltaY:V,velocity:H,distance:z}))}p(q=>({...q,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1}))},[f,l,t,r,n,i]),k=x.useCallback(()=>{p(O=>({...O,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}))},[]),A=x.useCallback(()=>{g.current&&clearTimeout(g.current),v.current&&clearTimeout(v.current)},[]);return{touchHandlers:{onTouchStart:S,onTouchMove:N,onTouchEnd:C,onTouchCancel:k},touchState:f,cleanup:A}},PPe=(e,t,r)=>{const[n,i]=x.useState(1),[s,o]=x.useState(!1),l=x.useCallback(({scale:g})=>{const v=Math.max(.5,Math.min(3,g));i(v),o(!0),r?.(v)},[r]),c=x.useCallback(()=>{n<=1&&e?.()},[e,n]),u=x.useCallback(()=>{n<=1&&t?.()},[t,n]),{touchHandlers:f}=EPe({onSwipeLeft:c,onSwipeRight:u,onPinch:l,minSwipeDistance:30}),p=x.useCallback(()=>{i(1),o(!1),r?.(1)},[r]);return{touchHandlers:f,zoomLevel:n,isZooming:s,resetZoom:p}},TPe=({listingId:e,listing:t,size:r="default",showActions:n=!0,className:i=""})=>{const{user:s}=Or(),o=Fn(),{toast:l}=Cn(),[c,u]=x.useState(null),[f,p]=x.useState(!1),[g,v]=x.useState(!1);x.useEffect(()=>{e&&s&&w()},[e,s]);const w=async()=>{try{p(!0);const O=await ES.getBoostStatus(e);u(O)}catch(O){console.error("Erreur chargement statut boost:",O)}finally{p(!1)}},y=async()=>{if(c?.currentBoost)try{v(!0),(await ES.renewBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost renouvelé !",description:"Votre boost a été prolongé avec succès."}),w())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors du renouvellement",variant:"destructive"})}finally{v(!1)}},_=async()=>{if(c?.currentBoost&&confirm("Êtes-vous sûr de vouloir annuler ce boost ?"))try{v(!0),(await ES.cancelBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost annulé",description:"Votre boost a été annulé avec succès."}),w())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors de l'annulation",variant:"destructive"})}finally{v(!1)}},S=()=>{if(!c?.hasActiveBoost)return{icon:a.jsx(b9,{className:"h-4 w-4"}),label:"Non boosté",color:"secondary",description:"Aucun boost actif"};const O=c.currentBoost,I=new Date,q=new Date(O.end_date),Z=Math.ceil((q-I)/(1e3*60*60*24));return Z<=0?{icon:a.jsx(Wa,{className:"h-4 w-4"}),label:"Expiré",color:"secondary",description:"Boost expiré"}:Z<=3?{icon:a.jsx(Wa,{className:"h-4 w-4"}),label:`${Z}j restant${Z>1?"s":""}`,color:"destructive",description:"Boost expire bientôt"}:Z<=7?{icon:a.jsx(La,{className:"h-4 w-4"}),label:`${Z}j restant${Z>1?"s":""}`,color:"default",description:"Boost actif"}:{icon:a.jsx(Li,{className:"h-4 w-4"}),label:`${Z}j restant${Z>1?"s":""}`,color:"default",description:"Boost actif"}},N=O=>{switch(O){case"small":return"text-xs px-2 py-1";case"large":return"text-sm px-3 py-1.5";default:return"text-xs px-2.5 py-1"}},C=O=>{switch(O){case"small":return"h-3 w-3";case"large":return"h-5 w-5";default:return"h-4 w-4"}},k=S(),A=N(r),T=C(r);return!s||!t||s.id!==t.user_id?null:a.jsx(yh,{children:a.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(yt,{variant:k.color,className:`${A} cursor-help transition-all duration-200 hover:scale-105`,children:a.jsxs("div",{className:"flex items-center gap-1",children:[k.icon,a.jsx("span",{className:"hidden sm:inline",children:k.label})]})})}),a.jsxs(Ma,{children:[a.jsx("p",{children:k.description}),c?.hasActiveBoost&&c.currentBoost&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Package: ",c.currentBoost.boost_packages?.name]})]})]}),n&&c?.hasActiveBoost&&c.currentBoost&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{onClick:y,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(Vd,{className:`${T} text-primary`})})}),a.jsx(Ma,{children:a.jsx("p",{children:"Renouveler le boost"})})]}),a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{onClick:_,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10",children:a.jsx(zO,{className:`${T} text-destructive`})})}),a.jsx(Ma,{children:a.jsx("p",{children:"Annuler le boost"})})]}),a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${e}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-500/10",children:a.jsx($g,{className:`${T} text-blue-500`})})}),a.jsx(Ma,{children:a.jsx("p",{children:"Voir les détails et analytics"})})]})]}),n&&!c?.hasActiveBoost&&a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${e}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(La,{className:`${T} text-primary`})})}),a.jsx(Ma,{children:a.jsx("p",{children:"Booster cette annonce"})})]}),f&&a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),g&&a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"})]})})},hu=({listing:e,onToggleFavorite:t,showActions:r=!0})=>{const{user:n}=Or(),i=Fn(),{images:s}=vJ(e),[o,l]=x.useState(e.is_favorite||!1),[c,u]=x.useState(!1),f=S=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),p=S=>new Date(S).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}),g=S=>{switch(S){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},v=S=>{switch(S){case"approved":return a.jsx(yt,{variant:"default",className:"badge-approved",children:"Approuvé"});case"pending":return a.jsx(yt,{variant:"secondary",children:"En attente"});case"rejected":return a.jsx(yt,{variant:"destructive",children:"Rejeté"});default:return a.jsx(yt,{variant:"outline",children:S})}},w=async S=>{if(S.stopPropagation(),!n){i("/connexion");return}if(!c)try{u(!0),l(!o),t&&await t(e.id)}catch(N){l(!o),console.error("Erreur lors du basculement des favoris:",N)}finally{u(!1)}},y=()=>{e.id&&i(`/annonce/${e.id}`)};X.useEffect(()=>{l(e.is_favorite||!1)},[e.is_favorite]);const _=e.featured||e.boosted||e.is_premium||e.premium;return a.jsxs(Re.div,{whileHover:{y:-4},className:Ke("group rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",_?"bg-gradient-to-br from-amber-50/50 to-yellow-100/50 border-2 border-amber-300/50 shadow-amber-200/50":"bg-card border border-border/50"),onClick:y,children:[a.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 bg-muted overflow-hidden",children:[a.jsx(eH,{images:s,title:e.title,className:"h-full"}),a.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 sm:flex-row sm:gap-2 items-start",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(yt,{variant:"secondary",className:"bg-black/70 text-white text-xs px-2 py-1 sm:text-sm sm:px-3 sm:py-1.5",children:[g(e.category)," ",e.category==="real_estate"?"Immobilier":e.category==="automobile"?"Automobile":e.category==="services"?"Services":"Marketplace"]}),e.status==="approved"&&_?a.jsx("span",{className:"hidden sm:inline-flex",children:v(e.status)}):v(e.status)]})}),r&&a.jsx(Re.button,{onClick:w,disabled:c,className:`absolute top-2 right-2 p-1.5 sm:p-2 rounded-full transition-all duration-200 ${o?"bg-red-500 hover:bg-red-600 text-white":"bg-black/20 hover:bg-black/40 text-white"} ${c?"opacity-50 cursor-not-allowed":""}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Ao,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o?"fill-current":""}`})})]}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 truncate group-hover:text-primary transition-colors",children:e.title}),a.jsxs("div",{className:"flex items-center text-muted-foreground mb-2 sm:mb-3",children:[a.jsx(So,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate text-sm sm:text-base",children:e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:e.location?.city||e.location?.country||"Localisation non spécifiée"})]}),a.jsx("div",{className:Ke("text-xl sm:text-2xl font-bold mb-2 sm:mb-3",_?"text-slate-800":"text-primary"),children:e.price?f(e.price):"Prix sur demande"}),a.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-sm sm:text-base line-clamp-2 sm:line-clamp-2",children:e.description||"Aucune description disponible"}),_&&a.jsx("div",{className:"mb-3",children:a.jsx(yt,{variant:"secondary",className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-300 text-xs font-medium",children:"⭐ Premium"})}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.created_at?p(e.created_at):"Date inconnue"})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.views_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.views_count})]}),e.favorites_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ao,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.favorites_count})]})]})]}),a.jsx(TPe,{listingId:e.id,listing:e,size:"small",showActions:r,className:"mt-3 pt-3 border-t border-border/20"})]})]})},APe=({src:e,alt:t,className:r="",fallbackSrc:n=null,showSkeleton:i=!0,priority:s="high"})=>{const[o,l]=x.useState(!1),[c,u]=x.useState(!1),f=x.useMemo(()=>hR(e,"hero",s==="high"?"high":"medium"),[e,s]),p=x.useMemo(()=>n||{hero:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop"}.hero,[n]),{isVisible:g,ref:v}=Q7({threshold:.1,rootMargin:"50px"}),w=x.useCallback(()=>{l(!0),u(!1)},[]),y=x.useCallback(()=>{u(!0),l(!1)},[]),_=c?p:f;return a.jsxs("div",{ref:v,className:`relative overflow-hidden ${r}`,children:[i&&!o&&!c&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-gradient-to-r from-slate-300 via-slate-200 to-slate-300 animate-pulse"}),a.jsx(si,{mode:"wait",children:g&&a.jsx(Re.img,{src:_,alt:t,className:"w-full h-full object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:o?1:.7,scale:o?1:1.05},exit:{opacity:0,scale:.95},transition:{duration:.8,ease:"easeOut",opacity:{duration:.5}},onLoad:w,onError:y,loading:s==="high"?"eager":"lazy",decoding:"async"},_)}),o&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/20"}),!o&&!c&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full"})})]})},kPe=X.memo(APe),OPe=()=>{const e=Fn(),{user:t}=Or(),[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState([]),[f,p]=x.useState(!0),[g,v]=x.useState(null);x.useEffect(()=>{let S;const N=async()=>{try{s(!0);const k=await Hr.getTopViewedListings(6);n(k||[])}catch(k){l(k?.message||"Erreur lors du chargement des annonces populaires")}finally{s(!1)}},C=async()=>{try{p(!0);const k=await Hr.getPremiumListings(10);u(k?.data||[])}catch(k){v(k?.message||"Erreur lors du chargement des annonces premium")}finally{p(!1)}};return N(),C(),S=setInterval(()=>{N(),C()},18e5),()=>clearInterval(S)},[]);const w={hidden:{opacity:0,y:20},visible:S=>({opacity:1,y:0,transition:{delay:S*.1,duration:.5,ease:"easeOut"}})},y=[{name:"Immobilier",icon:a.jsx(Uue,{className:"h-10 w-10 mb-3 text-primary"}),path:"/immobilier",description:"Maisons, appartements, terrains."},{name:"Automobile",icon:a.jsx(Mue,{className:"h-10 w-10 mb-3 text-primary"}),path:"/automobile",description:"Voitures, motos, utilitaires."},{name:"Services Pro",icon:a.jsx(Pd,{className:"h-10 w-10 mb-3 text-primary"}),path:"/services",description:"Experts qualifiés à votre service."},{name:"Marketplace",icon:a.jsx(Wd,{className:"h-10 w-10 mb-3 text-primary"}),path:"/marketplace",description:"Produits neufs et d'occasion."}],_=S=>{e(S)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20 text-foreground",children:[a.jsxs(Re.section,{className:"relative py-24 md:py-40 bg-cover bg-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsx(kPe,{src:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop",alt:"Skyline futuriste d'une ville africaine au crépuscule avec des néons",className:"absolute inset-0 w-full h-full -z-10 opacity-70",priority:"high",showSkeleton:!0}),a.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[a.jsx(Re.div,{className:"inline-block p-2 bg-primary/20 rounded-full mb-6",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1,type:"spring",stiffness:200},children:a.jsx(UO,{className:"h-10 w-10 text-primary"})}),a.jsxs(Re.h1,{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:["Bienvenue sur"," ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsxs(Re.p,{className:"text-xl md:text-2xl text-gray-300 mb-10 max-w-3xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},children:[nr.tagline,". Explorez, découvrez, connectez."]}),a.jsx(Re.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.6},children:a.jsx("div",{className:"relative",children:a.jsxs("form",{onSubmit:S=>{S.preventDefault();const k=S.currentTarget.querySelector('input[name="q"]')?.value||"",{section:A,params:T}=CT(k),O=new URLSearchParams(T);e(`${A==="immobilier"?"/immobilier":A==="automobile"?"/automobile":A==="services"?"/services":"/marketplace"}?${O.toString()}`)},children:[a.jsx(tt,{name:"q",type:"search",placeholder:"Que recherchez-vous sur MaxiMarket ?",className:"w-full py-4 px-6 pr-16 rounded-full text-lg bg-white/10 text-white placeholder-gray-400 border-2 border-transparent focus:border-primary focus:ring-primary focus:outline-none backdrop-blur-md h-16"}),a.jsx(ue,{type:"submit",size:"lg",className:"absolute right-2 top-1/2 transform -translate-y-1/2 rounded-full bg-primary hover:bg-primary/90 h-12 w-12 p-0",children:a.jsx(cde,{className:"h-6 w-6 text-white"})})]})})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-background to-transparent"})]}),a.jsx("section",{className:"py-16 md:py-24",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Explorez nos ",a.jsx("span",{className:"gradient-text",children:"Univers"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((S,N)=>a.jsxs(Re.div,{custom:N,variants:w,initial:"hidden",animate:"visible",onClick:()=>_(S.path),className:"bg-card p-6 rounded-xl shadow-2xl hover:shadow-primary/40 transition-all duration-300 transform hover:-translate-y-2 flex flex-col items-center text-center glassmorphic-card border border-transparent hover:border-primary/50 cursor-pointer group",children:[S.icon,a.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:S.name}),a.jsx("p",{className:"text-muted-foreground text-sm mb-5 flex-grow group-hover:text-primary/80 transition-colors",children:S.description}),a.jsxs("div",{className:"w-full border border-primary/50 rounded-md px-4 py-2 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300",children:["Découvrir"," ",a.jsx(_l,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform inline"})]})]},S.name))})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["⭐ Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),g&&a.jsx("p",{className:"text-center text-destructive mb-8",children:g}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[f&&!c.length&&Array.from({length:10}).map((S,N)=>a.jsxs("div",{className:"bg-gradient-to-br from-amber-50/80 to-yellow-100/80 rounded-lg shadow-xl overflow-hidden glassmorphic-card border-2 border-amber-300/50",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-gradient-to-r from-amber-300/50 to-yellow-300/50 rounded animate-pulse"})]})]},N)),!f&&c.length===0&&a.jsxs("div",{className:"col-span-full text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium pour le moment"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Soyez le premier à passer premium et boostez votre visibilité !"}),a.jsx(ue,{onClick:()=>e("/creer-annonce"),variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Créer une Annonce Premium"})]}),c.slice(0,10).map(S=>a.jsx(hu,{listing:S,showActions:!1},S.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white shadow-lg",onClick:()=>e("/premium"),children:["Voir Toutes les Annonces Premium"," ",a.jsx(_l,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Populaires"})]}),o&&a.jsx("p",{className:"text-center text-destructive mb-8",children:o}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[i&&!r.length&&Array.from({length:6}).map((S,N)=>a.jsxs("div",{className:"bg-card rounded-lg shadow-xl overflow-hidden glassmorphic-card border border-transparent",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-muted rounded animate-pulse"})]})]},N)),!i&&r.length===0&&a.jsx("p",{className:"col-span-full text-center text-muted-foreground",children:"Aucune annonce populaire pour le moment."}),r.slice(0,6).map(S=>a.jsx(hu,{listing:S,showActions:!1},S.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-primary-foreground",onClick:()=>e("/marketplace?sort=popular&per=24"),children:["Voir Toutes les Annonces ",a.jsx(_l,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-20 md:py-32",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Prêt à ",a.jsx("span",{className:"gradient-text",children:"Rejoindre MaxiMarket"})," ?"]}),a.jsx(Re.p,{className:"text-lg text-muted-foreground mb-10 max-w-xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Créez un compte, publiez votre première annonce ou trouvez l'affaire parfaite en quelques clics."}),a.jsxs(Re.div,{className:"space-y-4 sm:space-y-0 sm:flex sm:justify-center sm:space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground w-full sm:w-auto",onClick:()=>{t?e("/creer-annonce"):e("/connexion",{state:{from:"/creer-annonce"}})},children:"Publier une Annonce"}),a.jsx(ue,{size:"lg",variant:"outline",className:"w-full sm:w-auto",onClick:()=>e("/inscription"),children:"Créer un Compte"})]})]})})]})},RPe=()=>{const{user:e}=Or(),t=Fn(),r=Si(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,type:"",minPrice:s,maxPrice:o}),{listings:f,loading:p,error:g,hasMore:v,loadMore:w}=e1("real_estate",c),{toggleFavorite:y}=QEe(),_=k=>{k.preventDefault()},S=(k,A)=>{u(T=>({...T,[k]:A}))},N=()=>{u({search:"",location:"",type:"",minPrice:"",maxPrice:""})},C=()=>{if(!e){t("/connexion");return}t("/creer-annonce/real-estate")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-green-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-emerald",children:"Immobilier"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Appartements, maisons, terrains et locaux commerciaux. Trouvez votre prochaine propriété ou investissement ici."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Entrez une ville, quartier, mots-clés...",value:c.search,onChange:k=>S("search",k.target.value),className:"pl-10"}),a.jsx(Yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",value:c.location,onChange:k=>S("location",k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"minPrice",className:"block text-sm font-medium mb-1",children:"Prix min"}),a.jsx(tt,{id:"minPrice",type:"number",placeholder:"0",value:c.minPrice,onChange:k=>S("minPrice",k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium mb-1",children:"Prix max"}),a.jsx(tt,{id:"maxPrice",type:"number",placeholder:"∞",value:c.maxPrice,onChange:k=>S("maxPrice",k.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"flex-1",children:[a.jsx(Yn,{className:"mr-2 h-4 w-4"}),"Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",onClick:N,children:a.jsx(rs,{className:"h-4 w-4"})})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center mb-12",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:"Publier une annonce immobilière"})}),p&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(kr,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des annonces..."})]}),g&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Zn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!p&&f.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((k,A)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:A*.1},children:a.jsx(hu,{listing:k,onToggleFavorite:y})},k.id))}),!p&&!g&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucune annonce immobilière ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&f.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:w,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus d'annonces ",a.jsx(_l,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[f.length," annonce",f.length>1?"s":""," immobilière",f.length>1?"s":""," trouvée",f.length>1?"s":""]})})]})})},MPe=()=>{const{user:e}=Or(),t=Fn(),r=Si(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",c=n.get("brand")||"",[u,f]=x.useState({search:i,location:l,brand:c,minPrice:s,maxPrice:o,year:"",fuel:""}),{listings:p,loading:g,error:v,hasMore:w,loadMore:y,toggleFavorite:_}=e1("automobile",u),S=A=>{A.preventDefault()},N=(A,T)=>{f(O=>({...O,[A]:T}))},C=()=>{f({search:"",location:"",brand:"",minPrice:"",maxPrice:"",year:"",fuel:""})},k=()=>{if(!e){t("/connexion");return}t("/creer-annonce/automobile")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-blue-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-blue",children:"Automobile"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Voitures, motos, utilitaires et pièces détachées. Trouvez votre prochain véhicule ou vendez le vôtre ici."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Marque, modèle, mots-clés...",className:"pl-10 h-12 text-base",value:u.search,onChange:A=>N("search",A.target.value)}),a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",className:"h-12 text-base",value:u.location,onChange:A=>N("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",children:"Marque"}),a.jsxs("select",{id:"brand",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.brand,onChange:A=>N("brand",A.target.value),children:[a.jsx("option",{value:"",children:"Toutes marques"}),a.jsx("option",{value:"Toyota",children:"Toyota"}),a.jsx("option",{value:"Peugeot",children:"Peugeot"}),a.jsx("option",{value:"Renault",children:"Renault"}),a.jsx("option",{value:"Citroën",children:"Citroën"}),a.jsx("option",{value:"Ford",children:"Ford"}),a.jsx("option",{value:"Volkswagen",children:"Volkswagen"}),a.jsx("option",{value:"BMW",children:"BMW"}),a.jsx("option",{value:"Mercedes",children:"Mercedes"}),a.jsx("option",{value:"Audi",children:"Audi"}),a.jsx("option",{value:"Honda",children:"Honda"}),a.jsx("option",{value:"Nissan",children:"Nissan"}),a.jsx("option",{value:"Hyundai",children:"Hyundai"}),a.jsx("option",{value:"Kia",children:"Kia"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium mb-1",children:"Année"}),a.jsxs("select",{id:"year",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.year,onChange:A=>N("year",A.target.value),children:[a.jsx("option",{value:"",children:"Toutes années"}),Array.from({length:25},(A,T)=>2024-T).map(A=>a.jsx("option",{value:A,children:A},A))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fuel",className:"block text-sm font-medium mb-1",children:"Carburant"}),a.jsxs("select",{id:"fuel",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.fuel,onChange:A=>N("fuel",A.target.value),children:[a.jsx("option",{value:"",children:"Tous carburants"}),a.jsx("option",{value:"essence",children:"Essence"}),a.jsx("option",{value:"diesel",children:"Diesel"}),a.jsx("option",{value:"hybride",children:"Hybride"}),a.jsx("option",{value:"electrique",children:"Électrique"}),a.jsx("option",{value:"gpl",children:"GPL"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(rs,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:C,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:k,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🚗 Publier une annonce automobile"})}),g&&p.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(kr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des véhicules..."})]}),v&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Zn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!g&&p.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:p.map((A,T)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:T*.1},children:a.jsx(hu,{listing:A,onToggleFavorite:_})},A.id))}),!g&&!v&&p.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚗"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun véhicule trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun véhicule ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:C,variant:"outline",children:"Effacer les filtres"})]}),w&&p.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de véhicules ",a.jsx(_l,{className:"ml-2 h-5 w-5"})]})})}),p.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[p.length," véhicule",p.length>1?"s":""," trouvé",p.length>1?"s":""]})})]})})},IPe=()=>{const{user:e}=Or(),t=Fn(),r=Si(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,serviceType:"",minPrice:s,maxPrice:o}),{listings:f,loading:p,error:g,hasMore:v,loadMore:w,toggleFavorite:y}=e1("services",c),_=k=>{k.preventDefault()},S=(k,A)=>{u(T=>({...T,[k]:A}))},N=()=>{u({search:"",location:"",serviceType:"",minPrice:"",maxPrice:""})},C=()=>{if(!e){t("/connexion");return}t("/creer-annonce/services")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur des ",a.jsx("span",{className:"gradient-text-purple",children:"Services"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Plomberie, électricité, cours particuliers, événementiel et bien plus. Trouvez le service dont vous avez besoin."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Type de service, mots-clés...",className:"pl-10 h-12 text-base",value:c.search,onChange:k=>S("search",k.target.value)}),a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:c.location,onChange:k=>S("location",k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"service-type",className:"block text-sm font-medium mb-1",children:"Type de service"}),a.jsxs("select",{id:"service-type",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:c.serviceType,onChange:k=>S("serviceType",k.target.value),children:[a.jsx("option",{value:"",children:"Tous services"}),a.jsx("option",{value:"plomberie",children:"Plomberie"}),a.jsx("option",{value:"electricite",children:"Électricité"}),a.jsx("option",{value:"menage",children:"Ménage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"education",children:"Éducation"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"coiffure",children:"Coiffure"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"evenementiel",children:"Événementiel"}),a.jsx("option",{value:"transport",children:"Transport"}),a.jsx("option",{value:"reparation",children:"Réparation"}),a.jsx("option",{value:"conseil",children:"Conseil"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:c.minPrice,onChange:k=>S("minPrice",k.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:c.maxPrice,onChange:k=>S("maxPrice",k.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(rs,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:N,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🔧 Proposer un service"})}),p&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(kr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des services..."})]}),g&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Zn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!p&&f.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((k,A)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:A*.1},children:a.jsx(hu,{listing:k,onToggleFavorite:y})},k.id))}),!p&&!g&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔧"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun service trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun service ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&f.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:w,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de services ",a.jsx(_l,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[f.length," service",f.length>1?"s":""," trouvé",f.length>1?"s":""]})})]})})},DPe=()=>{const{user:e}=Or(),t=Fn(),r=Si(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("sort")||"",s=parseInt(n.get("per")||"12",10),o=n.get("search")||"",l=n.get("minPrice")||"",c=n.get("maxPrice")||"",u=n.get("location")||"",[f,p]=x.useState({search:o,location:u,category:"",minPrice:l,maxPrice:c,condition:"",sort:i,per:isNaN(s)?12:Math.min(Math.max(s,6),48)}),{listings:g,loading:v,error:w,hasMore:y,loadMore:_,toggleFavorite:S}=e1("marketplace",f),N=T=>{T.preventDefault()};x.useMemo(()=>f.sort==="popular"?[...g].sort((T,O)=>(O?.views_count||0)-(T?.views_count||0)):g,[f.sort,g]);const C=(T,O)=>{p(I=>({...I,[T]:O}))},k=()=>{p({search:"",location:"",category:"",minPrice:"",maxPrice:"",condition:""})},A=()=>{if(!e){t("/connexion");return}t("/creer-annonce/marketplace")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-orange-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur ",a.jsx("span",{className:"gradient-text-orange",children:"Marketplace"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Téléphones, vêtements, meubles, livres et bien plus. Achetez et vendez en toute sécurité."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Produit, marque, mots-clés...",className:"pl-10 h-12 text-base",value:f.search,onChange:T=>C("search",T.target.value)}),a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:f.location,onChange:T=>C("location",T.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Catégorie"}),a.jsxs("select",{id:"category",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:f.category,onChange:T=>C("category",T.target.value),children:[a.jsx("option",{value:"",children:"Toutes catégories"}),a.jsx("option",{value:"telephonie",children:"Téléphonie"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"vetements",children:"Vêtements"}),a.jsx("option",{value:"chaussures",children:"Chaussures"}),a.jsx("option",{value:"accessoires",children:"Accessoires"}),a.jsx("option",{value:"mobilier",children:"Mobilier"}),a.jsx("option",{value:"electromenager",children:"Électroménager"}),a.jsx("option",{value:"livres",children:"Livres"}),a.jsx("option",{value:"sport",children:"Sport"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"jouets",children:"Jouets"}),a.jsx("option",{value:"bricolage",children:"Bricolage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium mb-1",children:"État"}),a.jsxs("select",{id:"condition",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:f.condition,onChange:T=>C("condition",T.target.value),children:[a.jsx("option",{value:"",children:"Tous états"}),a.jsx("option",{value:"neuf",children:"Neuf"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"usage",children:"Usage"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:f.minPrice,onChange:T=>C("minPrice",T.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:f.maxPrice,onChange:T=>C("maxPrice",T.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(rs,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:k,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:A,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🛍️ Vendre un produit"})}),v&&g.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(kr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des produits..."})]}),w&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Zn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:w}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!v&&g.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:g.map((T,O)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:O*.1},children:a.jsx(hu,{listing:T,onToggleFavorite:S})},T.id))}),!v&&!w&&g.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🛍️"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun produit trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun produit ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:k,variant:"outline",children:"Effacer les filtres"})]}),y&&g.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:_,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de produits ",a.jsx(_l,{className:"ml-2 h-5 w-5"})]})})}),g.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[g.length," produit",g.length>1?"s":""," trouvé",g.length>1?"s":""]})})]})})},LPe=()=>{const e=Fn(),[t,r]=x.useState([]),[n,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(1),[u,f]=x.useState(1),[p,g]=x.useState(!1),[v,w]=x.useState({category:"",minPrice:"",maxPrice:"",location:"",search:""}),y=async(A=1,T=v)=>{try{i(!0),o(null);const O=await Hr.getPremiumListings(100,!0);if(O?.data){let I=O.data;T.category&&(I=I.filter(re=>re.category===T.category)),T.minPrice&&(I=I.filter(re=>re.price>=parseFloat(T.minPrice))),T.maxPrice&&(I=I.filter(re=>re.price<=parseFloat(T.maxPrice))),T.location&&(I=I.filter(re=>re.location?.city?.toLowerCase().includes(T.location.toLowerCase())||re.location?.country?.toLowerCase().includes(T.location.toLowerCase()))),T.search&&(I=I.filter(re=>re.title.toLowerCase().includes(T.search.toLowerCase())||re.description.toLowerCase().includes(T.search.toLowerCase())));const q=12,Z=I.length,V=Math.ceil(Z/q),U=(A-1)*q,z=U+q,H=I.slice(U,z);r(H),f(V),g(A<V),c(A)}}catch(O){o(O?.message||"Erreur lors du chargement des annonces premium")}finally{i(!1)}};x.useEffect(()=>{y(1,v)},[]);const _=(A,T)=>{const O={...v,[A]:T};w(O),c(1),y(1,O)},S=A=>{A.preventDefault(),y(1,v)},N=()=>{const A={category:"",minPrice:"",maxPrice:"",location:"",search:""};w(A),y(1,A)},C=A=>{A>=1&&A<=u&&y(A,v)},k=[{value:"real_estate",label:"🏠 Immobilier",color:"bg-blue-100 text-blue-800"},{value:"automobile",label:"🚗 Automobile",color:"bg-green-100 text-green-800"},{value:"services",label:"🔧 Services",color:"bg-purple-100 text-purple-800"},{value:"marketplace",label:"🛍️ Marketplace",color:"bg-orange-100 text-orange-800"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20",children:[a.jsx(Re.section,{className:"relative py-16 md:py-24 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsx("div",{className:"flex items-center mb-6",children:a.jsxs(ue,{variant:"ghost",onClick:()=>e(-1),className:"mr-4 hover:bg-amber-100",children:[a.jsx(Uh,{className:"h-5 w-5 mr-2"}),"Retour"]})}),a.jsxs(Re.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[a.jsxs("div",{className:"flex justify-center items-center mb-6",children:[a.jsx(v$,{className:"h-16 w-16 text-amber-500 mr-4"}),a.jsx(Ha,{className:"h-12 w-12 text-yellow-500"})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto mb-8",children:"Découvrez notre sélection exclusive d'annonces premium. Qualité garantie, visibilité maximale."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[a.jsxs(yt,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300",children:[a.jsx(b9,{className:"h-4 w-4 mr-2"}),"Mise en avant garantie"]}),a.jsxs(yt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),"Qualité premium"]}),a.jsxs(yt,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[a.jsx(v$,{className:"h-4 w-4 mr-2"}),"Support prioritaire"]})]})]})]})}),a.jsx("section",{className:"py-8 bg-background/50",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsx(Re.div,{className:"bg-card rounded-xl p-6 shadow-lg border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("form",{onSubmit:S,className:"relative",children:[a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(tt,{type:"text",placeholder:"Rechercher dans les annonces premium...",value:v.search,onChange:A=>_("search",A.target.value),className:"pl-10 pr-4 py-3"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("select",{value:v.category,onChange:A=>_("category",A.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Toutes catégories"}),k.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))]}),a.jsx(tt,{type:"number",placeholder:"Prix min",value:v.minPrice,onChange:A=>_("minPrice",A.target.value),className:"w-32"}),a.jsx(tt,{type:"number",placeholder:"Prix max",value:v.maxPrice,onChange:A=>_("maxPrice",A.target.value),className:"w-32"}),a.jsx(tt,{type:"text",placeholder:"Localisation",value:v.location,onChange:A=>_("location",A.target.value),className:"w-40"}),a.jsxs(ue,{variant:"outline",onClick:N,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),"Effacer"]})]})]})})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s&&a.jsx(Re.div,{className:"text-center text-destructive mb-8 p-4 bg-destructive/10 rounded-lg",initial:{opacity:0},animate:{opacity:1},children:s}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?Array.from({length:9}).map((A,T)=>a.jsxs(Re.div,{className:"bg-card rounded-lg shadow-lg overflow-hidden border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:T*.1},children:[a.jsx("div",{className:"h-48 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-8 w-1/3 bg-muted rounded animate-pulse"})]})]},T)):t.length>0?t.map((A,T)=>a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:T*.1},children:a.jsx(hu,{listing:A,showActions:!1})},A.id)):a.jsxs(Re.div,{className:"col-span-full text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Essayez de modifier vos filtres ou revenez plus tard"}),a.jsx(ue,{onClick:N,variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Effacer les filtres"})]})}),!n&&u>1&&a.jsxs(Re.div,{className:"flex justify-center items-center mt-12 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[a.jsx(ue,{variant:"outline",onClick:()=>C(l-1),disabled:l===1,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Précédent"}),Array.from({length:u},(A,T)=>T+1).map(A=>a.jsx(ue,{variant:l===A?"default":"outline",onClick:()=>C(A),className:l===A?"bg-amber-500 hover:bg-amber-600":"border-amber-300 text-amber-700 hover:bg-amber-100",children:A},A)),a.jsx(ue,{variant:"outline",onClick:()=>C(l+1),disabled:l===u,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Suivant"})]}),!n&&t.length>0&&a.jsx(Re.div,{className:"text-center mt-8 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:a.jsxs("p",{children:["Affichage de ",t.length," annonces premium",u>1&&` (page ${l} sur ${u})`]})})]})})]})},$Pe=[{value:"real_estate",label:"Immobilier"},{value:"automobile",label:"Automobile"},{value:"services",label:"Service"},{value:"marketplace",label:"Produit"}],Y3={title:"",description:"",price:"",currency:"XOF",category:"",subCategory:"",location:{city:"",country:""},images:[],videos:[],specificData:{}},FPe=e=>({"real-estate":"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"})[e]||"",BPe=({onSuccess:e,category:t,onDataChange:r,currentStep:n=1,onStepChange:i})=>{const{toast:s}=Cn(),[o,l]=x.useState({...Y3,category:t?FPe(t):""}),[c,u]=x.useState(!1),[f,p]=x.useState(!1),[g,v]=x.useState({current:0,total:0}),[w,y]=x.useState(n);x.useEffect(()=>{y(n)},[n]);const _=[{code:"BJ",name:"Bénin",cities:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Kandi","Abomey","Natitingou","Ouidah","Lokossa"]},{code:"CI",name:"Côte d'Ivoire",cities:["Abidjan","Bouaké","Daloa","Yamoussoukro","San Pedro","Korhogo","Man","Gagnoa","Abengourou","Divo"]},{code:"NG",name:"Nigeria",cities:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"]}],S=Y=>{const{name:ne,value:J}=Y.target;if(ne.startsWith("location.")){const oe=ne.split(".")[1];l(be=>({...be,location:{...be.location,[oe]:J}}))}else l(oe=>({...oe,[ne]:J}));r&&r({[ne]:J})},N=Y=>{const{name:ne,value:J}=Y.target;l(oe=>({...oe,specificData:{...oe.specificData,[ne]:J}}))},C=(Y,ne=1920,J=.8)=>new Promise(oe=>{const be=document.createElement("canvas"),Ce=be.getContext("2d"),De=new Image;De.onload=()=>{let{width:ce,height:ae}=De;ce>ne&&(ae=ae*ne/ce,ce=ne),be.width=ce,be.height=ae,Ce.drawImage(De,0,0,ce,ae),be.toBlob(ge=>{const he=new File([ge],Y.name,{type:"image/jpeg",lastModified:Date.now()});oe(he)},"image/jpeg",J)},De.src=URL.createObjectURL(Y)}),k=Y=>new Promise(ne=>{const J=new FileReader;J.onload=oe=>{ne({url:oe.target.result,file:Y,id:Date.now()+Math.random()})},J.readAsDataURL(Y)}),A=async Y=>{const ne=Array.from(Y.target.files);if(!ne.length)return;if(o.images.length+ne.length>8){s({title:"Limite atteinte",description:"Vous pouvez uploader jusqu'à 8 images maximum.",variant:"destructive"});return}if(ne.filter(oe=>!oe.type.startsWith("image/")).length>0){s({title:"Type de fichier invalide",description:"Seules les images sont acceptées.",variant:"destructive"});return}p(!0),v({current:0,total:ne.length});try{const oe=await Promise.all(ne.map(k)),be=[...o.images,...oe.map(he=>({url:he.url,isPreview:!0,id:he.id,file:he.file}))];l(he=>({...he,images:be})),r&&r({images:be});const Ce=await Promise.all(ne.map(he=>C(he,1920,.8))),De=async(he,Pe)=>{const ee=he.slice(Pe,Pe+3);return Promise.all(ee.map(async(G,we)=>{const xe=Pe+we;try{const Ve=await Lde.uploadImage(G,"listings");return v({current:xe+1,total:he.length}),{success:!0,url:Ve,index:xe}}catch(Ve){return console.error("Erreur upload pour",G.name,Ve),v({current:xe+1,total:he.length}),{success:!1,error:Ve.message,index:xe}}}))},ce=[];for(let he=0;he<Ce.length;he+=3){const Pe=await De(Ce,he);ce.push(...Pe)}const ae=ce.filter(he=>he.success),ge=ce.filter(he=>!he.success);if(ae.length>0){const he=[...be];ae.forEach(({url:Pe,index:ee})=>{const G=he.findIndex(we=>we.isPreview&&we.id===oe[ee].id);G!==-1&&(he[G]={url:Pe,isPreview:!1})}),l(Pe=>({...Pe,images:he})),r&&r({images:he}),s({title:"Images ajoutées",description:`${ae.length} image(s) téléchargée(s) avec succès.`})}ge.length>0&&s({title:"Erreurs d'upload",description:`Erreurs pour ${ge.length} fichier(s): ${ge.map(he=>he.error).join(", ")}`,variant:"destructive"})}catch(oe){console.error("Erreur générale upload:",oe),s({title:"Erreur upload",description:oe?.message||"Erreur lors de l'upload.",variant:"destructive"})}finally{p(!1),v({current:0,total:0})}},T=Y=>{l(ne=>{const J=ne.images.filter((oe,be)=>be!==Y);return r&&r({images:J}),{...ne,images:J}})},O=()=>!o.title||o.title.length<5?"Le titre est requis (min 5 caractères)":!o.description||o.description.length<10?"La description est requise (min 10 caractères)":!o.price||isNaN(Number(o.price))?"Le prix est requis et doit être un nombre":o.category?null:"La catégorie est requise",I=()=>{w<2&&(y(w+1),i&&i(w+1))},q=()=>{w>1&&(y(w-1),i&&i(w-1))},Z=async Y=>{Y.preventDefault();const ne=O();if(ne){s({title:"Erreur de validation",description:ne,variant:"destructive"});return}u(!0);try{const J=o.images.filter(Ce=>!Ce.isPreview).map(Ce=>Ce.url),oe={...o,images:J,price:Number(o.price)},be=await Hr.createListing(oe);s({title:"Annonce créée !",description:"Votre annonce a été soumise avec succès."}),l(Y3),e&&e(be)}catch(J){s({title:"Erreur",description:J?.message||"Erreur lors de la création.",variant:"destructive"})}finally{u(!1)}},V=()=>{switch(o.category){case"real_estate":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"propertyType",children:"Type de bien immobilier"}),a.jsx(tt,{id:"propertyType",name:"propertyType",placeholder:"Ex: Appartement, Maison, Terrain, Local commercial...",value:o.specificData.propertyType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"transactionType",children:"Type de transaction"}),a.jsx(tt,{id:"transactionType",name:"transactionType",placeholder:"Ex: Vente, Location, Location-vente...",value:o.specificData.transactionType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bedrooms",children:"Nombre de chambres"}),a.jsx(tt,{id:"bedrooms",name:"bedrooms",type:"number",placeholder:"Ex: 3",min:"0",value:o.specificData.bedrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bathrooms",children:"Nombre de salles de bain"}),a.jsx(tt,{id:"bathrooms",name:"bathrooms",type:"number",placeholder:"Ex: 2",min:"0",value:o.specificData.bathrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"areaSqMeters",children:"Surface en mètres carrés"}),a.jsx(tt,{id:"areaSqMeters",name:"areaSqMeters",type:"number",placeholder:"Ex: 120",min:"1",value:o.specificData.areaSqMeters||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Commodités et équipements"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez les commodités disponibles (piscine, parking, climatisation, etc.)"}),(o.specificData.amenities||[]).map((Y,ne)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:Y,onChange:J=>re(ne,J.target.value),placeholder:"Ex: Piscine, Parking, Climatisation..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>W(ne),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ne)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:se,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter une commodité"})]})]});case"automobile":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"vehicleType",children:"Type de véhicule"}),a.jsx(tt,{id:"vehicleType",name:"vehicleType",placeholder:"Ex: Voiture, Moto, Camion, Bus...",value:o.specificData.vehicleType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"make",children:"Marque du véhicule"}),a.jsx(tt,{id:"make",name:"make",placeholder:"Ex: Toyota, Honda, BMW...",value:o.specificData.make||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"model",children:"Modèle du véhicule"}),a.jsx(tt,{id:"model",name:"model",placeholder:"Ex: Corolla, Civic, X5...",value:o.specificData.model||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"year",children:"Année de fabrication"}),a.jsx(tt,{id:"year",name:"year",type:"number",placeholder:"Ex: 2020",min:"1900",max:new Date().getFullYear()+1,value:o.specificData.year||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"mileage",children:"Kilométrage en km"}),a.jsx(tt,{id:"mileage",name:"mileage",type:"number",placeholder:"Ex: 50000",min:"0",value:o.specificData.mileage||"",onChange:N})]})]});case"services":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"serviceCategory",children:"Catégorie de service"}),a.jsx(tt,{id:"serviceCategory",name:"serviceCategory",placeholder:"Ex: Plomberie, Électricité, Design, Formation...",value:o.specificData.serviceCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"availability",children:"Disponibilité"}),a.jsx(tt,{id:"availability",name:"availability",placeholder:"Ex: Lundi-Vendredi 9h-18h, Weekends...",value:o.specificData.availability||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"experienceYears",children:"Années d'expérience"}),a.jsx(tt,{id:"experienceYears",name:"experienceYears",type:"number",placeholder:"Ex: 5",min:"0",value:o.specificData.experienceYears||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Liens de portfolio et références"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez des liens vers vos réalisations, portfolio ou références"}),(o.specificData.portfolioLinks||[]).map((Y,ne)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:Y,onChange:J=>U(ne,J.target.value),placeholder:"https://votre-portfolio.com ou lien vers vos réalisations..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>H(ne),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ne)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:z,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter un lien de portfolio"})]})]});case"marketplace":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"productCategory",children:"Catégorie de produit"}),a.jsx(tt,{id:"productCategory",name:"productCategory",placeholder:"Ex: Électronique, Vêtements, Livres, Sport...",value:o.specificData.productCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"brand",children:"Marque du produit"}),a.jsx(tt,{id:"brand",name:"brand",placeholder:"Ex: Apple, Nike, Samsung...",value:o.specificData.brand||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"stockQuantity",children:"Quantité disponible en stock"}),a.jsx(tt,{id:"stockQuantity",name:"stockQuantity",type:"number",placeholder:"Ex: 10",min:"0",value:o.specificData.stockQuantity||"",onChange:N})]})]});default:return null}},U=(Y,ne)=>{l(J=>({...J,specificData:{...J.specificData,portfolioLinks:J.specificData.portfolioLinks?.map((oe,be)=>be===Y?ne:oe)||[]}}))},z=()=>{l(Y=>({...Y,specificData:{...Y.specificData,portfolioLinks:[...Y.specificData.portfolioLinks||[],""]}}))},H=Y=>{l(ne=>({...ne,specificData:{...ne.specificData,portfolioLinks:ne.specificData.portfolioLinks?.filter((J,oe)=>oe!==Y)||[]}}))},re=(Y,ne)=>{l(J=>({...J,specificData:{...J.specificData,amenities:J.specificData.amenities?.map((oe,be)=>be===Y?ne:oe)||[]}}))},se=()=>{l(Y=>({...Y,specificData:{...Y.specificData,amenities:[...Y.specificData.amenities||[],""]}}))},W=Y=>{l(ne=>({...ne,specificData:{...ne.specificData,amenities:ne.specificData.amenities?.filter((J,oe)=>oe!==Y)||[]}}))},Q=()=>{switch(w){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Informations de base"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Commencez par les informations essentielles de votre annonce."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"title",children:"Titre de l'annonce *"}),a.jsx(tt,{id:"title",name:"title",value:o.title,onChange:S,placeholder:"Ex: Appartement moderne 3 pièces à Cotonou",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"description",children:"Description *"}),a.jsx(Id,{id:"description",name:"description",value:o.description,onChange:S,placeholder:"Décrivez votre offre en détail...",rows:4,required:!0,className:"max-w-2xl resize-none transition-all duration-200",style:{minHeight:"120px",height:"auto",overflow:"hidden"},onInput:Y=>{Y.target.style.height="auto",Y.target.style.height=Math.min(Y.target.scrollHeight,300)+"px"}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"category",children:"Catégorie *"}),a.jsxs("select",{id:"category",name:"category",value:o.category,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une catégorie"}),$Pe.map(Y=>a.jsx("option",{value:Y.value,className:"text-foreground",children:Y.label},Y.value))]})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Prix et localisation"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"price",children:"Prix *"}),a.jsx(tt,{id:"price",name:"price",type:"number",value:o.price,onChange:S,placeholder:"0",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currency",children:"Devise"}),a.jsxs("select",{id:"currency",name:"currency",value:o.currency,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"XOF",className:"text-foreground",children:"XOF (Franc CFA)"}),a.jsx("option",{value:"EUR",className:"text-foreground",children:"EUR (Euro)"}),a.jsx("option",{value:"USD",className:"text-foreground",children:"USD (Dollar US)"}),a.jsx("option",{value:"NGN",className:"text-foreground",children:"NGN (Naira)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"country",children:"Pays"}),a.jsxs("select",{id:"country",name:"location.country",value:o.location.country,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner un pays"}),_.map(Y=>a.jsx("option",{value:Y.name,className:"text-foreground",children:Y.name},Y.code))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"city",children:"Ville"}),a.jsxs("select",{id:"city",name:"location.city",value:o.location.city,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.location.country,children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une ville"}),_.find(Y=>Y.name===o.location.country)?.cities?.map((Y,ne)=>a.jsx("option",{value:Y,className:"text-foreground",children:Y},`${o.location.country||"unknown"}-${Y}-${ne}`))]})]})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Médias et détails"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Ajoutez des photos et des informations spécifiques à votre catégorie."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Images et médias"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"image-upload",children:"Sélectionner des images"}),a.jsxs("div",{className:`border-2 border-dashed border-gray-400 rounded-lg p-6 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"hover:border-primary"}`,children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:A,className:"hidden",id:"image-upload",disabled:f}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer ${f?"cursor-not-allowed":""}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:f?a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}):a.jsx(wd,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:f?"Chargement en cours...":"Cliquez pour ajouter des images"}),a.jsx("p",{className:"text-xs text-gray-600",children:f?`Veuillez patienter (${g.current}/${g.total})`:"PNG, JPG jusqu'à 10MB"}),f&&g.total>0&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})})]})]})})]})]}),o.images.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(rt,{children:["Images sélectionnées (",o.images.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o.images.map((Y,ne)=>a.jsxs("div",{className:"relative group aspect-square",children:[a.jsx("img",{src:Y.url,alt:`Aperçu ${ne+1}`,className:`w-full h-full object-cover rounded-lg border ${Y.isPreview?"opacity-70":""}`}),Y.isPreview&&a.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}),a.jsx("button",{type:"button",onClick:()=>T(ne),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity shadow-md",title:"Supprimer cette image",disabled:Y.isPreview,children:"×"})]},ne))})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Détails spécifiques à la catégorie"}),o.category?a.jsx("div",{className:"space-y-4",children:V()}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Veuillez d'abord sélectionner une catégorie à l'étape 1."})})]})]});default:return null}};return a.jsxs("div",{className:"space-y-6",children:[Q(),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:q,disabled:w===1,children:"Précédent"}),a.jsx("div",{className:"flex items-center space-x-2",children:w<2?a.jsx(ue,{type:"button",onClick:I,disabled:!o.title||!o.description||!o.category,children:"Suivant"}):a.jsx(ue,{type:"submit",onClick:Z,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?"Publication...":"Publier l'annonce"})})]})]})},zPe=({formData:e,onClose:t})=>{const[r,n]=x.useState(0),[i,s]=x.useState(!1),o=y=>({real_estate:bT,automobile:p_,services:Pd,marketplace:Wd})[y]||bT,l=y=>y?typeof y=="string"?y:y?.url?y.url:y?.file?URL.createObjectURL(y.file):y?.src?y.src:null:null,c=()=>!e.images||!Array.isArray(e.images)?[]:e.images.map(y=>{const _=l(y);return _?{...y,displayUrl:_}:null}).filter(Boolean),u=y=>({real_estate:"Immobilier",automobile:"Automobile",services:"Service",marketplace:"Produit"})[y]||"Autre",f=o(e.category),p=c(),g=()=>{p.length>0&&n(y=>y===p.length-1?0:y+1)},v=()=>{p.length>0&&n(y=>y===0?p.length-1:y)},w=y=>{y>=0&&y<p.length&&n(y)};return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs(Re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Aperçu de l'annonce"}),(!e.title||!e.description||!e.price)&&a.jsx(yt,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Preview partiel"})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:t,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:p.length>0?a.jsxs(a.Fragment,{children:[a.jsx(si,{mode:"wait",children:a.jsx(Re.img,{src:p[r]?.displayUrl,alt:`Image ${r+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},r)}),p.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Ua,{className:"h-5 w-5"})}),a.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Va,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:[r+1," / ",p.length]}),a.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>s(!i),className:`p-2 rounded-full transition-all ${i?"bg-red-500 text-white":"bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100"}`,children:a.jsx(Ao,{className:`h-5 w-5 ${i?"fill-current":""}`})}),a.jsx("button",{className:"p-2 rounded-full bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100 transition-all",children:a.jsx(y9,{className:"h-5 w-5"})})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Hd,{className:"h-8 w-8"})}),a.jsx("p",{children:"Aucune image"}),a.jsx("p",{className:"text-xs mt-1",children:"Ajoutez des images à l'étape 2"})]})})}),p.length>1&&a.jsx("div",{className:"flex space-x-2 mt-4 overflow-x-auto",children:p.map((y,_)=>a.jsx("button",{onClick:()=>w(_),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${_===r?"border-primary":"border-border hover:border-primary/50"}`,children:a.jsx("img",{src:y.displayUrl,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs(yt,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[a.jsx(f,{className:"h-3 w-3 mr-1"}),u(e.category)]}),a.jsx(yt,{variant:"outline",className:"text-green-600 border-green-600",children:"Actif"})]}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:e.title||"Titre de l'annonce (à définir)"}),a.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[a.jsx(So,{className:"h-4 w-4 mr-1"}),e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:"Localisation non définie"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-foreground",children:e.price?`${e.price} ${e.currency||"XOF"}`:"Prix à définir"}),e.category==="real_estate"&&e.specificData?.areaSqMeters&&a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[e.specificData.areaSqMeters," m²"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Description"}),a.jsx("p",{className:"text-foreground leading-relaxed",children:e.description||"Description à ajouter pour votre annonce."})]}),e.specificData&&Object.keys(e.specificData).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Détails"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.category==="real_estate"&&a.jsxs(a.Fragment,{children:[e.specificData.propertyType&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.propertyType})]}),e.specificData.bedrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Chambres:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.bedrooms})]}),e.specificData.bathrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Salles de bain:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.bathrooms})]}),e.specificData.areaSqMeters&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Surface:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[e.specificData.areaSqMeters," m²"]})]})]}),e.category==="automobile"&&a.jsxs(a.Fragment,{children:[e.specificData.make&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Marque:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.make})]}),e.specificData.model&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Modèle:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.model})]}),e.specificData.year&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Année:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.year})]}),e.specificData.mileage&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Kilométrage:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[e.specificData.mileage," km"]})]})]})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Images"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["• ",p.length," image(s) ajoutée(s)"]}),p.length===0&&a.jsx("p",{className:"text-yellow-600 mt-1",children:"⚠️ Aucune image - Ajoutez des images à l'étape 2"})]})]})})]})]})]})})},B0=()=>{const e=Fn(),{category:t,id:r}=Kk(),[n,i]=x.useState(1),[s,o]=x.useState({}),[l,c]=x.useState(!1),[u,f]=x.useState(!1);X.useEffect(()=>{r&&f(!0)},[r]);const p=k=>({"real-estate":"Immobilière",automobile:"Automobile",services:"de Service",marketplace:"Marketplace"})[k]||"",v=(k=>({"real-estate":Td,automobile:p_,services:Pd,marketplace:Wd})[k]||Td)(t),w=[{id:1,title:"Informations de base",description:"Titre, description, catégorie, prix et localisation",icon:Vr,completed:!1},{id:2,title:"Médias et publication",description:"Photos, vidéos, caractéristiques spécifiques et publication",icon:wd,completed:!1}],y=k=>{k?.id?e("/profile",{state:{message:"Annonce créée avec succès ! Elle est maintenant visible sur le site.",type:"success"}}):e("/profile")},_=k=>{o(A=>({...A,...k}))},S=()=>s.title||s.description||s.price,N=()=>!s.title&&!s.description&&!s.price?"Commencez à remplir le formulaire pour voir l'aperçu":"Aperçu disponible (certaines données peuvent être manquantes)",C=()=>{const k=encodeURIComponent("Support création annonce - MaxiMarket"),A=encodeURIComponent(`Bonjour l'équipe MaxiMarket,

Je rencontre des difficultés lors de la création de mon annonce et j'aurais besoin de votre aide.

📋 Détails de ma demande :
• Catégorie d'annonce : ${t?p(t):"Non spécifiée"}
• Étape actuelle : Étape ${n} sur ${w.length}
• Problème rencontré : [Veuillez décrire votre problème ici]

📧 Mon email de contact : [Votre email]
📱 Mon téléphone : [Votre téléphone]

Merci de votre aide !

Cordialement,
[Votre nom]

---
Ce message a été généré automatiquement depuis le formulaire de création d'annonce MaxiMarket.
Support : support@maximarket.com
Site : https://maximarket.com`),T=`mailto:support@maximarket.com?subject=${k}&body=${A}`;window.open(T,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"text-muted-foreground hover:text-foreground",children:[a.jsx(Uh,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs("div",{className:"flex items-center space-x-2 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(v,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-primary",children:p(t)})]})})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>c(!l),disabled:!S(),className:S()?"":"opacity-50 cursor-not-allowed",title:S()?"Voir l'aperçu de votre annonce":N(),children:[a.jsx(Rl,{className:"h-4 w-4 mr-2"}),l?"Masquer":"Aperçu"]})})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:u?"Modifier l'annonce":t?`Créer une annonce ${p(t)}`:"Créer une annonce"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:u?"Modifiez les informations de votre annonce existante.":"Partagez votre offre avec notre communauté. Remplissez les informations ci-dessous pour publier votre annonce."})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-center space-x-4",children:w.map((k,A)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${n>=k.id?"bg-primary border-primary text-white":"bg-card border-border text-muted-foreground"}`,children:n>k.id?a.jsx(Li,{className:"h-5 w-5"}):a.jsx(k.icon,{className:"h-5 w-5"})}),A<w.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 ${n>k.id?"bg-primary":"bg-border"}`})]},k.id))}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Étape ",n," sur ",w.length," : ",w[n-1]?.title]})})]}),l&&a.jsx(zPe,{formData:s,onClose:()=>c(!1)}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsx(zt,{className:"shadow-lg border-0",children:a.jsx(Ut,{className:"p-6",children:a.jsx(BPe,{onSuccess:y,category:t,onDataChange:_,currentStep:n,onStepChange:i})})})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:a.jsx(zt,{className:"shadow-lg border-0",children:a.jsxs(Ut,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[a.jsx(Li,{className:"h-5 w-5 text-green-500 mr-2"}),"Conseils pour une annonce réussie"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez un titre clair et descriptif"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez des photos de qualité"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Décrivez précisément votre offre"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixez un prix compétitif"})]})]})]})})}),a.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:a.jsx(zt,{className:"shadow-lg border-0",children:a.jsxs(Ut,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Besoin d'aide ?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Notre équipe est là pour vous accompagner dans la création de votre annonce."}),a.jsx(ue,{variant:"outline",className:"w-full",onClick:C,children:"Contacter le support"})]})})})]})]})]})}),a.jsx(yV,{})]})},qPe=X.memo(({images:e=[],title:t="Galerie d'images"})=>{const[r,n]=x.useState(0),[i,s]=x.useState(!1),[o,l]=x.useState(!1),c=x.useRef(null);CPe(e,r);const{touchHandlers:u,zoomLevel:f}=PPe(()=>n(S=>(S+1)%e.length),()=>n(S=>(S-1+e.length)%e.length),S=>l(S>1)),p=x.useCallback(()=>{n(S=>(S+1)%e.length)},[e.length]),g=x.useCallback(()=>{n(S=>(S-1+e.length)%e.length)},[e.length]),v=S=>{n(S)};x.useEffect(()=>{const S=N=>{if(i)switch(N.key){case"ArrowLeft":N.preventDefault(),g();break;case"ArrowRight":N.preventDefault(),p();break;case"Escape":N.preventDefault(),s(!1),l(!1);break;case" ":N.preventDefault(),l(!o);break}};return i&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[i,o,p,g]);const w=()=>{i?l(!o):s(!0)},y=()=>{l(!o)};if(!e||e.length===0)return a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted flex items-center justify-center",children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucune image disponible"})})});const _=e[r];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{ref:c,className:"relative aspect-video rounded-lg overflow-hidden bg-muted cursor-pointer group",...u,onClick:w,children:[a.jsx(IT,{src:_,alt:`${t} - Image ${r+1}`,className:"w-full h-full",context:"gallery",quality:"high",showSkeleton:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300",children:a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),s(!0)},children:a.jsx(w$,{className:"h-4 w-4"})})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),g()},children:a.jsx(Ua,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),p()},children:a.jsx(Va,{className:"h-4 w-4"})})]})]}),e.length>1&&a.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:e.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-2 h-2 rounded-full transition-all duration-300 ${N===r?"bg-primary scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),e.length>1&&a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[r+1," / ",e.length]})]}),a.jsx(si,{children:i&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",...u,children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white z-10",onClick:()=>{s(!1),l(!1)},children:a.jsx(Ms,{className:"h-6 w-6"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-16 bg-black/50 hover:bg-black/70 text-white z-10",onClick:y,children:o?a.jsx(bde,{className:"h-6 w-6"}):a.jsx(w$,{className:"h-6 w-6"})}),a.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:a.jsx(IT,{src:_,alt:`${t} - Image ${r+1}`,className:`max-w-full max-h-full object-contain transition-transform duration-300 ${o?"cursor-zoom-out":"cursor-zoom-in"}`,context:"fullscreen",quality:"high",showSkeleton:!1,onClick:w,style:{transform:`scale(${f})`,cursor:o?"zoom-out":"zoom-in"}})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:g,children:a.jsx(Ua,{className:"h-8 w-8"})}),a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:p,children:a.jsx(Va,{className:"h-8 w-8"})})]}),e.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:e.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===r?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),a.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white text-sm px-3 py-1 rounded",children:[r+1," / ",e.length]}),a.jsx("div",{className:"absolute top-4 left-4 text-white/70 text-sm",children:a.jsx("p",{children:"← → Navigation • Espace Zoom • Échap Fermer"})})]})})]})}),UPe=({isOpen:e,onClose:t,listing:r,onReportSubmitted:n})=>{const[i,s]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState("medium"),[f,p]=x.useState(!1),{toast:g}=Cn(),v=[{value:"inappropriate_content",label:"Contenu inapproprié",description:"Contenu offensant, violent ou choquant"},{value:"fake_listing",label:"Annonce fausse",description:"Produit/service inexistant ou trompeur"},{value:"spam",label:"Spam",description:"Annonce répétitive ou non pertinente"},{value:"scam",label:"Arnaque",description:"Tentative de fraude ou d'escroquerie"},{value:"copyright",label:"Violation de droits",description:"Contenu protégé par des droits d'auteur"},{value:"other",label:"Autre",description:"Autre raison non listée"}],w=[{value:"low",label:"Faible",color:"bg-blue-100 text-blue-800"},{value:"medium",label:"Moyen",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"Élevé",color:"bg-red-100 text-red-800"}],y=async S=>{if(S.preventDefault(),!i){g({title:"Erreur",description:"Veuillez sélectionner une raison de signalement.",variant:"destructive"});return}if(!o.trim()){g({title:"Erreur",description:"Veuillez décrire le problème.",variant:"destructive"});return}p(!0);try{const N={listing_id:r.id,type:"listing",reason:i,description:o.trim(),severity:c,status:"pending"};await $de.createReport(N),g({title:"Signalement envoyé",description:"Votre signalement a été enregistré et sera examiné par notre équipe."}),s(""),l(""),u("medium"),t(),n&&n()}catch(N){console.error("Erreur lors du signalement:",N),g({title:"Erreur",description:"Impossible d'envoyer le signalement. Veuillez réessayer.",variant:"destructive"})}finally{p(!1)}},_=()=>{f||t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(zt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(lr,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bg,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx(cr,{children:"Signaler cette annonce"}),a.jsx(wn,{children:"Aidez-nous à maintenir la qualité de notre plateforme"})]})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:_,disabled:f,className:"h-8 w-8 p-0",children:a.jsx(Ms,{className:"h-4 w-4"})})]}),a.jsxs(Ut,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Annonce signalée :"}),a.jsxs("div",{className:"flex items-start space-x-3",children:[r.images&&r.images[0]&&a.jsx("img",{src:r.images[0],alt:r.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium truncate",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Publiée le ",new Date(r.created_at).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Catégorie : ",r.category]})]})]})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"reason",children:"Raison du signalement *"}),a.jsxs(Pr,{value:i,onValueChange:s,disabled:f,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Sélectionnez une raison"})}),a.jsx(Er,{children:v.map(S=>a.jsx(Ge,{value:S.value,children:a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium",children:S.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.description})]})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"severity",children:"Niveau de gravité"}),a.jsxs(Pr,{value:c,onValueChange:u,disabled:f,children:[a.jsx(Cr,{children:a.jsx(Tr,{})}),a.jsx(Er,{children:w.map(S=>a.jsx(Ge,{value:S.value,children:a.jsx(yt,{className:S.color,variant:"secondary",children:S.label})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(rt,{htmlFor:"description",children:["Description détaillée du problème *",a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(minimum 20 caractères)"})]}),a.jsx(Id,{id:"description",value:o,onChange:S=>l(S.target.value),placeholder:"Décrivez en détail le problème que vous avez identifié...",rows:4,disabled:f,minLength:20,required:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length,"/500 caractères"]})]}),a.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Kd,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("p",{className:"font-medium",children:"Important :"}),a.jsx("p",{children:"Les signalements abusifs peuvent entraîner la suspension de votre compte. Assurez-vous que votre signalement est justifié et basé sur des faits."})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:_,disabled:f,children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:f||!i||o.length<20,className:"bg-red-600 hover:bg-red-700",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}),"Envoi en cours..."]}):a.jsxs(a.Fragment,{children:[a.jsx(m_,{className:"h-4 w-4 mr-2"}),"Envoyer le signalement"]})})]})]})]})]})}):null},VPe=()=>{const{id:e}=Kk(),t=Fn(),{user:r}=Or(),{toast:n}=Cn(),[i,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(!0),[f,p]=x.useState(!1),[g,v]=x.useState(!1),{images:w}=vJ(i);x.useEffect(()=>{e&&(async()=>{u(!0);try{if(!e||e===""||typeof e!="string")throw new Error(`ID d'annonce invalide: "${e}"`);const q=await Hr.getListingById(e);if(q){s(q);try{Hr.incrementViews(q.id)}catch{}q.status!=="approved"&&n({title:"Annonce en attente",description:"Cette annonce est en cours de modération.",variant:"default"});const{data:Z}=await Hr.getAllListings({category:q.category,status:"approved",limit:10});l(Z.filter(V=>V.id!==q.id).slice(0,3))}else n({title:"Annonce non trouvée",description:"L'annonce que vous recherchez n'existe pas ou a été supprimée.",variant:"destructive"}),t("/marketplace")}catch(q){console.error("Erreur lors du chargement de l'annonce:",q),console.error("Détails de l'erreur:",{message:q.message,code:q.code,details:q.details,hint:q.hint}),n({title:"Erreur",description:`Impossible de charger les détails de l'annonce: ${q.message}`,variant:"destructive"}),t("/marketplace")}finally{u(!1)}})()},[e,t,n]),x.useEffect(()=>{try{if(typeof window<"u"&&i){const I=i?.location&&typeof i.location=="object"&&i.location.city||"";window.__MAXIMARKET_CONTEXT={listing:{id:i.id,title:i.title,price:i.price,locationCity:I,sellerId:i.user_id,category:i.category}}}}catch{}return()=>{try{typeof window<"u"&&window.__MAXIMARKET_CONTEXT&&delete window.__MAXIMARKET_CONTEXT}catch{}}},[i]);const y=I=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(I),_=I=>new Date(I).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),S=I=>{switch(I){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},N=I=>{switch(I){case"real_estate":return"Immobilier";case"automobile":return"Automobile";case"services":return"Services";case"marketplace":return"Marketplace";default:return"Autre"}},C=async()=>{if(!r){t("/connexion");return}try{p(!f),n({title:f?"Retiré des favoris":"Ajouté aux favoris",description:f?"L'annonce a été retirée de vos favoris.":"L'annonce a été ajoutée à vos favoris."})}catch{n({title:"Erreur",description:"Impossible de modifier les favoris.",variant:"destructive"})}},k=async I=>{if(I==="whatsapp"||I==="phone"){const q=i.contact_info?.phone||i.users?.phone_number;if(!q){n({title:"Pas de numéro disponible",description:"Aucun numéro de téléphone n'est disponible pour cette annonce.",variant:"destructive"});return}const Z=q.replace(/[\s\-\(\)]/g,""),V=Z.startsWith("+")?Z:Z.startsWith("221")?`+${Z}`:`+221${Z}`;if(I==="phone")window.open(`tel:${V}`,"_blank"),n({title:"Appel en cours",description:`Appel vers ${V}`});else if(I==="whatsapp"){const U=encodeURIComponent(`Bonjour ! Je suis intéressé(e) par votre annonce "${i.title}".

Pouvez-vous me donner plus d'informations ?`);window.open(`https://wa.me/${V}?text=${U}`,"_blank"),n({title:"WhatsApp ouvert",description:`Conversation WhatsApp avec ${V}`})}return}if(I==="message"){if(!r){n({title:"Connexion requise",description:"Connectez-vous pour envoyer un message privé au vendeur.",variant:"default"}),t("/connexion");return}if(i.user_id===r.id){n({title:"Action impossible",description:"Vous ne pouvez pas vous contacter vous-même.",variant:"destructive"});return}if(!i.user_id||i.user_id==="test-user-1"){n({title:"Annonce de test",description:"Cette annonce est en mode test. Les fonctionnalités de contact ne sont pas disponibles.",variant:"default"});return}try{const Z=await xi.createConversation(i.user_id,i.id);t(`/messages?conversation=${Z.id}&listing=${i.id}`),n({title:"Conversation créée",description:"Vous avez été redirigé vers la messagerie."})}catch(Z){console.error("Erreur lors de la création de la conversation:",Z),n({title:"Erreur",description:"Impossible de créer la conversation. Veuillez réessayer.",variant:"destructive"})}}},A=()=>{navigator.share?navigator.share({title:i?.title,text:i?.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),n({title:"Lien copié",description:"Le lien de l'annonce a été copié dans le presse-papiers."}))},T=()=>{if(!r){t("/connexion");return}v(!0)},O=()=>{console.log("Signalement soumis avec succès")};return c?a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'annonce..."})]})}):i?a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(ue,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[a.jsx(Uh,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx(ir,{to:"/",className:"hover:text-primary",children:"Accueil"}),a.jsx("span",{children:"/"}),a.jsx(ir,{to:`/${i.category==="real_estate"?"immobilier":i.category==="automobile"?"automobile":i.category==="services"?"services":"marketplace"}`,className:"hover:text-primary",children:N(i.category)}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:i.title})]})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsx(qPe,{images:w,title:i.title})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.title}),a.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(So,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:i.location&&typeof i.location=="object"&&i.location.city?`${i.location.city}, ${i.location.country||""}`:"Localisation non spécifiée"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ql,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["Publié le ",_(i.created_at)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:A,children:[a.jsx(y9,{className:"h-4 w-4 mr-1"}),"Partager"]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:T,children:[a.jsx(Bg,{className:"h-4 w-4 mr-1"}),"Signaler"]})]})]}),a.jsx("div",{className:"text-3xl font-bold text-primary mb-4",children:y(i.price)}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.jsxs(yt,{variant:"secondary",className:"bg-primary/10 text-primary",children:[S(i.category)," ",N(i.category)]}),i.status==="approved"&&a.jsx(yt,{variant:"default",className:"badge-approved",children:"Approuvé"})]})]}),a.jsx(uv,{className:"my-8"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Description"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("p",{className:"whitespace-pre-line",children:i.description})})]}),i.real_estate_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails immobiliers"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.real_estate_details.type&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.type})]}),i.real_estate_details.rooms&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pièces"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.rooms})]}),i.real_estate_details.surface&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),a.jsxs("p",{className:"font-medium",children:[i.real_estate_details.surface," m²"]})]})]})]}),i.automobile_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails automobile"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.automobile_details.brand&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Marque"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.brand})]}),i.automobile_details.model&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Modèle"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.model})]}),i.automobile_details.year&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Année"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.year})]}),i.automobile_details.fuel&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carburant"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.fuel})]})]})]}),a.jsx("div",{className:"mt-12 mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contacter le vendeur"}),i.users&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendeur"}),a.jsxs("p",{className:"font-medium",children:[i.users.first_name," ",i.users.last_name]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs(ue,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>k("whatsapp"),children:[a.jsx(es,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),a.jsxs(ue,{className:"w-full",onClick:()=>k("phone"),children:[a.jsx(Da,{className:"h-4 w-4 mr-2"}),"Appeler"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>k("message"),children:[a.jsx(lu,{className:"h-4 w-4 mr-2"}),"Message"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:C,children:[a.jsx(Ao,{className:`h-4 w-4 mr-2 ${f?"fill-red-500 text-red-500":""}`}),f?"Retirer":"Favoris"]})]}),!r&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["💡 ",a.jsx("strong",{children:"Conseil :"})," Vous pouvez contacter le vendeur directement par WhatsApp ou téléphone sans créer de compte. Connectez-vous uniquement si vous souhaitez utiliser la messagerie privée."]})})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conseils de sécurité"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsx("li",{children:"• Rencontrez le vendeur dans un lieu public"}),a.jsx("li",{children:"• Vérifiez l'état du bien avant l'achat"}),a.jsx("li",{children:"• Paiements en espèces recommandés - Évitez tout dépôt électronique sans avoir inspecté le bien et vérifié la fiabilité du vendeur"}),a.jsx("li",{children:"• Signalez tout comportement suspect"})]})]})}),o.length>0&&a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Annonces similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(I=>a.jsx(ir,{to:`/annonce/${I.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:I.title,src:I.images?.[0]||w[0]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:I.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:I.description}),a.jsx("p",{className:"text-lg font-bold text-primary mt-2",children:y(I.price)})]})]})},I.id))})]})]})}),a.jsx(UPe,{isOpen:g,onClose:()=>v(!1),listing:i,onReportSubmitted:O})]}):null},WPe=()=>{const{user:e}=Or(),[t,r]=x.useState([]),[n,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState("grid"),[u,f]=x.useState(""),[p,g]=x.useState([]),[v,w]=x.useState(null),[y,_]=x.useState(""),S=async()=>{if(e){o(!0);try{const{data:O,error:I}=await Se.from("favorites").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(I)throw I;const q=O.map(Z=>Z.listing_id);if(q.length>0){const{data:Z,error:V}=await Se.from("listings").select(`
            *,
            user:users(id, full_name, avatar_url),
            category:categories(name, slug)
          `).in("id",q).eq("status","approved");if(V)throw V;const U=O.map(z=>{const H=Z.find(re=>re.id===z.listing_id);return{...z,listing:H}}).filter(z=>z.listing);r(U),i(Z)}else r([]),i([])}catch(O){console.error("Erreur chargement favoris:",O)}finally{o(!1)}}},N=async O=>{try{const{error:I}=await Se.from("favorites").delete().eq("id",O);if(I)throw I;r(q=>q.filter(Z=>Z.id!==O))}catch(I){console.error("Erreur suppression favoris:",I)}},C=async(O,I)=>{try{const{error:q}=await Se.from("favorites").update({notes:I}).eq("id",O);if(q)throw q;r(Z=>Z.map(V=>V.id===O?{...V,notes:I}:V)),w(null),_("")}catch(q){console.error("Erreur mise à jour notes:",q)}};x.useEffect(()=>{S()},[e]);const k=t.filter(O=>{const I=O.listing;if(!I)return!1;const q=u===""||I.title.toLowerCase().includes(u.toLowerCase())||I.description?.toLowerCase().includes(u.toLowerCase())||O.notes?.toLowerCase().includes(u.toLowerCase()),Z=p.length===0||p.some(V=>O.tags?.includes(V));return q&&Z}),A=[...new Set(t.flatMap(O=>O.tags||[]))].sort(),T={total:t.length,withNotes:t.filter(O=>O.notes).length,withTags:t.filter(O=>O.tags&&O.tags.length>0).length,categories:[...new Set(t.map(O=>O.listing?.category?.name).filter(Boolean))]};return e?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[T.total," annonce(s) sauvegardée(s)"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[T.withNotes," avec notes"]}),a.jsxs("span",{children:[T.withTags," avec tags"]}),a.jsxs("span",{children:[T.categories.length," catégories"]})]})]})}),a.jsx("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Rechercher dans vos favoris...",value:u,onChange:O=>f(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rs,{size:20,className:"text-gray-400"}),a.jsxs("select",{value:p.length>0?p[0]:"",onChange:O=>g(O.target.value?[O.target.value]:[]),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Tous les tags"}),A.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded ${l==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(Hue,{size:20})}),a.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded ${l==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(Xue,{size:20})})]})]})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de vos favoris..."})]}):k.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ao,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:u||p.length>0?"Aucun résultat":"Aucun favori"}),a.jsx("p",{className:"mt-2 text-gray-600",children:u||p.length>0?"Essayez de modifier vos critères de recherche":"Commencez à ajouter des annonces à vos favoris"})]}):a.jsx("div",{className:l==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:k.map(O=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4",children:a.jsx(hu,{listing:O.listing,compact:l==="list"})}),a.jsxs("div",{className:"px-4 pb-4",children:[O.tags&&O.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:O.tags.map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(Hd,{size:12,className:"mr-1"}),I]},I))}),a.jsx("div",{className:"mb-3",children:v===O.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:y,onChange:I=>_(I.target.value),placeholder:"Ajouter une note...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:"2"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>C(O.id,y),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Sauvegarder"}),a.jsx("button",{onClick:()=>{w(null),_("")},className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Annuler"})]})]}):a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600 flex-1",children:O.notes||"Aucune note"}),a.jsx("button",{onClick:()=>{w(O.id),_(O.notes||"")},className:"ml-2 p-1 text-gray-400 hover:text-gray-600",children:a.jsx(ide,{size:14})})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Ajouté le ",new Date(O.created_at).toLocaleDateString("fr-FR")]}),a.jsxs("button",{onClick:()=>N(O.id),className:"flex items-center space-x-1 text-red-600 hover:text-red-800 text-sm",children:[a.jsx(Kue,{size:14}),a.jsx("span",{children:"Retirer"})]})]})]})]},O.id))})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Connectez-vous pour voir vos favoris"})})},HPe=()=>a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(Ao,{className:"h-12 w-12 text-primary mr-4"}),a.jsx("h1",{className:"text-4xl font-bold",children:"Mes Favoris"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Retrouvez toutes vos annonces sauvegardées et gérez vos favoris en toute simplicité."})]}),a.jsxs(zt,{className:"shadow-lg border-0",children:[a.jsx(lr,{children:a.jsxs(cr,{className:"flex items-center space-x-2",children:[a.jsx(Ao,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Annonces Favorites"})]})}),a.jsx(Ut,{children:a.jsx(WPe,{})})]}),a.jsxs("div",{className:"text-center mt-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>window.location.href="/marketplace",children:"Explorer le Marketplace"})]})]})}),KPe=()=>{const{user:e,hasRole:t}=Or(),r=Fn(),[n,i]=x.useState(!1),[s,o]=x.useState(!0),[l,c]=x.useState(!0),[u,f]=x.useState([{title:"Utilisateurs Actifs",value:"-",icon:a.jsx(za,{className:"h-8 w-8 text-blue-400"}),trend:"Chargement...",color:"blue",key:"activeUsers"},{title:"Annonces en Attente",value:"-",icon:a.jsx(zg,{className:"h-8 w-8 text-yellow-400"}),trend:"Chargement...",color:"yellow",key:"pendingListings"},{title:"Revenus (30j)",value:"-",icon:a.jsx(Vh,{className:"h-8 w-8 text-green-400"}),trend:"Chargement...",color:"green",key:"revenue"},{title:"Activités Récentes",value:"-",icon:a.jsx(es,{className:"h-8 w-8 text-red-400"}),trend:"Chargement...",color:"red",key:"recentActivities"}]),[p,g]=x.useState([]),[v]=x.useState([{label:"Gérer les Annonces",icon:a.jsx(zg,{className:"mr-3 h-5 w-5"}),color:"blue",link:"/admin/listings"},{label:"Gérer les Utilisateurs",icon:a.jsx(za,{className:"mr-3 h-5 w-5"}),color:"green",link:"/admin/users"},{label:"Voir les Transactions",icon:a.jsx(Vh,{className:"mr-3 h-5 w-5"}),color:"purple",link:"/admin/transactions"},{label:"Statistiques Détaillées",icon:a.jsx(FO,{className:"mr-3 h-5 w-5"}),color:"teal",link:"/admin/analytics"}]);x.useEffect(()=>{(async()=>{try{if(e){const N=t("admin");if(i(N),!N){MN.error("Accès non autorisé"),r("/");return}await w()}else r("/connexion",{state:{from:"/admin"}})}catch(N){console.error("Erreur de vérification des autorisations:",N),MN.error("Erreur lors de la vérification des autorisations"),r("/")}finally{o(!1)}})()},[e,t,r]);const w=async()=>{try{c(!0),console.log("🔍 Début du chargement des données du tableau de bord...");let S=[],N=[],C=[];try{S=(await Hr.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",S.length)}catch(Z){console.error("❌ Erreur lors du chargement des annonces:",Z),S=[]}try{N=await $a.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",N.length)}catch(Z){console.error("❌ Erreur lors du chargement des utilisateurs:",Z),N=[]}try{C=await w9.getUserNotifications(),console.log("🔍 Notifications récupérées:",C.length)}catch(Z){console.error("❌ Erreur lors du chargement des notifications:",Z),C=[]}const k=N.filter(Z=>Z.status==="active").length,A=N.length,T=S.filter(Z=>Z.status==="pending").length,O=S.length,I=C.slice(0,5);console.log("🔍 Statistiques calculées:",{activeUsers:k,totalUsers:A,pendingListings:T,totalListings:O,recentNotifications:I.length}),f(Z=>Z.map(V=>V.key==="activeUsers"?{...V,value:k.toLocaleString(),trend:`Total: ${A}`}:V.key==="pendingListings"?{...V,value:T.toString(),trend:`Total: ${O}`}:V.key==="revenue"?{...V,value:"0 FCFA",trend:"Revenus du mois"}:V.key==="recentActivities"?{...V,value:I.length.toString(),trend:"Dernières activités"}:V));const q=I.map(Z=>({id:Z.id||`notif-${Date.now()}`,type:Z.type||"Notification",item:Z.title||Z.message||"Nouvelle activité",timestamp:Z.created_at,status:Z.read?"read":"unread"}));g(q),console.log("✅ Données du tableau de bord chargées avec succès")}catch(S){console.error("❌ Erreur lors du chargement des données du tableau de bord:",S),MN.error("Erreur lors du chargement des données"),f(N=>N.map(C=>C.key==="activeUsers"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="pendingListings"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="revenue"?{...C,value:"0 FCFA",trend:"Erreur de chargement"}:C.key==="recentActivities"?{...C,value:"0",trend:"Erreur de chargement"}:C))}finally{c(!1)}},y=S=>{const N=new Date,C=new Date(S),k=Math.floor((N-C)/1e3);return k<60?"À l'instant":k<3600?`Il y a ${Math.floor(k/60)} min`:k<86400?`Il y a ${Math.floor(k/3600)} h`:`Il y a ${Math.floor(k/86400)} j`};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(kr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!n)return a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Zn,{className:"h-12 w-12 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accès refusé"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),a.jsx(ue,{onClick:()=>r("/"),children:"Retour à l'accueil"})]})});const _=(S,N)=>{if(N==="Approuvée"||N==="Complétée"||N.startsWith("VIP"))return a.jsx(rde,{className:"h-5 w-5 text-green-400"});if(N==="En attente KYC"||N==="En cours d'examen")return a.jsx(Kd,{className:"h-5 w-5 text-yellow-400"});switch(S){case"Immobilier":return a.jsx(zg,{className:"h-5 w-5 text-blue-400"});case"Automobile":return a.jsx(p_,{className:"h-5 w-5 text-red-400"});case"Services":return a.jsx(Pd,{className:"h-5 w-5 text-purple-400"});case"Marketplace":return a.jsx(Wd,{className:"h-5 w-5 text-yellow-400"});case"Utilisateur":return a.jsx(za,{className:"h-5 w-5 text-teal-400"});default:return a.jsx(g_,{className:"h-5 w-5 text-gray-400"})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 sm:p-8",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:["Tableau de Bord Administrateur ",a.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),a.jsx("p",{className:"text-md sm:text-lg text-slate-400",children:"Vue d'ensemble et gestion de la marketplace."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-10",children:u.map((S,N)=>a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:N*.1},className:`bg-slate-800 p-5 rounded-xl shadow-lg border border-slate-700 hover:border-${S.color}-500 transition-colors`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-md font-semibold text-slate-300",children:S.title}),S.icon]}),l?a.jsx("div",{className:"flex items-center justify-center h-12",children:a.jsx(kr,{className:"h-6 w-6 animate-spin text-gray-400"})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:S.value}),a.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[a.jsx(La,{className:`mr-1 h-4 w-4 text-${S.color}-400`}),S.trend]})]})]},S.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[a.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"lg:col-span-1 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Actions Rapides"}),a.jsx("div",{className:"space-y-3",children:v.map(S=>a.jsxs("a",{href:S.link,className:`w-full flex items-center justify-start p-3 bg-${S.color}-600/10 hover:bg-${S.color}-600/20 text-${S.color}-300 rounded-lg transition-colors`,children:[S.icon," ",S.label]},S.label))})]}),a.jsxs(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Activité Récente"}),a.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:l?a.jsx("div",{className:"flex items-center justify-center h-40",children:a.jsx(kr,{className:"h-8 w-8 animate-spin text-blue-400"})}):p.length>0?p.map(S=>a.jsxs("div",{className:"flex items-start p-3 bg-slate-700/50 rounded-lg",children:[a.jsx("div",{className:`p-2 bg-${S.status==="Approuvée"||S.status==="Complétée"||S.status.startsWith("VIP")?"green":S.status==="En attente KYC"||S.status==="En cours d'examen"?"yellow":"slate"}-600/30 rounded-full mr-3`,children:_(S.category,S.status)}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("p",{className:"font-medium text-slate-200 text-sm",children:[a.jsxs("span",{className:"font-bold",children:[S.type,":"]})," ",S.item,S.value&&a.jsxs("span",{className:"text-green-400",children:[" (",S.value,")"]})]}),a.jsxs("p",{className:"text-xs text-slate-400",children:[S.timestamp?y(S.timestamp):"Récemment"," - ",a.jsx("span",{className:`font-semibold text-${S.status==="read"?"green":"yellow"}-400`,children:S.status==="read"?"Lu":"Non lu"})]})]})]},S.id)):a.jsx("div",{className:"text-center py-8 text-slate-400",children:l?"Chargement des activités...":"Aucune activité récente à afficher"})})]})]})]})},GPe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},ZPe=(e,t,r)=>{let n;const i=GPe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},YPe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},XPe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},JPe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QPe={date:Th({formats:YPe,defaultWidth:"full"}),time:Th({formats:XPe,defaultWidth:"full"}),dateTime:Th({formats:JPe,defaultWidth:"full"})},e2e={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},t2e=(e,t,r,n)=>e2e[e],r2e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},n2e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},i2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},s2e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},a2e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},o2e=(e,t)=>{const r=Number(e),n=t?.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},l2e=["MMM","MMMM"],c2e={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&l2e.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:o2e,era:mo({values:r2e,defaultWidth:"wide"}),quarter:mo({values:n2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mo({values:i2e,defaultWidth:"wide"}),day:mo({values:s2e,defaultWidth:"wide"}),dayPeriod:mo({values:a2e,defaultWidth:"wide"})},u2e=/^(\d+)(ième|ère|ème|er|e)?/i,d2e=/\d+/i,f2e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},h2e={any:[/^av/i,/^ap/i]},p2e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},m2e={any:[/1/i,/2/i,/3/i,/4/i]},g2e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},v2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},y2e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},x2e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},b2e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},w2e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},_2e={ordinalNumber:C9({matchPattern:u2e,parsePattern:d2e,valueCallback:e=>parseInt(e)}),era:go({matchPatterns:f2e,defaultMatchWidth:"wide",parsePatterns:h2e,defaultParseWidth:"any"}),quarter:go({matchPatterns:p2e,defaultMatchWidth:"wide",parsePatterns:m2e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:go({matchPatterns:g2e,defaultMatchWidth:"wide",parsePatterns:v2e,defaultParseWidth:"any"}),day:go({matchPatterns:y2e,defaultMatchWidth:"wide",parsePatterns:x2e,defaultParseWidth:"any"}),dayPeriod:go({matchPatterns:b2e,defaultMatchWidth:"any",parsePatterns:w2e,defaultParseWidth:"any"})},Kp={code:"fr",formatDistance:ZPe,formatLong:QPe,formatRelative:t2e,localize:c2e,match:_2e,options:{weekStartsOn:1,firstWeekContainsDate:4}};function j2e(){const{toast:e}=Cn(),t=Fo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[f,p]=x.useState("desc"),[g,v]=x.useState(1),[w,y]=x.useState(10),{data:_,isLoading:S,isError:N}=Gn({queryKey:["adminUsers",{searchTerm:r,statusFilter:i,roleFilter:o,sortBy:c,sortOrder:f,page:g,perPage:w}],queryFn:async()=>await $a.getAllUsers()}),C=ii({mutationFn:({userId:U,status:z})=>$a.updateUserStatus(U,z),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Statut utilisateur mis à jour avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Une erreur est survenue",variant:"destructive"})}}),k=ii({mutationFn:U=>$a.updateUserStatus(U,"deleted"),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Utilisateur supprimé avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Une erreur est survenue lors de la suppression",variant:"destructive"})}}),A=ii({mutationFn:({userId:U,role:z})=>$a.updateUserRole(U,z),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Rôle utilisateur mis à jour avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Une erreur est survenue",variant:"destructive"})}}),T=(U,z)=>{C.mutate({userId:U,status:z})},O=(U,z)=>{A.mutate({userId:U,role:z})},I=U=>{window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.")&&k.mutate(U)},q=()=>{try{if(!_||_.length===0){e({title:"Aucune donnée",description:"Aucun utilisateur à exporter",variant:"destructive"});return}v_.users(_,"utilisateurs-maximarket"),e({title:"Export réussi",description:"Liste des utilisateurs exportée en CSV"})}catch(U){e({title:"Erreur d'export",description:U.message||"Impossible d'exporter les données",variant:"destructive"})}},Z=()=>{e({title:"Fonctionnalité à venir",description:"La création d'utilisateur sera bientôt disponible"})},V=U=>{n(U.target.value),v(1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les utilisateurs de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>q(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:Z,children:[a.jsx(cu,{className:"mr-2 h-4 w-4"}),"Nouvel Utilisateur"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:V,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher un utilisateur...",className:"pl-8",value:r,onChange:U=>n(U.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Pr,{value:i,onValueChange:s,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les statuts"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"active",children:"Actif"}),a.jsx(Ge,{value:"inactive",children:"Inactif"}),a.jsx(Ge,{value:"suspended",children:"Suspendu"}),a.jsx(Ge,{value:"pending",children:"En attente"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rôle"}),a.jsxs(Pr,{value:o,onValueChange:l,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les rôles"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les rôles"}),a.jsx(Ge,{value:"user",children:"Utilisateur"}),a.jsx(Ge,{value:"vendor",children:"Vendeur"}),a.jsx(Ge,{value:"admin",children:"Administrateur"}),a.jsx(Ge,{value:"moderator",children:"Modérateur"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Pr,{value:c,onValueChange:u,children:[a.jsx(Cr,{className:"w-full",children:a.jsx(Tr,{placeholder:"Trier par"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"createdAt",children:"Date d'inscription"}),a.jsx(Ge,{value:"name",children:"Nom"}),a.jsx(Ge,{value:"email",children:"Email"}),a.jsx(Ge,{value:"lastLogin",children:"Dernière connexion"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>p(f==="asc"?"desc":"asc"),children:f==="asc"?a.jsx(_d,{className:"h-4 w-4"}):a.jsx(jl,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(rs,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(qp,{children:[a.jsx(Up,{children:a.jsxs(rn,{children:[a.jsx(ur,{children:"Utilisateur"}),a.jsx(ur,{children:"Email"}),a.jsx(ur,{children:"Rôle"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Inscrit le"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(Vp,{children:S?a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des utilisateurs"})}):_?.length>0?_.slice((g-1)*w,g*w).map(U=>a.jsxs(rn,{children:[a.jsx(Ot,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:U.first_name?.charAt(0)||U.last_name?.charAt(0)||"U"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.first_name&&U.last_name?`${U.first_name} ${U.last_name}`:U.first_name||U.last_name||"Utilisateur sans nom"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",U.id?.substring(0,6),"..."]})]})]})}),a.jsx(Ot,{children:U.email}),a.jsx(Ot,{children:a.jsxs(Pr,{value:U.role,onValueChange:z=>O(U.id,z),disabled:A.isLoading,children:[a.jsx(Cr,{className:"w-[120px]",children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"user",children:"Utilisateur"}),a.jsx(Ge,{value:"vendor",children:"Vendeur"}),a.jsx(Ge,{value:"moderator",children:"Modérateur"}),a.jsx(Ge,{value:"admin",children:"Administrateur"})]})]})}),a.jsx(Ot,{children:a.jsx(yt,{variant:U.status==="active"?"default":U.status==="suspended"?"destructive":"outline",className:"capitalize",children:U.status==="active"?"Actif":U.status==="suspended"?"Suspendu":U.status==="pending"?"En attente":"Inactif"})}),a.jsx(Ot,{children:U.created_at?Sr(new Date(U.created_at),"PP",{locale:Kp}):"N/A"}),a.jsx(Ot,{className:"text-right",children:a.jsxs(ky,{children:[a.jsx(Oy,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Ud,{className:"h-4 w-4"})]})}),a.jsxs($p,{align:"end",children:[a.jsxs(_n,{children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Envoyer un message"})]}),a.jsx(_n,{onClick:()=>T(U.id,U.status==="active"?"suspended":"active"),disabled:C.isLoading,children:U.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(gde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Suspendre"})]}):a.jsxs(a.Fragment,{children:[a.jsx(mde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Activer"})]})}),a.jsx(Fp,{}),a.jsxs(_n,{className:"text-destructive",onClick:()=>I(U.id),disabled:k.isLoading,children:[a.jsx(ko,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},U.id)):a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Aucun utilisateur trouvé"})})})]})}),_&&_.length>w&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*w+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*w,_.length)})," ","sur ",a.jsx("span",{className:"font-medium",children:_.length})," utilisateurs"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Pr,{value:`${w}`,onValueChange:U=>{y(Number(U)),v(1)},children:[a.jsx(Cr,{className:"h-8 w-[70px]",children:a.jsx(Tr,{placeholder:w})}),a.jsx(Er,{side:"top",children:[5,10,20,30,40,50].map(U=>a.jsx(Ge,{value:`${U}`,children:U},U))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(_.length/w)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(oy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(_.length/w),g+1)),disabled:g===Math.ceil(_.length/w),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Va,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(_.length/w)),disabled:g===Math.ceil(_.length/w),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(ly,{className:"h-4 w-4"})]})]})]})]})]})}function S2e(){const{toast:e}=Cn(),t=Fo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[f,p]=x.useState("desc"),[g,v]=x.useState(1),[w,y]=x.useState(10),{data:_,isLoading:S,isError:N}=Gn({queryKey:["adminListings",{searchTerm:r,statusFilter:i,categoryFilter:o,sortBy:c,sortOrder:f,page:g,perPage:w}],queryFn:async()=>{const W={};return r&&(W.search=r),i!=="all"&&(W.status=i),o!=="all"&&(W.category=o),await Hr.getAllListings(W)}}),C=_?.data||[],k=_?.count||0;_?.hasMore;const{data:A}=Gn({queryKey:["categories"],queryFn:()=>bg.getAllCategories()}),T=ii({mutationFn:W=>Hr.updateListingStatus(W,"approved"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce approuvée avec succès"})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors de l'approbation",variant:"destructive"})}}),O=ii({mutationFn:W=>Hr.updateListingStatus(W,"rejected"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce rejetée avec succès"})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors du rejet",variant:"destructive"})}}),I=ii({mutationFn:W=>Hr.deleteListing(W),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce supprimée avec succès"})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors de la suppression",variant:"destructive"})}}),q=ii({mutationFn:({listingId:W,featured:Q})=>Hr.updateListing(W,{featured:Q}),onSuccess:(W,Q)=>{t.invalidateQueries(["adminListings"]);const Y=Q.featured?"mise en avant":"retirée de l'avant";e({title:"Succès",description:`Annonce ${Y} avec succès`})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors de la mise à jour",variant:"destructive"})}}),Z=W=>{T.mutate(W)},V=W=>{O.mutate(W)},U=W=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette annonce ?")&&I.mutate(W)},z=(W,Q)=>{q.mutate({listingId:W,featured:Q})},H=W=>{W.preventDefault(),v(1)},re=W=>{n(W.target.value),v(1)},se=()=>{try{if(!C||C.length===0){e({title:"Aucune donnée",description:"Aucune annonce à exporter",variant:"destructive"});return}v_.listings(C,"annonces-maximarket"),e({title:"Export réussi",description:"Liste des annonces exportée en CSV"})}catch(W){e({title:"Erreur d'export",description:W.message||"Impossible d'exporter les données",variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et modérez les annonces de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>se(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsx(ue,{asChild:!0,children:a.jsxs(ir,{to:"/creer-annonce",children:[a.jsx(cu,{className:"mr-2 h-4 w-4"}),"Nouvelle Annonce"]})})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:H,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher une annonce...",className:"pl-8",value:r,onChange:re})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Pr,{value:i,onValueChange:s,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les statuts"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"pending",children:"En attente"}),a.jsx(Ge,{value:"approved",children:"Approuvé"}),a.jsx(Ge,{value:"rejected",children:"Rejeté"}),a.jsx(Ge,{value:"expired",children:"Expiré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Catégorie"}),a.jsxs(Pr,{value:o,onValueChange:l,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Toutes les catégories"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Toutes les catégories"}),a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Pr,{value:c,onValueChange:u,children:[a.jsx(Cr,{className:"w-full",children:a.jsx(Tr,{placeholder:"Trier par"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"created_at",children:"Date de création"}),a.jsx(Ge,{value:"title",children:"Titre"}),a.jsx(Ge,{value:"price",children:"Prix"}),a.jsx(Ge,{value:"views",children:"Vues"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>p(f==="asc"?"desc":"asc"),children:f==="asc"?a.jsx(_d,{className:"h-4 w-4"}):a.jsx(jl,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(rs,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",onClick:()=>se(),children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(qp,{children:[a.jsx(Up,{children:a.jsxs(rn,{children:[a.jsx(ur,{children:"Annonce"}),a.jsx(ur,{children:"Catégorie"}),a.jsx(ur,{children:"Prix"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Créé le"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(Vp,{children:S?a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des annonces"})}):C?.length>0?C.map(W=>a.jsxs(rn,{children:[a.jsx(Ot,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-md bg-slate-100 flex items-center justify-center",children:W.images?.[0]?a.jsx("img",{src:W.images[0],alt:W.title,className:"h-12 w-12 rounded-md object-cover"}):a.jsx("div",{className:"text-slate-400",children:"📷"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:W.title}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Par ",W.users?.first_name&&W.users?.last_name?`${W.users.first_name} ${W.users.last_name}`:W.users?.first_name||W.users?.last_name||"Utilisateur"]})]})]})}),a.jsx(Ot,{children:a.jsx(yt,{variant:"outline",className:"capitalize",children:W.category==="real_estate"?"Immobilier":W.category==="automobile"?"Automobile":W.category==="services"?"Services":W.category==="marketplace"?"Marketplace":"Général"})}),a.jsx(Ot,{children:W.price?`${W.price.toLocaleString()} FCFA`:"N/A"}),a.jsx(Ot,{children:a.jsx(yt,{variant:W.status==="approved"?"default":W.status==="rejected"?"destructive":"outline",className:"capitalize",children:W.status==="pending"?"En attente":W.status==="approved"?"Approuvé":W.status==="rejected"?"Rejeté":W.status==="expired"?"Expiré":W.status})}),a.jsx(Ot,{children:W.created_at?Sr(new Date(W.created_at),"PP",{locale:Kp}):"N/A"}),a.jsx(Ot,{className:"text-right",children:a.jsxs(ky,{children:[a.jsx(Oy,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Ud,{className:"h-4 w-4"})]})}),a.jsxs($p,{align:"end",children:[a.jsxs(_n,{children:[a.jsx(Rl,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Voir les détails"})]}),W.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(_n,{onClick:()=>Z(W.id),disabled:T.isLoading,children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),a.jsxs(_n,{onClick:()=>V(W.id),disabled:O.isLoading,children:[a.jsx(zO,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Rejeter"})]})]}),W.status==="rejected"&&a.jsxs(_n,{onClick:()=>Z(W.id),disabled:T.isLoading,children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),W.status==="expired"&&a.jsxs(_n,{onClick:()=>Z(W.id),disabled:T.isLoading,children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Réactiver"})]}),a.jsx(_n,{onClick:()=>z(W.id,!W.featured),disabled:q.isLoading,children:W.featured?a.jsxs(a.Fragment,{children:[a.jsx(fde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Retirer la mise en avant"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Mettre en avant"})]})}),a.jsx(Fp,{}),a.jsxs(_n,{className:"text-destructive",onClick:()=>U(W.id),disabled:I.isLoading,children:[a.jsx(ko,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},W.id)):a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Aucune annonce trouvée"})})})]})}),k>w&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*w+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*w,k)})," ","sur ",a.jsx("span",{className:"font-medium",children:k})," annonces"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Pr,{value:`${w}`,onValueChange:W=>{y(Number(W)),v(1)},children:[a.jsx(Cr,{className:"h-8 w-[70px]",children:a.jsx(Tr,{placeholder:w})}),a.jsx(Er,{side:"top",children:[5,10,20,30,40,50].map(W=>a.jsx(Ge,{value:`${W}`,children:W},W))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(k/w)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(oy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(k/w),g+1)),disabled:g===Math.ceil(k/w),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Va,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(k/w)),disabled:g===Math.ceil(k/w),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(ly,{className:"h-4 w-4"})]})]})]})]})]})}function N2e(){const[e,t]=x.useState(""),[r,n]=x.useState("all"),[i,s]=x.useState("all"),[o,l]=x.useState("created_at"),[c,u]=x.useState("desc"),[f,p]=x.useState(1),[g,v]=x.useState(10),{data:w,isLoading:y,isError:_}=Gn({queryKey:["adminTransactions",{searchTerm:e,statusFilter:r,typeFilter:i,sortBy:o,sortOrder:c,page:f,perPage:g}],queryFn:async()=>{const T={};return r!=="all"&&(T.status=r),i!=="all"&&(T.type=i),await Ide.getAllTransactions(T)}}),S=T=>{t(T.target.value),p(1)},N=(T,O="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:O,minimumFractionDigits:0,maximumFractionDigits:0}).format(T),C=T=>{switch(T){case"completed":return a.jsxs(yt,{variant:"success",children:[a.jsx(Li,{className:"mr-1 h-3 w-3"})," Complétée"]});case"pending":return a.jsxs(yt,{variant:"warning",children:[a.jsx(Wa,{className:"mr-1 h-3 w-3"})," En attente"]});case"failed":return a.jsxs(yt,{variant:"destructive",children:[a.jsx(zO,{className:"mr-1 h-3 w-3"})," Échouée"]});case"refunded":return a.jsxs(yt,{variant:"outline",children:[a.jsx(Fg,{className:"mr-1 h-3 w-3"})," Remboursée"]});default:return a.jsx(yt,{variant:"outline",children:T})}},k=T=>{switch(T){case"purchase":return a.jsx(yt,{variant:"default",children:"Achat"});case"subscription":return a.jsx(yt,{variant:"secondary",children:"Abonnement"});case"refund":return a.jsx(yt,{variant:"outline",children:"Remboursement"});default:return a.jsx(yt,{variant:"outline",children:T})}},A=w?{totalRevenue:w.filter(T=>T.status==="completed").reduce((T,O)=>T+(O.amount||0),0),totalTransactions:w.length,successRate:w.length>0?Math.round(w.filter(T=>T.status==="completed").length/w.length*100):0,averageOrderValue:w.filter(T=>T.status==="completed").length>0?w.filter(T=>T.status==="completed").reduce((T,O)=>T+(O.amount||0),0)/w.filter(T=>T.status==="completed").length:0}:{totalRevenue:0,totalTransactions:0,successRate:0,averageOrderValue:0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et surveillez toutes les transactions de la plateforme"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(Vh,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chiffre d'affaires total"}),a.jsx("p",{className:"text-2xl font-bold",children:N(A.totalRevenue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 12% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Fg,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),a.jsx("p",{className:"text-2xl font-bold",children:A.totalTransactions})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 8% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Li,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de réussite"}),a.jsxs("p",{className:"text-2xl font-bold",children:[A.successRate,"%"]})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 2% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/50",children:a.jsx(Zn,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur moyenne"}),a.jsx("p",{className:"text-2xl font-bold",children:N(A.averageOrderValue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 5% "}),"vs période précédente"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsx("form",{onSubmit:T=>{T.preventDefault(),p(1)},className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rechercher"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher une transaction...",className:"pl-8",value:e,onChange:S})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Pr,{value:r,onValueChange:n,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les statuts"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"pending",children:"En attente"}),a.jsx(Ge,{value:"completed",children:"Complétée"}),a.jsx(Ge,{value:"failed",children:"Échouée"}),a.jsx(Ge,{value:"refunded",children:"Remboursée"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(Pr,{value:i,onValueChange:s,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les types"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:"purchase",children:"Achats"}),a.jsx(Ge,{value:"subscription",children:"Abonnements"}),a.jsx(Ge,{value:"refund",children:"Remboursements"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs(Pr,{value:o,onValueChange:l,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Trier par"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"created_at",children:"Date"}),a.jsx(Ge,{value:"amount",children:"Montant"}),a.jsx(Ge,{value:"reference",children:"Référence"})]})]})]})]})})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(qp,{children:[a.jsx(Up,{children:a.jsxs(rn,{children:[a.jsx(ur,{children:"Référence"}),a.jsx(ur,{children:"Utilisateur"}),a.jsx(ur,{children:"Montant"}),a.jsx(ur,{children:"Type"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Date"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(Vp,{children:y?a.jsx(rn,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement des transactions..."})]})})}):_?a.jsx(rn,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-destructive",children:[a.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Erreur lors du chargement des transactions"]})})}):w?.length===0?a.jsx(rn,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Fg,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucune transaction trouvée"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transactions apparaîtront ici une fois qu'elles seront créées."})]})})}):w?.map(T=>a.jsxs(rn,{children:[a.jsx(Ot,{className:"font-medium",children:T.payment_reference||T.id.slice(0,8)}),a.jsx(Ot,{children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[T.users?.first_name," ",T.users?.last_name]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.users?.email})]})}),a.jsx(Ot,{className:"font-medium",children:N(T.amount,T.currency)}),a.jsx(Ot,{children:k(T.type)}),a.jsx(Ot,{children:C(T.status)}),a.jsx(Ot,{children:T.created_at?Sr(new Date(T.created_at),"PP",{locale:Kp}):"N/A"}),a.jsx(Ot,{className:"text-right",children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(Ud,{className:"h-4 w-4"})})})]},T.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(f-1)*g+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(f*g,w?.length||0)})," ","sur ",a.jsx("span",{className:"font-medium",children:w?.length||0})," transactions"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Pr,{value:`${g}`,onValueChange:T=>{v(Number(T)),p(1)},children:[a.jsx(Cr,{className:"h-8 w-[70px]",children:a.jsx(Tr,{placeholder:g})}),a.jsx(Er,{side:"top",children:[5,10,20,30,40,50].map(T=>a.jsx(Ge,{value:`${T}`,children:T},T))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",f," sur ",Math.ceil((w?.length||0)/g)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(1),disabled:f===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(oy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.max(1,f-1)),disabled:f===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.min(Math.ceil((w?.length||0)/g),f+1)),disabled:f===Math.ceil((w?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Va,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.ceil((w?.length||0)/g)),disabled:f===Math.ceil((w?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(ly,{className:"h-4 w-4"})]})]})]})]})]})}var IN,X3;function ss(){if(X3)return IN;X3=1;var e=Array.isArray;return IN=e,IN}var DN,J3;function yJ(){if(J3)return DN;J3=1;var e=typeof Ps=="object"&&Ps&&Ps.Object===Object&&Ps;return DN=e,DN}var LN,Q3;function zo(){if(Q3)return LN;Q3=1;var e=yJ(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return LN=r,LN}var $N,eB;function Dy(){if(eB)return $N;eB=1;var e=zo(),t=e.Symbol;return $N=t,$N}var FN,tB;function C2e(){if(tB)return FN;tB=1;var e=Dy(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(l?o[i]=c:delete o[i]),f}return FN=s,FN}var BN,rB;function E2e(){if(rB)return BN;rB=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return BN=r,BN}var zN,nB;function Wl(){if(nB)return zN;nB=1;var e=Dy(),t=C2e(),r=E2e(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?t(l):r(l)}return zN=o,zN}var qN,iB;function Hl(){if(iB)return qN;iB=1;function e(t){return t!=null&&typeof t=="object"}return qN=e,qN}var UN,sB;function Gp(){if(sB)return UN;sB=1;var e=Wl(),t=Hl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return UN=n,UN}var VN,aB;function _M(){if(aB)return VN;aB=1;var e=ss(),t=Gp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return VN=i,VN}var WN,oB;function xu(){if(oB)return WN;oB=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return WN=e,WN}var HN,lB;function jM(){if(lB)return HN;lB=1;var e=Wl(),t=xu(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==i||c==r||c==s}return HN=o,HN}var KN,cB;function P2e(){if(cB)return KN;cB=1;var e=zo(),t=e["__core-js_shared__"];return KN=t,KN}var GN,uB;function T2e(){if(uB)return GN;uB=1;var e=P2e(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return GN=r,GN}var ZN,dB;function xJ(){if(dB)return ZN;dB=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return ZN=r,ZN}var YN,fB;function A2e(){if(fB)return YN;fB=1;var e=jM(),t=T2e(),r=xu(),n=xJ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||t(g))return!1;var v=e(g)?f:s;return v.test(n(g))}return YN=p,YN}var XN,hB;function k2e(){if(hB)return XN;hB=1;function e(t,r){return t?.[r]}return XN=e,XN}var JN,pB;function Qd(){if(pB)return JN;pB=1;var e=A2e(),t=k2e();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return JN=r,JN}var QN,mB;function t1(){if(mB)return QN;mB=1;var e=Qd(),t=e(Object,"create");return QN=t,QN}var eC,gB;function O2e(){if(gB)return eC;gB=1;var e=t1();function t(){this.__data__=e?e(null):{},this.size=0}return eC=t,eC}var tC,vB;function R2e(){if(vB)return tC;vB=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return tC=e,tC}var rC,yB;function M2e(){if(yB)return rC;yB=1;var e=t1(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return n.call(o,s)?o[s]:void 0}return rC=i,rC}var nC,xB;function I2e(){if(xB)return nC;xB=1;var e=t1(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return nC=n,nC}var iC,bB;function D2e(){if(bB)return iC;bB=1;var e=t1(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return iC=r,iC}var sC,wB;function L2e(){if(wB)return sC;wB=1;var e=O2e(),t=R2e(),r=M2e(),n=I2e(),i=D2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,sC=s,sC}var aC,_B;function $2e(){if(_B)return aC;_B=1;function e(){this.__data__=[],this.size=0}return aC=e,aC}var oC,jB;function SM(){if(jB)return oC;jB=1;function e(t,r){return t===r||t!==t&&r!==r}return oC=e,oC}var lC,SB;function r1(){if(SB)return lC;SB=1;var e=SM();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return lC=t,lC}var cC,NB;function F2e(){if(NB)return cC;NB=1;var e=r1(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return cC=n,cC}var uC,CB;function B2e(){if(CB)return uC;CB=1;var e=r1();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return uC=t,uC}var dC,EB;function z2e(){if(EB)return dC;EB=1;var e=r1();function t(r){return e(this.__data__,r)>-1}return dC=t,dC}var fC,PB;function q2e(){if(PB)return fC;PB=1;var e=r1();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return fC=t,fC}var hC,TB;function n1(){if(TB)return hC;TB=1;var e=$2e(),t=F2e(),r=B2e(),n=z2e(),i=q2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,hC=s,hC}var pC,AB;function NM(){if(AB)return pC;AB=1;var e=Qd(),t=zo(),r=e(t,"Map");return pC=r,pC}var mC,kB;function U2e(){if(kB)return mC;kB=1;var e=L2e(),t=n1(),r=NM();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return mC=n,mC}var gC,OB;function V2e(){if(OB)return gC;OB=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return gC=e,gC}var vC,RB;function i1(){if(RB)return vC;RB=1;var e=V2e();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return vC=t,vC}var yC,MB;function W2e(){if(MB)return yC;MB=1;var e=i1();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return yC=t,yC}var xC,IB;function H2e(){if(IB)return xC;IB=1;var e=i1();function t(r){return e(this,r).get(r)}return xC=t,xC}var bC,DB;function K2e(){if(DB)return bC;DB=1;var e=i1();function t(r){return e(this,r).has(r)}return bC=t,bC}var wC,LB;function G2e(){if(LB)return wC;LB=1;var e=i1();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return wC=t,wC}var _C,$B;function CM(){if($B)return _C;$B=1;var e=U2e(),t=W2e(),r=H2e(),n=K2e(),i=G2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,_C=s,_C}var jC,FB;function bJ(){if(FB)return jC;FB=1;var e=CM(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||e),s}return r.Cache=e,jC=r,jC}var SC,BB;function Z2e(){if(BB)return SC;BB=1;var e=bJ(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return SC=r,SC}var NC,zB;function Y2e(){if(zB)return NC;zB=1;var e=Z2e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return NC=n,NC}var CC,qB;function EM(){if(qB)return CC;qB=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return CC=e,CC}var EC,UB;function X2e(){if(UB)return EC;UB=1;var e=Dy(),t=EM(),r=ss(),n=Gp(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return EC=o,EC}var PC,VB;function wJ(){if(VB)return PC;VB=1;var e=X2e();function t(r){return r==null?"":e(r)}return PC=t,PC}var TC,WB;function _J(){if(WB)return TC;WB=1;var e=ss(),t=_M(),r=Y2e(),n=wJ();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return TC=i,TC}var AC,HB;function s1(){if(HB)return AC;HB=1;var e=Gp();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return AC=t,AC}var kC,KB;function PM(){if(KB)return kC;KB=1;var e=_J(),t=s1();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return kC=r,kC}var OC,GB;function jJ(){if(GB)return OC;GB=1;var e=PM();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return OC=t,OC}var J2e=jJ();const ks=pr(J2e);var RC,ZB;function Q2e(){if(ZB)return RC;ZB=1;function e(t){return t==null}return RC=e,RC}var eTe=Q2e();const Mt=pr(eTe);var MC,YB;function tTe(){if(YB)return MC;YB=1;var e=Wl(),t=ss(),r=Hl(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return MC=i,MC}var rTe=tTe();const Ld=pr(rTe);var nTe=jM();const Rt=pr(nTe);var iTe=xu();const Zp=pr(iTe);var IC={exports:{}},gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XB;function sTe(){if(XB)return gr;XB=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function y(_){if(typeof _=="object"&&_!==null){var S=_.$$typeof;switch(S){case e:switch(_=_.type,_){case r:case i:case n:case u:case f:return _;default:switch(_=_&&_.$$typeof,_){case l:case o:case c:case g:case p:case s:return _;default:return S}}case t:return S}}}return gr.ContextConsumer=o,gr.ContextProvider=s,gr.Element=e,gr.ForwardRef=c,gr.Fragment=r,gr.Lazy=g,gr.Memo=p,gr.Portal=t,gr.Profiler=i,gr.StrictMode=n,gr.Suspense=u,gr.SuspenseList=f,gr.isAsyncMode=function(){return!1},gr.isConcurrentMode=function(){return!1},gr.isContextConsumer=function(_){return y(_)===o},gr.isContextProvider=function(_){return y(_)===s},gr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},gr.isForwardRef=function(_){return y(_)===c},gr.isFragment=function(_){return y(_)===r},gr.isLazy=function(_){return y(_)===g},gr.isMemo=function(_){return y(_)===p},gr.isPortal=function(_){return y(_)===t},gr.isProfiler=function(_){return y(_)===i},gr.isStrictMode=function(_){return y(_)===n},gr.isSuspense=function(_){return y(_)===u},gr.isSuspenseList=function(_){return y(_)===f},gr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===u||_===f||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===s||_.$$typeof===o||_.$$typeof===c||_.$$typeof===w||_.getModuleId!==void 0)},gr.typeOf=y,gr}var JB;function aTe(){return JB||(JB=1,IC.exports=sTe()),IC.exports}var oTe=aTe(),DC,QB;function SJ(){if(QB)return DC;QB=1;var e=Wl(),t=Hl(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return DC=n,DC}var LC,e5;function lTe(){if(e5)return LC;e5=1;var e=SJ();function t(r){return e(r)&&r!=+r}return LC=t,LC}var cTe=lTe();const Ly=pr(cTe);var uTe=SJ();const dTe=pr(uTe);var Ii=function(t){return t===0?0:t>0?1:-1},pd=function(t){return Ld(t)&&t.indexOf("%")===t.length-1},et=function(t){return dTe(t)&&!Ly(t)},fTe=function(t){return Mt(t)},$n=function(t){return et(t)||Ld(t)},hTe=0,Yp=function(t){var r=++hTe;return"".concat(t||"").concat(r)},Fa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(t)&&!Ld(t))return n;var s;if(pd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Ly(s)&&(s=n),i&&s>r&&(s=r),s},Kc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},pTe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Cs=function(t,r){return et(t)&&et(r)?function(n){return t+n*(r-t)}:function(){return r}};function sw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ks(n,t))===r})}var mTe=function(t,r){return et(t)&&et(r)?t-r:Ld(t)&&Ld(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ih(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function EA(e){"@babel/helpers - typeof";return EA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EA(e)}var gTe=["viewBox","children"],vTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t5=["points","pathLength"],$C={svg:gTe,polygon:t5,polyline:t5},TM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],aw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Zp(n))return null;var i={};return Object.keys(n).forEach(function(s){TM.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},yTe=function(t,r,n){return function(i){return t(r,n,i),null}},gv=function(t,r,n){if(!Zp(t)||EA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];TM.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=yTe(o,r,n))}),i},xTe=["children"],bTe=["children"];function r5(e,t){if(e==null)return{};var r=wTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PA(e){"@babel/helpers - typeof";return PA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PA(e)}var n5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Pl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},i5=null,FC=null,AM=function e(t){if(t===i5&&Array.isArray(FC))return FC;var r=[];return x.Children.forEach(t,function(n){Mt(n)||(oTe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),FC=r,i5=t,r};function Os(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Pl(i)}):n=[Pl(t)],AM(e).forEach(function(i){var s=ks(i,"type.displayName")||ks(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function _s(e,t){var r=Os(e,t);return r&&r[0]}var s5=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!et(n)||n<=0||!et(i)||i<=0)},_Te=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jTe=function(t){return t&&t.type&&Ld(t.type)&&_Te.indexOf(t.type)>=0},STe=function(t){return t&&PA(t)==="object"&&"clipDot"in t},NTe=function(t,r,n,i){var s,o=(s=$C?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Rt(t)&&(i&&o.includes(r)||vTe.includes(r))||n&&TM.includes(r)},Vt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!Zp(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;NTe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},TA=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return a5(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!a5(s,o))return!1}return!0},a5=function(t,r){if(Mt(t)&&Mt(r))return!0;if(!Mt(t)&&!Mt(r)){var n=t.props||{},i=n.children,s=r5(n,xTe),o=r.props||{},l=o.children,c=r5(o,bTe);return i&&l?Ih(s,c)&&TA(i,l):!i&&!l?Ih(s,c):!1}return!1},o5=function(t,r){var n=[],i={};return AM(t).forEach(function(s,o){if(jTe(s))n.push(s);else if(s){var l=Pl(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var p=u(s,l,o);n.push(p),i[l]=!0}}}),n},CTe=function(t){var r=t&&t.type;return r&&n5[r]?n5[r]:null},ETe=function(t,r){return AM(r).indexOf(t)},PTe=["children","width","height","viewBox","className","style","title","desc"];function AA(){return AA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AA.apply(this,arguments)}function TTe(e,t){if(e==null)return{};var r=ATe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ATe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kA(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=TTe(e,PTe),f=i||{width:r,height:n,x:0,y:0},p=Kt("recharts-surface",s);return X.createElement("svg",AA({},Vt(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),X.createElement("title",null,l),X.createElement("desc",null,c),t)}var kTe=["children","className"];function OA(){return OA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OA.apply(this,arguments)}function OTe(e,t){if(e==null)return{};var r=RTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fr=X.forwardRef(function(e,t){var r=e.children,n=e.className,i=OTe(e,kTe),s=Kt("recharts-layer",n);return X.createElement("g",OA({className:s},Vt(i,!0),{ref:t}),r)}),qa=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},BC,l5;function MTe(){if(l5)return BC;l5=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+r];return o}return BC=e,BC}var zC,c5;function ITe(){if(c5)return zC;c5=1;var e=MTe();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return zC=t,zC}var qC,u5;function NJ(){if(u5)return qC;u5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+s+"]");function c(u){return l.test(u)}return qC=c,qC}var UC,d5;function DTe(){if(d5)return UC;d5=1;function e(t){return t.split("")}return UC=e,UC}var VC,f5;function LTe(){if(f5)return VC;f5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=u+"?",y="["+s+"]?",_="(?:"+v+"(?:"+[f,p,g].join("|")+")"+y+w+")*",S=y+w+_,N="(?:"+[f+l+"?",l,p,g,o].join("|")+")",C=RegExp(c+"(?="+c+")|"+N+S,"g");function k(A){return A.match(C)||[]}return VC=k,VC}var WC,h5;function $Te(){if(h5)return WC;h5=1;var e=DTe(),t=NJ(),r=LTe();function n(i){return t(i)?r(i):e(i)}return WC=n,WC}var HC,p5;function FTe(){if(p5)return HC;p5=1;var e=ITe(),t=NJ(),r=$Te(),n=wJ();function i(s){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[s]()+u}}return HC=i,HC}var KC,m5;function BTe(){if(m5)return KC;m5=1;var e=FTe(),t=e("toUpperCase");return KC=t,KC}var zTe=BTe();const a1=pr(zTe);function $r(e){return function(){return e}}const CJ=Math.cos,ow=Math.sin,Qa=Math.sqrt,lw=Math.PI,o1=2*lw,RA=Math.PI,MA=2*RA,ad=1e-6,qTe=MA-ad;function EJ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function UTe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return EJ;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class VTe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?EJ:UTe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,f=o-t,p=l-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>ad)if(!(Math.abs(p*c-u*f)>ad)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-o,w=i-l,y=c*c+u*u,_=v*v+w*w,S=Math.sqrt(y),N=Math.sqrt(g),C=s*Math.tan((RA-Math.acos((y+g-_)/(2*S*N)))/2),k=C/N,A=C/S;Math.abs(k-1)>ad&&this._append`L${t+k*f},${r+k*p}`,this._append`A${s},${s},0,0,${+(p*v>f*w)},${this._x1=t+A*c},${this._y1=r+A*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,p=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ad||Math.abs(this._y1-f)>ad)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%MA+MA),g>qTe?this._append`A${n},${n},0,1,${p},${t-l},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:g>ad&&this._append`A${n},${n},0,${+(g>=RA)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function kM(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new VTe(t)}function OM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PJ(e){this._context=e}PJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function l1(e){return new PJ(e)}function TJ(e){return e[0]}function AJ(e){return e[1]}function kJ(e,t){var r=$r(!0),n=null,i=l1,s=null,o=kM(l);e=typeof e=="function"?e:e===void 0?TJ:$r(e),t=typeof t=="function"?t:t===void 0?AJ:$r(t);function l(c){var u,f=(c=OM(c)).length,p,g=!1,v;for(n==null&&(s=i(v=o())),u=0;u<=f;++u)!(u<f&&r(p=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(p,u,c),+t(p,u,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:$r(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function z0(e,t,r){var n=null,i=$r(!0),s=null,o=l1,l=null,c=kM(u);e=typeof e=="function"?e:e===void 0?TJ:$r(+e),t=typeof t=="function"?t:$r(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AJ:$r(+r);function u(p){var g,v,w,y=(p=OM(p)).length,_,S=!1,N,C=new Array(y),k=new Array(y);for(s==null&&(l=o(N=c())),g=0;g<=y;++g){if(!(g<y&&i(_=p[g],g,p))===S)if(S=!S)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=v;--w)l.point(C[w],k[w]);l.lineEnd(),l.areaEnd()}S&&(C[g]=+e(_,g,p),k[g]=+t(_,g,p),l.point(n?+n(_,g,p):C[g],r?+r(_,g,p):k[g]))}if(N)return l=null,N+""||null}function f(){return kJ().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:$r(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:$r(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:$r(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:$r(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:$r(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:$r(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:$r(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(l=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=l=null:l=o(s=p),u):s},u}class OJ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WTe(e){return new OJ(e,!0)}function HTe(e){return new OJ(e,!1)}const RM={draw(e,t){const r=Qa(t/lw);e.moveTo(r,0),e.arc(0,0,r,0,o1)}},KTe={draw(e,t){const r=Qa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},RJ=Qa(1/3),GTe=RJ*2,ZTe={draw(e,t){const r=Qa(t/GTe),n=r*RJ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YTe={draw(e,t){const r=Qa(t),n=-r/2;e.rect(n,n,r,r)}},XTe=.8908130915292852,MJ=ow(lw/10)/ow(7*lw/10),JTe=ow(o1/10)*MJ,QTe=-CJ(o1/10)*MJ,eAe={draw(e,t){const r=Qa(t*XTe),n=JTe*r,i=QTe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=o1*s/5,l=CJ(o),c=ow(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},GC=Qa(3),tAe={draw(e,t){const r=-Qa(t/(GC*3));e.moveTo(0,r*2),e.lineTo(-GC*r,-r),e.lineTo(GC*r,-r),e.closePath()}},Xs=-.5,Js=Qa(3)/2,IA=1/Qa(12),rAe=(IA/2+1)*3,nAe={draw(e,t){const r=Qa(t/rAe),n=r/2,i=r*IA,s=n,o=r*IA+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Xs*n-Js*i,Js*n+Xs*i),e.lineTo(Xs*s-Js*o,Js*s+Xs*o),e.lineTo(Xs*l-Js*c,Js*l+Xs*c),e.lineTo(Xs*n+Js*i,Xs*i-Js*n),e.lineTo(Xs*s+Js*o,Xs*o-Js*s),e.lineTo(Xs*l+Js*c,Xs*c-Js*l),e.closePath()}};function iAe(e,t){let r=null,n=kM(i);e=typeof e=="function"?e:$r(e||RM),t=typeof t=="function"?t:$r(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:$r(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:$r(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function cw(){}function uw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IJ(e){this._context=e}IJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sAe(e){return new IJ(e)}function DJ(e){this._context=e}DJ.prototype={areaStart:cw,areaEnd:cw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aAe(e){return new DJ(e)}function LJ(e){this._context=e}LJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:uw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oAe(e){return new LJ(e)}function $J(e){this._context=e}$J.prototype={areaStart:cw,areaEnd:cw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lAe(e){return new $J(e)}function g5(e){return e<0?-1:1}function v5(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(g5(s)+g5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function y5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ZC(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function dw(e){this._context=e}dw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZC(this,this._t0,y5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZC(this,y5(this,r=v5(this,e,t)),r);break;default:ZC(this,this._t0,r=v5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function FJ(e){this._context=new BJ(e)}(FJ.prototype=Object.create(dw.prototype)).point=function(e,t){dw.prototype.point.call(this,t,e)};function BJ(e){this._context=e}BJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function cAe(e){return new dw(e)}function uAe(e){return new FJ(e)}function zJ(e){this._context=e}zJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=x5(e),i=x5(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function x5(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function dAe(e){return new zJ(e)}function c1(e,t){this._context=e,this._t=t}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fAe(e){return new c1(e,.5)}function hAe(e){return new c1(e,0)}function pAe(e){return new c1(e,1)}function rp(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function DA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mAe(e,t){return e[t]}function gAe(e){const t=[];return t.key=e,t}function vAe(){var e=$r([]),t=DA,r=rp,n=mAe;function i(s){var o=Array.from(e.apply(this,arguments),gAe),l,c=o.length,u=-1,f;for(const p of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(p,o[l].key,u,s)]).data=p;for(l=0,f=OM(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:$r(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:$r(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?DA:typeof s=="function"?s:$r(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??rp,i):r},i}function yAe(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}rp(e,t)}}function xAe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}rp(e,t)}}function bAe(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],p=f[n][1]||0,g=f[n-1][1]||0,v=(p-g)/2,w=0;w<l;++w){var y=e[t[w]],_=y[n][1]||0,S=y[n-1][1]||0;v+=_-S}c+=p,u+=v*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,rp(e,t)}}function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}var wAe=["type","size","sizeType"];function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LA.apply(this,arguments)}function b5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(r),!0).forEach(function(n){_Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ae(e,t,r){return t=jAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jAe(e){var t=SAe(e,"string");return vv(t)=="symbol"?t:t+""}function SAe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NAe(e,t){if(e==null)return{};var r=CAe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qJ={symbolCircle:RM,symbolCross:KTe,symbolDiamond:ZTe,symbolSquare:YTe,symbolStar:eAe,symbolTriangle:tAe,symbolWye:nAe},EAe=Math.PI/180,PAe=function(t){var r="symbol".concat(a1(t));return qJ[r]||RM},TAe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*EAe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},AAe=function(t,r){qJ["symbol".concat(a1(t))]=r},MM=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=NAe(t,wAe),u=w5(w5({},c),{},{type:n,size:s,sizeType:l}),f=function(){var _=PAe(n),S=iAe().type(_).size(TAe(s,l,n));return S()},p=u.className,g=u.cx,v=u.cy,w=Vt(u,!0);return g===+g&&v===+v&&s===+s?X.createElement("path",LA({},w,{className:Kt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:f()})):null};MM.registerSymbol=AAe;function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$A.apply(this,arguments)}function _5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(r),!0).forEach(function(n){yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VJ(n.key),n)}}function MAe(e,t,r){return t&&RAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IAe(e,t,r){return t=fw(t),DAe(e,UJ()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function DAe(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LAe(e)}function LAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UJ=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function $Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FA(e,t)}function FA(e,t){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FA(e,t)}function yv(e,t,r){return t=VJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=FAe(e,"string");return np(t)=="symbol"?t:t+""}function FAe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qs=32,IM=function(e){function t(){return OAe(this,t),IAe(this,t,arguments)}return $Ae(t,e),MAe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Qs/2,o=Qs/6,l=Qs/3,c=n.inactive?i:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Qs,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Qs,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Qs/8,"h").concat(Qs,"v").concat(Qs*3/4,"h").concat(-Qs,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var u=kAe({},n);return delete u.legendIcon,X.cloneElement(n.legendIcon,u)}return X.createElement(MM,{fill:c,cx:s,cy:s,size:Qs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Qs,height:Qs},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,w){var y=v.formatter||c,_=Kt(yv(yv({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Rt(v.value)?null:v.value;qa(!Rt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?u:v.color;return X.createElement("li",$A({className:_,style:p,key:"legend-item-".concat(w)},gv(n.props,v,w)),X.createElement(kA,{width:o,height:o,viewBox:f,style:g},n.renderIcon(v)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},y?y(S,v,w):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);yv(IM,"displayName","Legend");yv(IM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var YC,j5;function BAe(){if(j5)return YC;j5=1;var e=n1();function t(){this.__data__=new e,this.size=0}return YC=t,YC}var XC,S5;function zAe(){if(S5)return XC;S5=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return XC=e,XC}var JC,N5;function qAe(){if(N5)return JC;N5=1;function e(t){return this.__data__.get(t)}return JC=e,JC}var QC,C5;function UAe(){if(C5)return QC;C5=1;function e(t){return this.__data__.has(t)}return QC=e,QC}var eE,E5;function VAe(){if(E5)return eE;E5=1;var e=n1(),t=NM(),r=CM(),n=200;function i(s,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return eE=i,eE}var tE,P5;function WJ(){if(P5)return tE;P5=1;var e=n1(),t=BAe(),r=zAe(),n=qAe(),i=UAe(),s=VAe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,tE=o,tE}var rE,T5;function WAe(){if(T5)return rE;T5=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return rE=t,rE}var nE,A5;function HAe(){if(A5)return nE;A5=1;function e(t){return this.__data__.has(t)}return nE=e,nE}var iE,k5;function HJ(){if(k5)return iE;k5=1;var e=CM(),t=WAe(),r=HAe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,iE=n,iE}var sE,O5;function KJ(){if(O5)return sE;O5=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return sE=e,sE}var aE,R5;function GJ(){if(R5)return aE;R5=1;function e(t,r){return t.has(r)}return aE=e,aE}var oE,M5;function ZJ(){if(M5)return oE;M5=1;var e=HJ(),t=KJ(),r=GJ(),n=1,i=2;function s(o,l,c,u,f,p){var g=c&n,v=o.length,w=l.length;if(v!=w&&!(g&&w>v))return!1;var y=p.get(o),_=p.get(l);if(y&&_)return y==l&&_==o;var S=-1,N=!0,C=c&i?new e:void 0;for(p.set(o,l),p.set(l,o);++S<v;){var k=o[S],A=l[S];if(u)var T=g?u(A,k,S,l,o,p):u(k,A,S,o,l,p);if(T!==void 0){if(T)continue;N=!1;break}if(C){if(!t(l,function(O,I){if(!r(C,I)&&(k===O||f(k,O,c,u,p)))return C.push(I)})){N=!1;break}}else if(!(k===A||f(k,A,c,u,p))){N=!1;break}}return p.delete(o),p.delete(l),N}return oE=s,oE}var lE,I5;function KAe(){if(I5)return lE;I5=1;var e=zo(),t=e.Uint8Array;return lE=t,lE}var cE,D5;function GAe(){if(D5)return cE;D5=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return cE=e,cE}var uE,L5;function DM(){if(L5)return uE;L5=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return uE=e,uE}var dE,$5;function ZAe(){if($5)return dE;$5=1;var e=Dy(),t=KAe(),r=SM(),n=ZJ(),i=GAe(),s=DM(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",w="[object Set]",y="[object String]",_="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",C=e?e.prototype:void 0,k=C?C.valueOf:void 0;function A(T,O,I,q,Z,V,U){switch(I){case N:if(T.byteLength!=O.byteLength||T.byteOffset!=O.byteOffset)return!1;T=T.buffer,O=O.buffer;case S:return!(T.byteLength!=O.byteLength||!V(new t(T),new t(O)));case c:case u:case g:return r(+T,+O);case f:return T.name==O.name&&T.message==O.message;case v:case y:return T==O+"";case p:var z=i;case w:var H=q&o;if(z||(z=s),T.size!=O.size&&!H)return!1;var re=U.get(T);if(re)return re==O;q|=l,U.set(T,O);var se=n(z(T),z(O),q,Z,V,U);return U.delete(T),se;case _:if(k)return k.call(T)==k.call(O)}return!1}return dE=A,dE}var fE,F5;function YJ(){if(F5)return fE;F5=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return fE=e,fE}var hE,B5;function YAe(){if(B5)return hE;B5=1;var e=YJ(),t=ss();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return hE=r,hE}var pE,z5;function XAe(){if(z5)return pE;z5=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var l=t[n];r(l,n,t)&&(o[s++]=l)}return o}return pE=e,pE}var mE,q5;function JAe(){if(q5)return mE;q5=1;function e(){return[]}return mE=e,mE}var gE,U5;function QAe(){if(U5)return gE;U5=1;var e=XAe(),t=JAe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return n.call(o,l)}))}:t;return gE=s,gE}var vE,V5;function eke(){if(V5)return vE;V5=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return vE=e,vE}var yE,W5;function tke(){if(W5)return yE;W5=1;var e=Wl(),t=Hl(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return yE=n,yE}var xE,H5;function LM(){if(H5)return xE;H5=1;var e=tke(),t=Hl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return xE=s,xE}var Pg={exports:{}},bE,K5;function rke(){if(K5)return bE;K5=1;function e(){return!1}return bE=e,bE}Pg.exports;var G5;function XJ(){return G5||(G5=1,function(e,t){var r=zo(),n=rke(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u}(Pg,Pg.exports)),Pg.exports}var wE,Z5;function $M(){if(Z5)return wE;Z5=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return wE=r,wE}var _E,Y5;function FM(){if(Y5)return _E;Y5=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return _E=t,_E}var jE,X5;function nke(){if(X5)return jE;X5=1;var e=Wl(),t=FM(),r=Hl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",w="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",C="[object Float64Array]",k="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",q="[object Uint16Array]",Z="[object Uint32Array]",V={};V[N]=V[C]=V[k]=V[A]=V[T]=V[O]=V[I]=V[q]=V[Z]=!0,V[n]=V[i]=V[_]=V[s]=V[S]=V[o]=V[l]=V[c]=V[u]=V[f]=V[p]=V[g]=V[v]=V[w]=V[y]=!1;function U(z){return r(z)&&t(z.length)&&!!V[e(z)]}return jE=U,jE}var SE,J5;function JJ(){if(J5)return SE;J5=1;function e(t){return function(r){return t(r)}}return SE=e,SE}var Tg={exports:{}};Tg.exports;var Q5;function ike(){return Q5||(Q5=1,function(e,t){var r=yJ(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l}(Tg,Tg.exports)),Tg.exports}var NE,e6;function QJ(){if(e6)return NE;e6=1;var e=nke(),t=JJ(),r=ike(),n=r&&r.isTypedArray,i=n?t(n):e;return NE=i,NE}var CE,t6;function ske(){if(t6)return CE;t6=1;var e=eke(),t=LM(),r=ss(),n=XJ(),i=$M(),s=QJ(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var p=r(u),g=!p&&t(u),v=!p&&!g&&n(u),w=!p&&!g&&!v&&s(u),y=p||g||v||w,_=y?e(u.length,String):[],S=_.length;for(var N in u)(f||l.call(u,N))&&!(y&&(N=="length"||v&&(N=="offset"||N=="parent")||w&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&_.push(N);return _}return CE=c,CE}var EE,r6;function ake(){if(r6)return EE;r6=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return EE=t,EE}var PE,n6;function eQ(){if(n6)return PE;n6=1;function e(t,r){return function(n){return t(r(n))}}return PE=e,PE}var TE,i6;function oke(){if(i6)return TE;i6=1;var e=eQ(),t=e(Object.keys,Object);return TE=t,TE}var AE,s6;function lke(){if(s6)return AE;s6=1;var e=ake(),t=oke(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return AE=i,AE}var kE,a6;function $y(){if(a6)return kE;a6=1;var e=jM(),t=FM();function r(n){return n!=null&&t(n.length)&&!e(n)}return kE=r,kE}var OE,o6;function u1(){if(o6)return OE;o6=1;var e=ske(),t=lke(),r=$y();function n(i){return r(i)?e(i):t(i)}return OE=n,OE}var RE,l6;function cke(){if(l6)return RE;l6=1;var e=YAe(),t=QAe(),r=u1();function n(i){return e(i,r,t)}return RE=n,RE}var ME,c6;function uke(){if(c6)return ME;c6=1;var e=cke(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,u,f){var p=l&t,g=e(s),v=g.length,w=e(o),y=w.length;if(v!=y&&!p)return!1;for(var _=v;_--;){var S=g[_];if(!(p?S in o:n.call(o,S)))return!1}var N=f.get(s),C=f.get(o);if(N&&C)return N==o&&C==s;var k=!0;f.set(s,o),f.set(o,s);for(var A=p;++_<v;){S=g[_];var T=s[S],O=o[S];if(c)var I=p?c(O,T,S,o,s,f):c(T,O,S,s,o,f);if(!(I===void 0?T===O||u(T,O,l,c,f):I)){k=!1;break}A||(A=S=="constructor")}if(k&&!A){var q=s.constructor,Z=o.constructor;q!=Z&&"constructor"in s&&"constructor"in o&&!(typeof q=="function"&&q instanceof q&&typeof Z=="function"&&Z instanceof Z)&&(k=!1)}return f.delete(s),f.delete(o),k}return ME=i,ME}var IE,u6;function dke(){if(u6)return IE;u6=1;var e=Qd(),t=zo(),r=e(t,"DataView");return IE=r,IE}var DE,d6;function fke(){if(d6)return DE;d6=1;var e=Qd(),t=zo(),r=e(t,"Promise");return DE=r,DE}var LE,f6;function tQ(){if(f6)return LE;f6=1;var e=Qd(),t=zo(),r=e(t,"Set");return LE=r,LE}var $E,h6;function hke(){if(h6)return $E;h6=1;var e=Qd(),t=zo(),r=e(t,"WeakMap");return $E=r,$E}var FE,p6;function pke(){if(p6)return FE;p6=1;var e=dke(),t=NM(),r=fke(),n=tQ(),i=hke(),s=Wl(),o=xJ(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",v=o(e),w=o(t),y=o(r),_=o(n),S=o(i),N=s;return(e&&N(new e(new ArrayBuffer(1)))!=g||t&&N(new t)!=l||r&&N(r.resolve())!=u||n&&N(new n)!=f||i&&N(new i)!=p)&&(N=function(C){var k=s(C),A=k==c?C.constructor:void 0,T=A?o(A):"";if(T)switch(T){case v:return g;case w:return l;case y:return u;case _:return f;case S:return p}return k}),FE=N,FE}var BE,m6;function mke(){if(m6)return BE;m6=1;var e=WJ(),t=ZJ(),r=ZAe(),n=uke(),i=pke(),s=ss(),o=XJ(),l=QJ(),c=1,u="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function w(y,_,S,N,C,k){var A=s(y),T=s(_),O=A?f:i(y),I=T?f:i(_);O=O==u?p:O,I=I==u?p:I;var q=O==p,Z=I==p,V=O==I;if(V&&o(y)){if(!o(_))return!1;A=!0,q=!1}if(V&&!q)return k||(k=new e),A||l(y)?t(y,_,S,N,C,k):r(y,_,O,S,N,C,k);if(!(S&c)){var U=q&&v.call(y,"__wrapped__"),z=Z&&v.call(_,"__wrapped__");if(U||z){var H=U?y.value():y,re=z?_.value():_;return k||(k=new e),C(H,re,S,N,k)}}return V?(k||(k=new e),n(y,_,S,N,C,k)):!1}return BE=w,BE}var zE,g6;function BM(){if(g6)return zE;g6=1;var e=mke(),t=Hl();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,l)}return zE=r,zE}var qE,v6;function gke(){if(v6)return qE;v6=1;var e=WJ(),t=BM(),r=1,n=2;function i(s,o,l,c){var u=l.length,f=u,p=!c;if(s==null)return!f;for(s=Object(s);u--;){var g=l[u];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<f;){g=l[u];var v=g[0],w=s[v],y=g[1];if(p&&g[2]){if(w===void 0&&!(v in s))return!1}else{var _=new e;if(c)var S=c(w,y,v,s,o,_);if(!(S===void 0?t(y,w,r|n,c,_):S))return!1}}return!0}return qE=i,qE}var UE,y6;function rQ(){if(y6)return UE;y6=1;var e=xu();function t(r){return r===r&&!e(r)}return UE=t,UE}var VE,x6;function vke(){if(x6)return VE;x6=1;var e=rQ(),t=u1();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,e(l)]}return i}return VE=r,VE}var WE,b6;function nQ(){if(b6)return WE;b6=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return WE=e,WE}var HE,w6;function yke(){if(w6)return HE;w6=1;var e=gke(),t=vke(),r=nQ();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return HE=n,HE}var KE,_6;function xke(){if(_6)return KE;_6=1;function e(t,r){return t!=null&&r in Object(t)}return KE=e,KE}var GE,j6;function bke(){if(j6)return GE;j6=1;var e=_J(),t=LM(),r=ss(),n=$M(),i=FM(),s=s1();function o(l,c,u){c=e(c,l);for(var f=-1,p=c.length,g=!1;++f<p;){var v=s(c[f]);if(!(g=l!=null&&u(l,v)))break;l=l[v]}return g||++f!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&n(v,p)&&(r(l)||t(l)))}return GE=o,GE}var ZE,S6;function wke(){if(S6)return ZE;S6=1;var e=xke(),t=bke();function r(n,i){return n!=null&&t(n,i,e)}return ZE=r,ZE}var YE,N6;function _ke(){if(N6)return YE;N6=1;var e=BM(),t=jJ(),r=wke(),n=_M(),i=rQ(),s=nQ(),o=s1(),l=1,c=2;function u(f,p){return n(f)&&i(p)?s(o(f),p):function(g){var v=t(g,f);return v===void 0&&v===p?r(g,f):e(p,v,l|c)}}return YE=u,YE}var XE,C6;function Xp(){if(C6)return XE;C6=1;function e(t){return t}return XE=e,XE}var JE,E6;function jke(){if(E6)return JE;E6=1;function e(t){return function(r){return r?.[t]}}return JE=e,JE}var QE,P6;function Ske(){if(P6)return QE;P6=1;var e=PM();function t(r){return function(n){return e(n,r)}}return QE=t,QE}var eP,T6;function Nke(){if(T6)return eP;T6=1;var e=jke(),t=Ske(),r=_M(),n=s1();function i(s){return r(s)?e(n(s)):t(s)}return eP=i,eP}var tP,A6;function bu(){if(A6)return tP;A6=1;var e=yke(),t=_ke(),r=Xp(),n=ss(),i=Nke();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return tP=s,tP}var rP,k6;function iQ(){if(k6)return rP;k6=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return rP=e,rP}var nP,O6;function Cke(){if(O6)return nP;O6=1;function e(t){return t!==t}return nP=e,nP}var iP,R6;function Eke(){if(R6)return iP;R6=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return iP=e,iP}var sP,M6;function Pke(){if(M6)return sP;M6=1;var e=iQ(),t=Cke(),r=Eke();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return sP=n,sP}var aP,I6;function Tke(){if(I6)return aP;I6=1;var e=Pke();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return aP=t,aP}var oP,D6;function Ake(){if(D6)return oP;D6=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return oP=e,oP}var lP,L6;function kke(){if(L6)return lP;L6=1;function e(){}return lP=e,lP}var cP,$6;function Oke(){if($6)return cP;$6=1;var e=tQ(),t=kke(),r=DM(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return cP=i,cP}var uP,F6;function Rke(){if(F6)return uP;F6=1;var e=HJ(),t=Tke(),r=Ake(),n=GJ(),i=Oke(),s=DM(),o=200;function l(c,u,f){var p=-1,g=t,v=c.length,w=!0,y=[],_=y;if(f)w=!1,g=r;else if(v>=o){var S=u?null:i(c);if(S)return s(S);w=!1,g=n,_=new e}else _=u?[]:y;e:for(;++p<v;){var N=c[p],C=u?u(N):N;if(N=f||N!==0?N:0,w&&C===C){for(var k=_.length;k--;)if(_[k]===C)continue e;u&&_.push(C),y.push(N)}else g(_,C,f)||(_!==y&&_.push(C),y.push(N))}return y}return uP=l,uP}var dP,B6;function Mke(){if(B6)return dP;B6=1;var e=bu(),t=Rke();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return dP=r,dP}var Ike=Mke();const z6=pr(Ike);function sQ(e,t,r){return t===!0?z6(e,r):Rt(t)?z6(e,t):e}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}var Dke=["ref"];function q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(r),!0).forEach(function(n){d1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oQ(n.key),n)}}function $ke(e,t,r){return t&&U6(e.prototype,t),r&&U6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fke(e,t,r){return t=hw(t),Bke(e,aQ()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function Bke(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zke(e)}function zke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aQ=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function qke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BA(e,t)}function d1(e,t,r){return t=oQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oQ(e){var t=Uke(e,"string");return ip(t)=="symbol"?t:t+""}function Uke(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vke(e,t){if(e==null)return{};var r=Wke(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hke(e){return e.value}function Kke(e,t){if(X.isValidElement(e))return X.cloneElement(e,t);if(typeof e=="function")return X.createElement(e,t);t.ref;var r=Vke(t,Dke);return X.createElement(IM,r)}var V6=1,nu=function(e){function t(){var r;Lke(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Fke(this,t,[].concat(i)),d1(r,"lastBoundingBox",{width:-1,height:-1}),r}return qke(t,e),$ke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>V6||Math.abs(i.height-this.lastBoundingBox.height)>V6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();p={left:((u||0)-v.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();g={top:((f||0)-w.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return dl(dl({},p),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,p=dl(dl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},Kke(s,dl(dl({},this.props),{},{payload:sQ(f,u,Hke)})))}}],[{key:"getWithHeight",value:function(n,i){var s=dl(dl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&et(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);d1(nu,"displayName","Legend");d1(nu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fP,W6;function Gke(){if(W6)return fP;W6=1;var e=Dy(),t=LM(),r=ss(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return fP=i,fP}var hP,H6;function lQ(){if(H6)return hP;H6=1;var e=YJ(),t=Gke();function r(n,i,s,o,l){var c=-1,u=n.length;for(s||(s=t),l||(l=[]);++c<u;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,l):e(l,f):o||(l[l.length]=f)}return l}return hP=r,hP}var pP,K6;function Zke(){if(K6)return pP;K6=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[t?c:++s];if(n(o[u],u,o)===!1)break}return r}}return pP=e,pP}var mP,G6;function Yke(){if(G6)return mP;G6=1;var e=Zke(),t=e();return mP=t,mP}var gP,Z6;function cQ(){if(Z6)return gP;Z6=1;var e=Yke(),t=u1();function r(n,i){return n&&e(n,i,t)}return gP=r,gP}var vP,Y6;function Xke(){if(Y6)return vP;Y6=1;var e=$y();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return vP=t,vP}var yP,X6;function zM(){if(X6)return yP;X6=1;var e=cQ(),t=Xke(),r=t(e);return yP=r,yP}var xP,J6;function uQ(){if(J6)return xP;J6=1;var e=zM(),t=$y();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++s]=i(l,c,u)}),o}return xP=r,xP}var bP,Q6;function Jke(){if(Q6)return bP;Q6=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return bP=e,bP}var wP,ez;function Qke(){if(ez)return wP;ez=1;var e=Gp();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,f=n===n,p=e(n);if(!u&&!p&&!l&&r>n||l&&c&&f&&!u&&!p||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!p&&r<n||p&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!f)return-1}return 0}return wP=t,wP}var _P,tz;function eOe(){if(tz)return _P;tz=1;var e=Qke();function t(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++s<c;){var f=e(o[s],l[s]);if(f){if(s>=u)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return r.index-n.index}return _P=t,_P}var jP,rz;function tOe(){if(rz)return jP;rz=1;var e=EM(),t=PM(),r=bu(),n=uQ(),i=Jke(),s=JJ(),o=eOe(),l=Xp(),c=ss();function u(f,p,g){p.length?p=e(p,function(y){return c(y)?function(_){return t(_,y.length===1?y[0]:y)}:y}):p=[l];var v=-1;p=e(p,s(r));var w=n(f,function(y,_,S){var N=e(p,function(C){return C(y)});return{criteria:N,index:++v,value:y}});return i(w,function(y,_){return o(y,_,g)})}return jP=u,jP}var SP,nz;function rOe(){if(nz)return SP;nz=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return SP=e,SP}var NP,iz;function nOe(){if(iz)return NP;iz=1;var e=rOe(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=t(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(u),e(n,this,f)}}return NP=r,NP}var CP,sz;function iOe(){if(sz)return CP;sz=1;function e(t){return function(){return t}}return CP=e,CP}var EP,az;function dQ(){if(az)return EP;az=1;var e=Qd(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return EP=t,EP}var PP,oz;function sOe(){if(oz)return PP;oz=1;var e=iOe(),t=dQ(),r=Xp(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return PP=n,PP}var TP,lz;function aOe(){if(lz)return TP;lz=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return TP=n,TP}var AP,cz;function oOe(){if(cz)return AP;cz=1;var e=sOe(),t=aOe(),r=t(e);return AP=r,AP}var kP,uz;function lOe(){if(uz)return kP;uz=1;var e=Xp(),t=nOe(),r=oOe();function n(i,s){return r(t(i,s,e),i+"")}return kP=n,kP}var OP,dz;function f1(){if(dz)return OP;dz=1;var e=SM(),t=$y(),r=$M(),n=xu();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],s):!1}return OP=i,OP}var RP,fz;function cOe(){if(fz)return RP;fz=1;var e=lQ(),t=tOe(),r=lOe(),n=f1(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return RP=i,RP}var uOe=cOe();const qM=pr(uOe);function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function zA(){return zA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zA.apply(this,arguments)}function dOe(e,t){return mOe(e)||pOe(e,t)||hOe(e,t)||fOe()}function fOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hOe(e,t){if(e){if(typeof e=="string")return hz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hz(e,t)}}function hz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function mOe(e){if(Array.isArray(e))return e}function pz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(r),!0).forEach(function(n){gOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gOe(e,t,r){return t=vOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vOe(e){var t=yOe(e,"string");return xv(t)=="symbol"?t:t+""}function yOe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xOe(e){return Array.isArray(e)&&$n(e[0])&&$n(e[1])?e.join(" ~ "):e}var bOe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,p=t.formatter,g=t.itemSorter,v=t.wrapperClassName,w=t.labelClassName,y=t.label,_=t.labelFormatter,S=t.accessibilityLayer,N=S===void 0?!1:S,C=function(){if(f&&f.length){var U={padding:0,margin:0},z=(g?qM(f,g):f).map(function(H,re){if(H.type==="none")return null;var se=MP({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),W=H.formatter||p||xOe,Q=H.value,Y=H.name,ne=Q,J=Y;if(W&&ne!=null&&J!=null){var oe=W(Q,Y,H,re,f);if(Array.isArray(oe)){var be=dOe(oe,2);ne=be[0],J=be[1]}else ne=oe}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:se},$n(J)?X.createElement("span",{className:"recharts-tooltip-item-name"},J):null,$n(J)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},ne),X.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:U},z)}return null},k=MP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=MP({margin:0},u),T=!Mt(y),O=T?y:"",I=Kt("recharts-default-tooltip",v),q=Kt("recharts-tooltip-label",w);T&&_&&f!==void 0&&f!==null&&(O=_(y,f));var Z=N?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",zA({className:I,style:k},Z),X.createElement("p",{className:q,style:A},X.isValidElement(O)?O:"".concat(O)),C())};function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function q0(e,t,r){return t=wOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wOe(e){var t=_Oe(e,"string");return bv(t)=="symbol"?t:t+""}function _Oe(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var og="recharts-tooltip-wrapper",jOe={visibility:"hidden"};function SOe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Kt(og,q0(q0(q0(q0({},"".concat(og,"-right"),et(r)&&t&&et(t.x)&&r>=t.x),"".concat(og,"-left"),et(r)&&t&&et(t.x)&&r<t.x),"".concat(og,"-bottom"),et(n)&&t&&et(t.y)&&n>=t.y),"".concat(og,"-top"),et(n)&&t&&et(t.y)&&n<t.y))}function mz(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&et(s[n]))return s[n];var f=r[n]-l-i,p=r[n]+i;if(t[n])return o[n]?f:p;if(o[n]){var g=f,v=c[n];return g<v?Math.max(p,c[n]):Math.max(f,c[n])}var w=p+l,y=c[n]+u;return w>y?Math.max(f,c[n]):Math.max(p,c[n])}function NOe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function COe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,p;return o.height>0&&o.width>0&&r?(f=mz({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=mz({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=NOe({translateX:f,translateY:p,useTranslate3d:l})):u=jOe,{cssProperties:u,cssClasses:SOe({translateX:f,translateY:p,coordinate:r})}}function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gz(Object(r),!0).forEach(function(n){UA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function POe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hQ(n.key),n)}}function TOe(e,t,r){return t&&POe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AOe(e,t,r){return t=pw(t),kOe(e,fQ()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function kOe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OOe(e)}function OOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fQ=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function ROe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qA(e,t)}function UA(e,t,r){return t=hQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=MOe(e,"string");return sp(t)=="symbol"?t:t+""}function MOe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yz=1,IOe=function(e){function t(){var r;EOe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=AOe(this,t,[].concat(i)),UA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),UA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return ROe(t,e),TOe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>yz||Math.abs(n.height-this.state.lastBoundingBox.height)>yz)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,v=i.offset,w=i.position,y=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,C=COe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:w,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:S}),k=C.cssClasses,A=C.cssProperties,T=vz(vz({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},N);return X.createElement("div",{tabIndex:-1,className:k,style:T,ref:function(I){n.wrapperNode=I}},u)}}])}(x.PureComponent),DOe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ef={isSsr:DOe()};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function xz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xz(Object(r),!0).forEach(function(n){UM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mQ(n.key),n)}}function FOe(e,t,r){return t&&$Oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BOe(e,t,r){return t=mw(t),zOe(e,pQ()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function zOe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qOe(e)}function qOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pQ=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function UOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VA(e,t)}function UM(e,t,r){return t=mQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mQ(e){var t=VOe(e,"string");return ap(t)=="symbol"?t:t+""}function VOe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WOe(e){return e.dataKey}function HOe(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(bOe,t)}var Mi=function(e){function t(){return LOe(this,t),BOe(this,t,arguments)}return UOe(t,e),FOe(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,p=i.filterNull,g=i.isAnimationActive,v=i.offset,w=i.payload,y=i.payloadUniqBy,_=i.position,S=i.reverseDirection,N=i.useTranslate3d,C=i.viewBox,k=i.wrapperStyle,A=w??[];p&&A.length&&(A=sQ(w.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),y,WOe));var T=A.length>0;return X.createElement(IOe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:f,hasPayload:T,offset:v,position:_,reverseDirection:S,useTranslate3d:N,viewBox:C,wrapperStyle:k},HOe(u,bz(bz({},this.props),{},{payload:A})))}}])}(x.PureComponent);UM(Mi,"displayName","Tooltip");UM(Mi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ef.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IP,wz;function KOe(){if(wz)return IP;wz=1;var e=zo(),t=function(){return e.Date.now()};return IP=t,IP}var DP,_z;function GOe(){if(_z)return DP;_z=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return DP=t,DP}var LP,jz;function ZOe(){if(jz)return LP;jz=1;var e=GOe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return LP=r,LP}var $P,Sz;function gQ(){if(Sz)return $P;Sz=1;var e=ZOe(),t=xu(),r=Gp(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=s.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):i.test(u)?n:+u}return $P=c,$P}var FP,Nz;function YOe(){if(Nz)return FP;Nz=1;var e=xu(),t=KOe(),r=gQ(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var f,p,g,v,w,y,_=0,S=!1,N=!1,C=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(S=!!u.leading,N="maxWait"in u,g=N?i(r(u.maxWait)||0,c):g,C="trailing"in u?!!u.trailing:C);function k(z){var H=f,re=p;return f=p=void 0,_=z,v=l.apply(re,H),v}function A(z){return _=z,w=setTimeout(I,c),S?k(z):v}function T(z){var H=z-y,re=z-_,se=c-H;return N?s(se,g-re):se}function O(z){var H=z-y,re=z-_;return y===void 0||H>=c||H<0||N&&re>=g}function I(){var z=t();if(O(z))return q(z);w=setTimeout(I,T(z))}function q(z){return w=void 0,C&&f?k(z):(f=p=void 0,v)}function Z(){w!==void 0&&clearTimeout(w),_=0,f=y=p=w=void 0}function V(){return w===void 0?v:q(t())}function U(){var z=t(),H=O(z);if(f=arguments,p=this,y=z,H){if(w===void 0)return A(y);if(N)return clearTimeout(w),w=setTimeout(I,c),k(y)}return w===void 0&&(w=setTimeout(I,c)),v}return U.cancel=Z,U.flush=V,U}return FP=o,FP}var BP,Cz;function XOe(){if(Cz)return BP;Cz=1;var e=YOe(),t=xu(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(i,s,{leading:l,maxWait:s,trailing:c})}return BP=n,BP}var JOe=XOe();const vQ=pr(JOe);function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function Ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ez(Object(r),!0).forEach(function(n){QOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ez(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QOe(e,t,r){return t=eRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eRe(e){var t=tRe(e,"string");return wv(t)=="symbol"?t:t+""}function tRe(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rRe(e,t){return aRe(e)||sRe(e,t)||iRe(e,t)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iRe(e,t){if(e){if(typeof e=="string")return Pz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pz(e,t)}}function Pz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function aRe(e){if(Array.isArray(e))return e}var ch=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,p=e.minHeight,g=e.maxHeight,v=e.children,w=e.debounce,y=w===void 0?0:w,_=e.id,S=e.className,N=e.onResize,C=e.style,k=C===void 0?{}:C,A=x.useRef(null),T=x.useRef();T.current=N,x.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var O=x.useState({containerWidth:i.width,containerHeight:i.height}),I=rRe(O,2),q=I[0],Z=I[1],V=x.useCallback(function(z,H){Z(function(re){var se=Math.round(z),W=Math.round(H);return re.containerWidth===se&&re.containerHeight===W?re:{containerWidth:se,containerHeight:W}})},[]);x.useEffect(function(){var z=function(Y){var ne,J=Y[0].contentRect,oe=J.width,be=J.height;V(oe,be),(ne=T.current)===null||ne===void 0||ne.call(T,oe,be)};y>0&&(z=vQ(z,y,{trailing:!0,leading:!1}));var H=new ResizeObserver(z),re=A.current.getBoundingClientRect(),se=re.width,W=re.height;return V(se,W),H.observe(A.current),function(){H.disconnect()}},[V,y]);var U=x.useMemo(function(){var z=q.containerWidth,H=q.containerHeight;if(z<0||H<0)return null;qa(pd(o)||pd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var re=pd(o)?z:o,se=pd(c)?H:c;r&&r>0&&(re?se=re/r:se&&(re=se*r),g&&se>g&&(se=g)),qa(re>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,se,o,c,f,p,r);var W=!Array.isArray(v)&&Pl(v.type).endsWith("Chart");return X.Children.map(v,function(Q){return X.isValidElement(Q)?x.cloneElement(Q,U0({width:re,height:se},W?{style:U0({height:"100%",width:"100%",maxHeight:se,maxWidth:re},Q.props.style)}:{})):Q})},[r,v,c,g,p,f,q,o]);return X.createElement("div",{id:_?"".concat(_):void 0,className:Kt("recharts-responsive-container",S),style:U0(U0({},k),{},{width:o,height:c,minWidth:f,minHeight:p,maxHeight:g}),ref:A},U)}),_v=function(t){return null};_v.displayName="Cell";function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(n){oRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oRe(e,t,r){return t=lRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lRe(e){var t=cRe(e,"string");return jv(t)=="symbol"?t:t+""}function cRe(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uh={widthCache:{},cacheCount:0},uRe=2e3,dRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Az="recharts_measurement_span";function fRe(e){var t=WA({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Vg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ef.isSsr)return{width:0,height:0};var n=fRe(r),i=JSON.stringify({text:t,copyStyle:n});if(uh.widthCache[i])return uh.widthCache[i];try{var s=document.getElementById(Az);s||(s=document.createElement("span"),s.setAttribute("id",Az),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=WA(WA({},dRe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return uh.widthCache[i]=c,++uh.cacheCount>uRe&&(uh.cacheCount=0,uh.widthCache={}),c}catch{return{width:0,height:0}}},hRe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function gw(e,t){return vRe(e)||gRe(e,t)||mRe(e,t)||pRe()}function pRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(e,t){if(e){if(typeof e=="string")return kz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kz(e,t)}}function kz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vRe(e){if(Array.isArray(e))return e}function yRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bRe(n.key),n)}}function xRe(e,t,r){return t&&Oz(e.prototype,t),r&&Oz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bRe(e){var t=wRe(e,"string");return Sv(t)=="symbol"?t:t+""}function wRe(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_Re=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SRe=Object.keys(yQ),Nh="NaN";function NRe(e,t){return e*yQ[t]}var V0=function(){function e(t,r){yRe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!_Re.test(r)&&(this.num=NaN,this.unit=""),SRe.includes(r)&&(this.num=NRe(t,r),this.unit="px")}return xRe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=jRe.exec(r))!==null&&n!==void 0?n:[],s=gw(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function xQ(e){if(e.includes(Nh))return Nh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Rz.exec(t))!==null&&r!==void 0?r:[],i=gw(n,4),s=i[1],o=i[2],l=i[3],c=V0.parse(s??""),u=V0.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Nh;t=t.replace(Rz,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,g=(p=Mz.exec(t))!==null&&p!==void 0?p:[],v=gw(g,4),w=v[1],y=v[2],_=v[3],S=V0.parse(w??""),N=V0.parse(_??""),C=y==="+"?S.add(N):S.subtract(N);if(C.isNaN())return Nh;t=t.replace(Mz,C.toString())}return t}var Iz=/\(([^()]*)\)/;function CRe(e){for(var t=e;t.includes("(");){var r=Iz.exec(t),n=gw(r,2),i=n[1];t=t.replace(Iz,xQ(i))}return t}function ERe(e){var t=e.replace(/\s+/g,"");return t=CRe(t),t=xQ(t),t}function PRe(e){try{return ERe(e)}catch{return Nh}}function zP(e){var t=PRe(e.slice(5,-1));return t===Nh?"":t}var TRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ARe=["dx","dy","angle","className","breakAll"];function HA(){return HA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HA.apply(this,arguments)}function Dz(e,t){if(e==null)return{};var r=kRe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lz(e,t){return IRe(e)||MRe(e,t)||RRe(e,t)||ORe()}function ORe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(e,t){if(e){if(typeof e=="string")return $z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $z(e,t)}}function $z(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function IRe(e){if(Array.isArray(e))return e}var bQ=/[ \f\n\r\t\v\u2028\u2029]+/,wQ=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Mt(r)||(n?s=r.toString().split(""):s=r.toString().split(bQ));var o=s.map(function(c){return{word:c,width:Vg(c,i).width}}),l=n?0:Vg(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},DRe=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=et(o),p=l,g=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(se,W){var Q=W.word,Y=W.width,ne=se[se.length-1];if(ne&&(i==null||s||ne.width+Y+n<Number(i)))ne.words.push(Q),ne.width+=Y+n;else{var J={words:[Q],width:Y};se.push(J)}return se},[])},v=g(r),w=function(re){return re.reduce(function(se,W){return se.width>W.width?se:W})};if(!f)return v;for(var y="…",_=function(re){var se=p.slice(0,re),W=wQ({breakAll:u,style:c,children:se+y}).wordsWithComputedWidth,Q=g(W),Y=Q.length>o||w(Q).width>Number(i);return[Y,Q]},S=0,N=p.length-1,C=0,k;S<=N&&C<=p.length-1;){var A=Math.floor((S+N)/2),T=A-1,O=_(T),I=Lz(O,2),q=I[0],Z=I[1],V=_(A),U=Lz(V,1),z=U[0];if(!q&&!z&&(S=A+1),q&&z&&(N=A-1),!q&&z){k=Z;break}C++}return k||v},Fz=function(t){var r=Mt(t)?[]:t.toString().split(bQ);return[{words:r}]},LRe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ef.isSsr){var c,u,f=wQ({breakAll:o,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;c=p,u=g}else return Fz(i);return DRe({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return Fz(i)},Bz="#808080",Nv=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,p=f===void 0?!1:f,g=t.textAnchor,v=g===void 0?"start":g,w=t.verticalAnchor,y=w===void 0?"end":w,_=t.fill,S=_===void 0?Bz:_,N=Dz(t,TRe),C=x.useMemo(function(){return LRe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:p,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,p,N.style,N.width]),k=N.dx,A=N.dy,T=N.angle,O=N.className,I=N.breakAll,q=Dz(N,ARe);if(!$n(n)||!$n(s))return null;var Z=n+(et(k)?k:0),V=s+(et(A)?A:0),U;switch(y){case"start":U=zP("calc(".concat(u,")"));break;case"middle":U=zP("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:U=zP("calc(".concat(C.length-1," * -").concat(l,")"));break}var z=[];if(p){var H=C[0].width,re=N.width;z.push("scale(".concat((et(re)?re/H:1)/H,")"))}return T&&z.push("rotate(".concat(T,", ").concat(Z,", ").concat(V,")")),z.length&&(q.transform=z.join(" ")),X.createElement("text",HA({},Vt(q,!0),{x:Z,y:V,className:Kt("recharts-text",O),textAnchor:v,fill:S.includes("url")?Bz:S}),C.map(function(se,W){var Q=se.words.join(I?"":" ");return X.createElement("tspan",{x:Z,dy:W===0?U:l,key:"".concat(Q,"-").concat(W)},Q)}))};function iu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $Re(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VM(e){let t,r,n;e.length!==2?(t=iu,r=(l,c)=>iu(e(l),c),n=(l,c)=>e(l)-c):(t=e===iu||e===$Re?e:FRe,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<0?u=p+1:f=p}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<=0?u=p+1:f=p}while(u<f)}return u}function o(l,c,u=0,f=l.length){const p=i(l,c,u,f-1);return p>u&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:s}}function FRe(){return 0}function _Q(e){return e===null?NaN:+e}function*BRe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zRe=VM(iu),Fy=zRe.right;VM(_Q).center;class zz extends Map{constructor(t,r=VRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(qz(this,t))}has(t){return super.has(qz(this,t))}set(t,r){return super.set(qRe(this,t),r)}delete(t){return super.delete(URe(this,t))}}function qz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function qRe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function URe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function VRe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function WRe(e=iu){if(e===iu)return jQ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function jQ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const HRe=Math.sqrt(50),KRe=Math.sqrt(10),GRe=Math.sqrt(2);function vw(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=HRe?10:s>=KRe?5:s>=GRe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?vw(e,t,r*2):[l,c,u]}function KA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?vw(t,e,r):vw(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function GA(e,t,r){return t=+t,e=+e,r=+r,vw(e,t,r)[2]}function ZA(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?GA(t,e,r):GA(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Uz(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Vz(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SQ(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?jQ:WRe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(t-u*p/c+g)),w=Math.min(n,Math.floor(t+(c-u)*p/c+g));SQ(e,t,v,w,i)}const s=e[t];let o=r,l=n;for(lg(e,r,t),i(e[n],s)>0&&lg(e,r,n);o<l;){for(lg(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?lg(e,r,l):(++l,lg(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function lg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ZRe(e,t,r){if(e=Float64Array.from(BRe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Vz(e);if(t>=1)return Uz(e);var n,i=(n-1)*t,s=Math.floor(i),o=Uz(SQ(e,s).subarray(0,s+1)),l=Vz(e.subarray(s+1));return o+(l-o)*(i-s)}}function YRe(e,t,r=_Q){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function XRe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Kl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const YA=Symbol("implicit");function WM(){var e=new zz,t=[],r=[],n=YA;function i(s){let o=e.get(s);if(o===void 0){if(n!==YA)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new zz;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return WM(t,r).unknown(n)},ua.apply(i,arguments),i}function Cv(){var e=WM().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function p(){var g=t().length,v=i<n,w=v?i:n,y=v?n:i;s=(y-w)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),w+=(y-w-s*(g-c))*f,o=s*(1-c),l&&(w=Math.round(w),o=Math.round(o));var _=XRe(g).map(function(S){return w+s*S});return r(v?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},e.copy=function(){return Cv(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},ua.apply(p(),arguments)}function NQ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NQ(t())},e}function Wg(){return NQ(Cv.apply(null,arguments).paddingInner(1))}function HM(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CQ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function By(){}var Ev=.7,yw=1/Ev,Dh="\\s*([+-]?\\d+)\\s*",Pv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JRe=/^#([0-9a-f]{3,8})$/,QRe=new RegExp(`^rgb\\(${Dh},${Dh},${Dh}\\)$`),eMe=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),tMe=new RegExp(`^rgba\\(${Dh},${Dh},${Dh},${Pv}\\)$`),rMe=new RegExp(`^rgba\\(${Po},${Po},${Po},${Pv}\\)$`),nMe=new RegExp(`^hsl\\(${Pv},${Po},${Po}\\)$`),iMe=new RegExp(`^hsla\\(${Pv},${Po},${Po},${Pv}\\)$`),Wz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HM(By,Tv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hz,formatHex:Hz,formatHex8:sMe,formatHsl:aMe,formatRgb:Kz,toString:Kz});function Hz(){return this.rgb().formatHex()}function sMe(){return this.rgb().formatHex8()}function aMe(){return EQ(this).formatHsl()}function Kz(){return this.rgb().formatRgb()}function Tv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=JRe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Gz(t):r===3?new Qi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?W0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?W0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QRe.exec(e))?new Qi(t[1],t[2],t[3],1):(t=eMe.exec(e))?new Qi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tMe.exec(e))?W0(t[1],t[2],t[3],t[4]):(t=rMe.exec(e))?W0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nMe.exec(e))?Xz(t[1],t[2]/100,t[3]/100,1):(t=iMe.exec(e))?Xz(t[1],t[2]/100,t[3]/100,t[4]):Wz.hasOwnProperty(e)?Gz(Wz[e]):e==="transparent"?new Qi(NaN,NaN,NaN,0):null}function Gz(e){return new Qi(e>>16&255,e>>8&255,e&255,1)}function W0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qi(e,t,r,n)}function oMe(e){return e instanceof By||(e=Tv(e)),e?(e=e.rgb(),new Qi(e.r,e.g,e.b,e.opacity)):new Qi}function XA(e,t,r,n){return arguments.length===1?oMe(e):new Qi(e,t,r,n??1)}function Qi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}HM(Qi,XA,CQ(By,{brighter(e){return e=e==null?yw:Math.pow(yw,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ev:Math.pow(Ev,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qi(Sd(this.r),Sd(this.g),Sd(this.b),xw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zz,formatHex:Zz,formatHex8:lMe,formatRgb:Yz,toString:Yz}));function Zz(){return`#${md(this.r)}${md(this.g)}${md(this.b)}`}function lMe(){return`#${md(this.r)}${md(this.g)}${md(this.b)}${md((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yz(){const e=xw(this.opacity);return`${e===1?"rgb(":"rgba("}${Sd(this.r)}, ${Sd(this.g)}, ${Sd(this.b)}${e===1?")":`, ${e})`}`}function xw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function md(e){return e=Sd(e),(e<16?"0":"")+e.toString(16)}function Xz(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,r,n)}function EQ(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof By||(e=Tv(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Ia(o,l,c,e.opacity)}function cMe(e,t,r,n){return arguments.length===1?EQ(e):new Ia(e,t,r,n??1)}function Ia(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}HM(Ia,cMe,CQ(By,{brighter(e){return e=e==null?yw:Math.pow(yw,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ev:Math.pow(Ev,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Qi(qP(e>=240?e-240:e+120,i,n),qP(e,i,n),qP(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ia(Jz(this.h),H0(this.s),H0(this.l),xw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xw(this.opacity);return`${e===1?"hsl(":"hsla("}${Jz(this.h)}, ${H0(this.s)*100}%, ${H0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jz(e){return e=(e||0)%360,e<0?e+360:e}function H0(e){return Math.max(0,Math.min(1,e||0))}function qP(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const KM=e=>()=>e;function uMe(e,t){return function(r){return e+r*t}}function dMe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function fMe(e){return(e=+e)==1?PQ:function(t,r){return r-t?dMe(t,r,e):KM(isNaN(t)?r:t)}}function PQ(e,t){var r=t-e;return r?uMe(e,r):KM(isNaN(e)?t:e)}const Qz=function e(t){var r=fMe(t);function n(i,s){var o=r((i=XA(i)).r,(s=XA(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=PQ(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function hMe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function pMe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mMe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Jp(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function gMe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function bw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function vMe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Jp(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var JA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,UP=new RegExp(JA.source,"g");function yMe(e){return function(){return e}}function xMe(e){return function(t){return e(t)+""}}function bMe(e,t){var r=JA.lastIndex=UP.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=JA.exec(e))&&(i=UP.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:bw(n,i)})),r=UP.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?xMe(c[0].x):yMe(t):(t=c.length,function(u){for(var f=0,p;f<t;++f)l[(p=c[f]).i]=p.x(u);return l.join("")})}function Jp(e,t){var r=typeof t,n;return t==null||r==="boolean"?KM(t):(r==="number"?bw:r==="string"?(n=Tv(t))?(t=n,Qz):bMe:t instanceof Tv?Qz:t instanceof Date?gMe:pMe(t)?hMe:Array.isArray(t)?mMe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vMe:bw)(e,t)}function GM(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function wMe(e,t){t===void 0&&(t=e,e=Jp);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function _Me(e){return function(){return e}}function ww(e){return+e}var eq=[0,1];function Di(e){return e}function QA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_Me(isNaN(t)?NaN:.5)}function jMe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function SMe(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=QA(i,n),s=r(o,s)):(n=QA(n,i),s=r(s,o)),function(l){return s(n(l))}}function NMe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=QA(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Fy(e,l,1,n)-1;return s[c](i[c](l))}}function zy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function h1(){var e=eq,t=eq,r=Jp,n,i,s,o=Di,l,c,u;function f(){var g=Math.min(e.length,t.length);return o!==Di&&(o=jMe(e[0],e[g-1])),l=g>2?NMe:SMe,c=u=null,p}function p(g){return g==null||isNaN(g=+g)?s:(c||(c=l(e.map(n),t,r)))(n(o(g)))}return p.invert=function(g){return o(i((u||(u=l(t,e.map(n),bw)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,ww),f()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=GM,f()},p.clamp=function(g){return arguments.length?(o=g?!0:Di,f()):o!==Di},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return n=g,i=v,f()}}function ZM(){return h1()(Di,Di)}function CMe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _w(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function op(e){return e=_w(Math.abs(e)),e?e[1]:NaN}function EMe(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function PMe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Av(e){if(!(t=TMe.exec(e)))throw new Error("invalid format: "+e);var t;return new YM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Av.prototype=YM.prototype;function YM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}YM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AMe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var TQ;function kMe(e,t){var r=_w(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(TQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+_w(e,Math.max(0,t+s-1))[0]}function tq(e,t){var r=_w(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const rq={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CMe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tq(e*100,t),r:tq,s:kMe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nq(e){return e}var iq=Array.prototype.map,sq=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function OMe(e){var t=e.grouping===void 0||e.thousands===void 0?nq:EMe(iq.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?nq:PMe(iq.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Av(p);var g=p.fill,v=p.align,w=p.sign,y=p.symbol,_=p.zero,S=p.width,N=p.comma,C=p.precision,k=p.trim,A=p.type;A==="n"?(N=!0,A="g"):rq[A]||(C===void 0&&(C=12),k=!0,A="g"),(_||g==="0"&&v==="=")&&(_=!0,g="0",v="=");var T=y==="$"?r:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O=y==="$"?n:/[%p]/.test(A)?o:"",I=rq[A],q=/[defgprs%]/.test(A);C=C===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Z(V){var U=T,z=O,H,re,se;if(A==="c")z=I(V)+z,V="";else{V=+V;var W=V<0||1/V<0;if(V=isNaN(V)?c:I(Math.abs(V),C),k&&(V=AMe(V)),W&&+V==0&&w!=="+"&&(W=!1),U=(W?w==="("?w:l:w==="-"||w==="("?"":w)+U,z=(A==="s"?sq[8+TQ/3]:"")+z+(W&&w==="("?")":""),q){for(H=-1,re=V.length;++H<re;)if(se=V.charCodeAt(H),48>se||se>57){z=(se===46?i+V.slice(H+1):V.slice(H))+z,V=V.slice(0,H);break}}}N&&!_&&(V=t(V,1/0));var Q=U.length+V.length+z.length,Y=Q<S?new Array(S-Q+1).join(g):"";switch(N&&_&&(V=t(Y+V,Y.length?S-z.length:1/0),Y=""),v){case"<":V=U+V+z+Y;break;case"=":V=U+Y+V+z;break;case"^":V=Y.slice(0,Q=Y.length>>1)+U+V+z+Y.slice(Q);break;default:V=Y+U+V+z;break}return s(V)}return Z.toString=function(){return p+""},Z}function f(p,g){var v=u((p=Av(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(op(g)/3)))*3,y=Math.pow(10,-w),_=sq[8+w/3];return function(S){return v(y*S)+_}}return{format:u,formatPrefix:f}}var K0,XM,AQ;RMe({thousands:",",grouping:[3],currency:["$",""]});function RMe(e){return K0=OMe(e),XM=K0.format,AQ=K0.formatPrefix,K0}function MMe(e){return Math.max(0,-op(Math.abs(e)))}function IMe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(op(t)/3)))*3-op(Math.abs(e)))}function DMe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,op(t)-op(e))+1}function kQ(e,t,r,n){var i=ZA(e,t,r),s;switch(n=Av(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=IMe(i,o))&&(n.precision=s),AQ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=DMe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=MMe(i))&&(n.precision=s-(n.type==="%")*2);break}}return XM(n)}function wu(e){var t=e.domain;return e.ticks=function(r){var n=t();return KA(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return kQ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);f-- >0;){if(u=GA(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function jw(){var e=ZM();return e.copy=function(){return zy(e,jw())},ua.apply(e,arguments),wu(e)}function OQ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ww),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return OQ(e).unknown(t)},e=arguments.length?Array.from(e,ww):[0,1],wu(r)}function RQ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function aq(e){return Math.log(e)}function oq(e){return Math.exp(e)}function LMe(e){return-Math.log(-e)}function $Me(e){return-Math.exp(-e)}function FMe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BMe(e){return e===10?FMe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zMe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lq(e){return(t,r)=>-e(-t,r)}function JM(e){const t=e(aq,oq),r=t.domain;let n=10,i,s;function o(){return i=zMe(n),s=BMe(n),r()[0]<0?(i=lq(i),s=lq(s),e(LMe,$Me)):e(aq,oq),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const p=f<u;p&&([u,f]=[f,u]);let g=i(u),v=i(f),w,y;const _=l==null?10:+l;let S=[];if(!(n%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(w=1;w<n;++w)if(y=g<0?w/s(-g):w*s(g),!(y<u)){if(y>f)break;S.push(y)}}else for(;g<=v;++g)for(w=n-1;w>=1;--w)if(y=g>0?w/s(-g):w*s(g),!(y<u)){if(y>f)break;S.push(y)}S.length*2<_&&(S=KA(u,f,_))}else S=KA(g,v,Math.min(v-g,_)).map(s);return p?S.reverse():S},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Av(c)).precision==null&&(c.trim=!0),c=XM(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=u?c(f):""}},t.nice=()=>r(RQ(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function MQ(){const e=JM(h1()).domain([1,10]);return e.copy=()=>zy(e,MQ()).base(e.base()),ua.apply(e,arguments),e}function cq(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uq(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function QM(e){var t=1,r=e(cq(t),uq(t));return r.constant=function(n){return arguments.length?e(cq(t=+n),uq(t)):t},wu(r)}function IQ(){var e=QM(h1());return e.copy=function(){return zy(e,IQ()).constant(e.constant())},ua.apply(e,arguments)}function dq(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qMe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UMe(e){return e<0?-e*e:e*e}function eI(e){var t=e(Di,Di),r=1;function n(){return r===1?e(Di,Di):r===.5?e(qMe,UMe):e(dq(r),dq(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},wu(t)}function tI(){var e=eI(h1());return e.copy=function(){return zy(e,tI()).exponent(e.exponent())},ua.apply(e,arguments),e}function VMe(){return tI.apply(null,arguments).exponent(.5)}function fq(e){return Math.sign(e)*e*e}function WMe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function DQ(){var e=ZM(),t=[0,1],r=!1,n;function i(s){var o=WMe(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(fq(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,ww)).map(fq)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return DQ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ua.apply(i,arguments),wu(i)}function LQ(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=YRe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Fy(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(iu),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return LQ().domain(e).range(t).unknown(n)},ua.apply(s,arguments)}function $Q(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Fy(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return $Q().domain([e,t]).range(i).unknown(s)},ua.apply(wu(o),arguments)}function FQ(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Fy(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return FQ().domain(e).range(t).unknown(r)},ua.apply(i,arguments)}const VP=new Date,WP=new Date;function Bn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>Bn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(VP.setTime(+s),WP.setTime(+o),e(VP),e(WP),Math.floor(r(VP,WP))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Sw=Bn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sw);Sw.range;const vl=1e3,ia=vl*60,yl=ia*60,Ll=yl*24,rI=Ll*7,hq=Ll*30,HP=Ll*365,gd=Bn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getUTCSeconds());gd.range;const nI=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vl)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getMinutes());nI.range;const iI=Bn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCMinutes());iI.range;const sI=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vl-e.getMinutes()*ia)},(e,t)=>{e.setTime(+e+t*yl)},(e,t)=>(t-e)/yl,e=>e.getHours());sI.range;const aI=Bn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yl)},(e,t)=>(t-e)/yl,e=>e.getUTCHours());aI.range;const qy=Bn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ia)/Ll,e=>e.getDate()-1);qy.range;const p1=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ll,e=>e.getUTCDate()-1);p1.range;const BQ=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ll,e=>Math.floor(e/Ll));BQ.range;function tf(e){return Bn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ia)/rI)}const m1=tf(0),Nw=tf(1),HMe=tf(2),KMe=tf(3),lp=tf(4),GMe=tf(5),ZMe=tf(6);m1.range;Nw.range;HMe.range;KMe.range;lp.range;GMe.range;ZMe.range;function rf(e){return Bn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rI)}const g1=rf(0),Cw=rf(1),YMe=rf(2),XMe=rf(3),cp=rf(4),JMe=rf(5),QMe=rf(6);g1.range;Cw.range;YMe.range;XMe.range;cp.range;JMe.range;QMe.range;const oI=Bn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oI.range;const lI=Bn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lI.range;const $l=Bn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$l.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$l.range;const Fl=Bn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fl.range;function zQ(e,t,r,n,i,s){const o=[[gd,1,vl],[gd,5,5*vl],[gd,15,15*vl],[gd,30,30*vl],[s,1,ia],[s,5,5*ia],[s,15,15*ia],[s,30,30*ia],[i,1,yl],[i,3,3*yl],[i,6,6*yl],[i,12,12*yl],[n,1,Ll],[n,2,2*Ll],[r,1,rI],[t,1,hq],[t,3,3*hq],[e,1,HP]];function l(u,f,p){const g=f<u;g&&([u,f]=[f,u]);const v=p&&typeof p.range=="function"?p:c(u,f,p),w=v?v.range(u,+f+1):[];return g?w.reverse():w}function c(u,f,p){const g=Math.abs(f-u)/p,v=VM(([,,_])=>_).right(o,g);if(v===o.length)return e.every(ZA(u/HP,f/HP,p));if(v===0)return Sw.every(Math.max(ZA(u,f,p),1));const[w,y]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return w.every(y)}return[l,c]}const[eIe,tIe]=zQ(Fl,lI,g1,BQ,aI,iI),[rIe,nIe]=zQ($l,oI,m1,qy,sI,nI);function KP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function GP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function iIe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ug(i),f=dg(i),p=ug(s),g=dg(s),v=ug(o),w=dg(o),y=ug(l),_=dg(l),S=ug(c),N=dg(c),C={a:W,A:Q,b:Y,B:ne,c:null,d:xq,e:xq,f:EIe,g:LIe,G:FIe,H:SIe,I:NIe,j:CIe,L:qQ,m:PIe,M:TIe,p:J,q:oe,Q:_q,s:jq,S:AIe,u:kIe,U:OIe,V:RIe,w:MIe,W:IIe,x:null,X:null,y:DIe,Y:$Ie,Z:BIe,"%":wq},k={a:be,A:Ce,b:De,B:ce,c:null,d:bq,e:bq,f:VIe,g:eDe,G:rDe,H:zIe,I:qIe,j:UIe,L:VQ,m:WIe,M:HIe,p:ae,q:ge,Q:_q,s:jq,S:KIe,u:GIe,U:ZIe,V:YIe,w:XIe,W:JIe,x:null,X:null,y:QIe,Y:tDe,Z:nDe,"%":wq},A={a:Z,A:V,b:U,B:z,c:H,d:vq,e:vq,f:bIe,g:gq,G:mq,H:yq,I:yq,j:gIe,L:xIe,m:mIe,M:vIe,p:q,q:pIe,Q:_Ie,s:jIe,S:yIe,u:cIe,U:uIe,V:dIe,w:lIe,W:fIe,x:re,X:se,y:gq,Y:mq,Z:hIe,"%":wIe};C.x=T(r,C),C.X=T(n,C),C.c=T(t,C),k.x=T(r,k),k.X=T(n,k),k.c=T(t,k);function T(he,Pe){return function(ee){var G=[],we=-1,xe=0,Ve=he.length,qe,Ne,ot;for(ee instanceof Date||(ee=new Date(+ee));++we<Ve;)he.charCodeAt(we)===37&&(G.push(he.slice(xe,we)),(Ne=pq[qe=he.charAt(++we)])!=null?qe=he.charAt(++we):Ne=qe==="e"?" ":"0",(ot=Pe[qe])&&(qe=ot(ee,Ne)),G.push(qe),xe=we+1);return G.push(he.slice(xe,we)),G.join("")}}function O(he,Pe){return function(ee){var G=cg(1900,void 0,1),we=I(G,he,ee+="",0),xe,Ve;if(we!=ee.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(Pe&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(xe=GP(cg(G.y,0,1)),Ve=xe.getUTCDay(),xe=Ve>4||Ve===0?Cw.ceil(xe):Cw(xe),xe=p1.offset(xe,(G.V-1)*7),G.y=xe.getUTCFullYear(),G.m=xe.getUTCMonth(),G.d=xe.getUTCDate()+(G.w+6)%7):(xe=KP(cg(G.y,0,1)),Ve=xe.getDay(),xe=Ve>4||Ve===0?Nw.ceil(xe):Nw(xe),xe=qy.offset(xe,(G.V-1)*7),G.y=xe.getFullYear(),G.m=xe.getMonth(),G.d=xe.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ve="Z"in G?GP(cg(G.y,0,1)).getUTCDay():KP(cg(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ve+5)%7:G.w+G.U*7-(Ve+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,GP(G)):KP(G)}}function I(he,Pe,ee,G){for(var we=0,xe=Pe.length,Ve=ee.length,qe,Ne;we<xe;){if(G>=Ve)return-1;if(qe=Pe.charCodeAt(we++),qe===37){if(qe=Pe.charAt(we++),Ne=A[qe in pq?Pe.charAt(we++):qe],!Ne||(G=Ne(he,ee,G))<0)return-1}else if(qe!=ee.charCodeAt(G++))return-1}return G}function q(he,Pe,ee){var G=u.exec(Pe.slice(ee));return G?(he.p=f.get(G[0].toLowerCase()),ee+G[0].length):-1}function Z(he,Pe,ee){var G=v.exec(Pe.slice(ee));return G?(he.w=w.get(G[0].toLowerCase()),ee+G[0].length):-1}function V(he,Pe,ee){var G=p.exec(Pe.slice(ee));return G?(he.w=g.get(G[0].toLowerCase()),ee+G[0].length):-1}function U(he,Pe,ee){var G=S.exec(Pe.slice(ee));return G?(he.m=N.get(G[0].toLowerCase()),ee+G[0].length):-1}function z(he,Pe,ee){var G=y.exec(Pe.slice(ee));return G?(he.m=_.get(G[0].toLowerCase()),ee+G[0].length):-1}function H(he,Pe,ee){return I(he,t,Pe,ee)}function re(he,Pe,ee){return I(he,r,Pe,ee)}function se(he,Pe,ee){return I(he,n,Pe,ee)}function W(he){return o[he.getDay()]}function Q(he){return s[he.getDay()]}function Y(he){return c[he.getMonth()]}function ne(he){return l[he.getMonth()]}function J(he){return i[+(he.getHours()>=12)]}function oe(he){return 1+~~(he.getMonth()/3)}function be(he){return o[he.getUTCDay()]}function Ce(he){return s[he.getUTCDay()]}function De(he){return c[he.getUTCMonth()]}function ce(he){return l[he.getUTCMonth()]}function ae(he){return i[+(he.getUTCHours()>=12)]}function ge(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Pe=T(he+="",C);return Pe.toString=function(){return he},Pe},parse:function(he){var Pe=O(he+="",!1);return Pe.toString=function(){return he},Pe},utcFormat:function(he){var Pe=T(he+="",k);return Pe.toString=function(){return he},Pe},utcParse:function(he){var Pe=O(he+="",!0);return Pe.toString=function(){return he},Pe}}}var pq={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,sIe=/^%/,aIe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function oIe(e){return e.replace(aIe,"\\$&")}function ug(e){return new RegExp("^(?:"+e.map(oIe).join("|")+")","i")}function dg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lIe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function cIe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uIe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function dIe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fIe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mq(e,t,r){var n=Xn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gq(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hIe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pIe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function mIe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function vq(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gIe(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yq(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function vIe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yIe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xIe(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function bIe(e,t,r){var n=Xn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wIe(e,t,r){var n=sIe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _Ie(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function jIe(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xq(e,t){return hr(e.getDate(),t,2)}function SIe(e,t){return hr(e.getHours(),t,2)}function NIe(e,t){return hr(e.getHours()%12||12,t,2)}function CIe(e,t){return hr(1+qy.count($l(e),e),t,3)}function qQ(e,t){return hr(e.getMilliseconds(),t,3)}function EIe(e,t){return qQ(e,t)+"000"}function PIe(e,t){return hr(e.getMonth()+1,t,2)}function TIe(e,t){return hr(e.getMinutes(),t,2)}function AIe(e,t){return hr(e.getSeconds(),t,2)}function kIe(e){var t=e.getDay();return t===0?7:t}function OIe(e,t){return hr(m1.count($l(e)-1,e),t,2)}function UQ(e){var t=e.getDay();return t>=4||t===0?lp(e):lp.ceil(e)}function RIe(e,t){return e=UQ(e),hr(lp.count($l(e),e)+($l(e).getDay()===4),t,2)}function MIe(e){return e.getDay()}function IIe(e,t){return hr(Nw.count($l(e)-1,e),t,2)}function DIe(e,t){return hr(e.getFullYear()%100,t,2)}function LIe(e,t){return e=UQ(e),hr(e.getFullYear()%100,t,2)}function $Ie(e,t){return hr(e.getFullYear()%1e4,t,4)}function FIe(e,t){var r=e.getDay();return e=r>=4||r===0?lp(e):lp.ceil(e),hr(e.getFullYear()%1e4,t,4)}function BIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function bq(e,t){return hr(e.getUTCDate(),t,2)}function zIe(e,t){return hr(e.getUTCHours(),t,2)}function qIe(e,t){return hr(e.getUTCHours()%12||12,t,2)}function UIe(e,t){return hr(1+p1.count(Fl(e),e),t,3)}function VQ(e,t){return hr(e.getUTCMilliseconds(),t,3)}function VIe(e,t){return VQ(e,t)+"000"}function WIe(e,t){return hr(e.getUTCMonth()+1,t,2)}function HIe(e,t){return hr(e.getUTCMinutes(),t,2)}function KIe(e,t){return hr(e.getUTCSeconds(),t,2)}function GIe(e){var t=e.getUTCDay();return t===0?7:t}function ZIe(e,t){return hr(g1.count(Fl(e)-1,e),t,2)}function WQ(e){var t=e.getUTCDay();return t>=4||t===0?cp(e):cp.ceil(e)}function YIe(e,t){return e=WQ(e),hr(cp.count(Fl(e),e)+(Fl(e).getUTCDay()===4),t,2)}function XIe(e){return e.getUTCDay()}function JIe(e,t){return hr(Cw.count(Fl(e)-1,e),t,2)}function QIe(e,t){return hr(e.getUTCFullYear()%100,t,2)}function eDe(e,t){return e=WQ(e),hr(e.getUTCFullYear()%100,t,2)}function tDe(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function rDe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?cp(e):cp.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function nDe(){return"+0000"}function wq(){return"%"}function _q(e){return+e}function jq(e){return Math.floor(+e/1e3)}var dh,HQ,KQ;iDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iDe(e){return dh=iIe(e),HQ=dh.format,dh.parse,KQ=dh.utcFormat,dh.utcParse,dh}function sDe(e){return new Date(e)}function aDe(e){return e instanceof Date?+e:+new Date(+e)}function cI(e,t,r,n,i,s,o,l,c,u){var f=ZM(),p=f.invert,g=f.domain,v=u(".%L"),w=u(":%S"),y=u("%I:%M"),_=u("%I %p"),S=u("%a %d"),N=u("%b %d"),C=u("%B"),k=u("%Y");function A(T){return(c(T)<T?v:l(T)<T?w:o(T)<T?y:s(T)<T?_:n(T)<T?i(T)<T?S:N:r(T)<T?C:k)(T)}return f.invert=function(T){return new Date(p(T))},f.domain=function(T){return arguments.length?g(Array.from(T,aDe)):g().map(sDe)},f.ticks=function(T){var O=g();return e(O[0],O[O.length-1],T??10)},f.tickFormat=function(T,O){return O==null?A:u(O)},f.nice=function(T){var O=g();return(!T||typeof T.range!="function")&&(T=t(O[0],O[O.length-1],T??10)),T?g(RQ(O,T)):f},f.copy=function(){return zy(f,cI(e,t,r,n,i,s,o,l,c,u))},f}function oDe(){return ua.apply(cI(rIe,nIe,$l,oI,m1,qy,sI,nI,gd,HQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lDe(){return ua.apply(cI(eIe,tIe,Fl,lI,g1,p1,aI,iI,gd,KQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function v1(){var e=0,t=1,r,n,i,s,o=Di,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function f(p){return function(g){var v,w;return arguments.length?([v,w]=g,o=p(v,w),u):[o(0),o(1)]}}return u.range=f(Jp),u.rangeRound=f(GM),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function _u(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GQ(){var e=wu(v1()(Di));return e.copy=function(){return _u(e,GQ())},Kl.apply(e,arguments)}function ZQ(){var e=JM(v1()).domain([1,10]);return e.copy=function(){return _u(e,ZQ()).base(e.base())},Kl.apply(e,arguments)}function YQ(){var e=QM(v1());return e.copy=function(){return _u(e,YQ()).constant(e.constant())},Kl.apply(e,arguments)}function uI(){var e=eI(v1());return e.copy=function(){return _u(e,uI()).exponent(e.exponent())},Kl.apply(e,arguments)}function cDe(){return uI.apply(null,arguments).exponent(.5)}function XQ(){var e=[],t=Di;function r(n){if(n!=null&&!isNaN(n=+n))return t((Fy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(iu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>ZRe(e,s/n))},r.copy=function(){return XQ(t).domain(e)},Kl.apply(r,arguments)}function y1(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=Di,f,p=!1,g;function v(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-s)*(n*y<n*s?l:c),u(p?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,r]=y,i=f(e=+e),s=f(t=+t),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[e,t,r]},v.clamp=function(y){return arguments.length?(p=!!y,v):p},v.interpolator=function(y){return arguments.length?(u=y,v):u};function w(y){return function(_){var S,N,C;return arguments.length?([S,N,C]=_,u=wMe(y,[S,N,C]),v):[u(0),u(.5),u(1)]}}return v.range=w(Jp),v.rangeRound=w(GM),v.unknown=function(y){return arguments.length?(g=y,v):g},function(y){return f=y,i=y(e),s=y(t),o=y(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function JQ(){var e=wu(y1()(Di));return e.copy=function(){return _u(e,JQ())},Kl.apply(e,arguments)}function QQ(){var e=JM(y1()).domain([.1,1,10]);return e.copy=function(){return _u(e,QQ()).base(e.base())},Kl.apply(e,arguments)}function eee(){var e=QM(y1());return e.copy=function(){return _u(e,eee()).constant(e.constant())},Kl.apply(e,arguments)}function dI(){var e=eI(y1());return e.copy=function(){return _u(e,dI()).exponent(e.exponent())},Kl.apply(e,arguments)}function uDe(){return dI.apply(null,arguments).exponent(.5)}const Sq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cv,scaleDiverging:JQ,scaleDivergingLog:QQ,scaleDivergingPow:dI,scaleDivergingSqrt:uDe,scaleDivergingSymlog:eee,scaleIdentity:OQ,scaleImplicit:YA,scaleLinear:jw,scaleLog:MQ,scaleOrdinal:WM,scalePoint:Wg,scalePow:tI,scaleQuantile:LQ,scaleQuantize:$Q,scaleRadial:DQ,scaleSequential:GQ,scaleSequentialLog:ZQ,scaleSequentialPow:uI,scaleSequentialQuantile:XQ,scaleSequentialSqrt:cDe,scaleSequentialSymlog:YQ,scaleSqrt:VMe,scaleSymlog:IQ,scaleThreshold:FQ,scaleTime:oDe,scaleUtc:lDe,tickFormat:kQ},Symbol.toStringTag,{value:"Module"}));var ZP,Nq;function tee(){if(Nq)return ZP;Nq=1;var e=Gp();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):i(c,u)))var u=c,f=l}return f}return ZP=t,ZP}var YP,Cq;function dDe(){if(Cq)return YP;Cq=1;function e(t,r){return t>r}return YP=e,YP}var XP,Eq;function fDe(){if(Eq)return XP;Eq=1;var e=tee(),t=dDe(),r=Xp();function n(i){return i&&i.length?e(i,r,t):void 0}return XP=n,XP}var hDe=fDe();const x1=pr(hDe);var JP,Pq;function pDe(){if(Pq)return JP;Pq=1;function e(t,r){return t<r}return JP=e,JP}var QP,Tq;function mDe(){if(Tq)return QP;Tq=1;var e=tee(),t=pDe(),r=Xp();function n(i){return i&&i.length?e(i,r,t):void 0}return QP=n,QP}var gDe=mDe();const b1=pr(gDe);var e2,Aq;function vDe(){if(Aq)return e2;Aq=1;var e=EM(),t=bu(),r=uQ(),n=ss();function i(s,o){var l=n(s)?e:r;return l(s,t(o,3))}return e2=i,e2}var t2,kq;function yDe(){if(kq)return t2;kq=1;var e=lQ(),t=vDe();function r(n,i){return e(t(n,i),1)}return t2=r,t2}var xDe=yDe();const bDe=pr(xDe);var r2,Oq;function wDe(){if(Oq)return r2;Oq=1;var e=BM();function t(r,n){return e(r,n)}return r2=t,r2}var _De=wDe();const Uy=pr(_De);var Qp=1e9,jDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hI,Yr=!0,oa="[DecimalError] ",Nd=oa+"Invalid argument: ",fI=oa+"Exponent out of range: ",em=Math.floor,od=Math.pow,SDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Es,Kn=1e7,Wr=7,ree=9007199254740991,Ew=em(ree/Wr),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return Tl(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return Ar(Tl(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return Nn(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Es))throw Error(oa+"NaN");if(r.s<1)throw Error(oa+(r.s?"NaN":"-Infinity"));return r.eq(Es)?new n(0):(Yr=!1,t=Tl(kv(r,s),kv(e,s),s),Yr=!0,Ar(t,i))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?see(t,e):nee(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(oa+"NaN");return r.s?(Yr=!1,t=Tl(r,e,0,1).times(e),Yr=!0,r.minus(t)):Ar(new n(r),i)};ct.naturalExponential=ct.exp=function(){return iee(this)};ct.naturalLogarithm=ct.ln=function(){return kv(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nee(t,e):see(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Nd+e);if(t=Nn(i)+1,n=i.d.length-1,r=n*Wr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(oa+"NaN")}for(e=Nn(l),Yr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=wo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=em((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Tl(l,s,o+2)).times(.5),wo(s.d).slice(0,o)===(t=wo(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ar(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Yr=!0,Ar(n,r)};ct.times=ct.mul=function(e){var t,r,n,i,s,o,l,c,u,f=this,p=f.constructor,g=f.d,v=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=g.length,u=v.length,c<u&&(s=g,g=v,v=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+v[n]*g[i-n-1]+t,s[i--]=l%Kn|0,t=l/Kn|0;s[i]=(s[i]+t)%Kn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Yr?Ar(e,p.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Do(e,0,Qp),t===void 0?t=n.rounding:Do(t,0,8),Ar(r,e+Nn(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=$d(n,!0):(Do(e,0,Qp),t===void 0?t=i.rounding:Do(t,0,8),n=Ar(new i(n),e+1,t),r=$d(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?$d(i):(Do(e,0,Qp),t===void 0?t=s.rounding:Do(t,0,8),n=Ar(new s(i),e+Nn(i)+1,t),r=$d(n.abs(),!1,e+Nn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return Ar(new t(e),Nn(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Es);if(l=new c(l),!l.s){if(e.s<1)throw Error(oa+"Infinity");return l}if(l.eq(Es))return l;if(n=c.precision,e.eq(Es))return Ar(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=f<0?-f:f)<=ree){for(i=new c(Es),t=Math.ceil(n/Wr+4),Yr=!1;r%2&&(i=i.times(l),Mq(i.d,t)),r=em(r/2),r!==0;)l=l.times(l),Mq(l.d,t);return Yr=!0,e.s<0?new c(Es).div(i):Ar(i,n)}}else if(s<0)throw Error(oa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Yr=!1,i=e.times(kv(l,n+u)),Yr=!0,i=iee(i),i.s=s,i};ct.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Nn(i),n=$d(i,r<=s.toExpNeg||r>=s.toExpPos)):(Do(e,1,Qp),t===void 0?t=s.rounding:Do(t,0,8),i=Ar(new s(i),e,t),r=Nn(i),n=$d(i,e<=r||r<=s.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Do(e,1,Qp),t===void 0?t=n.rounding:Do(t,0,8)),Ar(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nn(e),r=e.constructor;return $d(e,t<=r.toExpNeg||t>=r.toExpPos)};function nee(e,t){var r,n,i,s,o,l,c,u,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Yr?Ar(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(p/Wr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Kn|0,c[s]%=Kn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Yr?Ar(t,p):t}function Do(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Nd+e)}function wo(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Wr-n.length,r&&(s+=qc(r)),s+=n;o=e[t],n=o+"",r=Wr-n.length,r&&(s+=qc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Tl=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Kn|0,o=s/Kn|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Kn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,f,p,g,v,w,y,_,S,N,C,k,A,T,O,I,q=n.constructor,Z=n.s==i.s?1:-1,V=n.d,U=i.d;if(!n.s)return new q(n);if(!i.s)throw Error(oa+"Division by zero");for(c=n.e-i.e,O=U.length,A=V.length,v=new q(Z),w=v.d=[],u=0;U[u]==(V[u]||0);)++u;if(U[u]>(V[u]||0)&&--c,s==null?N=s=q.precision:o?N=s+(Nn(n)-Nn(i))+1:N=s,N<0)return new q(0);if(N=N/Wr+2|0,u=0,O==1)for(f=0,U=U[0],N++;(u<A||f)&&N--;u++)C=f*Kn+(V[u]||0),w[u]=C/U|0,f=C%U|0;else{for(f=Kn/(U[0]+1)|0,f>1&&(U=e(U,f),V=e(V,f),O=U.length,A=V.length),k=O,y=V.slice(0,O),_=y.length;_<O;)y[_++]=0;I=U.slice(),I.unshift(0),T=U[0],U[1]>=Kn/2&&++T;do f=0,l=t(U,y,O,_),l<0?(S=y[0],O!=_&&(S=S*Kn+(y[1]||0)),f=S/T|0,f>1?(f>=Kn&&(f=Kn-1),p=e(U,f),g=p.length,_=y.length,l=t(p,y,g,_),l==1&&(f--,r(p,O<g?I:U,g))):(f==0&&(l=f=1),p=U.slice()),g=p.length,g<_&&p.unshift(0),r(y,p,_),l==-1&&(_=y.length,l=t(U,y,O,_),l<1&&(f++,r(y,O<_?I:U,_))),_=y.length):l===0&&(f++,y=[0]),w[u++]=f,l&&y[0]?y[_++]=V[k]||0:(y=[V[k]],_=1);while((k++<A||y[0]!==void 0)&&N--)}return w[0]||w.shift(),v.e=c,Ar(v,o?s+Nn(v)+1:s)}}();function iee(e,t){var r,n,i,s,o,l,c=0,u=0,f=e.constructor,p=f.precision;if(Nn(e)>16)throw Error(fI+Nn(e));if(!e.s)return new f(Es);for(Yr=!1,l=p,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(od(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new f(Es),f.precision=l;;){if(i=Ar(i.times(e),l),r=r.times(++c),o=s.plus(Tl(i,r,l)),wo(o.d).slice(0,l)===wo(s.d).slice(0,l)){for(;u--;)s=Ar(s.times(s),l);return f.precision=p,t==null?(Yr=!0,Ar(s,p)):s}s=o}}function Nn(e){for(var t=e.e*Wr,r=e.d[0];r>=10;r/=10)t++;return t}function n2(e,t,r){if(t>e.LN10.sd())throw Yr=!0,r&&(e.precision=r),Error(oa+"LN10 precision limit exceeded");return Ar(new e(e.LN10),t)}function qc(e){for(var t="";e--;)t+="0";return t}function kv(e,t){var r,n,i,s,o,l,c,u,f,p=1,g=10,v=e,w=v.d,y=v.constructor,_=y.precision;if(v.s<1)throw Error(oa+(v.s?"NaN":"-Infinity"));if(v.eq(Es))return new y(0);if(t==null?(Yr=!1,u=_):u=t,v.eq(10))return t==null&&(Yr=!0),n2(y,u);if(u+=g,y.precision=u,r=wo(w),n=r.charAt(0),s=Nn(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=wo(v.d),n=r.charAt(0),p++;s=Nn(v),n>1?(v=new y("0."+r),s++):v=new y(n+"."+r.slice(1))}else return c=n2(y,u+2,_).times(s+""),v=kv(new y(n+"."+r.slice(1)),u-g).plus(c),y.precision=_,t==null?(Yr=!0,Ar(v,_)):v;for(l=o=v=Tl(v.minus(Es),v.plus(Es),u),f=Ar(v.times(v),u),i=3;;){if(o=Ar(o.times(f),u),c=l.plus(Tl(o,new y(i),u)),wo(c.d).slice(0,u)===wo(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(n2(y,u+2,_).times(s+""))),l=Tl(l,new y(p),u),y.precision=_,t==null?(Yr=!0,Ar(l,_)):l;l=c,i+=2}}function Rq(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=em(r/Wr),e.d=[],n=(r+1)%Wr,r<0&&(n+=Wr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Wr;n<i;)e.d.push(+t.slice(n,n+=Wr));t=t.slice(n),n=Wr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Yr&&(e.e>Ew||e.e<-Ew))throw Error(fI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ar(e,t,r){var n,i,s,o,l,c,u,f,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Wr,i=t,u=p[f=0];else{if(f=Math.ceil((n+1)/Wr),s=p.length,f>=s)return e;for(u=s=p[f],o=1;s>=10;s/=10)o++;n%=Wr,i=n-Wr+o}if(r!==void 0&&(s=od(10,o-i-1),l=u/s%10|0,c=t<0||p[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/od(10,o-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(s=Nn(e),p.length=1,t=t-s-1,p[0]=od(10,(Wr-t%Wr)%Wr),e.e=em(-t/Wr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=od(10,Wr-n),p[f]=i>0?(u/od(10,o-i)%od(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==Kn&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=Kn)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Yr&&(e.e>Ew||e.e<-Ew))throw Error(fI+Nn(e));return e}function see(e,t){var r,n,i,s,o,l,c,u,f,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Yr?Ar(t,v):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=p.length):(r=p,n=u,l=c.length),i=Math.max(Math.ceil(v/Wr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}o=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=Kn-1;--c[s],c[i]+=Kn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Yr?Ar(t,v):t):new g(0)}function $d(e,t,r){var n,i=Nn(e),s=wo(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+qc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+qc(-i-1)+s,r&&(n=r-o)>0&&(s+=qc(n))):i>=o?(s+=qc(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+qc(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=qc(n))),e.s<0?"-"+s:s}function Mq(e,t){if(e.length>t)return e.length=t,!0}function aee(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Nd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Rq(o,s.toString())}else if(typeof s!="string")throw Error(Nd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,SDe.test(s))Rq(o,s);else throw Error(Nd+s)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aee,i.config=i.set=NDe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function NDe(e){if(!e||typeof e!="object")throw Error(oa+"Object expected");var t,r,n,i=["precision",1,Qp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(em(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Nd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Nd+r+": "+n);return this}var hI=aee(jDe);Es=new hI(1);const Nr=hI;function CDe(e){return ADe(e)||TDe(e)||PDe(e)||EDe()}function EDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PDe(e,t){if(e){if(typeof e=="string")return ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,t)}}function TDe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ADe(e){if(Array.isArray(e))return ek(e)}function ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kDe=function(t){return t},oee={},lee=function(t){return t===oee},Iq=function(t){return function r(){return arguments.length===0||arguments.length===1&&lee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ODe=function e(t,r){return t===1?r:Iq(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==oee}).length;return o>=t?r.apply(void 0,i):e(t-o,Iq(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(p){return lee(p)?c.shift():p});return r.apply(void 0,CDe(f).concat(c))}))})},w1=function(t){return ODe(t.length,t)},tk=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},RDe=w1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),MDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kDe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},rk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},cee=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function IDe(e){var t;return e===0?t=1:t=Math.floor(new Nr(e).abs().log(10).toNumber())+1,t}function DDe(e,t,r){for(var n=new Nr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var LDe=w1(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),$De=w1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),FDe=w1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const _1={rangeStep:DDe,getDigitCount:IDe,interpolateNumber:LDe,uninterpolateNumber:$De,uninterpolateTruncation:FDe};function nk(e){return qDe(e)||zDe(e)||uee(e)||BDe()}function BDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zDe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qDe(e){if(Array.isArray(e))return ik(e)}function Ov(e,t){return WDe(e)||VDe(e,t)||uee(e,t)||UDe()}function UDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(e,t){if(e){if(typeof e=="string")return ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(e,t)}}function ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VDe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function WDe(e){if(Array.isArray(e))return e}function dee(e){var t=Ov(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function fee(e,t,r){if(e.lte(0))return new Nr(0);var n=_1.getDigitCount(e.toNumber()),i=new Nr(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new Nr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Nr(Math.ceil(c))}function HDe(e,t,r){var n=1,i=new Nr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Nr(10).pow(_1.getDigitCount(e)-1),i=new Nr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Nr(Math.floor(e)))}else e===0?i=new Nr(Math.floor((t-1)/2)):r||(i=new Nr(Math.floor(e)));var o=Math.floor((t-1)/2),l=MDe(RDe(function(c){return i.add(new Nr(c-o).mul(n)).toNumber()}),tk);return l(0,t)}function hee(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var s=fee(new Nr(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new Nr(0):(o=new Nr(e).add(t).div(2),o=o.sub(new Nr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Nr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?hee(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Nr(l).mul(s)),tickMax:o.add(new Nr(c).mul(s))})}function KDe(e){var t=Ov(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=dee([r,n]),c=Ov(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(nk(tk(0,i-1).map(function(){return 1/0}))):[].concat(nk(tk(0,i-1).map(function(){return-1/0})),[f]);return r>n?rk(p):p}if(u===f)return HDe(u,i,s);var g=hee(u,f,o,s),v=g.step,w=g.tickMin,y=g.tickMax,_=_1.rangeStep(w,y.add(new Nr(.1).mul(v)),v);return r>n?rk(_):_}function GDe(e,t){var r=Ov(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dee([n,i]),l=Ov(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),p=fee(new Nr(u).sub(c).div(f-1),s,0),g=[].concat(nk(_1.rangeStep(new Nr(c),new Nr(u).sub(new Nr(.99).mul(p)),p)),[u]);return n>i?rk(g):g}var ZDe=cee(KDe),YDe=cee(GDe),XDe="Invariant failed";function Fd(e,t){throw new Error(XDe)}var JDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(this,arguments)}function QDe(e,t){return nLe(e)||rLe(e,t)||tLe(e,t)||eLe()}function eLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tLe(e,t){if(e){if(typeof e=="string")return Dq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dq(e,t)}}function Dq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function nLe(e){if(Array.isArray(e))return e}function iLe(e,t){if(e==null)return{};var r=sLe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gee(n.key),n)}}function lLe(e,t,r){return t&&oLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cLe(e,t,r){return t=Tw(t),uLe(e,pee()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function uLe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dLe(e)}function dLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pee=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function fLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sk(e,t)}function mee(e,t,r){return t=gee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=hLe(e,"string");return up(t)=="symbol"?t:t+""}function hLe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vy=function(e){function t(){return aLe(this,t),cLe(this,t,arguments)}return fLe(t,e),lLe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,g=iLe(n,JDe),v=Vt(g,!1);this.props.direction==="x"&&f.type!=="number"&&Fd();var w=c.map(function(y){var _=u(y,l),S=_.x,N=_.y,C=_.value,k=_.errorVal;if(!k)return null;var A=[],T,O;if(Array.isArray(k)){var I=QDe(k,2);T=I[0],O=I[1]}else T=O=k;if(s==="vertical"){var q=f.scale,Z=N+i,V=Z+o,U=Z-o,z=q(C-T),H=q(C+O);A.push({x1:H,y1:V,x2:H,y2:U}),A.push({x1:z,y1:Z,x2:H,y2:Z}),A.push({x1:z,y1:V,x2:z,y2:U})}else if(s==="horizontal"){var re=p.scale,se=S+i,W=se-o,Q=se+o,Y=re(C-T),ne=re(C+O);A.push({x1:W,y1:ne,x2:Q,y2:ne}),A.push({x1:se,y1:Y,x2:se,y2:ne}),A.push({x1:W,y1:Y,x2:Q,y2:Y})}return X.createElement(Fr,Pw({className:"recharts-errorBar",key:"bar-".concat(A.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},v),A.map(function(J){return X.createElement("line",Pw({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return X.createElement(Fr,{className:"recharts-errorBars"},w)}}])}(X.Component);mee(Vy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mee(Vy,"displayName","ErrorBar");function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(n){pLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pLe(e,t,r){return t=mLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mLe(e){var t=gLe(e,"string");return Rv(t)=="symbol"?t:t+""}function gLe(e,t){if(Rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vee=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=_s(r,nu);if(!o)return null;var l=nu.defaultProps,c=l!==void 0?ed(ed({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,p){var g=p.item,v=p.props,w=v.sectors||v.data||[];return f.concat(w.map(function(y){return{type:o.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(f){var p=f.item,g=p.type.defaultProps,v=g!==void 0?ed(ed({},g),p.props):{},w=v.dataKey,y=v.name,_=v.legendType,S=v.hide;return{inactive:S,dataKey:w,type:c.iconType||_||"square",color:pI(p),value:y||w,payload:v}}),ed(ed(ed({},c),nu.getWithHeight(o,i)),{},{payload:u,item:o})};function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}function $q(e){return bLe(e)||xLe(e)||yLe(e)||vLe()}function vLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yLe(e,t){if(e){if(typeof e=="string")return ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(e,t)}}function xLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bLe(e){if(Array.isArray(e))return ak(e)}function ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fq(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lh(e,t,r){return t=wLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wLe(e){var t=_Le(e,"string");return Mv(t)=="symbol"?t:t+""}function _Le(e,t){if(Mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ln(e,t,r){return Mt(e)||Mt(t)?r:$n(t)?ks(e,t,r):Rt(t)?t(e):r}function Hg(e,t,r,n){var i=bDe(e,function(l){return Ln(l,t)});if(r==="number"){var s=i.filter(function(l){return et(l)||parseFloat(l)});return s.length?[b1(s),x1(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Mt(l)}):i;return o.map(function(l){return $n(l)||l instanceof Date?l:""})}var jLe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,p=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(Ii(p-f)!==Ii(g-p)){var w=[];if(Ii(g-p)===Ii(c[1]-c[0])){v=g;var y=p+c[1]-c[0];w[0]=Math.min(y,(y+f)/2),w[1]=Math.max(y,(y+f)/2)}else{v=f;var _=g+c[1]-c[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){o=i[u].index;break}}else{var N=Math.min(f,g),C=Math.max(f,g);if(t>(N+p)/2&&t<=(C+p)/2){o=i[u].index;break}}}else for(var k=0;k<l;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},pI=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},SLe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,p=Object.keys(f),g=0,v=p.length;g<v;g++){var w=f[p[g]],y=w.items,_=w.cateAxisId,S=y.filter(function(O){return Pl(O.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,C=N!==void 0?ln(ln({},N),S[0].props):S[0].props,k=C.barSize,A=C[_];o[A]||(o[A]=[]);var T=Mt(k)?r:k;o[A].push({item:S[0],stackList:S.slice(1),barSize:Mt(T)?void 0:Fa(T,n,0)})}}return o},NLe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Fa(r,i,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/c,w=o.reduce(function(k,A){return k+A.barSize||0},0);w+=(c-1)*u,w>=i&&(w-=(c-1)*u,u=0),w>=i&&v>0&&(g=!0,v*=.9,w=c*v);var y=(i-w)/2>>0,_={offset:y-u,size:0};f=o.reduce(function(k,A){var T={item:A.item,position:{offset:_.offset+_.size+u,size:g?v:A.barSize}},O=[].concat($q(k),[T]);return _=O[O.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){O.push({item:I,position:_})}),O},p)}else{var S=Fa(n,i,0,!0);i-2*S-(c-1)*u<=0&&(u=0);var N=(i-2*S-(c-1)*u)/c;N>1&&(N>>=0);var C=l===+l?Math.min(N,l):N;f=o.reduce(function(k,A,T){var O=[].concat($q(k),[{item:A.item,position:{offset:S+(N+u)*T+(N-C)/2,size:C}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},p)}return f},CLe=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=vee({children:s,legendWidth:c});if(u){var f=i||{},p=f.width,g=f.height,v=u.align,w=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&w==="middle")&&v!=="center"&&et(t[v]))return ln(ln({},t),{},Lh({},v,t[v]+(p||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&w!=="middle"&&et(t[w]))return ln(ln({},t),{},Lh({},w,t[w]+(g||0)))}return t},ELe=function(t,r,n){return Mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yee=function(t,r,n,i,s){var o=r.props.children,l=Os(o,Vy).filter(function(u){return ELe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var p=Ln(f,n);if(Mt(p))return u;var g=Array.isArray(p)?[b1(p),x1(p)]:[p,p],v=c.reduce(function(w,y){var _=Ln(f,y,0),S=g[0]-Math.abs(Array.isArray(_)?_[0]:_),N=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(S,w[0]),Math.max(N,w[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},PLe=function(t,r,n,i,s){var o=r.map(function(l){return yee(t,l,n,s,i)}).filter(function(l){return!Mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},xee=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&yee(t,c,u,i)||Hg(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,p=u.length;f<p;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},bee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},wee=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},xl=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?Ii(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(p){var g=s?s.indexOf(p):p;return{coordinate:i(g)+u,value:p,offset:u}});return f.filter(function(p){return!Ly(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,g){return{coordinate:i(p)+u,value:p,index:g,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,g){return{coordinate:i(p)+u,value:s?s[p]:p,index:g,offset:u}})},i2=new WeakMap,G0=function(t,r){if(typeof r!="function")return t;i2.has(t)||i2.set(t,new WeakMap);var n=i2.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},TLe=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Cv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:jw(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wg(),realScaleType:"point"}:s==="category"?{scale:Cv(),realScaleType:"band"}:{scale:jw(),realScaleType:"linear"};if(Ld(i)){var c="scale".concat(a1(i));return{scale:(Sq[c]||Wg)(),realScaleType:Sq[c]?c:"point"}}return Rt(i)?{scale:i}:{scale:Wg(),realScaleType:"point"}},Bq=1e-4,ALe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-Bq,o=Math.max(i[0],i[1])+Bq,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},kLe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},OLe=function(t,r){if(!r||r.length!==2||!et(r[0])||!et(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!et(t[0])||t[0]<n)&&(s[0]=n),(!et(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},RLe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Ly(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},MLe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Ly(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},ILe={sign:RLe,expand:yAe,none:rp,silhouette:xAe,wiggle:bAe,positive:MLe},DLe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=ILe[n],o=vAe().keys(i).value(function(l,c){return+Ln(l,c,0)}).order(DA).offset(s);return o(t)},LLe=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(p,g){var v,w=(v=g.type)!==null&&v!==void 0&&v.defaultProps?ln(ln({},g.type.defaultProps),g.props):g.props,y=w.stackId,_=w.hide;if(_)return p;var S=w[n],N=p[S]||{hasStack:!1,stackGroups:{}};if($n(y)){var C=N.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(g),N.hasStack=!0,N.stackGroups[y]=C}else N.stackGroups[Yp("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return ln(ln({},p),{},Lh({},S,N))},c),f={};return Object.keys(u).reduce(function(p,g){var v=u[g];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,_){var S=v.stackGroups[_];return ln(ln({},y),{},Lh({},_,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:DLe(t,S.items,s)}))},w)}return ln(ln({},p),{},Lh({},g,v))},f)},$Le=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=ZDe(u,s,l);return t.domain([b1(f),x1(f)]),{niceTicks:f}}if(s&&i==="number"){var p=t.domain(),g=YDe(p,s,l);return{niceTicks:g}}return null};function zq(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(i[t.dataKey])){var l=sw(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ln(i,Mt(o)?t.dataKey:o);return Mt(c)?null:t.scale(c)}var qq=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ln(o,r.dataKey,r.domain[l]);return Mt(c)?null:r.scale(c)-s/2+i},FLe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},BLe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,s=i.stackId;if($n(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},zLe=function(t){return t.reduce(function(r,n){return[b1(n.concat([r[0]]).filter(et)),x1(n.concat([r[1]]).filter(et))]},[1/0,-1/0])},_ee=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,f){var p=zLe(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Uq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ok=function(t,r,n){if(Rt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(et(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Uq.test(t[0])){var s=+Uq.exec(t[0])[1];i[0]=r[0]-s}else Rt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(et(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Vq.test(t[1])){var o=+Vq.exec(t[1])[1];i[1]=r[1]+o}else Rt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Aw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=qM(r,function(p){return p.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Wq=function(t,r,n){return!t||!t.length||Uy(t,ks(n,"type.defaultProps.domain"))?r:t},jee=function(t,r){var n=t.type.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return ln(ln({},Vt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:pI(t),value:Ln(r,i),type:c,payload:r,chartType:u,hide:f})};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hq(Object(r),!0).forEach(function(n){qLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qLe(e,t,r){return t=ULe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ULe(e){var t=VLe(e,"string");return Iv(t)=="symbol"?t:t+""}function VLe(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kw=Math.PI/180,WLe=function(t){return t*180/Math.PI},Sn=function(t,r,n,i){return{x:t+Math.cos(-kw*i)*n,y:r+Math.sin(-kw*i)*n}},HLe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},KLe=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},GLe=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=KLe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:WLe(u),angleInRadian:u}},ZLe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},YLe=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},Gq=function(t,r){var n=t.x,i=t.y,s=GLe({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=ZLe(r),p=f.startAngle,g=f.endAngle,v=l,w;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;w=v>=g&&v<=p}return w?Kq(Kq({},r),{},{radius:o,angle:YLe(v,r)}):null};function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}var XLe=["offset"];function JLe(e){return r4e(e)||t4e(e)||e4e(e)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4e(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function t4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r4e(e){if(Array.isArray(e))return lk(e)}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n4e(e,t){if(e==null)return{};var r=i4e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){s4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s4e(e,t,r){return t=a4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a4e(e){var t=o4e(e,"string");return Dv(t)=="symbol"?t:t+""}function o4e(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(this,arguments)}var l4e=function(t){var r=t.value,n=t.formatter,i=Mt(t.children)?r:t.children;return Rt(n)?n(i):i},c4e=function(t,r){var n=Ii(r-t),i=Math.min(Math.abs(r-t),360);return n*i},u4e=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,p=c.innerRadius,g=c.outerRadius,v=c.startAngle,w=c.endAngle,y=c.clockWise,_=(p+g)/2,S=c4e(v,w),N=S>=0?1:-1,C,k;i==="insideStart"?(C=v+N*o,k=y):i==="insideEnd"?(C=w-N*o,k=!y):i==="end"&&(C=w+N*o,k=y),k=S<=0?k:!k;var A=Sn(u,f,_,C),T=Sn(u,f,_,C+(k?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(k?0:1,`,
    `).concat(T.x,",").concat(T.y),I=Mt(t.id)?Yp("recharts-radial-line-"):t.id;return X.createElement("text",Lv({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:I,d:O})),X.createElement("textPath",{xlinkHref:"#".concat(I)},r))},d4e=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,p=s.endAngle,g=(f+p)/2;if(i==="outside"){var v=Sn(o,l,u+n,g),w=v.x,y=v.y;return{x:w,y,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,S=Sn(o,l,_,g),N=S.x,C=S.y;return{x:N,y:C,textAnchor:"middle",verticalAnchor:"middle"}},f4e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,p=f>=0?1:-1,g=p*i,v=p>0?"end":"start",w=p>0?"start":"end",y=u>=0?1:-1,_=y*i,S=y>0?"end":"start",N=y>0?"start":"end";if(s==="top"){var C={x:l+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:v};return Rn(Rn({},C),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var k={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:w};return Rn(Rn({},k),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var A={x:l-_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return Rn(Rn({},A),n?{width:Math.max(A.x-n.x,0),height:f}:{})}if(s==="right"){var T={x:l+u+_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return Rn(Rn({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:f}:{})}var O=n?{width:u,height:f}:{};return s==="insideLeft"?Rn({x:l+_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideRight"?Rn({x:l+u-_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideTop"?Rn({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:w},O):s==="insideBottom"?Rn({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:v},O):s==="insideTopLeft"?Rn({x:l+_,y:c+g,textAnchor:N,verticalAnchor:w},O):s==="insideTopRight"?Rn({x:l+u-_,y:c+g,textAnchor:S,verticalAnchor:w},O):s==="insideBottomLeft"?Rn({x:l+_,y:c+f-g,textAnchor:N,verticalAnchor:v},O):s==="insideBottomRight"?Rn({x:l+u-_,y:c+f-g,textAnchor:S,verticalAnchor:v},O):Zp(s)&&(et(s.x)||pd(s.x))&&(et(s.y)||pd(s.y))?Rn({x:l+Fa(s.x,u),y:c+Fa(s.y,f),textAnchor:"end",verticalAnchor:"end"},O):Rn({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},h4e=function(t){return"cx"in t&&et(t.cx)};function ni(e){var t=e.offset,r=t===void 0?5:t,n=n4e(e,XLe),i=Rn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,p=f===void 0?"":f,g=i.textBreakAll;if(!s||Mt(l)&&Mt(c)&&!x.isValidElement(u)&&!Rt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var v;if(Rt(u)){if(v=x.createElement(u,i),x.isValidElement(v))return v}else v=l4e(i);var w=h4e(s),y=Vt(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return u4e(i,v,y);var _=w?d4e(i):f4e(i);return X.createElement(Nv,Lv({className:Kt("recharts-label",p)},y,_,{breakAll:g}),v)}ni.displayName="Label";var See=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,p=t.x,g=t.y,v=t.top,w=t.left,y=t.width,_=t.height,S=t.clockWise,N=t.labelViewBox;if(N)return N;if(et(y)&&et(_)){if(et(p)&&et(g))return{x:p,y:g,width:y,height:_};if(et(v)&&et(w))return{x:v,y:w,width:y,height:_}}return et(p)&&et(g)?{x:p,y:g,width:0,height:0}:et(r)&&et(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:S}:t.viewBox?t.viewBox:{}},p4e=function(t,r){return t?t===!0?X.createElement(ni,{key:"label-implicit",viewBox:r}):$n(t)?X.createElement(ni,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===ni?x.cloneElement(t,{key:"label-implicit",viewBox:r}):X.createElement(ni,{key:"label-implicit",content:t,viewBox:r}):Rt(t)?X.createElement(ni,{key:"label-implicit",content:t,viewBox:r}):Zp(t)?X.createElement(ni,Lv({viewBox:r},t,{key:"label-implicit"})):null:null},m4e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=See(t),o=Os(i,ni).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=p4e(t.label,r||s);return[l].concat(JLe(o))};ni.parseViewBox=See;ni.renderCallByParent=m4e;var s2,Yq;function g4e(){if(Yq)return s2;Yq=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return s2=e,s2}var v4e=g4e();const y4e=pr(v4e);function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}var x4e=["valueAccessor"],b4e=["data","dataKey","clockWise","id","textBreakAll"];function w4e(e){return N4e(e)||S4e(e)||j4e(e)||_4e()}function _4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(e,t){if(e){if(typeof e=="string")return ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(e,t)}}function S4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N4e(e){if(Array.isArray(e))return ck(e)}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(this,arguments)}function Xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xq(Object(r),!0).forEach(function(n){C4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C4e(e,t,r){return t=E4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4e(e){var t=P4e(e,"string");return $v(t)=="symbol"?t:t+""}function P4e(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qq(e,t){if(e==null)return{};var r=T4e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var A4e=function(t){return Array.isArray(t.value)?y4e(t.value):t.value};function Al(e){var t=e.valueAccessor,r=t===void 0?A4e:t,n=Qq(e,x4e),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Qq(n,b4e);return!i||!i.length?null:X.createElement(Fr,{className:"recharts-label-list"},i.map(function(f,p){var g=Mt(s)?r(f,p):Ln(f&&f.payload,s),v=Mt(l)?{}:{id:"".concat(l,"-").concat(p)};return X.createElement(ni,Ow({},Vt(f,!0),u,v,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:ni.parseViewBox(Mt(o)?f:Jq(Jq({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Al.displayName="LabelList";function k4e(e,t){return e?e===!0?X.createElement(Al,{key:"labelList-implicit",data:t}):X.isValidElement(e)||Rt(e)?X.createElement(Al,{key:"labelList-implicit",data:t,content:e}):Zp(e)?X.createElement(Al,Ow({data:t},e,{key:"labelList-implicit"})):null:null}function O4e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Os(n,Al).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=k4e(e.label,t);return[s].concat(w4e(i))}Al.renderCallByParent=O4e;function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(n){R4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R4e(e,t,r){return t=M4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M4e(e){var t=I4e(e,"string");return Fv(t)=="symbol"?t:t+""}function I4e(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D4e=function(t,r){var n=Ii(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Z0=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,p=Math.asin(c/f)/kw,g=u?s:s+o*p,v=Sn(r,n,f,g),w=Sn(r,n,i,g),y=u?s-o*p:s,_=Sn(r,n,f*Math.cos(p*kw),y);return{center:v,circleTangency:w,lineTangency:_,theta:p}},Nee=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=D4e(o,l),u=o+c,f=Sn(r,n,s,o),p=Sn(r,n,s,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Sn(r,n,i,o),w=Sn(r,n,i,u);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},L4e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,p=Ii(f-u),g=Z0({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,w=g.lineTangency,y=g.theta,_=Z0({cx:r,cy:n,radius:s,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,N=_.lineTangency,C=_.theta,k=c?Math.abs(u-f):Math.abs(u-f)-y-C;if(k<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Nee({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var A="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var T=Z0({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=T.circleTangency,I=T.lineTangency,q=T.theta,Z=Z0({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),V=Z.circleTangency,U=Z.lineTangency,z=Z.theta,H=c?Math.abs(u-f):Math.abs(u-f)-q-z;if(H<0&&o===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},$4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Cee=function(t){var r=t8(t8({},$4e),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,g=r.className;if(o<s||f===p)return null;var v=Kt("recharts-sector",g),w=o-s,y=Fa(l,w,0,!0),_;return y>0&&Math.abs(f-p)<360?_=L4e({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,w/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):_=Nee({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:p}),X.createElement("path",uk({},Vt(r,!0),{className:v,d:_,role:"img"}))};function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dk.apply(this,arguments)}function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(n){F4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F4e(e,t,r){return t=B4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4e(e){var t=z4e(e,"string");return Bv(t)=="symbol"?t:t+""}function z4e(e,t){if(Bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i8={curveBasisClosed:aAe,curveBasisOpen:oAe,curveBasis:sAe,curveBumpX:WTe,curveBumpY:HTe,curveLinearClosed:lAe,curveLinear:l1,curveMonotoneX:cAe,curveMonotoneY:uAe,curveNatural:dAe,curveStep:fAe,curveStepAfter:pAe,curveStepBefore:hAe},Y0=function(t){return t.x===+t.x&&t.y===+t.y},fg=function(t){return t.x},hg=function(t){return t.y},q4e=function(t,r){if(Rt(t))return t;var n="curve".concat(a1(t));return(n==="curveMonotone"||n==="curveBump")&&r?i8["".concat(n).concat(r==="vertical"?"Y":"X")]:i8[n]||l1},U4e=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=q4e(n,l),p=u?s.filter(function(y){return Y0(y)}):s,g;if(Array.isArray(o)){var v=u?o.filter(function(y){return Y0(y)}):o,w=p.map(function(y,_){return n8(n8({},y),{},{base:v[_]})});return l==="vertical"?g=z0().y(hg).x1(fg).x0(function(y){return y.base.x}):g=z0().x(fg).y1(hg).y0(function(y){return y.base.y}),g.defined(Y0).curve(f),g(w)}return l==="vertical"&&et(o)?g=z0().y(hg).x1(fg).x0(o):et(o)?g=z0().x(fg).y1(hg).y0(o):g=kJ().x(fg).y(hg),g.defined(Y0).curve(f),g(p)},Rw=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?U4e(t):i;return x.createElement("path",dk({},Vt(t,!1),aw(t),{className:Kt("recharts-curve",r),d:o,ref:s}))},a2={exports:{}},o2,s8;function V4e(){if(s8)return o2;s8=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return o2=e,o2}var l2,a8;function W4e(){if(a8)return l2;a8=1;var e=V4e();function t(){}function r(){}return r.resetWarningCache=t,l2=function(){function n(o,l,c,u,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},l2}var o8;function H4e(){return o8||(o8=1,a2.exports=W4e()()),a2.exports}var K4e=H4e();const vr=pr(K4e);var G4e=Object.getOwnPropertyNames,Z4e=Object.getOwnPropertySymbols,Y4e=Object.prototype.hasOwnProperty;function l8(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function X0(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function c8(e){return G4e(e).concat(Z4e(e))}var X4e=Object.hasOwn||function(e,t){return Y4e.call(e,t)};function nf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var J4e="__v",Q4e="__o",e$e="_owner",u8=Object.getOwnPropertyDescriptor,d8=Object.keys;function t$e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function r$e(e,t){return nf(e.getTime(),t.getTime())}function n$e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function i$e(e,t){return e===t}function f8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),f=!1,p=0;(l=u.next())&&!l.done;){if(i[p]){p++;continue}var g=o.value,v=l.value;if(r.equals(g[0],v[0],c,p,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}var s$e=nf;function a$e(e,t,r){var n=d8(e),i=n.length;if(d8(t).length!==i)return!1;for(;i-- >0;)if(!Eee(e,t,r,n[i]))return!1;return!0}function pg(e,t,r){var n=c8(e),i=n.length;if(c8(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!Eee(e,t,r,s)||(o=u8(e,s),l=u8(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function o$e(e,t){return nf(e.valueOf(),t.valueOf())}function l$e(e,t){return e.source===t.source&&e.flags===t.flags}function h8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function c$e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function u$e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Eee(e,t,r,n){return(n===e$e||n===Q4e||n===J4e)&&(e.$$typeof||t.$$typeof)?!0:X4e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var d$e="[object Arguments]",f$e="[object Boolean]",h$e="[object Date]",p$e="[object Error]",m$e="[object Map]",g$e="[object Number]",v$e="[object Object]",y$e="[object RegExp]",x$e="[object Set]",b$e="[object String]",w$e="[object URL]",_$e=Array.isArray,p8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,m8=Object.assign,j$e=Object.prototype.toString.call.bind(Object.prototype.toString);function S$e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,p=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(w,y,_){if(w===y)return!0;if(w==null||y==null)return!1;var S=typeof w;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?o(w,y,_):S==="function"?i(w,y,_):!1;var N=w.constructor;if(N!==y.constructor)return!1;if(N===Object)return l(w,y,_);if(_$e(w))return t(w,y,_);if(p8!=null&&p8(w))return p(w,y,_);if(N===Date)return r(w,y,_);if(N===RegExp)return u(w,y,_);if(N===Map)return s(w,y,_);if(N===Set)return f(w,y,_);var C=j$e(w);return C===h$e?r(w,y,_):C===y$e?u(w,y,_):C===m$e?s(w,y,_):C===x$e?f(w,y,_):C===v$e?typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,_):C===w$e?g(w,y,_):C===p$e?n(w,y,_):C===d$e?l(w,y,_):C===f$e||C===g$e||C===b$e?c(w,y,_):!1}}function N$e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?pg:t$e,areDatesEqual:r$e,areErrorsEqual:n$e,areFunctionsEqual:i$e,areMapsEqual:n?l8(f8,pg):f8,areNumbersEqual:s$e,areObjectsEqual:n?pg:a$e,arePrimitiveWrappersEqual:o$e,areRegExpsEqual:l$e,areSetsEqual:n?l8(h8,pg):h8,areTypedArraysEqual:n?pg:c$e,areUrlsEqual:u$e};if(r&&(i=m8({},i,r(i))),t){var s=X0(i.areArraysEqual),o=X0(i.areMapsEqual),l=X0(i.areObjectsEqual),c=X0(i.areSetsEqual);i=m8({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function C$e(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function E$e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var f=n(),p=f.cache,g=p===void 0?t?new WeakMap:void 0:p,v=f.meta;return r(c,u,{cache:g,equals:i,meta:v,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var P$e=ju();ju({strict:!0});ju({circular:!0});ju({circular:!0,strict:!0});ju({createInternalComparator:function(){return nf}});ju({strict:!0,createInternalComparator:function(){return nf}});ju({circular:!0,createInternalComparator:function(){return nf}});ju({circular:!0,createInternalComparator:function(){return nf},strict:!0});function ju(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=N$e(e),c=S$e(l),u=n?n(c):C$e(c);return E$e({circular:r,comparator:c,createState:i,equals:u,strict:o})}function T$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function g8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):T$e(i)};requestAnimationFrame(n)}function fk(e){"@babel/helpers - typeof";return fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fk(e)}function A$e(e){return M$e(e)||R$e(e)||O$e(e)||k$e()}function k$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e,t){if(e){if(typeof e=="string")return v8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v8(e,t)}}function v8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M$e(e){if(Array.isArray(e))return e}function I$e(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=A$e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){g8(i.bind(null,u),c);return}i(c),g8(i.bind(null,u));return}fk(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){Pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pee(e,t,r){return t=D$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$e(e){var t=L$e(e,"string");return zv(t)==="symbol"?t:String(t)}function L$e(e,t){if(zv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $$e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},F$e=function(t){return t},B$e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Kg=function(t,r){return Object.keys(r).reduce(function(n,i){return x8(x8({},n),{},Pee({},i,t(i,r[i])))},{})},b8=function(t,r,n){return t.map(function(i){return"".concat(B$e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function z$e(e,t){return V$e(e)||U$e(e,t)||Tee(e,t)||q$e()}function q$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function V$e(e){if(Array.isArray(e))return e}function W$e(e){return G$e(e)||K$e(e)||Tee(e)||H$e()}function H$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tee(e,t){if(e){if(typeof e=="string")return hk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(e,t)}}function K$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G$e(e){if(Array.isArray(e))return hk(e)}function hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mw=1e-4,Aee=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kee=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},w8=function(t,r){return function(n){var i=Aee(t,r);return kee(i,n)}},Z$e=function(t,r){return function(n){var i=Aee(t,r),s=[].concat(W$e(i.map(function(o,l){return o*l}).slice(1)),[0]);return kee(s,n)}},_8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=z$e(u,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var p=w8(i,o),g=w8(s,l),v=Z$e(i,o),w=function(S){return S>1?1:S<0?0:S},y=function(S){for(var N=S>1?1:S,C=N,k=0;k<8;++k){var A=p(C)-N,T=v(C);if(Math.abs(A-N)<Mw||T<Mw)return g(C);C=w(C-A/T)}return g(C)};return y.isStepper=!1,y},Y$e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,p,g){var v=-(f-p)*n,w=g*s,y=g+(v-w)*l/1e3,_=g*l/1e3+f;return Math.abs(_-p)<Mw&&Math.abs(y)<Mw?[p,0]:[_,y]};return c.isStepper=!0,c.dt=l,c},X$e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _8(i);case"spring":return Y$e();default:if(i.split("(")[0]==="cubic-bezier")return _8(i)}return typeof i=="function"?i:null};function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function j8(e){return eFe(e)||Q$e(e)||Oee(e)||J$e()}function J$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eFe(e){if(Array.isArray(e))return mk(e)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){pk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pk(e,t,r){return t=tFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tFe(e){var t=rFe(e,"string");return qv(t)==="symbol"?t:String(t)}function rFe(e,t){if(qv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nFe(e,t){return aFe(e)||sFe(e,t)||Oee(e,t)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(e,t){if(e){if(typeof e=="string")return mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mk(e,t)}}function mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function aFe(e){if(Array.isArray(e))return e}var Iw=function(t,r,n){return t+(r-t)*n},gk=function(t){var r=t.from,n=t.to;return r!==n},oFe=function e(t,r,n){var i=Kg(function(s,o){if(gk(o)){var l=t(o.from,o.to,o.velocity),c=nFe(l,2),u=c[0],f=c[1];return ti(ti({},o),{},{from:u,velocity:f})}return o},r);return n<1?Kg(function(s,o){return gk(o)?ti(ti({},o),{},{velocity:Iw(o.velocity,i[s].velocity,n),from:Iw(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const lFe=function(e,t,r,n,i){var s=$$e(e,t),o=s.reduce(function(_,S){return ti(ti({},_),{},pk({},S,[e[S],t[S]]))},{}),l=s.reduce(function(_,S){return ti(ti({},_),{},pk({},S,{from:e[S],velocity:0,to:t[S]}))},{}),c=-1,u,f,p=function(){return null},g=function(){return Kg(function(S,N){return N.from},l)},v=function(){return!Object.values(l).filter(gk).length},w=function(S){u||(u=S);var N=S-u,C=N/r.dt;l=oFe(r,l,C),i(ti(ti(ti({},e),t),g())),u=S,v()||(c=requestAnimationFrame(p))},y=function(S){f||(f=S);var N=(S-f)/n,C=Kg(function(A,T){return Iw.apply(void 0,j8(T).concat([r(N)]))},o);if(i(ti(ti(ti({},e),t),C)),N<1)c=requestAnimationFrame(p);else{var k=Kg(function(A,T){return Iw.apply(void 0,j8(T).concat([r(1)]))},o);i(ti(ti(ti({},e),t),k))}};return p=r.isStepper?w:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}var cFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uFe(e,t){if(e==null)return{};var r=dFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function c2(e){return mFe(e)||pFe(e)||hFe(e)||fFe()}function fFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hFe(e,t){if(e){if(typeof e=="string")return vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vk(e,t)}}function pFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mFe(e){if(Array.isArray(e))return vk(e)}function vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ag(e,t,r){return t=Ree(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ree(n.key),n)}}function yFe(e,t,r){return t&&vFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ree(e){var t=xFe(e,"string");return dp(t)==="symbol"?t:String(t)}function xFe(e,t){if(dp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yk(e,t)}function wFe(e){var t=_Fe();return function(){var n=Dw(e),i;if(t){var s=Dw(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return xk(this,i)}}function xk(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bk(e)}function bk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dw(e){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(e)}var Lo=function(e){bFe(r,e);var t=wFe(r);function r(n,i){var s;gFe(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,p=o.steps,g=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(bk(s)),s.changeStyle=s.changeStyle.bind(bk(s)),!l||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:f}),xk(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof g=="function")return s.state={style:u},xk(s);s.state={style:c?Ag({},c,u):u}}else s.state={style:{}};return s}return yFe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,p=s.from,g=this.state.style;if(l){if(!o){var v={style:c?Ag({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(v);return}if(!(P$e(i.to,f)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=w||u?p:i.to;if(this.state&&g){var _={style:c?Ag({},c,y):y};(c&&g[c]!==y||!c&&g!==y)&&this.setState(_)}this.runAnimation(Sa(Sa({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,v=lFe(o,l,X$e(u),c,this.changeStyle),w=function(){s.stopJSAnimation=v()};this.manager.start([g,f,w,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,p=u.duration,g=p===void 0?0:p,v=function(y,_,S){if(S===0)return y;var N=_.duration,C=_.easing,k=C===void 0?"ease":C,A=_.style,T=_.properties,O=_.onAnimationEnd,I=S>0?o[S-1]:_,q=T||Object.keys(A);if(typeof k=="function"||k==="spring")return[].concat(c2(y),[s.runJSAnimation.bind(s,{from:I.style,to:A,duration:N,easing:k}),N]);var Z=b8(q,N,k),V=Sa(Sa(Sa({},I.style),A),{},{transition:Z});return[].concat(c2(y),[V,N,O]).filter(F$e)};return this.manager.start([c].concat(c2(o.reduce(v,[f,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=I$e());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var y=l?Ag({},l,c):c,_=b8(Object.keys(y),o,u);w.start([f,s,Sa(Sa({},y),{},{transition:_}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=uFe(i,cFe),u=x.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var p=function(v){var w=v.props,y=w.style,_=y===void 0?{}:y,S=w.className,N=x.cloneElement(v,Sa(Sa({},c),{},{style:Sa(Sa({},_),f),className:S}));return N};return u===1?p(x.Children.only(s)):X.createElement("div",null,x.Children.map(s,function(g){return p(g)}))}}]),r}(x.PureComponent);Lo.displayName="Animate";Lo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lo.propTypes={from:vr.oneOfType([vr.object,vr.string]),to:vr.oneOfType([vr.object,vr.string]),attributeName:vr.string,duration:vr.number,begin:vr.number,easing:vr.oneOfType([vr.string,vr.func]),steps:vr.arrayOf(vr.shape({duration:vr.number.isRequired,style:vr.object.isRequired,easing:vr.oneOfType([vr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vr.func]),properties:vr.arrayOf("string"),onAnimationEnd:vr.func})),children:vr.oneOfType([vr.node,vr.func]),isActive:vr.bool,canBegin:vr.bool,onAnimationEnd:vr.func,shouldReAnimate:vr.bool,onAnimationStart:vr.func,onAnimationReStart:vr.func};function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function jFe(e,t){return EFe(e)||CFe(e,t)||NFe(e,t)||SFe()}function SFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NFe(e,t){if(e){if(typeof e=="string")return C8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C8(e,t)}}function C8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EFe(e){if(Array.isArray(e))return e}function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){PFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PFe(e,t,r){return t=TFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=AFe(e,"string");return Uv(t)=="symbol"?t:t+""}function AFe(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T8=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=s[g]>o?o:s[g];f="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+c*p[0],",").concat(r)),f+="L ".concat(t+n-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*p[1])),f+="L ".concat(t+n,",").concat(r+i-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-c*p[2],",").concat(r+i)),f+="L ".concat(t+c*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*p[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var w=Math.min(o,s);f="M ".concat(t,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+c*w,",").concat(r,`
            L `).concat(t+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*w,`
            L `).concat(t+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+n-c*w,",").concat(r+i,`
            L `).concat(t+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*w," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},kFe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),p=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&i>=p&&i<=g}return!1},OFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mI=function(t){var r=P8(P8({},OFe),t),n=x.useRef(),i=x.useState(-1),s=jFe(i,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,u=r.y,f=r.width,p=r.height,g=r.radius,v=r.className,w=r.animationEasing,y=r.animationDuration,_=r.animationBegin,S=r.isAnimationActive,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var C=Kt("recharts-rectangle",v);return N?X.createElement(Lo,{canBegin:o>0,from:{width:f,height:p,x:c,y:u},to:{width:f,height:p,x:c,y:u},duration:y,animationEasing:w,isActive:N},function(k){var A=k.width,T=k.height,O=k.x,I=k.y;return X.createElement(Lo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,isActive:S,easing:w},X.createElement("path",Lw({},Vt(r,!0),{className:C,d:T8(O,I,A,T,g),ref:n})))}):X.createElement("path",Lw({},Vt(r,!0),{className:C,d:T8(c,u,f,p,g)}))};function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}var gI=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Kt("recharts-dot",s);return r===+r&&n===+n&&i===+i?x.createElement("circle",wk({},Vt(t,!1),aw(t),{className:o,cx:r,cy:n,r:i})):null};function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}var RFe=["x","y","top","left","width","height","className"];function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_k.apply(this,arguments)}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){IFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IFe(e,t,r){return t=DFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DFe(e){var t=LFe(e,"string");return Vv(t)=="symbol"?t:t+""}function LFe(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Fe(e,t){if(e==null)return{};var r=FFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BFe=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},zFe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,p=f===void 0?0:f,g=t.height,v=g===void 0?0:g,w=t.className,y=$Fe(t,RFe),_=MFe({x:n,y:s,top:l,left:u,width:p,height:v},y);return!et(n)||!et(s)||!et(p)||!et(v)||!et(l)||!et(u)?null:X.createElement("path",_k({},Vt(_,!0),{className:Kt("recharts-cross",w),d:BFe(n,s,p,v,l,u)}))},u2,k8;function qFe(){if(k8)return u2;k8=1;var e=eQ(),t=e(Object.getPrototypeOf,Object);return u2=t,u2}var d2,O8;function UFe(){if(O8)return d2;O8=1;var e=Wl(),t=qFe(),r=Hl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||e(f)!=n)return!1;var p=t(f);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return d2=u,d2}var VFe=UFe();const WFe=pr(VFe);var f2,R8;function HFe(){if(R8)return f2;R8=1;var e=Wl(),t=Hl(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return f2=n,f2}var KFe=HFe();const GFe=pr(KFe);function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function ZFe(e,t){return QFe(e)||JFe(e,t)||XFe(e,t)||YFe()}function YFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XFe(e,t){if(e){if(typeof e=="string")return M8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M8(e,t)}}function M8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QFe(e){if(Array.isArray(e))return e}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){e3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e3e(e,t,r){return t=t3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3e(e){var t=r3e(e,"string");return Wv(t)=="symbol"?t:t+""}function r3e(e,t){if(Wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L8=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},n3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i3e=function(t){var r=D8(D8({},n3e),t),n=x.useRef(),i=x.useState(-1),s=ZFe(i,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,w=r.animationEasing,y=r.animationDuration,_=r.animationBegin,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var N=Kt("recharts-trapezoid",v);return S?X.createElement(Lo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:p,height:g,x:c,y:u},duration:y,animationEasing:w,isActive:S},function(C){var k=C.upperWidth,A=C.lowerWidth,T=C.height,O=C.x,I=C.y;return X.createElement(Lo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,easing:w},X.createElement("path",$w({},Vt(r,!0),{className:N,d:L8(O,I,k,A,T),ref:n})))}):X.createElement("g",null,X.createElement("path",$w({},Vt(r,!0),{className:N,d:L8(c,u,f,p,g)})))},s3e=["option","shapeType","propTransformer","activeClassName","isActive"];function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function a3e(e,t){if(e==null)return{};var r=o3e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){l3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l3e(e,t,r){return t=c3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c3e(e){var t=u3e(e,"string");return Hv(t)=="symbol"?t:t+""}function u3e(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d3e(e,t){return Fw(Fw({},t),e)}function f3e(e,t){return e==="symbols"}function F8(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return X.createElement(mI,r);case"trapezoid":return X.createElement(i3e,r);case"sector":return X.createElement(Cee,r);case"symbols":if(f3e(t))return X.createElement(MM,r);break;default:return null}}function h3e(e){return x.isValidElement(e)?e.props:e}function Mee(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?d3e:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=a3e(e,s3e),u;if(x.isValidElement(t))u=x.cloneElement(t,Fw(Fw({},c),h3e(t)));else if(Rt(t))u=t(c);else if(WFe(t)&&!GFe(t)){var f=i(t,c);u=X.createElement(F8,{shapeType:r,elementProps:f})}else{var p=c;u=X.createElement(F8,{shapeType:r,elementProps:p})}return l?X.createElement(Fr,{className:o},u):u}function j1(e,t){return t!=null&&"trapezoids"in e.props}function S1(e,t){return t!=null&&"sectors"in e.props}function Kv(e,t){return t!=null&&"points"in e.props}function p3e(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function m3e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function g3e(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function v3e(e,t){var r;return j1(e,t)?r=p3e:S1(e,t)?r=m3e:Kv(e,t)&&(r=g3e),r}function y3e(e,t){var r;return j1(e,t)?r="trapezoids":S1(e,t)?r="sectors":Kv(e,t)&&(r="points"),r}function x3e(e,t){if(j1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(S1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kv(e,t)?t.payload:{}}function b3e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=y3e(r,t),s=x3e(r,t),o=n.filter(function(c,u){var f=Uy(s,c),p=r.props[i].filter(function(w){var y=v3e(r,t);return y(w,t)}),g=r.props[i].indexOf(p[p.length-1]),v=u===g;return f&&v}),l=n.indexOf(o[o.length-1]);return l}var pb;function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dee(n.key),n)}}function _3e(e,t,r){return t&&z8(e.prototype,t),r&&z8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j3e(e,t,r){return t=Bw(t),S3e(e,Iee()?Reflect.construct(t,r||[],Bw(e).constructor):t.apply(e,r))}function S3e(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N3e(e)}function N3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iee=function(){return!!e})()}function Bw(e){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(e)}function C3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jk(e,t)}function na(e,t,r){return t=Dee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dee(e){var t=E3e(e,"string");return fp(t)=="symbol"?t:t+""}function E3e(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bl=function(e){function t(r){var n;return w3e(this,t),n=j3e(this,t,[r]),na(n,"pieRef",null),na(n,"sectorRefs",[]),na(n,"id",Yp("recharts-pie-")),na(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Rt(i)&&i()}),na(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Rt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return C3e(t,e),_3e(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,f=Vt(this.props,!1),p=Vt(o,!1),g=Vt(l,!1),v=o&&o.offsetRadius||20,w=n.map(function(y,_){var S=(y.startAngle+y.endAngle)/2,N=Sn(y.cx,y.cy,y.outerRadius+v,S),C=Lr(Lr(Lr(Lr({},f),y),{},{stroke:"none"},p),{},{index:_,textAnchor:t.getTextAnchor(N.x,y.cx)},N),k=Lr(Lr(Lr(Lr({},f),y),{},{fill:"none",stroke:y.fill},g),{},{index:_,points:[Sn(y.cx,y.cy,y.outerRadius,S),N]}),A=c;return Mt(c)&&Mt(u)?A="value":Mt(c)&&(A=u),X.createElement(Fr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(_)},l&&t.renderLabelLineItem(l,k,"line"),t.renderLabelItem(o,C,Ln(y,A)))});return X.createElement(Fr,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var p=i.isActiveIndex(f),g=c&&i.hasActiveIndex()?c:null,v=p?o:g,w=Lr(Lr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return X.createElement(Fr,Ch({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},gv(i.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),X.createElement(Mee,Ch({option:v,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state,g=p.prevSectors,v=p.prevIsAnimationActive;return X.createElement(Lo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var y=w.t,_=[],S=s&&s[0],N=S.startAngle;return s.forEach(function(C,k){var A=g&&g[k],T=k>0?ks(C,"paddingAngle",0):0;if(A){var O=Cs(A.endAngle-A.startAngle,C.endAngle-C.startAngle),I=Lr(Lr({},C),{},{startAngle:N+T,endAngle:N+O(y)+T});_.push(I),N=I.endAngle}else{var q=C.endAngle,Z=C.startAngle,V=Cs(0,q-Z),U=V(y),z=Lr(Lr({},C),{},{startAngle:N+T,endAngle:N+U+T});_.push(z),N=z.endAngle}}),X.createElement(Fr,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Uy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,f=i.cy,p=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(s||!o||!o.length||!et(u)||!et(f)||!et(p)||!et(g))return null;var y=Kt("recharts-pie",l);return X.createElement(Fr,{tabIndex:this.props.rootTabIndex,className:y,ref:function(S){n.pieRef=S}},this.renderSectors(),c&&this.renderLabels(o),ni.renderCallByParent(this.props,null,!1),(!v||w)&&Al.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(X.isValidElement(n))return X.cloneElement(n,i);if(Rt(n))return n(i);var o=Kt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return X.createElement(Rw,Ch({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(X.isValidElement(n))return X.cloneElement(n,i);var o=s;if(Rt(n)&&(o=n(i),X.isValidElement(o)))return o;var l=Kt("recharts-pie-label-text",typeof n!="boolean"&&!Rt(n)?n.className:"");return X.createElement(Nv,Ch({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);pb=Bl;na(Bl,"displayName","Pie");na(Bl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ef.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});na(Bl,"parseDeltaAngle",function(e,t){var r=Ii(t-e),n=Math.min(Math.abs(t-e),360);return r*n});na(Bl,"getRealPieData",function(e){var t=e.data,r=e.children,n=Vt(e,!1),i=Os(r,_v);return t&&t.length?t.map(function(s,o){return Lr(Lr(Lr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Lr(Lr({},n),s.props)}):[]});na(Bl,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=HLe(i,s),l=n+Fa(e.cx,i,i/2),c=r+Fa(e.cy,s,s/2),u=Fa(e.innerRadius,o,0),f=Fa(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}});na(Bl,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Lr(Lr({},t.type.defaultProps),t.props):t.props,i=pb.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,p=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),w=pb.parseCoordinateOfPie(n,r),y=pb.parseDeltaAngle(o,l),_=Math.abs(y),S=u;Mt(u)&&Mt(p)?(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Mt(u)&&(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var N=i.filter(function(I){return Ln(I,S,0)!==0}).length,C=(_>=360?N:N-1)*c,k=_-N*v-C,A=i.reduce(function(I,q){var Z=Ln(q,S,0);return I+(et(Z)?Z:0)},0),T;if(A>0){var O;T=i.map(function(I,q){var Z=Ln(I,S,0),V=Ln(I,f,q),U=(et(Z)?Z:0)/A,z;q?z=O.endAngle+Ii(y)*c*(Z!==0?1:0):z=o;var H=z+Ii(y)*((Z!==0?v:0)+U*k),re=(z+H)/2,se=(w.innerRadius+w.outerRadius)/2,W=[{name:V,value:Z,payload:I,dataKey:S,type:g}],Q=Sn(w.cx,w.cy,se,re);return O=Lr(Lr(Lr({percent:U,cornerRadius:s,name:V,tooltipPayload:W,midAngle:re,middleRadius:se,tooltipPosition:Q},I),w),{},{value:Ln(I,S),startAngle:z,endAngle:H,payload:I,paddingAngle:Ii(y)*c}),O})}return Lr(Lr({},w),{},{sectors:T,data:i})});var h2,q8;function P3e(){if(q8)return h2;q8=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var l=-1,c=t(e((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return h2=r,h2}var p2,U8;function Lee(){if(U8)return p2;U8=1;var e=gQ(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return p2=n,p2}var m2,V8;function T3e(){if(V8)return m2;V8=1;var e=P3e(),t=f1(),r=Lee();function n(i){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,i)}}return m2=n,m2}var g2,W8;function A3e(){if(W8)return g2;W8=1;var e=T3e(),t=e();return g2=t,g2}var k3e=A3e();const zw=pr(k3e);function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function H8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(r),!0).forEach(function(n){$ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t,r){return t=O3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O3e(e){var t=R3e(e,"string");return Gv(t)=="symbol"?t:t+""}function R3e(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M3e=["Webkit","Moz","O","ms"],I3e=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=M3e.reduce(function(s,o){return K8(K8({},s),{},$ee({},o+n,r))},{});return i[t]=r,i};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(this,arguments)}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(n){ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bee(n.key),n)}}function L3e(e,t,r){return t&&Z8(e.prototype,t),r&&Z8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $3e(e,t,r){return t=Uw(t),F3e(e,Fee()?Reflect.construct(t,r||[],Uw(e).constructor):t.apply(e,r))}function F3e(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B3e(e)}function B3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fee=function(){return!!e})()}function Uw(e){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(e)}function z3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sk(e,t)}function ws(e,t,r){return t=Bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=q3e(e,"string");return hp(t)=="symbol"?t:t+""}function q3e(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U3e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Wg().domain(zw(0,c)).range([s,s+o-l]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},Y8=function(t){return t.changedTouches&&!!t.changedTouches.length},pp=function(e){function t(r){var n;return D3e(this,t),n=$3e(this,t,[r]),ws(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ws(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ws(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),ws(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ws(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ws(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ws(n,"handleSlideDragStart",function(i){var s=Y8(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return z3e(t,e),L3e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,p=Math.min(i,s),g=Math.max(i,s),v=t.getIndexInRange(o,p),w=t.getIndexInRange(o,g);return{startIndex:v-v%c,endIndex:w===f?f:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Ln(s[n],l,n);return Rt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,p=c.travellerWidth,g=c.startIndex,v=c.endIndex,w=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+f-p-l,u+f-p-o):y<0&&(y=Math.max(y,u-o,u-l));var _=this.getIndex({startX:o+y,endX:l+y});(_.startIndex!==g||_.endIndex!==v)&&w&&w(_),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Y8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,p=f.x,g=f.width,v=f.travellerWidth,w=f.onChange,y=f.gap,_=f.data,S={startX:this.state.startX,endX:this.state.endX},N=n.pageX-s;N>0?N=Math.min(N,p+g-v-u):N<0&&(N=Math.max(N,p-u)),S[o]=u+N;var C=this.getIndex(S),k=C.startIndex,A=C.endIndex,T=function(){var I=_.length-1;return o==="startX"&&(l>c?k%y===0:A%y===0)||l<c&&A===I||o==="endX"&&(l>c?A%y===0:k%y===0)||l>c&&A===I};this.setState(ws(ws({},o,u+N),"brushMoveStartX",n.pageX),function(){w&&T()&&w(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],p=l.indexOf(f);if(p!==-1){var g=p+n;if(!(g===-1||g>=l.length)){var v=l[g];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(ws({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return X.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,p=x.Children.only(u);return p?X.cloneElement(p,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,p=c.height,g=c.traveller,v=c.ariaLabel,w=c.data,y=c.startIndex,_=c.endIndex,S=Math.max(n,this.props.x),N=v2(v2({},Vt(this.props,!1)),{},{x:S,y:u,width:f,height:p}),C=v||"Min value: ".concat((s=w[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=w[_])===null||o===void 0?void 0:o.name);return X.createElement(Fr,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,g=f.endX,v=5,w={pointerEvents:"none",fill:u};return X.createElement(Fr,{className:"recharts-brush-texts"},X.createElement(Nv,qw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:o+l/2},w),this.getTextOfTick(i)),X.createElement(Nv,qw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+v,y:o+l/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,w=g.endX,y=g.isTextActive,_=g.isSlideMoving,S=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!et(l)||!et(c)||!et(u)||!et(f)||u<=0||f<=0)return null;var C=Kt("recharts-brush",s),k=X.Children.count(o)===1,A=I3e("userSelect","none");return X.createElement(Fr,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(y||_||S||N||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),X.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return X.isValidElement(n)?s=X.cloneElement(n,i):Rt(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return v2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?U3e({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(x.PureComponent);ws(pp,"displayName","Brush");ws(pp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var y2,X8;function V3e(){if(X8)return y2;X8=1;var e=zM();function t(r,n){var i;return e(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return y2=t,y2}var x2,J8;function W3e(){if(J8)return x2;J8=1;var e=KJ(),t=bu(),r=V3e(),n=ss(),i=f1();function s(o,l,c){var u=n(o)?e:r;return c&&i(o,l,c)&&(l=void 0),u(o,t(l,3))}return x2=s,x2}var H3e=W3e();const K3e=pr(H3e);var To=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},b2,Q8;function G3e(){if(Q8)return b2;Q8=1;var e=dQ();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return b2=t,b2}var w2,eU;function Z3e(){if(eU)return w2;eU=1;var e=G3e(),t=cQ(),r=bu();function n(i,s){var o={};return s=r(s,3),t(i,function(l,c,u){e(o,c,s(l,c,u))}),o}return w2=n,w2}var Y3e=Z3e();const X3e=pr(Y3e);var _2,tU;function J3e(){if(tU)return _2;tU=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return _2=e,_2}var j2,rU;function Q3e(){if(rU)return j2;rU=1;var e=zM();function t(r,n){var i=!0;return e(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return j2=t,j2}var S2,nU;function eBe(){if(nU)return S2;nU=1;var e=J3e(),t=Q3e(),r=bu(),n=ss(),i=f1();function s(o,l,c){var u=n(o)?e:t;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return S2=s,S2}var tBe=eBe();const zee=pr(tBe);var rBe=["x","y"];function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function iU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(r),!0).forEach(function(n){nBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nBe(e,t,r){return t=iBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iBe(e){var t=sBe(e,"string");return Zv(t)=="symbol"?t:t+""}function sBe(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aBe(e,t){if(e==null)return{};var r=oBe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lBe(e,t){var r=e.x,n=e.y,i=aBe(e,rBe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),p="".concat(t.width||i.width),g=parseInt(p,10);return mg(mg(mg(mg(mg({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function sU(e){return X.createElement(Mee,Nk({shapeType:"rectangle",propTransformer:lBe,activeClassName:"recharts-active-bar"},e))}var cBe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=et(n)||fTe(n);return s?t(n,i):(s||Fd(),r)}},uBe=["value","background"],qee;function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function dBe(e,t){if(e==null)return{};var r=fBe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vw.apply(this,arguments)}function aU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aU(Object(r),!0).forEach(function(n){Yc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vee(n.key),n)}}function pBe(e,t,r){return t&&oU(e.prototype,t),r&&oU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mBe(e,t,r){return t=Ww(t),gBe(e,Uee()?Reflect.construct(t,r||[],Ww(e).constructor):t.apply(e,r))}function gBe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vBe(e)}function vBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uee=function(){return!!e})()}function Ww(e){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ww(e)}function yBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ck(e,t)}function Yc(e,t,r){return t=Vee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vee(e){var t=xBe(e,"string");return mp(t)=="symbol"?t:t+""}function xBe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kl=function(e){function t(){var r;hBe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mBe(this,t,[].concat(i)),Yc(r,"state",{isAnimationFinished:!1}),Yc(r,"id",Yp("recharts-bar-")),Yc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Yc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return yBe(t,e),pBe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Vt(this.props,!1);return n&&n.map(function(p,g){var v=g===c,w=v?u:o,y=yn(yn(yn({},f),p),{},{isActive:v,option:w,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return X.createElement(Fr,Vw({className:"recharts-bar-rectangle"},gv(i.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),X.createElement(sU,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state.prevData;return X.createElement(Lo,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,y=s.map(function(_,S){var N=g&&g[S];if(N){var C=Cs(N.x,_.x),k=Cs(N.y,_.y),A=Cs(N.width,_.width),T=Cs(N.height,_.height);return yn(yn({},_),{},{x:C(w),y:k(w),width:A(w),height:T(w)})}if(o==="horizontal"){var O=Cs(0,_.height),I=O(w);return yn(yn({},_),{},{y:_.y+_.height-I,height:I})}var q=Cs(0,_.width),Z=q(w);return yn(yn({},_),{},{width:Z})});return X.createElement(Fr,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Uy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Vt(this.props.background,!1);return s.map(function(u,f){u.value;var p=u.background,g=dBe(u,uBe);if(!p)return null;var v=yn(yn(yn(yn(yn({},g),{},{fill:"#eee"},p),c),gv(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return X.createElement(sU,Vw({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=Os(f,Vy);if(!p)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,v=function(_,S){var N=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:N,errorVal:Ln(_,S)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return X.createElement(Fr,w,p.map(function(y){return X.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,g=n.height,v=n.isAnimationActive,w=n.background,y=n.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,S=Kt("recharts-bar",o),N=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,k=N||C,A=Mt(y)?this.id:y;return X.createElement(Fr,{className:S},N||C?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(A)},X.createElement("rect",{x:N?u:u-p/2,y:C?f:f-g/2,width:N?p:p*2,height:C?g:g*2}))):null,X.createElement(Fr,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(A,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,A),(!v||_)&&Al.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);qee=kl;Yc(kl,"displayName","Bar");Yc(kl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ef.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yc(kl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,p=e.displayedData,g=e.offset,v=kLe(n,r);if(!v)return null;var w=t.layout,y=r.type.defaultProps,_=y!==void 0?yn(yn({},y),r.props):r.props,S=_.dataKey,N=_.children,C=_.minPointSize,k=w==="horizontal"?o:s,A=u?k.scale.domain():null,T=FLe({numericAxis:k}),O=Os(N,_v),I=p.map(function(q,Z){var V,U,z,H,re,se;u?V=OLe(u[f+Z],A):(V=Ln(q,S),Array.isArray(V)||(V=[T,V]));var W=cBe(C,qee.defaultProps.minPointSize)(V[1],Z);if(w==="horizontal"){var Q,Y=[o.scale(V[0]),o.scale(V[1])],ne=Y[0],J=Y[1];U=qq({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:q,index:Z}),z=(Q=J??ne)!==null&&Q!==void 0?Q:void 0,H=v.size;var oe=ne-J;if(re=Number.isNaN(oe)?0:oe,se={x:U,y:o.y,width:H,height:o.height},Math.abs(W)>0&&Math.abs(re)<Math.abs(W)){var be=Ii(re||W)*(Math.abs(W)-Math.abs(re));z-=be,re+=be}}else{var Ce=[s.scale(V[0]),s.scale(V[1])],De=Ce[0],ce=Ce[1];if(U=De,z=qq({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:q,index:Z}),H=ce-De,re=v.size,se={x:s.x,y:z,width:s.width,height:re},Math.abs(W)>0&&Math.abs(H)<Math.abs(W)){var ae=Ii(H||W)*(Math.abs(W)-Math.abs(H));H+=ae}}return yn(yn(yn({},q),{},{x:U,y:z,width:H,height:re,value:u?V:V[1],payload:q,background:se},O&&O[Z]&&O[Z].props),{},{tooltipPayload:[jee(r,q)],tooltipPosition:{x:U+H/2,y:z+re/2}})});return yn({data:I,layout:w},g)});function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function bBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wee(n.key),n)}}function wBe(e,t,r){return t&&lU(e.prototype,t),r&&lU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(r),!0).forEach(function(n){N1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N1(e,t,r){return t=Wee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=_Be(e,"string");return Yv(t)=="symbol"?t:t+""}function _Be(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jBe=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!_s(u,kl);return f.reduce(function(v,w){var y=r[w],_=y.orientation,S=y.domain,N=y.padding,C=N===void 0?{}:N,k=y.mirror,A=y.reversed,T="".concat(_).concat(k?"Mirror":""),O,I,q,Z,V;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var U=S[1]-S[0],z=1/0,H=y.categoricalDomain.sort(mTe);if(H.forEach(function(Ce,De){De>0&&(z=Math.min((Ce||0)-(H[De-1]||0),z))}),Number.isFinite(z)){var re=z/U,se=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(O=re*se/2),y.padding==="no-gap"){var W=Fa(t.barCategoryGap,re*se),Q=re*se/2;O=Q-W-(Q-W)/se*W}}}i==="xAxis"?I=[n.left+(C.left||0)+(O||0),n.left+n.width-(C.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(O||0),n.top+n.height-(C.bottom||0)-(O||0)]:I=y.range,A&&(I=[I[1],I[0]]);var Y=TLe(y,s,g),ne=Y.scale,J=Y.realScaleType;ne.domain(S).range(I),ALe(ne);var oe=$Le(ne,Aa(Aa({},y),{},{realScaleType:J}));i==="xAxis"?(V=_==="top"&&!k||_==="bottom"&&k,q=n.left,Z=p[T]-V*y.height):i==="yAxis"&&(V=_==="left"&&!k||_==="right"&&k,q=p[T]-V*y.width,Z=n.top);var be=Aa(Aa(Aa({},y),oe),{},{realScaleType:J,x:q,y:Z,scale:ne,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return be.bandSize=Aw(be,oe),!y.hide&&i==="xAxis"?p[T]+=(V?-1:1)*be.height:y.hide||(p[T]+=(V?-1:1)*be.width),Aa(Aa({},v),{},N1({},w,be))},{})},Hee=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},SBe=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return Hee({x:r,y:n},{x:i,y:s})},Kee=function(){function e(t){bBe(this,e),this.scale=t}return wBe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();N1(Kee,"EPS",1e-4);var vI=function(t){var r=Object.keys(t).reduce(function(n,i){return Aa(Aa({},n),{},N1({},i,Kee.create(t[i])))},{});return Aa(Aa({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return X3e(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return zee(i,function(s,o){return r[o].isInRange(s)})}})};function NBe(e){return(e%180+180)%180}var CBe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=NBe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},N2,uU;function EBe(){if(uU)return N2;uU=1;var e=bu(),t=$y(),r=u1();function n(i){return function(s,o,l){var c=Object(s);if(!t(s)){var u=e(o,3);s=r(s),o=function(p){return u(c[p],p,c)}}var f=i(s,o,l);return f>-1?c[u?s[f]:f]:void 0}}return N2=n,N2}var C2,dU;function PBe(){if(dU)return C2;dU=1;var e=Lee();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return C2=t,C2}var E2,fU;function TBe(){if(fU)return E2;fU=1;var e=iQ(),t=bu(),r=PBe(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(s,t(o,3),u)}return E2=i,E2}var P2,hU;function ABe(){if(hU)return P2;hU=1;var e=EBe(),t=TBe(),r=e(t);return P2=r,P2}var kBe=ABe();const OBe=pr(kBe);var RBe=bJ();const MBe=pr(RBe);var IBe=MBe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),yI=x.createContext(void 0),xI=x.createContext(void 0),Gee=x.createContext(void 0),Zee=x.createContext({}),Yee=x.createContext(void 0),Xee=x.createContext(0),Jee=x.createContext(0),pU=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=IBe(s);return X.createElement(yI.Provider,{value:n},X.createElement(xI.Provider,{value:i},X.createElement(Zee.Provider,{value:s},X.createElement(Gee.Provider,{value:f},X.createElement(Yee.Provider,{value:o},X.createElement(Xee.Provider,{value:u},X.createElement(Jee.Provider,{value:c},l)))))))},DBe=function(){return x.useContext(Yee)},Qee=function(t){var r=x.useContext(yI);r==null&&Fd();var n=r[t];return n==null&&Fd(),n},LBe=function(){var t=x.useContext(yI);return Kc(t)},$Be=function(){var t=x.useContext(xI),r=OBe(t,function(n){return zee(n.domain,Number.isFinite)});return r||Kc(t)},ete=function(t){var r=x.useContext(xI);r==null&&Fd();var n=r[t];return n==null&&Fd(),n},FBe=function(){var t=x.useContext(Gee);return t},BBe=function(){return x.useContext(Zee)},bI=function(){return x.useContext(Jee)},wI=function(){return x.useContext(Xee)};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function zBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rte(n.key),n)}}function UBe(e,t,r){return t&&qBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VBe(e,t,r){return t=Hw(t),WBe(e,tte()?Reflect.construct(t,r||[],Hw(e).constructor):t.apply(e,r))}function WBe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HBe(e)}function HBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tte=function(){return!!e})()}function Hw(e){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(e)}function KBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ek(e,t)}function Ek(e,t){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ek(e,t)}function mU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(r),!0).forEach(function(n){_I(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _I(e,t,r){return t=rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=GBe(e,"string");return gp(t)=="symbol"?t:t+""}function GBe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ZBe(e,t){return QBe(e)||JBe(e,t)||XBe(e,t)||YBe()}function YBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XBe(e,t){if(e){if(typeof e=="string")return vU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vU(e,t)}}function vU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QBe(e){if(Array.isArray(e))return e}function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}var e5e=function(t,r){var n;return X.isValidElement(t)?n=X.cloneElement(t,r):Rt(t)?n=t(r):n=X.createElement("line",Pk({},r,{className:"recharts-reference-line-line"})),n},t5e=function(t,r,n,i,s,o,l,c,u){var f=s.x,p=s.y,g=s.width,v=s.height;if(n){var w=u.y,y=t.y.apply(w,{position:o});if(To(u,"discard")&&!t.y.isInRange(y))return null;var _=[{x:f+g,y},{x:f,y}];return c==="left"?_.reverse():_}if(r){var S=u.x,N=t.x.apply(S,{position:o});if(To(u,"discard")&&!t.x.isInRange(N))return null;var C=[{x:N,y:p+v},{x:N,y:p}];return l==="top"?C.reverse():C}if(i){var k=u.segment,A=k.map(function(T){return t.apply(T,{position:o})});return To(u,"discard")&&K3e(A,function(T){return!t.isInRange(T)})?null:A}return null};function r5e(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=DBe(),f=Qee(i),p=ete(s),g=FBe();if(!u||!g)return null;qa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=vI({x:f.scale,y:p.scale}),w=$n(t),y=$n(r),_=n&&n.length===2,S=t5e(v,w,y,_,g,e.position,f.orientation,p.orientation,e);if(!S)return null;var N=ZBe(S,2),C=N[0],k=C.x,A=C.y,T=N[1],O=T.x,I=T.y,q=To(e,"hidden")?"url(#".concat(u,")"):void 0,Z=gU(gU({clipPath:q},Vt(e,!0)),{},{x1:k,y1:A,x2:O,y2:I});return X.createElement(Fr,{className:Kt("recharts-reference-line",l)},e5e(o,Z),ni.renderCallByParent(e,SBe({x1:k,y1:A,x2:O,y2:I})))}var jI=function(e){function t(){return zBe(this,t),VBe(this,t,arguments)}return KBe(t,e),UBe(t,[{key:"render",value:function(){return X.createElement(r5e,this.props)}}])}(X.Component);_I(jI,"displayName","ReferenceLine");_I(jI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tk.apply(this,arguments)}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function yU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(r),!0).forEach(function(n){C1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ite(n.key),n)}}function s5e(e,t,r){return t&&i5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a5e(e,t,r){return t=Kw(t),o5e(e,nte()?Reflect.construct(t,r||[],Kw(e).constructor):t.apply(e,r))}function o5e(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l5e(e)}function l5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nte=function(){return!!e})()}function Kw(e){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kw(e)}function c5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ak(e,t)}function Ak(e,t){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ak(e,t)}function C1(e,t,r){return t=ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=u5e(e,"string");return vp(t)=="symbol"?t:t+""}function u5e(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d5e=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=vI({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return To(t,"discard")&&!o.isInRange(l)?null:l},E1=function(e){function t(){return n5e(this,t),a5e(this,t,arguments)}return c5e(t,e),s5e(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=$n(i),f=$n(s);if(qa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=d5e(this.props);if(!p)return null;var g=p.x,v=p.y,w=this.props,y=w.shape,_=w.className,S=To(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=xU(xU({clipPath:S},Vt(this.props,!0)),{},{cx:g,cy:v});return X.createElement(Fr,{className:Kt("recharts-reference-dot",_)},t.renderDot(y,N),ni.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])}(X.Component);C1(E1,"displayName","ReferenceDot");C1(E1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});C1(E1,"renderDot",function(e,t){var r;return X.isValidElement(e)?r=X.cloneElement(e,t):Rt(e)?r=e(t):r=X.createElement(gI,Tk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function bU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(r),!0).forEach(function(n){P1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ate(n.key),n)}}function p5e(e,t,r){return t&&h5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m5e(e,t,r){return t=Gw(t),g5e(e,ste()?Reflect.construct(t,r||[],Gw(e).constructor):t.apply(e,r))}function g5e(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v5e(e)}function v5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ste(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ste=function(){return!!e})()}function Gw(e){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(e)}function y5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ok(e,t)}function P1(e,t,r){return t=ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=x5e(e,"string");return yp(t)=="symbol"?t:t+""}function x5e(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b5e=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var g=vI({x:f.scale,y:p.scale}),v={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return To(s,"discard")&&(!g.isInRange(v)||!g.isInRange(w))?null:Hee(v,w)},T1=function(e){function t(){return f5e(this,t),m5e(this,t,arguments)}return y5e(t,e),p5e(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;qa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=$n(i),g=$n(s),v=$n(o),w=$n(l),y=this.props.shape;if(!p&&!g&&!v&&!w&&!y)return null;var _=b5e(p,g,v,w,this.props);if(!_&&!y)return null;var S=To(this.props,"hidden")?"url(#".concat(f,")"):void 0;return X.createElement(Fr,{className:Kt("recharts-reference-area",c)},t.renderRect(y,wU(wU({clipPath:S},Vt(this.props,!0)),_)),ni.renderCallByParent(this.props,_))}}])}(X.Component);P1(T1,"displayName","ReferenceArea");P1(T1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});P1(T1,"renderRect",function(e,t){var r;return X.isValidElement(e)?r=X.cloneElement(e,t):Rt(e)?r=e(t):r=X.createElement(mI,kk({},t,{className:"recharts-reference-area-rect"})),r});function ote(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function w5e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return CBe(n,r)}function _5e(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Zw(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function j5e(e,t){return ote(e,t+1)}function S5e(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,p=function(){var w=n?.[c];if(w===void 0)return{v:ote(n,u)};var y=c,_,S=function(){return _===void 0&&(_=r(w,y)),_},N=w.coordinate,C=c===0||Zw(e,N,S,f,l);C||(c=0,f=o,u+=1),C&&(f=N+e*(S()/2+i),c+=u)},g;u<=s.length;)if(g=p(),g)return g.v;return[]}function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){N5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N5e(e,t,r){return t=C5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C5e(e){var t=E5e(e,"string");return Xv(t)=="symbol"?t:t+""}function E5e(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P5e(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(g){var v=s[g],w,y=function(){return w===void 0&&(w=r(v,g)),w};if(g===o-1){var _=e*(v.coordinate+e*y()/2-c);s[g]=v=yi(yi({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate})}else s[g]=v=yi(yi({},v),{},{tickCoord:v.coordinate});var S=Zw(e,v.tickCoord,y,l,c);S&&(c=v.tickCoord-e*(y()/2+i),s[g]=yi(yi({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function T5e(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var f=n[l-1],p=r(f,l-1),g=e*(f.coordinate+e*p/2-u);o[l-1]=f=yi(yi({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var v=Zw(e,f.tickCoord,function(){return p},c,u);v&&(u=f.tickCoord-e*(p/2+i),o[l-1]=yi(yi({},f),{},{isShow:!0}))}for(var w=s?l-1:l,y=function(N){var C=o[N],k,A=function(){return k===void 0&&(k=r(C,N)),k};if(N===0){var T=e*(C.coordinate-e*A()/2-c);o[N]=C=yi(yi({},C),{},{tickCoord:T<0?C.coordinate-T*e:C.coordinate})}else o[N]=C=yi(yi({},C),{},{tickCoord:C.coordinate});var O=Zw(e,C.tickCoord,A,c,u);O&&(c=C.tickCoord+e*(A()/2+i),o[N]=yi(yi({},C),{},{isShow:!0}))},_=0;_<w;_++)y(_);return o}function SI(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(et(c)||ef.isSsr)return j5e(i,typeof c=="number"&&et(c)?c:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",w=f&&v==="width"?Vg(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(C,k){var A=Rt(u)?u(C.value,k):C.value;return v==="width"?w5e(Vg(A,{fontSize:t,letterSpacing:r}),w,p):Vg(A,{fontSize:t,letterSpacing:r})[v]},_=i.length>=2?Ii(i[1].coordinate-i[0].coordinate):1,S=_5e(s,_,v);return c==="equidistantPreserveStart"?S5e(_,S,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=T5e(_,S,y,i,o,c==="preserveStartEnd"):g=P5e(_,S,y,i,o),g.filter(function(N){return N.isShow}))}var A5e=["viewBox"],k5e=["viewBox"],O5e=["ticks"];function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}function jU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jU(Object(r),!0).forEach(function(n){NI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T2(e,t){if(e==null)return{};var r=R5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cte(n.key),n)}}function I5e(e,t,r){return t&&SU(e.prototype,t),r&&SU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D5e(e,t,r){return t=Yw(t),L5e(e,lte()?Reflect.construct(t,r||[],Yw(e).constructor):t.apply(e,r))}function L5e(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $5e(e)}function $5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lte=function(){return!!e})()}function Yw(e){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yw(e)}function F5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rk(e,t)}function Rk(e,t){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rk(e,t)}function NI(e,t,r){return t=cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=B5e(e,"string");return xp(t)=="symbol"?t:t+""}function B5e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tm=function(e){function t(r){var n;return M5e(this,t),n=D5e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return F5e(t,e),I5e(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=T2(n,A5e),l=this.props,c=l.viewBox,u=T2(l,k5e);return!Ih(s,c)||!Ih(o,u)||!Ih(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,p=i.mirror,g=i.tickMargin,v,w,y,_,S,N,C=p?-1:1,k=n.tickSize||f,A=et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=w=n.coordinate,_=o+ +!p*c,y=_-C*k,N=y-C*g,S=A;break;case"left":y=_=n.coordinate,w=s+ +!p*l,v=w-C*k,S=v-C*g,N=A;break;case"right":y=_=n.coordinate,w=s+ +p*l,v=w+C*k,S=v+C*g,N=A;break;default:v=w=n.coordinate,_=o+ +p*c,y=_+C*k,N=y+C*g,S=A;break}return{line:{x1:v,y1:y,x2:w,y2:_},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,p=On(On(On({},Vt(this.props,!1)),Vt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);p=On(On({},p),{},{x1:i,y1:s+g*l,x2:i+o,y2:s+g*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);p=On(On({},p),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return X.createElement("line",Eh({},p,{className:Kt("recharts-cartesian-axis-line",ks(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,p=l.tickFormatter,g=l.unit,v=SI(On(On({},this.props),{},{ticks:n}),i,s),w=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),_=Vt(this.props,!1),S=Vt(f,!1),N=On(On({},_),{},{fill:"none"},Vt(c,!1)),C=v.map(function(k,A){var T=o.getTickLineCoord(k),O=T.line,I=T.tick,q=On(On(On(On({textAnchor:w,verticalAnchor:y},_),{},{stroke:"none",fill:u},S),I),{},{index:A,payload:k,visibleTicksCount:v.length,tickFormatter:p});return X.createElement(Fr,Eh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},gv(o.props,k,A)),c&&X.createElement("line",Eh({},N,O,{className:Kt("recharts-cartesian-axis-tick-line",ks(c,"className"))})),f&&t.renderTickItem(f,q,"".concat(Rt(p)?p(k.value,A):k.value).concat(g||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var p=this.props,g=p.ticks,v=T2(p,O5e),w=g;return Rt(c)&&(w=g&&g.length>0?c(this.props):c(v)),o<=0||l<=0||!w||!w.length?null:X.createElement(Fr,{className:Kt("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),ni.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Kt(i.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?o=X.cloneElement(n,On(On({},i),{},{className:l})):Rt(n)?o=n(On(On({},i),{},{className:l})):o=X.createElement(Nv,Eh({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);NI(tm,"displayName","CartesianAxis");NI(tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var z5e=["x1","y1","x2","y2","key"],q5e=["offset"];function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function NU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NU(Object(r),!0).forEach(function(n){U5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U5e(e,t,r){return t=V5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V5e(e){var t=W5e(e,"string");return Bd(t)=="symbol"?t:t+""}function W5e(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function CU(e,t){if(e==null)return{};var r=H5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var K5e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return X.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ute(e,t){var r;if(X.isValidElement(e))r=X.cloneElement(e,t);else if(Rt(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=CU(t,z5e),u=Vt(c,!1);u.offset;var f=CU(u,q5e);r=X.createElement("line",vd({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function G5e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=bi(bi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return ute(i,u)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Z5e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=bi(bi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return ute(i,u)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Y5e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var w=!f[v+1],y=w?i+o-g:f[v+1]-g;if(y<=0)return null;var _=v%t.length;return X.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:y,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function X5e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var w=!f[v+1],y=w?s+l-g:f[v+1]-g;if(y<=0)return null;var _=v%n.length;return X.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:y,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var J5e=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return wee(SI(bi(bi(bi({},tm.defaultProps),n),{},{ticks:xl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Q5e=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return wee(SI(bi(bi(bi({},tm.defaultProps),n),{},{ticks:xl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},fh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kg(e){var t,r,n,i,s,o,l=bI(),c=wI(),u=BBe(),f=bi(bi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:fh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:fh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:fh.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:fh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:fh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:fh.verticalFill,x:et(e.x)?e.x:u.left,y:et(e.y)?e.y:u.top,width:et(e.width)?e.width:u.width,height:et(e.height)?e.height:u.height}),p=f.x,g=f.y,v=f.width,w=f.height,y=f.syncWithTicks,_=f.horizontalValues,S=f.verticalValues,N=LBe(),C=$Be();if(!et(v)||v<=0||!et(w)||w<=0||!et(p)||p!==+p||!et(g)||g!==+g)return null;var k=f.verticalCoordinatesGenerator||J5e,A=f.horizontalCoordinatesGenerator||Q5e,T=f.horizontalPoints,O=f.verticalPoints;if((!T||!T.length)&&Rt(A)){var I=_&&_.length,q=A({yAxis:C?bi(bi({},C),{},{ticks:I?_:C.ticks}):void 0,width:l,height:c,offset:u},I?!0:y);qa(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bd(q),"]")),Array.isArray(q)&&(T=q)}if((!O||!O.length)&&Rt(k)){var Z=S&&S.length,V=k({xAxis:N?bi(bi({},N),{},{ticks:Z?S:N.ticks}):void 0,width:l,height:c,offset:u},Z?!0:y);qa(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bd(V),"]")),Array.isArray(V)&&(O=V)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(K5e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),X.createElement(G5e,vd({},f,{offset:u,horizontalPoints:T,xAxis:N,yAxis:C})),X.createElement(Z5e,vd({},f,{offset:u,verticalPoints:O,xAxis:N,yAxis:C})),X.createElement(Y5e,vd({},f,{horizontalPoints:T})),X.createElement(X5e,vd({},f,{verticalPoints:O})))}kg.displayName="CartesianGrid";var e6e=["type","layout","connectNulls","ref"],t6e=["key"];function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function EU(e,t){if(e==null)return{};var r=r6e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function PU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(r),!0).forEach(function(n){ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hh(e){return a6e(e)||s6e(e)||i6e(e)||n6e()}function n6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i6e(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function s6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a6e(e){if(Array.isArray(e))return Mk(e)}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fte(n.key),n)}}function l6e(e,t,r){return t&&TU(e.prototype,t),r&&TU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c6e(e,t,r){return t=Xw(t),u6e(e,dte()?Reflect.construct(t,r||[],Xw(e).constructor):t.apply(e,r))}function u6e(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d6e(e)}function d6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!e})()}function Xw(e){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xw(e)}function f6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ik(e,t)}function ka(e,t,r){return t=fte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=h6e(e,"string");return bp(t)=="symbol"?t:t+""}function h6e(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jv=function(e){function t(){var r;o6e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=c6e(this,t,[].concat(i)),ka(r,"state",{isAnimationFinished:!0,totalLength:0}),ka(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ka(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(S,N){return S+N});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),p=o%u,g=l-o,v=[],w=0,y=0;w<c.length;y+=c[w],++w)if(y+c[w]>p){v=[].concat(hh(c.slice(0,w)),[p-y]);break}var _=v.length%2===0?[0,g]:[g];return[].concat(hh(t.repeat(c,f)),hh(v),_).map(function(S){return"".concat(S,"px")}).join(", ")}),ka(r,"id",Yp("recharts-line-")),ka(r,"pathRef",function(o){r.mainCurve=o}),ka(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ka(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return f6e(t,e),l6e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=Os(f,Vy);if(!p)return null;var g=function(y,_){return{x:y.x,y:y.y,value:y.value,errorVal:Ln(y.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return X.createElement(Fr,v,p.map(function(w){return X.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,p=Vt(this.props,!1),g=Vt(c,!0),v=u.map(function(y,_){var S=bs(bs(bs({key:"dot-".concat(_),r:3},p),g),{},{index:_,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return t.renderDotItem(c,S)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return X.createElement(Fr,Gg({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var p=EU(l,e6e),g=bs(bs(bs({},Vt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return X.createElement(Rw,Gg({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,v=o.animationId,w=o.animateNewValues,y=o.width,_=o.height,S=this.state,N=S.prevPoints,C=S.totalLength;return X.createElement(Lo,{begin:f,duration:p,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(N){var T=N.length/l.length,O=l.map(function(U,z){var H=Math.floor(z*T);if(N[H]){var re=N[H],se=Cs(re.x,U.x),W=Cs(re.y,U.y);return bs(bs({},U),{},{x:se(A),y:W(A)})}if(w){var Q=Cs(y*2,U.x),Y=Cs(_/2,U.y);return bs(bs({},U),{},{x:Q(A),y:Y(A)})}return bs(bs({},U),{},{x:U.x,y:U.y})});return s.renderCurveStatically(O,n,i)}var I=Cs(0,C),q=I(A),Z;if(c){var V="".concat(c).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});Z=s.getStrokeDasharray(q,C,V)}else Z=s.generateSimpleStrokeDasharray(C,q);return s.renderCurveStatically(l,n,i,{strokeDasharray:Z})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Uy(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,f=i.yAxis,p=i.top,g=i.left,v=i.width,w=i.height,y=i.isAnimationActive,_=i.id;if(s||!l||!l.length)return null;var S=this.state.isAnimationFinished,N=l.length===1,C=Kt("recharts-line",c),k=u&&u.allowDataOverflow,A=f&&f.allowDataOverflow,T=k||A,O=Mt(_)?this.id:_,I=(n=Vt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},q=I.r,Z=q===void 0?3:q,V=I.strokeWidth,U=V===void 0?2:V,z=STe(o)?o:{},H=z.clipDot,re=H===void 0?!0:H,se=Z*2+U;return X.createElement(Fr,{className:C},k||A?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(O)},X.createElement("rect",{x:k?g:g-v/2,y:A?p:p-w/2,width:k?v:v*2,height:A?w:w*2})),!re&&X.createElement("clipPath",{id:"clipPath-dots-".concat(O)},X.createElement("rect",{x:g-se/2,y:p-se/2,width:v+se,height:w+se}))):null,!N&&this.renderCurve(T,O),this.renderErrorBar(T,O),(N||o)&&this.renderDots(T,re,O),(!y||S)&&Al.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(hh(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(hh(o),hh(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(X.isValidElement(n))s=X.cloneElement(n,i);else if(Rt(n))s=n(i);else{var o=i.key,l=EU(i,t6e),c=Kt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=X.createElement(gI,Gg({key:o},l,{className:c}))}return s}}])}(x.PureComponent);ka(Jv,"displayName","Line");ka(Jv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ef.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ka(Jv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,p=c.map(function(g,v){var w=Ln(g,o);return f==="horizontal"?{x:zq({axis:r,ticks:i,bandSize:l,entry:g,index:v}),y:Mt(w)?null:n.scale(w),value:w,payload:g}:{x:Mt(w)?null:r.scale(w),y:zq({axis:n,ticks:s,bandSize:l,entry:g,index:v}),value:w,payload:g}});return bs({points:p,layout:f},u)});function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function p6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mte(n.key),n)}}function g6e(e,t,r){return t&&m6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v6e(e,t,r){return t=Jw(t),y6e(e,hte()?Reflect.construct(t,r||[],Jw(e).constructor):t.apply(e,r))}function y6e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x6e(e)}function x6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hte=function(){return!!e})()}function Jw(e){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(e)}function b6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dk(e,t)}function pte(e,t,r){return t=mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mte(e){var t=w6e(e,"string");return wp(t)=="symbol"?t:t+""}function w6e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}function _6e(e){var t=e.xAxisId,r=bI(),n=wI(),i=Qee(t);return i==null?null:x.createElement(tm,Lk({},i,{className:Kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return xl(o,!0)}}))}var yd=function(e){function t(){return p6e(this,t),v6e(this,t,arguments)}return b6e(t,e),g6e(t,[{key:"render",value:function(){return x.createElement(_6e,this.props)}}])}(x.Component);pte(yd,"displayName","XAxis");pte(yd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function j6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yte(n.key),n)}}function N6e(e,t,r){return t&&S6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C6e(e,t,r){return t=Qw(t),E6e(e,gte()?Reflect.construct(t,r||[],Qw(e).constructor):t.apply(e,r))}function E6e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P6e(e)}function P6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gte=function(){return!!e})()}function Qw(e){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(e)}function T6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$k(e,t)}function $k(e,t){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$k(e,t)}function vte(e,t,r){return t=yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yte(e){var t=A6e(e,"string");return _p(t)=="symbol"?t:t+""}function A6e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fk.apply(this,arguments)}var k6e=function(t){var r=t.yAxisId,n=bI(),i=wI(),s=ete(r);return s==null?null:x.createElement(tm,Fk({},s,{className:Kt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return xl(l,!0)}}))},xd=function(e){function t(){return j6e(this,t),C6e(this,t,arguments)}return T6e(t,e),N6e(t,[{key:"render",value:function(){return x.createElement(k6e,this.props)}}])}(x.Component);vte(xd,"displayName","YAxis");vte(xd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AU(e){return I6e(e)||M6e(e)||R6e(e)||O6e()}function O6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6e(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function M6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I6e(e){if(Array.isArray(e))return Bk(e)}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zk=function(t,r,n,i,s){var o=Os(t,jI),l=Os(t,E1),c=[].concat(AU(o),AU(l)),u=Os(t,T1),f="".concat(i,"Id"),p=i[0],g=r;if(c.length&&(g=c.reduce(function(y,_){if(_.props[f]===n&&To(_.props,"extendDomain")&&et(_.props[p])){var S=_.props[p];return[Math.min(y[0],S),Math.max(y[1],S)]}return y},g)),u.length){var v="".concat(p,"1"),w="".concat(p,"2");g=u.reduce(function(y,_){if(_.props[f]===n&&To(_.props,"extendDomain")&&et(_.props[v])&&et(_.props[w])){var S=_.props[v],N=_.props[w];return[Math.min(y[0],S,N),Math.max(y[1],S,N)]}return y},g)}return s&&s.length&&(g=s.reduce(function(y,_){return et(_)?[Math.min(y[0],_),Math.max(y[1],_)]:y},g)),g},A2={exports:{}},kU;function D6e(){return kU||(kU=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,g),w=r?r+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)t.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,w=new Array(v);g<v;g++)w[g]=p[g].fn;return w},l.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,f,p,g,v,w){var y=r?r+u:u;if(!this._events[y])return!1;var _=this._events[y],S=arguments.length,N,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,g),!0;case 5:return _.fn.call(_.context,f,p,g,v),!0;case 6:return _.fn.call(_.context,f,p,g,v,w),!0}for(C=1,N=new Array(S-1);C<S;C++)N[C-1]=arguments[C];_.fn.apply(_.context,N)}else{var k=_.length,A;for(C=0;C<k;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),S){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,p);break;case 4:_[C].fn.call(_[C].context,f,p,g);break;default:if(!N)for(A=1,N=new Array(S-1);A<S;A++)N[A-1]=arguments[A];_[C].fn.apply(_[C].context,N)}}return!0},l.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},l.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},l.prototype.removeListener=function(u,f,p,g){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!g||w.once)&&(!p||w.context===p)&&o(this,v);else{for(var y=0,_=[],S=w.length;y<S;y++)(w[y].fn!==f||g&&!w[y].once||p&&w[y].context!==p)&&_.push(w[y]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(A2)),A2.exports}var L6e=D6e();const $6e=pr(L6e);var k2=new $6e,O2="recharts.syncMouseEvents";function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function F6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xte(n.key),n)}}function z6e(e,t,r){return t&&B6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R2(e,t,r){return t=xte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=q6e(e,"string");return Qv(t)=="symbol"?t:t+""}function q6e(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U6e=function(){function e(){F6e(this,e),R2(this,"activeIndex",0),R2(this,"coordinateList",[]),R2(this,"layout","horizontal")}return z6e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])}();function V6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&et(n)&&et(i))return!0}return!1}function W6e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bte(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Sn(t,r,n,i),l=Sn(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function H6e(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,p=t.angle,g=Sn(l,c,u,p),v=Sn(l,c,f,p);n=g.x,i=g.y,s=v.x,o=v.y}else return bte(t);return[{x:n,y:i},{x:s,y:o}]}function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function OU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(r),!0).forEach(function(n){K6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K6e(e,t,r){return t=G6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G6e(e){var t=Z6e(e,"string");return ey(t)=="symbol"?t:t+""}function Z6e(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y6e(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,g=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var w,y=Rw;if(g==="ScatterChart")w=o,y=zFe;else if(g==="BarChart")w=W6e(p,o,c,f),y=mI;else if(p==="radial"){var _=bte(o),S=_.cx,N=_.cy,C=_.radius,k=_.startAngle,A=_.endAngle;w={cx:S,cy:N,startAngle:k,endAngle:A,innerRadius:C,outerRadius:C},y=Cee}else w={points:H6e(p,o,c)},y=Rw;var T=J0(J0(J0(J0({stroke:"#ccc",pointerEvents:"none"},c),w),Vt(v,!1)),{},{payload:l,payloadIndex:u,className:Kt("recharts-tooltip-cursor",v.className)});return x.isValidElement(v)?x.cloneElement(v,T):x.createElement(y,T)}var X6e=["item"],J6e=["children","className","width","height","style","compact","title","desc"];function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function RU(e,t){return tze(e)||eze(e,t)||_te(e,t)||Q6e()}function Q6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tze(e){if(Array.isArray(e))return e}function MU(e,t){if(e==null)return{};var r=rze(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ize(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jte(n.key),n)}}function sze(e,t,r){return t&&ize(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aze(e,t,r){return t=e_(t),oze(e,wte()?Reflect.construct(t,r||[],e_(e).constructor):t.apply(e,r))}function oze(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lze(e)}function lze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wte=function(){return!!e})()}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e_(e)}function cze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qk(e,t)}function qk(e,t){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qk(e,t)}function Sp(e){return fze(e)||dze(e)||_te(e)||uze()}function uze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(e,t){if(e){if(typeof e=="string")return Uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(e,t)}}function dze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fze(e){if(Array.isArray(e))return Uk(e)}function Uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IU(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _t(e,t,r){return t=jte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=hze(e,"string");return jp(t)=="symbol"?t:t+""}function hze(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pze={xAxis:["bottom","top"],yAxis:["left","right"]},mze={width:"100%",height:"100%"},Ste={x:0,y:0};function Q0(e){return e}var gze=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},vze=function(t,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return Fe(Fe(Fe({},i),Sn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Fe(Fe(Fe({},i),Sn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Ste},A1=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Sp(l),Sp(u)):l},[]);return o.length>0?o:t&&t.length&&et(i)&&et(s)?t.slice(i,s+1):[]};function Nte(e){return e==="number"?[0,"auto"]:void 0}var Vk=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=A1(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?l:p;g=sw(v,o.dataKey,i)}else g=p&&p[n]||l[n];return g?[].concat(Sp(c),[jee(u,g)]):c},[])},DU=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=gze(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=jLe(o,l,u,c);if(f>=0&&u){var p=u[f]&&u[f].value,g=Vk(t,r,f,p),v=vze(n,l,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},yze=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=t.stackOffset,v=bee(f,s);return n.reduce(function(w,y){var _,S=y.type.defaultProps!==void 0?Fe(Fe({},y.type.defaultProps),y.props):y.props,N=S.type,C=S.dataKey,k=S.allowDataOverflow,A=S.allowDuplicatedCategory,T=S.scale,O=S.ticks,I=S.includeHidden,q=S[o];if(w[q])return w;var Z=A1(t.data,{graphicalItems:i.filter(function(oe){var be,Ce=o in oe.props?oe.props[o]:(be=oe.type.defaultProps)===null||be===void 0?void 0:be[o];return Ce===q}),dataStartIndex:c,dataEndIndex:u}),V=Z.length,U,z,H;V6e(S.domain,k,N)&&(U=ok(S.domain,null,k),v&&(N==="number"||T!=="auto")&&(H=Hg(Z,C,"category")));var re=Nte(N);if(!U||U.length===0){var se,W=(se=S.domain)!==null&&se!==void 0?se:re;if(C){if(U=Hg(Z,C,N),N==="category"&&v){var Q=pTe(U);A&&Q?(z=U,U=zw(0,V)):A||(U=Wq(W,U,y).reduce(function(oe,be){return oe.indexOf(be)>=0?oe:[].concat(Sp(oe),[be])},[]))}else if(N==="category")A?U=U.filter(function(oe){return oe!==""&&!Mt(oe)}):U=Wq(W,U,y).reduce(function(oe,be){return oe.indexOf(be)>=0||be===""||Mt(be)?oe:[].concat(Sp(oe),[be])},[]);else if(N==="number"){var Y=PLe(Z,i.filter(function(oe){var be,Ce,De=o in oe.props?oe.props[o]:(be=oe.type.defaultProps)===null||be===void 0?void 0:be[o],ce="hide"in oe.props?oe.props.hide:(Ce=oe.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return De===q&&(I||!ce)}),C,s,f);Y&&(U=Y)}v&&(N==="number"||T!=="auto")&&(H=Hg(Z,C,"category"))}else v?U=zw(0,V):l&&l[q]&&l[q].hasStack&&N==="number"?U=g==="expand"?[0,1]:_ee(l[q].stackGroups,c,u):U=xee(Z,i.filter(function(oe){var be=o in oe.props?oe.props[o]:oe.type.defaultProps[o],Ce="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return be===q&&(I||!Ce)}),N,f,!0);if(N==="number")U=zk(p,U,q,s,O),W&&(U=ok(W,U,k));else if(N==="category"&&W){var ne=W,J=U.every(function(oe){return ne.indexOf(oe)>=0});J&&(U=ne)}}return Fe(Fe({},w),{},_t({},q,Fe(Fe({},S),{},{axisType:s,domain:U,categoricalDomain:H,duplicateDomain:z,originalDomain:(_=S.domain)!==null&&_!==void 0?_:re,isCategorical:v,layout:f})))},{})},xze=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=A1(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=g.length,w=bee(f,s),y=-1;return n.reduce(function(_,S){var N=S.type.defaultProps!==void 0?Fe(Fe({},S.type.defaultProps),S.props):S.props,C=N[o],k=Nte("number");if(!_[C]){y++;var A;return w?A=zw(0,v):l&&l[C]&&l[C].hasStack?(A=_ee(l[C].stackGroups,c,u),A=zk(p,A,C,s)):(A=ok(k,xee(g,n.filter(function(T){var O,I,q=o in T.props?T.props[o]:(O=T.type.defaultProps)===null||O===void 0?void 0:O[o],Z="hide"in T.props?T.props.hide:(I=T.type.defaultProps)===null||I===void 0?void 0:I.hide;return q===C&&!Z}),"number",f),i.defaultProps.allowDataOverflow),A=zk(p,A,C,s)),Fe(Fe({},_),{},_t({},C,Fe(Fe({axisType:s},i.defaultProps),{},{hide:!0,orientation:ks(pze,"".concat(s,".").concat(y%2),null),domain:A,originalDomain:k,isCategorical:w,layout:f})))}return _},{})},bze=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,p="".concat(i,"Id"),g=Os(f,s),v={};return g&&g.length?v=yze(t,{axes:g,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=xze(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},wze=function(t){var r=Kc(t),n=xl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Aw(r,n)}},LU=function(t){var r=t.children,n=t.defaultShowTooltip,i=_s(r,pp),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},_ze=function(t){return!t||!t.length?!1:t.some(function(r){var n=Pl(r&&r.type);return n&&n.indexOf("Bar")>=0})},$U=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jze=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,p=n.children,g=n.margin||{},v=_s(p,pp),w=_s(p,nu),y=Object.keys(c).reduce(function(A,T){var O=c[T],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},A),{},_t({},I,A[I]+O.width)):A},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(A,T){var O=o[T],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},A),{},_t({},I,ks(A,"".concat(I))+O.height)):A},{top:g.top||0,bottom:g.bottom||0}),S=Fe(Fe({},_),y),N=S.bottom;v&&(S.bottom+=v.props.height||pp.defaultProps.height),w&&r&&(S=CLe(S,i,n,r));var C=u-S.left-S.right,k=f-S.top-S.bottom;return Fe(Fe({brushBottom:N},S),{},{width:Math.max(C,0),height:Math.max(k,0)})},Sze=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Nze=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,p=t.defaultProps,g=function(S,N){var C=N.graphicalItems,k=N.stackGroups,A=N.offset,T=N.updateId,O=N.dataStartIndex,I=N.dataEndIndex,q=S.barSize,Z=S.layout,V=S.barGap,U=S.barCategoryGap,z=S.maxBarSize,H=$U(Z),re=H.numericAxisName,se=H.cateAxisName,W=_ze(C),Q=[];return C.forEach(function(Y,ne){var J=A1(S.data,{graphicalItems:[Y],dataStartIndex:O,dataEndIndex:I}),oe=Y.type.defaultProps!==void 0?Fe(Fe({},Y.type.defaultProps),Y.props):Y.props,be=oe.dataKey,Ce=oe.maxBarSize,De=oe["".concat(re,"Id")],ce=oe["".concat(se,"Id")],ae={},ge=c.reduce(function(_e,ke){var Ze=N["".concat(ke.axisType,"Map")],Xe=oe["".concat(ke.axisType,"Id")];Ze&&Ze[Xe]||ke.axisType==="zAxis"||Fd();var me=Ze[Xe];return Fe(Fe({},_e),{},_t(_t({},ke.axisType,me),"".concat(ke.axisType,"Ticks"),xl(me)))},ae),he=ge[se],Pe=ge["".concat(se,"Ticks")],ee=k&&k[De]&&k[De].hasStack&&BLe(Y,k[De].stackGroups),G=Pl(Y.type).indexOf("Bar")>=0,we=Aw(he,Pe),xe=[],Ve=W&&SLe({barSize:q,stackGroups:k,totalSize:Sze(ge,se)});if(G){var qe,Ne,ot=Mt(Ce)?z:Ce,It=(qe=(Ne=Aw(he,Pe,!0))!==null&&Ne!==void 0?Ne:ot)!==null&&qe!==void 0?qe:0;xe=NLe({barGap:V,barCategoryGap:U,bandSize:It!==we?It:we,sizeList:Ve[ce],maxBarSize:ot}),It!==we&&(xe=xe.map(function(_e){return Fe(Fe({},_e),{},{position:Fe(Fe({},_e.position),{},{offset:_e.position.offset-It/2})})}))}var fe=Y&&Y.type&&Y.type.getComposedData;fe&&Q.push({props:Fe(Fe({},fe(Fe(Fe({},ge),{},{displayedData:J,props:S,dataKey:be,item:Y,bandSize:we,barPosition:xe,offset:A,stackedData:ee,layout:Z,dataStartIndex:O,dataEndIndex:I}))),{},_t(_t(_t({key:Y.key||"item-".concat(ne)},re,ge[re]),se,ge[se]),"animationId",T)),childIndex:ETe(Y,S.children),item:Y})}),Q},v=function(S,N){var C=S.props,k=S.dataStartIndex,A=S.dataEndIndex,T=S.updateId;if(!s5({props:C}))return null;var O=C.children,I=C.layout,q=C.stackOffset,Z=C.data,V=C.reverseStackOrder,U=$U(I),z=U.numericAxisName,H=U.cateAxisName,re=Os(O,n),se=LLe(Z,re,"".concat(z,"Id"),"".concat(H,"Id"),q,V),W=c.reduce(function(oe,be){var Ce="".concat(be.axisType,"Map");return Fe(Fe({},oe),{},_t({},Ce,bze(C,Fe(Fe({},be),{},{graphicalItems:re,stackGroups:be.axisType===z&&se,dataStartIndex:k,dataEndIndex:A}))))},{}),Q=jze(Fe(Fe({},W),{},{props:C,graphicalItems:re}),N?.legendBBox);Object.keys(W).forEach(function(oe){W[oe]=f(C,W[oe],Q,oe.replace("Map",""),r)});var Y=W["".concat(H,"Map")],ne=wze(Y),J=g(C,Fe(Fe({},W),{},{dataStartIndex:k,dataEndIndex:A,updateId:T,graphicalItems:re,stackGroups:se,offset:Q}));return Fe(Fe({formattedGraphicalItems:J,graphicalItems:re,offset:Q,stackGroups:se},ne),W)},w=function(_){function S(N){var C,k,A;return nze(this,S),A=aze(this,S,[N]),_t(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_t(A,"accessibilityManager",new U6e),_t(A,"handleLegendBBoxUpdate",function(T){if(T){var O=A.state,I=O.dataStartIndex,q=O.dataEndIndex,Z=O.updateId;A.setState(Fe({legendBBox:T},v({props:A.props,dataStartIndex:I,dataEndIndex:q,updateId:Z},Fe(Fe({},A.state),{},{legendBBox:T}))))}}),_t(A,"handleReceiveSyncEvent",function(T,O,I){if(A.props.syncId===T){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(O)}}),_t(A,"handleBrushChange",function(T){var O=T.startIndex,I=T.endIndex;if(O!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var q=A.state.updateId;A.setState(function(){return Fe({dataStartIndex:O,dataEndIndex:I},v({props:A.props,dataStartIndex:O,dataEndIndex:I,updateId:q},A.state))}),A.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),_t(A,"handleMouseEnter",function(T){var O=A.getMouseInfo(T);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var q=A.props.onMouseEnter;Rt(q)&&q(I,T)}}),_t(A,"triggeredAfterMouseMove",function(T){var O=A.getMouseInfo(T),I=O?Fe(Fe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var q=A.props.onMouseMove;Rt(q)&&q(I,T)}),_t(A,"handleItemMouseEnter",function(T){A.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),_t(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),_t(A,"handleMouseMove",function(T){T.persist(),A.throttleTriggeredAfterMouseMove(T)}),_t(A,"handleMouseLeave",function(T){A.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};A.setState(O),A.triggerSyncEvent(O);var I=A.props.onMouseLeave;Rt(I)&&I(O,T)}),_t(A,"handleOuterEvent",function(T){var O=CTe(T),I=ks(A.props,"".concat(O));if(O&&Rt(I)){var q,Z;/.*touch.*/i.test(O)?Z=A.getMouseInfo(T.changedTouches[0]):Z=A.getMouseInfo(T),I((q=Z)!==null&&q!==void 0?q:{},T)}}),_t(A,"handleClick",function(T){var O=A.getMouseInfo(T);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var q=A.props.onClick;Rt(q)&&q(I,T)}}),_t(A,"handleMouseDown",function(T){var O=A.props.onMouseDown;if(Rt(O)){var I=A.getMouseInfo(T);O(I,T)}}),_t(A,"handleMouseUp",function(T){var O=A.props.onMouseUp;if(Rt(O)){var I=A.getMouseInfo(T);O(I,T)}}),_t(A,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),_t(A,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&A.handleMouseDown(T.changedTouches[0])}),_t(A,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&A.handleMouseUp(T.changedTouches[0])}),_t(A,"handleDoubleClick",function(T){var O=A.props.onDoubleClick;if(Rt(O)){var I=A.getMouseInfo(T);O(I,T)}}),_t(A,"handleContextMenu",function(T){var O=A.props.onContextMenu;if(Rt(O)){var I=A.getMouseInfo(T);O(I,T)}}),_t(A,"triggerSyncEvent",function(T){A.props.syncId!==void 0&&k2.emit(O2,A.props.syncId,T,A.eventEmitterSymbol)}),_t(A,"applySyncEvent",function(T){var O=A.props,I=O.layout,q=O.syncMethod,Z=A.state.updateId,V=T.dataStartIndex,U=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)A.setState(Fe({dataStartIndex:V,dataEndIndex:U},v({props:A.props,dataStartIndex:V,dataEndIndex:U,updateId:Z},A.state)));else if(T.activeTooltipIndex!==void 0){var z=T.chartX,H=T.chartY,re=T.activeTooltipIndex,se=A.state,W=se.offset,Q=se.tooltipTicks;if(!W)return;if(typeof q=="function")re=q(Q,T);else if(q==="value"){re=-1;for(var Y=0;Y<Q.length;Y++)if(Q[Y].value===T.activeLabel){re=Y;break}}var ne=Fe(Fe({},W),{},{x:W.left,y:W.top}),J=Math.min(z,ne.x+ne.width),oe=Math.min(H,ne.y+ne.height),be=Q[re]&&Q[re].value,Ce=Vk(A.state,A.props.data,re),De=Q[re]?{x:I==="horizontal"?Q[re].coordinate:J,y:I==="horizontal"?oe:Q[re].coordinate}:Ste;A.setState(Fe(Fe({},T),{},{activeLabel:be,activeCoordinate:De,activePayload:Ce,activeTooltipIndex:re}))}else A.setState(T)}),_t(A,"renderCursor",function(T){var O,I=A.state,q=I.isTooltipActive,Z=I.activeCoordinate,V=I.activePayload,U=I.offset,z=I.activeTooltipIndex,H=I.tooltipAxisBandSize,re=A.getTooltipEventType(),se=(O=T.props.active)!==null&&O!==void 0?O:q,W=A.props.layout,Q=T.key||"_recharts-cursor";return X.createElement(Y6e,{key:Q,activeCoordinate:Z,activePayload:V,activeTooltipIndex:z,chartName:r,element:T,isActive:se,layout:W,offset:U,tooltipAxisBandSize:H,tooltipEventType:re})}),_t(A,"renderPolarAxis",function(T,O,I){var q=ks(T,"type.axisType"),Z=ks(A.state,"".concat(q,"Map")),V=T.type.defaultProps,U=V!==void 0?Fe(Fe({},V),T.props):T.props,z=Z&&Z[U["".concat(q,"Id")]];return x.cloneElement(T,Fe(Fe({},z),{},{className:Kt(q,z.className),key:T.key||"".concat(O,"-").concat(I),ticks:xl(z,!0)}))}),_t(A,"renderPolarGrid",function(T){var O=T.props,I=O.radialLines,q=O.polarAngles,Z=O.polarRadius,V=A.state,U=V.radiusAxisMap,z=V.angleAxisMap,H=Kc(U),re=Kc(z),se=re.cx,W=re.cy,Q=re.innerRadius,Y=re.outerRadius;return x.cloneElement(T,{polarAngles:Array.isArray(q)?q:xl(re,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(Z)?Z:xl(H,!0).map(function(ne){return ne.coordinate}),cx:se,cy:W,innerRadius:Q,outerRadius:Y,key:T.key||"polar-grid",radialLines:I})}),_t(A,"renderLegend",function(){var T=A.state.formattedGraphicalItems,O=A.props,I=O.children,q=O.width,Z=O.height,V=A.props.margin||{},U=q-(V.left||0)-(V.right||0),z=vee({children:I,formattedGraphicalItems:T,legendWidth:U,legendContent:u});if(!z)return null;var H=z.item,re=MU(z,X6e);return x.cloneElement(H,Fe(Fe({},re),{},{chartWidth:q,chartHeight:Z,margin:V,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),_t(A,"renderTooltip",function(){var T,O=A.props,I=O.children,q=O.accessibilityLayer,Z=_s(I,Mi);if(!Z)return null;var V=A.state,U=V.isTooltipActive,z=V.activeCoordinate,H=V.activePayload,re=V.activeLabel,se=V.offset,W=(T=Z.props.active)!==null&&T!==void 0?T:U;return x.cloneElement(Z,{viewBox:Fe(Fe({},se),{},{x:se.left,y:se.top}),active:W,label:re,payload:W?H:[],coordinate:z,accessibilityLayer:q})}),_t(A,"renderBrush",function(T){var O=A.props,I=O.margin,q=O.data,Z=A.state,V=Z.offset,U=Z.dataStartIndex,z=Z.dataEndIndex,H=Z.updateId;return x.cloneElement(T,{key:T.key||"_recharts-brush",onChange:G0(A.handleBrushChange,T.props.onChange),data:q,x:et(T.props.x)?T.props.x:V.left,y:et(T.props.y)?T.props.y:V.top+V.height+V.brushBottom-(I.bottom||0),width:et(T.props.width)?T.props.width:V.width,startIndex:U,endIndex:z,updateId:"brush-".concat(H)})}),_t(A,"renderReferenceElement",function(T,O,I){if(!T)return null;var q=A,Z=q.clipPathId,V=A.state,U=V.xAxisMap,z=V.yAxisMap,H=V.offset,re=T.type.defaultProps||{},se=T.props,W=se.xAxisId,Q=W===void 0?re.xAxisId:W,Y=se.yAxisId,ne=Y===void 0?re.yAxisId:Y;return x.cloneElement(T,{key:T.key||"".concat(O,"-").concat(I),xAxis:U[Q],yAxis:z[ne],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:Z})}),_t(A,"renderActivePoints",function(T){var O=T.item,I=T.activePoint,q=T.basePoint,Z=T.childIndex,V=T.isRange,U=[],z=O.props.key,H=O.item.type.defaultProps!==void 0?Fe(Fe({},O.item.type.defaultProps),O.item.props):O.item.props,re=H.activeDot,se=H.dataKey,W=Fe(Fe({index:Z,dataKey:se,cx:I.x,cy:I.y,r:4,fill:pI(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Vt(re,!1)),aw(re));return U.push(S.renderActiveDot(re,W,"".concat(z,"-activePoint-").concat(Z))),q?U.push(S.renderActiveDot(re,Fe(Fe({},W),{},{cx:q.x,cy:q.y}),"".concat(z,"-basePoint-").concat(Z))):V&&U.push(null),U}),_t(A,"renderGraphicChild",function(T,O,I){var q=A.filterFormatItem(T,O,I);if(!q)return null;var Z=A.getTooltipEventType(),V=A.state,U=V.isTooltipActive,z=V.tooltipAxis,H=V.activeTooltipIndex,re=V.activeLabel,se=A.props.children,W=_s(se,Mi),Q=q.props,Y=Q.points,ne=Q.isRange,J=Q.baseLine,oe=q.item.type.defaultProps!==void 0?Fe(Fe({},q.item.type.defaultProps),q.item.props):q.item.props,be=oe.activeDot,Ce=oe.hide,De=oe.activeBar,ce=oe.activeShape,ae=!!(!Ce&&U&&W&&(be||De||ce)),ge={};Z!=="axis"&&W&&W.props.trigger==="click"?ge={onClick:G0(A.handleItemMouseEnter,T.props.onClick)}:Z!=="axis"&&(ge={onMouseLeave:G0(A.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:G0(A.handleItemMouseEnter,T.props.onMouseEnter)});var he=x.cloneElement(T,Fe(Fe({},q.props),ge));function Pe(ke){return typeof z.dataKey=="function"?z.dataKey(ke.payload):null}if(ae)if(H>=0){var ee,G;if(z.dataKey&&!z.allowDuplicatedCategory){var we=typeof z.dataKey=="function"?Pe:"payload.".concat(z.dataKey.toString());ee=sw(Y,we,re),G=ne&&J&&sw(J,we,re)}else ee=Y?.[H],G=ne&&J&&J[H];if(ce||De){var xe=T.props.activeIndex!==void 0?T.props.activeIndex:H;return[x.cloneElement(T,Fe(Fe(Fe({},q.props),ge),{},{activeIndex:xe})),null,null]}if(!Mt(ee))return[he].concat(Sp(A.renderActivePoints({item:q,activePoint:ee,basePoint:G,childIndex:H,isRange:ne})))}else{var Ve,qe=(Ve=A.getItemByXY(A.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:he},Ne=qe.graphicalItem,ot=Ne.item,It=ot===void 0?T:ot,fe=Ne.childIndex,_e=Fe(Fe(Fe({},q.props),ge),{},{activeIndex:fe});return[x.cloneElement(It,_e),null,null]}return ne?[he,null,null]:[he,null]}),_t(A,"renderCustomized",function(T,O,I){return x.cloneElement(T,Fe(Fe({key:"recharts-customized-".concat(I)},A.props),A.state))}),_t(A,"renderMap",{CartesianGrid:{handler:Q0,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Q0},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Q0},YAxis:{handler:Q0},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((C=N.id)!==null&&C!==void 0?C:Yp("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=vQ(A.triggeredAfterMouseMove,(k=N.throttleDelay)!==null&&k!==void 0?k:1e3/60),A.state={},A}return cze(S,_),sze(S,[{key:"componentDidMount",value:function(){var C,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,k=C.children,A=C.data,T=C.height,O=C.layout,I=_s(k,Mi);if(I){var q=I.props.defaultIndex;if(!(typeof q!="number"||q<0||q>this.state.tooltipTicks.length-1)){var Z=this.state.tooltipTicks[q]&&this.state.tooltipTicks[q].value,V=Vk(this.state,A,q,Z),U=this.state.tooltipTicks[q].coordinate,z=(this.state.offset.top+T)/2,H=O==="horizontal",re=H?{x:U,y:z}:{y:U,x:z},se=this.state.formattedGraphicalItems.find(function(Q){var Y=Q.item;return Y.type.name==="Scatter"});se&&(re=Fe(Fe({},re),se.props.points[q].tooltipPosition),V=se.props.points[q].tooltipPayload);var W={activeTooltipIndex:q,isTooltipActive:!0,activeLabel:Z,activePayload:V,activeCoordinate:re};this.setState(W),this.renderCursor(I),this.accessibilityManager.setIndex(q)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var A,T;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(C){TA([_s(C.children,Mi)],[_s(this.props.children,Mi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=_s(this.props.children,Mi);if(C&&typeof C.props.shared=="boolean"){var k=C.props.shared?"axis":"item";return l.indexOf(k)>=0?k:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var k=this.container,A=k.getBoundingClientRect(),T=hRe(A),O={chartX:Math.round(C.pageX-T.left),chartY:Math.round(C.pageY-T.top)},I=A.width/k.offsetWidth||1,q=this.inRange(O.chartX,O.chartY,I);if(!q)return null;var Z=this.state,V=Z.xAxisMap,U=Z.yAxisMap,z=this.getTooltipEventType(),H=DU(this.state,this.props.data,this.props.layout,q);if(z!=="axis"&&V&&U){var re=Kc(V).scale,se=Kc(U).scale,W=re&&re.invert?re.invert(O.chartX):null,Q=se&&se.invert?se.invert(O.chartY):null;return Fe(Fe({},O),{},{xValue:W,yValue:Q},H)}return H?Fe(Fe({},O),H):null}},{key:"inRange",value:function(C,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,O=C/A,I=k/A;if(T==="horizontal"||T==="vertical"){var q=this.state.offset,Z=O>=q.left&&O<=q.left+q.width&&I>=q.top&&I<=q.top+q.height;return Z?{x:O,y:I}:null}var V=this.state,U=V.angleAxisMap,z=V.radiusAxisMap;if(U&&z){var H=Kc(U);return Gq({x:O,y:I},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,k=this.getTooltipEventType(),A=_s(C,Mi),T={};A&&k==="axis"&&(A.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=aw(this.props,this.handleOuterEvent);return Fe(Fe({},O),T)}},{key:"addListener",value:function(){k2.on(O2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){k2.removeListener(O2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,k,A){for(var T=this.state.formattedGraphicalItems,O=0,I=T.length;O<I;O++){var q=T[O];if(q.item===C||q.props.key===C.key||k===Pl(q.item.type)&&A===q.childIndex)return q}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,k=this.state.offset,A=k.left,T=k.top,O=k.height,I=k.width;return X.createElement("defs",null,X.createElement("clipPath",{id:C},X.createElement("rect",{x:A,y:T,height:O,width:I})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(k,A){var T=RU(A,2),O=T[0],I=T[1];return Fe(Fe({},k),{},_t({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(k,A){var T=RU(A,2),O=T[0],I=T[1];return Fe(Fe({},k),{},_t({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[C])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(C){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[C])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(C){var k=this.state,A=k.formattedGraphicalItems,T=k.activeItem;if(A&&A.length)for(var O=0,I=A.length;O<I;O++){var q=A[O],Z=q.props,V=q.item,U=V.type.defaultProps!==void 0?Fe(Fe({},V.type.defaultProps),V.props):V.props,z=Pl(V.type);if(z==="Bar"){var H=(Z.data||[]).find(function(Q){return kFe(C,Q)});if(H)return{graphicalItem:q,payload:H}}else if(z==="RadialBar"){var re=(Z.data||[]).find(function(Q){return Gq(C,Q)});if(re)return{graphicalItem:q,payload:re}}else if(j1(q,T)||S1(q,T)||Kv(q,T)){var se=b3e({graphicalItem:q,activeTooltipItem:T,itemData:U.data}),W=U.activeIndex===void 0?se:U.activeIndex;return{graphicalItem:Fe(Fe({},q),{},{childIndex:W}),payload:Kv(q,T)?U.data[se]:q.props.data[se]}}}return null}},{key:"render",value:function(){var C=this;if(!s5(this))return null;var k=this.props,A=k.children,T=k.className,O=k.width,I=k.height,q=k.style,Z=k.compact,V=k.title,U=k.desc,z=MU(k,J6e),H=Vt(z,!1);if(Z)return X.createElement(pU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(kA,Ph({},H,{width:O,height:I,title:V,desc:U}),this.renderClipPath(),o5(A,this.renderMap)));if(this.props.accessibilityLayer){var re,se;H.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,H.role=(se=this.props.role)!==null&&se!==void 0?se:"application",H.onKeyDown=function(Q){C.accessibilityManager.keyboardEvent(Q)},H.onFocus=function(){C.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return X.createElement(pU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",Ph({className:Kt("recharts-wrapper",T),style:Fe({position:"relative",cursor:"default",width:O,height:I},q)},W,{ref:function(Y){C.container=Y}}),X.createElement(kA,Ph({},H,{width:O,height:I,title:V,desc:U,style:mze}),this.renderClipPath(),o5(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);_t(w,"displayName",r),_t(w,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),_t(w,"getDerivedStateFromProps",function(_,S){var N=_.dataKey,C=_.data,k=_.children,A=_.width,T=_.height,O=_.layout,I=_.stackOffset,q=_.margin,Z=S.dataStartIndex,V=S.dataEndIndex;if(S.updateId===void 0){var U=LU(_);return Fe(Fe(Fe({},U),{},{updateId:0},v(Fe(Fe({props:_},U),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:C,prevWidth:A,prevHeight:T,prevLayout:O,prevStackOffset:I,prevMargin:q,prevChildren:k})}if(N!==S.prevDataKey||C!==S.prevData||A!==S.prevWidth||T!==S.prevHeight||O!==S.prevLayout||I!==S.prevStackOffset||!Ih(q,S.prevMargin)){var z=LU(_),H={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},re=Fe(Fe({},DU(S,C,O)),{},{updateId:S.updateId+1}),se=Fe(Fe(Fe({},z),H),re);return Fe(Fe(Fe({},se),v(Fe({props:_},se),S)),{},{prevDataKey:N,prevData:C,prevWidth:A,prevHeight:T,prevLayout:O,prevStackOffset:I,prevMargin:q,prevChildren:k})}if(!TA(k,S.prevChildren)){var W,Q,Y,ne,J=_s(k,pp),oe=J&&(W=(Q=J.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&W!==void 0?W:Z,be=J&&(Y=(ne=J.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&Y!==void 0?Y:V,Ce=oe!==Z||be!==V,De=!Mt(C),ce=De&&!Ce?S.updateId:S.updateId+1;return Fe(Fe({updateId:ce},v(Fe(Fe({props:_},S),{},{updateId:ce,dataStartIndex:oe,dataEndIndex:be}),S)),{},{prevChildren:k,dataStartIndex:oe,dataEndIndex:be})}return null}),_t(w,"renderActiveDot",function(_,S,N){var C;return x.isValidElement(_)?C=x.cloneElement(_,S):Rt(_)?C=_(S):C=X.createElement(gI,S),X.createElement(Fr,{className:"recharts-active-dot",key:N},C)});var y=x.forwardRef(function(S,N){return X.createElement(w,Ph({},S,{ref:N}))});return y.displayName=w.displayName,y},FU=Nze({chartName:"BarChart",GraphicalChild:kl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:yd},{axisType:"yAxis",AxisComp:xd}],formatAxisMap:jBe});const ph=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function Cze(){const[e,t]=x.useState("7days"),[r,n]=x.useMemo(()=>{const T=new Date;switch(e){case"today":return[Sr(T,"yyyy-MM-dd"),Sr(T,"yyyy-MM-dd")];case"yesterday":const O=Xm(T,1);return[Sr(O,"yyyy-MM-dd"),Sr(O,"yyyy-MM-dd")];case"7days":return[Sr(Xm(T,7),"yyyy-MM-dd"),Sr(T,"yyyy-MM-dd")];case"30days":return[Sr(Xm(T,30),"yyyy-MM-dd"),Sr(T,"yyyy-MM-dd")];case"90days":return[Sr(Xm(T,90),"yyyy-MM-dd"),Sr(T,"yyyy-MM-dd")];case"thisMonth":return[Sr(new Date(T.getFullYear(),T.getMonth(),1),"yyyy-MM-dd"),Sr(T,"yyyy-MM-dd")];case"lastMonth":const I=new Date(T.getFullYear(),T.getMonth()-1,1),q=new Date(T.getFullYear(),T.getMonth(),0);return[Sr(I,"yyyy-MM-dd"),Sr(q,"yyyy-MM-dd")];case"thisYear":return[Sr(new Date(T.getFullYear(),0,1),"yyyy-MM-dd"),Sr(T,"yyyy-MM-dd")];default:return[Sr(Xm(T,7),"yyyy-MM-dd"),Sr(T,"yyyy-MM-dd")]}},[e]),{data:i,isLoading:s,error:o}=Gn({queryKey:["analytics","overview",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données analytics..."),console.log("🔍 Période:",{startDate:r,endDate:n});let T=[],O=[];try{T=(await Hr.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",T.length)}catch(H){console.error("❌ Erreur lors du chargement des annonces:",H),T=[]}try{O=await $a.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",O.length)}catch(H){console.error("❌ Erreur lors du chargement des utilisateurs:",H),O=[]}console.log("🔍 Données récupérées:",{listingsCount:T?.length,usersCount:O?.length});const I=T?.length||0,q=T?.filter(H=>H.status==="approved")?.length||0,Z=T?.filter(H=>H.status==="pending")?.length||0,V=O?.length||0,U=O?.filter(H=>H.status==="active")?.length||0,z={totalListings:I,approvedListings:q,pendingListings:Z,totalUsers:V,activeUsers:U,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:U,change:0},growth:{listings:0,users:0,revenue:0}};return console.log("🔍 Résultat analytics calculé:",z),z}catch(T){return console.error("❌ Erreur lors du chargement des données analytics:",T),{totalListings:0,approvedListings:0,pendingListings:0,totalUsers:0,activeUsers:0,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:0,change:0},growth:{listings:0,users:0,revenue:0}}}}}),{data:l,isLoading:c}=Gn({queryKey:["analytics","revenue",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données de revenus..."),console.log("🔍 Période:",{startDate:r,endDate:n});const T=await T$.getRevenueData(r,n);return console.log("🔍 Données de revenus récupérées:",T),T}catch(T){return console.error("❌ Erreur lors du chargement des données de revenus:",T),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}}}),{data:u,isLoading:f}=Gn({queryKey:["analytics","users",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données utilisateurs...");const T=await $a.getAllUsers();if(console.log("🔍 Utilisateurs récupérés pour analytics:",T?.length),!T||T.length===0)return console.log("⚠️ Aucun utilisateur trouvé, retour de données par défaut"),[];const O=T.reduce((q,Z)=>{if(Z.created_at){const V=Sr(new Date(Z.created_at),"yyyy-MM-dd");q[V]=(q[V]||0)+1}return q},{}),I=Object.entries(O).map(([q,Z])=>({date:q,users:Z}));return console.log("🔍 Données utilisateurs formatées:",I),I}catch(T){return console.error("❌ Erreur lors du chargement des données utilisateurs:",T),[]}}}),{data:p,isLoading:g}=Gn({queryKey:["analytics","top-products",r,n],queryFn:async()=>[]}),{data:v,isLoading:w}=Gn({queryKey:["analytics","growth",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des tendances de croissance..."),console.log("🔍 Période:",{startDate:r,endDate:n});const T=await T$.getGrowthTrends(r,n);return console.log("🔍 Tendances de croissance récupérées:",T),T}catch(T){return console.error("❌ Erreur lors du chargement des tendances de croissance:",T),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}}}),{data:y,isLoading:_}=Gn({queryKey:["analytics","traffic",r,n],queryFn:async()=>({"Recherche directe":45,"Réseaux sociaux":30,"Moteurs de recherche":15,"Liens externes":10})}),{data:S,isLoading:N}=Gn({queryKey:["analytics","categories",r,n],queryFn:async()=>({Immobilier:40,Automobile:25,Services:20,Marketplace:15})}),C=x.useMemo(()=>u?u.map(T=>({date:Sr(ehe(T.date),"MMM d"),newUsers:T.users,activeUsers:T.users,returningUsers:0})):[],[u]),k=x.useMemo(()=>y?Object.entries(y).map(([T,O])=>({name:T,value:O})):[],[y]),A=s||c||f||g||_||N||w;return console.log("🔍 État des données avant rendu:",{analyticsData:i,revenueData:l,userData:u,growthTrends:v,isLoading:A,analyticsError:o}),o?(console.error("❌ Erreur analytics détectée:",o),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx($g,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):!i||!l?(console.log("⚠️ Données manquantes, affichage du chargement..."),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx($g,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des données..."}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Veuillez patienter pendant le chargement des données."}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})]})})):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau de Bord Analytique"}),a.jsx("p",{className:"text-muted-foreground",children:"Aperçu des performances et des tendances de votre plateforme"})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-2 md:mt-0",children:[a.jsxs(Pr,{value:e,onValueChange:t,children:[a.jsxs(Cr,{className:"w-[180px]",children:[a.jsx(ql,{className:"mr-2 h-4 w-4"}),a.jsx(Tr,{placeholder:"Sélectionner une période"})]}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"today",children:"Aujourd'hui"}),a.jsx(Ge,{value:"yesterday",children:"Hier"}),a.jsx(Ge,{value:"7days",children:"7 derniers jours"}),a.jsx(Ge,{value:"30days",children:"30 derniers jours"}),a.jsx(Ge,{value:"90days",children:"90 derniers jours"}),a.jsx(Ge,{value:"thisMonth",children:"Ce mois-ci"}),a.jsx(Ge,{value:"lastMonth",children:"Le mois dernier"}),a.jsx(Ge,{value:"thisYear",children:"Cette année"})]})]}),a.jsxs(ue,{variant:"outline",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(zt,{children:[a.jsxs(lr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(cr,{className:"text-sm font-medium",children:"Total Annonces"}),a.jsx(Wd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ut,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(()=>{const T=i?.totalListings;return console.log("🔍 Affichage Total Annonces:",{value:T,type:typeof T}),A?"...":T?.toLocaleString()||0})()}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," approuvées, ",i?.pendingListings||0," en attente"]})]})]}),a.jsxs(zt,{children:[a.jsxs(lr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(cr,{className:"text-sm font-medium",children:"Utilisateurs"}),a.jsx(za,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ut,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A?"...":i?.totalUsers?.toLocaleString()||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.activeUsers?.current||0," actifs"]})]})]}),a.jsxs(zt,{children:[a.jsxs(lr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(cr,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),a.jsx(Vh,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ut,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A?"...":`${(l?.totalRevenue||0).toLocaleString()} FCFA`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:l?.revenueByDate?.length>0&&a.jsxs("span",{className:"text-green-600",children:["↑ ",l.revenueByDate.length," transactions"]})})]})]}),a.jsxs(zt,{children:[a.jsxs(lr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(cr,{className:"text-sm font-medium",children:"Taux d'approbation"}),a.jsx(La,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ut,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A?"...":i?.totalListings?`${Math.round(i.approvedListings/i.totalListings*100)}%`:"0%"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," sur ",i?.totalListings||0," annonces"]})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(zt,{className:"col-span-4",children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Évolution des Revenus"}),a.jsx(wn,{children:"Chiffre d'affaires sur la période sélectionnée"})]}),a.jsx(Ut,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ch,{width:"100%",height:"100%",children:a.jsxs(y$,{data:l?.revenueByDate||[],margin:{top:5,right:10,left:0,bottom:5},children:[a.jsx(kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(yd,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(xd,{tickFormatter:T=>`${T.toLocaleString()} FCFA`,tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Mi,{formatter:T=>[`${T.toLocaleString()} FCFA`,"Revenus"]}),a.jsx(Jv,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(zt,{className:"col-span-3",children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Sources de trafic"}),a.jsx(wn,{children:"Répartition des sources de trafic sur votre site"})]}),a.jsxs(Ut,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(ch,{width:"100%",height:"100%",children:a.jsxs(x$,{children:[a.jsx(Bl,{data:k,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:k.map((T,O)=>a.jsx(_v,{fill:ph[O%ph.length]},`cell-${O}`))}),a.jsx(Mi,{formatter:(T,O)=>[`${T}%`,O]}),a.jsx(nu,{})]})})}),a.jsx("div",{className:"mt-4 space-y-2",children:k.map((T,O)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:ph[O%ph.length]}}),a.jsx("span",{className:"text-sm",children:T.name})]}),a.jsxs("span",{className:"text-sm font-medium",children:[T.value,"%"]})]},T.name))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(zt,{className:"col-span-4",children:[a.jsx(lr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(cr,{children:"Activité des utilisateurs"}),a.jsx(wn,{children:"Évolution des nouveaux utilisateurs et des utilisateurs actifs"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveaux"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-green-600"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Actifs"})]})]})]})}),a.jsx(Ut,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ch,{width:"100%",height:"100%",children:a.jsxs(FU,{data:C,children:[a.jsx(kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(yd,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(xd,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Mi,{}),a.jsx(nu,{}),a.jsx(kl,{dataKey:"newUsers",fill:"#3b82f6",radius:[4,4,0,0]}),a.jsx(kl,{dataKey:"activeUsers",fill:"#10b981",radius:[4,4,0,0]})]})})})})]}),a.jsxs(zt,{className:"col-span-3",children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Croissance des Utilisateurs"}),a.jsx(wn,{children:"Nouveaux utilisateurs par période"})]}),a.jsx(Ut,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ch,{width:"100%",height:"100%",children:a.jsxs(FU,{data:v?.users?.daily||[],children:[a.jsx(kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(yd,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(xd,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(Mi,{formatter:T=>[T,"Nouveaux utilisateurs"]}),a.jsx(kl,{dataKey:"value",fill:"#82ca9d",radius:[4,4,0,0]})]})})})})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Croissance des Annonces"}),a.jsx(wn,{children:"Nouvelles annonces créées par période"})]}),a.jsx(Ut,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ch,{width:"100%",height:"100%",children:a.jsxs(y$,{data:v?.listings?.daily||[],children:[a.jsx(kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(yd,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(xd,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(Mi,{formatter:T=>[T,"Nouvelles annonces"]}),a.jsx(Jv,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Répartition des Revenus par Catégorie"}),a.jsx(wn,{children:"Chiffre d'affaires par catégorie d'annonces"})]}),a.jsx(Ut,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ch,{width:"100%",height:"100%",children:a.jsxs(x$,{children:[a.jsx(Bl,{data:Object.entries(l?.revenueByCategory||{}).map(([T,O])=>({name:T==="real_estate"?"Immobilier":T==="automobile"?"Automobile":T==="services"?"Services":T==="marketplace"?"Marketplace":T,value:O})),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:T,percent:O})=>`${T} ${(O*100).toFixed(0)}%`,children:Object.entries(l?.revenueByCategory||{}).map((T,O)=>a.jsx(_v,{fill:ph[O%ph.length]},`cell-${O}`))}),a.jsx(Mi,{formatter:T=>[`${T.toLocaleString()} FCFA`,"Revenus"]})]})})})})]})]}),a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(cr,{children:"Produits les plus vendus"}),a.jsx(wn,{children:"Les produits les plus populaires sur votre plateforme"})]}),a.jsx(ue,{variant:"outline",size:"sm",children:"Voir tout"})]})}),a.jsx(Ut,{children:a.jsx("div",{className:"space-y-4",children:A?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("p",{children:"Chargement des produits..."})}):p?.length>0?p.map((T,O)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:O+1})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:T.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.category," • ",T.orders," ventes"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium",children:["$",T.revenue.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-end",children:[T.change>=0?a.jsx(Oue,{className:"h-3 w-3 text-green-500 mr-1"}):a.jsx(kue,{className:"h-3 w-3 text-red-500 mr-1"}),a.jsxs("span",{className:`text-xs ${T.change>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(T.change),"%"]})]})]})]},T.id)):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx($g,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Aucune donnée disponible"})]})})})]})]})}const Xi={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",IGNORED:"ignored"},js={LISTING:"listing",COMMENT:"comment",USER:"user",REVIEW:"review"},Eze=({level:e})=>{const t=()=>{switch(e){case"low":return"outline";case"medium":return"warning";case"high":return"destructive";default:return"outline"}},r=()=>{switch(e){case"low":return"Faible";case"medium":return"Moyen";case"high":return"Élevé";default:return e}};return a.jsx(yt,{variant:t(),children:r()})},Pze=({status:e})=>{const t=()=>{switch(e){case Xi.PENDING:return"warning";case Xi.APPROVED:return"success";case Xi.REJECTED:return"destructive";case Xi.IGNORED:return"outline";default:return"outline"}},r=()=>{switch(e){case Xi.PENDING:return"En attente";case Xi.APPROVED:return"Approuvé";case Xi.REJECTED:return"Rejeté";case Xi.IGNORED:return"Ignoré";default:return e}};return a.jsx(yt,{variant:t(),children:r()})},Tze=({type:e})=>{const t=()=>{switch(e){case js.LISTING:return a.jsx(Wd,{className:"h-3 w-3"});case js.COMMENT:return a.jsx(es,{className:"h-3 w-3"});case js.USER:return a.jsx(Ji,{className:"h-3 w-3"});case js.REVIEW:return a.jsx(Ha,{className:"h-3 w-3"});default:return a.jsx(Zn,{className:"h-3 w-3"})}},r=()=>{switch(e){case js.LISTING:return"Annonce";case js.COMMENT:return"Commentaire";case js.USER:return"Utilisateur";case js.REVIEW:return"Avis";default:return e}};return a.jsxs(yt,{variant:"outline",className:"flex items-center gap-1",children:[t(),r()]})};function Aze(){const e=Fo(),[t,r]=x.useState(""),[n,i]=x.useState("all"),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[u,f]=x.useState("created_at"),[p,g]=x.useState("desc"),[v,w]=x.useState(1),[y,_]=x.useState(10),[S,N]=x.useState(new Set),[C,k]=x.useState(null),[A,T]=x.useState(!1),[O,I]=x.useState(null),{data:q,isLoading:Z,isError:V}=Gn({queryKey:["moderation","reports",{searchTerm:t,statusFilter:n,typeFilter:s,severityFilter:l,sortBy:u,sortOrder:p,page:v,perPage:y}],queryFn:async()=>(await Hr.getAllListings({status:"pending"})).map(J=>({id:J.id,type:js.LISTING,content:J,reporter:{id:"system",name:"Système",email:"system@maximarket.com"},reason:"Annonce en attente de modération",description:"Cette annonce nécessite une vérification avant publication",severity:"medium",status:Xi.PENDING,createdAt:J.created_at,updatedAt:J.updated_at}))}),{data:U}=Gn({queryKey:["moderation","stats"],queryFn:async()=>{const ne=await Hr.getAllListings();return await $a.getAllUsers(),{totalReports:ne.filter(J=>J.status==="pending").length,pendingReports:ne.filter(J=>J.status==="pending").length,resolvedReports:ne.filter(J=>J.status==="approved"||J.status==="rejected").length,averageResponseTime:"2h",topReportedTypes:[{type:"listing",count:ne.filter(J=>J.status==="pending").length},{type:"user",count:0},{type:"comment",count:0}]}}}),{mutate:z,isLoading:H}=ii({mutationFn:({reportId:ne,action:J,reason:oe})=>console.log(`Moderating report ${ne} with action: ${J}, reason: ${oe}`),onSuccess:()=>{e.invalidateQueries(["moderation","reports"]),e.invalidateQueries(["moderation","stats"]),k(null),T(!1)},onError:ne=>{console.error("Error moderating content:",ne)}}),re=ne=>{N(J=>{const oe=new Set(J);return oe.has(ne)?oe.delete(ne):oe.add(ne),oe})},se=(ne,J)=>{k(ne),I(J),(J==="approve"||J==="reject"||J==="ignore"||J==="delete")&&T(!0)},W=()=>{if(!C||!O)return;let ne=O,J="";O==="reject"?J="Contenu inapproprié":O==="delete"&&(J="Suppression demandée"),z({reportId:C,action:ne,reason:J})},Q=ne=>{switch(ne){case"approve":return"default";case"reject":return"destructive";case"ignore":return"outline";case"delete":return"destructive";default:return"outline"}},Y=ne=>{switch(ne){case"approve":return"Approuver";case"reject":return"Rejeter";case"ignore":return"Ignorer";case"delete":return"Supprimer";default:return ne}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modération"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les signalements et le contenu inapproprié"})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"rounded-lg border bg-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements en attente"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.pendingReports||0})]}),a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Bg,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements aujourd'hui"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.today||0})]}),a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Bg,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:U?.todayChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[U?.todayChange>=0?"↑":"↓"," ",Math.abs(U?.todayChange||0),"%"]})," ","vs hier"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de modération"}),a.jsxs("p",{className:"text-2xl font-bold",children:[U?.moderationRate||0,"%"]})]}),a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(iv,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[U?.moderatedToday||0," modérations aujourd'hui"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contenu supprimé"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.removedContent||0})]}),a.jsx("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/50",children:a.jsx(ko,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[U?.removedThisMonth||0," ce mois-ci"]})]})]}),a.jsxs(QO,{defaultValue:"reports",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(b_,{children:[a.jsx(Oi,{value:"reports",children:"Signalements"}),a.jsx(Oi,{value:"logs",children:"Journal de modération"}),a.jsx(Oi,{value:"settings",children:"Paramètres"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(rs,{className:"mr-2 h-4 w-4"}),"Filtres"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),a.jsxs(Ri,{value:"reports",className:"space-y-4",children:[a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher...",className:"pl-8",value:t,onChange:ne=>r(ne.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Pr,{value:n,onValueChange:i,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les statuts"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:Xi.PENDING,children:"En attente"}),a.jsx(Ge,{value:Xi.APPROVED,children:"Approuvé"}),a.jsx(Ge,{value:Xi.REJECTED,children:"Rejeté"}),a.jsx(Ge,{value:Xi.IGNORED,children:"Ignoré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type de contenu"}),a.jsxs(Pr,{value:s,onValueChange:o,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les types"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:js.LISTING,children:"Annonces"}),a.jsx(Ge,{value:js.COMMENT,children:"Commentaires"}),a.jsx(Ge,{value:js.USER,children:"Utilisateurs"}),a.jsx(Ge,{value:js.REVIEW,children:"Avis"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Gravité"}),a.jsxs(Pr,{value:l,onValueChange:c,children:[a.jsx(Cr,{children:a.jsx(Tr,{placeholder:"Tous les niveaux"})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les niveaux"}),a.jsx(Ge,{value:"low",children:"Faible"}),a.jsx(Ge,{value:"medium",children:"Moyen"}),a.jsx(Ge,{value:"high",children:"Élevé"})]})]})]})]})}),a.jsx("div",{className:"rounded-md border bg-card",children:a.jsxs(qp,{children:[a.jsx(Up,{children:a.jsxs(rn,{children:[a.jsx(ur,{children:"Contenu"}),a.jsx(ur,{children:"Type"}),a.jsx(ur,{children:"Gravité"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Date"}),a.jsx(ur,{children:"Actions"})]})}),a.jsx(Vp,{children:Z?a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):V?a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(Zn,{className:"h-5 w-5 mr-2"}),"Erreur lors du chargement des signalements"]})})}):q?.length===0?a.jsx(rn,{children:a.jsx(Ot,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[a.jsx(Bg,{className:"h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucun signalement trouvé"}),a.jsx("p",{className:"text-sm",children:"Il n'y a pas de signalements correspondant à vos critères."})]})})}):q?.map(ne=>a.jsxs(rn,{children:[a.jsx(Ot,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>re(ne.id),children:S.has(ne.id)?a.jsx(_d,{className:"h-4 w-4"}):a.jsx(jl,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ne.content.title||"Contenu signalé"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Par ",ne.reporter?.name||"Utilisateur anonyme"]})]})]}),S.has(ne.id)&&a.jsxs("div",{className:"ml-8 p-3 bg-muted rounded-md",children:[a.jsx("p",{className:"text-sm",children:ne.reason}),ne.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:ne.description})]})]})}),a.jsx(Ot,{children:a.jsx(Tze,{type:ne.type})}),a.jsx(Ot,{children:a.jsx(Eze,{level:ne.severity})}),a.jsx(Ot,{children:a.jsx(Pze,{status:ne.status})}),a.jsx(Ot,{children:a.jsx(yh,{children:a.jsxs(yo,{children:[a.jsx(xo,{children:a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Wa,{className:"h-4 w-4 mr-1"}),A9(new Date(ne.createdAt),{addSuffix:!0,locale:Kp})]})}),a.jsx(Ma,{children:new Date(ne.createdAt).toLocaleString("fr-FR")})]})})}),a.jsx(Ot,{children:a.jsxs("div",{className:"flex space-x-1",children:[ne.status===Xi.PENDING&&a.jsxs(a.Fragment,{children:[a.jsx(yh,{children:a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"approve"),disabled:H,children:a.jsx(iv,{className:"h-4 w-4"})})}),a.jsx(Ma,{children:"Approuver"})]})}),a.jsx(yh,{children:a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"reject"),disabled:H,children:a.jsx(Ms,{className:"h-4 w-4"})})}),a.jsx(Ma,{children:"Rejeter"})]})}),a.jsx(yh,{children:a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"ignore"),disabled:H,children:a.jsx(zue,{className:"h-4 w-4"})})}),a.jsx(Ma,{children:"Ignorer"})]})})]}),a.jsx(yh,{children:a.jsxs(yo,{children:[a.jsx(xo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"delete"),disabled:H,children:a.jsx(ko,{className:"h-4 w-4"})})}),a.jsx(Ma,{children:"Supprimer"})]})})]})})]},ne.id))})]})}),q?.pagination&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Affichage de ",(v-1)*y+1," à ",Math.min(v*y,q.pagination.total)," sur ",q.pagination.total," signalements"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(1),disabled:v===1,children:a.jsx(oy,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(v-1),disabled:v===1,children:a.jsx(Ua,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Page ",v," sur ",q.pagination.totalPages]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(v+1),disabled:v===q.pagination.totalPages,children:a.jsx(Va,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(q.pagination.totalPages),disabled:v===q.pagination.totalPages,children:a.jsx(ly,{className:"h-4 w-4"})})]})]})]}),a.jsx(Ri,{value:"logs",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Journal de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Historique des actions de modération effectuées"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Wa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Journal de modération à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"L'historique des actions de modération sera disponible prochainement."})]})})]})}),a.jsx(Ri,{value:"settings",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Paramètres de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurez les règles et seuils de modération"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Kd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Paramètres à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les paramètres de modération seront disponibles prochainement."})]})})]})})]}),a.jsx(yK,{open:A,onOpenChange:T,children:a.jsxs(kR,{children:[a.jsxs(OR,{children:[a.jsx(MR,{children:"Confirmer l'action"}),a.jsxs(IR,{children:["Êtes-vous sûr de vouloir ",Y(O)?.toLowerCase()," ce signalement ? Cette action ne peut pas être annulée."]})]}),a.jsxs(RR,{children:[a.jsx(DR,{children:"Annuler"}),a.jsx(bK,{onClick:W,className:Q(O)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:Y(O)})]})]})})]})}In({first_name:St().min(2,"Le prénom doit contenir au moins 2 caractères").max(50,"Le prénom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le prénom ne peut contenir que des lettres, espaces, tirets et apostrophes"),last_name:St().min(2,"Le nom doit contenir au moins 2 caractères").max(50,"Le nom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes"),email:St().email("Format d'email invalide").min(5,"L'email doit contenir au moins 5 caractères").max(100,"L'email ne peut pas dépasser 100 caractères"),phone_number:St().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide (ex: +221 77 123 4567)").optional().nullable(),role:cn(["user","vendor","admin","moderator"],{errorMap:()=>({message:"Rôle invalide"})}),status:cn(["active","inactive","suspended","pending"],{errorMap:()=>({message:"Statut invalide"})}),is_verified:vn().optional(),profile_image:St().url("URL d'image invalide").optional().nullable()});In({title:St().min(10,"Le titre doit contenir au moins 10 caractères").max(255,"Le titre ne peut pas dépasser 255 caractères"),description:St().min(20,"La description doit contenir au moins 20 caractères").max(2e3,"La description ne peut pas dépasser 2000 caractères"),price:wi().min(0,"Le prix ne peut pas être négatif").max(1e9,"Le prix ne peut pas dépasser 1 milliard"),category:cn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Catégorie invalide"})}),subcategory:St().min(2,"La sous-catégorie doit contenir au moins 2 caractères").max(100,"La sous-catégorie ne peut pas dépasser 100 caractères").optional(),status:cn(["pending","approved","rejected","expired"],{errorMap:()=>({message:"Statut invalide"})}),images:cb(St().url("URL d'image invalide")).min(1,"Au moins une image est requise").max(10,"Maximum 10 images autorisées"),location:In({city:St().min(2,"Ville requise"),country:St().min(2,"Pays requis"),address:St().optional(),coordinates:In({lat:wi().min(-90).max(90).optional(),lng:wi().min(-180).max(180).optional()}).optional()}),contact_info:In({phone:St().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),email:St().email("Format d'email invalide"),website:St().url("URL invalide").optional()}),real_estate_details:In({type:cn(["appartement","maison","terrain","bureau","commerce"]),rooms:St().min(1,"Nombre de pièces requis"),surface:St().min(1,"Surface requise"),amenities:cb(St()).optional()}).optional(),automobile_details:In({brand:St().min(2,"Marque requise"),model:St().min(2,"Modèle requis"),year:wi().min(1900).max(new Date().getFullYear()+1,"Année invalide"),mileage:wi().min(0,"Kilométrage invalide").optional(),transmission:cn(["manuelle","automatique"]).optional(),fuel:cn(["essence","diesel","électrique","hybride"]).optional()}).optional(),service_details:In({expertise:St().min(2,"Expertise requise"),experience:St().min(2,"Expérience requise"),availability:St().min(2,"Disponibilité requise"),verified:vn().optional(),certifications:cb(St()).optional()}).optional(),product_details:In({brand:St().min(2,"Marque requise"),model:St().min(2,"Modèle requis"),condition:cn(["neuf","excellent","bon","moyen","usé"]),warranty:St().optional(),dimensions:St().optional(),weight:St().optional()}).optional()});const M2=In({name:St().min(2,"Le nom doit contenir au moins 2 caractères").max(100,"Le nom ne peut pas dépasser 100 caractères").regex(/^[a-zA-ZÀ-ÿ0-9\s'-]+$/,"Le nom ne peut contenir que des lettres, chiffres, espaces, tirets et apostrophes"),slug:St().min(2,"Le slug doit contenir au moins 2 caractères").max(100,"Le slug ne peut pas dépasser 100 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),parent_category:cn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Type parent invalide"})}),description:St().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),icon:St().min(1,"L'icône est requise").max(50,"L'icône ne peut pas dépasser 50 caractères").optional(),sort_order:wi().int("L'ordre de tri doit être un nombre entier").min(0,"L'ordre de tri ne peut pas être négatif").max(999,"L'ordre de tri ne peut pas dépasser 999").optional(),is_active:vn().optional()});In({reference:St().min(5,"La référence doit contenir au moins 5 caractères").max(50,"La référence ne peut pas dépasser 50 caractères").regex(/^[A-Z0-9-]+$/,"La référence ne peut contenir que des lettres majuscules, chiffres et tirets"),type:cn(["purchase","rental","service","transfer"],{errorMap:()=>({message:"Type de transaction invalide"})}),amount:wi().positive("Le montant doit être positif").max(1e9,"Le montant ne peut pas dépasser 1 milliard"),currency:cn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),status:cn(["pending","completed","cancelled","failed"],{errorMap:()=>({message:"Statut invalide"})}),payment_method:cn(["mobile_money","bank_transfer","cash","card"],{errorMap:()=>({message:"Méthode de paiement invalide"})}).optional(),description:St().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),expires_at:xA().optional(),metadata:fCe(dCe()).optional()});In({reason:St().min(10,"La raison doit contenir au moins 10 caractères").max(200,"La raison ne peut pas dépasser 200 caractères"),description:St().min(20,"La description doit contenir au moins 20 caractères").max(1e3,"La description ne peut pas dépasser 1000 caractères").optional(),type:cn(["listing","comment","user","review"],{errorMap:()=>({message:"Type de rapport invalide"})}),severity:cn(["low","medium","high"],{errorMap:()=>({message:"Sévérité invalide"})}),status:cn(["pending","investigating","resolved","dismissed"],{errorMap:()=>({message:"Statut invalide"})}),moderator_notes:St().max(500,"Les notes ne peuvent pas dépasser 500 caractères").optional()});In({general:In({siteName:St().min(2,"Nom du site requis"),siteDescription:St().min(10,"Description du site requise"),contactEmail:St().email("Email de contact invalide"),supportPhone:St().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),timezone:St().min(1,"Fuseau horaire requis"),currency:cn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),language:cn(["fr","en"],{errorMap:()=>({message:"Langue invalide"})})}),appearance:In({theme:cn(["light","dark","auto"],{errorMap:()=>({message:"Thème invalide"})}),primaryColor:St().regex(/^#[0-9A-Fa-f]{6}$/,"Couleur hexadécimale invalide"),logoUrl:St().url("URL du logo invalide").optional(),faviconUrl:St().url("URL du favicon invalide").optional(),enableAnimations:vn(),enableGradients:vn()}),notifications:In({emailNotifications:vn(),pushNotifications:vn(),smsNotifications:vn(),adminAlerts:vn(),userWelcome:vn(),listingApproval:vn(),transactionUpdates:vn()}),security:In({requireEmailVerification:vn(),requirePhoneVerification:vn(),twoFactorAuth:vn(),sessionTimeout:wi().min(1).max(168),maxLoginAttempts:wi().min(3).max(10),passwordMinLength:wi().min(6).max(20),enableCaptcha:vn()}),system:In({maintenanceMode:vn(),debugMode:vn(),enableLogs:vn(),backupFrequency:cn(["hourly","daily","weekly","monthly"]),maxFileSize:wi().min(1).max(100),allowedFileTypes:cb(St()),enableCaching:vn(),cacheTTL:wi().min(60).max(86400)})});In({searchTerm:St().max(100,"Terme de recherche trop long").optional(),status:cn(["all","active","inactive","pending","approved","rejected"]).optional(),category:St().optional(),dateFrom:xA().optional(),dateTo:xA().optional(),minPrice:wi().min(0).optional(),maxPrice:wi().min(0).optional(),sortBy:St().optional(),sortOrder:cn(["asc","desc"]).optional(),page:wi().int().min(1).optional(),perPage:wi().int().min(1).max(100).optional()});const I2=(e,t)=>{try{return{success:!0,data:e.parse(t),errors:null}}catch(r){return r instanceof Ro?{success:!1,data:null,errors:r.errors.reduce((i,s)=>{const o=s.path.join(".");return i[o]=s.message,i},{})}:{success:!1,data:null,errors:{general:"Erreur de validation inconnue"}}}};function kze(){const{toast:e}=Cn(),t=Fo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("name"),[f,p]=x.useState("asc"),[g,v]=x.useState(1),[w,y]=x.useState(10),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[k,A]=x.useState(null),[T,O]=x.useState({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0}),[I,q]=x.useState({}),{getFieldError:Z,hasFieldError:V,clearFieldError:U}=$Ne(I),{data:z,isLoading:H,isError:re}=Gn({queryKey:["adminCategories",{searchTerm:r,typeFilter:i,statusFilter:o,sortBy:c,sortOrder:f,page:g,perPage:w}],queryFn:async()=>await bg.getAllCategories()}),se=ii({mutationFn:Ne=>bg.createCategory(Ne),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),S(!1),De(),e({title:"Succès",description:"Catégorie créée avec succès"})},onError:Ne=>{e({title:"Erreur",description:Ne.message||"Une erreur est survenue",variant:"destructive"})}}),W=ii({mutationFn:({id:Ne,data:ot})=>bg.updateCategory(Ne,ot),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),C(!1),A(null),De(),e({title:"Succès",description:"Catégorie mise à jour avec succès"})},onError:Ne=>{e({title:"Erreur",description:Ne.message||"Une erreur est survenue",variant:"destructive"})}}),Q=ii({mutationFn:Ne=>bg.deleteCategory(Ne),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),e({title:"Succès",description:"Catégorie supprimée avec succès"})},onError:Ne=>{e({title:"Erreur",description:Ne.message||"Une erreur est survenue",variant:"destructive"})}}),Y=Ne=>{n(Ne.target.value),v(1)},ne=Ne=>{c===Ne?p(f==="asc"?"desc":"asc"):(u(Ne),p("asc"))},J=Ne=>{v(Ne)},oe=Ne=>{y(Ne),v(1)},be=Ne=>{A(Ne),O({name:Ne.name,slug:Ne.slug,parent_category:Ne.parent_category,description:Ne.description||"",icon:Ne.icon||"",sort_order:Ne.sort_order||0}),q({}),C(!0)},Ce=()=>{De(),q({}),S(!0)},De=()=>{O({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0})},ce=Ne=>{Ne.preventDefault();const ot=I2(M2,T);if(!ot.success){Object.values(ot.errors).forEach(It=>{e({title:"Erreur de validation",description:It,variant:"destructive"})});return}k?W.mutate({id:k.id,data:ot.data}):se.mutate(ot.data)},ae=Ne=>{Q.mutate(Ne)},ge=()=>{try{if(!z||z.length===0){e({title:"Aucune donnée",description:"Aucune catégorie à exporter",variant:"destructive"});return}v_.categories(z,"categories-maximarket"),e({title:"Export réussi",description:"Liste des catégories exportée en CSV"})}catch(Ne){e({title:"Erreur d'export",description:Ne.message||"Impossible d'exporter les données",variant:"destructive"})}},he=z?z.filter(Ne=>!(r&&!Ne.name.toLowerCase().includes(r.toLowerCase())||i!=="all"&&Ne.parent_category!==i||o!=="all"&&Ne.is_active!==(o==="active"))).sort((Ne,ot)=>{let It=Ne[c],fe=ot[c];return typeof It=="string"&&(It=It.toLowerCase(),fe=fe.toLowerCase()),f==="asc"?It>fe?1:-1:It<fe?1:-1}):[],Pe=Math.ceil(he.length/w),ee=(g-1)*w,G=ee+w,we=he.slice(ee,G),xe=Ne=>Ne.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),Ve=Ne=>{O(It=>({...It,name:Ne,slug:xe(Ne)}));const ot=I2(M2,{...T,name:Ne});ot.success?U("name",q):q(It=>({...It,name:ot.errors.name}))},qe=(Ne,ot)=>{const It={...T,[Ne]:ot},fe=I2(M2,It);!fe.success&&fe.errors[Ne]?q(_e=>({..._e,[Ne]:fe.errors[Ne]})):U(Ne,q)};return H?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):re?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des catégories"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gérez les catégories et sous-catégories de votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{onClick:()=>ge(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:Ce,className:"bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700",children:[a.jsx(cu,{className:"mr-2 h-4 w-4"}),"Nouvelle Catégorie"]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"search",children:"Recherche"}),a.jsx(tt,{id:"search",placeholder:"Rechercher une catégorie...",value:r,onChange:Y,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"typeFilter",children:"Type"}),a.jsxs(Pr,{value:i,onValueChange:s,children:[a.jsx(Cr,{className:"mt-1",children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"statusFilter",children:"Statut"}),a.jsxs(Pr,{value:o,onValueChange:l,children:[a.jsx(Cr,{className:"mt-1",children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"active",children:"Actif"}),a.jsx(Ge,{value:"inactive",children:"Inactif"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"perPage",children:"Par page"}),a.jsxs(Pr,{value:w.toString(),onValueChange:Ne=>oe(parseInt(Ne)),children:[a.jsx(Cr,{className:"mt-1",children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"10",children:"10"}),a.jsx(Ge,{value:"25",children:"25"}),a.jsx(Ge,{value:"50",children:"50"})]})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(qp,{children:[a.jsx(Up,{children:a.jsxs(rn,{children:[a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("name"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Nom",c==="name"&&(f==="asc"?a.jsx(_d,{className:"h-4 w-4"}):a.jsx(jl,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("parent_category"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Type",c==="parent_category"&&(f==="asc"?a.jsx(_d,{className:"h-4 w-4"}):a.jsx(jl,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:"Slug"}),a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("sort_order"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Ordre",c==="sort_order"&&(f==="asc"?a.jsx(_d,{className:"h-4 w-4"}):a.jsx(jl,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Actions"})]})}),a.jsx(Vp,{children:we.map(Ne=>a.jsxs(rn,{children:[a.jsx(Ot,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[Ne.icon&&a.jsx("span",{className:"text-lg",children:Ne.icon}),Ne.name]})}),a.jsx(Ot,{children:a.jsxs(yt,{variant:"outline",children:[Ne.parent_category==="real_estate"&&"Immobilier",Ne.parent_category==="automobile"&&"Automobile",Ne.parent_category==="services"&&"Services",Ne.parent_category==="marketplace"&&"Marketplace"]})}),a.jsx(Ot,{className:"font-mono text-sm text-gray-500",children:Ne.slug}),a.jsx(Ot,{children:Ne.sort_order||0}),a.jsx(Ot,{children:a.jsx(yt,{variant:Ne.is_active?"success":"secondary",children:Ne.is_active?"Actif":"Inactif"})}),a.jsx(Ot,{children:a.jsxs(ky,{children:[a.jsx(Oy,{asChild:!0,children:a.jsx(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(Ud,{className:"h-4 w-4"})})}),a.jsxs($p,{align:"end",children:[a.jsxs(_n,{onClick:()=>be(Ne),children:[a.jsx(VO,{className:"mr-2 h-4 w-4"}),"Modifier"]}),a.jsx(Fp,{}),a.jsxs(_n,{onClick:()=>ae(Ne.id),className:"text-red-600",children:[a.jsx(ko,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},Ne.id))})]})}),Pe>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de ",ee+1," à ",Math.min(G,he.length)," sur ",he.length," résultats"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(1),disabled:g===1,children:a.jsx(oy,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(g-1),disabled:g===1,children:a.jsx(Ua,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",g," sur ",Pe]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(g+1),disabled:g===Pe,children:a.jsx(Va,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(Pe),disabled:g===Pe,children:a.jsx(ly,{className:"h-4 w-4"})})]})]})]}),a.jsx(bF,{open:_,onOpenChange:S,children:a.jsxs(qT,{className:"sm:max-w-[500px]",children:[a.jsxs(UT,{children:[a.jsx(WT,{children:"Créer une nouvelle catégorie"}),a.jsx(HT,{children:"Remplissez les informations pour créer une nouvelle catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"name",children:"Nom *"}),a.jsx(tt,{id:"name",value:T.name,onChange:Ne=>Ve(Ne.target.value),onBlur:Ne=>qe("name",Ne.target.value),placeholder:"Nom de la catégorie",required:!0,className:V("name")?"border-red-500 focus:border-red-500":""}),a.jsx(T0,{error:Z("name")})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"slug",children:"Slug *"}),a.jsx(tt,{id:"slug",value:T.slug,onChange:Ne=>O(ot=>({...ot,slug:Ne.target.value})),onBlur:Ne=>qe("slug",Ne.target.value),placeholder:"slug-categorie",required:!0,className:V("slug")?"border-red-500 focus:border-red-500":""}),a.jsx(T0,{error:Z("slug")})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"parent_category",children:"Type parent *"}),a.jsxs(Pr,{value:T.parent_category,onValueChange:Ne=>O(ot=>({...ot,parent_category:Ne})),children:[a.jsx(Cr,{children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"description",children:"Description"}),a.jsx(Id,{id:"description",value:T.description,onChange:Ne=>O(ot=>({...ot,description:Ne.target.value})),onBlur:Ne=>qe("description",Ne.target.value),placeholder:"Description de la catégorie",rows:3,className:V("description")?"border-red-500 focus:border-red-500":""}),a.jsx(T0,{error:Z("description")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"icon",children:"Icône"}),a.jsx(tt,{id:"icon",value:T.icon,onChange:Ne=>O(ot=>({...ot,icon:Ne.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"sort_order",type:"number",value:T.sort_order,onChange:Ne=>O(ot=>({...ot,sort_order:parseInt(Ne.target.value)||0})),onBlur:Ne=>qe("sort_order",parseInt(Ne.target.value)||0),placeholder:"0",className:V("sort_order")?"border-red-500 focus:border-red-500":""}),a.jsx(T0,{error:Z("sort_order")})]})]}),a.jsxs(VT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:se.isLoading,children:se.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_T,{className:"mr-2 h-4 w-4"}),"Créer"]})})]})]})]})}),a.jsx(bF,{open:N,onOpenChange:C,children:a.jsxs(qT,{className:"sm:max-w-[500px]",children:[a.jsxs(UT,{children:[a.jsx(WT,{children:"Modifier la catégorie"}),a.jsx(HT,{children:"Modifiez les informations de la catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-name",children:"Nom *"}),a.jsx(tt,{id:"edit-name",value:T.name,onChange:Ne=>Ve(Ne.target.value),placeholder:"Nom de la catégorie",required:!0})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-slug",children:"Slug *"}),a.jsx(tt,{id:"edit-slug",value:T.slug,onChange:Ne=>O(ot=>({...ot,slug:Ne.target.value})),placeholder:"slug-categorie",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-parent_category",children:"Type parent *"}),a.jsxs(Pr,{value:T.parent_category,onValueChange:Ne=>O(ot=>({...ot,parent_category:Ne})),children:[a.jsx(Cr,{children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-description",children:"Description"}),a.jsx(Id,{id:"edit-description",value:T.description,onChange:Ne=>O(ot=>({...ot,description:Ne.target.value})),placeholder:"Description de la catégorie",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-icon",children:"Icône"}),a.jsx(tt,{id:"edit-icon",value:T.icon,onChange:Ne=>O(ot=>({...ot,icon:Ne.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"edit-sort_order",type:"number",value:T.sort_order,onChange:Ne=>O(ot=>({...ot,sort_order:parseInt(Ne.target.value)||0})),placeholder:"0"})]})]}),a.jsxs(VT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:W.isLoading,children:W.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_T,{className:"mr-2 h-4 w-4"}),"Mettre à jour"]})})]})]})]})})]})}function Oze(){const{toast:e}=Cn(),[t,r]=x.useState(!1),[n,i]=x.useState(!1),{data:s,isLoading:o,error:l}=Gn({queryKey:["systemSettings"],queryFn:()=>dn.getSystemSettings(),staleTime:5*60*1e3}),[c,u]=x.useState({});x.useEffect(()=>{s&&u(s)},[s]),x.useEffect(()=>{Object.keys(c).length>0&&r(!0)},[c]);const f=(v,w,y)=>{u(_=>({..._,[v]:{..._[v],[w]:y}}))},p=async()=>{i(!0);try{await dn.updateSystemSettings(c),r(!1),e({title:"Succès",description:"Paramètres sauvegardés avec succès"})}catch(v){e({title:"Erreur",description:v.message||"Erreur lors de la sauvegarde",variant:"destructive"})}finally{i(!1)}},g=async()=>{try{await dn.resetToDefaults();const v=await dn.getSystemSettings();u(v),r(!1),e({title:"Réinitialisation",description:"Paramètres réinitialisés aux valeurs par défaut"})}catch(v){e({title:"Erreur",description:v.message||"Erreur lors de la réinitialisation",variant:"destructive"})}};return o?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):!c||Object.keys(c).length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des paramètres"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Paramètres Système"}),a.jsx("p",{className:"text-gray-600",children:"Configurez votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{variant:"outline",onClick:g,children:[a.jsx(Vd,{className:"mr-2 h-4 w-4"}),"Réinitialiser"]}),a.jsx(ue,{onClick:p,disabled:!t||n,children:n?"Sauvegarde...":a.jsxs(a.Fragment,{children:[a.jsx(_T,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]})]}),t&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zn,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-blue-800 font-medium",children:"Modifications non sauvegardées"})]})}),a.jsxs(QO,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(b_,{className:"grid w-full grid-cols-4",children:[a.jsx(Oi,{value:"general",children:"Général"}),a.jsx(Oi,{value:"appearance",children:"Apparence"}),a.jsx(Oi,{value:"notifications",children:"Notifications"}),a.jsx(Oi,{value:"security",children:"Sécurité"})]}),a.jsx(Ri,{value:"general",children:a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsx(cr,{children:"Informations du site"})}),a.jsxs(Ut,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Nom du site"}),a.jsx(tt,{value:c.general.siteName,onChange:v=>f("general","siteName",v.target.value)})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Email de contact"}),a.jsx(tt,{value:c.general.contactEmail,onChange:v=>f("general","contactEmail",v.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Fuseau horaire"}),a.jsxs(Pr,{value:c.general.timezone,onValueChange:v=>f("general","timezone",v),children:[a.jsx(Cr,{children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"Africa/Dakar",children:"Dakar (GMT+0)"}),a.jsx(Ge,{value:"Africa/Lagos",children:"Lagos (GMT+1)"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Devise"}),a.jsxs(Pr,{value:c.general.currency,onValueChange:v=>f("general","currency",v),children:[a.jsx(Cr,{children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"XOF",children:"XOF (Franc CFA)"}),a.jsx(Ge,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]})]})}),a.jsx(Ri,{value:"appearance",children:a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsx(cr,{children:"Thème et apparence"})}),a.jsx(Ut,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Thème"}),a.jsxs(Pr,{value:c.appearance.theme,onValueChange:v=>f("appearance","theme",v),children:[a.jsx(Cr,{children:a.jsx(Tr,{})}),a.jsxs(Er,{children:[a.jsx(Ge,{value:"light",children:"Clair"}),a.jsx(Ge,{value:"dark",children:"Sombre"}),a.jsx(Ge,{value:"auto",children:"Auto"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Couleur principale"}),a.jsx(tt,{type:"color",value:c.appearance.primaryColor,onChange:v=>f("appearance","primaryColor",v.target.value),className:"w-full h-10"})]})]})})]})}),a.jsx(Ri,{value:"notifications",children:a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsx(cr,{children:"Configuration des notifications"})}),a.jsx(Ut,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications par email"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),a.jsx(Sg,{checked:c.notifications.emailNotifications,onCheckedChange:v=>f("notifications","emailNotifications",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications push"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Notifications push dans le navigateur"})]}),a.jsx(Sg,{checked:c.notifications.pushNotifications,onCheckedChange:v=>f("notifications","pushNotifications",v)})]})]})})]})}),a.jsx(Ri,{value:"security",children:a.jsxs(zt,{children:[a.jsx(lr,{children:a.jsx(cr,{children:"Sécurité et authentification"})}),a.jsx(Ut,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Vérification email obligatoire"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vérifier leur email"})]}),a.jsx(Sg,{checked:c.security.requireEmailVerification,onCheckedChange:v=>f("security","requireEmailVerification",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Activer le captcha"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Protection contre les bots"})]}),a.jsx(Sg,{checked:c.security.enableCaptcha,onCheckedChange:v=>f("security","enableCaptcha",v)})]})]})})]})})]})]})}const Rze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsxs(Re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center max-w-lg",children:[a.jsx("h1",{className:"text-9xl font-bold gradient-text mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Page non trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"La page que vous recherchez n'existe pas ou a été déplacée."}),a.jsx(ue,{asChild:!0,size:"lg",children:a.jsxs(ir,{to:"/",children:[a.jsx(Uh,{className:"mr-2 h-4 w-4"}),"Retour à l'accueil"]})})]}),a.jsx("div",{className:"absolute top-1/3 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl"})]}),Mze=()=>{const e=[{icon:a.jsx(Yue,{className:"h-8 w-8 text-primary"}),title:"Innovation Continue",description:"Nous repoussons constamment les limites pour offrir des solutions de pointe."},{icon:a.jsx(g_,{className:"h-8 w-8 text-primary"}),title:"Confiance & Sécurité",description:"La sécurité de vos transactions et de vos données est notre priorité absolue."},{icon:a.jsx(za,{className:"h-8 w-8 text-primary"}),title:"Approche Communautaire",description:"Nous construisons une plateforme pour et avec la communauté ouest-africaine."},{icon:a.jsx(Wue,{className:"h-8 w-8 text-primary"}),title:"Impact Local Positif",description:"Nous visons à dynamiser l'économie locale et à créer des opportunités."}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-16",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["À Propos de ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:[nr.tagline,". Notre mission est de révolutionner le commerce en ligne en Afrique de l'Ouest grâce à une technologie innovante et une approche centrée sur l'utilisateur."]})]}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs(Re.section,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"mb-20 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[a.jsx(bT,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Histoire"]}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Fondée avec la vision de simplifier et de sécuriser les échanges commerciaux en Afrique de l'Ouest, ",nr.siteName," est née d'une passion pour la technologie et d'un engagement profond envers le développement économique de la région. Nous avons identifié un besoin crucial pour une plateforme unifiée, moderne et fiable, capable de connecter acheteurs et vendeurs de manière transparente."]}),a.jsxs("p",{className:"text-muted-foreground",children:["Depuis nos débuts, nous avons travaillé sans relâche pour construire une marketplace qui non seulement répond aux besoins actuels, mais anticipe également les tendances futures du commerce électronique. Notre équipe est composée d'experts locaux et internationaux, tous unis par l'objectif de faire de ",nr.siteName," le leader incontesté du marché."]})]}),a.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden shadow-2xl",children:[a.jsx("img",{className:"w-full h-full object-cover",alt:"Équipe MaxiMarket travaillant ensemble",src:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})]}),a.jsx(uv,{className:"my-20"}),a.jsxs(Re.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-20 text-center",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-10 flex items-center justify-center",children:[a.jsx(pde,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Mission & Vision"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Mission"}),a.jsx("p",{className:"text-muted-foreground",children:"Connecter l'Afrique de l'Ouest au futur du commerce en fournissant une plateforme marketplace innovante, sécurisée et accessible à tous. Nous nous engageons à autonomiser les individus et les entreprises en facilitant les transactions et en stimulant la croissance économique locale."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Vision"}),a.jsx("p",{className:"text-muted-foreground",children:"Devenir la marketplace de référence en Afrique, reconnue pour son excellence technologique, son impact positif sur les communautés et sa contribution à un écosystème commercial numérique florissant et inclusif pour le continent."})]})]})]}),a.jsx(uv,{className:"my-20"}),a.jsxs(Re.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nos Valeurs Fondamentales"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>a.jsxs(Re.div,{className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors duration-300 glassmorphic-card",whileHover:{y:-5},children:[a.jsx("div",{className:"p-4 bg-primary/10 rounded-full inline-block mb-4",children:t.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},r))})]}),a.jsx("div",{className:"text-center mt-16",children:a.jsxs("p",{className:"text-lg text-muted-foreground",children:["Prêt à découvrir la différence ",nr.siteName," ? ",a.jsx("a",{href:"/",className:"text-primary font-semibold hover:underline",children:"Explorez notre plateforme dès maintenant."})]})})]})]})},Ize=()=>{const{toast:e}=Cn(),[t,r]=x.useState({name:"",email:"",subject:"",message:""}),[n,i]=x.useState(!1),s=l=>{const{name:c,value:u}=l.target;r(f=>({...f,[c]:u}))},o=l=>{l.preventDefault(),i(!0),setTimeout(()=>{console.log("Form submitted:",t),e({title:"Message envoyé !",description:"Merci pour votre message. Je vous répondrai dès que possible.",duration:5e3}),r({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return a.jsxs(Re.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:o,className:"space-y-6 gradient-border p-6 bg-card rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"name",children:"Nom"}),a.jsx(tt,{id:"name",name:"name",placeholder:"Votre nom",value:t.name,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsx(tt,{id:"email",name:"email",type:"email",placeholder:"votre@email.com",value:t.email,onChange:s,required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"subject",children:"Sujet"}),a.jsx(tt,{id:"subject",name:"subject",placeholder:"Sujet de votre message",value:t.subject,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"message",children:"Message"}),a.jsx(Id,{id:"message",name:"message",placeholder:"Votre message...",rows:6,value:t.message,onChange:s,required:!0})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:n,children:n?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(m_,{className:"mr-2 h-4 w-4"}),"Envoyer le message"]})})]})},Dze=()=>{const e=[{icon:a.jsx(lu,{className:"h-6 w-6"}),label:"Email",value:"contact@example.com",href:"mailto:contact@example.com"},{icon:a.jsx(Da,{className:"h-6 w-6"}),label:"Téléphone",value:"+33 6 12 34 56 78",href:"tel:+33612345678"},{icon:a.jsx(So,{className:"h-6 w-6"}),label:"Adresse",value:"Paris, France",href:"https://maps.google.com/?q=Paris,France"}],t=[{icon:a.jsx(Vue,{className:"h-6 w-6"}),label:"GitHub",href:"https://github.com"},{icon:a.jsx(x9,{className:"h-6 w-6"}),label:"Twitter",href:"https://twitter.com"},{icon:a.jsx(g9,{className:"h-6 w-6"}),label:"LinkedIn",href:"https://linkedin.com"}];return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Contactez ",a.jsx("span",{className:"gradient-text",children:"moi"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Vous avez un projet en tête ou une question ? N'hésitez pas à me contacter !"})]}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs(Re.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informations de contact"}),a.jsx("div",{className:"space-y-6",children:e.map((r,n)=>a.jsxs(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 p-4 rounded-lg glass-effect hover:border-primary transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:[a.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:r.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:r.label}),a.jsx("p",{className:"text-muted-foreground",children:r.value})]})]},n))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Réseaux sociaux"}),a.jsx("div",{className:"flex space-x-4",children:t.map((r,n)=>a.jsx(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer","aria-label":r.label,className:"p-4 rounded-full bg-secondary hover:bg-primary/20 transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:r.icon},n))})]}),a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden gradient-border",children:a.jsx("img",{className:"w-full h-full object-cover",alt:"Carte de localisation",src:"https://images.unsplash.com/photo-1569336415962-a4bd9f69c07a"})})]}),a.jsx(Re.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Envoyez un message"}),a.jsx(Ize,{})]})})]})})]})},Lze=()=>{const e=[{title:"Développeur Frontend Senior (React)",location:"Dakar, Sénégal (Hybride)",type:"Temps Plein",link:"#"},{title:"Chef de Produit Marketplace",location:"Abidjan, Côte d'Ivoire",type:"Temps Plein",link:"#"},{title:"Spécialiste Marketing Digital",location:"Lagos, Nigéria (Remote)",type:"Temps Plein",link:"#"},{title:"Responsable Service Client Bilingue",location:"Dakar, Sénégal",type:"Temps Plein",link:"#"}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[a.jsx(Pd,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Rejoignez l'Équipe ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Façonnez l'avenir du commerce en Afrique de l'Ouest avec nous. Découvrez nos opportunités de carrière passionnantes."})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16 bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-8 text-center flex items-center justify-center",children:["Pourquoi travailler chez ",nr.siteName," ?"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[a.jsxs("div",{className:"p-6",children:[a.jsx(UO,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Impact Significatif"}),a.jsx("p",{className:"text-muted-foreground",children:"Contribuez à un projet qui transforme réellement la vie des gens et l'économie locale."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(za,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Culture Collaborative"}),a.jsx("p",{className:"text-muted-foreground",children:"Rejoignez une équipe passionnée, diverse et solidaire où chaque voix compte."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(Pd,{className:"h-12 w-12 text-green-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Croissance et Apprentissage"}),a.jsx("p",{className:"text-muted-foreground",children:"Bénéficiez d'opportunités de développement professionnel continu et relevez des défis stimulants."})]})]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Postes Ouverts Actuellement"}),e.length>0?a.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:e.map((t,r)=>a.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*r+.5},className:"bg-card p-6 rounded-lg shadow-md border border-border hover:border-primary transition-colors flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-primary",children:t.title}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:[t.location," - ",t.type]})]}),a.jsx(ue,{asChild:!0,className:"mt-4 sm:mt-0 bg-primary hover:bg-primary/90",children:a.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:["Voir l'Offre ",a.jsx(wT,{className:"ml-2 h-4 w-4"})]})})]},r))}):a.jsx("p",{className:"text-center text-muted-foreground text-lg",children:"Nous n'avons pas de postes ouverts pour le moment, mais nous sommes toujours à la recherche de talents exceptionnels. N'hésitez pas à nous envoyer une candidature spontanée !"}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(ue,{variant:"outline",size:"lg",children:"Envoyer une Candidature Spontanée"})})]})]})},$ze=()=>{const e=[{id:1,title:"MaxiMarket révolutionne le e-commerce en Afrique de l'Ouest",date:"01 Juin 2025",description:"Lancement officiel de la plateforme marketplace innovante MaxiMarket.",pdfUrl:"#"},{id:2,title:"Partenariat stratégique avec PayDunya",date:"15 Mai 2025",description:"MaxiMarket s'associe à PayDunya pour faciliter les paiements en ligne.",pdfUrl:"#"}],t={logos:[{name:"Logo Principal",format:"PNG, SVG",size:"2MB",url:"#"},{name:"Logo Monochrome",format:"PNG, SVG",size:"1.5MB",url:"#"}],photos:[{name:"Photos de l'équipe",format:"JPG",size:"5MB",url:"#"},{name:"Interface utilisateur",format:"JPG",size:"3MB",url:"#"}]},r={name:"Service Relations Presse",email:"presse@maximarket.com",phone:"+221 77 123 45 67"};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(tde,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Espace ",a.jsx("span",{className:"gradient-text",children:"Presse"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Retrouvez toutes les actualités, ressources et informations pour la presse concernant ",nr.siteName,"."]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center",children:[a.jsx(Rue,{className:"h-6 w-6 mr-2 text-primary"}),"Derniers Communiqués de Presse"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(n=>a.jsxs(zt,{className:"hover:border-primary transition-colors",children:[a.jsxs(lr,{children:[a.jsx(cr,{children:n.title}),a.jsx(wn,{children:n.date})]}),a.jsxs(Ut,{children:[a.jsx("p",{className:"mb-4 text-muted-foreground",children:n.description}),a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:n.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"})," Télécharger le PDF"]})})]})]},n.id))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Kit Média"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Logos"}),a.jsx(wn,{children:"Téléchargez nos logos officiels"})]}),a.jsx(Ut,{children:a.jsx("ul",{className:"space-y-4",children:t.logos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(Ba,{className:"h-4 w-4"})})})]},i))})})]}),a.jsxs(zt,{children:[a.jsxs(lr,{children:[a.jsx(cr,{children:"Photos"}),a.jsx(wn,{children:"Photos officielles haute résolution"})]}),a.jsx(Ut,{children:a.jsx("ul",{className:"space-y-4",children:t.photos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(Ba,{className:"h-4 w-4"})})})]},i))})})]})]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"text-center bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Presse"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("p",{className:"font-medium text-lg mb-2",children:r.name}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Pour toute demande d'interview ou d'information complémentaire"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:`mailto:${r.email}`,children:[a.jsx(wT,{className:"mr-2 h-4 w-4"}),r.email]})}),a.jsxs(ue,{variant:"outline",className:"w-full",children:[a.jsx(wT,{className:"mr-2 h-4 w-4"}),r.phone]})]})]})]})]})},Fze=()=>{const[e,t]=x.useState(""),r=[{title:"Comment publier une annonce ?",link:"/faq#publier-annonce"},{title:"Sécuriser mon compte",link:"/faq#securite-compte"},{title:"Problèmes de paiement",link:"/faq#paiement"},{title:"Contacter un vendeur/acheteur",link:"/faq#contacter-utilisateur"},{title:"Signaler un problème",link:"/faq#signaler-probleme"}],n=[{name:"Comptes et Profils",icon:a.jsx(za,{className:"h-8 w-8 text-primary"}),description:"Gestion de votre compte, paramètres et notifications."},{name:"Acheter sur MaxiMarket",icon:a.jsx(ude,{className:"h-8 w-8 text-primary"}),description:"Recherche, achat, paiements et livraisons."},{name:"Vendre sur MaxiMarket",icon:a.jsx(Hd,{className:"h-8 w-8 text-primary"}),description:"Création d'annonces, gestion des ventes, boosters."},{name:"Sécurité et Confiance",icon:a.jsx(g_,{className:"h-8 w-8 text-primary"}),description:"Protéger votre compte, éviter les fraudes."}],i=s=>{s.preventDefault(),console.log("Searching for:",e)};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(BO,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Centre d'Aide ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Comment pouvons-nous vous aider aujourd'hui ?"})]}),a.jsxs(Re.form,{onSubmit:i,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-16 relative",children:[a.jsx(tt,{type:"search",placeholder:"Rechercher des articles d'aide (ex: mot de passe oublié)",className:"w-full h-14 pl-12 pr-4 text-lg rounded-full shadow-lg",value:e,onChange:s=>t(s.target.value)}),a.jsx(Yn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-muted-foreground"}),a.jsx(ue,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-10 rounded-full",children:"Rechercher"})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sujets Populaires"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((s,o)=>a.jsxs(ir,{to:s.link,className:"block bg-card p-6 rounded-lg shadow-md hover:shadow-lg hover:border-primary border border-transparent transition-all duration-300 transform hover:-translate-y-1 glassmorphic-card",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-2 flex items-center",children:[s.title," ",a.jsx(_l,{className:"ml-auto h-4 w-4 opacity-50 group-hover:opacity-100"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez notre FAQ pour une réponse rapide."})]},o))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Parcourir par Catégorie"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1+.7},className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors glassmorphic-card",children:[a.jsx("div",{className:"p-3 bg-primary/10 rounded-full inline-block mb-4",children:s.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),a.jsx(ue,{variant:"outline",asChild:!0,children:a.jsx(ir,{to:`/faq#cat-${s.name.toLowerCase().replace(/\s+/g,"-")}`,children:"Explorer"})})]},o))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"text-center bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Notre équipe d'assistance est là pour vous aider. Contactez-nous directement ou consultez notre FAQ complète."}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(ue,{size:"lg",asChild:!0,className:"bg-primary hover:bg-primary/90",children:a.jsxs(ir,{to:"/contactez-nous",children:[a.jsx(es,{className:"mr-2 h-5 w-5"})," Contacter le Support"]})}),a.jsx(ue,{size:"lg",variant:"outline",asChild:!0,children:a.jsxs(ir,{to:"/faq",children:[a.jsx(Iue,{className:"mr-2 h-5 w-5"})," Consulter la FAQ"]})})]})]})]})},Bze=()=>{const e=nr.siteName,t=[{id:"general-1",category:"Général",question:`Qu'est-ce que ${e} ?`,answer:`${e} est une plateforme marketplace innovante conçue pour l'Afrique de l'Ouest, facilitant l'achat et la vente de biens immobiliers, véhicules, services professionnels et divers autres produits. Notre objectif est de simplifier le commerce en ligne et de le rendre plus sûr et accessible.`},{id:"compte-1",category:"Compte Utilisateur",question:`Comment créer un compte sur ${e} ?`,answer:"Pour créer un compte, cliquez sur le bouton 'Connexion / Inscription' en haut à droite de la page. Vous pourrez alors vous inscrire en utilisant votre adresse e-mail ou via des services tiers comme Google ou Facebook (si activé). Suivez simplement les instructions à l'écran."},{id:"compte-2",category:"Compte Utilisateur",question:"J'ai oublié mon mot de passe, que faire ?",answer:"Si vous avez oublié votre mot de passe, cliquez sur le lien 'Mot de passe oublié ?' sur la page de connexion. Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe."},{id:"publier-annonce",category:`Vendre sur ${e}`,question:"Comment publier une annonce ?",answer:"Une fois connecté, accédez à votre tableau de bord et cherchez le bouton 'Publier une annonce' ou 'Nouvelle annonce'. Choisissez la catégorie appropriée, remplissez tous les champs requis (titre, description, prix, photos, etc.) et soumettez votre annonce. Elle sera examinée par notre équipe avant d'être publiée."},{id:"paiement",category:"Paiements et Transactions",question:"Quels sont les moyens de paiement acceptés ?",answer:"Nous acceptons plusieurs moyens de paiement, y compris les cartes bancaires (Visa, Mastercard), les paiements mobiles (Orange Money, Wave, etc. selon disponibilité régionale), PayPal et PayDunya. Les options exactes peuvent varier en fonction de votre pays."},{id:"securite-compte",category:"Sécurité",question:"Comment puis-je sécuriser mon compte ?",answer:"Pour sécuriser votre compte, utilisez un mot de passe fort et unique. Activez l'authentification à deux facteurs (2FA) si disponible dans vos paramètres de compte. Méfiez-vous des e-mails de phishing et ne partagez jamais vos identifiants."},{id:"contacter-utilisateur",category:"Interaction",question:"Comment contacter un vendeur ou un acheteur ?",answer:"Sur la page d'une annonce, vous trouverez généralement un bouton ou un lien pour contacter le vendeur (par exemple, 'Contacter le vendeur', 'Envoyer un message'). Utilisez notre système de messagerie intégré pour communiquer en toute sécurité. Les coordonnées directes ne sont partagées qu'avec le consentement des deux parties."},{id:"signaler-probleme",category:"Support et Litiges",question:"Comment signaler un problème ou une annonce suspecte ?",answer:"Si vous rencontrez un problème ou si une annonce vous semble suspecte, vous pouvez la signaler en utilisant le lien 'Signaler cette annonce' présent sur la page de l'annonce. Pour d'autres problèmes, contactez notre support client via le Centre d'Aide."}],r=[...new Set(t.map(n=>n.category))];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(BO,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:["Questions Fréquemment Posées ",a.jsx("span",{className:"gradient-text",children:"(FAQ)"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:["Trouvez des réponses rapides à vos questions sur ",e,"."]})]}),r.map((n,i)=>a.jsxs(Re.section,{id:`cat-${n.toLowerCase().replace(/\s+/g,"-")}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i},className:"mb-12 max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 border-l-4 border-primary pl-4 text-foreground",children:n}),a.jsx(Fye,{type:"single",collapsible:!0,className:"w-full space-y-3",children:t.filter(s=>s.category===n).map(s=>a.jsxs(bH,{value:s.id,className:"bg-card border border-border rounded-lg shadow-sm hover:border-primary/50 transition-colors",children:[a.jsx(wH,{className:"p-6 text-left font-semibold hover:no-underline text-foreground",children:s.question}),a.jsx(_H,{className:"p-6 pt-0 text-muted-foreground",children:s.answer})]},s.id))})]},n)),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+.1*r.length},className:"text-center mt-16",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Vous n'avez pas trouvé de réponse ?"}),a.jsx(ue,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 transition-opacity",children:a.jsx(ir,{to:"/contactez-nous",children:"Contactez notre support"})})]})]})},zze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(g_,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Politique de ",a.jsx("span",{className:"gradient-text",children:"Confidentialité"})]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg mb-6",children:["Bienvenue sur ",nr.siteName,". Nous nous engageons à protéger la confidentialité de vos informations personnelles. Cette politique de confidentialité explique comment nous collectons, utilisons, divulguons et protégeons vos informations lorsque vous visitez notre site web et utilisez nos services."]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"1. Informations que nous collectons"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons collecter des informations personnelles vous concernant de différentes manières, notamment :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Informations fournies directement par vous :"})," Lorsque vous créez un compte, publiez une annonce, effectuez une transaction, communiquez avec nous ou d'autres utilisateurs (nom, adresse e-mail, numéro de téléphone, informations de paiement, etc.)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations collectées automatiquement :"})," Lorsque vous utilisez notre site, nous pouvons collecter des informations sur votre appareil, votre activité de navigation, votre adresse IP, votre localisation (si autorisée), les cookies et autres technologies de suivi."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations provenant de tiers :"})," Nous pouvons recevoir des informations vous concernant de la part de services tiers, tels que les fournisseurs de services de paiement ou les plateformes de médias sociaux si vous choisissez de lier votre compte."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Utilisation de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous utilisons les informations que nous collectons pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Fournir, exploiter et améliorer nos services."}),a.jsx("li",{children:"Traiter vos transactions et gérer votre compte."}),a.jsx("li",{children:"Personnaliser votre expérience sur notre plateforme."}),a.jsx("li",{children:"Communiquer avec vous, y compris pour le service client et les mises à jour."}),a.jsx("li",{children:"Assurer la sécurité de notre plateforme et prévenir la fraude."}),a.jsx("li",{children:"Analyser l'utilisation de notre site et améliorer nos offres."}),a.jsx("li",{children:"Respecter nos obligations légales."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Partage de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons partager vos informations personnelles dans les circonstances suivantes :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Avec d'autres utilisateurs :"})," Pour faciliter les transactions et les communications (par exemple, partager votre nom d'utilisateur ou les informations de contact nécessaires pour une transaction)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Avec des fournisseurs de services tiers :"})," Qui nous aident à exploiter notre plateforme (hébergement, traitement des paiements, analyse de données, marketing, etc.). Ces fournisseurs sont contractuellement tenus de protéger vos informations."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Pour des raisons légales :"})," Si la loi l'exige, ou pour répondre à une procédure légale valide, protéger nos droits, notre propriété ou notre sécurité, ou ceux de nos utilisateurs ou du public."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"En cas de transfert d'entreprise :"})," En cas de fusion, acquisition, réorganisation ou vente d'actifs, vos informations peuvent être transférées."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Vos droits et choix"]}),a.jsx("p",{className:"mb-4",children:"Selon votre juridiction, vous pouvez avoir certains droits concernant vos informations personnelles, tels que :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Le droit d'accéder à vos informations."}),a.jsx("li",{children:"Le droit de corriger ou de mettre à jour vos informations."}),a.jsx("li",{children:"Le droit de supprimer vos informations."}),a.jsx("li",{children:"Le droit de vous opposer ou de restreindre certains traitements."}),a.jsx("li",{children:"Le droit à la portabilité des données."})]}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Vous pouvez généralement gérer les informations de votre compte et vos préférences de communication via les paramètres de votre compte. Pour exercer d'autres droits, veuillez nous contacter."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Sécurité des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous mettons en œuvre des mesures de sécurité techniques et organisationnelles raisonnables pour protéger vos informations personnelles contre l'accès non autorisé, la divulgation, l'altération ou la destruction. Cependant, aucune méthode de transmission sur Internet ou de stockage électronique n'est totalement sécurisée."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Conservation des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous conservons vos informations personnelles aussi longtemps que nécessaire pour atteindre les objectifs décrits dans cette politique de confidentialité, sauf si une période de conservation plus longue est requise ou autorisée par la loi."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Transferts internationaux"]}),a.jsx("p",{className:"text-muted-foreground",children:"Vos informations peuvent être transférées et traitées dans des pays autres que votre pays de résidence, où les lois sur la protection des données peuvent différer. Nous prendrons des mesures appropriées pour garantir que vos informations personnelles restent protégées conformément à cette politique."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Modifications de cette politique"]}),a.jsx("p",{className:"text-muted-foreground",children:'Nous pouvons mettre à jour cette politique de confidentialité de temps à autre. Nous vous informerons de tout changement important en publiant la nouvelle politique sur notre site et en mettant à jour la date de "Dernière mise à jour".'})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Nous contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions ou des préoccupations concernant cette politique de confidentialité ou nos pratiques en matière de données, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:privacy@${nr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["privacy@",nr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),qze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(Vr,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Termes et ",a.jsx("span",{className:"gradient-text",children:"Conditions"})," d'Utilisation"]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg",children:[`Veuillez lire attentivement ces Termes et Conditions ("Termes") avant d'utiliser le site web `,nr.siteName,' (le "Service") exploité par ',nr.siteName,` ("nous", "notre", ou "nos"). Votre accès et votre utilisation du Service sont conditionnés par votre acceptation et votre respect de ces Termes. Ces Termes s'appliquent à tous les visiteurs, utilisateurs et autres personnes qui accèdent ou utilisent le Service.`]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kd,{className:"mr-2 h-6 w-6 text-primary"}),"1. Acceptation des Termes"]}),a.jsx("p",{className:"text-muted-foreground",children:"En accédant ou en utilisant le Service, vous acceptez d'être lié par ces Termes. Si vous n'êtes pas d'accord avec une partie des termes, vous ne pouvez pas accéder au Service."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Comptes"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Lorsque vous créez un compte chez nous, vous devez nous fournir des informations exactes, complètes et à jour à tout moment. Le non-respect de cette obligation constitue une violation des Termes, ce qui peut entraîner la résiliation immédiate de votre compte sur notre Service."}),a.jsx("p",{children:"Vous êtes responsable de la protection du mot de passe que vous utilisez pour accéder au Service et de toutes les activités ou actions effectuées sous votre mot de passe, que votre mot de passe soit avec notre Service ou un service tiers."}),a.jsx("p",{children:"Vous acceptez de ne pas divulguer votre mot de passe à un tiers. Vous devez nous informer immédiatement dès que vous prenez connaissance d'une violation de la sécurité ou d'une utilisation non autorisée de votre compte."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Contenu Utilisateur"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:'Notre Service vous permet de publier, lier, stocker, partager et autrement rendre disponible certaines informations, textes, graphiques, vidéos ou autres supports ("Contenu Utilisateur"). Vous êtes responsable du Contenu Utilisateur que vous publiez sur ou via le Service, y compris sa légalité, sa fiabilité et sa pertinence.'}),a.jsx("p",{children:"En publiant du Contenu Utilisateur sur ou via le Service, vous déclarez et garantissez que : (i) le Contenu Utilisateur vous appartient (vous en êtes propriétaire) et/ou vous avez le droit de l'utiliser et le droit de nous accorder les droits et la licence prévus dans ces Termes, et (ii) la publication de votre Contenu Utilisateur sur ou via le Service ne viole pas les droits à la vie privée, les droits de publicité, les droits d'auteur, les droits contractuels ou tout autre droit de toute personne ou entité."}),a.jsx("p",{children:"Vous conservez tous vos droits sur tout Contenu Utilisateur que vous soumettez, publiez ou affichez sur ou via le Service et vous êtes responsable de la protection de ces droits. Nous n'assumons aucune responsabilité et n'engageons aucune responsabilité pour le Contenu Utilisateur que vous ou un tiers publiez sur ou via le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Utilisation Acceptable"]}),a.jsx("p",{className:"mb-4",children:"Vous acceptez de ne pas utiliser le Service pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Publier du contenu illégal, nuisible, menaçant, abusif, harcelant, diffamatoire, vulgaire, obscène, haineux ou autrement répréhensible."}),a.jsx("li",{children:"Usurper l'identité d'une personne ou d'une entité, ou déclarer faussement ou déformer autrement votre affiliation avec une personne ou une entité."}),a.jsx("li",{children:"Télécharger, publier ou transmettre de quelque manière que ce soit tout contenu que vous n'avez pas le droit de transmettre en vertu d'une loi ou de relations contractuelles ou fiduciaires."}),a.jsx("li",{children:"Violer toute loi locale, étatique, nationale ou internationale applicable."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Propriété Intellectuelle"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Le Service et son contenu original (à l'exclusion du Contenu Utilisateur), ses caractéristiques et fonctionnalités sont et resteront la propriété exclusive de ",nr.siteName," et de ses concédants de licence. Le Service est protégé par le droit d'auteur, les marques commerciales et d'autres lois. Nos marques et habillages commerciaux ne peuvent être utilisés en relation avec un produit ou service sans le consentement écrit préalable de ",nr.siteName,"."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Liens Vers D'autres Sites Web"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:["Notre Service peut contenir des liens vers des sites web ou des services tiers qui ne sont pas détenus ou contrôlés par ",nr.siteName,"."]}),a.jsxs("p",{children:[nr.siteName," n'a aucun contrôle sur, et n'assume aucune responsabilité pour, le contenu, les politiques de confidentialité ou les pratiques de tout site web ou service tiers. Vous reconnaissez et acceptez en outre que ",nr.siteName," ne sera pas responsable, directement ou indirectement, de tout dommage ou perte causé ou présumé avoir été causé par ou en relation avec l'utilisation ou la confiance accordée à un tel contenu, biens ou services disponibles sur ou via de tels sites web ou services."]}),a.jsx("p",{children:"Nous vous conseillons vivement de lire les termes et conditions et les politiques de confidentialité de tout site web ou service tiers que vous visitez."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Résiliation"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous pouvons résilier ou suspendre votre compte et interdire l'accès au Service immédiatement, sans préavis ni responsabilité, à notre seule discrétion, pour quelque raison que ce soit et sans limitation, y compris mais sans s'y limiter, une violation des Termes."}),a.jsx("p",{children:"Si vous souhaitez résilier votre compte, vous pouvez simplement cesser d'utiliser le Service."}),a.jsx("p",{children:"Toutes les dispositions des Termes qui, de par leur nature, devraient survivre à la résiliation survivront à la résiliation, y compris, sans limitation, les dispositions relatives à la propriété, les exclusions de garantie, l'indemnisation et les limitations de responsabilité."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Limitation de Responsabilité"]}),a.jsxs("p",{className:"text-muted-foreground",children:["En aucun cas ",nr.siteName,", ni ses administrateurs, employés, partenaires, agents, fournisseurs ou affiliés, ne pourront être tenus responsables de tout dommage indirect, accessoire, spécial, consécutif ou punitif, y compris, sans limitation, la perte de profits, de données, d'utilisation, de clientèle ou d'autres pertes immatérielles, résultant de votre accès ou votre utilisation ou votre incapacité à accéder ou à utiliser le Service."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Droit Applicable"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Ces Termes seront régis et interprétés conformément aux lois du Sénégal, sans égard à ses dispositions relatives aux conflits de lois."}),a.jsx("p",{children:"Notre manquement à faire respecter un droit ou une disposition de ces Termes ne sera pas considéré comme une renonciation à ces droits. Si une disposition de ces Termes est jugée invalide ou inapplicable par un tribunal, les autres dispositions de ces Termes resteront en vigueur. Ces Termes constituent l'intégralité de l'accord entre nous concernant notre Service, et remplacent et annulent tous les accords antérieurs que nous pourrions avoir entre nous concernant le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"10. Modifications"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous nous réservons le droit, à notre seule discrétion, de modifier ou de remplacer ces Termes à tout moment. Si une révision est importante, nous nous efforcerons de fournir un préavis d'au moins 30 jours avant l'entrée en vigueur des nouveaux termes. Ce qui constitue un changement important sera déterminé à notre seule discrétion."}),a.jsx("p",{children:"En continuant à accéder ou à utiliser notre Service après l'entrée en vigueur de ces révisions, vous acceptez d'être lié par les termes révisés. Si vous n'acceptez pas les nouveaux termes, veuillez cesser d'utiliser le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Vr,{className:"mr-2 h-6 w-6 text-primary"}),"11. Nous Contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions concernant ces Termes, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:legal@${nr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["legal@",nr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),Uze=({post:e,index:t,featured:r=!1})=>{const n=new Date(e.publishedAt),i=A9(n,{addSuffix:!0,locale:Kp});return a.jsx(Re.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},className:Ke("group overflow-hidden rounded-lg border border-border bg-card transition-all duration-300 card-hover",r?"col-span-full md:col-span-2 md:row-span-2":"md:col-span-1"),children:a.jsxs(ir,{to:`/blog/${e.slug||e.id}`,className:"block h-full",children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${e.title}`,src:"https://images.unsplash.com/photo-1578811344633-3376eab0f8ce"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-70"}),r&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(yt,{variant:"default",className:"bg-primary/90 backdrop-blur-sm",children:"À la une"})}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.tags.slice(0,r?3:2).map((s,o)=>a.jsx(yt,{variant:"secondary",className:"bg-secondary/50 backdrop-blur-sm",children:s},o))}),r&&a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 line-clamp-2",children:e.title})]})]}),a.jsxs("div",{className:"p-5",children:[!r&&a.jsx("h2",{className:"text-lg font-bold mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:e.title}),a.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-4",children:e.excerpt}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 mr-1"}),i]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),e.readingTime]})]}),e.category&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Hd,{className:"h-3 w-3 mr-1"}),e.category]})]})]})]})})},Vze=[{id:"maximarket-welcome-post",title:"Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !",slug:"bienvenue-sur-maximarket-marketplace-futuriste",excerpt:"Découvrez MaxiMarket, la plateforme innovante qui révolutionne le commerce en Afrique de l'Ouest. Immobilier, automobile, services et plus encore !",content:`
# Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !

Nous sommes ravis de vous accueillir sur **MaxiMarket**, la destination incontournable pour toutes vos transactions en Afrique de l'Ouest. Que vous cherchiez à acheter, vendre ou louer, MaxiMarket vous offre une expérience utilisateur unique, moderne et sécurisée.

## Ce que MaxiMarket vous propose :

### 1. Immobilier de Pointe
Trouvez l'appartement de vos rêves, la maison idéale pour votre famille, un terrain pour construire votre avenir ou le local commercial parfait pour votre entreprise. Avec nos filtres avancés, nos visites virtuelles à 360° et nos outils d'estimation IA, la recherche immobilière n'a jamais été aussi simple et efficace.

### 2. Automobile Simplifié
Parcourez notre vaste sélection de voitures, motos et véhicules utilitaires, neufs ou d'occasion. Bénéficiez d'historiques de véhicules transparents, d'inspections virtuelles et de calculateurs de financement intégrés pour prendre des décisions éclairées.

### 3. Services Professionnels à portée de clic
Besoin d'un expert en BTP, d'un technicien qualifié, d'une aide domestique ou d'un professionnel de la santé ? MaxiMarket vous met en relation avec des prestataires vérifiés. Prenez rendez-vous en ligne, consultez les portfolios et suivez l'avancement de vos projets en toute sérénité.

### 4. Une Marketplace Générale Riche et Variée
Explorez un univers de produits allant de l'électronique dernier cri à la mode tendance, en passant par les articles pour la maison, les équipements sportifs et l'artisanat local authentique. MaxiMarket est votre guichet unique pour tous vos besoins.

## Une Expérience Utilisateur Inégalée

Chez MaxiMarket, nous avons mis l'accent sur un design futuriste et des fonctionnalités innovantes :
- **Thème adaptatif sombre/clair** et effets visuels saisissants comme le glassmorphism.
- **Recherche vocale** et **contrôles gestuels** sur mobile pour une navigation intuitive.
- **Tableaux de bord personnalisés** avec analyses détaillées pour les vendeurs.
- **Intelligence Artificielle** intégrée pour des recommandations personnalisées, des estimations de prix et une modération intelligente.

## Rejoignez la Révolution MaxiMarket !

Nous sommes plus qu'une simple marketplace. Nous sommes une communauté qui construit l'avenir du commerce en Afrique de l'Ouest. Créez votre compte dès aujourd'hui, publiez vos annonces ou trouvez exactement ce que vous cherchez.

L'équipe MaxiMarket.
    `,coverImage:"maximarket-marketplace-skyline-futuristic",author:{name:"L'équipe MaxiMarket",avatar:"maximarket-logo-avatar"},category:"Annonces MaxiMarket",tags:["MaxiMarket","Marketplace","Afrique de l'Ouest","Innovation","Immobilier","Automobile","Services"],publishedAt:"2025-06-02T10:00:00Z",readingTime:"4 min"},{id:"1",title:"Comment j'ai créé une application React performante",slug:"comment-jai-cree-une-application-react-performante",excerpt:"Découvrez les techniques que j'ai utilisées pour optimiser les performances de mon application React.",content:`
# Comment j'ai créé une application React performante

React est une bibliothèque JavaScript populaire pour créer des interfaces utilisateur interactives. Cependant, à mesure que les applications grandissent, les performances peuvent devenir un problème. Dans cet article, je vais partager les techniques que j'ai utilisées pour optimiser les performances de mon application React.

## 1. Utilisation de React.memo et useMemo

L'un des premiers problèmes que j'ai rencontrés était des rendus inutiles de composants. Pour résoudre ce problème, j'ai utilisé React.memo pour mémoriser les composants et useMemo pour mémoriser les valeurs calculées.

\`\`\`jsx
const ExpensiveComponent = React.memo(({ data }) => {
  // Rendu du composant
});

function App() {
  const expensiveCalculation = useMemo(() => {
    return performExpensiveCalculation(data);
  }, [data]);
  
  return <div>{expensiveCalculation}</div>;
}
\`\`\`

## 2. Optimisation des listes avec useCallback

Pour les listes, j'ai utilisé useCallback pour éviter de recréer des fonctions à chaque rendu.

\`\`\`jsx
function TodoList({ todos }) {
  const handleDelete = useCallback((id) => {
    // Logique de suppression
  }, []);
  
  return (
    <ul>
      {todos.map(todo => (
        <TodoItem 
          key={todo.id} 
          todo={todo} 
          onDelete={handleDelete} 
        />
      ))}
    </ul>
  );
}
\`\`\`

## 3. Lazy Loading des composants

J'ai utilisé le lazy loading pour charger les composants uniquement lorsqu'ils sont nécessaires.

\`\`\`jsx
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
\`\`\`

## 4. Utilisation de la virtualisation pour les grandes listes

Pour les listes contenant de nombreux éléments, j'ai utilisé la virtualisation pour ne rendre que les éléments visibles à l'écran.

## Conclusion

L'optimisation des performances est un aspect crucial du développement d'applications React. En utilisant ces techniques, j'ai pu améliorer considérablement les performances de mon application.
    `,coverImage:"react-performance",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"React",tags:["React","Performance","JavaScript","Optimisation"],publishedAt:"2023-09-15T10:00:00Z",readingTime:"8 min"},{id:"2",title:"Les meilleures pratiques pour l'architecture de vos projets React",slug:"meilleures-pratiques-architecture-projets-react",excerpt:"Une architecture bien pensée est essentielle pour maintenir des projets React à long terme. Voici mes conseils.",content:`
# Les meilleures pratiques pour l'architecture de vos projets React

Une bonne architecture est la clé pour maintenir des projets React à long terme. Dans cet article, je partage mes meilleures pratiques pour structurer vos projets React.

## 1. Organisation des dossiers

J'ai trouvé qu'une structure de dossiers claire aide énormément à naviguer dans le code. Voici comment j'organise généralement mes projets:

\`\`\`
src/
  ├── components/
  │   ├── common/
  │   ├── layout/
  │   └── features/
  ├── hooks/
  ├── context/
  ├── utils/
  ├── services/
  ├── pages/
  └── assets/
\`\`\`

## 2. Séparation des préoccupations

Il est important de séparer la logique métier de la présentation. J'utilise des hooks personnalisés pour encapsuler la logique et des composants pour la présentation.

## 3. Utilisation des patterns React modernes

J'ai adopté des patterns comme le Compound Component et le Render Props pour créer des composants flexibles et réutilisables.

## 4. Tests unitaires et d'intégration

Les tests sont essentiels pour maintenir la qualité du code. J'utilise Jest et React Testing Library pour tester mes composants.

## Conclusion

Une bonne architecture est un investissement qui paie sur le long terme. En suivant ces pratiques, vous pourrez maintenir et faire évoluer vos projets React plus facilement.
    `,coverImage:"react-architecture",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"Architecture",tags:["React","Architecture","Bonnes pratiques","Structure de projet"],publishedAt:"2023-08-22T14:30:00Z",readingTime:"6 min"},{id:"3",title:"Comment j'ai intégré TailwindCSS dans mon workflow",slug:"comment-jai-integre-tailwindcss-dans-mon-workflow",excerpt:"TailwindCSS a révolutionné ma façon de styliser mes applications. Voici comment je l'ai intégré dans mon workflow.",content:`
# Comment j'ai intégré TailwindCSS dans mon workflow

TailwindCSS est un framework CSS utilitaire qui a changé ma façon de styliser mes applications. Dans cet article, je vais vous montrer comment je l'ai intégré dans mon workflow et les avantages que j'en ai tirés.

## 1. Installation et configuration

L'installation de TailwindCSS est simple avec npm ou yarn:

\`\`\`bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
\`\`\`

## 2. Personnalisation du thème

J'ai personnalisé le thème pour correspondre à l'identité visuelle de mon projet:

\`\`\`js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#3490dc',
        secondary: '#ffed4a',
        danger: '#e3342f',
      },
    },
  },
  // ...
}
\`\`\`

## 3. Création de composants réutilisables

J'ai créé des composants réutilisables avec TailwindCSS:

\`\`\`jsx
function Button({ children, variant = 'primary' }) {
  const baseClasses = 'px-4 py-2 rounded font-bold';
  const variantClasses = {
    primary: 'bg-primary text-white',
    secondary: 'bg-secondary text-gray-800',
    danger: 'bg-danger text-white',
  };
  
  return (
    <button className={\`\${baseClasses} \${variantClasses[variant]}\`}>
      {children}
    </button>
  );
}
\`\`\`

## 4. Optimisation pour la production

Pour la production, j'ai utilisé PurgeCSS pour éliminer les classes non utilisées:

\`\`\`js
// tailwind.config.js
module.exports = {
  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
  // ...
}
\`\`\`

## Conclusion

TailwindCSS a considérablement amélioré ma productivité en me permettant de styliser rapidement mes applications sans quitter mon HTML/JSX. Si vous n'avez pas encore essayé, je vous encourage vivement à le faire!
    `,coverImage:"tailwindcss-workflow",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"CSS",tags:["TailwindCSS","CSS","Workflow","Design"],publishedAt:"2023-07-10T09:15:00Z",readingTime:"5 min"}],Wze=e=>{const r=e.split(/\s+/).length;return Math.ceil(r/200)},Hze=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");let Wy=localStorage.getItem("blogPosts")?JSON.parse(localStorage.getItem("blogPosts")):Vze.map(e=>({...e,readingTime:`${Wze(e.content)} min`,author:e.author||{name:"MaxiMarket Admin",avatar:"maximarket-admin-avatar"},slug:e.slug||Hze(e.title),id:e.id||ape(),publishedAt:e.publishedAt||new Date().toISOString()}));const Kze=()=>[...Wy].sort((e,t)=>new Date(t.publishedAt)-new Date(e.publishedAt)),Gze=e=>Wy.find(t=>t.id===e||t.slug===e),Zze=e=>e?Wy.filter(t=>t.id!==e.id&&(t.category===e.category||t.tags&&e.tags&&t.tags.some(r=>e.tags.includes(r)))).sort((t,r)=>new Date(r.publishedAt)-new Date(t.publishedAt)).slice(0,3):[],Yze=()=>[...new Set(Wy.map(e=>e.category).filter(Boolean))],Xze=()=>{const e=Wy.flatMap(t=>t.tags||[]);return[...new Set(e.filter(Boolean))]},Jze=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState([]),[f,p]=x.useState([]),[g,v]=x.useState([]);x.useEffect(()=>{const S=Kze();l(S),u(S),p(Yze()),v(Xze())},[]),x.useEffect(()=>{let S=[...o];if(e){const N=e.toLowerCase();S=S.filter(C=>C.title.toLowerCase().includes(N)||C.excerpt.toLowerCase().includes(N)||C.content.toLowerCase().includes(N))}r&&(S=S.filter(N=>N.category===r)),i&&(S=S.filter(N=>N.tags.includes(i))),u(S)},[e,r,i,o]);const w=S=>{n(N=>N===S?"":S)},y=S=>{s(N=>N===S?"":S)},_=()=>{t(""),n(""),s("")};return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Mon ",a.jsx("span",{className:"gradient-text",children:"Blog"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Découvrez mes articles sur le développement web, les technologies et les bonnes pratiques."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(tt,{type:"text",placeholder:"Rechercher un article...",value:e,onChange:S=>t(S.target.value),className:"pl-10"})]}),(r||i||e)&&a.jsx(ue,{variant:"outline",onClick:_,children:"Effacer les filtres"})]}),a.jsxs("div",{className:"space-y-4",children:[f.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Catégories"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((S,N)=>a.jsx(yt,{variant:r===S?"default":"outline",className:"cursor-pointer",onClick:()=>w(S),children:S},N))})]}),g.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Tags"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((S,N)=>a.jsx(yt,{variant:i===S?"default":"outline",className:"cursor-pointer",onClick:()=>y(S),children:S},N))})]})]})]}),c.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((S,N)=>a.jsx(Uze,{post:S,index:N,featured:N===0&&!e&&!r&&!i},S.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Aucun article ne correspond à votre recherche."})})]})},Qze=()=>{const{id:e}=Kk(),[t,r]=x.useState(null),[n,i]=x.useState([]),[s,o]=x.useState(!0),{toast:l}=Cn();if(x.useEffect(()=>{o(!0),setTimeout(()=>{const f=Gze(e);if(f){r(f);const p=Zze(f);i(p)}else l({title:"Article non trouvé",description:"L'article que vous recherchez n'existe pas.",variant:"destructive"});o(!1)},500)},[e,l]),s)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'article..."})]})});if(!t)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Article non trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"L'article que vous recherchez n'existe pas ou a été supprimé."}),a.jsx(ue,{asChild:!0,children:a.jsxs(ir,{to:"/blog",children:[a.jsx(Uh,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})})]})});const c=new Date(t.publishedAt),u=Sr(c,"d MMMM yyyy",{locale:Kp});return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ue,{asChild:!0,variant:"outline",className:"mb-8",children:a.jsxs(ir,{to:"/blog",children:[a.jsx(Uh,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:t.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[t.author&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ji,{className:"h-4 w-4 mr-1"}),t.author.name]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ql,{className:"h-4 w-4 mr-1"}),u]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wa,{className:"h-4 w-4 mr-1"}),t.readingTime]}),t.category&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hd,{className:"h-4 w-4 mr-1"}),t.category]})]}),t.coverImage&&a.jsx("div",{className:"relative aspect-[21/9] rounded-lg overflow-hidden mb-8",children:a.jsx("img",{className:"w-full h-full object-cover",alt:`Image de couverture pour l'article ${t.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),t.tags&&t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:t.tags.map((f,p)=>a.jsx(yt,{variant:"secondary",children:f},p))}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"whitespace-pre-line",children:t.content})})]}),n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(uv,{className:"my-12"}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Articles similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(f=>a.jsx(ir,{to:`/blog/${f.slug||f.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[f.coverImage&&a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${f.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:f.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:f.excerpt})]})]})},f.id))})]})]})]})})};function eqe(){return X.useEffect(()=>{HO.register()},[]),a.jsxs(pV,{client:wde,children:[a.jsx(dme,{children:a.jsxs(mme,{children:[a.jsxs(Pue,{children:[a.jsx(pme,{}),a.jsx(si,{mode:"wait",children:a.jsx(one,{children:a.jsxs(Ft,{path:"/",element:a.jsx(wme,{}),children:[a.jsx(Ft,{index:!0,element:a.jsx(OPe,{})}),a.jsx(Ft,{path:"connexion",element:a.jsx(Jve,{})}),a.jsx(Ft,{path:"inscription",element:a.jsx(eye,{})}),a.jsx(Ft,{path:"auth/callback",element:a.jsx(vCe,{})}),a.jsx(Ft,{path:"mot-de-passe-oublie",element:a.jsx(tye,{})}),a.jsx(Ft,{path:"reinitialiser-mot-de-passe",element:a.jsx(rye,{})}),a.jsx(Ft,{path:"profile",element:a.jsx(gCe,{})}),a.jsx(Ft,{path:"messages",element:a.jsx(id,{children:a.jsx(JEe,{})})}),a.jsx(Ft,{path:"immobilier",element:a.jsx(RPe,{})}),a.jsx(Ft,{path:"automobile",element:a.jsx(MPe,{})}),a.jsx(Ft,{path:"services",element:a.jsx(IPe,{})}),a.jsx(Ft,{path:"marketplace",element:a.jsx(DPe,{})}),a.jsx(Ft,{path:"premium",element:a.jsx(LPe,{})}),a.jsx(Ft,{path:"creer-annonce",element:a.jsx(id,{children:a.jsx(B0,{})})}),a.jsx(Ft,{path:"creer-annonce/:category",element:a.jsx(id,{children:a.jsx(B0,{})})}),a.jsx(Ft,{path:"create-listing",element:a.jsx(id,{children:a.jsx(B0,{})})}),a.jsx(Ft,{path:"annonce/:id",element:a.jsx(VPe,{})}),a.jsx(Ft,{path:"annonce/:id/modifier",element:a.jsx(id,{children:a.jsx(B0,{})})}),a.jsx(Ft,{path:"favorites",element:a.jsx(id,{children:a.jsx(HPe,{})})}),a.jsxs(Ft,{path:"admin",element:a.jsx(wve,{}),children:[a.jsx(Ft,{index:!0,element:a.jsx(Tc,{children:a.jsx(KPe,{})})}),a.jsx(Ft,{path:"users",element:a.jsx(Tc,{children:a.jsx(j2e,{})})}),a.jsx(Ft,{path:"listings",element:a.jsx(Tc,{children:a.jsx(S2e,{})})}),a.jsx(Ft,{path:"transactions",element:a.jsx(Tc,{children:a.jsx(N2e,{})})}),a.jsx(Ft,{path:"analytics",element:a.jsx(Tc,{children:a.jsx(Cze,{})})}),a.jsx(Ft,{path:"moderation",element:a.jsx(Tc,{children:a.jsx(Aze,{})})}),a.jsx(Ft,{path:"categories",element:a.jsx(Tc,{children:a.jsx(kze,{})})}),a.jsx(Ft,{path:"settings",element:a.jsx(Tc,{children:a.jsx(Oze,{})})})]}),a.jsx(Ft,{path:"a-propos",element:a.jsx(Mze,{})}),a.jsx(Ft,{path:"contact",element:a.jsx(Dze,{})}),a.jsx(Ft,{path:"carrieres",element:a.jsx(Lze,{})}),a.jsx(Ft,{path:"presse",element:a.jsx($ze,{})}),a.jsx(Ft,{path:"aide",element:a.jsx(Fze,{})}),a.jsx(Ft,{path:"faq",element:a.jsx(Bze,{})}),a.jsx(Ft,{path:"politique-confidentialite",element:a.jsx(zze,{})}),a.jsx(Ft,{path:"conditions-utilisation",element:a.jsx(qze,{})}),a.jsx(Ft,{path:"blog",element:a.jsx(Jze,{})}),a.jsx(Ft,{path:"blog/:id",element:a.jsx(Qze,{})}),a.jsx(Ft,{path:"*",element:a.jsx(Rze,{})})]})})})]}),a.jsx(yV,{}),a.jsx(yme,{}),a.jsx(Tpe,{}),a.jsx(lme,{})]})}),!1]})}class tqe extends X.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Erreur non interceptée:",t,r)}render(){return this.state.hasError?a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",color:"#e2e8f0",padding:24,textAlign:"center"},children:a.jsxs("div",{style:{maxWidth:720},children:[a.jsx("h1",{style:{marginBottom:12},children:"Une erreur est survenue"}),a.jsx("p",{style:{opacity:.9},children:"Une erreur inattendue a été détectée."}),a.jsx("pre",{style:{textAlign:"left",background:"#111827",padding:12,borderRadius:8,overflow:"auto",marginTop:16},children:String(this.state.error)}),!1]})}):this.props.children}}gre.createRoot(document.getElementById("root")).render(a.jsx(X.StrictMode,{children:a.jsx(tqe,{children:a.jsx(gne,{children:a.jsx(eqe,{})})})}));
