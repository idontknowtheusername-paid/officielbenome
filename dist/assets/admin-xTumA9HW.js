var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a={}.hasOwnProperty,n={}.propertyIsEnumerable,i=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),o=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,l=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&o(e,s,t[s]);if(r)for(var s of r(t))n.call(t,s)&&o(e,s,t[s]);return e},c=(e,r)=>t(e,s(r)),d=(e,t)=>{var s={};for(var i in e)a.call(e,i)&&0>t.indexOf(i)&&(s[i]=e[i]);if(null!=e&&r)for(var i of r(e))0>t.indexOf(i)&&n.call(e,i)&&(s[i]=e[i]);return s},u=(e,t,s)=>o(e,"symbol"!=typeof t?t+"":t,s),m=(e,t,s)=>new Promise(((r,a)=>{var n=e=>{try{o(s.next(e))}catch(t){a(t)}},i=e=>{try{o(s.throw(e))}catch(t){a(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,i);o((s=s.apply(e,t)).next())})),h=function(e,t){this[0]=e,this[1]=t},p=(e,t,s)=>{var r=(e,t,a,n)=>{try{var i=s[e](t),o=(t=i.value)instanceof h,l=i.done;Promise.resolve(o?t[0]:t).then((s=>o?r("return"===e?e:"next",t[1]?{done:s.done,value:s.value}:s,a,n):a({value:s,done:l}))).catch((e=>r("throw",e,a,n)))}catch(c){n(c)}},a=e=>n[e]=t=>new Promise(((s,a)=>r(e,t,s,a))),n={};return s=s.apply(e,t),n[i("asyncIterator")]=()=>n,a("next"),a("throw"),a("return"),n},f=e=>{var t,s=e[i("asyncIterator")],r=!1,a={};return null==s?(s=e[i("iterator")](),t=e=>a[e]=t=>s[e](t)):(s=s.call(e),t=e=>a[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new h(new Promise((r=>{var a=s[e](t);a instanceof Object||(()=>{throw TypeError("Object expected")})(),r(a)})),1)}}),a[i("iterator")]=()=>a,t("next"),"throw"in s?t("throw"):a.throw=e=>{throw e},"return"in s&&t("return"),a};import{j as g,S as y,R as x,L as v,T as b,C as j,a as w,O as N,P as k,b as _,c as S,D as M,A as C,d as E,e as A,f as T,g as D,h as O,i as R,k as q,l as L,m as z,n as P,o as I,p as U,q as F,I as B,r as V,s as $,t as H,u as W,v as J,w as G,x as K,y as Y,z as X,B as Z,E as Q,F as ee,G as te,H as se,J as re,V as ae,K as ne,M as ie,N as oe,Q as le,U as ce,W as de,X as ue,Y as me,Z as he,_ as pe,$ as fe,a0 as ge,a1 as ye,a2 as xe}from"./ui-BkW4XaSf.js";import{r as ve,R as be,b as je,u as we,L as Ne}from"./router-g3RhsYON.js";import{m as ke}from"./animations-B7Vm-81o.js";import{u as _e,a as Se,b as Me}from"./query-BZBOCxXK.js";import{t as Ce,c as Ee,a as Ae,f as Te,s as De,b as Oe,d as Re,e as qe,g as Le,h as ze,i as Pe,p as Ie,j as Ue}from"./utils-iFD8Ag1C.js";import{R as Fe,C as Be,X as Ve,Y as $e,T as He,L as We,P as Je,a as Ge,b as Ke,B as Ye,c as Xe}from"./charts-B6pUC4mM.js";import{Z as Ze,o as Qe,b as et,n as tt,s as st,e as rt,a as at,r as nt,d as it,c as ot}from"./forms-CVlSZARz.js";import{c as lt}from"./supabase-CS--z241.js";import{c as ct,g as dt}from"./vendor-DaBoii6j.js";import{r as ut}from"./services-CqmL7Hwe.js";let mt="your_supabase_url_here";mt&&mt.startsWith("//")&&(mt="https:"+mt);const ht=!!mt,pt=18e5,ft=lt(mt||"https://placeholder.supabase.co","your_supabase_anon_key_here",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"maximarket-web"}}});let gt=0;const yt=function(e){if("undefined"==typeof window||"undefined"==typeof document)return{id:"noop",dismiss:function(){}};const t="toast-"+ ++gt,s=document.getElementById("toaster-container");if(!s)return{id:"noop",dismiss:function(){}};try{const r=document.createElement("div");r.id=t,r.className="bg-background border rounded-md p-4 shadow-lg max-w-sm mb-2";let a="";return e.title&&(a+='<div class="font-semibold">'+e.title+"</div>"),e.description&&(a+='<div class="text-sm opacity-90 mt-1">'+e.description+"</div>"),r.innerHTML=a+'<button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-foreground/50 hover:text-foreground">✕</button>',s.appendChild(r),e.duration!==1/0&&setTimeout((function(){r.parentNode&&r.remove()}),e.duration||5e3),{id:t,dismiss:function(){r.parentNode&&r.remove()}}}catch(r){return{id:"error",dismiss:function(){}}}};function xt(){return{toast:yt,toasts:[]}}const vt=ve.createContext({}),bt=({children:e})=>{const[t,s]=ve.useState(null),[r,a]=ve.useState(null),[n,i]=ve.useState(!0),[o,l]=ve.useState(null),[c,d]=ve.useState(null),[u,h]=ve.useState(!1),{toast:p}=xt(),f=ve.useCallback((()=>{if(o&&!u){const e=Date.now();e-(o.created_at?new Date(o.created_at).getTime():e)>pt&&(x(),p({title:"Session expirée",description:"Votre session a expiré. Veuillez vous reconnecter.",variant:"destructive"}))}}),[o,u,p]);ve.useEffect((()=>{if(!o)return;const e=setInterval(f,6e4);return()=>clearInterval(e)}),[o,f]);const y=ve.useCallback((e=>{h(e),e?(localStorage.setItem("maximarket-remember-me","true"),localStorage.setItem("maximarket-remember-date",(new Date).toISOString())):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"))}),[]);ve.useEffect((()=>{const e="true"===localStorage.getItem("maximarket-remember-me"),t=localStorage.getItem("maximarket-remember-date");e&&t&&((Date.now()-new Date(t).getTime())/864e5>7?(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),h(!1)):h(!0))}),[]),ve.useEffect((()=>{if(!ht)return void i(!1);m(null,null,(function*(){var e;const{data:{session:t}}=yield ft.auth.getSession();if(l(t),s(null!=(e=null==t?void 0:t.user)?e:null),null==t?void 0:t.user)try{const{data:e}=yield ft.from("users").select("*").eq("id",t.user.id).single();if(a(e),t.created_at){const e=new Date(t.created_at).getTime()+pt;d(e)}}catch(r){}i(!1)}));const{data:{subscription:e}}=ft.auth.onAuthStateChange(((e,t)=>m(null,null,(function*(){var r,n,o,c;if(l(t),s(null!=(r=null==t?void 0:t.user)?r:null),null==t?void 0:t.user)try{const{data:e}=yield ft.from("users").select("*").eq("id",t.user.id).single();if(a(e),t.created_at){const e=new Date(t.created_at).getTime()+pt;d(e)}}catch(u){}else a(null),d(null);if(i(!1),"SIGNED_IN"===e){if(null==t?void 0:t.user){const e={id:t.user.id,first_name:(null==(n=t.user.user_metadata)?void 0:n.first_name)||"",last_name:(null==(o=t.user.user_metadata)?void 0:o.last_name)||"",email:t.user.email,phone_number:(null==(c=t.user.user_metadata)?void 0:c.phone_number)||"",role:"user"},{error:s}=yield ft.from("users").upsert([e],{onConflict:"id"})}p({title:"Connexion réussie",description:"Bienvenue sur MaxiMarket !"})}else if("SIGNED_OUT"===e)d(null),h(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date");else if("TOKEN_REFRESHED"===e&&(null==t?void 0:t.created_at)){const e=new Date(t.created_at).getTime()+pt;d(e)}}))));return()=>e.unsubscribe()}),[p]);const x=()=>m(null,null,(function*(){try{const{error:e}=yield ft.auth.signOut();if(e)throw e;return d(null),h(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),!0}catch(e){return p({title:"Erreur de déconnexion",description:e.message,variant:"destructive"}),!1}})),v={user:r||t,userProfile:r,session:o,sessionExpiry:c,isRememberMe:u,loading:n,login:(e,t=!1)=>m(null,null,(function*(){try{if(!ht)throw Error("Supabase non configuré");const{data:s,error:r}=yield ft.auth.signInWithPassword({email:e.email,password:e.password});if(r)throw r;return y(t),!0}catch(s){return p({title:"Erreur de connexion",description:s.message,variant:"destructive"}),!1}})),register:e=>m(null,null,(function*(){try{if(!ht)throw Error("Supabase non configuré");const t=((null==e?void 0:e.phoneNumber)||"").trim(),s=/^\+?[1-9]\d{1,14}$/;if(!t)return p({title:"Numéro requis",description:"Le numéro de téléphone est obligatoire pour créer un compte.",variant:"destructive"}),!1;if(!s.test(t))return p({title:"Numéro invalide",description:"Veuillez saisir un numéro de téléphone valide (format international).",variant:"destructive"}),!1;const{data:r,error:a}=yield ft.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:window.location.origin+"/auth/callback",data:{first_name:e.firstName,last_name:e.lastName,phone_number:t}}});if(a)throw a;if(r.user){const{error:s}=yield ft.from("users").upsert([{id:r.user.id,first_name:e.firstName,last_name:e.lastName,email:e.email,phone_number:t,role:"user"}],{onConflict:"id"})}return r.user&&!r.user.email_confirmed_at?(p({title:"Inscription réussie",description:"Vérifiez votre email pour confirmer votre compte !"}),{success:!0,needsConfirmation:!0}):(p({title:"Inscription réussie",description:"Bienvenue sur MaxiMarket !"}),{success:!0,needsConfirmation:!1})}catch(t){return p({title:"Erreur d'inscription",description:t.message,variant:"destructive"}),!1}})),logout:x,extendSession:()=>m(null,null,(function*(){try{if(!o)return!1;const{data:e,error:t}=yield ft.auth.refreshSession();if(t)throw t;if(e.session){const t=new Date(e.session.created_at).getTime()+pt;return d(t),p({title:"Session étendue",description:"Votre session a été prolongée avec succès."}),!0}return!1}catch(e){return!1}})),getSessionStatus:()=>{if(!o)return"disconnected";if(u)return"remembered";if(c){const e=Date.now(),t=c-e;return t>0?t>3e5?"active":"expiring_soon":"expired"}return"active"},getSessionTimeLeft:()=>{if(!c)return 0;const e=Date.now();return Math.max(0,c-e)},resetPassword:e=>m(null,null,(function*(){try{const{error:t}=yield ft.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/reset-password"});if(t)throw t;return p({title:"Email envoyé",description:"Vérifiez votre boîte mail pour réinitialiser votre mot de passe."}),!0}catch(t){return p({title:"Erreur",description:t.message,variant:"destructive"}),!1}})),updatePassword:e=>m(null,null,(function*(){try{const{error:t}=yield ft.auth.updateUser({password:e});if(t)throw t;return p({title:"Mot de passe mis à jour",description:"Votre mot de passe a été modifié avec succès."}),!0}catch(t){return p({title:"Erreur",description:t.message,variant:"destructive"}),!1}})),hasRole:e=>{var s,a;return!!t&&((null==r?void 0:r.role)?r.role===e:(null==(s=t.user_metadata)?void 0:s.role)===e||(null==(a=t.app_metadata)?void 0:a.role)===e)},hasAnyRole:e=>{var s,a;if(!t)return!1;if(null==r?void 0:r.role)return e.includes(r.role);const n=(null==(s=t.user_metadata)?void 0:s.role)||(null==(a=t.app_metadata)?void 0:a.role);return e.includes(n)},isAuthenticated:!!t};return g.jsx(vt.Provider,{value:v,children:e})},jt=()=>{const e=ve.useContext(vt);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};
/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var wt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(e,t)=>{const s=ve.forwardRef(((s,r)=>{var a,n=s,{color:i="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:m,className:h="",children:p}=n,f=d(n,["color","size","strokeWidth","absoluteStrokeWidth","className","children"]);return ve.createElement("svg",l(c(l({ref:r},wt),{width:o,height:o,stroke:i,strokeWidth:m?24*+u/+o:u,className:["lucide","lucide-"+(a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),h].join(" ")}),f),[...t.map((([e,t])=>ve.createElement(e,t))),...Array.isArray(p)?p:[p]])}));return s.displayName=""+e,s},kt=Nt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),_t=Nt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),St=Nt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Mt=Nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ct=Nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Et=Nt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),At=Nt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Tt=Nt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Dt=Nt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ot=Nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Rt=Nt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),qt=Nt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Lt=Nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),zt=Nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Pt=Nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),It=Nt("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]),Ut=Nt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),Ft=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Bt=Nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vt=Nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),$t=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ht=Nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Wt=Nt("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Jt=Nt("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Gt=Nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Kt=Nt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Yt=Nt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Xt=Nt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Zt=Nt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Qt=Nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),es=Nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ts=Nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ss=Nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),rs=Nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),as=Nt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),ns=Nt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),is=Nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),os=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ls=Nt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),cs=Nt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ds=Nt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),us=Nt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ms=Nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hs=Nt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),ps=Nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),fs=Nt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),gs=Nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ys=Nt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),xs=Nt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),vs=Nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),bs=Nt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),js=Nt("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]),ws=Nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ns=Nt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ks=Nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),_s=Nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ss=Nt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Ms=Nt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Cs=Nt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Es=Nt("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),As=Nt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Ts=Nt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Ds=Nt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Os=Nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Rs=Nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),qs=Nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ls=Nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zs=Nt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ps=Nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Is=Nt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Us=Nt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Fs=Nt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Bs=Nt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Vs=Nt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),$s=Nt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Hs=Nt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Ws=Nt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Js=Nt("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Gs=Nt("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),Ks=Nt("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ys=Nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Xs=Nt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Zs=Nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qs=Nt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),er=Nt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),tr=Nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),sr=Nt("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),rr=Nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ar=Nt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),nr=Nt("SearchCode",[["path",{d:"m9 9-2 2 2 2",key:"17gsfh"}],["path",{d:"m13 13 2-2-2-2",key:"186z8k"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ir=Nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),or=Nt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),lr=Nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cr=Nt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),dr=Nt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ur=Nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),mr=Nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),hr=Nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),pr=Nt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),fr=Nt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),gr=Nt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),yr=Nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),xr=Nt("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),vr=Nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),br=Nt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),jr=Nt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),wr=Nt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Nr=Nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),kr=Nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_r=Nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Sr=Nt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Mr=Nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Cr=Nt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Er=Nt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Ar=Nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Tr=Nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Dr=Nt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Or=Nt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Rr=Nt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),qr=Nt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Lr=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zr=Nt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pr=Nt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ir=Nt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);
/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Ur(...e){return Ce(Ee(e))}function Fr(){return Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}function Br(e){if(!e)return"Date inconnue";const t=new Date(e),s=(new Date-t)/6e4,r=s/60,a=r/24;if(1>s)return"À l'instant";if(60>s){const e=Math.floor(s);return`Il y a ${e} minute${e>1?"s":""}`}if(24>r){const e=Math.floor(r);return`Il y a ${e} heure${e>1?"s":""}`}if(2>a)return"Hier";if(7>a){const e=Math.floor(a);return`Il y a ${e} jour${e>1?"s":""}`}if(30>a){const e=Math.floor(a/7);return`Il y a ${e} semaine${e>1?"s":""}`}return t.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}const Vr=Ae("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$r=be.forwardRef(((e,t)=>{var s=e,{className:r,variant:a,size:n,asChild:i=!1}=s,o=d(s,["className","variant","size","asChild"]);const c=i?y:"button";return g.jsx(c,l({className:Ur(Vr({variant:a,size:n,className:r})),ref:t},o))}));$r.displayName="Button";const Hr={name:"MaxiMarket",siteName:"MaxiMarket",tagline:"Votre Hub Innovant pour l'Afrique de l'Ouest",contactEmail:"contact@maxiimarket.com",supportEmail:"support@maxiimarket.com",infoEmail:"info@maxiimarket.com",phone:"+221 77 123 4567",address:"Dakar, Sénégal",socials:{github:"https://github.com/maximarket",linkedin:"https://linkedin.com/company/maximarket",twitter:"https://twitter.com/maximarket",instagram:"https://instagram.com/maximarket",facebook:"https://facebook.com/maximarket",youtube:"https://youtube.com/@maximarket"}},Wr=be.forwardRef(((e,t)=>{var s=e,{className:r,type:a}=s,n=d(s,["className","type"]);return g.jsx("input",l({type:a,className:Ur("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-foreground",r),ref:t},n))}));Wr.displayName="Input";var Jr,Gr,Kr={exports:{}},Yr={exports:{}};function Xr(){if(Gr)return Jr;function e(e,t){return function(){return e.apply(t,arguments)}}Gr=1;const{toString:t}=Object.prototype,{getPrototypeOf:s}=Object,{iterator:r,toStringTag:a}=Symbol,n=(e=>s=>{const r=t.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),o=e=>(e=e.toLowerCase(),t=>n(t)===e),d=e=>t=>typeof t===e,{isArray:u}=Array,g=d("undefined"),y=o("ArrayBuffer"),x=d("string"),v=d("function"),b=d("number"),j=e=>null!==e&&"object"==typeof e,w=e=>{if("object"!==n(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||a in e||r in e)},N=o("Date"),k=o("File"),_=o("Blob"),S=o("FileList"),M=o("URLSearchParams"),[C,E,A,T]=["ReadableStream","Request","Response","Headers"].map(o);function D(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let r,a;if("object"!=typeof e&&(e=[e]),u(e))for(r=0,a=e.length;a>r;r++)t.call(null,e[r],r,e);else{const a=s?Object.getOwnPropertyNames(e):Object.keys(e),n=a.length;let i;for(r=0;n>r;r++)i=a[r],t.call(null,e[i],i,e)}}function O(e,t){t=t.toLowerCase();const s=Object.keys(e);let r,a=s.length;for(;a-- >0;)if(r=s[a],t===r.toLowerCase())return r;return null}const R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:ct,q=e=>!g(e)&&e!==R,L=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&s(Uint8Array)),z=o("HTMLFormElement"),P=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),I=o("RegExp"),U=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};D(s,((s,a)=>{let n;!1!==(n=t(s,a,e))&&(r[a]=n||s)})),Object.defineProperties(e,r)},F=o("AsyncFunction"),B=(V="function"==typeof setImmediate,$=v(R.postMessage),V?setImmediate:$?(H="axios@"+Math.random(),W=[],R.addEventListener("message",(({source:e,data:t})=>{e===R&&t===H&&W.length&&W.shift()()}),!1),e=>{W.push(e),R.postMessage(H,"*")}):e=>setTimeout(e));var V,$,H,W;const J="undefined"!=typeof queueMicrotask?queueMicrotask.bind(R):"undefined"!=typeof process&&process.nextTick||B;var G={isArray:u,isArrayBuffer:y,isBuffer:function(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=n(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer),t},isString:x,isNumber:b,isBoolean:e=>!0===e||!1===e,isObject:j,isPlainObject:w,isReadableStream:C,isRequest:E,isResponse:A,isHeaders:T,isUndefined:g,isDate:N,isFile:k,isBlob:_,isRegExp:I,isFunction:v,isStream:e=>j(e)&&v(e.pipe),isURLSearchParams:M,isTypedArray:L,isFileList:S,forEach:D,merge:function e(){const{caseless:t}=q(this)&&this||{},s={},r=(r,a)=>{const n=t&&O(s,a)||a;w(s[n])&&w(r)?s[n]=e(s[n],r):w(r)?s[n]=e({},r):u(r)?s[n]=r.slice():s[n]=r};for(let a=0,n=arguments.length;n>a;a++)arguments[a]&&D(arguments[a],r);return s},extend:(t,s,r,{allOwnKeys:a}={})=>(D(s,((s,a)=>{r&&v(s)?t[a]=e(s,r):t[a]=s}),{allOwnKeys:a}),t),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,r,a)=>{let n,i,o;const l={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],a&&!a(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==r&&s(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:n,kindOfTest:o,endsWith:(e,t,s)=>{e+="",(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return-1!==r&&r===s},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!b(t))return null;const s=Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[r]).call(e);let a;for(;(a=s.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const r=[];for(;null!==(s=e.exec(t));)r.push(s);return r},isHTMLForm:z,hasOwnProperty:P,hasOwnProp:P,reduceDescriptors:U,freezeMethods:e=>{U(e,((t,s)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const r=e[s];v(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},r=e=>{e.forEach((e=>{s[e]=!0}))};return u(e)?r(e):r((e+"").split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:O,global:R,isContextDefined:q,isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[a]&&e[r])},toJSONObject:e=>{const t=[,,,,,,,,,,],s=(e,r)=>{if(j(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=u(e)?[]:{};return D(e,((e,t)=>{const n=s(e,r+1);!g(n)&&(a[t]=n)})),t[r]=void 0,a}}return e};return s(e,0)},isAsyncFn:F,isThenable:e=>e&&(j(e)||v(e))&&v(e.then)&&v(e.catch),setImmediate:B,asap:J,isIterable:e=>null!=e&&v(e[r])};function K(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}G.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Y=K.prototype,X={};function Z(e){return G.isPlainObject(e)||G.isArray(e)}function Q(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function ee(e,t,s){return e?e.concat(t).map((function(e,t){return e=Q(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{X[e]={value:e}})),Object.defineProperties(K,X),Object.defineProperty(Y,"isAxiosError",{value:!0}),K.from=(e,t,s,r,a,n)=>{const i=Object.create(Y);return G.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),K.call(i,e.message,t,s,r,a),i.cause=e,i.name=e.name,n&&Object.assign(i,n),i};const te=G.toFlatObject(G,{},null,(function(e){return/^is[A-Z]/.test(e)}));function se(e,t,s){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(s=G.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!G.isUndefined(t[e])}))).metaTokens,a=s.visitor||c,n=s.dots,i=s.indexes,o=(s.Blob||"undefined"!=typeof Blob&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(G.isDate(e))return e.toISOString();if(G.isBoolean(e))return e.toString();if(!o&&G.isBlob(e))throw new K("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(e)||G.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,a){let o=e;if(e&&!a&&"object"==typeof e)if(G.endsWith(s,"{}"))s=r?s:s.slice(0,-2),e=JSON.stringify(e);else if(G.isArray(e)&&function(e){return G.isArray(e)&&!e.some(Z)}(e)||(G.isFileList(e)||G.endsWith(s,"[]"))&&(o=G.toArray(e)))return s=Q(s),o.forEach((function(e,r){!G.isUndefined(e)&&null!==e&&t.append(!0===i?ee([s],r,n):null===i?s:s+"[]",l(e))})),!1;return!!Z(e)||(t.append(ee(a,s,n),l(e)),!1)}const d=[],u=Object.assign(te,{defaultVisitor:c,convertValue:l,isVisitable:Z});if(!G.isObject(e))throw new TypeError("data must be an object");return function e(s,r){if(!G.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+r.join("."));d.push(s),G.forEach(s,(function(s,n){!0===(!(G.isUndefined(s)||null===s)&&a.call(t,s,G.isString(n)?n.trim():n,r,u))&&e(s,r?r.concat(n):[n])})),d.pop()}}(e),t}function re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ae(e,t){this._pairs=[],e&&se(e,this,t)}const ne=ae.prototype;function ie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oe(e,t,s){if(!t)return e;const r=s&&s.encode||ie;G.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let n;if(n=a?a(t,s):G.isURLSearchParams(t)?t.toString():new ae(t,s).toString(r),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,re)}:re;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var le=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ce={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},de={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ue="undefined"!=typeof window&&"undefined"!=typeof document,me="object"==typeof navigator&&navigator||void 0,he=ue&&(!me||0>["ReactNative","NativeScript","NS"].indexOf(me.product)),pe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,fe=ue&&window.location.href||"http://localhost";var ge=l(l({},Object.freeze({__proto__:null,hasBrowserEnv:ue,hasStandardBrowserWebWorkerEnv:pe,hasStandardBrowserEnv:he,navigator:me,origin:fe})),de);function ye(e){function t(e,s,r,a){let n=e[a++];if("__proto__"===n)return!0;const i=Number.isFinite(+n),o=a>=e.length;return n=!n&&G.isArray(r)?r.length:n,o?(G.hasOwnProp(r,n)?r[n]=[r[n],s]:r[n]=s,!i):(r[n]&&G.isObject(r[n])||(r[n]=[]),t(e,s,r[n],a)&&G.isArray(r[n])&&(r[n]=function(e){const t={},s=Object.keys(e);let r;const a=s.length;let n;for(r=0;a>r;r++)n=s[r],t[n]=e[n];return t}(r[n])),!i)}if(G.isFormData(e)&&G.isFunction(e.entries)){const s={};return G.forEachEntry(e,((e,r)=>{t(function(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,s,0)})),s}return null}const xe={transitional:ce,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,a=G.isObject(e);if(a&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return r?JSON.stringify(ye(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return se(e,new ge.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,r){return ge.isNode&&G.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=G.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return se(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e){if(G.isString(e))try{return(0,JSON.parse)(e),G.trim(e)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xe.transitional,s=t&&t.forcedJSONParsing,r="json"===this.responseType;if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(s&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ge.classes.FormData,Blob:ge.classes.Blob},validateStatus:function(e){return e>=200&&300>e},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],(e=>{xe.headers[e]={}}));var ve=xe;const be=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),je=Symbol("internals");function we(e){return e&&(e+"").trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:G.isArray(e)?e.map(Ne):e+""}function ke(e,t,s,r,a){return G.isFunction(r)?r.call(this,t,s):(a&&(t=s),G.isString(t)?G.isString(r)?-1!==t.indexOf(r):G.isRegExp(r)?r.test(t):void 0:void 0)}class _e{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function a(e,t,s){const a=we(t);if(!a)throw Error("header name must be a non-empty string");const n=G.findKey(r,a);(!n||void 0===r[n]||!0===s||void 0===s&&!1!==r[n])&&(r[n||t]=Ne(e))}const n=(e,t)=>G.forEach(e,((e,s)=>a(e,s,t)));if(G.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(G.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let s,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),s=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!s||t[s]&&be[s]||("set-cookie"===s?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)})),t})(e),t);else if(G.isObject(e)&&G.isIterable(e)){let s,r,a={};for(const t of e){if(!G.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(s=a[r])?G.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}n(a,t)}else null!=e&&a(t,e,s);return this}get(e,t){if(e=we(e)){const s=G.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}(e);if(G.isFunction(t))return t.call(this,e,s);if(G.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=we(e)){const s=G.findKey(this,e);return!(!s||void 0===this[s]||t&&!ke(0,this[s],s,t))}return!1}delete(e,t){const s=this;let r=!1;function a(e){if(e=we(e)){const a=G.findKey(s,e);!a||t&&!ke(0,s[a],a,t)||(delete s[a],r=!0)}}return G.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const a=t[s];e&&!ke(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,s={};return G.forEach(this,((r,a)=>{const n=G.findKey(s,a);if(n)return t[n]=Ne(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(a):(a+"").trim();i!==a&&delete t[a],t[i]=Ne(r),s[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,((s,r)=>{null!=s&&!1!==s&&(t[r]=e&&G.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach((e=>s.set(e))),s}static accessor(e){const t=(this[je]=this[je]={accessors:{}}).accessors,s=this.prototype;function r(e){const r=we(e);t[r]||(function(e,t){const s=G.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+s,{value:function(e,s,a){return this[r].call(this,t,e,s,a)},configurable:!0})}))}(s,e),t[r]=!0)}return G.isArray(e)?e.forEach(r):r(e),this}}_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(_e.prototype,(({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}})),G.freezeMethods(_e);var Se=_e;function Me(e,t){const s=this||ve,r=t||s,a=Se.from(r.headers);let n=r.data;return G.forEach(e,(function(e){n=e.call(s,n,a.normalize(),t?t.status:void 0)})),a.normalize(),n}function Ce(e){return!(!e||!e.__CANCEL__)}function Ee(e,t,s){K.call(this,null==e?"canceled":e,K.ERR_CANCELED,t,s),this.name="CanceledError"}function Ae(e,t,s){const r=s.config.validateStatus;s.status&&r&&!r(s.status)?t(new K("Request failed with status code "+s.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}G.inherits(Ee,K,{__CANCEL__:!0});const Te=(e,t,s=3)=>{let r=0;const a=function(e,t){const s=Array(e=e||10),r=Array(e);let a,n=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];a||(a=l),s[n]=o,r[n]=l;let d=i,u=0;for(;d!==n;)u+=s[d++],d%=e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),t>l-a)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,t){let s,r,a=0,n=1e3/t;const i=(t,n=Date.now())=>{a=n,s=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),o=t-a;n>o?(s=e,r||(r=setTimeout((()=>{r=null,i(s)}),n-o))):i(e,t)},()=>s&&i(s)]}((s=>{const n=s.loaded,i=s.lengthComputable?s.total:void 0,o=n-r,l=a(o);r=n,e({loaded:n,total:i,progress:i?n/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&i>=n?(i-n)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),s)},De=(e,t)=>{const s=null!=e;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Oe=e=>(...t)=>G.asap((()=>e(...t)));var Re=ge.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,ge.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(ge.origin),ge.navigator&&/(msie|trident)/i.test(ge.navigator.userAgent)):()=>!0,qe=ge.hasStandardBrowserEnv?{write(e,t,s,r,a,n){const i=[e+"="+encodeURIComponent(t)];G.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),G.isString(r)&&i.push("path="+r),G.isString(a)&&i.push("domain="+a),!0===n&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Le(e,t,s){return e&&(!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ze=e=>e instanceof Se?l({},e):e;function Pe(e,t){t=t||{};const s={};function r(e,t,s,r){return G.isPlainObject(e)&&G.isPlainObject(t)?G.merge.call({caseless:r},e,t):G.isPlainObject(t)?G.merge({},t):G.isArray(t)?t.slice():t}function a(e,t,s,a){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function n(e,t){if(!G.isUndefined(t))return r(void 0,t)}function i(e,t){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(s,a,n){return n in t?r(s,a):n in e?r(void 0,s):void 0}const l={url:n,method:n,data:n,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,s)=>a(ze(e),ze(t),0,!0)};return G.forEach(Object.keys(Object.assign({},e,t)),(function(r){const n=l[r]||a,i=n(e[r],t[r],r);G.isUndefined(i)&&n!==o||(s[r]=i)})),s}var Ie=e=>{const t=Pe({},e);let s,{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Se.from(o),t.url=oe(Le(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),G.isFormData(r))if(ge.hasStandardBrowserEnv||ge.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(ge.hasStandardBrowserEnv&&(a&&G.isFunction(a)&&(a=a(t)),a||!1!==a&&Re(t.url))){const e=n&&i&&qe.read(i);e&&o.set(n,e)}return t},Ue="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const r=Ie(e);let a=r.data;const n=Se.from(r.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Se.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Ae((function(e){t(e),p()}),(function(e){s(e),p()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(s(new K("Request aborted",K.ECONNABORTED,e,f)),f=null)},f.onerror=function(){s(new K("Network Error",K.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||ce;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),s(new K(t,a.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,f)),f=null},void 0===a&&n.setContentType(null),"setRequestHeader"in f&&G.forEach(n.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),G.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),h&&([l,d]=Te(h,!0),f.addEventListener("progress",l)),m&&f.upload&&([o,c]=Te(m),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{f&&(s(!t||t.type?new Ee(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===ge.protocols.indexOf(y)?s(new K("Unsupported protocol "+y+":",K.ERR_BAD_REQUEST,e)):f.send(a||null)}))},Fe=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,r=new AbortController;const a=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof K?t:new Ee(t instanceof Error?t.message:t))}};let n=t&&setTimeout((()=>{n=null,a(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))}),t);const i=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:o}=r;return o.unsubscribe=()=>G.asap(i),o}};const Be=function*(e,t){let s=e.byteLength;if(t>s)return void(yield e);let r,a=0;for(;s>a;)r=a+t,yield e.slice(a,r),a=r},Ve=function(e){return p(this,null,(function*(){if(e[Symbol.asyncIterator])return void(yield*f(e));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield new h(t.read());if(e)break;yield s}}finally{yield new h(t.cancel())}}))},$e=(e,t,s,r)=>{const a=function(e,t){return p(this,null,(function*(){try{for(var s,r,a,n=((e,t,s)=>(t=e[i("asyncIterator")])?t.call(e):(e=e[i("iterator")](),t={},(s=(s,r)=>(r=e[s])&&(t[s]=t=>new Promise(((s,a,n)=>(t=r.call(e,t),n=t.done,Promise.resolve(t.value).then((e=>s({value:e,done:n})),a))))))("next"),s("return"),t))(Ve(e));s=!(r=yield new h(n.next())).done;s=!1){const e=r.value;yield*f(Be(e,t))}}catch(r){a=[r]}finally{try{s&&(r=n.return)&&(yield new h(r.call(n)))}finally{if(a)throw a[0]}}}))}(e,t);let n,o=0,l=e=>{n||(n=!0,r&&r(e))};return new ReadableStream({pull(e){return m(this,null,(function*(){try{const{done:t,value:r}=yield a.next();if(t)return l(),void e.close();let n=r.byteLength;if(s){let e=o+=n;s(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}}))},cancel:e=>(l(e),a.return())},{highWaterMark:2})},He="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,We=He&&"function"==typeof ReadableStream,Je=He&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):e=>m(null,null,(function*(){return new Uint8Array(yield new Response(e).arrayBuffer())}))),Ge=(e,...t)=>{try{return!!e(...t)}catch(s){return!1}},Ke=We&&Ge((()=>{let e=!1;const t=new Request(ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ye=We&&Ge((()=>G.isReadableStream(new Response("").body))),Xe={stream:Ye&&(e=>e.body)};var Ze;He&&(Ze=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Xe[e]&&(Xe[e]=G.isFunction(Ze[e])?t=>t[e]():(t,s)=>{throw new K(`Response type '${e}' is not supported`,K.ERR_NOT_SUPPORT,s)})})));const Qe={http:null,xhr:Ue,fetch:He&&(e=>m(null,null,(function*(){let{url:t,method:s,data:r,signal:a,cancelToken:n,timeout:i,onDownloadProgress:o,onUploadProgress:d,responseType:u,headers:h,withCredentials:p="same-origin",fetchOptions:f}=Ie(e);u=u?(u+"").toLowerCase():"text";let g,y=Fe([a,n&&n.toAbortSignal()],i);const x=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let v;try{if(d&&Ke&&"get"!==s&&"head"!==s&&0!==(v=yield((e,t)=>m(null,null,(function*(){const s=G.toFiniteNumber(e.getContentLength());return null==s?(e=>m(null,null,(function*(){if(null==e)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e)){const t=new Request(ge.origin,{method:"POST",body:e});return(yield t.arrayBuffer()).byteLength}return G.isArrayBufferView(e)||G.isArrayBuffer(e)?e.byteLength:(G.isURLSearchParams(e)&&(e+=""),G.isString(e)?(yield Je(e)).byteLength:void 0)})))(t):s})))(h,r))){let e,s=new Request(t,{method:"POST",body:r,duplex:"half"});if(G.isFormData(r)&&(e=s.headers.get("content-type"))&&h.setContentType(e),s.body){const[e,t]=De(v,Te(Oe(d)));r=$e(s.body,65536,e,t)}}G.isString(p)||(p=p?"include":"omit");const a="credentials"in Request.prototype;g=new Request(t,c(l({},f),{signal:y,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:a?p:void 0}));let n=yield fetch(g,f);const i=Ye&&("stream"===u||"response"===u);if(Ye&&(o||i&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=n[t]}));const t=G.toFiniteNumber(n.headers.get("content-length")),[s,r]=o&&De(t,Te(Oe(o),!0))||[];n=new Response($e(n.body,65536,s,(()=>{r&&r(),x&&x()})),e)}u=u||"text";let b=yield Xe[G.findKey(Xe,u)||"text"](n,e);return!i&&x&&x(),yield new Promise(((t,s)=>{Ae(t,s,{data:b,headers:Se.from(n.headers),status:n.status,statusText:n.statusText,config:e,request:g})}))}catch(b){if(x&&x(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new K("Network Error",K.ERR_NETWORK,e,g),{cause:b.cause||b});throw K.from(b,b&&b.code,e,g)}})))};G.forEach(Qe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}}));const et=e=>"- "+e,tt=e=>G.isFunction(e)||null===e||!1===e;var st=e=>{e=G.isArray(e)?e:[e];const{length:t}=e;let s,r;const a={};for(let n=0;t>n;n++){let t;if(s=e[n],r=s,!tt(s)&&(r=Qe[(t=s+"").toLowerCase()],void 0===r))throw new K(`Unknown adapter '${t}'`);if(r)break;a[t||"#"+n]=r}if(!r){const e=Object.entries(a).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new K("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(et).join("\n"):" "+et(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function rt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function at(e){return rt(e),e.headers=Se.from(e.headers),e.data=Me.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),st(e.adapter||ve.adapter)(e).then((function(t){return rt(e),t.data=Me.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t}),(function(t){return Ce(t)||(rt(e),t&&t.response&&(t.response.data=Me.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)}))}const nt="1.10.0",it={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{it[e]=function(s){return typeof s===e||"a"+(1>t?"n ":" ")+e}}));const ot={};it.transitional=function(e,t,s){return(r,a,n)=>{if(!1===e)throw new K(function(e,t){return"[Axios v"+nt+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}(a," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!ot[a]&&(ot[a]=!0),!e||e(r,a,n)}},it.spelling=function(e){return(e,t)=>!0};var lt={assertOptions:function(e,t,s){if("object"!=typeof e)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const n=r[a],i=t[n];if(i){const t=e[n],s=void 0===t||i(t,n,e);if(!0!==s)throw new K("option "+n+" must be "+s,K.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new K("Unknown option "+n,K.ERR_BAD_OPTION)}},validators:it};const dt=lt.validators;class ut{constructor(e){this.defaults=e||{},this.interceptors={request:new le,response:new le}}request(e,t){return m(this,null,(function*(){try{return yield this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=Error();const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!(s.stack+"").endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(r){}}throw s}}))}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Pe(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:a}=t;void 0!==s&&lt.assertOptions(s,{silentJSONParsing:dt.transitional(dt.boolean),forcedJSONParsing:dt.transitional(dt.boolean),clarifyTimeoutError:dt.transitional(dt.boolean)},!1),null!=r&&(G.isFunction(r)?t.paramsSerializer={serialize:r}:lt.assertOptions(r,{encode:dt.function,serialize:dt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lt.assertOptions(t,{baseUrl:dt.spelling("baseURL"),withXsrfToken:dt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=a&&G.merge(a.common,a[t.method]);a&&G.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Se.concat(n,a);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[at.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);d>u;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;d>u;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=at(m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;d>u;)c=c.then(l[u++],l[u++]);return c}getUri(e){return oe(Le((e=Pe(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],(function(e){ut.prototype[e]=function(t,s){return this.request(Pe(s||{},{method:e,url:t,data:(s||{}).data}))}})),G.forEach(["post","put","patch"],(function(e){function t(t){return function(s,r,a){return this.request(Pe(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}ut.prototype[e]=t(),ut.prototype[e+"Form"]=t(!0)}));var mt=ut;class ht{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{s.subscribe(e),t=e})).then(e);return r.cancel=function(){s.unsubscribe(t)},r},e((function(e,r,a){s.reason||(s.reason=new Ee(e,r,a),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ht((function(t){e=t})),cancel:e}}}var pt=ht;const ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ft).forEach((([e,t])=>{ft[t]=e}));var gt=ft;const yt=function t(s){const r=new mt(s),a=e(mt.prototype.request,r);return G.extend(a,mt.prototype,r,{allOwnKeys:!0}),G.extend(a,r,null,{allOwnKeys:!0}),a.create=function(e){return t(Pe(s,e))},a}(ve);return yt.Axios=mt,yt.CanceledError=Ee,yt.CancelToken=pt,yt.isCancel=Ce,yt.VERSION=nt,yt.toFormData=se,yt.AxiosError=K,yt.Cancel=yt.CanceledError,yt.all=function(e){return Promise.all(e)},yt.spread=function(e){return function(t){return e.apply(null,t)}},yt.isAxiosError=function(e){return G.isObject(e)&&!0===e.isAxiosError},yt.mergeConfig=Pe,yt.AxiosHeaders=Se,yt.formToJSON=e=>ye(G.isHTMLForm(e)?new FormData(e):e),yt.getAdapter=st,yt.HttpStatusCode=gt,yt.default=yt,Jr=yt}const Zr={version:"8.1.5"};var Qr,ea,ta,sa,ra,aa,na,ia,oa,la,ca,da,ua,ma,ha,pa,fa,ga,ya,xa,va,ba,ja,wa,Na,ka,_a,Sa,Ma,Ca,Ea,Aa,Ta,Da,Oa,Ra,qa,La,za,Pa,Ia,Ua,Fa,Ba,Va,$a,Ha,Wa,Ja,Ga,Ka,Ya,Xa,Za,Qa,en;function tn(){return ea?Qr:(ea=1,Qr=function e(t,s,r){if("object"!=typeof t||null===t)throw Error("Non object passed to convertKeys: "+t);if(Array.isArray(t))return t;Array.isArray(r)||(r=[]);for(const a in t)if(t.hasOwnProperty(a)){const n=s(a);"object"==typeof t[a]&&null!==t[a]&&(r.includes(a)||r.includes(n)||(t[a]=e(t[a],s,r))),n!==a&&(t[n]=t[a],delete t[a])}return t})}function sn(){if(aa)return ra;aa=1;const e=tn(),t=sa?ta:(sa=1,ta=function(e){if("string"!=typeof e)throw Error("String expected for conversion to snake case");return e.trim().replace(/_+|\-+/g," ").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(e,t){return 0===+e?"":0===t?e.toLowerCase():e.toUpperCase()}))});return ra=function(s,r){return e(s,t,r)}}function rn(){if(la)return oa;la=1;const e=tn(),t=ia?na:(ia=1,na=function(e){if("string"!=typeof e)throw Error("String expected for conversion to snake case");return e.trim().replace(/(\s*\-*\b\w|[A-Z])/g,(function(e){return("_"===(e=e.trim().toLowerCase().replace("-",""))[0]?"":"_")+e})).slice(1)});return oa=function(s,r){return e(s,t,r)}}function an(){return da?ca:(da=1,ca=function(e){return JSON.parse(JSON.stringify(e))})}function nn(){return pa?ha:(pa=1,ha=function(e){if(-1===e.indexOf("<"))return["",e];let[t,s]=e.split("<");return t=t.trim(),s=s.replace(">","").trim(),[t,s]})}function on(){if(ga)return fa;ga=1;const e=nn();class t{constructor(e){e&&this.fromData(e)}fromData(t){if("string"==typeof t){const[s,r]=e(t);t={name:s,email:r}}if("object"!=typeof t)throw Error("Expecting object or string for EmailAddress data");const{name:s,email:r}=t;this.setEmail(r),this.setName(s)}setName(e){if(void 0!==e){if("string"!=typeof e)throw Error("String expected for `name`");this.name=e}}setEmail(e){if(void 0===e)throw Error("Must provide `email`");if("string"!=typeof e)throw Error("String expected for `email`");this.email=e}toJSON(){const{email:e,name:t}=this,s={email:e};return""!==t&&(s.name=t),s}static create(e){return Array.isArray(e)?e.filter((e=>!!e)).map((e=>this.create(e))):e instanceof t?e:new t(e)}}return fa=t}function ln(){if(xa)return ya;xa=1;var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var s={}.toString.call(e);return"[object RegExp]"===s||"[object Date]"===s||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?i(Array.isArray(e)?[]:{},e,t):e}function r(e,t,r){return e.concat(t).map((function(e){return s(e,r)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function n(e,t){try{return t in e}catch(s){return!1}}function i(t,o,l){(l=l||{}).arrayMerge=l.arrayMerge||r,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=s;var c=Array.isArray(o);return c===Array.isArray(t)?c?l.arrayMerge(t,o,l):function(e,t,r){var o={};return r.isMergeableObject(e)&&a(e).forEach((function(t){o[t]=s(e[t],r)})),a(t).forEach((function(a){(function(e,t){return n(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(n(e,a)&&r.isMergeableObject(t[a])?o[a]=function(e,t){if(!t.customMerge)return i;var s=t.customMerge(e);return"function"==typeof s?s:i}(a,r)(e[a],t[a],r):o[a]=s(t[a],r))})),o}(t,o,l):s(o,l)}return i.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce((function(e,s){return i(e,s,t)}),{})},ya=i}function cn(){return ba?va:(ba=1,va=function e(t,s="{{",r="}}"){if(Array.isArray(t))return t.map((t=>e(t,s,r)));const a={};for(const n in t)t.hasOwnProperty(n)&&(a[s+n+r]=t[n]+"");return a})}function dn(){if(wa)return ja;wa=1;const e=on(),t=sn(),s=rn(),r=an(),a=ln(),n=cn();return ja=class{constructor(e){this.to=[],this.cc=[],this.bcc=[],this.headers={},this.customArgs={},this.substitutions={},this.substitutionWrappers=["{{","}}"],this.dynamicTemplateData={},e&&this.fromData(e)}fromData(e){if("object"!=typeof e)throw Error("Expecting object for Mail data");e=r(e),e=t(e,["substitutions","dynamicTemplateData","customArgs","headers"]);const{to:s,from:a,cc:n,bcc:i,subject:o,headers:l,customArgs:c,sendAt:d,substitutions:u,substitutionWrappers:m,dynamicTemplateData:h}=e;this.setTo(s),this.setFrom(a),this.setCc(n),this.setBcc(i),this.setSubject(o),this.setHeaders(l),this.setSubstitutions(u),this.setSubstitutionWrappers(m),this.setCustomArgs(c),this.setDynamicTemplateData(h),this.setSendAt(d)}setSubject(e){if(void 0!==e){if("string"!=typeof e)throw Error("String expected for `subject`");this.subject=e}}setSendAt(e){if(void 0!==e){if(!Number.isInteger(e))throw Error("Integer expected for `sendAt`");this.sendAt=e}}setTo(t){void 0!==t&&(Array.isArray(t)||(t=[t]),this.to=e.create(t))}setFrom(t){void 0!==t&&(this.from=e.create(t))}addTo(t){void 0!==t&&this.to.push(e.create(t))}setCc(t){void 0!==t&&(Array.isArray(t)||(t=[t]),this.cc=e.create(t))}addCc(t){void 0!==t&&this.cc.push(e.create(t))}setBcc(t){void 0!==t&&(Array.isArray(t)||(t=[t]),this.bcc=e.create(t))}addBcc(t){void 0!==t&&this.bcc.push(e.create(t))}setHeaders(e){if(void 0!==e){if("object"!=typeof e||null===e)throw Error("Object expected for `headers`");this.headers=e}}addHeader(e,t){if("string"!=typeof e)throw Error("String expected for header key");if("string"!=typeof t)throw Error("String expected for header value");this.headers[e]=t}setCustomArgs(e){if(void 0!==e){if("object"!=typeof e||null===e)throw Error("Object expected for `customArgs`");this.customArgs=e}}addCustomArg(e,t){if("string"!=typeof e)throw Error("String expected for custom arg key");if("string"!=typeof t)throw Error("String expected for custom arg value");this.customArgs[e]=t}setSubstitutions(e){if(void 0!==e){if("object"!=typeof e)throw Error("Object expected for `substitutions`");this.substitutions=e}}addSubstitution(e,t){if("string"!=typeof e)throw Error("String expected for substitution key");if("string"!=typeof t&&"number"!=typeof t)throw Error("String or Number expected for substitution value");this.substitutions[e]=t}reverseMergeSubstitutions(e){if(null!=e){if("object"!=typeof e)throw Error("Object expected for `substitutions` in reverseMergeSubstitutions");this.substitutions=Object.assign({},e,this.substitutions)}}setSubstitutionWrappers(e){if(null!=e){if(!Array.isArray(e)||2!==e.length)throw Error("Array expected with two elements for `substitutionWrappers`");this.substitutionWrappers=e}}deepMergeDynamicTemplateData(e){if(null!=e){if("object"!=typeof e)throw Error("Object expected for `dynamicTemplateData` in deepMergeDynamicTemplateData");this.dynamicTemplateData=a(e,this.dynamicTemplateData)}}setDynamicTemplateData(e){if(void 0!==e){if("object"!=typeof e)throw Error("Object expected for `dynamicTemplateData`");this.dynamicTemplateData=e}}toJSON(){const{to:e,from:t,cc:r,bcc:a,subject:i,headers:o,customArgs:l,sendAt:c,substitutions:d,substitutionWrappers:u,dynamicTemplateData:m}=this,h={to:e};if(Array.isArray(r)&&r.length>0&&(h.cc=r),Array.isArray(a)&&a.length>0&&(h.bcc=a),Object.keys(o).length>0&&(h.headers=o),d&&Object.keys(d).length>0){const[e,t]=u;h.substitutions=n(d,e,t)}return Object.keys(l).length>0&&(h.customArgs=l),m&&Object.keys(m).length>0&&(h.dynamicTemplateData=m),void 0!==i&&(h.subject=i),void 0!==c&&(h.sendAt=c),void 0!==t&&(h.from=t),s(h,["substitutions","dynamicTemplateData","customArgs","headers"])}}}function un(){return ka?Na:(ka=1,Na=function(e){return e.map((e=>"object"==typeof e&&null!==e&&"function"==typeof e.toJSON?e.toJSON():e))})}function mn(){if(Pa)return za;Pa=1;const e=function(){if(ma)return ua;ma=1;const e=sn(),t=rn(),s=an(),r=ut,a=ut;return ua=class{constructor(e){e&&this.fromData(e)}fromData(t){if("object"!=typeof t)throw Error("Expecting object for Mail data");t=s(t),t=e(t);const{content:r,filename:a,type:n,disposition:i,contentId:o,filePath:l}=t;if(void 0!==r&&void 0!==l)throw Error("The props 'content' and 'filePath' cannot be used together.");this.setFilename(a),this.setType(n),this.setDisposition(i),this.setContentId(o),this.setContent(l?this.readFile(l):r)}readFile(e){return r.readFileSync(a.resolve(e))}setContent(e){if("string"!=typeof e){if(e instanceof Buffer&&void 0!==e.toString)return this.content=e.toString(),void("attachment"===this.disposition&&(this.content=e.toString("base64")));throw Error("`content` expected to be either Buffer or string")}this.content=e}setFileContent(e){if(!(e instanceof Buffer&&void 0!==e.toString))throw Error("`content` expected to be Buffer");this.content=e.toString("base64")}setFilename(e){if(void 0!==e){if(e&&"string"!=typeof e)throw Error("String expected for `filename`");this.filename=e}}setType(e){if(void 0!==e){if("string"!=typeof e)throw Error("String expected for `type`");this.type=e}}setDisposition(e){if(void 0!==e){if("string"!=typeof e)throw Error("String expected for `disposition`");this.disposition=e}}setContentId(e){if(void 0!==e){if("string"!=typeof e)throw Error("String expected for `contentId`");this.contentId=e}}toJSON(){const{content:e,filename:s,type:r,disposition:a,contentId:n}=this,i={content:e,filename:s};return void 0!==r&&(i.type=r),void 0!==a&&(i.disposition=a),void 0!==n&&(i.contentId=n),t(i)}}}(),t=on(),s=function(){if(Aa)return Ea;Aa=1;const e=on(),t=dn(),s=sn(),r=rn(),a=an(),n=un(),{DYNAMIC_TEMPLATE_CHAR_WARNING:i}=Sa?_a:(Sa=1,_a={DYNAMIC_TEMPLATE_CHAR_WARNING:"\nContent with characters ', \" or & may need to be escaped with three brackets\n{{{ content }}}\nSee https://sendgrid.com/docs/for-developers/sending-email/using-handlebars/ for more information."}),{validateMailSettings:o,validateTrackingSettings:l}=function(){if(Ca)return Ma;Ca=1;const e=(e,t,s,r)=>{if(void 0!==e&&void 0!==e[s]&&typeof e[s]!==r)throw Error(`${r} expected for \`${t}.${s}\``)};return Ma={validateMailSettings(t){if("object"!=typeof t)throw Error("Object expected for `mailSettings`");const{bcc:s,bypassListManagement:r,bypassSpamManagement:a,bypassBounceManagement:n,bypassUnsubscribeManagement:i,footer:o,sandboxMode:l,spamCheck:c}=t;e(s,"bcc","enable","boolean"),e(s,"bcc","email","string"),e(r,"bypassListManagement","enable","boolean"),e(a,"bypassSpamManagement","enable","boolean"),e(n,"bypassBounceManagement","enable","boolean"),e(i,"bypassUnsubscribeManagement","enable","boolean"),e(o,"footer","enable","boolean"),e(o,"footer","text","string"),e(o,"footer","html","string"),e(l,"sandboxMode","enable","boolean"),e(c,"spamCheck","enable","boolean"),e(c,"spamCheck","threshold","number"),e(c,"spamCheck","postToUrl","string")},validateTrackingSettings(t){if("object"!=typeof t)throw Error("Object expected for `trackingSettings`");const{clickTracking:s,openTracking:r,subscriptionTracking:a,ganalytics:n}=t;e(s,"clickTracking","enable","boolean"),e(s,"clickTracking","enableText","boolean"),e(r,"openTracking","enable","boolean"),e(r,"openTracking","substitutionTag","string"),e(a,"subscriptionTracking","enable","boolean"),e(a,"subscriptionTracking","text","string"),e(a,"subscriptionTracking","html","string"),e(a,"subscriptionTracking","substitutionTag","string"),e(n,"ganalytics","enable","boolean"),e(n,"ganalytics","utm_source","string"),e(n,"ganalytics","utm_medium","string"),e(n,"ganalytics","utm_term","string"),e(n,"ganalytics","utm_content","string"),e(n,"ganalytics","utm_campaign","string")}}}();class c{constructor(e){this.isDynamic=!1,this.hideWarnings=!1,this.personalizations=[],this.attachments=[],this.content=[],this.categories=[],this.headers={},this.sections={},this.customArgs={},this.trackingSettings={},this.mailSettings={},this.asm={},this.substitutions=null,this.substitutionWrappers=null,this.dynamicTemplateData=null,e&&this.fromData(e)}fromData(e){if("object"!=typeof e)throw Error("Expecting object for Mail data");e=a(e),e=s(e,["substitutions","dynamicTemplateData","customArgs","headers","sections"]);const{to:t,from:r,replyTo:n,cc:i,bcc:o,sendAt:l,subject:c,text:d,html:u,content:m,templateId:h,personalizations:p,attachments:f,ipPoolName:g,batchId:y,sections:x,headers:v,categories:b,category:j,customArgs:w,asm:N,mailSettings:k,trackingSettings:_,substitutions:S,substitutionWrappers:M,dynamicTemplateData:C,isMultiple:E,hideWarnings:A,replyToList:T}=e;this.setFrom(r),this.setReplyTo(n),this.setSubject(c),this.setSendAt(l),this.setTemplateId(h),this.setBatchId(y),this.setIpPoolName(g),this.setAttachments(f),this.setContent(m),this.setSections(x),this.setHeaders(v),this.setCategories(j),this.setCategories(b),this.setCustomArgs(w),this.setAsm(N),this.setMailSettings(k),this.setTrackingSettings(_),this.setHideWarnings(A),this.setReplyToList(T),this.isDynamic?this.setDynamicTemplateData(C):(this.setSubstitutions(S),this.setSubstitutionWrappers(M)),this.addTextContent(d),this.addHtmlContent(u),p?this.setPersonalizations(p):E&&Array.isArray(t)?t.forEach((e=>this.addTo(e,i,o))):this.addTo(t,i,o)}setFrom(t){if(this._checkProperty("from",t,[this._checkUndefined])){if("string"!=typeof t&&"string"!=typeof t.email)throw Error("String or address object expected for `from`");this.from=e.create(t)}}setReplyTo(t){if(this._checkProperty("replyTo",t,[this._checkUndefined])){if("string"!=typeof t&&"string"!=typeof t.email)throw Error("String or address object expected for `replyTo`");this.replyTo=e.create(t)}}setSubject(e){this._setProperty("subject",e,"string")}setSendAt(e){this._checkProperty("sendAt",e,[this._checkUndefined,this._createCheckThatThrows(Number.isInteger,"Integer expected for `sendAt`")])&&(this.sendAt=e)}setTemplateId(e){this._setProperty("templateId",e,"string")&&0===e.indexOf("d-")&&(this.isDynamic=!0)}setBatchId(e){this._setProperty("batchId",e,"string")}setIpPoolName(e){this._setProperty("ipPoolName",e,"string")}setAsm(e){if(this._checkProperty("asm",e,[this._checkUndefined,this._createTypeCheck("object")])){if("number"!=typeof e.groupId)throw Error("Expected `asm` to include an integer in its `groupId` field");if(e.groupsToDisplay&&(!Array.isArray(e.groupsToDisplay)||!e.groupsToDisplay.every((e=>"number"==typeof e))))throw Error("Array of integers expected for `asm.groupsToDisplay`");this.asm=e}}setPersonalizations(e){if(this._doArrayCheck("personalizations",e)){if(!e.every((e=>"object"==typeof e)))throw Error("Array of objects expected for `personalizations`");this.personalizations=[],e.forEach((e=>this.addPersonalization(e)))}}addPersonalization(e){this.isDynamic&&e.substitutions?delete e.substitutions:!this.isDynamic&&e.dynamicTemplateData&&delete e.dynamicTemplateData,e instanceof t||(e=new t(e)),this.isDynamic?this.applyDynamicTemplateData(e):this.applySubstitutions(e),this.personalizations.push(e)}addTo(e,s,r){if(void 0===e&&void 0===s&&void 0===r)throw Error("Provide at least one of to, cc or bcc");this.addPersonalization(new t({to:e,cc:s,bcc:r}))}setSubstitutions(e){this._setProperty("substitutions",e,"object")}setSubstitutionWrappers(e){this._checkProperty("substitutionWrappers",e,[this._checkUndefined,(e,t)=>{if(!Array.isArray(t)||2!==t.length)throw Error("Array expected with two elements for `"+e+"`")}])&&(this.substitutionWrappers=e)}applySubstitutions(e){e instanceof t&&(e.reverseMergeSubstitutions(this.substitutions),e.setSubstitutionWrappers(this.substitutionWrappers))}applyDynamicTemplateData(e){e instanceof t&&e.deepMergeDynamicTemplateData(this.dynamicTemplateData)}setDynamicTemplateData(e){if(void 0!==e){if("object"!=typeof e)throw Error("Object expected for `dynamicTemplateData`");this.hideWarnings||Object.values(e).forEach((e=>{})),this.dynamicTemplateData=e}}setContent(e){if(this._doArrayCheck("content",e)){if(!e.every((e=>"object"==typeof e)))throw Error("Expected each entry in `content` to be an object");if(!e.every((e=>"string"==typeof e.type)))throw Error("Expected each `content` entry to contain a `type` string");if(!e.every((e=>"string"==typeof e.value)))throw Error("Expected each `content` entry to contain a `value` string");this.content=e}}addContent(e){this._checkProperty("content",e,[this._createTypeCheck("object")])&&this.content.push(e)}addTextContent(e){this._checkProperty("text",e,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:e,type:"text/plain"})}addHtmlContent(e){this._checkProperty("html",e,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:e,type:"text/html"})}setAttachments(e){if(this._doArrayCheck("attachments",e)){if(!e.every((e=>"string"==typeof e.content)))throw Error("Expected each attachment to contain a `content` string");if(!e.every((e=>"string"==typeof e.filename)))throw Error("Expected each attachment to contain a `filename` string");if(!e.every((e=>!e.type||"string"==typeof e.type)))throw Error("Expected the attachment's `type` field to be a string");if(!e.every((e=>!e.disposition||"string"==typeof e.disposition)))throw Error("Expected the attachment's `disposition` field to be a string");this.attachments=e}}addAttachment(e){this._checkProperty("attachment",e,[this._checkUndefined,this._createTypeCheck("object")])&&this.attachments.push(e)}setCategories(e){"string"==typeof e&&(e=[e]),this._checkProperty("categories",e,[this._checkUndefined,(e,t)=>{if(!Array.isArray(t)||!t.every((e=>"string"==typeof e)))throw Error("Array of strings expected for `"+e+"`")}])&&(this.categories=e)}addCategory(e){this._checkProperty("category",e,[this._createTypeCheck("string")])&&this.categories.push(e)}setHeaders(e){this._setProperty("headers",e,"object")}addHeader(e,t){this._checkProperty("key",e,[this._createTypeCheck("string")])&&this._checkProperty("value",t,[this._createTypeCheck("string")])&&(this.headers[e]=t)}setSections(e){this._setProperty("sections",e,"object")}setCustomArgs(e){this._setProperty("customArgs",e,"object")}setTrackingSettings(e){void 0!==e&&(l(e),this.trackingSettings=e)}setMailSettings(e){void 0!==e&&(o(e),this.mailSettings=e)}setHideWarnings(e){if(void 0!==e){if("boolean"!=typeof e)throw Error("Boolean expected for `hideWarnings`");this.hideWarnings=e}}toJSON(){const{from:e,replyTo:t,sendAt:s,subject:a,content:i,templateId:o,personalizations:l,attachments:c,ipPoolName:d,batchId:u,asm:m,sections:h,headers:p,categories:f,customArgs:g,mailSettings:y,trackingSettings:x,replyToList:v}=this,b={from:e,subject:a,personalizations:n(l)};return Array.isArray(c)&&c.length>0&&(b.attachments=n(c)),Array.isArray(f)&&f.length>0&&(b.categories=f.filter((e=>""!==e))),Array.isArray(i)&&i.length>0&&(b.content=n(i)),Object.keys(p).length>0&&(b.headers=p),Object.keys(y).length>0&&(b.mailSettings=y),Object.keys(x).length>0&&(b.trackingSettings=x),Object.keys(g).length>0&&(b.customArgs=g),Object.keys(h).length>0&&(b.sections=h),Object.keys(m).length>0&&(b.asm=m),void 0!==t&&(b.replyTo=t),void 0!==s&&(b.sendAt=s),void 0!==u&&(b.batchId=u),void 0!==o&&(b.templateId=o),void 0!==d&&(b.ipPoolName=d),void 0!==v&&(b.replyToList=v),r(b,["substitutions","dynamicTemplateData","customArgs","headers","sections"])}static create(e){return Array.isArray(e)?e.filter((e=>!!e)).map((e=>this.create(e))):e instanceof c?e:new c(e)}_checkProperty(e,t,s){return!s.some((s=>s(e,t)))}_setProperty(e,t,s){let r=this._checkProperty(e,t,[this._checkUndefined,this._createTypeCheck(s)]);return r&&(this[e]=t),r}_checkUndefined(e,t){return void 0===t}_createTypeCheck(e){return(t,s)=>{if(typeof s!==e)throw Error(e+" expected for `"+t+"`")}}_createCheckThatThrows(e,t){return(s,r)=>{if(!e(r))throw Error(t)}}_setArrayProperty(e,t){this._doArrayCheck(e,t)&&(this[e]=t)}_doArrayCheck(e,t){return this._checkProperty(e,t,[this._checkUndefined,this._createCheckThatThrows(Array.isArray,"Array expected for`"+e+"`")])}setReplyToList(e){if(this._doArrayCheck("replyToList",e)&&e.length){if(!e.every((e=>e&&"string"==typeof e.email)))throw Error("Expected each replyTo to contain an `email` string");this.replyToList=e}}}return Ea=c}(),r=dn(),a=Da?Ta:(Da=1,Ta=class{constructor(e,t,s){this.statusCode=e,this.body=t,this.headers=s}toString(){return"HTTP "+this.statusCode+" "+this.body}}),n=Ra?Oa:(Ra=1,Oa=class extends Error{constructor(e){super();const{headers:t,status:s,statusText:r,data:a}=e;this.code=s,this.message=r,this.response={headers:t,body:a},this.stack||Error.captureStackTrace(this,this.constructor);const n=RegExp(process.cwd()+"/","gi");this.stack=this.stack.replace(n,"")}toString(){const{body:e}=this.response;let t=`${this.message} (${this.code})`;return e&&Array.isArray(e.errors)&&e.errors.forEach((e=>{const s=e.message,r=e.field,a=e.help;t+=`\n  ${s}\n    ${r}\n    ${a}`})),t}toJSON(){const{message:e,code:t,response:s}=this;return{message:e,code:t,response:s}}}),i=function(){if(La)return qa;La=1;const e=sn(),t=an(),s=["day","week","month"],r=["us","ca"],a=["desc","asc"];return qa=class{constructor(e){this.startDate=null,this.endDate=null,this.aggregatedBy=null,e&&this.fromData(e)}fromData(s){if("object"!=typeof s)throw Error("Expecting object for Statistics data");s=t(s),s=e(s,["substitutions","customArgs"]);const{startDate:r,endDate:a,aggregatedBy:n}=s;this.setStartDate(r),this.setEndDate(a),this.setAggregatedBy(n)}setStartDate(e){if(void 0===e)throw Error("Date expected for `startDate`");if("Invalid Date"===new Date(e)||isNaN(new Date(e)))throw Error("Date expected for `startDate`");this.startDate=new Date(e).toISOString().slice(0,10)}setEndDate(e){if(void 0!==e){if("Invalid Date"===new Date(e)||isNaN(new Date(e)))throw Error("Date expected for `endDate`");this.endDate=new Date(e).toISOString().slice(0,10)}else this.endDate=(new Date).toISOString().slice(0,10)}setAggregatedBy(e){if(void 0!==e){if("string"!=typeof e||!s.includes(e.toLowerCase()))throw Error("Incorrect value for `aggregatedBy`");this.aggregatedBy=e}}getGlobal(){const{startDate:e,endDate:t,aggregatedBy:s}=this;return{startDate:e,endDate:t,aggregatedBy:s}}getAdvanced(e){const t=this.getGlobal();return void 0===e||"string"==typeof e&&r.includes(e.toLowerCase())&&(t.country=e),t}getAdvancedMailboxProviders(e){const t=this.getGlobal();if(void 0===e)return t;if(Array.isArray(e)&&e.some((e=>"string"!=typeof e)))throw Error("Array of strings expected for `mailboxProviders`");return t.mailBoxProviders=e,t}getAdvancedBrowsers(e){const t=this.getGlobal();if(void 0===e)return t;if(Array.isArray(e)&&e.some((e=>"string"!=typeof e)))throw Error("Array of strings expected for `browsers`");return t.browsers=e,t}getCategories(e){if(void 0===e)throw Error("Array of strings expected for `categories`");if(!this._isValidArrayOfStrings(e))throw Error("Array of strings expected for `categories`");const t=this.getGlobal();return t.categories=e,t}getSubuser(e){if(void 0===e)throw Error("Array of strings expected for `subusers`");if(!this._isValidArrayOfStrings(e))throw Error("Array of strings expected for `subusers`");const t=this.getGlobal();return t.subusers=e,t}getSubuserSum(e="delivered",t=a[0],s=5,r=0){if("string"!=typeof e)throw Error("string expected for `sortByMetric`");if(!a.includes(t.toLowerCase()))throw Error("desc or asc expected for `sortByDirection`");if("number"!=typeof s)throw Error("number expected for `limit`");if("number"!=typeof r)throw Error("number expected for `offset`");const n=this.getGlobal();return n.sortByMetric=e,n.sortByDirection=t,n.limit=s,n.offset=r,n}getSubuserMonthly(e="delivered",t=a[0],s=5,r=0){if("string"!=typeof e)throw Error("string expected for `sortByMetric`");if(!a.includes(t.toLowerCase()))throw Error("desc or asc expected for `sortByDirection`");if("number"!=typeof s)throw Error("number expected for `limit`");if("number"!=typeof r)throw Error("number expected for `offset`");const n=this.getGlobal();return n.sortByMetric=e,n.sortByDirection=t,n.limit=s,n.offset=r,n}_isValidArrayOfStrings(e){return!!Array.isArray(e)&&e.length>=1&&!e.some((e=>"string"!=typeof e))}}}();return za={Attachment:e,EmailAddress:t,Mail:s,Personalization:r,Response:a,ResponseError:n,Statistics:i}}function hn(){if($a)return Va;$a=1;const e=mn(),t=function(){if(Ba)return Fa;Ba=1;const e=un(),t=tn(),s=an(),r=Ua?Ia:(Ua=1,Ia=function(e,t){if("object"!=typeof e||null===e)throw Error("Not an object provided for base");if("object"!=typeof t||null===t)throw Error("Not an object provided for data");const s=Object.assign({},e);for(const r in t)t.hasOwnProperty(r)&&(t[r]&&Array.isArray(t[r])?s[r]=t[r]:t[r]&&"object"==typeof t[r]?s[r]=Object.assign({},t[r]):t[r]&&(s[r]=t[r]));return s}),a=nn(),n=sn(),i=rn(),o=cn();return Fa={arrayToJSON:e,convertKeys:t,deepClone:s,mergeData:r,splitNameEmail:a,toCamelCase:n,toSnakeCase:i,wrapSubstitutions:o}}();return Va={classes:e,helpers:t}}function pn(){if(Wa)return Ha;Wa=1;const e=Xr(),t=Zr,{helpers:{mergeData:s},classes:{Response:r,ResponseError:a}}=hn(),n={eu:"https://api.eu.sendgrid.com/",global:"https://api.sendgrid.com/"};return Ha=class{constructor(){this.auth="",this.impersonateSubuser="",this.sendgrid_region="global",this.defaultHeaders={Accept:"application/json","Content-Type":"application/json","User-Agent":"sendgrid/"+t.version+";nodejs"},this.defaultRequest={baseUrl:"https://api.sendgrid.com/",url:"",method:"GET",headers:{},maxContentLength:1/0,maxBodyLength:1/0}}setApiKey(e){this.auth="Bearer "+e,this.setDefaultRequest("baseUrl",n[this.sendgrid_region]),this.isValidApiKey(e)}setTwilioEmailAuth(e,t){const s=Buffer.from(e+":"+t).toString("base64");this.auth="Basic "+s,this.setDefaultRequest("baseUrl","https://email.twilio.com/"),this.isValidTwilioAuth(e,t)}isValidApiKey(e){return this.isString(e)&&e.trim().startsWith("SG.")}isValidTwilioAuth(e,t){return this.isString(e)&&e&&this.isString(t)&&t}isString(e){return"string"==typeof e||e instanceof String}setImpersonateSubuser(e){this.impersonateSubuser=e}setDefaultHeader(e,t){return null!==e&&"object"==typeof e?(Object.assign(this.defaultHeaders,e),this):(this.defaultHeaders[e]=t,this)}setDefaultRequest(e,t){return null!==e&&"object"==typeof e?(Object.assign(this.defaultRequest,e),this):(this.defaultRequest[e]=t,this)}setDataResidency(e){return n.hasOwnProperty(e)&&(this.sendgrid_region=e,this.setDefaultRequest("baseUrl",n[e])),this}createHeaders(e){const t=s(this.defaultHeaders,e);return void 0===t.Authorization&&this.auth&&(t.Authorization=this.auth),this.impersonateSubuser&&(t["On-Behalf-Of"]=this.impersonateSubuser),t}createRequest(e){let t={url:e.uri||e.url,baseUrl:e.baseUrl,method:e.method,data:e.body,params:e.qs,headers:e.headers};return t=s(this.defaultRequest,t),t.headers=this.createHeaders(t.headers),t.baseURL=t.baseUrl,delete t.baseUrl,t}request(t,s){t=this.createRequest(t);const n=new Promise(((s,n)=>{e(t).then((e=>s([new r(e.status,e.data,e.headers),e.data]))).catch((e=>e.response&&e.response.status>=400?n(new a(e.response)):n(e)))}));if(s&&"function"!=typeof s)throw Error("Callback passed is not a function.");return s?n.then((e=>s(null,e))).catch((e=>s(e,null))):n}}}function fn(){if(Xa)return Ya;Xa=1;const{Client:e}=function(){if(Ka)return Yr.exports;Ka=1;const e=function(){if(Ga)return Ja;Ga=1;const e=pn();return Ja=new e}(),t=pn();return Yr.exports=e,Yr.exports.Client=t,Yr.exports}(),{classes:{Mail:t}}=hn();return Ya=class{constructor(){this.setClient(new e),this.setSubstitutionWrappers("{{","}}"),this.secretRules=[]}setClient(e){return this.client=e,this}setApiKey(e){return this.client.setApiKey(e),this}setTwilioEmailAuth(e,t){this.client.setTwilioEmailAuth(e,t)}setTimeout(e){void 0!==e&&this.client.setDefaultRequest("timeout",e)}setSubstitutionWrappers(e,t){if(void 0===e||void 0===t)throw Error("Must provide both left and right side wrappers");return Array.isArray(this.substitutionWrappers)||(this.substitutionWrappers=[]),this.substitutionWrappers[0]=e,this.substitutionWrappers[1]=t,this}setSecretRules(e){e instanceof Array||(e=[e]);const t=e.map((function(e){const t=typeof e;if("string"===t)return{pattern:RegExp(e)};if("object"===t){e instanceof RegExp?e={pattern:e}:e.hasOwnProperty("pattern")&&"string"==typeof e.pattern&&(e.pattern=RegExp(e.pattern));try{return e.pattern.test(""),e}catch(s){}}}));this.secretRules=t.filter((function(e){return e}))}filterSecrets(e){if("object"==typeof e&&!e.hasOwnProperty("content"))return;const t=this;e.content.forEach((function(e){t.secretRules.forEach((function(t){if(t.hasOwnProperty("pattern")&&!t.pattern.test(e.value))return;let s=`The pattern '${t.pattern}'`;throw t.name&&(s+=`identified by '${t.name}'`),s+=" was found in the Mail content!",Error(s)}))}))}send(e,s=!1,r){if("function"==typeof s&&(r=s,s=!1),Array.isArray(e)){const t=Promise.all(e.map((e=>this.send(e,s))));return r&&t.then((e=>r(null,e))).catch((e=>r(e,null))),t}try{void 0===e.isMultiple&&(e.isMultiple=s),void 0===e.substitutionWrappers&&(e.substitutionWrappers=this.substitutionWrappers);const a=t.create(e),n=a.toJSON();this.filterSecrets(n);const i={method:"POST",url:"/v3/mail/send",headers:a.headers,body:n};return this.client.request(i,r)}catch(a){return r&&r(a,null),Promise.reject(a)}}sendMultiple(e,t){return this.send(e,!0,t)}}}const gn=dt(function(){if(en)return Kr.exports;en=1;const e=function(){if(Qa)return Za;Qa=1;const e=fn();return Za=new e}(),t=fn();return Kr.exports=e,Kr.exports.MailService=t,Kr.exports}()),yn={welcomeNewsletter:(e,t="")=>({subject:"🎉 Bienvenue sur MaxiMarket !",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Bienvenue sur MaxiMarket</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }\n            .header h1 { margin: 0; font-size: 2.5em; font-weight: 700; }\n            .header p { margin: 10px 0 0 0; font-size: 1.2em; opacity: 0.9; }\n            .content { padding: 40px 30px; }\n            .welcome-text { font-size: 1.1em; margin-bottom: 30px; }\n            .features-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }\n            .feature { background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #667eea; }\n            .feature h3 { margin: 0 0 10px 0; color: #667eea; }\n            .feature p { margin: 0; font-size: 0.9em; }\n            .cta-buttons { text-align: center; margin: 40px 0; }\n            .btn { display: inline-block; background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; margin: 10px; font-weight: 600; transition: all 0.3s ease; }\n            .btn:hover { background: #5a6fd8; transform: translateY(-2px); }\n            .btn-secondary { background: #6c757d; }\n            .btn-secondary:hover { background: #5a6268; }\n            .tips { background: #e3f2fd; padding: 25px; border-radius: 10px; margin: 30px 0; }\n            .tips h3 { color: #1976d2; margin-top: 0; }\n            .tips ul { margin: 10px 0; padding-left: 20px; }\n            .tips li { margin: 8px 0; }\n            .footer { background: #f8f9fa; padding: 30px; text-align: center; color: #666; font-size: 0.9em; }\n            .footer a { color: #667eea; text-decoration: none; }\n            .social-links { margin: 20px 0; }\n            .social-links a { display: inline-block; margin: 0 10px; color: #667eea; text-decoration: none; }\n            @media (max-width: 600px) {\n              .features-grid { grid-template-columns: 1fr; }\n              .header h1 { font-size: 2em; }\n              .content { padding: 20px; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>🎉 Bienvenue sur MaxiMarket !</h1>\n              <p>Votre marketplace de confiance pour l'Afrique de l'Ouest</p>\n            </div>\n            \n            <div class="content">\n              <div class="welcome-text">\n                <h2>Bonjour ${t||"Cher utilisateur"} !</h2>\n                <p>Merci de vous être inscrit à notre newsletter ! Vous recevrez désormais nos dernières actualités, offres spéciales et conseils pour optimiser votre expérience sur MaxiMarket.</p>\n              </div>\n              \n              <h3>🚀 Découvrez nos fonctionnalités :</h3>\n              <div class="features-grid">\n                <div class="feature">\n                  <h3>🏠 Immobilier</h3>\n                  <p>Achetez, vendez ou louez des biens immobiliers en toute sécurité avec nos partenaires vérifiés.</p>\n                </div>\n                <div class="feature">\n                  <h3>🚗 Automobile</h3>\n                  <p>Trouvez votre véhicule idéal parmi des milliers d'annonces de particuliers et professionnels.</p>\n                </div>\n                <div class="feature">\n                  <h3>🛠️ Services</h3>\n                  <p>Connectez-vous avec des professionnels qualifiés pour tous vos besoins de services.</p>\n                </div>\n                <div class="feature">\n                  <h3>🛍️ Marketplace</h3>\n                  <p>Tout ce dont vous avez besoin en un seul endroit, avec des prix compétitifs.</p>\n                </div>\n              </div>\n              \n              <div class="cta-buttons">\n                <a href="${window.location.origin}/marketplace" class="btn">Explorer MaxiMarket</a>\n                <a href="${window.location.origin}/creer-annonce" class="btn btn-secondary">Créer une annonce</a>\n              </div>\n              \n              <div class="tips">\n                <h3>💡 Conseils pour bien commencer :</h3>\n                <ul>\n                  <li><strong>Complétez votre profil</strong> pour plus de visibilité et de confiance</li>\n                  <li><strong>Ajoutez des photos de qualité</strong> à vos annonces pour attirer plus d'acheteurs</li>\n                  <li><strong>Répondez rapidement</strong> aux messages pour augmenter vos chances de vente</li>\n                  <li><strong>Utilisez des mots-clés pertinents</strong> dans vos descriptions</li>\n                  <li><strong>Fixez des prix compétitifs</strong> en consultant les prix du marché</li>\n                </ul>\n              </div>\n              \n              <p><strong>Besoin d'aide ?</strong> Notre équipe support est disponible 24/7 pour vous accompagner dans votre parcours sur MaxiMarket.</p>\n              \n              <div class="social-links">\n                <p>Suivez-nous sur les réseaux sociaux :</p>\n                <a href="https://facebook.com/maximarket">Facebook</a> |\n                <a href="https://twitter.com/maximarket">Twitter</a> |\n                <a href="https://instagram.com/maximarket">Instagram</a>\n              </div>\n            </div>\n            \n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n              <p>Vous recevez cet email car vous vous êtes inscrit à notre newsletter.</p>\n              <p><a href="${window.location.origin}/newsletter/unsubscribe?email=${e}">Se désinscrire</a> | <a href="${window.location.origin}/contact">Contact</a></p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),reactivationNewsletter:e=>({subject:"🔄 Bienvenue de retour sur MaxiMarket !",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Réactivation MaxiMarket</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 40px 30px; text-align: center; }\n            .header h1 { margin: 0; font-size: 2.5em; font-weight: 700; }\n            .content { padding: 40px 30px; text-align: center; }\n            .welcome-back { font-size: 1.3em; margin-bottom: 30px; }\n            .cta-button { display: inline-block; background: #28a745; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }\n            .footer { background: #f8f9fa; padding: 30px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>🔄 Bienvenue de retour !</h1>\n            </div>\n            <div class="content">\n              <div class="welcome-back">\n                <h2>Votre inscription a été réactivée</h2>\n                <p>Nous sommes ravis de vous revoir ! Vous recevrez à nouveau nos newsletters et actualités.</p>\n                <p>Découvrez ce qui a changé depuis votre dernière visite :</p>\n              </div>\n              \n              <ul style="text-align: left; max-width: 400px; margin: 0 auto;">\n                <li>🎯 Nouvelles fonctionnalités de recherche avancée</li>\n                <li>🔒 Système de sécurité renforcé</li>\n                <li>📱 Interface mobile optimisée</li>\n                <li>💬 Messagerie instantanée améliorée</li>\n              </ul>\n              \n              <a href="${window.location.origin}" class="cta-button">Visiter MaxiMarket</a>\n            </div>\n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n              <p><a href="${window.location.origin}/newsletter/unsubscribe?email=${e}">Se désinscrire</a></p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),subscriptionConfirmation:e=>({subject:"✅ Confirmation d'inscription - MaxiMarket",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Confirmation d'inscription</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: #28a745; color: white; padding: 30px; text-align: center; }\n            .content { padding: 30px; text-align: center; }\n            .success-icon { font-size: 4em; margin-bottom: 20px; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>✅ Inscription confirmée</h1>\n            </div>\n            <div class="content">\n              <div class="success-icon">✅</div>\n              <h2>Votre inscription à la newsletter est confirmée</h2>\n              <p>Vous recevrez désormais nos actualités et offres spéciales.</p>\n              <p>Adresse email : <strong>${e}</strong></p>\n            </div>\n            <div class="footer">\n              <p>© 2024 MaxiMarket</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),unsubscribeConfirmation:e=>({subject:"👋 Désinscription confirmée - MaxiMarket",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Désinscription confirmée</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: #6c757d; color: white; padding: 30px; text-align: center; }\n            .content { padding: 30px; text-align: center; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>👋 Désinscription confirmée</h1>\n            </div>\n            <div class="content">\n              <h2>Vous avez été désinscrit de notre newsletter</h2>\n              <p>Adresse email : <strong>${e}</strong></p>\n              <p>Vous ne recevrez plus nos newsletters. Vous pouvez vous réinscrire à tout moment.</p>\n              <a href="${window.location.origin}/newsletter/subscribe?email=${e}" style="color: #667eea;">Se réinscrire</a>\n            </div>\n            <div class="footer">\n              <p>© 2024 MaxiMarket</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),weeklyNewsletter:(e={})=>({subject:"📊 Votre résumé MaxiMarket de la semaine",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Newsletter hebdomadaire MaxiMarket</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }\n            .content { padding: 30px; }\n            .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }\n            .stat-card { background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; }\n            .stat-number { font-size: 2em; font-weight: bold; color: #667eea; }\n            .featured-listings { margin: 30px 0; }\n            .listing-card { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #667eea; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n            @media (max-width: 600px) { .stats-grid { grid-template-columns: 1fr; } }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>📊 Votre résumé MaxiMarket</h1>\n              <p>Semaine du ${e.weekStart||"cette semaine"}</p>\n            </div>\n            \n            <div class="content">\n              <h2>🚀 Activité de la semaine</h2>\n              \n              <div class="stats-grid">\n                <div class="stat-card">\n                  <div class="stat-number">${e.newListings||"150+"}</div>\n                  <p>Nouvelles annonces</p>\n                </div>\n                <div class="stat-card">\n                  <div class="stat-number">${e.activeUsers||"2.5k"}</div>\n                  <p>Utilisateurs actifs</p>\n                </div>\n                <div class="stat-card">\n                  <div class="stat-number">${e.transactions||"89"}</div>\n                  <p>Transactions</p>\n                </div>\n                <div class="stat-card">\n                  <div class="stat-number">${e.newUsers||"320"}</div>\n                  <p>Nouveaux membres</p>\n                </div>\n              </div>\n              \n              <h3>🔥 Annonces populaires</h3>\n              <div class="featured-listings">\n                ${e.featuredListings?e.featuredListings.map((e=>`\n                  <div class="listing-card">\n                    <h4>${e.title}</h4>\n                    <p>${e.price} • ${e.location}</p>\n                    <a href="${window.location.origin}/annonce/${e.id}" style="color: #667eea;">Voir l'annonce</a>\n                  </div>\n                `)).join(""):"<p>Aucune annonce populaire cette semaine.</p>"}\n              </div>\n              \n              <h3>💡 Conseils de la semaine</h3>\n              <ul>\n                <li>Optimisez vos photos d'annonces pour plus de visibilité</li>\n                <li>Répondez rapidement aux messages pour augmenter vos ventes</li>\n                <li>Utilisez des mots-clés pertinents dans vos descriptions</li>\n              </ul>\n              \n              <div style="text-align: center; margin: 30px 0;">\n                <a href="${window.location.origin}/marketplace" style="background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">Explorer MaxiMarket</a>\n              </div>\n            </div>\n            \n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),monthlyNewsletter:(e={})=>{var t,s,r,a;return{subject:"📈 Rapport mensuel MaxiMarket - "+(e.month||"Ce mois"),html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Rapport mensuel MaxiMarket</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }\n            .content { padding: 30px; }\n            .highlight { background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>📈 Rapport mensuel MaxiMarket</h1>\n              <p>${e.month||"Ce mois"}</p>\n            </div>\n            \n            <div class="content">\n              <div class="highlight">\n                <h2>🎯 Performances du mois</h2>\n                <p><strong>${e.totalListings||"1,250"}</strong> annonces publiées</p>\n                <p><strong>${e.totalUsers||"5,200"}</strong> nouveaux utilisateurs</p>\n                <p><strong>${e.totalTransactions||"450"}</strong> transactions réussies</p>\n              </div>\n              \n              <h3>🏆 Top catégories</h3>\n              <ol>\n                <li>Immobilier (${(null==(t=e.topCategories)?void 0:t.immobilier)||"35%"})</li>\n                <li>Automobile (${(null==(s=e.topCategories)?void 0:s.automobile)||"28%"})</li>\n                <li>Services (${(null==(r=e.topCategories)?void 0:r.services)||"22%"})</li>\n                <li>Marketplace (${(null==(a=e.topCategories)?void 0:a.marketplace)||"15%"})</li>\n              </ol>\n              \n              <h3>🚀 Nouvelles fonctionnalités</h3>\n              <ul>\n                <li>Recherche avancée par localisation</li>\n                <li>Messagerie instantanée améliorée</li>\n                <li>Système de notation et avis</li>\n                <li>Paiements sécurisés intégrés</li>\n              </ul>\n              \n              <div style="text-align: center; margin: 30px 0;">\n                <a href="${window.location.origin}/marketplace" style="background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">Découvrir les nouveautés</a>\n              </div>\n            </div>\n            \n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}},specialOffer:(e={})=>({subject:"🎁 Offre spéciale MaxiMarket - "+(e.offer||"Réduction exclusive"),html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Offre spéciale MaxiMarket</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%); color: white; padding: 40px 30px; text-align: center; }\n            .offer-banner { background: #fff3cd; border: 2px solid #ffeaa7; padding: 20px; margin: 20px 0; border-radius: 10px; text-align: center; }\n            .offer-code { background: #667eea; color: white; padding: 10px 20px; border-radius: 5px; font-size: 1.2em; font-weight: bold; margin: 10px 0; display: inline-block; }\n            .content { padding: 30px; }\n            .cta-button { display: inline-block; background: #ff6b6b; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>🎁 Offre spéciale !</h1>\n              <p>${e.offer||"Réduction exclusive pour nos abonnés"}</p>\n            </div>\n            \n            <div class="content">\n              <div class="offer-banner">\n                <h2>${e.discount||"20%"} de réduction</h2>\n                <p>${e.description||"Sur tous les services premium de MaxiMarket"}</p>\n                <div class="offer-code">${e.code||"NEWSLETTER20"}</div>\n                <p><small>Valable jusqu'au ${e.expiryDate||"31 décembre 2024"}</small></p>\n              </div>\n              \n              <h3>🚀 Comment en profiter :</h3>\n              <ol>\n                <li>Connectez-vous à votre compte MaxiMarket</li>\n                <li>Choisissez un service premium</li>\n                <li>Entrez le code promo lors du paiement</li>\n                <li>Profitez de votre réduction !</li>\n              </ol>\n              \n              <h3>💎 Services éligibles :</h3>\n              <ul>\n                <li>Boost d'annonces</li>\n                <li>Compte premium</li>\n                <li>Services de vérification</li>\n                <li>Support prioritaire</li>\n              </ul>\n              \n              <div style="text-align: center;">\n                <a href="${window.location.origin}/premium" class="cta-button">Profiter de l'offre</a>\n              </div>\n            </div>\n            \n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),reengagementEmail:(e={})=>({subject:"👋 On vous a manqué sur MaxiMarket !",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Revenez sur MaxiMarket</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }\n            .content { padding: 30px; }\n            .highlight { background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; }\n            .cta-button { display: inline-block; background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>👋 On vous a manqué !</h1>\n              <p>Revenez découvrir ce qui a changé sur MaxiMarket</p>\n            </div>\n            \n            <div class="content">\n              <h2>Bonjour ${e.firstName||"Cher utilisateur"} !</h2>\n              \n              <p>Il y a ${e.daysInactive||"quelques temps"} que vous n'avez pas visité MaxiMarket. Nous avons de nombreuses nouveautés à vous faire découvrir !</p>\n              \n              <div class="highlight">\n                <h3>🆕 Ce qui a changé :</h3>\n                <ul>\n                  <li>Interface utilisateur modernisée</li>\n                  <li>Nouvelles fonctionnalités de recherche</li>\n                  <li>Système de messagerie amélioré</li>\n                  <li>Plus de ${e.newListings||"500"} nouvelles annonces</li>\n                </ul>\n              </div>\n              \n              <h3>🔥 Annonces populaires qui pourraient vous intéresser :</h3>\n              <p>Découvrez les dernières annonces dans vos catégories préférées.</p>\n              \n              <div style="text-align: center;">\n                <a href="${window.location.origin}/marketplace" class="cta-button">Revenir sur MaxiMarket</a>\n              </div>\n              \n              <p><small>Si vous ne souhaitez plus recevoir ces emails, vous pouvez vous <a href="${window.location.origin}/newsletter/unsubscribe">désinscrire</a>.</small></p>\n            </div>\n            \n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),maintenanceNotification:(e={})=>({subject:"🔧 Maintenance programmée - MaxiMarket",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Maintenance programmée</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: #ffc107; color: #333; padding: 30px; text-align: center; }\n            .content { padding: 30px; }\n            .maintenance-info { background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 10px; margin: 20px 0; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>🔧 Maintenance programmée</h1>\n            </div>\n            <div class="content">\n              <h2>Maintenance prévue</h2>\n              <div class="maintenance-info">\n                <p><strong>Date :</strong> ${e.date||"Prochainement"}</p>\n                <p><strong>Durée :</strong> ${e.duration||"2 heures"}</p>\n                <p><strong>Heure :</strong> ${e.time||"02:00 - 04:00 UTC"}</p>\n              </div>\n              \n              <h3>🛠️ Ce qui sera amélioré :</h3>\n              <ul>\n                <li>Performance du système</li>\n                <li>Sécurité renforcée</li>\n                <li>Nouvelles fonctionnalités</li>\n                <li>Corrections de bugs</li>\n              </ul>\n              \n              <p>Nous nous excusons pour la gêne occasionnée. La maintenance est nécessaire pour améliorer votre expérience.</p>\n            </div>\n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),securityAlert:(e={})=>({subject:"🔒 Alerte de sécurité - MaxiMarket",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Alerte de sécurité</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: #dc3545; color: white; padding: 30px; text-align: center; }\n            .content { padding: 30px; }\n            .alert-box { background: #f8d7da; border: 1px solid #f5c6cb; padding: 20px; border-radius: 10px; margin: 20px 0; }\n            .cta-button { display: inline-block; background: #dc3545; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>🔒 Alerte de sécurité</h1>\n            </div>\n            <div class="content">\n              <div class="alert-box">\n                <h3>${e.alertType||"Connexion suspecte détectée"}</h3>\n                <p>${e.message||"Une connexion inhabituelle a été détectée sur votre compte."}</p>\n              </div>\n              \n              <h3>📍 Détails de la connexion :</h3>\n              <ul>\n                <li><strong>Date :</strong> ${e.date||(new Date).toLocaleString()}</li>\n                <li><strong>Localisation :</strong> ${e.location||"Non déterminée"}</li>\n                <li><strong>Appareil :</strong> ${e.device||"Non déterminé"}</li>\n                <li><strong>IP :</strong> ${e.ip||"Non déterminée"}</li>\n              </ul>\n              \n              <h3>🛡️ Actions recommandées :</h3>\n              <ol>\n                <li>Changer votre mot de passe immédiatement</li>\n                <li>Activer l'authentification à deux facteurs</li>\n                <li>Vérifier vos connexions actives</li>\n                <li>Nous contacter si vous n'êtes pas à l'origine de cette connexion</li>\n              </ol>\n              \n              <div style="text-align: center;">\n                <a href="${window.location.origin}/security" class="cta-button">Sécuriser mon compte</a>\n              </div>\n            </div>\n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n              <p>Si vous n'êtes pas à l'origine de cette connexion, contactez-nous immédiatement.</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),accountCreated:(e={})=>({subject:"✅ Compte créé avec succès - MaxiMarket",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Compte créé</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: #28a745; color: white; padding: 30px; text-align: center; }\n            .content { padding: 30px; }\n            .welcome-box { background: #d4edda; border: 1px solid #c3e6cb; padding: 20px; border-radius: 10px; margin: 20px 0; }\n            .cta-button { display: inline-block; background: #28a745; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>✅ Compte créé avec succès !</h1>\n            </div>\n            <div class="content">\n              <div class="welcome-box">\n                <h2>Bienvenue ${e.firstName||"sur MaxiMarket"} !</h2>\n                <p>Votre compte a été créé avec succès. Vous pouvez maintenant profiter de toutes nos fonctionnalités.</p>\n              </div>\n              \n              <h3>🚀 Prochaines étapes :</h3>\n              <ol>\n                <li>Complétez votre profil</li>\n                <li>Ajoutez vos premières annonces</li>\n                <li>Explorez le marketplace</li>\n                <li>Connectez-vous avec d'autres utilisateurs</li>\n              </ol>\n              \n              <div style="text-align: center;">\n                <a href="${window.location.origin}/dashboard" class="cta-button">Accéder à mon compte</a>\n              </div>\n            </div>\n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `}),passwordReset:(e={})=>({subject:"🔑 Réinitialisation de mot de passe - MaxiMarket",html:`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>Réinitialisation de mot de passe</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }\n            .container { max-width: 600px; margin: 0 auto; background: white; }\n            .header { background: #17a2b8; color: white; padding: 30px; text-align: center; }\n            .content { padding: 30px; }\n            .reset-box { background: #d1ecf1; border: 1px solid #bee5eb; padding: 20px; border-radius: 10px; margin: 20px 0; }\n            .cta-button { display: inline-block; background: #17a2b8; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }\n            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }\n          </style>\n        </head>\n        <body>\n          <div class="container">\n            <div class="header">\n              <h1>🔑 Réinitialisation de mot de passe</h1>\n            </div>\n            <div class="content">\n              <div class="reset-box">\n                <h2>Demande de réinitialisation</h2>\n                <p>Vous avez demandé la réinitialisation de votre mot de passe. Cliquez sur le bouton ci-dessous pour créer un nouveau mot de passe.</p>\n              </div>\n              \n              <p><strong>Important :</strong> Ce lien expire dans ${e.expiryTime||"1 heure"}. Si vous n'avez pas demandé cette réinitialisation, ignorez cet email.</p>\n              \n              <div style="text-align: center;">\n                <a href="${e.resetLink||"#"}" class="cta-button">Réinitialiser mon mot de passe</a>\n              </div>\n              \n              <h3>🔒 Conseils de sécurité :</h3>\n              <ul>\n                <li>Choisissez un mot de passe fort et unique</li>\n                <li>N'utilisez pas le même mot de passe sur d'autres sites</li>\n                <li>Activez l'authentification à deux facteurs</li>\n                <li>Ne partagez jamais vos identifiants</li>\n              </ul>\n            </div>\n            <div class="footer">\n              <p>© 2024 MaxiMarket. Tous droits réservés.</p>\n              <p>Si vous n'avez pas demandé cette réinitialisation, contactez-nous immédiatement.</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `})},xn=(e,t={})=>{if(!yn[e])throw Error(`Template '${e}' non trouvé`);return yn[e](t)},vn="your_sendgrid_api_key_here",bn="newsletter@benome.com",jn="Benome Newsletter";gn.setApiKey(vn);const wn={sendEmail:(e,t,s,r=!1)=>m(null,null,(function*(){try{const a=l({to:e,from:{email:bn,name:jn},subject:t},r?{html:s}:{text:s});return yield gn.send(a),{success:!0,message:"Email envoyé avec succès"}}catch(a){throw a}})),sendWelcomeEmail:(e,t="")=>m(null,null,(function*(){const s=xn("welcomeNewsletter",{email:e,firstName:t});return wn.sendEmail(e,s.subject,s.html,!0)})),sendNewsletter:(e,t,s,r=!1)=>m(null,null,(function*(){try{if(!e||0===e.length)throw Error("Aucun abonné à qui envoyer la newsletter");const n=100,i=[];for(let t=0;t<e.length;t+=n)i.push(e.slice(t,t+n));let o=0,c=0;for(const e of i)try{const a=e.map((e=>e.email));if(vn){const n=l({to:a,from:{email:bn,name:jn},subject:t},r?{html:s}:{text:s});yield gn.sendMultiple(n),o+=e.length}}catch(a){c+=e.length}return{success:!0,message:`Newsletter envoyée à ${o} abonnés`,stats:{successCount:o,errorCount:c,total:e.length}}}catch(a){throw a}})),sendReactivationEmail:e=>m(null,null,(function*(){const t=xn("reactivationNewsletter",{email:e});return wn.sendEmail(e,t.subject,t.html,!0)})),sendTemplateEmail:(e,t,...s)=>m(null,[e,t,...s],(function*(e,t,s={}){try{const r=xn(t,s);return wn.sendEmail(e,r.subject,r.html,!0)}catch(r){throw r}})),sendWeeklyNewsletter:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("weeklyNewsletter",t);return wn.sendNewsletter(e,s.subject,s.html,!0)})),sendMonthlyNewsletter:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("monthlyNewsletter",t);return wn.sendNewsletter(e,s.subject,s.html,!0)})),sendSpecialOffer:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("specialOffer",t);return wn.sendNewsletter(e,s.subject,s.html,!0)})),sendReengagementEmail:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("reengagementEmail",t);return wn.sendEmail(e,s.subject,s.html,!0)})),sendMaintenanceNotification:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("maintenanceNotification",t);return wn.sendNewsletter(e,s.subject,s.html,!0)})),sendSecurityAlert:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("securityAlert",t);return wn.sendEmail(e,s.subject,s.html,!0)})),sendAccountCreatedEmail:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("accountCreated",t);return wn.sendEmail(e,s.subject,s.html,!0)})),sendPasswordResetEmail:(e,...t)=>m(null,[e,...t],(function*(e,t={}){const s=xn("passwordReset",t);return wn.sendEmail(e,s.subject,s.html,!0)})),sendUnsubscribeConfirmation:e=>m(null,null,(function*(){const t=xn("unsubscribeConfirmation",{email:e});return wn.sendEmail(e,t.subject,t.html,!0)})),checkConfiguration:()=>({sendgridConfigured:!0,fromEmail:bn,fromName:jn})},Nn={subscribe:e=>m(null,null,(function*(){try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))throw Error("Adresse email invalide");const{data:s,error:r}=yield ft.from("newsletter_subscribers").select("id, email, is_active").eq("email",e.toLowerCase()).single();if(r&&"PGRST116"!==r.code)throw r;if(s){if(s.is_active)throw Error("Cette adresse email est déjà inscrite à la newsletter");{const{error:r}=yield ft.from("newsletter_subscribers").update({is_active:!0,updated_at:(new Date).toISOString()}).eq("id",s.id);if(r)throw r;try{yield wn.sendReactivationEmail(e.toLowerCase())}catch(t){}return{success:!0,message:"Inscription réactivée avec succès ! Email de confirmation envoyé.",action:"reactivated"}}}const{data:a,error:n}=yield ft.from("newsletter_subscribers").insert([{email:e.toLowerCase(),is_active:!0,subscribed_at:(new Date).toISOString(),source:"footer"}]).select().single();if(n)throw n;try{yield wn.sendWelcomeEmail(e.toLowerCase())}catch(t){}return{success:!0,message:"Inscription à la newsletter réussie ! Email de bienvenue envoyé.",action:"subscribed",data:a}}catch(s){throw s}})),unsubscribe:e=>m(null,null,(function*(){try{const{error:t}=yield ft.from("newsletter_subscribers").update({is_active:!1,unsubscribed_at:(new Date).toISOString()}).eq("email",e.toLowerCase());if(t)throw t;return{success:!0,message:"Désinscription réussie"}}catch(t){throw t}})),checkStatus:e=>m(null,null,(function*(){try{const{data:t,error:s}=yield ft.from("newsletter_subscribers").select("id, email, is_active, subscribed_at").eq("email",e.toLowerCase()).single();if(s&&"PGRST116"!==s.code)throw s;return{isSubscribed:(null==t?void 0:t.is_active)||!1,subscribedAt:null==t?void 0:t.subscribed_at,data:t}}catch(t){throw t}})),getStats:()=>m(null,null,(function*(){try{const{data:e,error:t}=yield ft.from("newsletter_subscribers").select("*");if(t)throw t;const s=e.length,r=e.filter((e=>e.is_active)).length;return{total:s,active:r,inactive:s-r,data:e}}catch(e){throw e}})),sendWeeklyNewsletter:(...e)=>m(null,[...e],(function*(e={}){try{const{data:t,error:s}=yield ft.from("newsletter_subscribers").select("email").eq("is_active",!0);if(s)throw s;return 0===t.length?{success:!0,message:"Aucun abonné à notifier"}:yield wn.sendWeeklyNewsletter(t,e)}catch(t){throw t}})),sendMonthlyNewsletter:(...e)=>m(null,[...e],(function*(e={}){try{const{data:t,error:s}=yield ft.from("newsletter_subscribers").select("email").eq("is_active",!0);if(s)throw s;return 0===t.length?{success:!0,message:"Aucun abonné à notifier"}:yield wn.sendMonthlyNewsletter(t,e)}catch(t){throw t}})),sendSpecialOffer:(...e)=>m(null,[...e],(function*(e={}){try{const{data:t,error:s}=yield ft.from("newsletter_subscribers").select("email").eq("is_active",!0);if(s)throw s;return 0===t.length?{success:!0,message:"Aucun abonné à notifier"}:yield wn.sendSpecialOffer(t,e)}catch(t){throw t}})),sendReengagementCampaign:(...e)=>m(null,[...e],(function*(e={}){try{const{data:s,error:r}=yield ft.from("newsletter_subscribers").select("email").eq("is_active",!0).lt("updated_at",new Date(Date.now()-2592e6).toISOString());if(r)throw r;if(0===s.length)return{success:!0,message:"Aucun utilisateur inactif à notifier"};let a=0;for(const n of s)try{yield wn.sendReengagementEmail(n.email,e),a++}catch(t){}return{success:!0,message:`Campagne de réengagement envoyée à ${a} utilisateurs`,stats:{successCount:a,total:s.length}}}catch(s){throw s}})),sendMaintenanceNotification:(...e)=>m(null,[...e],(function*(e={}){try{const{data:t,error:s}=yield ft.from("newsletter_subscribers").select("email").eq("is_active",!0);if(s)throw s;return 0===t.length?{success:!0,message:"Aucun abonné à notifier"}:yield wn.sendMaintenanceNotification(t,e)}catch(t){throw t}}))},kn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(x,l({ref:t,className:Ur("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r)},a))}));kn.displayName=x.displayName;const _n=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("div",l({ref:t,className:Ur("rounded-lg border bg-card text-card-foreground shadow-sm",r)},a))}));_n.displayName="Card";const Sn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("div",l({ref:t,className:Ur("flex flex-col space-y-1.5 p-6",r)},a))}));Sn.displayName="CardHeader";const Mn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("h3",l({ref:t,className:Ur("text-2xl font-semibold leading-none tracking-tight",r)},a))}));Mn.displayName="CardTitle";const Cn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("p",l({ref:t,className:Ur("text-sm text-muted-foreground",r)},a))}));Cn.displayName="CardDescription";const En=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("div",l({ref:t,className:Ur("p-6 pt-0",r)},a))}));En.displayName="CardContent";const An=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("div",l({ref:t,className:Ur("flex items-center p-6 pt-0",r)},a))}));An.displayName="CardFooter";const Tn=Ae("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dn(e){var t=e,{className:s,variant:r}=t,a=d(t,["className","variant"]);return g.jsx("div",l({className:Ur(Tn({variant:r}),s)},a))}const On=w,Rn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(v,l({ref:t,className:Ur("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r)},a))}));Rn.displayName=v.displayName;const qn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(b,l({ref:t,className:Ur("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r)},a))}));qn.displayName=b.displayName;const Ln=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(j,l({ref:t,className:Ur("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r)},a))}));Ln.displayName=j.displayName;const zn=A,Pn=k,In=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(N,c(l({className:Ur("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},a),{ref:t}))}));In.displayName=N.displayName;const Un=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsxs(Pn,{children:[g.jsx(In,{}),g.jsx(_,l({ref:t,className:Ur("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},a))]})}));Un.displayName=_.displayName;const Fn=e=>{var t=e,{className:s}=t,r=d(t,["className"]);return g.jsx("div",l({className:Ur("flex flex-col space-y-2 text-center sm:text-left",s)},r))};Fn.displayName="AlertDialogHeader";const Bn=e=>{var t=e,{className:s}=t,r=d(t,["className"]);return g.jsx("div",l({className:Ur("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},r))};Bn.displayName="AlertDialogFooter";const Vn=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(S,l({ref:t,className:Ur("text-lg font-semibold",r)},a))}));Vn.displayName=S.displayName;const $n=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(M,l({ref:t,className:Ur("text-sm text-muted-foreground",r)},a))}));$n.displayName=M.displayName;const Hn=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(C,l({ref:t,className:Ur(Vr(),r)},a))}));Hn.displayName=C.displayName;const Wn=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(E,l({ref:t,className:Ur(Vr({variant:"outline"}),"mt-2 sm:mt-0",r)},a))}));Wn.displayName=E.displayName;const Jn=z,Gn=D,Kn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(T,l({ref:t,className:Ur("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},a))}));Kn.displayName=T.displayName;const Yn=be.forwardRef(((e,t)=>{var s=e,{className:r,children:a}=s,n=d(s,["className","children"]);return g.jsxs(Gn,{children:[g.jsx(Kn,{}),g.jsxs(O,c(l({ref:t,className:Ur("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},n),{children:[a,g.jsxs(R,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(Lr,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}));Yn.displayName=O.displayName;const Xn=e=>{var t=e,{className:s}=t,r=d(t,["className"]);return g.jsx("div",l({className:Ur("flex flex-col space-y-1.5 text-center sm:text-left",s)},r))};Xn.displayName="DialogHeader";const Zn=e=>{var t=e,{className:s}=t,r=d(t,["className"]);return g.jsx("div",l({className:Ur("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},r))};Zn.displayName="DialogFooter";const Qn=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(q,l({ref:t,className:Ur("text-lg font-semibold leading-none tracking-tight",r)},a))}));Qn.displayName=q.displayName;const ei=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(L,l({ref:t,className:Ur("text-sm text-muted-foreground",r)},a))}));ei.displayName=L.displayName;const ti=G,si=K;ve.forwardRef(((e,t)=>{var s=e,{className:r,inset:a,children:n}=s,i=d(s,["className","inset","children"]);return g.jsxs(P,c(l({ref:t,className:Ur("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",r)},i),{children:[n,g.jsx($t,{className:"ml-auto h-4 w-4"})]}))})).displayName=P.displayName,ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(I,l({ref:t,className:Ur("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r)},a))})).displayName=I.displayName;const ri=ve.forwardRef(((e,t)=>{var s=e,{className:r,sideOffset:a=4}=s,n=d(s,["className","sideOffset"]);return g.jsx(U,{children:g.jsx(F,l({ref:t,sideOffset:a,className:Ur("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r)},n))})}));ri.displayName=F.displayName;const ai=ve.forwardRef(((e,t)=>{var s=e,{className:r,inset:a}=s,n=d(s,["className","inset"]);return g.jsx(B,l({ref:t,className:Ur("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",r)},n))}));ai.displayName=B.displayName,ve.forwardRef(((e,t)=>{var s=e,{className:r,children:a,checked:n}=s,i=d(s,["className","children","checked"]);return g.jsxs(V,c(l({ref:t,className:Ur("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:n},i),{children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx($,{children:g.jsx(Ft,{className:"h-4 w-4"})})}),a]}))})).displayName=V.displayName,ve.forwardRef(((e,t)=>{var s=e,{className:r,children:a}=s,n=d(s,["className","children"]);return g.jsxs(H,c(l({ref:t,className:Ur("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},n),{children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx($,{children:g.jsx(es,{className:"h-2 w-2 fill-current"})})}),a]}))})).displayName=H.displayName,ve.forwardRef(((e,t)=>{var s=e,{className:r,inset:a}=s,n=d(s,["className","inset"]);return g.jsx(W,l({ref:t,className:Ur("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",r)},n))})).displayName=W.displayName;const ni=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(J,l({ref:t,className:Ur("-mx-1 my-1 h-px bg-muted",r)},a))}));ni.displayName=J.displayName;const ii=ve.forwardRef(((e,t)=>{var s=e,{className:r,value:a}=s,n=d(s,["className","value"]);return g.jsx(Y,c(l({ref:t,className:Ur("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r)},n),{children:g.jsx(X,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}))}));ii.displayName=Y.displayName;const oi=de,li=ue,ci=ve.forwardRef(((e,t)=>{var s=e,{className:r,children:a}=s,n=d(s,["className","children"]);return g.jsxs(Z,c(l({ref:t,className:Ur("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},n),{children:[a,g.jsx(Q,{asChild:!0,children:g.jsx(Bt,{className:"h-4 w-4 opacity-50"})})]}))}));ci.displayName=Z.displayName;const di=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(ee,c(l({ref:t,className:Ur("flex cursor-default items-center justify-center py-1",r)},a),{children:g.jsx(Ht,{className:"h-4 w-4"})}))}));di.displayName=ee.displayName;const ui=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(te,c(l({ref:t,className:Ur("flex cursor-default items-center justify-center py-1",r)},a),{children:g.jsx(Bt,{className:"h-4 w-4"})}))}));ui.displayName=te.displayName;const mi=ve.forwardRef(((e,t)=>{var s=e,{className:r,children:a,position:n="popper"}=s,i=d(s,["className","children","position"]);return g.jsx(se,{children:g.jsxs(re,c(l({ref:t,className:Ur("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n},i),{children:[g.jsx(di,{}),g.jsx(ae,{className:Ur("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),g.jsx(ui,{})]}))})}));mi.displayName=re.displayName,ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(ne,l({ref:t,className:Ur("py-1.5 pl-8 pr-2 text-sm font-semibold",r)},a))})).displayName=ne.displayName;const hi=ve.forwardRef(((e,t)=>{var s=e,{className:r,children:a}=s,n=d(s,["className","children"]);return g.jsxs(ie,c(l({ref:t,className:Ur("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},n),{children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(oe,{children:g.jsx(Ft,{className:"h-4 w-4"})})}),g.jsx(le,{children:a})]}))}));hi.displayName=ie.displayName,ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(ce,l({ref:t,className:Ur("-mx-1 my-1 h-px bg-muted",r)},a))})).displayName=ce.displayName;const pi=be.forwardRef(((e,t)=>{var s=e,{className:r,orientation:a="horizontal",decorative:n=!0}=s,i=d(s,["className","orientation","decorative"]);return g.jsx(me,l({ref:t,decorative:n,orientation:a,className:Ur("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r)},i))}));pi.displayName=me.displayName;const fi=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx(he,c(l({className:Ur("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r)},a),{ref:t,children:g.jsx(pe,{className:Ur("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}))}));fi.displayName=he.displayName;const gi=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("div",{className:"relative w-full overflow-auto",children:g.jsx("table",l({ref:t,className:Ur("w-full caption-bottom text-sm",r)},a))})}));gi.displayName="Table";const yi=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("thead",l({ref:t,className:Ur("[&_tr]:border-b",r)},a))}));yi.displayName="TableHeader";const xi=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("tbody",l({ref:t,className:Ur("[&_tr:last-child]:border-0",r)},a))}));xi.displayName="TableBody",ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("tfoot",l({ref:t,className:Ur("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r)},a))})).displayName="TableFooter";const vi=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("tr",l({ref:t,className:Ur("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r)},a))}));vi.displayName="TableRow";const bi=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("th",l({ref:t,className:Ur("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r)},a))}));bi.displayName="TableHead";const ji=ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("td",l({ref:t,className:Ur("p-4 align-middle [&:has([role=checkbox])]:pr-0",r)},a))}));ji.displayName="TableCell",ve.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("caption",l({ref:t,className:Ur("mt-4 text-sm text-muted-foreground",r)},a))})).displayName="TableCaption";const wi=be.forwardRef(((e,t)=>{var s=e,{className:r}=s,a=d(s,["className"]);return g.jsx("textarea",l({className:Ur("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t},a))}));wi.displayName="Textarea";const Ni=ge,ki=ye,_i=xe,Si=ve.forwardRef(((e,t)=>{var s=e,{className:r,sideOffset:a=4}=s,n=d(s,["className","sideOffset"]);return g.jsx(fe,l({ref:t,sideOffset:a,className:Ur("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r)},n))}));Si.displayName=fe.displayName;const Mi=({error:e,className:t="",showIcon:s=!0})=>e?g.jsxs("div",{className:Ur("flex items-start gap-1.5 text-xs text-red-600 mt-1",t),children:[s&&g.jsx(Gt,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),g.jsx("span",{className:"leading-relaxed",children:e})]}):null,Ci=(e,t,s="export")=>{try{const r=t.map((e=>e.label)).join(","),a=e.map((e=>((e,t)=>t.map((t=>{const s=e[t.key]||"";return"date"===t.type?(e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){return e}})(s):"currency"===t.type?(e=>{if(null==e)return"";try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}catch(t){return e+""}})(s):"boolean"===t.type?s?"Oui":"Non":"array"===t.type?Array.isArray(s)?s.join(", "):s:"object"===t.type&&"object"==typeof s?JSON.stringify(s):s})).map((e=>`"${(e+"").replace(/"/g,'""')}"`)).join(","))(e,t))),n=[r,...a].join("\n"),i=new Blob(["\ufeff"+n],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(i);return o.setAttribute("href",l),o.setAttribute("download",`${s}-${(new Date).toISOString().split("T")[0]}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l),{success:!0,message:"Export CSV réussi"}}catch(r){throw Error("Impossible d'exporter les données")}},Ei=[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"last_login_at",label:"Dernière connexion",type:"date"}],Ai=[{key:"id",label:"ID",type:"string"},{key:"title",label:"Titre",type:"string"},{key:"price",label:"Prix",type:"currency"},{key:"category",label:"Catégorie",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"location",label:"Localisation",type:"object"},{key:"views_count",label:"Vues",type:"number"},{key:"favorites_count",label:"Favoris",type:"number"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],Ti=[{key:"id",label:"ID",type:"string"},{key:"reference",label:"Référence",type:"string"},{key:"type",label:"Type",type:"string"},{key:"amount",label:"Montant",type:"currency"},{key:"currency",label:"Devise",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"payment_method",label:"Méthode de paiement",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"completed_at",label:"Date de finalisation",type:"date"}],Di=[{key:"id",label:"ID",type:"string"},{key:"name",label:"Nom",type:"string"},{key:"slug",label:"Slug",type:"string"},{key:"parent_category",label:"Type parent",type:"string"},{key:"description",label:"Description",type:"string"},{key:"icon",label:"Icône",type:"string"},{key:"sort_order",label:"Ordre de tri",type:"number"},{key:"is_active",label:"Actif",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],Oi=[{key:"id",label:"ID",type:"string"},{key:"reason",label:"Raison",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"type",label:"Type",type:"string"},{key:"severity",label:"Sévérité",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"moderated_at",label:"Date de modération",type:"date"}],Ri={users:(e,t="utilisateurs")=>Ci(e,Ei,t),listings:(e,t="annonces")=>Ci(e,Ai,t),transactions:(e,t="transactions")=>Ci(e,Ti,t),categories:(e,t="categories")=>Ci(e,Di,t),reports:(e,t="rapports")=>Ci(e,Oi,t)},qi={getProfile:(e=null)=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser(),s=e||(null==t?void 0:t.id);if(!s)throw Error("Utilisateur non connecté");const{data:r,error:a}=yield ft.from("users").select("*").eq("id",s).single();if(a)throw a;return r})),updateProfile:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("users").update(e).eq("id",t.id).select().single();if(r)throw r;return s})),getAllUsers:()=>m(null,null,(function*(){const{data:e,error:t}=yield ft.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e})),updateUserStatus:(e,t)=>m(null,null,(function*(){const{data:s,error:r}=yield ft.from("users").update({status:t}).eq("id",e).select().single();if(r)throw r;return s})),getUserById:e=>m(null,null,(function*(){const{data:t,error:s}=yield ft.from("users").select("*").eq("id",e).single();if(s)throw s;return t})),searchUsers:(e,...t)=>m(null,[e,...t],(function*(e,t={}){let s=ft.from("users").select("*").or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%`);t.role&&(s=s.eq("role",t.role)),t.status&&(s=s.eq("status",t.status));const{data:r,error:a}=yield s.order("created_at",{ascending:!1});if(a)throw a;return r})),updateUserRole:(e,t)=>m(null,null,(function*(){const{data:s,error:r}=yield ft.from("users").update({role:t}).eq("id",e).select().single();if(r)throw r;return s})),deleteUser:e=>m(null,null,(function*(){const{error:t}=yield ft.from("users").delete().eq("id",e);if(t)throw t;return!0})),getUserStats:()=>m(null,null,(function*(){const{data:e,error:t}=yield ft.from("users").select("role, status, created_at");if(t)throw t;const s={total:e.length,byRole:{},byStatus:{},byMonth:{}};return e.forEach((e=>{s.byRole[e.role]=(s.byRole[e.role]||0)+1,s.byStatus[e.status]=(s.byStatus[e.status]||0)+1;const t=new Date(e.created_at).toISOString().slice(0,7);s.byMonth[t]=(s.byMonth[t]||0)+1})),s})),exportUsers:(e="csv")=>m(null,null,(function*(){const t=yield qi.getAllUsers();return Ri(t,[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],"utilisateurs-"+(new Date).toISOString().split("T")[0],e)}))},Li=e=>{var t,s,r,a;let n=0;n+={highest:1e3,high:800,medium:600,low:400}[null==(a=null==(r=null==(s=null==(t=e.listing_boosts)?void 0:t[0])?void 0:s.boost_packages)?void 0:r.features)?void 0:a.priority]||500,e.is_featured&&e.is_boosted?n+=900:e.is_featured?n+=700:e.is_boosted&&(n+=600);const i=Math.ceil((new Date(e.boost_expires_at)-new Date)/864e5);n+=Math.max(0,10*i);const o=Math.ceil((Date.now()-new Date(e.updated_at))/864e5);return n+=Math.max(0,30-o),n},zi=(e,t,s)=>{var r;return{data:(null==(r={real_estate:[{id:"hero-re-1",title:"Appartement de luxe au Plateau",price:85e4,category:"real_estate",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1500,is_featured:!0,is_boosted:!0},{id:"hero-re-2",title:"Villa avec piscine à Almadies",price:25e5,category:"real_estate",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!1},{id:"hero-re-3",title:"Terrain constructible à Thiès",price:35e4,category:"real_estate",status:"approved",created_at:(new Date).toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!0}],automobile:[{id:"hero-auto-1",title:"Toyota Land Cruiser 2022",price:45e5,category:"automobile",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2e3,is_featured:!0,is_boosted:!0},{id:"hero-auto-2",title:"BMW X5 2021 - Excellent état",price:32e5,category:"automobile",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-auto-3",title:"Peugeot 3008 2020",price:18e5,category:"automobile",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:950,is_featured:!1,is_boosted:!0}],services:[{id:"hero-serv-1",title:"Service de nettoyage professionnel",price:25e3,category:"services",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!0},{id:"hero-serv-2",title:"Cours particuliers - Mathématiques",price:15e3,category:"services",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!0,is_boosted:!1},{id:"hero-serv-3",title:"Service de déménagement",price:45e3,category:"services",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:600,is_featured:!1,is_boosted:!0}],marketplace:[{id:"hero-mp-1",title:"iPhone 15 Pro Max - Neuf",price:85e4,category:"marketplace",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2500,is_featured:!0,is_boosted:!0},{id:"hero-mp-2",title:"MacBook Pro M2 - 2023",price:12e5,category:"marketplace",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-mp-3",title:"PS5 + 5 jeux - Comme neuf",price:35e4,category:"marketplace",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1100,is_featured:!1,is_boosted:!0}]}[e])?void 0:r.slice(0,s))||[],category:e,hour:t,fallbackLevel:5,nextRotation:new Date(Date.now()+36e5),rotationInfo:{currentHour:t,currentCategory:e,timeSlot:Pi(t),fallbackLevel:5}}},Pi=e=>e>=6&&12>e?"matin":e>=12&&18>e?"après-midi":e>=18&&22>e?"soirée":"nuit",Ii={getAllListings:(...e)=>m(null,[...e],(function*(e={}){if(!ht)return{data:[{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}},{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",description:"Véhicule en parfait état, entretien régulier, première main.",price:25e5,category:"automobile",status:"approved",user_id:"test-user-2",created_at:(new Date).toISOString(),location:{city:"Thiès",country:"Sénégal"},automobile_details:{brand:"Toyota",model:"Corolla",year:"2020"},contact_info:{phone:"+221 76 987 6543",email:"vendeur-auto@test.com"},users:{id:"test-user-2",first_name:"Fatou",last_name:"Sall",phone_number:"+221 76 987 6543",email:"fatou.sall@test.com"}},{id:"test-3",title:"Service de Plomberie Professionnel",description:"Plombier qualifié avec 10 ans d'expérience. Réparation, installation, maintenance. Intervention rapide 24h/24.",price:15e3,category:"services",status:"approved",user_id:"test-user-3",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Plomberie",experience:"10 ans",availability:"24h/24",verified:!0,certifications:["Certification professionnelle","Assurance responsabilité civile"]},contact_info:{phone:"+221 78 555 1234",email:"plombier@test.com",website:"www.plombier-dakar.com"},users:{id:"test-user-3",first_name:"Ibrahima",last_name:"Ndiaye",phone_number:"+221 78 555 1234",email:"ibrahima.ndiaye@test.com"}},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",description:"iPhone 13 Pro 128GB en excellent état, acheté il y a 6 mois. Boîte et accessoires inclus.",price:45e4,category:"marketplace",status:"approved",user_id:"test-user-4",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},product_details:{brand:"Apple",model:"iPhone 13 Pro",condition:"Excellent",warranty:"Garantie constructeur",dimensions:"146.7 x 71.5 x 7.65 mm",weight:"203g"},contact_info:{phone:"+221 77 888 9999",email:"tech@test.com"},users:{id:"test-user-4",first_name:"Aissatou",last_name:"Diop",phone_number:"+221 77 888 9999",email:"aissatou.diop@test.com"}}],count:4,hasMore:!1};const{page:t=0,limit:s=12,sort:r}=e,a=t*s,n=a+s-1;try{let t=ft.from("listings").select("*").order("popular"===r?"views_count":"created_at",{ascending:!1}).range(a,n);if(e.category&&"all"!==e.category&&(t=t.eq("category",e.category)),e.status&&"all"!==e.status&&(t=t.eq("status",e.status)),e.user_id&&(t=t.eq("user_id",e.user_id)),e.search&&(t=t.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e.minPrice&&(t=t.gte("price",+e.minPrice)),e.maxPrice&&(t=t.lte("price",+e.maxPrice)),e.location){const s=(e.location+"").trim();s&&(t=t.or(`location->>city.ilike.%${s}%,location->>country.ilike.%${s}%`))}const{data:s,error:i}=yield t;if(i)throw i;const o=(null==s?void 0:s.map((e=>{try{return c(l({},e),{location:e.location?"string"==typeof e.location?JSON.parse(e.location):e.location:null,real_estate_details:e.real_estate_details?"string"==typeof e.real_estate_details?JSON.parse(e.real_estate_details):e.real_estate_details:null,automobile_details:e.automobile_details?"string"==typeof e.automobile_details?JSON.parse(e.automobile_details):e.automobile_details:null,service_details:e.service_details?"string"==typeof e.service_details?JSON.parse(e.service_details):e.service_details:null,product_details:e.product_details?"string"==typeof e.product_details?JSON.parse(e.product_details):e.product_details:null,contact_info:e.contact_info?"string"==typeof e.contact_info?JSON.parse(e.contact_info):e.contact_info:null})}catch(t){return e}})))||[];return{data:o,count:o.length,hasMore:!1}}catch(i){throw i}})),getListingById:e=>m(null,null,(function*(){if(!ht)return{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}};try{const{data:t,error:s}=yield ft.from("listings").select("\n          *,\n          users:users!listings_user_id_fkey (\n            id,\n            first_name,\n            last_name,\n            phone_number,\n            email\n          )\n        ").eq("id",e).eq("status","approved").single();if(s){const{data:t,error:s}=yield ft.from("listings").select("\n            *,\n            users:users!listings_user_id_fkey (\n              id,\n              first_name,\n              last_name,\n              phone_number,\n              email\n            )\n          ").eq("id",e).single();if(s)throw s;return t?c(l({},t),{location:"string"==typeof t.location?JSON.parse(t.location):t.location,real_estate_details:"string"==typeof t.real_estate_details?JSON.parse(t.real_estate_details):t.real_estate_details,automobile_details:"string"==typeof t.automobile_details?JSON.parse(t.automobile_details):t.automobile_details,service_details:"string"==typeof t.service_details?JSON.parse(t.service_details):t.service_details,product_details:"string"==typeof t.product_details?JSON.parse(t.product_details):t.product_details,contact_info:"string"==typeof t.contact_info?JSON.parse(t.contact_info):t.contact_info}):null}return t?c(l({},t),{location:"string"==typeof t.location?JSON.parse(t.location):t.location,real_estate_details:"string"==typeof t.real_estate_details?JSON.parse(t.real_estate_details):t.real_estate_details,automobile_details:"string"==typeof t.automobile_details?JSON.parse(t.automobile_details):t.automobile_details,service_details:"string"==typeof t.service_details?JSON.parse(t.service_details):t.service_details,product_details:"string"==typeof t.product_details?JSON.parse(t.product_details):t.product_details,contact_info:"string"==typeof t.contact_info?JSON.parse(t.contact_info):t.contact_info}):null}catch(t){throw t}})),incrementViews:e=>m(null,null,(function*(){try{const{error:t}=yield ft.rpc("increment_listing_views",{listing_id:e});if(t)throw t}catch(t){}})),getTopViewedListings:(e=6)=>m(null,null,(function*(){if(!ht)return[{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",price:25e5,category:"automobile",status:"approved",created_at:(new Date).toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:1200,is_featured:!1,is_boosted:!1},{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",price:5e5,category:"real_estate",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:980,is_featured:!1,is_boosted:!1},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",price:45e4,category:"marketplace",status:"approved",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!1}].slice(0,e);try{const{data:t,error:s}=yield ft.from("listings").select("*").eq("status","approved").not("is_featured","eq",!0).not("is_boosted","eq",!0).order("views_count",{ascending:!1,nullsFirst:!1}).limit(e);if(s)throw s;return(t||[]).map((e=>c(l({},e),{location:e.location?"string"==typeof e.location?JSON.parse(e.location):e.location:null,real_estate_details:e.real_estate_details?"string"==typeof e.real_estate_details?JSON.parse(e.real_estate_details):e.real_estate_details:null,automobile_details:e.automobile_details?"string"==typeof e.automobile_details?JSON.parse(e.automobile_details):e.automobile_details:null,service_details:e.service_details?"string"==typeof e.service_details?JSON.parse(e.service_details):e.service_details:null,product_details:e.product_details?"string"==typeof e.product_details?JSON.parse(e.product_details):e.product_details:null,contact_info:e.contact_info?"string"==typeof e.contact_info?JSON.parse(e.contact_info):e.contact_info:null})))}catch(t){throw t}})),getUserListings:()=>m(null,null,(function*(){const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");const{data:t,error:s}=yield ft.from("listings").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)throw s;return t})),createListing:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const s=e,{currency:r,specificData:a,subCategory:n,videos:i}=s,o=d(s,["currency","specificData","subCategory","videos"]),u=c(l({},o),{user_id:t.id,status:"approved"});r&&(u.currency=r),a&&Object.keys(a).length>0&&(u.specific_data=a),n&&(u.subCategory=n),i&&i.length>0&&(u.videos=i);const{data:m,error:h}=yield ft.from("listings").insert([u]).select().single();if(h)throw h;return m})),updateListing:(e,t)=>m(null,null,(function*(){const{data:s,error:r}=yield ft.from("listings").update(t).eq("id",e).select().single();if(r)throw r;return s})),deleteListing:e=>m(null,null,(function*(){const{error:t}=yield ft.from("listings").delete().eq("id",e);if(t)throw t})),updateListingStatus:(e,t)=>m(null,null,(function*(){const{data:s,error:r}=yield ft.from("listings").update({status:t}).eq("id",e).select().single();if(r)throw r;return s})),searchListings:e=>m(null,null,(function*(){const{query:t,category:s,minPrice:r,maxPrice:a,location:n,status:i="approved"}=e;let o=ft.from("listings").select("*").eq("status",i);t&&(o=o.or(`title.ilike.%${t}%,description.ilike.%${t}%`)),s&&(o=o.eq("category",s)),r&&(o=o.gte("price",+r)),a&&(o=o.lte("price",+a)),n&&(o=o.or(`location->>city.ilike.%${n}%,location->>country.ilike.%${n}%`));const{data:l,error:c}=yield o.order("created_at",{ascending:!1});if(c)throw c;return l})),getListingStats:()=>m(null,null,(function*(){const{data:e,error:t}=yield ft.from("listings").select("category, status, created_at, price");if(t)throw t;const s={total:e.length,byCategory:{},byStatus:{},byMonth:{},totalValue:0,averagePrice:0};let r=0;return e.forEach((e=>{s.byCategory[e.category]=(s.byCategory[e.category]||0)+1,s.byStatus[e.status]=(s.byStatus[e.status]||0)+1;const t=new Date(e.created_at).toISOString().slice(0,7);s.byMonth[t]=(s.byMonth[t]||0)+1,e.price&&(r+=e.price)})),s.totalValue=r,s.averagePrice=e.length>0?r/e.length:0,s})),getPremiumListings:(e=6,t=!1)=>m(null,null,(function*(){if(!ht)return{data:[{id:"premium-1",title:"Villa de luxe avec vue mer - Premium",description:"Magnifique villa 5 pièces avec vue panoramique sur l'océan. Piscine privée, jardin paysager, garage 2 voitures.",price:15e6,category:"real_estate",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-1",created_at:(new Date).toISOString(),location:{city:"Saly",country:"Sénégal"},real_estate_details:{type:"Villa",rooms:"5 pièces",surface:"200m²",amenities:["Piscine","Jardin","Garage"]},contact_info:{phone:"+221 77 999 8888",email:"villa-premium@test.com"},views_count:1250,favorites_count:89,users:{id:"premium-user-1",first_name:"Omar",last_name:"Diop",phone_number:"+221 77 999 8888",email:"omar.diop@test.com"}},{id:"premium-2",title:"Mercedes Classe S 2023 - Premium",description:"Berline de luxe Mercedes Classe S en parfait état, toutes options, entretien constructeur, garantie étendue.",price:45e6,category:"automobile",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-2",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},automobile_details:{brand:"Mercedes",model:"Classe S",year:"2023",condition:"Parfait"},contact_info:{phone:"+221 76 777 6666",email:"mercedes-premium@test.com"},views_count:890,favorites_count:67,users:{id:"premium-user-2",first_name:"Aissatou",last_name:"Fall",phone_number:"+221 76 777 6666",email:"aissatou.fall@test.com"}},{id:"premium-3",title:"Service de Design d'Intérieur Premium",description:"Designer d'intérieur certifié avec 15 ans d'expérience. Projets résidentiels et commerciaux, suivi complet.",price:25e4,category:"services",status:"approved",is_featured:!0,is_boosted:!1,user_id:"premium-user-3",created_at:(new Date).toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Design d'Intérieur",experience:"15 ans",availability:"Sur rendez-vous",verified:!0,certifications:["Certification internationale","Membre de l'ordre des designers"]},contact_info:{phone:"+221 78 444 3333",email:"design-premium@test.com",website:"www.design-interieur-premium.com"},views_count:567,favorites_count:34,users:{id:"premium-user-3",first_name:"Mariama",last_name:"Ba",phone_number:"+221 78 444 3333",email:"mariama.ba@test.com"}}],hasMore:!1};try{const{data:s,error:r}=yield ft.from("listings").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            phone_number,\n            email\n          ),\n          listing_boosts (\n            boost_packages (\n              features\n            ),\n            end_date\n          )\n        ").or("is_featured.eq.true,is_boosted.eq.true").eq("status","approved").order("updated_at",{ascending:!1});if(r)throw r;const a=s.map((e=>{var t,s;const r=null==(t=e.listing_boosts)?void 0:t[0],a=null==(s=null==r?void 0:r.boost_packages)?void 0:s.features;return c(l({},e),{premium_metadata:{priority:(null==a?void 0:a.priority)||"medium",badge:(null==a?void 0:a.badge)||"boosted",featured:(null==a?void 0:a.featured)||!1,analytics:(null==a?void 0:a.analytics)||"basic",support:(null==a?void 0:a.support)||"standard"},boost_expires_at:(null==r?void 0:r.end_date)||null})}));if(t){const t=a.sort(((e,t)=>{const s=Li(e);return Li(t)-s}));return{data:t.slice(0,e),hasMore:t.length>e,totalPremium:t.length,sortingMethod:"score",topScores:t.slice(0,3).map(((e,t)=>({position:t+1,score:Li(e),title:e.title})))}}return((e,t)=>{const s=(null==e?void 0:e.length)||0;if(0===s)return{data:[],hasMore:!1,totalPremium:0};if(t>=s)return{data:e||[],hasMore:!1,totalPremium:s};const r=new Date,a=Math.floor((r-new Date(r.getFullYear(),0,0))/864e5),n=a%s,i=[];for(let o=0;t>o;o++){const t=(n+o)%s;i.push(e[t])}return{data:i,hasMore:s>t,totalPremium:s,rotationInfo:{dayOfYear:a,rotationOffset:n,nextRotation:new Date(r.getTime()+864e5)}}})(a,e)}catch(s){throw s}})),getHeroListings:(e=6)=>m(null,null,(function*(){return((e=6)=>m(null,null,(function*(){const t=(new Date).getHours(),s=(()=>{const e=(new Date).getHours();return e>=6&&12>e?"real_estate":e>=12&&18>e?"automobile":e>=18&&22>e?"marketplace":"services"})();if(!ht)return zi(s,t,e);try{let r=[],a=1;const{data:n,error:i}=yield ft.from("listings").select("\n        *,\n        users (\n          id,\n          first_name,\n          last_name,\n          profile_image\n        ),\n        listing_boosts (\n          boost_packages (\n            name,\n            features\n          ),\n          end_date\n        )\n      ").eq("category",s).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(2*e);if(!i&&n&&n.length>0?r=n:a++,r.length<e){const{data:t,error:n}=yield ft.from("listings").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            profile_image\n          )\n        ").eq("category",s).eq("status","approved").eq("is_featured",!1).eq("is_boosted",!1).order("views_count",{ascending:!1}).limit(e-r.length);!n&&t&&t.length>0?r=[...r,...t]:a++}if(r.length<e){const{data:t,error:n}=yield ft.from("listings").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            profile_image\n          )\n        ").neq("category",s).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(e-r.length);!n&&t&&t.length>0?r=[...r,...t]:a++}if(r.length<e){const{data:t,error:s}=yield ft.from("listings").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            profile_image\n          )\n        ").eq("status","approved").order("created_at",{ascending:!1}).limit(e-r.length);!s&&t&&t.length>0?r=[...r,...t]:a++}if(0===r.length)return zi(s,t,e);const o=new Date,l=Math.floor((o-new Date(o.getFullYear(),0,0))/36e5)%Math.max(1,r.length),c=[];for(let t=0;e>t&&t<r.length;t++){const e=(l+t)%r.length;c.push(r[e])}return{data:c,category:s,hour:t,nextRotation:new Date(Date.now()+36e5),fallbackLevel:a,rotationInfo:{currentHour:t,currentCategory:s,timeSlot:Pi(t),totalListings:r.length,rotationOffset:l,fallbackLevel:a}}}catch(r){return zi(s,t,e)}})))(e)}))},Ui=new class{getUserTransactions(e){return m(this,arguments,(function*(e,t={}){try{let s=ft.from("transactions").select("\n          *,\n          listing:listings(id, title, price, images),\n          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url),\n          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url)\n        ").or(`sender_id.eq.${e},receiver_id.eq.${e}`).order("created_at",{ascending:!1});t.status&&(s=s.eq("status",t.status)),t.type&&(s=s.eq("type",t.type)),t.dateFrom&&(s=s.gte("created_at",t.dateFrom)),t.dateTo&&(s=s.lte("created_at",t.dateTo)),t.amountMin&&(s=s.gte("amount",t.amountMin)),t.amountMax&&(s=s.lte("amount",t.amountMax));const{data:r,error:a}=yield s;if(a)throw a;return r}catch(s){throw s}}))}createTransaction(e){return m(this,null,(function*(){try{const{data:t,error:s}=yield ft.from("transactions").insert([c(l({},e),{status:"pending",created_at:(new Date).toISOString()})]).select().single();if(s)throw s;return t}catch(t){throw t}}))}updateTransactionStatus(e,t){return m(this,arguments,(function*(e,t,s={}){try{const{data:r,error:a}=yield ft.from("transactions").update({status:t,metadata:c(l({},s),{status_updated_at:(new Date).toISOString()}),updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(a)throw a;return r}catch(r){throw r}}))}getTransaction(e){return m(this,null,(function*(){try{const{data:t,error:s}=yield ft.from("transactions").select("\n          *,\n          listing:listings(id, title, price, images, description),\n          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url, email),\n          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url, email)\n        ").eq("id",e).single();if(s)throw s;return t}catch(t){throw t}}))}cancelTransaction(e,t){return m(this,null,(function*(){try{const{data:s,error:r}=yield ft.from("transactions").update({status:"cancelled",metadata:{cancellation_reason:t,cancelled_at:(new Date).toISOString()},updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(r)throw r;return s}catch(s){throw s}}))}getTransactionStats(e){return m(this,null,(function*(){try{const{data:t,error:s}=yield ft.from("transactions").select("status, amount, type, created_at").or(`sender_id.eq.${e},receiver_id.eq.${e}`);if(s)throw s;const r={total:t.length,totalAmount:t.reduce(((e,t)=>e+(t.amount||0)),0),byStatus:{},byType:{},monthly:{}};return t.forEach((e=>{r.byStatus[e.status]=(r.byStatus[e.status]||0)+1,r.byType[e.type]=(r.byType[e.type]||0)+1;const t=new Date(e.created_at).toISOString().slice(0,7);r.monthly[t]||(r.monthly[t]={count:0,amount:0}),r.monthly[t].count++,r.monthly[t].amount+=e.amount||0})),r}catch(t){throw t}}))}searchTransactions(e,t){return m(this,null,(function*(){try{const{data:s,error:r}=yield ft.from("transactions").select("\n          *,\n          listing:listings(id, title),\n          sender:users!transactions_sender_id_fkey(id, full_name),\n          receiver:users!transactions_receiver_id_fkey(id, full_name)\n        ").or(`sender_id.eq.${e},receiver_id.eq.${e}`).or(`reference.ilike.%${t}%,description.ilike.%${t}%`).order("created_at",{ascending:!1});if(r)throw r;return s}catch(s){throw s}}))}exportTransactions(e){return m(this,arguments,(function*(e,t={}){try{return(yield this.getUserTransactions(e,t)).map((e=>{var t,s;return{"Référence":e.reference,Date:new Date(e.created_at).toLocaleDateString("fr-FR"),Type:e.type,Statut:e.status,Montant:e.amount,Devise:e.currency,Description:e.description,"Expéditeur":(null==(t=e.sender)?void 0:t.full_name)||"N/A",Destinataire:(null==(s=e.receiver)?void 0:s.full_name)||"N/A"}}))}catch(s){throw s}}))}validateTransaction(e,t){return m(this,null,(function*(){try{const{data:s,error:r}=yield ft.from("transactions").update({status:"completed",metadata:{validated_by:t,validated_at:(new Date).toISOString()},updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(r)throw r;return s}catch(s){throw s}}))}getPendingTransactions(){return m(this,null,(function*(){try{const{data:e,error:t}=yield ft.from("transactions").select("\n          *,\n          listing:listings(id, title, price),\n          sender:users!transactions_sender_id_fkey(id, full_name, email),\n          receiver:users!transactions_receiver_id_fkey(id, full_name, email)\n        ").eq("status","pending").order("created_at",{ascending:!0});if(t)throw t;return e}catch(e){throw e}}))}},Fi={getUserNotifications:()=>m(null,null,(function*(){const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");const{data:t,error:s}=yield ft.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)throw s;return t})),markAsRead:e=>m(null,null,(function*(){const{data:t,error:s}=yield ft.from("notifications").update({read:!0}).eq("id",e).select().single();if(s)throw s;return t})),createNotification:e=>m(null,null,(function*(){const{data:t,error:s}=yield ft.from("notifications").insert([e]).select().single();if(s)throw s;return t})),markAllAsRead:()=>m(null,null,(function*(){const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");const{error:t}=yield ft.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(t)throw t;return!0})),deleteNotification:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{error:s}=yield ft.from("notifications").delete().eq("id",e).eq("user_id",t.id);if(s)throw s;return!0})),getUnreadCount:()=>m(null,null,(function*(){const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");const{count:t,error:s}=yield ft.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("read",!1);if(s)throw s;return t||0})),sendPushNotification:(e,t,s,...r)=>m(null,[e,t,s,...r],(function*(e,t,s,r={}){try{const{data:a,error:n}=yield ft.from("users").select("push_token").eq("id",e).single();return!(n||!(null==a?void 0:a.push_token))&&(yield Fi.createNotification({user_id:e,title:t,body:s,type:"push",data:JSON.stringify(r),read:!1}))}catch(a){throw a}}))};(new Date).toISOString(),(new Date).toISOString(),(new Date).toISOString();const Bi={getUserConversations:()=>m(null,null,(function*(){var e,t,s,r;try{const{data:{user:a}}=yield ft.auth.getUser();if(!a)throw Error("Utilisateur non connecté");const{data:n,error:i}=yield ft.from("conversations").select("\n          id,\n          listing_id,\n          participant1_id,\n          participant2_id,\n          is_active,\n          last_message_at,\n          created_at,\n          updated_at\n        ").or(`participant1_id.eq.${a.id},participant2_id.eq.${a.id}`).order("last_message_at",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1});if(i)throw i;const o="00000000-0000-0000-0000-000000000000",{data:d,error:u}=yield ft.from("conversations").select("\n          id,\n          participant1_id,\n          participant2_id,\n          is_active,\n          last_message_at,\n          created_at,\n          updated_at\n        ").or(`participant1_id.eq.${o},participant2_id.eq.${a.id}`).or(`participant1_id.eq.${a.id},participant2_id.eq.${o}`).maybeSingle();let h=null;h=u||!d?yield(r=a.id,m(null,null,(function*(){try{if(!r)throw Error("ID utilisateur requis");if(!(yield m(null,null,(function*(){try{const e="00000000-0000-0000-0000-000000000000",{data:t,error:s}=yield ft.from("users").select("id, first_name, last_name").eq("id",e).single();if(s&&"PGRST116"!==s.code)return!1;if(!t){const{error:t}=yield ft.from("users").insert([{id:e,first_name:"AIDA",last_name:"Assistant",email:"aida@maximarket.com",role:"assistant",is_active:!0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]);if(t)return!1}return!0}catch(e){return!1}}))))throw Error("Impossible de créer/vérifier l'utilisateur assistant");const{data:e,error:t}=yield ft.from("conversations").insert([{participant1_id:"00000000-0000-0000-0000-000000000000",participant2_id:r,is_active:!0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]).select().single();if(t)throw t;const s={conversation_id:e.id,sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:r,content:"🤖 Bonjour ! Je suis AIDA, votre assistant intelligent MaxiMarket !\n\nVotre marketplace de confiance pour l'Afrique de l'Ouest.\n\n✨ Découvrez nos fonctionnalités :\n• 🏠 Immobilier : Achetez, vendez, louez\n• 🚗 Automobile : Véhicules neufs et d'occasion\n• 🛠️ Services : Trouvez des professionnels\n• 🛍️ Marketplace : Tout ce dont vous avez besoin\n\n🔒 Sécurité garantie avec nos partenaires vérifiés\n💬 Support 24/7 disponible\n\nBesoin d'aide ? Je suis là pour vous accompagner !",message_type:"system",is_read:!1,created_at:(new Date).toISOString()},{data:a,error:n}=yield ft.from("messages").insert([s]).select().single();if(n)throw yield ft.from("conversations").delete().eq("id",e.id),n;return e}catch(e){return null}}))):d;let p=null;if(h){const{data:r,error:n}=yield ft.from("messages").select("*").eq("conversation_id",h.id).eq("sender_id","00000000-0000-0000-0000-000000000000").single();!n&&r&&(p=c(l({},h),{messages:[r],participant1:{id:"00000000-0000-0000-0000-000000000000",first_name:"AIDA",last_name:"Assistant",profile_image:null},participant2:{id:a.id,first_name:(null==(e=a.user_metadata)?void 0:e.first_name)||"",last_name:(null==(t=a.user_metadata)?void 0:t.last_name)||"",profile_image:(null==(s=a.user_metadata)?void 0:s.profile_image)||null},listing:null}))}if(!(n&&0!==n.length||p))return[];const f=yield Promise.all(n.map((e=>m(null,null,(function*(){try{let s=null;if(e.listing_id){const{data:t,error:r}=yield ft.from("listings").select("id, title, price, images").eq("id",e.listing_id).single();!r&&t&&(s=t)}const r=e.participant1_id,a=e.participant2_id;let n=null,i=null;if(r)try{const{data:e,error:t}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",r).single();n=!t&&e?e:{id:r,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}catch(t){n={id:r,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}if(a)try{const{data:e,error:t}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",a).single();i=!t&&e?e:{id:a,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}catch(t){i={id:a,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}const{data:o,error:d}=yield ft.from("messages").select("\n                id,\n                content,\n                created_at,\n                is_read,\n                sender_id,\n                conversation_id\n              ").eq("conversation_id",e.id).order("created_at",{ascending:!0});if(d)return c(l({},e),{messages:[],listing:s,participant1:n,participant2:i});const u=yield Promise.all((o||[]).map((e=>m(null,null,(function*(){try{let t=null;if(e.sender_id){const{data:s,error:r}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",e.sender_id).single();!r&&s&&(t=s)}return c(l({},e),{sender:t})}catch(t){return e}})))));return c(l({},e),{messages:u||[],listing:s,participant1:n,participant2:i})}catch(t){return c(l({},e),{messages:[],listing:null,participant1:null,participant2:null})}})))));return p&&f.unshift(p),f.forEach(((e,t)=>{})),f}catch(a){throw a}})),getConversationMessages:e=>m(null,null,(function*(){try{const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("messages").select("\n          id,\n          content,\n          created_at,\n          is_read,\n          sender_id,\n          receiver_id,\n          conversation_id,\n          message_type\n        ").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return yield Promise.all((s||[]).map((e=>m(null,null,(function*(){try{let t=null,s=null;if(e.sender_id){const{data:s,error:r}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",e.sender_id).single();!r&&s&&(t=s)}if(e.receiver_id){const{data:t,error:r}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",e.receiver_id).single();!r&&t&&(s=t)}return c(l({},e),{sender:t,receiver:s})}catch(t){return e}})))))}catch(t){throw t}})),sendMessage:(e,t,s="text")=>m(null,null,(function*(){const{data:{user:r}}=yield ft.auth.getUser();if(!r)throw Error("Utilisateur non connecté");const{data:a,error:n}=yield ft.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(n)throw n;const i=a.participant1_id===r.id?a.participant2_id:a.participant1_id,o=(new Date).toISOString(),{data:l,error:c}=yield ft.from("messages").insert([{sender_id:r.id,receiver_id:i,conversation_id:e,content:t,message_type:s,created_at:o}]).select().single();if(c)throw c;const{data:d,error:u}=yield ft.from("conversations").update({last_message_at:o,updated_at:o}).eq("id",e).select();return l})),refreshConversations:()=>m(null,null,(function*(){try{return yield Bi.getUserConversations()}catch(e){throw e}})),syncConversation:e=>m(null,null,(function*(){try{const{data:t,error:s}=yield ft.from("messages").select("\n          id,\n          content,\n          created_at,\n          is_read,\n          sender_id,\n          receiver_id,\n          conversation_id,\n          message_type\n        ").eq("conversation_id",e).order("created_at",{ascending:!0});if(s)throw s;return yield Promise.all((t||[]).map((e=>m(null,null,(function*(){try{let t=null;if(e.sender_id){const{data:s,error:r}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",e.sender_id).single();!r&&s&&(t=s)}return c(l({},e),{sender:t})}catch(t){return e}})))))}catch(t){throw t}})),createConversation:(e,t=null)=>m(null,null,(function*(){const{data:{user:s}}=yield ft.auth.getUser();if(!s)throw Error("Utilisateur non connecté");const{data:r,error:a}=yield ft.from("conversations").select("id").or(`and(participant1_id.eq.${s.id},participant2_id.eq.${e}),and(participant1_id.eq.${e},participant2_id.eq.${s.id})`).eq("listing_id",t).single();if(r)return r;const{data:n,error:i}=yield ft.from("conversations").insert([{participant1_id:s.id,participant2_id:e,listing_id:t,is_active:!0}]).select().single();if(i)throw i;return n})),markMessagesAsRead:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{error:s}=yield ft.from("messages").update({is_read:!0,read_at:(new Date).toISOString()}).eq("conversation_id",e).neq("sender_id",t.id).eq("is_read",!1);if(s)throw s;return!0})),archiveConversation:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("conversations").select("participant1_id, participant2_id, is_archived").eq("id",e).single();if(r)throw r;if(s.participant1_id!==t.id&&s.participant2_id!==t.id)throw Error("Non autorisé");const a=!s.is_archived,{error:n}=yield ft.from("conversations").update({is_archived:a,updated_at:(new Date).toISOString()}).eq("id",e);if(n)throw n;return{is_archived:a}})),toggleConversationStar:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("conversations").select("participant1_id, participant2_id, starred").eq("id",e).single();if(r)throw r;if(s.participant1_id!==t.id&&s.participant2_id!==t.id)throw Error("Non autorisé");const a=!s.starred,{error:n}=yield ft.from("conversations").update({starred:a,updated_at:(new Date).toISOString()}).eq("id",e);if(n)throw n;return{starred:a}})),deleteMessage:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("messages").select("sender_id, conversation_id").eq("id",e).single();if(r)throw r;if(s.sender_id!==t.id)throw Error("Vous ne pouvez supprimer que vos propres messages");const{error:a}=yield ft.from("messages").delete().eq("id",e);if(a)throw a;return!0})),deleteConversation:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(r)throw r;if(s.participant1_id!==t.id&&s.participant2_id!==t.id)throw Error("Non autorisé");const{error:a}=yield ft.from("messages").delete().eq("conversation_id",e);if(a)throw a;const{error:n}=yield ft.from("conversations").delete().eq("id",e);if(n)throw n;return!0})),searchConversations:e=>m(null,null,(function*(){try{const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("conversations").select("\n          id,\n          listing_id,\n          participant1_id,\n          participant2_id,\n          is_active,\n          last_message_at,\n          created_at,\n          updated_at\n        ").or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1});if(r)throw r;return(yield Promise.all((s||[]).map((e=>m(null,null,(function*(){try{let t=null,s=null,r=null;if(e.listing_id){const{data:s,error:r}=yield ft.from("listings").select("id, title").eq("id",e.listing_id).single();!r&&s&&(t=s)}if(e.participant1_id){const{data:t,error:r}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",e.participant1_id).single();!r&&t&&(s=t)}if(e.participant2_id){const{data:t,error:s}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",e.participant2_id).single();!s&&t&&(r=t)}return c(l({},e),{listing:t,participant1:s,participant2:r})}catch(t){return e}})))))).filter((t=>{var s,r,a,n,i,o,l,c,d,u;if(!e)return!0;const m=e.toLowerCase();return!!(null==(r=null==(s=t.listing)?void 0:s.title)?void 0:r.toLowerCase().includes(m))||!!((null==(n=null==(a=t.participant1)?void 0:a.first_name)?void 0:n.toLowerCase().includes(m))||(null==(o=null==(i=t.participant1)?void 0:i.last_name)?void 0:o.toLowerCase().includes(m))||(null==(c=null==(l=t.participant2)?void 0:l.first_name)?void 0:c.toLowerCase().includes(m))||(null==(u=null==(d=t.participant2)?void 0:d.last_name)?void 0:u.toLowerCase().includes(m)))}))}catch(t){throw t}})),getUnreadMessages:()=>m(null,null,(function*(){try{const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");const{data:t,error:s}=yield ft.from("messages").select("\n          id,\n          content,\n          created_at,\n          is_read,\n          sender_id,\n          receiver_id,\n          conversation_id,\n          message_type\n        ").eq("receiver_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1});if(s)throw s;return yield Promise.all((t||[]).map((e=>m(null,null,(function*(){try{let t=null,s=null;if(e.conversation_id){const{data:s,error:r}=yield ft.from("conversations").select("id, listing_id").eq("id",e.conversation_id).single();!r&&s&&(t=s)}if(e.sender_id){const{data:t,error:r}=yield ft.from("users").select("id, first_name, last_name, profile_image").eq("id",e.sender_id).single();!r&&t&&(s=t)}return c(l({},e),{conversation:t,sender:s})}catch(t){return e}})))))}catch(e){throw e}})),getUnreadMessageCount:()=>m(null,null,(function*(){const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");const{count:t,error:s}=yield ft.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("is_read",!1);if(s)throw s;return t||0})),sendSystemMessage:(e,t,s="system")=>m(null,null,(function*(){const{data:r,error:a}=yield ft.from("messages").insert([{sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:e,content:t,message_type:s,is_read:!1}]).select().single();if(a)throw a;return r}))};class Vi{static analyzeContent(e){if(!e||"string"!=typeof e)return{isClean:!1,score:100,issues:["Contenu vide ou invalide"],shouldAutoReject:!0,shouldAutoApprove:!1,moderationLevel:"high"};const t=e.toLowerCase(),s=[];let r=100;const a=this.forbiddenWords.filter((e=>t.includes(e.toLowerCase())));a.length>0&&(s.push("Mots interdits détectés: "+a.join(", ")),r-=20*a.length);const n=this.spamPatterns.some((t=>t.test(e)));n&&(s.push("Patterns de spam détectés"),r-=30);const i=this.commercialPatterns.some((t=>t.test(e)));i&&(s.push("Contenu commercial détecté"),r-=15),10>e.length&&(s.push("Commentaire trop court"),r-=25),e.length>1e3&&(s.push("Commentaire trop long"),r-=10),(e.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/g)||[]).length/e.length>.3&&(s.push("Trop de caractères spéciaux"),r-=20),(e.match(/[A-Z]/g)||[]).length/e.length>.5&&(s.push("Trop de majuscules"),r-=15);const o=30>r||a.length>=3,l=r>=80&&0===s.length,c=30>r?"high":60>r?"medium":"low";return{isClean:r>=60,score:Math.max(0,r),issues:s,shouldAutoReject:o,shouldAutoApprove:l,moderationLevel:c,foundForbiddenWords:a,spamDetected:n,commercialDetected:i}}static moderateComment(e){return m(this,null,(function*(){const t=this.analyzeContent(e.content);let s="pending",r=null;return t.shouldAutoReject?(s="rejected",r="Contenu inapproprié détecté: "+t.issues.join(", ")):t.shouldAutoApprove?(s="approved",r="Contenu approuvé automatiquement"):(s="pending",r="Nécessite une modération manuelle"),{status:s,reason:r,analysis:t,moderatedAt:(new Date).toISOString()}}))}static checkUserRateLimit(e,t){return m(this,null,(function*(){return{canPost:!0,reason:null,nextAllowedTime:null}}))}static analyzeUserBehavior(e){return m(this,null,(function*(){return{trustScore:50,warningCount:0,isFlagged:!1,lastViolation:null}}))}static getModerationSuggestions(e){const t=[];return e.foundForbiddenWords.length>0&&t.push({type:"warning",message:"Évitez les mots inappropriés",action:"reject"}),e.spamDetected&&t.push({type:"warning",message:"Contenu détecté comme spam",action:"reject"}),e.commercialDetected&&t.push({type:"info",message:"Contenu commercial détecté",action:"review"}),50>e.score&&t.push({type:"warning",message:"Score de qualité faible",action:"review"}),t}static formatModerationReport(e,t,s){return{commentId:e.id,userId:e.user_id,listingId:e.listing_id,content:e.content,analysis:{score:t.score,issues:t.issues,moderationLevel:t.moderationLevel},moderation:{status:s.status,reason:s.reason,moderatedAt:s.moderatedAt},suggestions:this.getModerationSuggestions(t)}}}u(Vi,"forbiddenWords",["spam","arnaque","fake","faux","escroquerie","arnaqueur","arnaqueuse","escroc","arnaqueur","arnaqueuse","arnaqueur","merde","putain","con","salope","nique","fuck","shit","bitch","asshole","connard","connasse","enculé","enculée","publicité","pub","promotion","offre spéciale","promo","rabais","réduction","bon plan","opportunité","business","politique","religion","dieu","allah","jésus","parti","élection","vote","candidat","président","ministre","drogue","cannabis","cocaïne","héroïne","trafic","illégal","contrefaçon","faux billets","fausse monnaie","vol","cambriolage"]),u(Vi,"spamPatterns",[/(https?:\/\/[^\s]+)/g,/(\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b)/g,/(\b\d{10,}\b)/g,/(\b[A-Z]{5,}\b)/g,/(.)\1{4,}/g,/(\b\w+\b)(?:\s+\1){2,}/g]),u(Vi,"commercialPatterns",[/\b(achetez|vendez|promotion|offre|rabais|réduction|bon plan)\b/gi,/\b(contactez|appelez|écrivez|visitez)\b/gi,/\b(prix|tarif|coût|gratuit|payant)\b/gi]);const $i=new class{getComments(e){return m(this,arguments,(function*(e,t={}){try{const{page:s=1,limit:r=10,forceRefresh:a=!1}=t,n=(s-1)*r,i=n+r-1,{data:o,error:d}=(a&&Date.now(),yield ft.from("comments").select("\n          *,\n          user:users(id, first_name, last_name, email)\n        ").eq("listing_id",e).eq("status","approved").order("created_at",{ascending:!1}).range(n,i));if(d)throw d;const{count:u,error:m}=yield ft.from("comments").select("*",{count:"exact",head:!0}).eq("listing_id",e).eq("status","approved");if(m)throw m;const h=u||0,p=Math.ceil(h/r);return{comments:(null==o?void 0:o.map((e=>{const t=e.user;let s="Utilisateur anonyme",r=null;if(t)t.first_name&&t.last_name?s=`${t.first_name} ${t.last_name}`:t.first_name?s=t.first_name:t.last_name?s=t.last_name:t.email&&(s=t.email.split("@")[0]),r=t.email;else{const t=e.user_id;t&&(s="Utilisateur "+t.slice(0,8))}return c(l({},e),{user_display_name:s,user_email:r})})))||[],pagination:{page:s,limit:r,total:h,pages:p},error:null}}catch(s){return{comments:[],pagination:{page:1,limit:10,total:0,pages:0},error:s.message}}}))}createComment(e){return m(this,null,(function*(){var t;try{const s=yield Vi.moderateComment(e),r={listing_id:e.listing_id,user_id:e.user_id,content:e.content,rating:e.rating,parent_id:e.parent_id||null,status:s.status},{data:a,error:n}=yield ft.from("comments").insert([r]).select("*").single();if(n)throw n;return{comment:c(l({},a),{user_display_name:"Utilisateur "+(null==(t=a.user_id)?void 0:t.slice(0,8)),user_email:null}),error:null,moderation:s}}catch(s){return{comment:null,error:s.message}}}))}updateComment(e,t){return m(this,null,(function*(){var s;try{const{data:r,error:a}=yield ft.from("comments").update(t).eq("id",e).select("*").single();if(a)throw a;return{comment:c(l({},r),{user_display_name:"Utilisateur "+(null==(s=r.user_id)?void 0:s.slice(0,8)),user_email:null}),error:null}}catch(r){return{comment:null,error:r.message}}}))}deleteComment(e){return m(this,null,(function*(){try{const{error:t}=yield ft.from("comments").delete().eq("id",e);if(t)throw t;return{error:null}}catch(t){return{error:t.message}}}))}reportComment(e,t){return m(this,null,(function*(){try{const{data:s,error:r}=yield ft.from("comment_reports").insert([l({comment_id:e},t)]).select().single();if(r)throw r;return{report:s,error:null}}catch(s){return{report:null,error:s.message}}}))}getCommentStats(e){return m(this,null,(function*(){try{const{data:t,error:s}=yield ft.rpc("get_listing_comment_stats",{listing_uuid:e});if(s)throw s;return{stats:t[0]||null,error:null}}catch(t){try{const{data:t,error:s}=yield ft.from("comments").select("rating, is_verified_purchase").eq("listing_id",e).eq("status","approved");if(s)throw s;return{stats:{total_comments:t.length,average_rating:t.length>0?t.reduce(((e,t)=>e+t.rating),0)/t.length:0,verified_purchases:t.filter((e=>e.is_verified_purchase)).length,rating_distribution:{1:t.filter((e=>1===e.rating)).length,2:t.filter((e=>2===e.rating)).length,3:t.filter((e=>3===e.rating)).length,4:t.filter((e=>4===e.rating)).length,5:t.filter((e=>5===e.rating)).length}},error:null}}catch(s){return{stats:null,error:s.message}}}}))}getUserComments(e){return m(this,arguments,(function*(e,t={}){const{page:s=1,limit:r=10,status:a=null}=t;try{let t=ft.from("comments").select("\n          *,\n          listing:listings(id, title, category, images)\n        ").eq("user_id",e);a&&(t=t.eq("status",a)),t=t.order("created_at",{ascending:!1});const n=(s-1)*r,i=n+r-1;t=t.range(n,i);const{data:o,error:l,count:c}=yield t;if(l)throw l;return{comments:o||[],pagination:{page:s,limit:r,total:c,pages:Math.ceil(c/r)},error:null}}catch(n){return{comments:[],pagination:{page:s,limit:r,total:0,pages:0},error:n.message}}}))}getPendingComments(){return m(this,arguments,(function*(e={}){const{page:t=1,limit:s=20}=e;try{const{data:e,error:r,count:a}=yield ft.from("comments").select("\n          *,\n          listing:listings(id, title, category)\n        ").eq("status","pending").order("created_at",{ascending:!1}).range((t-1)*s,t*s-1);if(r)throw r;return{comments:e||[],pagination:{page:t,limit:s,total:a,pages:Math.ceil(a/s)},error:null}}catch(r){return{comments:[],pagination:{page:t,limit:s,total:0,pages:0},error:r.message}}}))}moderateComment(e,t,s=null){return m(this,null,(function*(){try{const s={status:t,updated_at:(new Date).toISOString()},{data:r,error:a}=yield ft.from("comments").update(s).eq("id",e).select().single();if(a)throw a;return{comment:r,error:null}}catch(s){return{comment:null,error:s.message}}}))}},Hi=()=>m(null,null,(function*(){const{data:e,error:t}=yield ft.from("categories").select("*").order("name");if(t)throw t;return e})),Wi={getUserFavorites:()=>m(null,null,(function*(){const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");const{data:t,error:s}=yield ft.from("favorites").select("\n        *,\n        listings!favorites_listing_id_fkey (\n          *,\n          users!listings_user_id_fkey (\n            id,\n            first_name,\n            last_name\n          )\n        )\n      ").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)throw s;return t})),addToFavorites:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("favorites").insert([{user_id:t.id,listing_id:e}]).select().single();if(r)throw r;return s})),removeFromFavorites:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{error:s}=yield ft.from("favorites").delete().eq("user_id",t.id).eq("listing_id",e);if(s)throw s})),isFavorite:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)return!1;const{data:s,error:r}=yield ft.from("favorites").select("id").eq("user_id",t.id).eq("listing_id",e).single();if(r&&"PGRST116"!==r.code)throw r;return!!s})),toggleFavorite:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");try{return(yield Wi.isFavorite(e))?(yield Wi.removeFromFavorites(e),{is_favorite:!1,action:"removed"}):(yield Wi.addToFavorites(e),{is_favorite:!0,action:"added"})}catch(s){throw Error("Impossible de modifier les favoris")}})),getUserFavoritesWithStatus:()=>m(null,null,(function*(){const{data:{user:e}}=yield ft.auth.getUser();if(!e)throw Error("Utilisateur non connecté");try{const{data:t,error:s}=yield ft.from("favorites").select("listing_id").eq("user_id",e.id);if(s)throw s;return new Set(t.map((e=>e.listing_id)))}catch(t){return new Set}}))},Ji={uploadImage:(e,t="listings")=>m(null,null,(function*(){try{const{data:{user:s}}=yield ft.auth.getUser();if(!s)throw Error("Utilisateur non connecté");if(!e.type.startsWith("image/"))throw Error("Le fichier doit être une image");if(e.size>5242880)throw Error("L'image ne doit pas dépasser 5MB");const r=`${Date.now()}-${Math.random().toString(36).substring(2)}-${e.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,a=`${t}/${s.id}/${r}`,{data:n,error:i}=yield ft.storage.from("images").upload(a,e,{cacheControl:"31536000",upsert:!1,contentType:"image/jpeg"});if(i)throw Error("Erreur lors de l'upload: "+i.message);const{data:{publicUrl:o}}=ft.storage.from("images").getPublicUrl(a);return o}catch(s){throw s}})),deleteImage:e=>m(null,null,(function*(){try{const{error:t}=yield ft.storage.from("images").remove([e]);if(t)throw t}catch(t){throw t}})),listUserImages:(e,t="listings")=>m(null,null,(function*(){try{const{data:s,error:r}=yield ft.storage.from("images").list(`${t}/${e}`);if(r)throw r;return s}catch(s){throw s}}))},Gi={getAllReports:(...e)=>m(null,[...e],(function*(e={}){let t=ft.from("reports").select("\n        *,\n        reporter:users!reports_reporter_id_fkey (\n          id,\n          first_name,\n          last_name,\n          email\n        ),\n        listing:listings!reports_listing_id_fkey (\n          id,\n          title,\n          description\n        )\n      ").order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.type&&(t=t.eq("type",e.type)),e.severity&&(t=t.eq("severity",e.severity));const{data:s,error:r}=yield t;if(r)throw r;return s})),createReport:e=>m(null,null,(function*(){const{data:{user:t}}=yield ft.auth.getUser();if(!t)throw Error("Utilisateur non connecté");const{data:s,error:r}=yield ft.from("reports").insert([c(l({},e),{reporter_id:t.id,status:"pending"})]).select().single();if(r)throw r;return s})),moderateReport:(e,t,s=null)=>m(null,null,(function*(){const r={status:t,moderated_at:(new Date).toISOString(),moderator_reason:s},{data:a,error:n}=yield ft.from("reports").update(r).eq("id",e).select().single();if(n)throw n;return a}))},Ki={getBoostPackages:()=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible de récupérer les packages de boost.");try{const{data:e,error:t}=yield ft.from("boost_packages").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return{success:!0,packages:e||[],message:"Packages récupérés avec succès"}}catch(e){throw Error("Erreur de récupération des packages: "+e.message)}})),purchaseBoost:(e,t,s)=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible d'acheter un boost.");try{const{data:r,error:a}=yield ft.from("boost_packages").select("*").eq("id",e).eq("is_active",!0).single();if(a||!r)throw Error("Package de boost non trouvé ou inactif");const{data:n,error:i}=yield ft.from("listings").select("user_id").eq("id",t).single();if(i||!n)throw Error("Annonce non trouvée");if(n.user_id!==s)throw Error("Vous n'êtes pas autorisé à booster cette annonce");const o=new Date(Date.now()+864e5*r.duration_days),{data:l,error:c}=yield ft.from("listing_boosts").insert({listing_id:t,user_id:s,package_id:e,status:"pending",start_date:(new Date).toISOString(),end_date:o.toISOString(),metadata:{price:r.price,duration_days:r.duration_days,features:r.features,package_name:r.name}}).select().single();if(c)throw c;return{success:!0,boostId:l.id,boostData:l,message:"Boost créé avec succès"}}catch(r){throw Error("Erreur d'achat de boost: "+r.message)}})),getUserBoosts:e=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible de récupérer les boosts.");try{const{data:t,error:s}=yield ft.from("listing_boosts").select("\n          *,\n          boost_packages (*),\n          listings (\n            id,\n            title,\n            price,\n            images,\n            location\n          )\n        ").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return{success:!0,boosts:t||[],message:"Boosts récupérés avec succès"}}catch(t){throw Error("Erreur de récupération des boosts: "+t.message)}})),getListingBoosts:e=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible de récupérer les boosts de l'annonce.");try{const{data:t,error:s}=yield ft.from("listing_boosts").select("\n          *,\n          boost_packages (*)\n        ").eq("listing_id",e).eq("status","active").order("created_at",{ascending:!1});if(s)throw s;return{success:!0,boosts:t||[],message:"Boosts de l'annonce récupérés avec succès"}}catch(t){throw Error("Erreur de récupération des boosts: "+t.message)}})),cancelBoost:(e,t)=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible d'annuler le boost.");try{const{data:s,error:r}=yield ft.from("listing_boosts").select("*").eq("id",e).eq("user_id",t).single();if(r||!s)throw Error("Boost non trouvé ou non autorisé");const{error:a}=yield ft.from("listing_boosts").update({status:"cancelled",cancelled_at:(new Date).toISOString()}).eq("id",e);if(a)throw a;return{success:!0,message:"Boost annulé avec succès"}}catch(s){throw Error("Erreur d'annulation de boost: "+s.message)}})),activateBoost:e=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible d'activer le boost.");try{const{data:t,error:s}=yield ft.from("listing_boosts").select("\n          *,\n          boost_packages (*)\n        ").eq("id",e).single();if(s||!t)throw Error("Boost non trouvé");const r=new Date(Date.now()+864e5*t.duration_days),{error:a}=yield ft.from("listing_boosts").update({status:"active",activated_at:(new Date).toISOString(),expires_at:r.toISOString()}).eq("id",e);if(a)throw a;const{error:n}=yield ft.from("listings").update({is_boosted:!0,boost_expires_at:r.toISOString()}).eq("id",t.listing_id);return{success:!0,boostData:c(l({},t),{status:"active",activated_at:(new Date).toISOString(),expires_at:r.toISOString()}),message:"Boost activé avec succès"}}catch(t){throw Error("Erreur d'activation de boost: "+t.message)}})),renewBoost:(e,t)=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible de renouveler le boost.");try{const{data:s,error:r}=yield ft.from("listing_boosts").select("\n          *,\n          boost_packages (*)\n        ").eq("id",e).eq("user_id",t).single();if(r||!s)throw Error("Boost non trouvé ou non autorisé");if("active"!==s.status&&"expired"!==s.status)throw Error("Le boost ne peut pas être renouvelé dans son état actuel");const a=new Date(s.expires_at),n=new Date(a.getTime()+864e5*s.duration_days),{error:i}=yield ft.from("listing_boosts").update({status:"active",expires_at:n.toISOString(),renewed_at:(new Date).toISOString()}).eq("id",e);if(i)throw i;const{error:o}=yield ft.from("listings").update({is_boosted:!0,boost_expires_at:n.toISOString()}).eq("id",s.listing_id);return{success:!0,boostData:c(l({},s),{status:"active",expires_at:n.toISOString(),renewed_at:(new Date).toISOString()}),message:"Boost renouvelé avec succès"}}catch(s){throw Error("Erreur de renouvellement de boost: "+s.message)}})),getBoostStats:e=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible de récupérer les statistiques.");try{const{data:t,error:s}=yield ft.from("listing_boosts").select("status, price, created_at").eq("user_id",e);if(s)throw s;return{success:!0,stats:{total:t.length,active:t.filter((e=>"active"===e.status)).length,pending:t.filter((e=>"pending"===e.status)).length,expired:t.filter((e=>"expired"===e.status)).length,cancelled:t.filter((e=>"cancelled"===e.status)).length,totalSpent:t.reduce(((e,t)=>e+(t.price||0)),0)},message:"Statistiques récupérées avec succès"}}catch(t){throw Error("Erreur de récupération des statistiques: "+t.message)}})),getBoostStatus:e=>m(null,null,(function*(){if(!ht)return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]};try{const{data:t,error:s}=yield ft.from("listing_boosts").select("\n          *,\n          boost_packages (\n            name,\n            description,\n            features\n          )\n        ").eq("listing_id",e).order("created_at",{ascending:!1});if(s)throw s;const r=null==t?void 0:t.find((e=>"active"===e.status));return{hasActiveBoost:!!r,currentBoost:r,boostHistory:t||[]}}catch(t){return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]}}}))},Yi={createPayment:e=>m(null,null,(function*(){if(!ht)throw Error("Supabase non configuré. Impossible de créer un paiement.");try{const{data:t,error:s}=yield ft.from("payments").insert({user_id:e.userId,amount:e.amount,currency:e.currency||"XOF",payment_method:e.paymentMethod,payment_gateway:"fedapay",status:"pending",metadata:{boost_id:e.boostId,package_name:e.packageName,listing_id:e.listingId,description:e.description,phone_number:e.phoneNumber,email:e.email,country:e.country||"BJ",created_at:(new Date).toISOString()},expires_at:new Date(Date.now()+18e5).toISOString()}).select().single();if(s)throw s;return{success:!0,paymentId:t.id,paymentData:t,message:"Paiement créé avec succès"}}catch(t){throw Error("Erreur de création de paiement: "+t.message)}})),getPaymentMethods:(e="BJ")=>[{id:"orange_money",name:"Orange Money",icon:"🟠",description:"Paiement via Orange Money",available:!0},{id:"mtn_mobile_money",name:"MTN Mobile Money",icon:"🟡",description:"Paiement via MTN Mobile Money",available:!0},{id:"moov_money",name:"Moov Money",icon:"🔵",description:"Paiement via Moov Money",available:!0},{id:"card",name:"Carte Bancaire",icon:"💳",description:"Paiement par carte Visa/Mastercard",available:!0}],calculateFees:e=>{const t=.025*e+50;return{amount:e,fee:Math.round(t),total:e+Math.round(t),percentage:2.5,fixedFee:50}},validatePhoneNumber:(e,t="BJ")=>/^(\+229|229)?[0-9]{8}$/.test(e.replace(/\s/g,"")),formatPhoneNumber:(e,t="BJ")=>{const s=e.replace(/\D/g,"");return 8===s.length?`+229 ${s.slice(0,2)} ${s.slice(2,4)} ${s.slice(4,6)} ${s.slice(6,8)}`:e}};function Xi(e,t,s=null){const r={};return null==e||e.forEach((e=>{const a=Te(new Date(e[t]),"yyyy-MM-dd");r[a]=s?(r[a]||0)+(e[s]||0):(r[a]||0)+1})),Object.entries(r).map((([e,t])=>({date:e,value:t})))}function Zi(e,t,s=null){const r={};return null==e||e.forEach((e=>{const a=new Date(e[t]),n=Te(De(a,{weekStartsOn:1}),"yyyy-MM-dd");r[n]=s?(r[n]||0)+(e[s]||0):(r[n]||0)+1})),Object.entries(r).map((([e,t])=>({date:e,value:t})))}function Qi(e,t,s=null){const r={};return null==e||e.forEach((e=>{const a=new Date(e[t]),n=Te(Oe(a),"yyyy-MM");r[n]=s?(r[n]||0)+(e[s]||0):(r[n]||0)+1})),Object.entries(r).map((([e,t])=>({date:e,value:t})))}const eo=new class{constructor(){this.usagePatterns=new Map,this.optimizations=new Map,this.isOptimizing=!1}recordUsage(e,t,s){this.usagePatterns.has(e)||this.usagePatterns.set(e,{hits:0,misses:0,lastAccess:s,accessTimes:[],totalAccesses:0});const r=this.usagePatterns.get(e);r.totalAccesses++,r.lastAccess=s,r.accessTimes.push(s),t?r.hits++:r.misses++,r.accessTimes.length>100&&r.accessTimes.shift(),this.optimizeTTL(e)}calculateAverageInterval(e){if(2>e.length)return 0;const t=[];for(let s=1;s<e.length;s++)t.push(e[s]-e[s-1]);return t.reduce(((e,t)=>e+t),0)/t.length}calculateFreshnessRatio(e){if(0===e.hits+e.misses)return 0;const t=e.hits;return t/(t+e.misses)}optimizeTTL(e){const t=this.usagePatterns.get(e);if(!t||10>t.totalAccesses)return;const s=this.calculateAverageInterval(t.accessTimes),r=this.calculateFreshnessRatio(t),a=this.getCurrentTTL(e);let n=a;3e5>s&&r>.8?n=Math.min(1.5*a,18e5):s>9e5&&.3>r?n=Math.max(.7*a,6e4):6e4>s&&(n=Math.max(2*s,3e4)),this.optimizations.set(e,{currentTTL:a,optimalTTL:n,averageInterval:s,freshnessRatio:r,lastOptimized:Date.now()})}getCurrentTTL(e){return e.includes("categories")?6e5:e.includes("listings")?12e4:e.includes("userListings")?6e4:(e.includes("search"),3e5)}getOptimalTTL(e){const t=this.optimizations.get(e);return t?t.optimalTTL:this.getCurrentTTL(e)}getOptimizationRecommendations(){const e=[];for(const[t,s]of this.optimizations){const r=(s.optimalTTL-s.currentTTL)/s.currentTTL*100;Math.abs(r)>10&&e.push({cacheKey:t,currentTTL:s.currentTTL,optimalTTL:s.optimalTTL,improvement:r.toFixed(1),averageInterval:s.averageInterval,freshnessRatio:s.freshnessRatio})}return e.sort(((e,t)=>Math.abs(t.improvement)-Math.abs(e.improvement)))}applyOptimizations(){const e=this.getOptimizationRecommendations();let t=0;for(const s of e)t++;return t}getOptimizationStats(){const e=this.usagePatterns.size,t=this.optimizations.size,s=this.getOptimizationRecommendations();return{totalPatterns:e,totalOptimizations:t,activeRecommendations:s.length,averageImprovement:s.length>0?s.reduce(((e,t)=>e+Math.abs(parseFloat(t.improvement))),0)/s.length:0}}reset(){this.usagePatterns.clear(),this.optimizations.clear()}},to=new class{constructor(e="benome"){this.prefix=e,this.maxSize=10485760,this.cleanupInterval=18e5}_getKey(e){return`${this.prefix}:${e}`}_isExpired(e,t){return Date.now()-e>t}_getSize(e){return new Blob([JSON.stringify(e)]).size}_cleanup(){const e=Object.keys(localStorage).filter((e=>e.startsWith(this.prefix+":")));if(0===e.length)return;const t=e.map((e=>{try{const t=JSON.parse(localStorage.getItem(e));return{key:e,timestamp:t.timestamp,size:this._getSize(t)}}catch(t){return{key:e,timestamp:0,size:0}}})).sort(((e,t)=>e.timestamp-t.timestamp));let s=this._getCurrentCacheSize();const r=.7*this.maxSize;for(const a of t){if(r>=s)break;localStorage.removeItem(a.key),s-=a.size}}_getCurrentCacheSize(){return Object.keys(localStorage).filter((e=>e.startsWith(this.prefix+":"))).reduce(((e,t)=>{try{const s=JSON.parse(localStorage.getItem(t));return e+this._getSize(s)}catch(s){return e}}),0)}set(e,t,s=3e5){try{const r=this._getKey(e),a={data:t,timestamp:Date.now(),ttl:s,version:"1.0"},n=this._getSize(a);return n<=this.maxSize&&(this._getCurrentCacheSize()+n>this.maxSize&&this._cleanup(),localStorage.setItem(r,JSON.stringify(a)),eo&&"function"==typeof eo.recordUsage&&eo.recordUsage(e,!1,Date.now()),!0)}catch(r){return!1}}get(e){try{const t=this._getKey(e),s=localStorage.getItem(t);if(!s)return eo&&"function"==typeof eo.recordUsage&&eo.recordUsage(e,!1,Date.now()),null;const r=JSON.parse(s);return this._isExpired(r.timestamp,r.ttl)?(this.delete(e),eo&&"function"==typeof eo.recordUsage&&eo.recordUsage(e,!1,Date.now()),null):(eo&&"function"==typeof eo.recordUsage&&eo.recordUsage(e,!0,Date.now()),r.data)}catch(t){return this.delete(e),null}}delete(e){try{const t=this._getKey(e);return localStorage.removeItem(t),!0}catch(t){return!1}}clear(){try{return Object.keys(localStorage).filter((e=>e.startsWith(this.prefix+":"))).forEach((e=>localStorage.removeItem(e))),!0}catch(e){return!1}}getStats(){try{const e=Object.keys(localStorage).filter((e=>e.startsWith(this.prefix+":"))),t={totalEntries:e.length,totalSize:this._getCurrentCacheSize(),maxSize:this.maxSize,usagePercentage:this._getCurrentCacheSize()/this.maxSize*100};let s=0;return e.forEach((e=>{try{const t=JSON.parse(localStorage.getItem(e));this._isExpired(t.timestamp,t.ttl)&&s++}catch(t){s++}})),t.expiredEntries=s,t}catch(e){return null}}cleanup(){try{const e=Object.keys(localStorage).filter((e=>e.startsWith(this.prefix+":")));let t=0;return e.forEach((e=>{try{const s=JSON.parse(localStorage.getItem(e));this._isExpired(s.timestamp,s.ttl)&&(localStorage.removeItem(e),t++)}catch(s){localStorage.removeItem(e),t++}})),t}catch(e){return 0}}getTTLOptimizations(){return eo&&"function"==typeof eo.getOptimizationRecommendations?eo.getOptimizationRecommendations():[]}applyTTLOptimizations(){return!(!eo||"function"!=typeof eo.applyOptimizations)&&eo.applyOptimizations()}};setInterval((()=>{to.cleanup()}),18e5);const so={getSystemSettings:()=>m(null,null,(function*(){try{if(!ht)return{general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}};const{data:e,error:t}=yield ft.from("system_settings").select("*").single();return t?so.getDefaultSettings():e.settings||so.getDefaultSettings()}catch(e){return so.getDefaultSettings()}})),updateSystemSettings:e=>m(null,null,(function*(){try{if(!ht)return{success:!0,message:"Paramètres mis à jour en mode développement"};const{data:t,error:s}=yield ft.from("system_settings").upsert([{id:"main",settings:e,updated_at:(new Date).toISOString()}],{onConflict:"id"}).select().single();if(s)throw s;return{success:!0,data:t,message:"Paramètres mis à jour avec succès"}}catch(t){throw Error("Impossible de sauvegarder les paramètres")}})),getSetting:(e,t)=>m(null,null,(function*(){var s;try{return null==(s=(yield so.getSystemSettings())[e])?void 0:s[t]}catch(r){return null}})),updateSetting:(e,t,s)=>m(null,null,(function*(){try{const r=yield so.getSystemSettings();return r[e]||(r[e]={}),r[e][t]=s,yield so.updateSystemSettings(r)}catch(r){throw r}})),getSettingsBySection:e=>m(null,null,(function*(){try{return(yield so.getSystemSettings())[e]||{}}catch(t){return{}}})),getSiteSettings:()=>m(null,null,(function*(){try{return(yield so.getSystemSettings()).general||{}}catch(e){return{}}})),getAppearanceSettings:()=>m(null,null,(function*(){try{return(yield so.getSystemSettings()).appearance||{}}catch(e){return{}}})),getNotificationSettings:()=>m(null,null,(function*(){try{return(yield so.getSystemSettings()).notifications||{}}catch(e){return{}}})),getSecuritySettings:()=>m(null,null,(function*(){try{return(yield so.getSystemSettings()).security||{}}catch(e){return{}}})),getSystemSettingsSection:()=>m(null,null,(function*(){try{return(yield so.getSystemSettings()).system||{}}catch(e){return{}}})),resetToDefaults:()=>m(null,null,(function*(){try{const e=so.getDefaultSettings();return yield so.updateSystemSettings(e)}catch(e){throw e}})),exportSettings:()=>m(null,null,(function*(){try{const e=yield so.getSystemSettings(),t=JSON.stringify(e,null,2),s=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(s),a=document.createElement("a");return a.href=r,a.download=`maximarket-settings-${(new Date).toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(r),{success:!0,message:"Paramètres exportés avec succès"}}catch(e){throw Error("Impossible d'exporter les paramètres")}})),importSettings:e=>m(null,null,(function*(){try{return new Promise(((t,s)=>{const r=new FileReader;r.onload=e=>m(null,null,(function*(){try{const r=JSON.parse(e.target.result);if(!so.validateSettings(r))return void s(Error("Format de paramètres invalide"));const a=yield so.updateSystemSettings(r);t(a)}catch(r){s(Error("Fichier JSON invalide"))}})),r.onerror=()=>s(Error("Erreur de lecture du fichier")),r.readAsText(e)}))}catch(t){throw t}})),validateSettings:e=>{const t=["general","appearance","notifications","security","system"];for(const r of t)if(!e[r]||"object"!=typeof e[r])return!1;const s=e.general;return!!(s.siteName&&s.contactEmail&&s.timezone&&s.currency)},getDefaultSettings:()=>({general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}})},ro={createCampaign:e=>m(null,null,(function*(){try{const{data:t,error:s}=yield ft.from("email_campaigns").insert([{type:e.type,subject:e.subject,data:e.data,scheduled_date:e.scheduledDate,status:"draft",created_by:e.createdBy,created_at:(new Date).toISOString()}]).select();if(s)throw s;return t[0]}catch(t){throw t}})),sendCampaign:e=>m(null,null,(function*(){try{const{data:t,error:s}=yield ft.from("email_campaigns").select("*").eq("id",e).single();if(s)throw s;const{error:r}=yield ft.from("email_campaigns").update({status:"sending",sent_at:(new Date).toISOString()}).eq("id",e);if(r)throw r;return t}catch(t){throw t}})),getAllCampaigns:()=>m(null,null,(function*(){try{const{data:e,error:t}=yield ft.from("email_campaigns").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){throw e}})),getCampaignById:e=>m(null,null,(function*(){try{const{data:t,error:s}=yield ft.from("email_campaigns").select("*").eq("id",e).single();if(s)throw s;return t}catch(t){throw t}})),updateCampaign:(e,t)=>m(null,null,(function*(){try{const{data:s,error:r}=yield ft.from("email_campaigns").update(c(l({},t),{updated_at:(new Date).toISOString()})).eq("id",e).select();if(r)throw r;return s[0]}catch(s){throw s}})),deleteCampaign:e=>m(null,null,(function*(){try{const{error:t}=yield ft.from("email_campaigns").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){throw t}})),getCampaignStats:()=>m(null,null,(function*(){try{const{data:e,error:t}=yield ft.from("email_campaigns").select("*");if(t)throw t;const s={total:e.length,sent:e.filter((e=>"sent"===e.status)).length,draft:e.filter((e=>"draft"===e.status)).length,sending:e.filter((e=>"sending"===e.status)).length,failed:e.filter((e=>"failed"===e.status)).length,byType:{}};return e.forEach((e=>{s.byType[e.type]||(s.byType[e.type]=0),s.byType[e.type]++})),s}catch(e){throw e}})),scheduleCampaign:(e,t)=>m(null,null,(function*(){try{const{data:s,error:r}=yield ft.from("email_campaigns").update({status:"scheduled",scheduled_date:t,updated_at:(new Date).toISOString()}).eq("id",e).select();if(r)throw r;return s[0]}catch(s){throw s}})),duplicateCampaign:e=>m(null,null,(function*(){try{const t=yield ro.getCampaignById(e),s=c(l({},t),{id:void 0,subject:t.subject+" (Copie)",status:"draft",created_at:(new Date).toISOString(),sent_at:null,scheduled_date:null});delete s.id;const{data:r,error:a}=yield ft.from("email_campaigns").insert([s]).select();if(a)throw a;return r[0]}catch(t){throw t}}))};var ao=Array(12).fill(0),no=({visible:e,className:t})=>be.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},be.createElement("div",{className:"sonner-spinner"},ao.map(((e,t)=>be.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-"+t}))))),io=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oo=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lo=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),co=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uo=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mo=1,ho=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let s=e,{message:r}=s,a=d(s,["message"]),n="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:mo++,i=this.toasts.find((e=>e.id===n)),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map((t=>t.id===n?(this.publish(c(l(l({},t),e),{id:n,title:r})),c(l(l({},t),e),{id:n,dismissible:o,title:r})):t)):this.addToast(c(l({title:r},a),{dismissible:o,id:n})),n},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create(c(l({},t),{message:e})),this.error=(e,t)=>this.create(c(l({},t),{message:e,type:"error"})),this.success=(e,t)=>this.create(c(l({},t),{type:"success",message:e})),this.info=(e,t)=>this.create(c(l({},t),{type:"info",message:e})),this.warning=(e,t)=>this.create(c(l({},t),{type:"warning",message:e})),this.loading=(e,t)=>this.create(c(l({},t),{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let s;void 0!==t.loading&&(s=this.create(c(l({},t),{promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0})));let r,a=e instanceof Promise?e:e(),n=void 0!==s,i=a.then((e=>m(this,null,(function*(){if(r=["resolve",e],be.isValidElement(e))n=!1,this.create({id:s,type:"default",message:e});else if(po(e)&&!e.ok){n=!1;let r="function"==typeof t.error?yield t.error("HTTP error! status: "+e.status):t.error,a="function"==typeof t.description?yield t.description("HTTP error! status: "+e.status):t.description;this.create({id:s,type:"error",message:r,description:a})}else if(void 0!==t.success){n=!1;let r="function"==typeof t.success?yield t.success(e):t.success,a="function"==typeof t.description?yield t.description(e):t.description;this.create({id:s,type:"success",message:r,description:a})}})))).catch((e=>m(this,null,(function*(){if(r=["reject",e],void 0!==t.error){n=!1;let r="function"==typeof t.error?yield t.error(e):t.error,a="function"==typeof t.description?yield t.description(e):t.description;this.create({id:s,type:"error",message:r,description:a})}})))).finally((()=>{var e;n&&(this.dismiss(s),s=void 0),null==(e=t.finally)||e.call(t)})),o=()=>new Promise(((e,t)=>i.then((()=>"reject"===r[0]?t(r[1]):e(r[1]))).catch(t)));return"string"!=typeof s&&"number"!=typeof s?{unwrap:o}:Object.assign(s,{unwrap:o})},this.custom=(e,t)=>{let s=(null==t?void 0:t.id)||mo++;return this.create(l({jsx:e(s),id:s},t)),s},this.getActiveToasts=()=>this.toasts.filter((e=>!this.dismissedToasts.has(e.id))),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},po=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,fo=Object.assign(((e,t)=>{let s=(null==t?void 0:t.id)||mo++;return ho.addToast(c(l({title:e},t),{id:s})),s}),{success:ho.success,info:ho.info,warning:ho.warning,error:ho.error,custom:ho.custom,message:ho.message,promise:ho.promise,dismiss:ho.dismiss,loading:ho.loading},{getHistory:()=>ho.toasts,getToasts:()=>ho.getActiveToasts()});function go(e){return void 0!==e.label}!function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var yo=3,xo=14;function vo(...e){return e.filter(Boolean).join(" ")}var bo=e=>{var t,s,r,a,n,i,o,d,u,m,h;let{invert:p,toast:f,unstyled:g,interacting:y,setHeights:x,visibleToasts:v,heights:b,index:j,toasts:w,expanded:N,removeToast:k,defaultRichColors:_,closeButton:S,style:M,cancelButtonStyle:C,actionButtonStyle:E,className:A="",descriptionClassName:T="",duration:D,position:O,gap:R,loadingIcon:q,expandByDefault:L,classNames:z,icons:P,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:U}=e,[F,B]=be.useState(null),[V,$]=be.useState(null),[H,W]=be.useState(!1),[J,G]=be.useState(!1),[K,Y]=be.useState(!1),[X,Z]=be.useState(!1),[Q,ee]=be.useState(!1),[te,se]=be.useState(0),[re,ae]=be.useState(0),ne=be.useRef(f.duration||D||4e3),ie=be.useRef(null),oe=be.useRef(null),le=0===j,ce=v>=j+1,de=f.type,ue=!1!==f.dismissible,me=f.className||"",he=f.descriptionClassName||"",pe=be.useMemo((()=>b.findIndex((e=>e.toastId===f.id))||0),[b,f.id]),fe=be.useMemo((()=>{var e;return null!=(e=f.closeButton)?e:S}),[f.closeButton,S]),ge=be.useMemo((()=>f.duration||D||4e3),[f.duration,D]),ye=be.useRef(0),xe=be.useRef(0),je=be.useRef(0),we=be.useRef(null),[Ne,ke]=O.split("-"),_e=be.useMemo((()=>b.reduce(((e,t,s)=>pe>s?e+t.height:e),0)),[b,pe]),Se=(()=>{let[e,t]=be.useState(document.hidden);return be.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),Me=f.invert||p,Ce="loading"===de;xe.current=be.useMemo((()=>pe*R+_e),[pe,_e]),be.useEffect((()=>{ne.current=ge}),[ge]),be.useEffect((()=>{W(!0)}),[]),be.useEffect((()=>{let e=oe.current;if(e){let t=e.getBoundingClientRect().height;return ae(t),x((e=>[{toastId:f.id,height:t,position:f.position},...e])),()=>x((e=>e.filter((e=>e.toastId!==f.id))))}}),[x,f.id]),be.useLayoutEffect((()=>{if(!H)return;let e=oe.current,t=e.style.height;e.style.height="auto";let s=e.getBoundingClientRect().height;e.style.height=t,ae(s),x((e=>e.find((e=>e.toastId===f.id))?e.map((e=>e.toastId===f.id?c(l({},e),{height:s}):e)):[{toastId:f.id,height:s,position:f.position},...e]))}),[H,f.title,f.description,x,f.id]);let Ee=be.useCallback((()=>{G(!0),se(xe.current),x((e=>e.filter((e=>e.toastId!==f.id)))),setTimeout((()=>{k(f)}),200)}),[f,k,x,xe]);return be.useEffect((()=>{if(f.promise&&"loading"===de||f.duration===1/0||"loading"===f.type)return;let e;return N||y||U&&Se?(()=>{if(je.current<ye.current){let e=(new Date).getTime()-ye.current;ne.current=ne.current-e}je.current=(new Date).getTime()})():ne.current!==1/0&&(ye.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),Ee()}),ne.current)),()=>clearTimeout(e)}),[N,y,f,de,U,Se,Ee]),be.useEffect((()=>{f.delete&&Ee()}),[Ee,f.delete]),be.createElement("li",{tabIndex:0,ref:oe,className:vo(A,me,null==z?void 0:z.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==z?void 0:z.default,null==z?void 0:z[de],null==(s=null==f?void 0:f.classNames)?void 0:s[de]),"data-sonner-toast":"","data-rich-colors":null!=(r=f.richColors)?r:_,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":H,"data-promise":!!f.promise,"data-swiped":Q,"data-removed":J,"data-visible":ce,"data-y-position":Ne,"data-x-position":ke,"data-index":j,"data-front":le,"data-swiping":K,"data-dismissible":ue,"data-type":de,"data-invert":Me,"data-swipe-out":X,"data-swipe-direction":V,"data-expanded":!!(N||L&&H),style:l(l({"--index":j,"--toasts-before":j,"--z-index":w.length-j,"--offset":(J?te:xe.current)+"px","--initial-height":L?"auto":re+"px"},M),f.style),onDragEnd:()=>{Y(!1),B(null),we.current=null},onPointerDown:e=>{Ce||!ue||(ie.current=new Date,se(xe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Y(!0),we.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,s,r;if(X||!ue)return;we.current=null;let a=+((null==(e=oe.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),n=+((null==(t=oe.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(s=ie.current)?void 0:s.getTime()),o="x"===F?a:n,l=Math.abs(o)/i;if(Math.abs(o)>=20||l>.11)return se(xe.current),null==(r=f.onDismiss)||r.call(f,f),$("x"===F?a>0?"right":"left":n>0?"down":"up"),Ee(),Z(!0),void ee(!1);Y(!1),B(null)},onPointerMove:t=>{var s,r,a,n;if(!we.current||!ue||(null==(s=window.getSelection())?void 0:s.toString().length)>0)return;let i=t.clientY-we.current.y,o=t.clientX-we.current.x,l=null!=(r=e.swipeDirections)?r:function(e){let[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}(O);!F&&(Math.abs(o)>1||Math.abs(i)>1)&&B(Math.abs(o)>Math.abs(i)?"x":"y");let c={x:0,y:0};"y"===F?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&0>i||l.includes("bottom")&&i>0)&&(c.y=i):"x"===F&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&0>o||l.includes("right")&&o>0)&&(c.x=o),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(a=oe.current)||a.style.setProperty("--swipe-amount-x",c.x+"px"),null==(n=oe.current)||n.style.setProperty("--swipe-amount-y",c.y+"px")}},fe&&!f.jsx?be.createElement("button",{"aria-label":I,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!ue?()=>{}:()=>{var e;Ee(),null==(e=f.onDismiss)||e.call(f,f)},className:vo(null==z?void 0:z.closeButton,null==(a=null==f?void 0:f.classNames)?void 0:a.closeButton)},null!=(n=null==P?void 0:P.close)?n:uo):null,f.jsx||ve.isValidElement(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:be.createElement(be.Fragment,null,de||f.icon||f.promise?be.createElement("div",{"data-icon":"",className:vo(null==z?void 0:z.icon,null==(i=null==f?void 0:f.classNames)?void 0:i.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||(null!=P&&P.loading?be.createElement("div",{className:vo(null==z?void 0:z.loader,null==(Ae=null==f?void 0:f.classNames)?void 0:Ae.loader,"sonner-loader"),"data-visible":"loading"===de},P.loading):q?be.createElement("div",{className:vo(null==z?void 0:z.loader,null==(Te=null==f?void 0:f.classNames)?void 0:Te.loader,"sonner-loader"),"data-visible":"loading"===de},q):be.createElement(no,{className:vo(null==z?void 0:z.loader,null==(De=null==f?void 0:f.classNames)?void 0:De.loader),visible:"loading"===de})):null,"loading"!==f.type?f.icon||(null==P?void 0:P[de])||(e=>{switch(e){case"success":return io;case"info":return lo;case"warning":return oo;case"error":return co;default:return null}})(de):null):null,be.createElement("div",{"data-content":"",className:vo(null==z?void 0:z.content,null==(o=null==f?void 0:f.classNames)?void 0:o.content)},be.createElement("div",{"data-title":"",className:vo(null==z?void 0:z.title,null==(d=null==f?void 0:f.classNames)?void 0:d.title)},"function"==typeof f.title?f.title():f.title),f.description?be.createElement("div",{"data-description":"",className:vo(T,he,null==z?void 0:z.description,null==(u=null==f?void 0:f.classNames)?void 0:u.description)},"function"==typeof f.description?f.description():f.description):null),ve.isValidElement(f.cancel)?f.cancel:f.cancel&&go(f.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:e=>{var t,s;go(f.cancel)&&ue&&(null==(s=(t=f.cancel).onClick)||s.call(t,e),Ee())},className:vo(null==z?void 0:z.cancelButton,null==(m=null==f?void 0:f.classNames)?void 0:m.cancelButton)},f.cancel.label):null,ve.isValidElement(f.action)?f.action:f.action&&go(f.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||E,onClick:e=>{var t,s;go(f.action)&&(null==(s=(t=f.action).onClick)||s.call(t,e),!e.defaultPrevented&&Ee())},className:vo(null==z?void 0:z.actionButton,null==(h=null==f?void 0:f.classNames)?void 0:h.actionButton)},f.action.label):null));var Ae,Te,De};function jo(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function wo(e,t){let s={};return[e,t].forEach(((e,t)=>{let r=1===t,a=r?"--mobile-offset":"--offset",n=r?"16px":"32px";function i(e){["top","right","bottom","left"].forEach((t=>{s[`${a}-${t}`]="number"==typeof e?e+"px":e}))}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach((t=>{void 0===e[t]?s[`${a}-${t}`]=n:s[`${a}-${t}`]="number"==typeof e[t]?e[t]+"px":e[t]})):i(n)})),s}ve.forwardRef((function(e,t){let{invert:s,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:n,closeButton:i,className:o,offset:d,mobileOffset:u,theme:m="light",richColors:h,duration:p,style:f,visibleToasts:g=yo,toastOptions:y,dir:x=jo(),gap:v=xo,loadingIcon:b,icons:j,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=e,[k,_]=be.useState([]),S=be.useMemo((()=>Array.from(new Set([r].concat(k.filter((e=>e.position)).map((e=>e.position)))))),[k,r]),[M,C]=be.useState([]),[E,A]=be.useState(!1),[T,D]=be.useState(!1),[O,R]=be.useState("system"!==m?m:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=be.useRef(null),L=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=be.useRef(null),P=be.useRef(!1),I=be.useCallback((e=>{_((t=>{var s;return null!=(s=t.find((t=>t.id===e.id)))&&s.delete||ho.dismiss(e.id),t.filter((({id:t})=>t!==e.id))}))}),[]);return be.useEffect((()=>ho.subscribe((e=>{e.dismiss?_((t=>t.map((t=>t.id===e.id?c(l({},t),{delete:!0}):t)))):setTimeout((()=>{je.flushSync((()=>{_((t=>{let s=t.findIndex((t=>t.id===e.id));return-1!==s?[...t.slice(0,s),l(l({},t[s]),e),...t.slice(s+1)]:[e,...t]}))}))}))}))),[]),be.useEffect((()=>{if("system"!==m)return void R(m);if("system"===m&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",(({matches:e})=>{R(e?"dark":"light")}))}catch(t){e.addListener((({matches:e})=>{try{R(e?"dark":"light")}catch(t){}}))}}),[m]),be.useEffect((()=>{1>=k.length&&A(!1)}),[k]),be.useEffect((()=>{let e=e=>{var t,s;a.every((t=>e[t]||e.code===t))&&(A(!0),null==(t=q.current)||t.focus()),"Escape"===e.code&&(document.activeElement===q.current||null!=(s=q.current)&&s.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[a]),be.useEffect((()=>{if(q.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,P.current=!1)}}),[q.current]),be.createElement("section",{ref:t,"aria-label":`${w} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map(((t,r)=>{var a;let[c,m]=t.split("-");return k.length?be.createElement("ol",{key:t,dir:"auto"===x?jo():x,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":c,"data-lifted":E&&k.length>1&&!n,"data-x-position":m,style:l(l({"--front-toast-height":((null==(a=M[0])?void 0:a.height)||0)+"px","--width":"356px","--gap":v+"px"},f),wo(d,u)),onBlur:e=>{P.current&&!e.currentTarget.contains(e.relatedTarget)&&(P.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P.current||(P.current=!0,z.current=e.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{T||A(!1)},onDragEnd:()=>A(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D(!0)},onPointerUp:()=>D(!1)},k.filter((e=>!e.position&&0===r||e.position===t)).map(((r,a)=>{var o,l;return be.createElement(bo,{key:r.id,icons:j,index:a,toast:r,defaultRichColors:h,duration:null!=(o=null==y?void 0:y.duration)?o:p,className:null==y?void 0:y.className,descriptionClassName:null==y?void 0:y.descriptionClassName,invert:s,visibleToasts:g,closeButton:null!=(l=null==y?void 0:y.closeButton)?l:i,interacting:T,position:t,style:null==y?void 0:y.style,unstyled:null==y?void 0:y.unstyled,classNames:null==y?void 0:y.classNames,cancelButtonStyle:null==y?void 0:y.cancelButtonStyle,actionButtonStyle:null==y?void 0:y.actionButtonStyle,removeToast:I,toasts:k.filter((e=>e.position==r.position)),heights:M.filter((e=>e.position==r.position)),setHeights:C,expandByDefault:n,gap:v,loadingIcon:b,expanded:E,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})}))):null})))}));const No={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},ko={date:Re({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Re({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Re({formats:{full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},_o={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},So=["MMM","MMMM"],Mo={code:"fr",formatDistance:(e,t,s)=>{let r;const a=No[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t+""),(null==s?void 0:s.addSuffix)?s.comparison&&s.comparison>0?"dans "+r:"il y a "+r:r},formatLong:ko,formatRelative:(e,t,s,r)=>_o[e],localize:{preprocessor:(e,t)=>1===e.getDate()?t:t.some((e=>e.isToken&&So.includes(e.value)))?t.map((e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e)):t,ordinalNumber:(e,t)=>{const s=+e,r=null==t?void 0:t.unit;if(0===s)return"0";let a;return a=1===s?r&&["year","week","hour","minute","second"].includes(r)?"ère":"er":"ème",s+a},era:qe({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},defaultWidth:"wide"}),quarter:qe({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:qe({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},defaultWidth:"wide"}),day:qe({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:qe({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},match:{ordinalNumber:ze({matchPattern:/^(\d+)(ième|ère|ème|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:Le({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:Le({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Le({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Le({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Le({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},Co=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:e,hasRole:t}=jt(),s=we(),[r,a]=ve.useState(!1),[n,i]=ve.useState(!0),[o,d]=ve.useState(!0),[u,h]=ve.useState([{title:"Utilisateurs Actifs",value:"-",icon:g.jsx(Tr,{className:"h-8 w-8 text-blue-400"}),trend:"Chargement...",color:"blue",key:"activeUsers"},{title:"Annonces en Attente",value:"-",icon:g.jsx(Ts,{className:"h-8 w-8 text-yellow-400"}),trend:"Chargement...",color:"yellow",key:"pendingListings"},{title:"Revenus (30j)",value:"-",icon:g.jsx(is,{className:"h-8 w-8 text-green-400"}),trend:"Chargement...",color:"green",key:"revenue"},{title:"Activités Récentes",value:"-",icon:g.jsx(Is,{className:"h-8 w-8 text-red-400"}),trend:"Chargement...",color:"red",key:"recentActivities"}]),[p,f]=ve.useState([]),[y]=ve.useState([{label:"Gérer les Annonces",icon:g.jsx(Ts,{className:"mr-3 h-5 w-5"}),color:"blue",link:"/admin/listings"},{label:"Gérer les Utilisateurs",icon:g.jsx(Tr,{className:"mr-3 h-5 w-5"}),color:"green",link:"/admin/users"},{label:"Newsletter",icon:g.jsx(Ls,{className:"mr-3 h-5 w-5"}),color:"orange",link:"/admin/newsletter"},{label:"Voir les Transactions",icon:g.jsx(is,{className:"mr-3 h-5 w-5"}),color:"purple",link:"/admin/transactions"},{label:"Statistiques Détaillées",icon:g.jsx(Tt,{className:"mr-3 h-5 w-5"}),color:"teal",link:"/admin/analytics"}]);ve.useEffect((()=>{m(null,null,(function*(){try{if(e){const e=t("admin");if(a(e),!e)return fo.error("Accès non autorisé"),void s("/");yield x()}else s("/connexion",{state:{from:"/admin"}})}catch(r){fo.error("Erreur lors de la vérification des autorisations"),s("/")}finally{i(!1)}}))}),[e,t,s]);const x=()=>m(null,null,(function*(){try{d(!0);let t=[],s=[],r=[];try{const e=yield Ii.getAllListings();t=(null==e?void 0:e.data)||[]}catch(e){t=[]}try{s=yield qi.getAllUsers()}catch(e){s=[]}try{r=yield Fi.getUserNotifications()}catch(e){r=[]}const a=s.filter((e=>"active"===e.status)).length,n=s.length,i=t.filter((e=>"pending"===e.status)).length,o=t.length,u=r.slice(0,5);h((e=>e.map((e=>"activeUsers"===e.key?c(l({},e),{value:a.toLocaleString(),trend:"Total: "+n}):"pendingListings"===e.key?c(l({},e),{value:i.toString(),trend:"Total: "+o}):"revenue"===e.key?c(l({},e),{value:"0 FCFA",trend:"Revenus du mois"}):"recentActivities"===e.key?c(l({},e),{value:u.length.toString(),trend:"Dernières activités"}):e))));const m=u.map((e=>({id:e.id||"notif-"+Date.now(),type:e.type||"Notification",item:e.title||e.message||"Nouvelle activité",timestamp:e.created_at,status:e.read?"read":"unread"})));f(m)}catch(e){fo.error("Erreur lors du chargement des données"),h((e=>e.map((e=>"activeUsers"===e.key||"pendingListings"===e.key?c(l({},e),{value:"0",trend:"Erreur de chargement"}):"revenue"===e.key?c(l({},e),{value:"0 FCFA",trend:"Erreur de chargement"}):"recentActivities"===e.key?c(l({},e),{value:"0",trend:"Erreur de chargement"}):e))))}finally{d(!1)}})),v=e=>{const t=Math.floor((new Date-new Date(e))/1e3);return 60>t?"À l'instant":3600>t?`Il y a ${Math.floor(t/60)} min`:86400>t?`Il y a ${Math.floor(t/3600)} h`:`Il y a ${Math.floor(t/86400)} j`};if(n)return g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:g.jsx(Os,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!r)return g.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx(Gt,{className:"h-12 w-12 text-red-500"})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accès refusé"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),g.jsx($r,{onClick:()=>s("/"),children:"Retour à l'accueil"})]})});const b=(e,t)=>{if("Approuvée"===t||"Complétée"===t||t.startsWith("VIP"))return g.jsx($s,{className:"h-5 w-5 text-green-400"});if("En attente KYC"===t||"En cours d'examen"===t)return g.jsx(_r,{className:"h-5 w-5 text-yellow-400"});switch(e){case"Immobilier":return g.jsx(Ts,{className:"h-5 w-5 text-blue-400"});case"Automobile":return g.jsx(Ut,{className:"h-5 w-5 text-red-400"});case"Services":return g.jsx(qt,{className:"h-5 w-5 text-purple-400"});case"Marketplace":return g.jsx(mr,{className:"h-5 w-5 text-yellow-400"});case"Utilisateur":return g.jsx(Tr,{className:"h-5 w-5 text-teal-400"});default:return g.jsx(dr,{className:"h-5 w-5 text-gray-400"})}};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 sm:p-8",children:[g.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[g.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:["Tableau de Bord Administrateur ",g.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),g.jsx("p",{className:"text-md sm:text-lg text-slate-400",children:"Vue d'ensemble et gestion de la marketplace."})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-10",children:u.map(((e,t)=>g.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},className:`bg-slate-800 p-5 rounded-xl shadow-lg border border-slate-700 hover:border-${e.color}-500 transition-colors`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h2",{className:"text-md font-semibold text-slate-300",children:e.title}),e.icon]}),o?g.jsx("div",{className:"flex items-center justify-center h-12",children:g.jsx(Os,{className:"h-6 w-6 animate-spin text-gray-400"})}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:e.value}),g.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[g.jsx(kr,{className:`mr-1 h-4 w-4 text-${e.color}-400`}),e.trend]})]})]},e.title)))}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[g.jsxs(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"lg:col-span-1 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[g.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Actions Rapides"}),g.jsx("div",{className:"space-y-3",children:y.map((e=>g.jsxs("a",{href:e.link,className:`w-full flex items-center justify-start p-3 bg-${e.color}-600/10 hover:bg-${e.color}-600/20 text-${e.color}-300 rounded-lg transition-colors`,children:[e.icon," ",e.label]},e.label)))})]}),g.jsxs(ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[g.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Activité Récente"}),g.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:o?g.jsx("div",{className:"flex items-center justify-center h-40",children:g.jsx(Os,{className:"h-8 w-8 animate-spin text-blue-400"})}):p.length>0?p.map((e=>g.jsxs("div",{className:"flex items-start p-3 bg-slate-700/50 rounded-lg",children:[g.jsx("div",{className:`p-2 bg-${"Approuvée"===e.status||"Complétée"===e.status||e.status.startsWith("VIP")?"green":"En attente KYC"===e.status||"En cours d'examen"===e.status?"yellow":"slate"}-600/30 rounded-full mr-3`,children:b(e.category,e.status)}),g.jsxs("div",{className:"flex-grow",children:[g.jsxs("p",{className:"font-medium text-slate-200 text-sm",children:[g.jsxs("span",{className:"font-bold",children:[e.type,":"]})," ",e.item,e.value&&g.jsxs("span",{className:"text-green-400",children:[" (",e.value,")"]})]}),g.jsxs("p",{className:"text-xs text-slate-400",children:[e.timestamp?v(e.timestamp):"Récemment"," - ",g.jsx("span",{className:`font-semibold text-${"read"===e.status?"green":"yellow"}-400`,children:"read"===e.status?"Lu":"Non lu"})]})]})]},e.id))):g.jsx("div",{className:"text-center py-8 text-slate-400",children:o?"Chargement des activités...":"Aucune activité récente à afficher"})})]})]})]})}},Symbol.toStringTag,{value:"Module"})),Eo=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{toast:e}=xt(),t=_e(),[s,r]=ve.useState(""),[a,n]=ve.useState("all"),[i,o]=ve.useState("all"),[l,c]=ve.useState("created_at"),[d,u]=ve.useState("desc"),[h,p]=ve.useState(1),[f,y]=ve.useState(10),{data:x,isLoading:v,isError:b}=Se({queryKey:["adminUsers",{searchTerm:s,statusFilter:a,roleFilter:i,sortBy:l,sortOrder:d,page:h,perPage:f}],queryFn:()=>m(null,null,(function*(){return yield qi.getAllUsers()}))}),j=Me({mutationFn:({userId:e,status:t})=>qi.updateUserStatus(e,t),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Statut utilisateur mis à jour avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Une erreur est survenue",variant:"destructive"})}}),w=Me({mutationFn:e=>qi.updateUserStatus(e,"deleted"),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Utilisateur supprimé avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Une erreur est survenue lors de la suppression",variant:"destructive"})}}),N=Me({mutationFn:({userId:e,role:t})=>qi.updateUserRole(e,t),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Rôle utilisateur mis à jour avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Une erreur est survenue",variant:"destructive"})}});return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),g.jsx("p",{className:"text-muted-foreground",children:"Gérez les utilisateurs de la plateforme"})]}),g.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[g.jsxs($r,{onClick:()=>(()=>{try{if(!x||0===x.length)return void e({title:"Aucune donnée",description:"Aucun utilisateur à exporter",variant:"destructive"});Ri.users(x,"utilisateurs-maximarket"),e({title:"Export réussi",description:"Liste des utilisateurs exportée en CSV"})}catch(t){e({title:"Erreur d'export",description:t.message||"Impossible d'exporter les données",variant:"destructive"})}})(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),g.jsxs($r,{onClick:()=>{e({title:"Fonctionnalité à venir",description:"La création d'utilisateur sera bientôt disponible"})},children:[g.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Nouvel Utilisateur"]})]})]}),g.jsx("div",{className:"rounded-md border bg-card p-4",children:g.jsxs("form",{onSubmit:e=>{r(e.target.value),p(1)},className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),g.jsxs("div",{className:"relative",children:[g.jsx(ir,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),g.jsx(Wr,{type:"search",placeholder:"Rechercher un utilisateur...",className:"pl-8",value:s,onChange:e=>r(e.target.value)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Statut"}),g.jsxs(oi,{value:a,onValueChange:n,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les statuts"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les statuts"}),g.jsx(hi,{value:"active",children:"Actif"}),g.jsx(hi,{value:"inactive",children:"Inactif"}),g.jsx(hi,{value:"suspended",children:"Suspendu"}),g.jsx(hi,{value:"pending",children:"En attente"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Rôle"}),g.jsxs(oi,{value:i,onValueChange:o,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les rôles"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les rôles"}),g.jsx(hi,{value:"user",children:"Utilisateur"}),g.jsx(hi,{value:"vendor",children:"Vendeur"}),g.jsx(hi,{value:"admin",children:"Administrateur"}),g.jsx(hi,{value:"moderator",children:"Modérateur"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs(oi,{value:l,onValueChange:c,children:[g.jsx(ci,{className:"w-full",children:g.jsx(li,{placeholder:"Trier par"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"createdAt",children:"Date d'inscription"}),g.jsx(hi,{value:"name",children:"Nom"}),g.jsx(hi,{value:"email",children:"Email"}),g.jsx(hi,{value:"lastLogin",children:"Dernière connexion"})]})]}),g.jsx($r,{type:"button",variant:"outline",size:"icon",onClick:()=>u("asc"===d?"desc":"asc"),children:"asc"===d?g.jsx(Ht,{className:"h-4 w-4"}):g.jsx(Bt,{className:"h-4 w-4"})})]})]})]}),g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsxs($r,{type:"submit",variant:"outline",children:[g.jsx(gs,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),g.jsxs($r,{type:"button",variant:"outline",children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),g.jsx("div",{className:"rounded-md border",children:g.jsxs(gi,{children:[g.jsx(yi,{children:g.jsxs(vi,{children:[g.jsx(bi,{children:"Utilisateur"}),g.jsx(bi,{children:"Email"}),g.jsx(bi,{children:"Rôle"}),g.jsx(bi,{children:"Statut"}),g.jsx(bi,{children:"Inscrit le"}),g.jsx(bi,{className:"text-right",children:"Actions"})]})}),g.jsx(xi,{children:v?g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):b?g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des utilisateurs"})}):(null==x?void 0:x.length)>0?x.slice((h-1)*f,h*f).map((e=>{var t,s,r;return g.jsxs(vi,{children:[g.jsx(ji,{className:"font-medium",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:g.jsx("span",{className:"text-sm font-medium text-slate-700",children:(null==(t=e.first_name)?void 0:t.charAt(0))||(null==(s=e.last_name)?void 0:s.charAt(0))||"U"})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium",children:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name||e.last_name||"Utilisateur sans nom"}),g.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",null==(r=e.id)?void 0:r.substring(0,6),"..."]})]})]})}),g.jsx(ji,{children:e.email}),g.jsx(ji,{children:g.jsxs(oi,{value:e.role,onValueChange:t=>{return s=e.id,r=t,void N.mutate({userId:s,role:r});var s,r},disabled:N.isLoading,children:[g.jsx(ci,{className:"w-[120px]",children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"user",children:"Utilisateur"}),g.jsx(hi,{value:"vendor",children:"Vendeur"}),g.jsx(hi,{value:"moderator",children:"Modérateur"}),g.jsx(hi,{value:"admin",children:"Administrateur"})]})]})}),g.jsx(ji,{children:g.jsx(Dn,{variant:"active"===e.status?"default":"suspended"===e.status?"destructive":"outline",className:"capitalize",children:"active"===e.status?"Actif":"suspended"===e.status?"Suspendu":"pending"===e.status?"En attente":"Inactif"})}),g.jsx(ji,{children:e.created_at?Te(new Date(e.created_at),"PP",{locale:Mo}):"N/A"}),g.jsx(ji,{className:"text-right",children:g.jsxs(ti,{children:[g.jsx(si,{asChild:!0,children:g.jsxs($r,{variant:"ghost",className:"h-8 w-8 p-0",children:[g.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),g.jsx(ls,{className:"h-4 w-4"})]})}),g.jsxs(ri,{align:"end",children:[g.jsxs(ai,{children:[g.jsx(Ls,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Envoyer un message"})]}),g.jsx(ai,{onClick:()=>{return t=e.id,s="active"===e.status?"suspended":"active",void j.mutate({userId:t,status:s});var t,s},disabled:j.isLoading,children:"active"===e.status?g.jsxs(g.Fragment,{children:[g.jsx(Er,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Suspendre"})]}):g.jsxs(g.Fragment,{children:[g.jsx(Cr,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Activer"})]})}),g.jsx(ni,{}),g.jsxs(ai,{className:"text-destructive",onClick:()=>{return t=e.id,void(window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.")&&w.mutate(t));var t},disabled:w.isLoading,children:[g.jsx(Nr,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Supprimer"})]})]})]})})]},e.id)})):g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"h-24 text-center",children:"Aucun utilisateur trouvé"})})})]})}),x&&x.length>f&&g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",g.jsx("span",{className:"font-medium",children:(h-1)*f+1})," à"," ",g.jsx("span",{className:"font-medium",children:Math.min(h*f,x.length)})," ","sur ",g.jsx("span",{className:"font-medium",children:x.length})," utilisateurs"]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),g.jsxs(oi,{value:""+f,onValueChange:e=>{y(+e),p(1)},children:[g.jsx(ci,{className:"h-8 w-[70px]",children:g.jsx(li,{placeholder:f})}),g.jsx(mi,{side:"top",children:[5,10,20,30,40,50].map((e=>g.jsx(hi,{value:""+e,children:e},e)))})]})]}),g.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",h," sur ",Math.ceil(x.length/f)]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(1),disabled:1===h,children:[g.jsx("span",{className:"sr-only",children:"Aller à la première page"}),g.jsx(Wt,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.max(1,h-1)),disabled:1===h,children:[g.jsx("span",{className:"sr-only",children:"Page précédente"}),g.jsx(Vt,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.min(Math.ceil(x.length/f),h+1)),disabled:h===Math.ceil(x.length/f),children:[g.jsx("span",{className:"sr-only",children:"Page suivante"}),g.jsx($t,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.ceil(x.length/f)),disabled:h===Math.ceil(x.length/f),children:[g.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),g.jsx(Jt,{className:"h-4 w-4"})]})]})]})]})]})}},Symbol.toStringTag,{value:"Module"})),Ao=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{toast:e}=xt(),t=_e(),[s,r]=ve.useState(""),[a,n]=ve.useState("all"),[i,o]=ve.useState("all"),[l,c]=ve.useState("created_at"),[d,u]=ve.useState("desc"),[h,p]=ve.useState(1),[f,y]=ve.useState(10),{data:x,isLoading:v,isError:b}=Se({queryKey:["adminListings",{searchTerm:s,statusFilter:a,categoryFilter:i,sortBy:l,sortOrder:d,page:h,perPage:f}],queryFn:()=>m(null,null,(function*(){const e={};return s&&(e.search=s),"all"!==a&&(e.status=a),"all"!==i&&(e.category=i),yield Ii.getAllListings(e)}))}),j=(null==x?void 0:x.data)||[],w=(null==x?void 0:x.count)||0;null==x||x.hasMore;const{data:N}=Se({queryKey:["categories"],queryFn:()=>Hi()}),k=Me({mutationFn:e=>Ii.updateListingStatus(e,"approved"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce approuvée avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Erreur lors de l'approbation",variant:"destructive"})}}),_=Me({mutationFn:e=>Ii.updateListingStatus(e,"rejected"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce rejetée avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Erreur lors du rejet",variant:"destructive"})}}),S=Me({mutationFn:e=>Ii.deleteListing(e),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce supprimée avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Erreur lors de la suppression",variant:"destructive"})}}),M=Me({mutationFn:({listingId:e,featured:t})=>Ii.updateListing(e,{featured:t}),onSuccess:(s,r)=>{t.invalidateQueries(["adminListings"]);const a=r.featured?"mise en avant":"retirée de l'avant";e({title:"Succès",description:`Annonce ${a} avec succès`})},onError:t=>{e({title:"Erreur",description:t.message||"Erreur lors de la mise à jour",variant:"destructive"})}}),C=e=>{k.mutate(e)},E=()=>{try{if(!j||0===j.length)return void e({title:"Aucune donnée",description:"Aucune annonce à exporter",variant:"destructive"});Ri.listings(j,"annonces-maximarket"),e({title:"Export réussi",description:"Liste des annonces exportée en CSV"})}catch(t){e({title:"Erreur d'export",description:t.message||"Impossible d'exporter les données",variant:"destructive"})}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Annonces"}),g.jsx("p",{className:"text-muted-foreground",children:"Gérez et modérez les annonces de la plateforme"})]}),g.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[g.jsxs($r,{onClick:()=>E(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),g.jsx($r,{asChild:!0,children:g.jsxs(Ne,{to:"/creer-annonce",children:[g.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Nouvelle Annonce"]})})]})]}),g.jsx("div",{className:"rounded-md border bg-card p-4",children:g.jsxs("form",{onSubmit:e=>{e.preventDefault(),p(1)},className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),g.jsxs("div",{className:"relative",children:[g.jsx(ir,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),g.jsx(Wr,{type:"search",placeholder:"Rechercher une annonce...",className:"pl-8",value:s,onChange:e=>{r(e.target.value),p(1)}})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Statut"}),g.jsxs(oi,{value:a,onValueChange:n,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les statuts"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les statuts"}),g.jsx(hi,{value:"pending",children:"En attente"}),g.jsx(hi,{value:"approved",children:"Approuvé"}),g.jsx(hi,{value:"rejected",children:"Rejeté"}),g.jsx(hi,{value:"expired",children:"Expiré"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Catégorie"}),g.jsxs(oi,{value:i,onValueChange:o,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Toutes les catégories"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Toutes les catégories"}),g.jsx(hi,{value:"real_estate",children:"Immobilier"}),g.jsx(hi,{value:"automobile",children:"Automobile"}),g.jsx(hi,{value:"services",children:"Services"}),g.jsx(hi,{value:"marketplace",children:"Marketplace"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs(oi,{value:l,onValueChange:c,children:[g.jsx(ci,{className:"w-full",children:g.jsx(li,{placeholder:"Trier par"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"created_at",children:"Date de création"}),g.jsx(hi,{value:"title",children:"Titre"}),g.jsx(hi,{value:"price",children:"Prix"}),g.jsx(hi,{value:"views",children:"Vues"})]})]}),g.jsx($r,{type:"button",variant:"outline",size:"icon",onClick:()=>u("asc"===d?"desc":"asc"),children:"asc"===d?g.jsx(Ht,{className:"h-4 w-4"}):g.jsx(Bt,{className:"h-4 w-4"})})]})]})]}),g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsxs($r,{type:"submit",variant:"outline",children:[g.jsx(gs,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),g.jsxs($r,{type:"button",variant:"outline",onClick:()=>E(),children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),g.jsx("div",{className:"rounded-md border",children:g.jsxs(gi,{children:[g.jsx(yi,{children:g.jsxs(vi,{children:[g.jsx(bi,{children:"Annonce"}),g.jsx(bi,{children:"Catégorie"}),g.jsx(bi,{children:"Prix"}),g.jsx(bi,{children:"Statut"}),g.jsx(bi,{children:"Créé le"}),g.jsx(bi,{className:"text-right",children:"Actions"})]})}),g.jsx(xi,{children:v?g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):b?g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des annonces"})}):(null==j?void 0:j.length)>0?j.map((e=>{var t,s,r,a,n;return g.jsxs(vi,{children:[g.jsx(ji,{className:"font-medium",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"h-12 w-12 rounded-md bg-slate-100 flex items-center justify-center",children:(null==(t=e.images)?void 0:t[0])?g.jsx("img",{src:e.images[0],alt:e.title,className:"h-12 w-12 rounded-md object-cover"}):g.jsx("div",{className:"text-slate-400",children:"📷"})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium",children:e.title}),g.jsxs("div",{className:"text-sm text-muted-foreground",children:["Par ",(null==(s=e.users)?void 0:s.first_name)&&(null==(r=e.users)?void 0:r.last_name)?`${e.users.first_name} ${e.users.last_name}`:(null==(a=e.users)?void 0:a.first_name)||(null==(n=e.users)?void 0:n.last_name)||"Utilisateur"]})]})]})}),g.jsx(ji,{children:g.jsx(Dn,{variant:"outline",className:"capitalize",children:"real_estate"===e.category?"Immobilier":"automobile"===e.category?"Automobile":"services"===e.category?"Services":"marketplace"===e.category?"Marketplace":"Général"})}),g.jsx(ji,{children:e.price?e.price.toLocaleString()+" FCFA":"N/A"}),g.jsx(ji,{children:g.jsx(Dn,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"outline",className:"capitalize",children:"pending"===e.status?"En attente":"approved"===e.status?"Approuvé":"rejected"===e.status?"Rejeté":"expired"===e.status?"Expiré":e.status})}),g.jsx(ji,{children:e.created_at?Te(new Date(e.created_at),"PP",{locale:Mo}):"N/A"}),g.jsx(ji,{className:"text-right",children:g.jsxs(ti,{children:[g.jsx(si,{asChild:!0,children:g.jsxs($r,{variant:"ghost",className:"h-8 w-8 p-0",children:[g.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),g.jsx(ls,{className:"h-4 w-4"})]})}),g.jsxs(ri,{align:"end",children:[g.jsxs(ai,{children:[g.jsx(ms,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Voir les détails"})]}),"pending"===e.status&&g.jsxs(g.Fragment,{children:[g.jsxs(ai,{onClick:()=>C(e.id),disabled:k.isLoading,children:[g.jsx(Kt,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Approuver"})]}),g.jsxs(ai,{onClick:()=>{return t=e.id,void _.mutate(t);var t},disabled:_.isLoading,children:[g.jsx(Qt,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Rejeter"})]})]}),"rejected"===e.status&&g.jsxs(ai,{onClick:()=>C(e.id),disabled:k.isLoading,children:[g.jsx(Kt,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Approuver"})]}),"expired"===e.status&&g.jsxs(ai,{onClick:()=>C(e.id),disabled:k.isLoading,children:[g.jsx(Kt,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Réactiver"})]}),g.jsx(ai,{onClick:()=>{return t=e.id,s=!e.featured,void M.mutate({listingId:t,featured:s});var t,s},disabled:M.isLoading,children:e.featured?g.jsxs(g.Fragment,{children:[g.jsx(xr,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Retirer la mise en avant"})]}):g.jsxs(g.Fragment,{children:[g.jsx(vr,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Mettre en avant"})]})}),g.jsx(ni,{}),g.jsxs(ai,{className:"text-destructive",onClick:()=>{return t=e.id,void(window.confirm("Êtes-vous sûr de vouloir supprimer cette annonce ?")&&S.mutate(t));var t},disabled:S.isLoading,children:[g.jsx(Nr,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Supprimer"})]})]})]})})]},e.id)})):g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"h-24 text-center",children:"Aucune annonce trouvée"})})})]})}),w>f&&g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",g.jsx("span",{className:"font-medium",children:(h-1)*f+1})," à"," ",g.jsx("span",{className:"font-medium",children:Math.min(h*f,w)})," ","sur ",g.jsx("span",{className:"font-medium",children:w})," annonces"]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),g.jsxs(oi,{value:""+f,onValueChange:e=>{y(+e),p(1)},children:[g.jsx(ci,{className:"h-8 w-[70px]",children:g.jsx(li,{placeholder:f})}),g.jsx(mi,{side:"top",children:[5,10,20,30,40,50].map((e=>g.jsx(hi,{value:""+e,children:e},e)))})]})]}),g.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",h," sur ",Math.ceil(w/f)]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(1),disabled:1===h,children:[g.jsx("span",{className:"sr-only",children:"Aller à la première page"}),g.jsx(Wt,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.max(1,h-1)),disabled:1===h,children:[g.jsx("span",{className:"sr-only",children:"Page précédente"}),g.jsx(Vt,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.min(Math.ceil(w/f),h+1)),disabled:h===Math.ceil(w/f),children:[g.jsx("span",{className:"sr-only",children:"Page suivante"}),g.jsx($t,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.ceil(w/f)),disabled:h===Math.ceil(w/f),children:[g.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),g.jsx(Jt,{className:"h-4 w-4"})]})]})]})]})]})}},Symbol.toStringTag,{value:"Module"})),To=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[e,t]=ve.useState(""),[s,r]=ve.useState("all"),[a,n]=ve.useState("all"),[i,o]=ve.useState("created_at"),[l,c]=ve.useState("desc"),[d,u]=ve.useState(1),[h,p]=ve.useState(10),{data:f,isLoading:y,isError:x}=Se({queryKey:["adminTransactions",{searchTerm:e,statusFilter:s,typeFilter:a,sortBy:i,sortOrder:l,page:d,perPage:h}],queryFn:()=>m(null,null,(function*(){const e={};return"all"!==s&&(e.status=s),"all"!==a&&(e.type=a),yield Ui.getAllTransactions(e)}))}),v=(e,t="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e),b=e=>{switch(e){case"completed":return g.jsxs(Dn,{variant:"success",children:[g.jsx(Kt,{className:"mr-1 h-3 w-3"})," Complétée"]});case"pending":return g.jsxs(Dn,{variant:"warning",children:[g.jsx(ts,{className:"mr-1 h-3 w-3"})," En attente"]});case"failed":return g.jsxs(Dn,{variant:"destructive",children:[g.jsx(Qt,{className:"mr-1 h-3 w-3"})," Échouée"]});case"refunded":return g.jsxs(Dn,{variant:"outline",children:[g.jsx(rs,{className:"mr-1 h-3 w-3"})," Remboursée"]});default:return g.jsx(Dn,{variant:"outline",children:e})}},j=e=>{switch(e){case"purchase":return g.jsx(Dn,{variant:"default",children:"Achat"});case"subscription":return g.jsx(Dn,{variant:"secondary",children:"Abonnement"});case"refund":return g.jsx(Dn,{variant:"outline",children:"Remboursement"});default:return g.jsx(Dn,{variant:"outline",children:e})}},w=f?{totalRevenue:f.filter((e=>"completed"===e.status)).reduce(((e,t)=>e+(t.amount||0)),0),totalTransactions:f.length,successRate:f.length>0?Math.round(f.filter((e=>"completed"===e.status)).length/f.length*100):0,averageOrderValue:f.filter((e=>"completed"===e.status)).length>0?f.filter((e=>"completed"===e.status)).reduce(((e,t)=>e+(t.amount||0)),0)/f.filter((e=>"completed"===e.status)).length:0}:{totalRevenue:0,totalTransactions:0,successRate:0,averageOrderValue:0};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Transactions"}),g.jsx("p",{className:"text-muted-foreground",children:"Gérez et surveillez toutes les transactions de la plateforme"})]}),g.jsx("div",{className:"flex items-center space-x-2",children:g.jsxs($r,{variant:"outline",size:"sm",children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter"]})})]}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[g.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:g.jsx(is,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chiffre d'affaires total"}),g.jsx("p",{className:"text-2xl font-bold",children:v(w.totalRevenue)})]})]}),g.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[g.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 12% "}),"vs période précédente"]})]}),g.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:g.jsx(rs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),g.jsx("p",{className:"text-2xl font-bold",children:w.totalTransactions})]})]}),g.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[g.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 8% "}),"vs période précédente"]})]}),g.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:g.jsx(Kt,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de réussite"}),g.jsxs("p",{className:"text-2xl font-bold",children:[w.successRate,"%"]})]})]}),g.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[g.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 2% "}),"vs période précédente"]})]}),g.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/50",children:g.jsx(Gt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur moyenne"}),g.jsx("p",{className:"text-2xl font-bold",children:v(w.averageOrderValue)})]})]}),g.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[g.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 5% "}),"vs période précédente"]})]})]}),g.jsx("div",{className:"rounded-md border bg-card p-4",children:g.jsx("form",{onSubmit:e=>{e.preventDefault(),u(1)},className:"space-y-4",children:g.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Rechercher"}),g.jsxs("div",{className:"relative",children:[g.jsx(ir,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),g.jsx(Wr,{placeholder:"Rechercher une transaction...",className:"pl-8",value:e,onChange:e=>{t(e.target.value),u(1)}})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Statut"}),g.jsxs(oi,{value:s,onValueChange:r,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les statuts"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les statuts"}),g.jsx(hi,{value:"pending",children:"En attente"}),g.jsx(hi,{value:"completed",children:"Complétée"}),g.jsx(hi,{value:"failed",children:"Échouée"}),g.jsx(hi,{value:"refunded",children:"Remboursée"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Type"}),g.jsxs(oi,{value:a,onValueChange:n,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les types"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les types"}),g.jsx(hi,{value:"purchase",children:"Achats"}),g.jsx(hi,{value:"subscription",children:"Abonnements"}),g.jsx(hi,{value:"refund",children:"Remboursements"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),g.jsxs(oi,{value:i,onValueChange:o,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Trier par"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"created_at",children:"Date"}),g.jsx(hi,{value:"amount",children:"Montant"}),g.jsx(hi,{value:"reference",children:"Référence"})]})]})]})]})})}),g.jsx("div",{className:"rounded-md border",children:g.jsxs(gi,{children:[g.jsx(yi,{children:g.jsxs(vi,{children:[g.jsx(bi,{children:"Référence"}),g.jsx(bi,{children:"Utilisateur"}),g.jsx(bi,{children:"Montant"}),g.jsx(bi,{children:"Type"}),g.jsx(bi,{children:"Statut"}),g.jsx(bi,{children:"Date"}),g.jsx(bi,{className:"text-right",children:"Actions"})]})}),g.jsx(xi,{children:y?g.jsx(vi,{children:g.jsx(ji,{colSpan:7,className:"text-center py-8",children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),g.jsx("span",{className:"ml-2",children:"Chargement des transactions..."})]})})}):x?g.jsx(vi,{children:g.jsx(ji,{colSpan:7,className:"text-center py-8",children:g.jsxs("div",{className:"flex items-center justify-center text-destructive",children:[g.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Erreur lors du chargement des transactions"]})})}):0===(null==f?void 0:f.length)?g.jsx(vi,{children:g.jsx(ji,{colSpan:7,className:"text-center py-8",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(rs,{className:"h-12 w-12 text-muted-foreground mb-4"}),g.jsx("p",{className:"text-lg font-medium",children:"Aucune transaction trouvée"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transactions apparaîtront ici une fois qu'elles seront créées."})]})})}):null==f?void 0:f.map((e=>{var t,s,r;return g.jsxs(vi,{children:[g.jsx(ji,{className:"font-medium",children:e.payment_reference||e.id.slice(0,8)}),g.jsx(ji,{children:g.jsxs("div",{children:[g.jsxs("p",{className:"font-medium",children:[null==(t=e.users)?void 0:t.first_name," ",null==(s=e.users)?void 0:s.last_name]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:null==(r=e.users)?void 0:r.email})]})}),g.jsx(ji,{className:"font-medium",children:v(e.amount,e.currency)}),g.jsx(ji,{children:j(e.type)}),g.jsx(ji,{children:b(e.status)}),g.jsx(ji,{children:e.created_at?Te(new Date(e.created_at),"PP",{locale:Mo}):"N/A"}),g.jsx(ji,{className:"text-right",children:g.jsx($r,{variant:"ghost",size:"sm",children:g.jsx(ls,{className:"h-4 w-4"})})})]},e.id)}))})]})}),g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",g.jsx("span",{className:"font-medium",children:(d-1)*h+1})," à"," ",g.jsx("span",{className:"font-medium",children:Math.min(d*h,(null==f?void 0:f.length)||0)})," ","sur ",g.jsx("span",{className:"font-medium",children:(null==f?void 0:f.length)||0})," transactions"]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),g.jsxs(oi,{value:""+h,onValueChange:e=>{p(+e),u(1)},children:[g.jsx(ci,{className:"h-8 w-[70px]",children:g.jsx(li,{placeholder:h})}),g.jsx(mi,{side:"top",children:[5,10,20,30,40,50].map((e=>g.jsx(hi,{value:""+e,children:e},e)))})]})]}),g.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",d," sur ",Math.ceil(((null==f?void 0:f.length)||0)/h)]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>u(1),disabled:1===d,children:[g.jsx("span",{className:"sr-only",children:"Aller à la première page"}),g.jsx(Wt,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>u(Math.max(1,d-1)),disabled:1===d,children:[g.jsx("span",{className:"sr-only",children:"Page précédente"}),g.jsx(Vt,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>u(Math.min(Math.ceil(((null==f?void 0:f.length)||0)/h),d+1)),disabled:d===Math.ceil(((null==f?void 0:f.length)||0)/h),children:[g.jsx("span",{className:"sr-only",children:"Page suivante"}),g.jsx($t,{className:"h-4 w-4"})]}),g.jsxs($r,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>u(Math.ceil(((null==f?void 0:f.length)||0)/h)),disabled:d===Math.ceil(((null==f?void 0:f.length)||0)/h),children:[g.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),g.jsx(Jt,{className:"h-4 w-4"})]})]})]})]})]})}},Symbol.toStringTag,{value:"Module"})),Do=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],Oo=Object.freeze(Object.defineProperty({__proto__:null,default:function(){var e,t,s,r,a;const[n,i]=ve.useState("7days"),[o,l]=ve.useMemo((()=>{const e=new Date;let t,s;switch(n){case"today":t=Te(e,"yyyy-MM-dd"),s=Te(e,"yyyy-MM-dd");break;case"yesterday":const r=Pe(e,1);t=Te(r,"yyyy-MM-dd"),s=Te(r,"yyyy-MM-dd");break;case"7days":default:t=Te(Pe(e,7),"yyyy-MM-dd"),s=Te(e,"yyyy-MM-dd");break;case"30days":t=Te(Pe(e,30),"yyyy-MM-dd"),s=Te(e,"yyyy-MM-dd");break;case"90days":t=Te(Pe(e,90),"yyyy-MM-dd"),s=Te(e,"yyyy-MM-dd");break;case"thisMonth":t=Te(new Date(e.getFullYear(),e.getMonth(),1),"yyyy-MM-dd"),s=Te(e,"yyyy-MM-dd");break;case"lastMonth":const a=new Date(e.getFullYear(),e.getMonth()-1,1),n=new Date(e.getFullYear(),e.getMonth(),0);t=Te(a,"yyyy-MM-dd"),s=Te(n,"yyyy-MM-dd");break;case"thisYear":t=Te(new Date(e.getFullYear(),0,1),"yyyy-MM-dd"),s=Te(e,"yyyy-MM-dd")}return[t,s]}),[n]),{data:c,isLoading:d,error:u}=Se({queryKey:["analytics","overview",o,l],queryFn:()=>m(null,null,(function*(){var e,t,s;try{let a=[],n=[];try{const e=yield Ii.getAllListings();a=(null==e?void 0:e.data)||[]}catch(r){a=[]}try{n=yield qi.getAllUsers()}catch(r){n=[]}const i=(null==a?void 0:a.length)||0,o=(null==(e=null==a?void 0:a.filter((e=>"approved"===e.status)))?void 0:e.length)||0,l=(null==(t=null==a?void 0:a.filter((e=>"pending"===e.status)))?void 0:t.length)||0,c=(null==n?void 0:n.length)||0,d=(null==(s=null==n?void 0:n.filter((e=>"active"===e.status)))?void 0:s.length)||0;return{totalListings:i,approvedListings:o,pendingListings:l,totalUsers:c,activeUsers:d,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:d,change:0},growth:{listings:0,users:0,revenue:0}}}catch(r){return{totalListings:0,approvedListings:0,pendingListings:0,totalUsers:0,activeUsers:0,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:0,change:0},growth:{listings:0,users:0,revenue:0}}}}))}),{data:h,isLoading:p}=Se({queryKey:["analytics","revenue",o,l],queryFn:()=>m(null,null,(function*(){try{return yield((e,t)=>m(null,null,(function*(){if(!ht)return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0};try{const{data:s,error:r}=yield ft.from("payments").select("\n          *,\n          listings (\n            category,\n            title\n          )\n        ").eq("status","completed").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(r)throw r;const a=(null==s?void 0:s.reduce(((e,t)=>e+(t.amount||0)),0))||0,n=(null==s?void 0:s.reduce(((e,t)=>{const s=Te(new Date(t.created_at),"yyyy-MM-dd");return e[s]=(e[s]||0)+(t.amount||0),e}),{}))||{},i=(null==s?void 0:s.reduce(((e,t)=>{var s;const r=(null==(s=t.listings)?void 0:s.category)||"Autre";return e[r]=(e[r]||0)+(t.amount||0),e}),{}))||{},o=(null==s?void 0:s.reduce(((e,t)=>{const s=t.payment_method||"Autre";return e[s]=(e[s]||0)+(t.amount||0),e}),{}))||{};return{totalRevenue:a,revenueByDate:Object.entries(n).map((([e,t])=>({date:e,revenue:t}))),revenueByCategory:i,paymentMethods:o,growth:0}}catch(s){return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}})))(o,l)}catch(e){return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}}))}),{data:f,isLoading:y}=Se({queryKey:["analytics","users",o,l],queryFn:()=>m(null,null,(function*(){try{const e=yield qi.getAllUsers();if(!e||0===e.length)return[];const t=e.reduce(((e,t)=>{if(t.created_at){const s=Te(new Date(t.created_at),"yyyy-MM-dd");e[s]=(e[s]||0)+1}return e}),{});return Object.entries(t).map((([e,t])=>({date:e,users:t})))}catch(e){return[]}}))}),{data:x,isLoading:v}=Se({queryKey:["analytics","top-products",o,l],queryFn:()=>m(null,null,(function*(){return[]}))}),{data:b,isLoading:j}=Se({queryKey:["analytics","growth",o,l],queryFn:()=>m(null,null,(function*(){try{return yield((e,t)=>m(null,null,(function*(){if(!ht)return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}};try{const{data:s,error:r}=yield ft.from("users").select("created_at").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(r)throw r;const{data:a,error:n}=yield ft.from("listings").select("created_at, status").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw n;const{data:i,error:o}=yield ft.from("payments").select("created_at, amount").eq("status","completed").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(o)throw o;const l=Xi(s,"created_at"),c=Xi(a,"created_at"),d=Xi(i,"created_at","amount"),u=Zi(s,"created_at"),m=Zi(a,"created_at"),h=Zi(i,"created_at","amount");return{users:{daily:l,weekly:u,monthly:Qi(s,"created_at")},listings:{daily:c,weekly:m,monthly:Qi(a,"created_at")},revenue:{daily:d,weekly:h,monthly:Qi(i,"created_at","amount")}}}catch(s){return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}})))(o,l)}catch(e){return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}}))}),{data:w,isLoading:N}=Se({queryKey:["analytics","traffic",o,l],queryFn:()=>m(null,null,(function*(){return{"Recherche directe":45,"Réseaux sociaux":30,"Moteurs de recherche":15,"Liens externes":10}}))}),{data:k,isLoading:_}=Se({queryKey:["analytics","categories",o,l],queryFn:()=>m(null,null,(function*(){return{Immobilier:40,Automobile:25,Services:20,Marketplace:15}}))}),S=ve.useMemo((()=>f?f.map((e=>({date:Te(Ie(e.date),"MMM d"),newUsers:e.users,activeUsers:e.users,returningUsers:0}))):[]),[f]),M=ve.useMemo((()=>w?Object.entries(w).map((([e,t])=>({name:e,value:t}))):[]),[w]),C=d||p||y||v||N||_||j;return u?g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx(Dt,{className:"h-16 w-16 text-muted-foreground mb-4"}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),g.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),g.jsx($r,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})}):c&&h?g.jsxs("div",{className:"space-y-6",children:[void 0,g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau de Bord Analytique"}),g.jsx("p",{className:"text-muted-foreground",children:"Aperçu des performances et des tendances de votre plateforme"})]}),g.jsxs("div",{className:"mt-4 flex items-center space-x-2 md:mt-0",children:[g.jsxs(oi,{value:n,onValueChange:i,children:[g.jsxs(ci,{className:"w-[180px]",children:[g.jsx(zt,{className:"mr-2 h-4 w-4"}),g.jsx(li,{placeholder:"Sélectionner une période"})]}),g.jsxs(mi,{children:[g.jsx(hi,{value:"today",children:"Aujourd'hui"}),g.jsx(hi,{value:"yesterday",children:"Hier"}),g.jsx(hi,{value:"7days",children:"7 derniers jours"}),g.jsx(hi,{value:"30days",children:"30 derniers jours"}),g.jsx(hi,{value:"90days",children:"90 derniers jours"}),g.jsx(hi,{value:"thisMonth",children:"Ce mois-ci"}),g.jsx(hi,{value:"lastMonth",children:"Le mois dernier"}),g.jsx(hi,{value:"thisYear",children:"Cette année"})]})]}),g.jsxs($r,{variant:"outline",children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),void 0,g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[g.jsxs(_n,{children:[void 0,g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Total Annonces"}),g.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold",children:(()=>{const e=null==c?void 0:c.totalListings;return C?"...":(null==e?void 0:e.toLocaleString())||0})()}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==c?void 0:c.approvedListings)||0," approuvées, ",(null==c?void 0:c.pendingListings)||0," en attente"]})]})]}),g.jsxs(_n,{children:[void 0,g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Utilisateurs"}),g.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold",children:C?"...":(null==(e=null==c?void 0:c.totalUsers)?void 0:e.toLocaleString())||0}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==(t=null==c?void 0:c.activeUsers)?void 0:t.current)||0," actifs"]})]})]}),g.jsxs(_n,{children:[void 0,g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),g.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold",children:C?"...":((null==h?void 0:h.totalRevenue)||0).toLocaleString()+" FCFA"}),g.jsx("p",{className:"text-xs text-muted-foreground",children:(null==(s=null==h?void 0:h.revenueByDate)?void 0:s.length)>0&&g.jsxs("span",{className:"text-green-600",children:["↑ ",h.revenueByDate.length," transactions"]})})]})]}),g.jsxs(_n,{children:[void 0,g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Taux d'approbation"}),g.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold",children:C?"...":(null==c?void 0:c.totalListings)?Math.round(c.approvedListings/c.totalListings*100)+"%":"0%"}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==c?void 0:c.approvedListings)||0," sur ",(null==c?void 0:c.totalListings)||0," annonces"]})]})]})]}),void 0,g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[g.jsxs(_n,{className:"col-span-4",children:[void 0,g.jsxs(Sn,{children:[g.jsx(Mn,{children:"Évolution des Revenus"}),g.jsx(Cn,{children:"Chiffre d'affaires sur la période sélectionnée"})]}),g.jsx(En,{className:"pl-2",children:g.jsx("div",{className:"h-[300px]",children:g.jsx(Fe,{width:"100%",height:"100%",children:g.jsxs(Es,{data:(null==h?void 0:h.revenueByDate)||[],margin:{top:5,right:10,left:0,bottom:5},children:[g.jsx(Be,{strokeDasharray:"3 3",vertical:!1}),g.jsx(Ve,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),g.jsx($e,{tickFormatter:e=>e.toLocaleString()+" FCFA",tick:{fontSize:12},tickLine:!1,axisLine:!1}),g.jsx(He,{formatter:e=>[e.toLocaleString()+" FCFA","Revenus"]}),g.jsx(We,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),g.jsxs(_n,{className:"col-span-3",children:[void 0,g.jsxs(Sn,{children:[g.jsx(Mn,{children:"Sources de trafic"}),g.jsx(Cn,{children:"Répartition des sources de trafic sur votre site"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"h-[300px]",children:g.jsx(Fe,{width:"100%",height:"100%",children:g.jsxs(Xs,{children:[g.jsx(Je,{data:M,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:M.map(((e,t)=>g.jsx(Ge,{fill:Do[t%Do.length]},"cell-"+t)))}),g.jsx(He,{formatter:(e,t)=>[e+"%",t]}),g.jsx(Ke,{})]})})}),g.jsx("div",{className:"mt-4 space-y-2",children:M.map(((e,t)=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Do[t%Do.length]}}),g.jsx("span",{className:"text-sm",children:e.name})]}),g.jsxs("span",{className:"text-sm font-medium",children:[e.value,"%"]})]},e.name)))})]})]})]}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[g.jsxs(_n,{className:"col-span-4",children:[g.jsx(Sn,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Mn,{children:"Activité des utilisateurs"}),g.jsx(Cn,{children:"Évolution des nouveaux utilisateurs et des utilisateurs actifs"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-blue-500"}),g.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveaux"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-green-600"}),g.jsx("span",{className:"text-xs text-muted-foreground",children:"Actifs"})]})]})]})}),g.jsx(En,{className:"pl-2",children:g.jsx("div",{className:"h-[300px]",children:g.jsx(Fe,{width:"100%",height:"100%",children:g.jsxs(Ye,{data:S,children:[g.jsx(Be,{strokeDasharray:"3 3",vertical:!1}),g.jsx(Ve,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),g.jsx($e,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),g.jsx(He,{}),g.jsx(Ke,{}),g.jsx(Xe,{dataKey:"newUsers",fill:"#3b82f6",radius:[4,4,0,0]}),g.jsx(Xe,{dataKey:"activeUsers",fill:"#10b981",radius:[4,4,0,0]})]})})})})]}),g.jsxs(_n,{className:"col-span-3",children:[g.jsxs(Sn,{children:[g.jsx(Mn,{children:"Croissance des Utilisateurs"}),g.jsx(Cn,{children:"Nouveaux utilisateurs par période"})]}),g.jsx(En,{children:g.jsx("div",{className:"h-[300px]",children:g.jsx(Fe,{width:"100%",height:"100%",children:g.jsxs(Ye,{data:(null==(r=null==b?void 0:b.users)?void 0:r.daily)||[],children:[g.jsx(Be,{strokeDasharray:"3 3",vertical:!1}),g.jsx(Ve,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),g.jsx($e,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),g.jsx(He,{formatter:e=>[e,"Nouveaux utilisateurs"]}),g.jsx(Xe,{dataKey:"value",fill:"#82ca9d",radius:[4,4,0,0]})]})})})})]})]}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g.jsxs(_n,{children:[g.jsxs(Sn,{children:[g.jsx(Mn,{children:"Croissance des Annonces"}),g.jsx(Cn,{children:"Nouvelles annonces créées par période"})]}),g.jsx(En,{children:g.jsx("div",{className:"h-[300px]",children:g.jsx(Fe,{width:"100%",height:"100%",children:g.jsxs(Es,{data:(null==(a=null==b?void 0:b.listings)?void 0:a.daily)||[],children:[g.jsx(Be,{strokeDasharray:"3 3",vertical:!1}),g.jsx(Ve,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),g.jsx($e,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),g.jsx(He,{formatter:e=>[e,"Nouvelles annonces"]}),g.jsx(We,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),g.jsxs(_n,{children:[g.jsxs(Sn,{children:[g.jsx(Mn,{children:"Répartition des Revenus par Catégorie"}),g.jsx(Cn,{children:"Chiffre d'affaires par catégorie d'annonces"})]}),g.jsx(En,{children:g.jsx("div",{className:"h-[300px]",children:g.jsx(Fe,{width:"100%",height:"100%",children:g.jsxs(Xs,{children:[g.jsx(Je,{data:Object.entries((null==h?void 0:h.revenueByCategory)||{}).map((([e,t])=>({name:"real_estate"===e?"Immobilier":"automobile"===e?"Automobile":"services"===e?"Services":"marketplace"===e?"Marketplace":e,value:t}))),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,children:Object.entries((null==h?void 0:h.revenueByCategory)||{}).map(((e,t)=>g.jsx(Ge,{fill:Do[t%Do.length]},"cell-"+t)))}),g.jsx(He,{formatter:e=>[e.toLocaleString()+" FCFA","Revenus"]})]})})})})]})]}),g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Mn,{children:"Produits les plus vendus"}),g.jsx(Cn,{children:"Les produits les plus populaires sur votre plateforme"})]}),g.jsx($r,{variant:"outline",size:"sm",children:"Voir tout"})]})}),g.jsx(En,{children:g.jsx("div",{className:"space-y-4",children:C?g.jsx("div",{className:"flex items-center justify-center h-32",children:g.jsx("p",{children:"Chargement des produits..."})}):(null==x?void 0:x.length)>0?x.map(((e,t)=>g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center mr-4",children:g.jsx("span",{className:"text-sm font-medium text-slate-700",children:t+1})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium",children:e.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.category," • ",e.orders," ventes"]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-medium",children:["$",e.revenue.toLocaleString()]}),g.jsxs("div",{className:"flex items-center justify-end",children:[0>e.change?g.jsx(St,{className:"h-3 w-3 text-red-500 mr-1"}):g.jsx(Et,{className:"h-3 w-3 text-green-500 mr-1"}),g.jsxs("span",{className:"text-xs "+(0>e.change?"text-red-600":"text-green-600"),children:[Math.abs(e.change),"%"]})]})]})]},e.id))):g.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[g.jsx(Dt,{className:"h-12 w-12 text-muted-foreground mb-2"}),g.jsx("p",{className:"text-muted-foreground",children:"Aucune donnée disponible"})]})})})]})]}):C?g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx(Dt,{className:"h-16 w-16 text-muted-foreground mb-4"}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des données..."}),g.jsx("p",{className:"text-muted-foreground mb-4",children:"Veuillez patienter pendant le chargement des données."}),g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})]})}):u?g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx(Dt,{className:"h-16 w-16 text-muted-foreground mb-4"}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),g.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),g.jsx($r,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})}):g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx(Dt,{className:"h-16 w-16 text-muted-foreground mb-4"}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune donnée disponible"}),g.jsx("p",{className:"text-muted-foreground mb-4",children:"Aucune donnée n'est disponible pour la période sélectionnée."}),g.jsx($r,{onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})})}},Symbol.toStringTag,{value:"Module"})),Ro="pending",qo="approved",Lo="rejected",zo="ignored",Po="listing",Io="comment",Uo="user",Fo="review",Bo=({level:e})=>g.jsx(Dn,{variant:(()=>{switch(e){case"low":default:return"outline";case"medium":return"warning";case"high":return"destructive"}})(),children:(()=>{switch(e){case"low":return"Faible";case"medium":return"Moyen";case"high":return"Élevé";default:return e}})()}),Vo=({status:e})=>g.jsx(Dn,{variant:(()=>{switch(e){case Ro:return"warning";case qo:return"success";case Lo:return"destructive";default:return"outline"}})(),children:(()=>{switch(e){case Ro:return"En attente";case qo:return"Approuvé";case Lo:return"Rejeté";case zo:return"Ignoré";default:return e}})()}),$o=({type:e})=>g.jsxs(Dn,{variant:"outline",className:"flex items-center gap-1",children:[(()=>{switch(e){case Po:return g.jsx(mr,{className:"h-3 w-3"});case Io:return g.jsx(Is,{className:"h-3 w-3"});case Uo:return g.jsx(Ar,{className:"h-3 w-3"});case Fo:return g.jsx(vr,{className:"h-3 w-3"});default:return g.jsx(Gt,{className:"h-3 w-3"})}})(),(()=>{switch(e){case Po:return"Annonce";case Io:return"Commentaire";case Uo:return"Utilisateur";case Fo:return"Avis";default:return e}})()]}),Ho=Object.freeze(Object.defineProperty({__proto__:null,default:function(){var e;const t=_e(),[s,r]=ve.useState(""),[a,n]=ve.useState("all"),[i,o]=ve.useState("all"),[l,c]=ve.useState("all"),[d,u]=ve.useState("created_at"),[h,p]=ve.useState("desc"),[f,y]=ve.useState(1),[x,v]=ve.useState(10),[b,j]=ve.useState(new Set),[w,N]=ve.useState(null),[k,_]=ve.useState(!1),[S,M]=ve.useState(null),{data:C,isLoading:E,isError:A}=Se({queryKey:["moderation","reports",{searchTerm:s,statusFilter:a,typeFilter:i,severityFilter:l,sortBy:d,sortOrder:h,page:f,perPage:x}],queryFn:()=>m(null,null,(function*(){return(yield Ii.getAllListings({status:"pending"})).map((e=>({id:e.id,type:Po,content:e,reporter:{id:"system",name:"Système",email:Hr.supportEmail},reason:"Annonce en attente de modération",description:"Cette annonce nécessite une vérification avant publication",severity:"medium",status:Ro,createdAt:e.created_at,updatedAt:e.updated_at})))}))}),{data:T}=Se({queryKey:["moderation","stats"],queryFn:()=>m(null,null,(function*(){const e=yield Ii.getAllListings();return yield qi.getAllUsers(),{totalReports:e.filter((e=>"pending"===e.status)).length,pendingReports:e.filter((e=>"pending"===e.status)).length,resolvedReports:e.filter((e=>"approved"===e.status||"rejected"===e.status)).length,averageResponseTime:"2h",topReportedTypes:[{type:"listing",count:e.filter((e=>"pending"===e.status)).length},{type:"user",count:0},{type:"comment",count:0}]}}))}),{mutate:D,isLoading:O}=Me({mutationFn:({reportId:e,action:t,reason:s})=>{},onSuccess:()=>{t.invalidateQueries(["moderation","reports"]),t.invalidateQueries(["moderation","stats"]),N(null),_(!1)},onError:e=>{}}),R=(e,t)=>{N(e),M(t),("approve"===t||"reject"===t||"ignore"===t||"delete"===t)&&_(!0)},q=e=>{switch(e){case"approve":return"Approuver";case"reject":return"Rejeter";case"ignore":return"Ignorer";case"delete":return"Supprimer";default:return e}};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modération"}),g.jsx("p",{className:"text-muted-foreground",children:"Gérez les signalements et le contenu inapproprié"})]})}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[g.jsx("div",{className:"rounded-lg border bg-card p-6",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements en attente"}),g.jsx("p",{className:"text-2xl font-bold",children:(null==T?void 0:T.pendingReports)||0})]}),g.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:g.jsx(ys,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})}),g.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements aujourd'hui"}),g.jsx("p",{className:"text-2xl font-bold",children:(null==T?void 0:T.today)||0})]}),g.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:g.jsx(ys,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),g.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[g.jsxs("span",{className:0>(null==T?void 0:T.todayChange)?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400",children:[0>(null==T?void 0:T.todayChange)?"↓":"↑"," ",Math.abs((null==T?void 0:T.todayChange)||0),"%"]})," ","vs hier"]})]}),g.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de modération"}),g.jsxs("p",{className:"text-2xl font-bold",children:[(null==T?void 0:T.moderationRate)||0,"%"]})]}),g.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:g.jsx(Ft,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),g.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[(null==T?void 0:T.moderatedToday)||0," modérations aujourd'hui"]})]}),g.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contenu supprimé"}),g.jsx("p",{className:"text-2xl font-bold",children:(null==T?void 0:T.removedContent)||0})]}),g.jsx("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/50",children:g.jsx(Nr,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]}),g.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[(null==T?void 0:T.removedThisMonth)||0," ce mois-ci"]})]})]}),g.jsxs(On,{defaultValue:"reports",className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(Rn,{children:[g.jsx(qn,{value:"reports",children:"Signalements"}),g.jsx(qn,{value:"logs",children:"Journal de modération"}),g.jsx(qn,{value:"settings",children:"Paramètres"})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs($r,{variant:"outline",size:"sm",children:[g.jsx(gs,{className:"mr-2 h-4 w-4"}),"Filtres"]}),g.jsxs($r,{variant:"outline",size:"sm",children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),g.jsxs(Ln,{value:"reports",className:"space-y-4",children:[g.jsx("div",{className:"rounded-md border bg-card p-4",children:g.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),g.jsxs("div",{className:"relative",children:[g.jsx(ir,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),g.jsx(Wr,{type:"search",placeholder:"Rechercher...",className:"pl-8",value:s,onChange:e=>r(e.target.value)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Statut"}),g.jsxs(oi,{value:a,onValueChange:n,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les statuts"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les statuts"}),g.jsx(hi,{value:Ro,children:"En attente"}),g.jsx(hi,{value:qo,children:"Approuvé"}),g.jsx(hi,{value:Lo,children:"Rejeté"}),g.jsx(hi,{value:zo,children:"Ignoré"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Type de contenu"}),g.jsxs(oi,{value:i,onValueChange:o,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les types"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les types"}),g.jsx(hi,{value:Po,children:"Annonces"}),g.jsx(hi,{value:Io,children:"Commentaires"}),g.jsx(hi,{value:Uo,children:"Utilisateurs"}),g.jsx(hi,{value:Fo,children:"Avis"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Gravité"}),g.jsxs(oi,{value:l,onValueChange:c,children:[g.jsx(ci,{children:g.jsx(li,{placeholder:"Tous les niveaux"})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les niveaux"}),g.jsx(hi,{value:"low",children:"Faible"}),g.jsx(hi,{value:"medium",children:"Moyen"}),g.jsx(hi,{value:"high",children:"Élevé"})]})]})]})]})}),g.jsx("div",{className:"rounded-md border bg-card",children:g.jsxs(gi,{children:[g.jsx(yi,{children:g.jsxs(vi,{children:[g.jsx(bi,{children:"Contenu"}),g.jsx(bi,{children:"Type"}),g.jsx(bi,{children:"Gravité"}),g.jsx(bi,{children:"Statut"}),g.jsx(bi,{children:"Date"}),g.jsx(bi,{children:"Actions"})]})}),g.jsx(xi,{children:E?g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"text-center py-8",children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),g.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):A?g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"text-center py-8",children:g.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[g.jsx(Gt,{className:"h-5 w-5 mr-2"}),"Erreur lors du chargement des signalements"]})})}):0===(null==C?void 0:C.length)?g.jsx(vi,{children:g.jsx(ji,{colSpan:6,className:"text-center py-8",children:g.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[g.jsx(ys,{className:"h-12 w-12 mb-4 opacity-50"}),g.jsx("p",{className:"text-lg font-medium",children:"Aucun signalement trouvé"}),g.jsx("p",{className:"text-sm",children:"Il n'y a pas de signalements correspondant à vos critères."})]})})}):null==C?void 0:C.map((e=>{var t;return g.jsxs(vi,{children:[g.jsx(ji,{children:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx($r,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void j((e=>{const s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s}));var t},children:b.has(e.id)?g.jsx(Ht,{className:"h-4 w-4"}):g.jsx(Bt,{className:"h-4 w-4"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:e.content.title||"Contenu signalé"}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Par ",(null==(t=e.reporter)?void 0:t.name)||"Utilisateur anonyme"]})]})]}),b.has(e.id)&&g.jsxs("div",{className:"ml-8 p-3 bg-muted rounded-md",children:[g.jsx("p",{className:"text-sm",children:e.reason}),e.description&&g.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]})]})}),g.jsx(ji,{children:g.jsx($o,{type:e.type})}),g.jsx(ji,{children:g.jsx(Bo,{level:e.severity})}),g.jsx(ji,{children:g.jsx(Vo,{status:e.status})}),g.jsx(ji,{children:g.jsx(Ni,{children:g.jsxs(ki,{children:[g.jsx(_i,{children:g.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[g.jsx(ts,{className:"h-4 w-4 mr-1"}),Ue(new Date(e.createdAt),{addSuffix:!0,locale:Mo})]})}),g.jsx(Si,{children:new Date(e.createdAt).toLocaleString("fr-FR")})]})})}),g.jsx(ji,{children:g.jsxs("div",{className:"flex space-x-1",children:[e.status===Ro&&g.jsxs(g.Fragment,{children:[g.jsx(Ni,{children:g.jsxs(ki,{children:[g.jsx(_i,{asChild:!0,children:g.jsx($r,{variant:"outline",size:"sm",onClick:()=>R(e.id,"approve"),disabled:O,children:g.jsx(Ft,{className:"h-4 w-4"})})}),g.jsx(Si,{children:"Approuver"})]})}),g.jsx(Ni,{children:g.jsxs(ki,{children:[g.jsx(_i,{asChild:!0,children:g.jsx($r,{variant:"outline",size:"sm",onClick:()=>R(e.id,"reject"),disabled:O,children:g.jsx(Lr,{className:"h-4 w-4"})})}),g.jsx(Si,{children:"Rejeter"})]})}),g.jsx(Ni,{children:g.jsxs(ki,{children:[g.jsx(_i,{asChild:!0,children:g.jsx($r,{variant:"outline",size:"sm",onClick:()=>R(e.id,"ignore"),disabled:O,children:g.jsx(us,{className:"h-4 w-4"})})}),g.jsx(Si,{children:"Ignorer"})]})})]}),g.jsx(Ni,{children:g.jsxs(ki,{children:[g.jsx(_i,{asChild:!0,children:g.jsx($r,{variant:"outline",size:"sm",onClick:()=>R(e.id,"delete"),disabled:O,children:g.jsx(Nr,{className:"h-4 w-4"})})}),g.jsx(Si,{children:"Supprimer"})]})})]})})]},e.id)}))})]})}),(null==C?void 0:C.pagination)&&g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"flex items-center space-x-2",children:g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Affichage de ",(f-1)*x+1," à ",Math.min(f*x,C.pagination.total)," sur ",C.pagination.total," signalements"]})}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx($r,{variant:"outline",size:"sm",onClick:()=>y(1),disabled:1===f,children:g.jsx(Wt,{className:"h-4 w-4"})}),g.jsx($r,{variant:"outline",size:"sm",onClick:()=>y(f-1),disabled:1===f,children:g.jsx(Vt,{className:"h-4 w-4"})}),g.jsxs("span",{className:"text-sm",children:["Page ",f," sur ",C.pagination.totalPages]}),g.jsx($r,{variant:"outline",size:"sm",onClick:()=>y(f+1),disabled:f===C.pagination.totalPages,children:g.jsx($t,{className:"h-4 w-4"})}),g.jsx($r,{variant:"outline",size:"sm",onClick:()=>y(C.pagination.totalPages),disabled:f===C.pagination.totalPages,children:g.jsx(Jt,{className:"h-4 w-4"})})]})]})]}),g.jsx(Ln,{value:"logs",className:"space-y-4",children:g.jsxs("div",{className:"rounded-md border bg-card",children:[g.jsxs("div",{className:"p-4 border-b",children:[g.jsx("h3",{className:"text-lg font-medium",children:"Journal de modération"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Historique des actions de modération effectuées"})]}),g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx(ts,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),g.jsx("p",{className:"text-lg font-medium",children:"Journal de modération à venir"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"L'historique des actions de modération sera disponible prochainement."})]})})]})}),g.jsx(Ln,{value:"settings",className:"space-y-4",children:g.jsxs("div",{className:"rounded-md border bg-card",children:[g.jsxs("div",{className:"p-4 border-b",children:[g.jsx("h3",{className:"text-lg font-medium",children:"Paramètres de modération"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurez les règles et seuils de modération"})]}),g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx(_r,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),g.jsx("p",{className:"text-lg font-medium",children:"Paramètres à venir"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Les paramètres de modération seront disponibles prochainement."})]})})]})})]}),g.jsx(zn,{open:k,onOpenChange:_,children:g.jsxs(Un,{children:[g.jsxs(Fn,{children:[g.jsx(Vn,{children:"Confirmer l'action"}),g.jsxs($n,{children:["Êtes-vous sûr de vouloir ",null==(e=q(S))?void 0:e.toLowerCase()," ce signalement ? Cette action ne peut pas être annulée."]})]}),g.jsxs(Bn,{children:[g.jsx(Wn,{children:"Annuler"}),g.jsx(Hn,{onClick:()=>{if(!w||!S)return;let e="";"reject"===S?e="Contenu inapproprié":"delete"===S&&(e="Suppression demandée"),D({reportId:w,action:S,reason:e})},className:"destructive"===(e=>{switch(e){case"approve":return"default";case"reject":case"delete":return"destructive";default:return"outline"}})(S)?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:q(S)})]})]})})]})}},Symbol.toStringTag,{value:"Module"}));Qe({first_name:st().min(2,"Le prénom doit contenir au moins 2 caractères").max(50,"Le prénom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le prénom ne peut contenir que des lettres, espaces, tirets et apostrophes"),last_name:st().min(2,"Le nom doit contenir au moins 2 caractères").max(50,"Le nom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes"),email:st().email("Format d'email invalide").min(5,"L'email doit contenir au moins 5 caractères").max(100,"L'email ne peut pas dépasser 100 caractères"),phone_number:st().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide (ex: +221 77 123 4567)").optional().nullable(),role:rt(["user","vendor","admin","moderator"],{errorMap:()=>({message:"Rôle invalide"})}),status:rt(["active","inactive","suspended","pending"],{errorMap:()=>({message:"Statut invalide"})}),is_verified:et().optional(),profile_image:st().url("URL d'image invalide").optional().nullable()}),Qe({title:st().min(10,"Le titre doit contenir au moins 10 caractères").max(255,"Le titre ne peut pas dépasser 255 caractères"),description:st().min(20,"La description doit contenir au moins 20 caractères").max(2e3,"La description ne peut pas dépasser 2000 caractères"),price:tt().min(0,"Le prix ne peut pas être négatif").max(1e9,"Le prix ne peut pas dépasser 1 milliard"),category:rt(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Catégorie invalide"})}),subcategory:st().min(2,"La sous-catégorie doit contenir au moins 2 caractères").max(100,"La sous-catégorie ne peut pas dépasser 100 caractères").optional(),status:rt(["pending","approved","rejected","expired"],{errorMap:()=>({message:"Statut invalide"})}),images:at(st().url("URL d'image invalide")).min(1,"Au moins une image est requise").max(10,"Maximum 10 images autorisées"),location:Qe({city:st().min(2,"Ville requise"),country:st().min(2,"Pays requis"),address:st().optional(),coordinates:Qe({lat:tt().min(-90).max(90).optional(),lng:tt().min(-180).max(180).optional()}).optional()}),contact_info:Qe({phone:st().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),email:st().email("Format d'email invalide"),website:st().url("URL invalide").optional()}),real_estate_details:Qe({type:rt(["appartement","maison","terrain","bureau","commerce"]),rooms:st().min(1,"Nombre de pièces requis"),surface:st().min(1,"Surface requise"),amenities:at(st()).optional()}).optional(),automobile_details:Qe({brand:st().min(2,"Marque requise"),model:st().min(2,"Modèle requis"),year:tt().min(1900).max((new Date).getFullYear()+1,"Année invalide"),mileage:tt().min(0,"Kilométrage invalide").optional(),transmission:rt(["manuelle","automatique"]).optional(),fuel:rt(["essence","diesel","électrique","hybride"]).optional()}).optional(),service_details:Qe({expertise:st().min(2,"Expertise requise"),experience:st().min(2,"Expérience requise"),availability:st().min(2,"Disponibilité requise"),verified:et().optional(),certifications:at(st()).optional()}).optional(),product_details:Qe({brand:st().min(2,"Marque requise"),model:st().min(2,"Modèle requis"),condition:rt(["neuf","excellent","bon","moyen","usé"]),warranty:st().optional(),dimensions:st().optional(),weight:st().optional()}).optional()});const Wo=Qe({name:st().min(2,"Le nom doit contenir au moins 2 caractères").max(100,"Le nom ne peut pas dépasser 100 caractères").regex(/^[a-zA-ZÀ-ÿ0-9\s'-]+$/,"Le nom ne peut contenir que des lettres, chiffres, espaces, tirets et apostrophes"),slug:st().min(2,"Le slug doit contenir au moins 2 caractères").max(100,"Le slug ne peut pas dépasser 100 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),parent_category:rt(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Type parent invalide"})}),description:st().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),icon:st().min(1,"L'icône est requise").max(50,"L'icône ne peut pas dépasser 50 caractères").optional(),sort_order:tt().int("L'ordre de tri doit être un nombre entier").min(0,"L'ordre de tri ne peut pas être négatif").max(999,"L'ordre de tri ne peut pas dépasser 999").optional(),is_active:et().optional()});Qe({reference:st().min(5,"La référence doit contenir au moins 5 caractères").max(50,"La référence ne peut pas dépasser 50 caractères").regex(/^[A-Z0-9-]+$/,"La référence ne peut contenir que des lettres majuscules, chiffres et tirets"),type:rt(["purchase","rental","service","transfer"],{errorMap:()=>({message:"Type de transaction invalide"})}),amount:tt().positive("Le montant doit être positif").max(1e9,"Le montant ne peut pas dépasser 1 milliard"),currency:rt(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),status:rt(["pending","completed","cancelled","failed"],{errorMap:()=>({message:"Statut invalide"})}),payment_method:rt(["mobile_money","bank_transfer","cash","card"],{errorMap:()=>({message:"Méthode de paiement invalide"})}).optional(),description:st().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),expires_at:it().optional(),metadata:nt(ot()).optional()}),Qe({reason:st().min(10,"La raison doit contenir au moins 10 caractères").max(200,"La raison ne peut pas dépasser 200 caractères"),description:st().min(20,"La description doit contenir au moins 20 caractères").max(1e3,"La description ne peut pas dépasser 1000 caractères").optional(),type:rt(["listing","comment","user","review"],{errorMap:()=>({message:"Type de rapport invalide"})}),severity:rt(["low","medium","high"],{errorMap:()=>({message:"Sévérité invalide"})}),status:rt(["pending","investigating","resolved","dismissed"],{errorMap:()=>({message:"Statut invalide"})}),moderator_notes:st().max(500,"Les notes ne peuvent pas dépasser 500 caractères").optional()}),Qe({general:Qe({siteName:st().min(2,"Nom du site requis"),siteDescription:st().min(10,"Description du site requise"),contactEmail:st().email("Email de contact invalide"),supportPhone:st().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),timezone:st().min(1,"Fuseau horaire requis"),currency:rt(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),language:rt(["fr","en"],{errorMap:()=>({message:"Langue invalide"})})}),appearance:Qe({theme:rt(["light","dark","auto"],{errorMap:()=>({message:"Thème invalide"})}),primaryColor:st().regex(/^#[0-9A-Fa-f]{6}$/,"Couleur hexadécimale invalide"),logoUrl:st().url("URL du logo invalide").optional(),faviconUrl:st().url("URL du favicon invalide").optional(),enableAnimations:et(),enableGradients:et()}),notifications:Qe({emailNotifications:et(),pushNotifications:et(),smsNotifications:et(),adminAlerts:et(),userWelcome:et(),listingApproval:et(),transactionUpdates:et()}),security:Qe({requireEmailVerification:et(),requirePhoneVerification:et(),twoFactorAuth:et(),sessionTimeout:tt().min(1).max(168),maxLoginAttempts:tt().min(3).max(10),passwordMinLength:tt().min(6).max(20),enableCaptcha:et()}),system:Qe({maintenanceMode:et(),debugMode:et(),enableLogs:et(),backupFrequency:rt(["hourly","daily","weekly","monthly"]),maxFileSize:tt().min(1).max(100),allowedFileTypes:at(st()),enableCaching:et(),cacheTTL:tt().min(60).max(86400)})}),Qe({searchTerm:st().max(100,"Terme de recherche trop long").optional(),status:rt(["all","active","inactive","pending","approved","rejected"]).optional(),category:st().optional(),dateFrom:it().optional(),dateTo:it().optional(),minPrice:tt().min(0).optional(),maxPrice:tt().min(0).optional(),sortBy:st().optional(),sortOrder:rt(["asc","desc"]).optional(),page:tt().int().min(1).optional(),perPage:tt().int().min(1).max(100).optional()});const Jo=(e,t)=>{try{return{success:!0,data:e.parse(t),errors:null}}catch(s){return s instanceof Ze?{success:!1,data:null,errors:s.errors.reduce(((e,t)=>(e[t.path.join(".")]=t.message,e)),{})}:{success:!1,data:null,errors:{general:"Erreur de validation inconnue"}}}},Go=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{toast:e}=xt(),t=_e(),[s,r]=ve.useState(""),[a,n]=ve.useState("all"),[i,o]=ve.useState("all"),[d,u]=ve.useState("name"),[h,p]=ve.useState("asc"),[f,y]=ve.useState(1),[x,v]=ve.useState(10),[b,j]=ve.useState(!1),[w,N]=ve.useState(!1),[k,_]=ve.useState(null),[S,M]=ve.useState({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0}),[C,E]=ve.useState({}),{getFieldError:A,hasFieldError:T,clearFieldError:D}=((e={})=>({getFieldError:t=>e[t]||null,hasFieldError:t=>!!e[t],hasAnyErrors:()=>Object.keys(e).length>0,clearFieldError:(t,s)=>{s&&e[t]&&s((e=>{const s=l({},e);return delete s[t],s}))},clearAllErrors:e=>{e&&e({})}}))(C),{data:O,isLoading:R,isError:q}=Se({queryKey:["adminCategories",{searchTerm:s,typeFilter:a,statusFilter:i,sortBy:d,sortOrder:h,page:f,perPage:x}],queryFn:()=>m(null,null,(function*(){return yield Hi()}))}),L=Me({mutationFn:e=>(e=>m(null,null,(function*(){const{data:t,error:s}=yield ft.from("categories").insert([c(l({},e),{created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()})]).select().single();if(s)throw s;return t})))(e),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),j(!1),F(),e({title:"Succès",description:"Catégorie créée avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Une erreur est survenue",variant:"destructive"})}}),z=Me({mutationFn:({id:e,data:t})=>((e,t)=>m(null,null,(function*(){const{data:s,error:r}=yield ft.from("categories").update(c(l({},t),{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(r)throw r;return s})))(e,t),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),N(!1),_(null),F(),e({title:"Succès",description:"Catégorie mise à jour avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Une erreur est survenue",variant:"destructive"})}}),P=Me({mutationFn:e=>{return t=e,m(null,null,(function*(){const{error:e}=yield ft.from("categories").delete().eq("id",t);if(e)throw e;return{success:!0}}));var t},onSuccess:()=>{t.invalidateQueries(["adminCategories"]),e({title:"Succès",description:"Catégorie supprimée avec succès"})},onError:t=>{e({title:"Erreur",description:t.message||"Une erreur est survenue",variant:"destructive"})}}),I=e=>{d===e?p("asc"===h?"desc":"asc"):(u(e),p("asc"))},U=e=>{y(e)},F=()=>{M({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0})},B=t=>{t.preventDefault();const s=Jo(Wo,S);s.success?k?z.mutate({id:k.id,data:s.data}):L.mutate(s.data):Object.values(s.errors).forEach((t=>{e({title:"Erreur de validation",description:t,variant:"destructive"})}))},V=O?O.filter((e=>!(s&&!e.name.toLowerCase().includes(s.toLowerCase())||"all"!==a&&e.parent_category!==a||"all"!==i&&e.is_active!==("active"===i)))).sort(((e,t)=>{let s=e[d],r=t[d];return"string"==typeof s&&(s=s.toLowerCase(),r=r.toLowerCase()),"asc"===h?s>r?1:-1:r>s?1:-1})):[],$=Math.ceil(V.length/x),H=(f-1)*x,W=H+x,J=V.slice(H,W),G=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),K=e=>{M((t=>c(l({},t),{name:e,slug:G(e)})));const t=Jo(Wo,c(l({},S),{name:e}));t.success?D("name",E):E((e=>c(l({},e),{name:t.errors.name})))},Y=(e,t)=>{const s=c(l({},S),{[e]:t}),r=Jo(Wo,s);!r.success&&r.errors[e]?E((t=>c(l({},t),{[e]:r.errors[e]}))):D(e,E)};return R?g.jsx("div",{className:"flex items-center justify-center min-h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):q?g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des catégories"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gérez les catégories et sous-catégories de votre marketplace"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs($r,{onClick:()=>(()=>{try{if(!O||0===O.length)return void e({title:"Aucune donnée",description:"Aucune catégorie à exporter",variant:"destructive"});Ri.categories(O,"categories-maximarket"),e({title:"Export réussi",description:"Liste des catégories exportée en CSV"})}catch(t){e({title:"Erreur d'export",description:t.message||"Impossible d'exporter les données",variant:"destructive"})}})(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[g.jsx(os,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),g.jsxs($r,{onClick:()=>{F(),E({}),j(!0)},className:"bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700",children:[g.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Nouvelle Catégorie"]})]})]}),g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"search",children:"Recherche"}),g.jsx(Wr,{id:"search",placeholder:"Rechercher une catégorie...",value:s,onChange:e=>{r(e.target.value),y(1)},className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"typeFilter",children:"Type"}),g.jsxs(oi,{value:a,onValueChange:n,children:[g.jsx(ci,{className:"mt-1",children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les types"}),g.jsx(hi,{value:"real_estate",children:"Immobilier"}),g.jsx(hi,{value:"automobile",children:"Automobile"}),g.jsx(hi,{value:"services",children:"Services"}),g.jsx(hi,{value:"marketplace",children:"Marketplace"})]})]})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"statusFilter",children:"Statut"}),g.jsxs(oi,{value:i,onValueChange:o,children:[g.jsx(ci,{className:"mt-1",children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"all",children:"Tous les statuts"}),g.jsx(hi,{value:"active",children:"Actif"}),g.jsx(hi,{value:"inactive",children:"Inactif"})]})]})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"perPage",children:"Par page"}),g.jsxs(oi,{value:x.toString(),onValueChange:e=>(v(parseInt(e)),void y(1)),children:[g.jsx(ci,{className:"mt-1",children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"10",children:"10"}),g.jsx(hi,{value:"25",children:"25"}),g.jsx(hi,{value:"50",children:"50"})]})]})]})]})}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[g.jsx("div",{className:"overflow-x-auto",children:g.jsxs(gi,{children:[g.jsx(yi,{children:g.jsxs(vi,{children:[g.jsx(bi,{children:g.jsxs($r,{variant:"ghost",onClick:()=>I("name"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Nom","name"===d&&("asc"===h?g.jsx(Ht,{className:"h-4 w-4"}):g.jsx(Bt,{className:"h-4 w-4"}))]})}),g.jsx(bi,{children:g.jsxs($r,{variant:"ghost",onClick:()=>I("parent_category"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Type","parent_category"===d&&("asc"===h?g.jsx(Ht,{className:"h-4 w-4"}):g.jsx(Bt,{className:"h-4 w-4"}))]})}),g.jsx(bi,{children:"Slug"}),g.jsx(bi,{children:g.jsxs($r,{variant:"ghost",onClick:()=>I("sort_order"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Ordre","sort_order"===d&&("asc"===h?g.jsx(Ht,{className:"h-4 w-4"}):g.jsx(Bt,{className:"h-4 w-4"}))]})}),g.jsx(bi,{children:"Statut"}),g.jsx(bi,{children:"Actions"})]})}),g.jsx(xi,{children:J.map((e=>g.jsxs(vi,{children:[g.jsx(ji,{className:"font-medium",children:g.jsxs("div",{className:"flex items-center gap-2",children:[e.icon&&g.jsx("span",{className:"text-lg",children:e.icon}),e.name]})}),g.jsx(ji,{children:g.jsxs(Dn,{variant:"outline",children:["real_estate"===e.parent_category&&"Immobilier","automobile"===e.parent_category&&"Automobile","services"===e.parent_category&&"Services","marketplace"===e.parent_category&&"Marketplace"]})}),g.jsx(ji,{className:"font-mono text-sm text-gray-500",children:e.slug}),g.jsx(ji,{children:e.sort_order||0}),g.jsx(ji,{children:g.jsx(Dn,{variant:e.is_active?"success":"secondary",children:e.is_active?"Actif":"Inactif"})}),g.jsx(ji,{children:g.jsxs(ti,{children:[g.jsx(si,{asChild:!0,children:g.jsx($r,{variant:"ghost",className:"h-8 w-8 p-0",children:g.jsx(ls,{className:"h-4 w-4"})})}),g.jsxs(ri,{align:"end",children:[g.jsxs(ai,{onClick:()=>(e=>{_(e),M({name:e.name,slug:e.slug,parent_category:e.parent_category,description:e.description||"",icon:e.icon||"",sort_order:e.sort_order||0}),E({}),N(!0)})(e),children:[g.jsx(yr,{className:"mr-2 h-4 w-4"}),"Modifier"]}),g.jsx(ni,{}),g.jsxs(ai,{onClick:()=>{return t=e.id,void P.mutate(t);var t},className:"text-red-600",children:[g.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},e.id)))})]})}),$>1&&g.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[g.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de ",H+1," à ",Math.min(W,V.length)," sur ",V.length," résultats"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx($r,{variant:"outline",size:"sm",onClick:()=>U(1),disabled:1===f,children:g.jsx(Wt,{className:"h-4 w-4"})}),g.jsx($r,{variant:"outline",size:"sm",onClick:()=>U(f-1),disabled:1===f,children:g.jsx(Vt,{className:"h-4 w-4"})}),g.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",f," sur ",$]}),g.jsx($r,{variant:"outline",size:"sm",onClick:()=>U(f+1),disabled:f===$,children:g.jsx($t,{className:"h-4 w-4"})}),g.jsx($r,{variant:"outline",size:"sm",onClick:()=>U($),disabled:f===$,children:g.jsx(Jt,{className:"h-4 w-4"})})]})]})]}),g.jsx(Jn,{open:b,onOpenChange:j,children:g.jsxs(Yn,{className:"sm:max-w-[500px]",children:[g.jsxs(Xn,{children:[g.jsx(Qn,{children:"Créer une nouvelle catégorie"}),g.jsx(ei,{children:"Remplissez les informations pour créer une nouvelle catégorie"})]}),g.jsxs("form",{onSubmit:B,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"name",children:"Nom *"}),g.jsx(Wr,{id:"name",value:S.name,onChange:e=>K(e.target.value),onBlur:e=>Y("name",e.target.value),placeholder:"Nom de la catégorie",required:!0,className:T("name")?"border-red-500 focus:border-red-500":""}),g.jsx(Mi,{error:A("name")})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"slug",children:"Slug *"}),g.jsx(Wr,{id:"slug",value:S.slug,onChange:e=>M((t=>c(l({},t),{slug:e.target.value}))),onBlur:e=>Y("slug",e.target.value),placeholder:"slug-categorie",required:!0,className:T("slug")?"border-red-500 focus:border-red-500":""}),g.jsx(Mi,{error:A("slug")})]})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"parent_category",children:"Type parent *"}),g.jsxs(oi,{value:S.parent_category,onValueChange:e=>M((t=>c(l({},t),{parent_category:e}))),children:[g.jsx(ci,{children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"real_estate",children:"Immobilier"}),g.jsx(hi,{value:"automobile",children:"Automobile"}),g.jsx(hi,{value:"services",children:"Services"}),g.jsx(hi,{value:"marketplace",children:"Marketplace"})]})]})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"description",children:"Description"}),g.jsx(wi,{id:"description",value:S.description,onChange:e=>M((t=>c(l({},t),{description:e.target.value}))),onBlur:e=>Y("description",e.target.value),placeholder:"Description de la catégorie",rows:3,className:T("description")?"border-red-500 focus:border-red-500":""}),g.jsx(Mi,{error:A("description")})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"icon",children:"Icône"}),g.jsx(Wr,{id:"icon",value:S.icon,onChange:e=>M((t=>c(l({},t),{icon:e.target.value}))),placeholder:"🏠"})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"sort_order",children:"Ordre de tri"}),g.jsx(Wr,{id:"sort_order",type:"number",value:S.sort_order,onChange:e=>M((t=>c(l({},t),{sort_order:parseInt(e.target.value)||0}))),onBlur:e=>Y("sort_order",parseInt(e.target.value)||0),placeholder:"0",className:T("sort_order")?"border-red-500 focus:border-red-500":""}),g.jsx(Mi,{error:A("sort_order")})]})]}),g.jsxs(Zn,{children:[g.jsx($r,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Annuler"}),g.jsx($r,{type:"submit",disabled:L.isLoading,children:L.isLoading?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):g.jsxs(g.Fragment,{children:[g.jsx(ar,{className:"mr-2 h-4 w-4"}),"Créer"]})})]})]})]})}),g.jsx(Jn,{open:w,onOpenChange:N,children:g.jsxs(Yn,{className:"sm:max-w-[500px]",children:[g.jsxs(Xn,{children:[g.jsx(Qn,{children:"Modifier la catégorie"}),g.jsx(ei,{children:"Modifiez les informations de la catégorie"})]}),g.jsxs("form",{onSubmit:B,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"edit-name",children:"Nom *"}),g.jsx(Wr,{id:"edit-name",value:S.name,onChange:e=>K(e.target.value),placeholder:"Nom de la catégorie",required:!0})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"edit-slug",children:"Slug *"}),g.jsx(Wr,{id:"edit-slug",value:S.slug,onChange:e=>M((t=>c(l({},t),{slug:e.target.value}))),placeholder:"slug-categorie",required:!0})]})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"edit-parent_category",children:"Type parent *"}),g.jsxs(oi,{value:S.parent_category,onValueChange:e=>M((t=>c(l({},t),{parent_category:e}))),children:[g.jsx(ci,{children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"real_estate",children:"Immobilier"}),g.jsx(hi,{value:"automobile",children:"Automobile"}),g.jsx(hi,{value:"services",children:"Services"}),g.jsx(hi,{value:"marketplace",children:"Marketplace"})]})]})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"edit-description",children:"Description"}),g.jsx(wi,{id:"edit-description",value:S.description,onChange:e=>M((t=>c(l({},t),{description:e.target.value}))),placeholder:"Description de la catégorie",rows:3})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"edit-icon",children:"Icône"}),g.jsx(Wr,{id:"edit-icon",value:S.icon,onChange:e=>M((t=>c(l({},t),{icon:e.target.value}))),placeholder:"🏠"})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"edit-sort_order",children:"Ordre de tri"}),g.jsx(Wr,{id:"edit-sort_order",type:"number",value:S.sort_order,onChange:e=>M((t=>c(l({},t),{sort_order:parseInt(e.target.value)||0}))),placeholder:"0"})]})]}),g.jsxs(Zn,{children:[g.jsx($r,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Annuler"}),g.jsx($r,{type:"submit",disabled:z.isLoading,children:z.isLoading?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):g.jsxs(g.Fragment,{children:[g.jsx(ar,{className:"mr-2 h-4 w-4"}),"Mettre à jour"]})})]})]})]})})]})}},Symbol.toStringTag,{value:"Module"})),Ko=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{toast:e}=xt(),[t,s]=ve.useState(!1),[r,a]=ve.useState(!1),{data:n,isLoading:i,error:o}=Se({queryKey:["systemSettings"],queryFn:()=>so.getSystemSettings(),staleTime:3e5}),[d,u]=ve.useState({});ve.useEffect((()=>{n&&u(n)}),[n]),ve.useEffect((()=>{Object.keys(d).length>0&&s(!0)}),[d]);const h=(e,t,s)=>{u((r=>c(l({},r),{[e]:c(l({},r[e]),{[t]:s})})))};return i?g.jsx("div",{className:"flex items-center justify-center min-h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):d&&0!==Object.keys(d).length?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Paramètres Système"}),g.jsx("p",{className:"text-gray-600",children:"Configurez votre marketplace"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs($r,{variant:"outline",onClick:()=>m(null,null,(function*(){try{yield so.resetToDefaults();const t=yield so.getSystemSettings();u(t),s(!1),e({title:"Réinitialisation",description:"Paramètres réinitialisés aux valeurs par défaut"})}catch(t){e({title:"Erreur",description:t.message||"Erreur lors de la réinitialisation",variant:"destructive"})}})),children:[g.jsx(tr,{className:"mr-2 h-4 w-4"}),"Réinitialiser"]}),g.jsx($r,{onClick:()=>m(null,null,(function*(){a(!0);try{yield so.updateSystemSettings(d),s(!1),e({title:"Succès",description:"Paramètres sauvegardés avec succès"})}catch(t){e({title:"Erreur",description:t.message||"Erreur lors de la sauvegarde",variant:"destructive"})}finally{a(!1)}})),disabled:!t||r,children:r?"Sauvegarde...":g.jsxs(g.Fragment,{children:[g.jsx(ar,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]})]}),t&&g.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Gt,{className:"h-5 w-5 text-blue-600"}),g.jsx("span",{className:"text-blue-800 font-medium",children:"Modifications non sauvegardées"})]})}),g.jsxs(On,{defaultValue:"general",className:"space-y-6",children:[g.jsxs(Rn,{className:"grid w-full grid-cols-4",children:[g.jsx(qn,{value:"general",children:"Général"}),g.jsx(qn,{value:"appearance",children:"Apparence"}),g.jsx(qn,{value:"notifications",children:"Notifications"}),g.jsx(qn,{value:"security",children:"Sécurité"})]}),g.jsx(Ln,{value:"general",children:g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Informations du site"})}),g.jsxs(En,{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Nom du site"}),g.jsx(Wr,{value:d.general.siteName,onChange:e=>h("general","siteName",e.target.value)})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Email de contact"}),g.jsx(Wr,{value:d.general.contactEmail,onChange:e=>h("general","contactEmail",e.target.value)})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Fuseau horaire"}),g.jsxs(oi,{value:d.general.timezone,onValueChange:e=>h("general","timezone",e),children:[g.jsx(ci,{children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"Africa/Dakar",children:"Dakar (GMT+0)"}),g.jsx(hi,{value:"Africa/Lagos",children:"Lagos (GMT+1)"})]})]})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Devise"}),g.jsxs(oi,{value:d.general.currency,onValueChange:e=>h("general","currency",e),children:[g.jsx(ci,{children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"XOF",children:"XOF (Franc CFA)"}),g.jsx(hi,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]})]})}),g.jsx(Ln,{value:"appearance",children:g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Thème et apparence"})}),g.jsx(En,{className:"space-y-4",children:g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Thème"}),g.jsxs(oi,{value:d.appearance.theme,onValueChange:e=>h("appearance","theme",e),children:[g.jsx(ci,{children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"light",children:"Clair"}),g.jsx(hi,{value:"dark",children:"Sombre"}),g.jsx(hi,{value:"auto",children:"Auto"})]})]})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Couleur principale"}),g.jsx(Wr,{type:"color",value:d.appearance.primaryColor,onChange:e=>h("appearance","primaryColor",e.target.value),className:"w-full h-10"})]})]})})]})}),g.jsx(Ln,{value:"notifications",children:g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Configuration des notifications"})}),g.jsx(En,{className:"space-y-4",children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Notifications par email"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),g.jsx(fi,{checked:d.notifications.emailNotifications,onCheckedChange:e=>h("notifications","emailNotifications",e)})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Notifications push"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Notifications push dans le navigateur"})]}),g.jsx(fi,{checked:d.notifications.pushNotifications,onCheckedChange:e=>h("notifications","pushNotifications",e)})]})]})})]})}),g.jsx(Ln,{value:"security",children:g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Sécurité et authentification"})}),g.jsx(En,{className:"space-y-4",children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Vérification email obligatoire"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vérifier leur email"})]}),g.jsx(fi,{checked:d.security.requireEmailVerification,onCheckedChange:e=>h("security","requireEmailVerification",e)})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Activer le captcha"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Protection contre les bots"})]}),g.jsx(fi,{checked:d.security.enableCaptcha,onCheckedChange:e=>h("security","enableCaptcha",e)})]})]})})]})})]})]}):g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des paramètres"})})}},Symbol.toStringTag,{value:"Module"})),Yo=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{toast:e}=xt(),[t,s]=ve.useState(null),[r,a]=ve.useState([]),[n,i]=ve.useState([]),[o,d]=ve.useState(null),[u,h]=ve.useState(!0),[p,f]=ve.useState(!1),[y,x]=ve.useState({type:"weeklyNewsletter",subject:"",data:{},scheduledDate:""});ve.useEffect((()=>{v()}),[]);const v=()=>m(null,null,(function*(){try{h(!0);const[e,t,r,n]=yield Promise.all([Nn.getStats(),Nn.getStats(),ro.getAllCampaigns(),ro.getCampaignStats()]);s(e),a(t.data||[]),i(r||[]),d(n)}catch(t){e({title:"Erreur",description:"Impossible de charger les données",variant:"destructive"})}finally{h(!1)}}));return u?g.jsx("div",{className:"container mx-auto p-6",children:g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})}):g.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[g.jsx(Ls,{className:"h-8 w-8 text-primary"}),"Dashboard Newsletter"]}),g.jsx("p",{className:"text-muted-foreground",children:"Gérez vos campagnes email et suivez vos statistiques"})]}),g.jsxs($r,{onClick:v,variant:"outline",children:[g.jsx(kt,{className:"h-4 w-4 mr-2"}),"Actualiser"]})]}),g.jsxs(On,{defaultValue:"overview",className:"space-y-6",children:[g.jsxs(Rn,{children:[g.jsx(qn,{value:"overview",children:"Vue d'ensemble"}),g.jsx(qn,{value:"campaigns",children:"Campagnes"}),g.jsx(qn,{value:"subscribers",children:"Abonnés"}),g.jsx(qn,{value:"analytics",children:"Analytics"})]}),g.jsxs(Ln,{value:"overview",className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsxs(_n,{children:[g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Total Abonnés"}),g.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.total)||0}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(null==t?void 0:t.active)||0," actifs"]})]})]}),g.jsxs(_n,{children:[g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Abonnés Actifs"}),g.jsx(Kt,{className:"h-4 w-4 text-green-600"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold text-green-600",children:(null==t?void 0:t.active)||0}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==t?void 0:t.total)?Math.round(t.active/t.total*100):0,"% du total"]})]})]}),g.jsxs(_n,{children:[g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Abonnés Inactifs"}),g.jsx(Gt,{className:"h-4 w-4 text-orange-600"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(null==t?void 0:t.inactive)||0}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Désinscrits ou inactifs"})]})]}),g.jsxs(_n,{children:[g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Taux d'Engagement"}),g.jsx(kr,{className:"h-4 w-4 text-blue-600"})]}),g.jsxs(En,{children:[g.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(null==t?void 0:t.total)?Math.round(t.active/t.total*100):0,"%"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Abonnés actifs"})]})]}),g.jsxs(_n,{children:[g.jsxs(Sn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(Mn,{className:"text-sm font-medium",children:"Campagnes Envoyées"}),g.jsx(or,{className:"h-4 w-4 text-purple-600"})]}),g.jsxs(En,{children:[g.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(null==o?void 0:o.sent)||0}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sur ",(null==o?void 0:o.total)||0," total"]})]})]})]}),g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Évolution des abonnés"})}),g.jsx(En,{children:g.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:g.jsxs("div",{className:"text-center",children:[g.jsx(Dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"Graphique d'évolution à implémenter"})]})})})]})]}),g.jsxs(Ln,{value:"campaigns",className:"space-y-6",children:[g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsxs(Mn,{className:"flex items-center gap-2",children:[g.jsx(or,{className:"h-5 w-5"}),"Créer une nouvelle campagne"]})}),g.jsxs(En,{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"campaign-type",children:"Type de campagne"}),g.jsxs(oi,{value:y.type,onValueChange:e=>x((t=>c(l({},t),{type:e}))),children:[g.jsx(ci,{children:g.jsx(li,{})}),g.jsxs(mi,{children:[g.jsx(hi,{value:"weeklyNewsletter",children:"Newsletter Hebdomadaire"}),g.jsx(hi,{value:"monthlyNewsletter",children:"Newsletter Mensuelle"}),g.jsx(hi,{value:"specialOffer",children:"Offre Spéciale"}),g.jsx(hi,{value:"reengagementCampaign",children:"Campagne de Réengagement"}),g.jsx(hi,{value:"maintenanceNotification",children:"Notification de Maintenance"})]})]})]}),g.jsxs("div",{children:[g.jsx(kn,{htmlFor:"scheduled-date",children:"Date programmée (optionnel)"}),g.jsx(Wr,{id:"scheduled-date",type:"datetime-local",value:y.scheduledDate,onChange:e=>x((t=>c(l({},t),{scheduledDate:e.target.value})))})]})]}),"weeklyNewsletter"===y.type&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h4",{className:"font-medium",children:"Données de la newsletter hebdomadaire"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Début de semaine"}),g.jsx(Wr,{value:y.data.weekStart||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{weekStart:e.target.value})}))),placeholder:"1er janvier 2024"})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Nouvelles annonces"}),g.jsx(Wr,{value:y.data.newListings||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{newListings:e.target.value})}))),placeholder:"150+"})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Utilisateurs actifs"}),g.jsx(Wr,{value:y.data.activeUsers||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{activeUsers:e.target.value})}))),placeholder:"2.5k"})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Transactions"}),g.jsx(Wr,{value:y.data.transactions||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{transactions:e.target.value})}))),placeholder:"89"})]})]})]}),"specialOffer"===y.type&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h4",{className:"font-medium",children:"Détails de l'offre spéciale"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(kn,{children:"Réduction"}),g.jsx(Wr,{value:y.data.discount||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{discount:e.target.value})}))),placeholder:"20%"})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Code promo"}),g.jsx(Wr,{value:y.data.code||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{code:e.target.value})}))),placeholder:"NEWSLETTER20"})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Description"}),g.jsx(Wr,{value:y.data.description||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{description:e.target.value})}))),placeholder:"Sur tous les services premium"})]}),g.jsxs("div",{children:[g.jsx(kn,{children:"Date d'expiration"}),g.jsx(Wr,{value:y.data.expiryDate||"",onChange:e=>x((t=>c(l({},t),{data:c(l({},t.data),{expiryDate:e.target.value})}))),placeholder:"31 décembre 2024"})]})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs($r,{onClick:()=>{const t={weekStart:(new Date).toLocaleDateString("fr-FR"),newListings:Math.floor(200*Math.random())+100+"+",activeUsers:(5*Math.random()+1).toFixed(1)+"k",transactions:Math.floor(100*Math.random())+50,newUsers:Math.floor(500*Math.random())+200,featuredListings:[{id:1,title:"Appartement moderne",price:"150,000 €",location:"Dakar"},{id:2,title:"Voiture d'occasion",price:"25,000 €",location:"Abidjan"}]};x((e=>c(l({},e),{data:t}))),e({title:"Données de test générées",description:"Les données de test ont été ajoutées au formulaire"})},variant:"outline",children:[g.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Générer données de test"]}),g.jsx($r,{onClick:()=>m(null,null,(function*(){try{let t;switch(f(!0),y.type){case"weeklyNewsletter":t=yield Nn.sendWeeklyNewsletter(y.data);break;case"monthlyNewsletter":t=yield Nn.sendMonthlyNewsletter(y.data);break;case"specialOffer":t=yield Nn.sendSpecialOffer(y.data);break;case"reengagementCampaign":t=yield Nn.sendReengagementCampaign(y.data);break;case"maintenanceNotification":t=yield Nn.sendMaintenanceNotification(y.data);break;default:throw Error("Type de campagne non supporté")}e({title:"Succès",description:t.message||"Campagne envoyée avec succès"}),yield v(),x({type:"weeklyNewsletter",subject:"",data:{},scheduledDate:""})}catch(t){e({title:"Erreur",description:t.message||"Erreur lors de l'envoi de la campagne",variant:"destructive"})}finally{f(!1)}})),disabled:p,className:"flex-1",children:p?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Envoi en cours..."]}):g.jsxs(g.Fragment,{children:[g.jsx(or,{className:"h-4 w-4 mr-2"}),"Envoyer la campagne"]})})]})]})]}),g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsxs(Mn,{children:["Historique des campagnes (",n.length,")"]})}),g.jsx(En,{children:g.jsx("div",{className:"space-y-4",children:n.length>0?n.map((e=>g.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full "+("sent"===e.status?"bg-green-100":"draft"===e.status?"bg-gray-100":"scheduled"===e.status?"bg-blue-100":"sending"===e.status?"bg-yellow-100":"bg-red-100"),children:"sent"===e.status?g.jsx(Kt,{className:"h-4 w-4 text-green-600"}):"draft"===e.status?g.jsx(ts,{className:"h-4 w-4 text-gray-600"}):"scheduled"===e.status?g.jsx(zt,{className:"h-4 w-4 text-blue-600"}):"sending"===e.status?g.jsx(Loader2,{className:"h-4 w-4 text-yellow-600 animate-spin"}):g.jsx(Gt,{className:"h-4 w-4 text-red-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:e.subject||e.type}),g.jsx("p",{className:"text-sm text-muted-foreground",children:e.sent_at?"Envoyée le "+new Date(e.sent_at).toLocaleDateString("fr-FR"):e.scheduled_date?"Programmée le "+new Date(e.scheduled_date).toLocaleDateString("fr-FR"):"Créée le "+new Date(e.created_at).toLocaleDateString("fr-FR")})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Dn,{variant:"sent"===e.status?"default":"draft"===e.status?"secondary":"scheduled"===e.status?"outline":"destructive",children:"sent"===e.status?"Envoyée":"draft"===e.status?"Brouillon":"scheduled"===e.status?"Programmée":"sending"===e.status?"Envoi...":"Échec"}),e.recipient_count>0&&g.jsxs(Dn,{variant:"secondary",children:[e.recipient_count," destinataires"]})]})]},e.id))):g.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[g.jsx(Ls,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"Aucune campagne créée"})]})})})]})]}),g.jsx(Ln,{value:"subscribers",className:"space-y-6",children:g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsxs(Mn,{children:["Liste des abonnés (",r.length,")"]})}),g.jsx(En,{children:g.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:r.map(((e,t)=>g.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:e.email}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Inscrit le ",new Date(e.subscribed_at).toLocaleDateString("fr-FR")]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Dn,{variant:e.is_active?"default":"secondary",children:e.is_active?"Actif":"Inactif"}),e.source&&g.jsx(Dn,{variant:"outline",children:e.source})]})]},e.id||t)))})})]})}),g.jsxs(Ln,{value:"analytics",className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Taux d'ouverture"})}),g.jsx(En,{children:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Newsletter hebdomadaire"}),g.jsx("span",{className:"font-medium",children:"78%"})]}),g.jsx(ii,{value:78,className:"h-2"}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Offres spéciales"}),g.jsx("span",{className:"font-medium",children:"65%"})]}),g.jsx(ii,{value:65,className:"h-2"}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Notifications système"}),g.jsx("span",{className:"font-medium",children:"92%"})]}),g.jsx(ii,{value:92,className:"h-2"})]})})]}),g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Taux de clic"})}),g.jsx(En,{children:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Newsletter hebdomadaire"}),g.jsx("span",{className:"font-medium",children:"23%"})]}),g.jsx(ii,{value:23,className:"h-2"}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Offres spéciales"}),g.jsx("span",{className:"font-medium",children:"45%"})]}),g.jsx(ii,{value:45,className:"h-2"}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Notifications système"}),g.jsx("span",{className:"font-medium",children:"12%"})]}),g.jsx(ii,{value:12,className:"h-2"})]})})]})]}),g.jsxs(_n,{children:[g.jsx(Sn,{children:g.jsx(Mn,{children:"Performance par jour"})}),g.jsx(En,{children:g.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:g.jsxs("div",{className:"text-center",children:[g.jsx(Dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"Graphique de performance à implémenter"})]})})})]})]})]})]})}},Symbol.toStringTag,{value:"Module"}));export{Us as $,zn as A,$r as B,Ft as C,Kt as D,cs as E,gs as F,Mr as G,Ns as H,Wr as I,ii as J,fs as K,kn as L,Ps as M,ps as N,ks as O,Ys as P,zs as Q,tr as R,yr as S,Nr as T,Ar as U,Dr as V,as as W,Lr as X,zt as Y,wi as Z,Gs as _,Bt as a,Si as a$,Fs as a0,Rr as a1,Or as a2,Js as a3,Ks as a4,Zs as a5,fr as a6,Hs as a7,or as a8,ti as a9,Rs as aA,An as aB,Yt as aC,er as aD,Tr as aE,kr as aF,sr as aG,Ot as aH,_s as aI,ws as aJ,Xt as aK,ur as aL,On as aM,Rn as aN,qn as aO,Dt as aP,rs as aQ,Ln as aR,qs as aS,Wi as aT,qi as aU,$i as aV,to as aW,Ki as aX,Ni as aY,ki as aZ,_i as a_,si as aa,ri as ab,ai as ac,ni as ad,ms as ae,Ii as af,ht as ag,Ut as ah,qt as ai,mr as aj,Hr as ak,br as al,Bs as am,Zt as an,lr as ao,hs as ap,Sr as aq,Ss as ar,Ct as as,Ls as at,Nn as au,_n as av,Sn as aw,Mn as ax,Cn as ay,En as az,vr as b,Ko as b$,Qt as b0,zr as b1,cr as b2,ss as b3,ds as b4,nr as b5,It as b6,Mt as b7,ns as b8,Ji as b9,os as bA,qr as bB,es as bC,wr as bD,Cs as bE,dr as bF,xs as bG,As as bH,gr as bI,Vs as bJ,At as bK,Rt as bL,hr as bM,Mo as bN,Fr as bO,bt as bP,Ms as bQ,Ts as bR,is as bS,Tt as bT,Co as bU,Eo as bV,Ao as bW,To as bX,Oo as bY,Ho as bZ,Go as b_,jr as ba,Lt as bb,Pr as bc,Ir as bd,Br as be,ys as bf,oi as bg,ci as bh,li as bi,mi as bj,hi as bk,Gi as bl,pi as bm,bs as bn,Ds as bo,Ws as bp,js as bq,Jn as br,Yn as bs,Xn as bt,Qn as bu,Yi as bv,vs as bw,pr as bx,us as by,Qs as bz,Ur as c,Yo as c0,Un as d,Fn as e,_r as f,Vn as g,$n as h,Bn as i,Wn as j,Vt as k,$t as l,Bi as m,ls as n,Dn as o,ir as p,Is as q,ts as r,ft as s,_t as t,jt as u,xt as v,Gt as w,Pt as x,Os as y,rr as z};
