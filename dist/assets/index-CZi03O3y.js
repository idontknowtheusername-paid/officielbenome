function Xte(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k8(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Zj={exports:{}},Fm={},Yj={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QL;function Qte(){if(QL)return Vt;QL=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function _(G,ie,xe){this.props=G,this.context=ie,this.refs=y,this.updater=xe||v}_.prototype.isReactComponent={},_.prototype.setState=function(G,ie){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ie,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=_.prototype;function N(G,ie,xe){this.props=G,this.context=ie,this.refs=y,this.updater=xe||v}var C=N.prototype=new S;C.constructor=N,w(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,k={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(G,ie,xe){var Ne,Le={},ce=null,oe=null;if(ie!=null)for(Ne in ie.ref!==void 0&&(oe=ie.ref),ie.key!==void 0&&(ce=""+ie.key),ie)P.call(ie,Ne)&&!O.hasOwnProperty(Ne)&&(Le[Ne]=ie[Ne]);var ge=arguments.length-2;if(ge===1)Le.children=xe;else if(1<ge){for(var he=Array(ge),Pe=0;Pe<ge;Pe++)he[Pe]=arguments[Pe+2];Le.children=he}if(G&&G.defaultProps)for(Ne in ge=G.defaultProps,ge)Le[Ne]===void 0&&(Le[Ne]=ge[Ne]);return{$$typeof:e,type:G,key:ce,ref:oe,props:Le,_owner:k.current}}function z(G,ie){return{$$typeof:e,type:G.type,key:ie,ref:G.ref,props:G.props,_owner:G._owner}}function Y(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function Z(G){var ie={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(xe){return ie[xe]})}var V=/\/+/g;function q(G,ie){return typeof G=="object"&&G!==null&&G.key!=null?Z(""+G.key):ie.toString(36)}function U(G,ie,xe,Ne,Le){var ce=typeof G;(ce==="undefined"||ce==="boolean")&&(G=null);var oe=!1;if(G===null)oe=!0;else switch(ce){case"string":case"number":oe=!0;break;case"object":switch(G.$$typeof){case e:case t:oe=!0}}if(oe)return oe=G,Le=Le(oe),G=Ne===""?"."+q(oe,0):Ne,A(Le)?(xe="",G!=null&&(xe=G.replace(V,"$&/")+"/"),U(Le,ie,xe,"",function(Pe){return Pe})):Le!=null&&(Y(Le)&&(Le=z(Le,xe+(!Le.key||oe&&oe.key===Le.key?"":(""+Le.key).replace(V,"$&/")+"/")+G)),ie.push(Le)),1;if(oe=0,Ne=Ne===""?".":Ne+":",A(G))for(var ge=0;ge<G.length;ge++){ce=G[ge];var he=Ne+q(ce,ge);oe+=U(ce,ie,xe,he,Le)}else if(he=g(G),typeof he=="function")for(G=he.call(G),ge=0;!(ce=G.next()).done;)ce=ce.value,he=Ne+q(ce,ge++),oe+=U(ce,ie,xe,he,Le);else if(ce==="object")throw ie=String(G),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return oe}function re(G,ie,xe){if(G==null)return G;var Ne=[],Le=0;return U(G,Ne,"","",function(ce){return ie.call(xe,ce,Le++)}),Ne}function ae(G){if(G._status===-1){var ie=G._result;ie=ie(),ie.then(function(xe){(G._status===0||G._status===-1)&&(G._status=1,G._result=xe)},function(xe){(G._status===0||G._status===-1)&&(G._status=2,G._result=xe)}),G._status===-1&&(G._status=0,G._result=ie)}if(G._status===1)return G._result.default;throw G._result}var se={current:null},X={transition:null},Q={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:X,ReactCurrentOwner:k};function te(){throw Error("act(...) is not supported in production builds of React.")}return Vt.Children={map:re,forEach:function(G,ie,xe){re(G,function(){ie.apply(this,arguments)},xe)},count:function(G){var ie=0;return re(G,function(){ie++}),ie},toArray:function(G){return re(G,function(ie){return ie})||[]},only:function(G){if(!Y(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Vt.Component=_,Vt.Fragment=r,Vt.Profiler=i,Vt.PureComponent=N,Vt.StrictMode=n,Vt.Suspense=c,Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Vt.act=te,Vt.cloneElement=function(G,ie,xe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Ne=w({},G.props),Le=G.key,ce=G.ref,oe=G._owner;if(ie!=null){if(ie.ref!==void 0&&(ce=ie.ref,oe=k.current),ie.key!==void 0&&(Le=""+ie.key),G.type&&G.type.defaultProps)var ge=G.type.defaultProps;for(he in ie)P.call(ie,he)&&!O.hasOwnProperty(he)&&(Ne[he]=ie[he]===void 0&&ge!==void 0?ge[he]:ie[he])}var he=arguments.length-2;if(he===1)Ne.children=xe;else if(1<he){ge=Array(he);for(var Pe=0;Pe<he;Pe++)ge[Pe]=arguments[Pe+2];Ne.children=ge}return{$$typeof:e,type:G.type,key:Le,ref:ce,props:Ne,_owner:oe}},Vt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Vt.createElement=I,Vt.createFactory=function(G){var ie=I.bind(null,G);return ie.type=G,ie},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(G){return{$$typeof:l,render:G}},Vt.isValidElement=Y,Vt.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:ae}},Vt.memo=function(G,ie){return{$$typeof:u,type:G,compare:ie===void 0?null:ie}},Vt.startTransition=function(G){var ie=X.transition;X.transition={};try{G()}finally{X.transition=ie}},Vt.unstable_act=te,Vt.useCallback=function(G,ie){return se.current.useCallback(G,ie)},Vt.useContext=function(G){return se.current.useContext(G)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(G){return se.current.useDeferredValue(G)},Vt.useEffect=function(G,ie){return se.current.useEffect(G,ie)},Vt.useId=function(){return se.current.useId()},Vt.useImperativeHandle=function(G,ie,xe){return se.current.useImperativeHandle(G,ie,xe)},Vt.useInsertionEffect=function(G,ie){return se.current.useInsertionEffect(G,ie)},Vt.useLayoutEffect=function(G,ie){return se.current.useLayoutEffect(G,ie)},Vt.useMemo=function(G,ie){return se.current.useMemo(G,ie)},Vt.useReducer=function(G,ie,xe){return se.current.useReducer(G,ie,xe)},Vt.useRef=function(G){return se.current.useRef(G)},Vt.useState=function(G){return se.current.useState(G)},Vt.useSyncExternalStore=function(G,ie,xe){return se.current.useSyncExternalStore(G,ie,xe)},Vt.useTransition=function(){return se.current.useTransition()},Vt.version="18.3.1",Vt}var JL;function Xw(){return JL||(JL=1,Yj.exports=Qte()),Yj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function Jte(){if(eD)return Fm;eD=1;var e=Xw(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var f,p={},g=null,v=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:t,type:l,key:g,ref:v,props:p,_owner:i.current}}return Fm.Fragment=r,Fm.jsx=o,Fm.jsxs=o,Fm}var tD;function ere(){return tD||(tD=1,Zj.exports=Jte()),Zj.exports}var a=ere(),x=Xw();const K=fr(x),iu=Xte({__proto__:null,default:K},[x]);var e0={},Xj={exports:{}},Wi={},Qj={exports:{}},Jj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD;function tre(){return rD||(rD=1,function(e){function t(X,Q){var te=X.length;X.push(Q);e:for(;0<te;){var G=te-1>>>1,ie=X[G];if(0<i(ie,Q))X[G]=Q,X[te]=ie,te=G;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var Q=X[0],te=X.pop();if(te!==Q){X[0]=te;e:for(var G=0,ie=X.length,xe=ie>>>1;G<xe;){var Ne=2*(G+1)-1,Le=X[Ne],ce=Ne+1,oe=X[ce];if(0>i(Le,te))ce<ie&&0>i(oe,Le)?(X[G]=oe,X[ce]=te,G=ce):(X[G]=Le,X[Ne]=te,G=Ne);else if(ce<ie&&0>i(oe,te))X[G]=oe,X[ce]=te,G=ce;else break e}}return Q}function i(X,Q){var te=X.sortIndex-Q.sortIndex;return te!==0?te:X.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,p=null,g=3,v=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(X){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=X)n(u),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=r(u)}}function A(X){if(y=!1,C(X),!w)if(r(c)!==null)w=!0,ae(P);else{var Q=r(u);Q!==null&&se(A,Q.startTime-X)}}function P(X,Q){w=!1,y&&(y=!1,S(I),I=-1),v=!0;var te=g;try{for(C(Q),p=r(c);p!==null&&(!(p.expirationTime>Q)||X&&!Z());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var ie=G(p.expirationTime<=Q);Q=e.unstable_now(),typeof ie=="function"?p.callback=ie:p===r(c)&&n(c),C(Q)}else n(c);p=r(c)}if(p!==null)var xe=!0;else{var Ne=r(u);Ne!==null&&se(A,Ne.startTime-Q),xe=!1}return xe}finally{p=null,g=te,v=!1}}var k=!1,O=null,I=-1,z=5,Y=-1;function Z(){return!(e.unstable_now()-Y<z)}function V(){if(O!==null){var X=e.unstable_now();Y=X;var Q=!0;try{Q=O(!0,X)}finally{Q?q():(k=!1,O=null)}}else k=!1}var q;if(typeof N=="function")q=function(){N(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,re=U.port2;U.port1.onmessage=V,q=function(){re.postMessage(null)}}else q=function(){_(V,0)};function ae(X){O=X,k||(k=!0,q())}function se(X,Q){I=_(function(){X(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,ae(P))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var te=g;g=Q;try{return X()}finally{g=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=g;g=X;try{return Q()}finally{g=te}},e.unstable_scheduleCallback=function(X,Q,te){var G=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?G+te:G):te=G,X){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=te+ie,X={id:f++,callback:Q,priorityLevel:X,startTime:te,expirationTime:ie,sortIndex:-1},te>G?(X.sortIndex=te,t(u,X),r(c)===null&&X===r(u)&&(y?(S(I),I=-1):y=!0,se(A,te-G))):(X.sortIndex=ie,t(c,X),w||v||(w=!0,ae(P))),X},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(X){var Q=g;return function(){var te=g;g=Q;try{return X.apply(this,arguments)}finally{g=te}}}}(Jj)),Jj}var nD;function rre(){return nD||(nD=1,Qj.exports=tre()),Qj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function nre(){if(iD)return Wi;iD=1;var e=Xw(),t=rre();function r(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,j=1;j<arguments.length;j++)m+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(d){return c.call(p,d)?!0:c.call(f,d)?!1:u.test(d)?p[d]=!0:(f[d]=!0,!1)}function v(d,m,j,T){if(j!==null&&j.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return T?!1:j!==null?!j.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function w(d,m,j,T){if(m===null||typeof m>"u"||v(d,m,j,T))return!0;if(T)return!1;if(j!==null)switch(j.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,j,T,M,$,ee){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=T,this.attributeNamespace=M,this.mustUseProperty=j,this.propertyName=d,this.type=m,this.sanitizeURL=$,this.removeEmptyString=ee}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];_[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function C(d,m,j,T){var M=_.hasOwnProperty(m)?_[m]:null;(M!==null?M.type!==0:T||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(w(m,j,M,T)&&(j=null),T||M===null?g(m)&&(j===null?d.removeAttribute(m):d.setAttribute(m,""+j)):M.mustUseProperty?d[M.propertyName]=j===null?M.type===3?!1:"":j:(m=M.attributeName,T=M.attributeNamespace,j===null?d.removeAttribute(m):(M=M.type,j=M===3||M===4&&j===!0?"":""+j,T?d.setAttributeNS(T,m,j):d.setAttribute(m,j))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),X=Symbol.iterator;function Q(d){return d===null||typeof d!="object"?null:(d=X&&d[X]||d["@@iterator"],typeof d=="function"?d:null)}var te=Object.assign,G;function ie(d){if(G===void 0)try{throw Error()}catch(j){var m=j.stack.trim().match(/\n( *(at )?)/);G=m&&m[1]||""}return`
`+G+d}var xe=!1;function Ne(d,m){if(!d||xe)return"";xe=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ie){var T=Ie}Reflect.construct(d,[],m)}else{try{m.call()}catch(Ie){T=Ie}d.call(m.prototype)}else{try{throw Error()}catch(Ie){T=Ie}d()}}catch(Ie){if(Ie&&T&&typeof Ie.stack=="string"){for(var M=Ie.stack.split(`
`),$=T.stack.split(`
`),ee=M.length-1,de=$.length-1;1<=ee&&0<=de&&M[ee]!==$[de];)de--;for(;1<=ee&&0<=de;ee--,de--)if(M[ee]!==$[de]){if(ee!==1||de!==1)do if(ee--,de--,0>de||M[ee]!==$[de]){var ve=`
`+M[ee].replace(" at new "," at ");return d.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",d.displayName)),ve}while(1<=ee&&0<=de);break}}}finally{xe=!1,Error.prepareStackTrace=j}return(d=d?d.displayName||d.name:"")?ie(d):""}function Le(d){switch(d.tag){case 5:return ie(d.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return d=Ne(d.type,!1),d;case 11:return d=Ne(d.type.render,!1),d;case 1:return d=Ne(d.type,!0),d;default:return""}}function ce(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case O:return"Fragment";case k:return"Portal";case z:return"Profiler";case I:return"StrictMode";case q:return"Suspense";case U:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case Z:return(d.displayName||"Context")+".Consumer";case Y:return(d._context.displayName||"Context")+".Provider";case V:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case re:return m=d.displayName||null,m!==null?m:ce(d.type)||"Memo";case ae:m=d._payload,d=d._init;try{return ce(d(m))}catch{}}return null}function oe(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ge(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function he(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Pe(d){var m=he(d)?"checked":"value",j=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),T=""+d[m];if(!d.hasOwnProperty(m)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var M=j.get,$=j.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return M.call(this)},set:function(ee){T=""+ee,$.call(this,ee)}}),Object.defineProperty(d,m,{enumerable:j.enumerable}),{getValue:function(){return T},setValue:function(ee){T=""+ee},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function J(d){d._valueTracker||(d._valueTracker=Pe(d))}function H(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var j=m.getValue(),T="";return d&&(T=he(d)?d.checked?"true":"false":d.value),d=T,d!==j?(m.setValue(d),!0):!1}function we(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function be(d,m){var j=m.checked;return te({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??d._wrapperState.initialChecked})}function Ve(d,m){var j=m.defaultValue==null?"":m.defaultValue,T=m.checked!=null?m.checked:m.defaultChecked;j=ge(m.value!=null?m.value:j),d._wrapperState={initialChecked:T,initialValue:j,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function qe(d,m){m=m.checked,m!=null&&C(d,"checked",m,!1)}function Se(d,m){qe(d,m);var j=ge(m.value),T=m.type;if(j!=null)T==="number"?(j===0&&d.value===""||d.value!=j)&&(d.value=""+j):d.value!==""+j&&(d.value=""+j);else if(T==="submit"||T==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?It(d,m.type,j):m.hasOwnProperty("defaultValue")&&It(d,m.type,ge(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function ot(d,m,j){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var T=m.type;if(!(T!=="submit"&&T!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,j||m===d.value||(d.value=m),d.defaultValue=m}j=d.name,j!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,j!==""&&(d.name=j)}function It(d,m,j){(m!=="number"||we(d.ownerDocument)!==d)&&(j==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+j&&(d.defaultValue=""+j))}var fe=Array.isArray;function _e(d,m,j,T){if(d=d.options,m){m={};for(var M=0;M<j.length;M++)m["$"+j[M]]=!0;for(j=0;j<d.length;j++)M=m.hasOwnProperty("$"+d[j].value),d[j].selected!==M&&(d[j].selected=M),M&&T&&(d[j].defaultSelected=!0)}else{for(j=""+ge(j),m=null,M=0;M<d.length;M++){if(d[M].value===j){d[M].selected=!0,T&&(d[M].defaultSelected=!0);return}m!==null||d[M].disabled||(m=d[M])}m!==null&&(m.selected=!0)}}function ke(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Ze(d,m){var j=m.value;if(j==null){if(j=m.children,m=m.defaultValue,j!=null){if(m!=null)throw Error(r(92));if(fe(j)){if(1<j.length)throw Error(r(93));j=j[0]}m=j}m==null&&(m=""),j=m}d._wrapperState={initialValue:ge(j)}}function Xe(d,m){var j=ge(m.value),T=ge(m.defaultValue);j!=null&&(j=""+j,j!==d.value&&(d.value=j),m.defaultValue==null&&d.defaultValue!==j&&(d.defaultValue=j)),T!=null&&(d.defaultValue=""+T)}function me(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function De(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?De(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var D,F=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,j,T,M){MSApp.execUnsafeLocalFunction(function(){return d(m,j,T,M)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(D=D||document.createElement("div"),D.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=D.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function le(d,m){if(m){var j=d.firstChild;if(j&&j===d.lastChild&&j.nodeType===3){j.nodeValue=m;return}}d.textContent=m}var ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];Object.keys(ye).forEach(function(d){Oe.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),ye[m]=ye[d]})});function $e(d,m,j){return m==null||typeof m=="boolean"||m===""?"":j||typeof m!="number"||m===0||ye.hasOwnProperty(d)&&ye[d]?(""+m).trim():m+"px"}function vt(d,m){d=d.style;for(var j in m)if(m.hasOwnProperty(j)){var T=j.indexOf("--")===0,M=$e(j,m[j],T);j==="float"&&(j="cssFloat"),T?d.setProperty(j,M):d[j]=M}}var ar=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bt(d,m){if(m){if(ar[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Yt(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ut=null;function Gl(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Vo=null,fa=null,is=null;function ss(d){if(d=rl(d)){if(typeof Vo!="function")throw Error(r(280));var m=d.stateNode;m&&(m=Tf(m),Vo(d.stateNode,d.type,m))}}function rf(d){fa?is?is.push(d):is=[d]:fa=d}function Nt(){if(fa){var d=fa,m=is;if(is=fa=null,ss(d),m)for(d=0;d<m.length;d++)ss(m[d])}}function tr(d,m){return d(m)}function yr(){}var Xn=!1;function Fn(d,m,j){if(Xn)return d(m,j);Xn=!0;try{return tr(d,m,j)}finally{Xn=!1,(fa!==null||is!==null)&&(yr(),Nt())}}function ai(d,m){var j=d.stateNode;if(j===null)return null;var T=Tf(j);if(T===null)return null;j=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(d=d.type,T=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!T;break e;default:d=!1}if(d)return null;if(j&&typeof j!="function")throw Error(r(231,m,typeof j));return j}var as=!1;if(l)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){as=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{as=!1}function Ds(d,m,j,T,M,$,ee,de,ve){var Ie=Array.prototype.slice.call(arguments,3);try{m.apply(j,Ie)}catch(He){this.onError(He)}}var oi=!1,ht=null,Su=!1,nf=null,zy={onError:function(d){oi=!0,ht=d}};function qy(d,m,j,T,M,$,ee,de,ve){oi=!1,ht=null,Ds.apply(zy,arguments)}function Yp(d,m,j,T,M,$,ee,de,ve){if(qy.apply(this,arguments),oi){if(oi){var Ie=ht;oi=!1,ht=null}else throw Error(r(198));Su||(Su=!0,nf=Ie)}}function eo(d){var m=d,j=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(j=m.return),d=m.return;while(d)}return m.tag===3?j:null}function Wo(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Xp(d){if(eo(d)!==d)throw Error(r(188))}function E1(d){var m=d.alternate;if(!m){if(m=eo(d),m===null)throw Error(r(188));return m!==d?null:d}for(var j=d,T=m;;){var M=j.return;if(M===null)break;var $=M.alternate;if($===null){if(T=M.return,T!==null){j=T;continue}break}if(M.child===$.child){for($=M.child;$;){if($===j)return Xp(M),d;if($===T)return Xp(M),m;$=$.sibling}throw Error(r(188))}if(j.return!==T.return)j=M,T=$;else{for(var ee=!1,de=M.child;de;){if(de===j){ee=!0,j=M,T=$;break}if(de===T){ee=!0,T=M,j=$;break}de=de.sibling}if(!ee){for(de=$.child;de;){if(de===j){ee=!0,j=$,T=M;break}if(de===T){ee=!0,T=$,j=M;break}de=de.sibling}if(!ee)throw Error(r(189))}}if(j.alternate!==T)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?d:m}function Uy(d){return d=E1(d),d!==null?Vy(d):null}function Vy(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Vy(d);if(m!==null)return m;d=d.sibling}return null}var Wy=t.unstable_scheduleCallback,Qp=t.unstable_cancelCallback,P1=t.unstable_shouldYield,sf=t.unstable_requestPaint,Yr=t.unstable_now,T1=t.unstable_getCurrentPriorityLevel,Jp=t.unstable_ImmediatePriority,Hy=t.unstable_UserBlockingPriority,af=t.unstable_NormalPriority,em=t.unstable_LowPriority,Zl=t.unstable_IdlePriority,Nu=null,os=null;function Cu(d){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Nu,d,void 0,(d.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Yl,Dr=Math.log,of=Math.LN2;function Yl(d){return d>>>=0,d===0?32:31-(Dr(d)/of|0)|0}var ha=64,Xl=4194304;function Pt(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function kr(d,m){var j=d.pendingLanes;if(j===0)return 0;var T=0,M=d.suspendedLanes,$=d.pingedLanes,ee=j&268435455;if(ee!==0){var de=ee&~M;de!==0?T=Pt(de):($&=ee,$!==0&&(T=Pt($)))}else ee=j&~M,ee!==0?T=Pt(ee):$!==0&&(T=Pt($));if(T===0)return 0;if(m!==0&&m!==T&&(m&M)===0&&(M=T&-T,$=m&-m,M>=$||M===16&&($&4194240)!==0))return m;if((T&4)!==0&&(T|=j&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=T;0<m;)j=31-kt(m),M=1<<j,T|=d[j],m&=~M;return T}function tm(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(d,m){for(var j=d.suspendedLanes,T=d.pingedLanes,M=d.expirationTimes,$=d.pendingLanes;0<$;){var ee=31-kt($),de=1<<ee,ve=M[ee];ve===-1?((de&j)===0||(de&T)!==0)&&(M[ee]=tm(de,m)):ve<=m&&(d.expiredLanes|=de),$&=~de}}function li(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Ky(){var d=ha;return ha<<=1,(ha&4194240)===0&&(ha=64),d}function Ql(d){for(var m=[],j=0;31>j;j++)m.push(d);return m}function ls(d,m,j){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-kt(m),d[m]=j}function nn(d,m){var j=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<j;){var M=31-kt(j),$=1<<M;m[M]=0,T[M]=-1,d[M]=-1,j&=~$}}function pa(d,m){var j=d.entangledLanes|=m;for(d=d.entanglements;j;){var T=31-kt(j),M=1<<T;M&m|d[T]&m&&(d[T]|=m),j&=~M}}var Xt=0;function Jl(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var cf,Ho,uf,df,Eu,Pu=!1,ec=[],cs=null,ma=null,$s=null,Tu=new Map,Ct=new Map,Cn=[],br="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rm(d,m){switch(d){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Tu.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(m.pointerId)}}function Ko(d,m,j,T,M,$){return d===null||d.nativeEvent!==$?(d={blockedOn:m,domEventName:j,eventSystemFlags:T,nativeEvent:$,targetContainers:[M]},m!==null&&(m=rl(m),m!==null&&Ho(m)),d):(d.eventSystemFlags|=T,m=d.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),d)}function nm(d,m,j,T,M){switch(m){case"focusin":return cs=Ko(cs,d,m,j,T,M),!0;case"dragenter":return ma=Ko(ma,d,m,j,T,M),!0;case"mouseover":return $s=Ko($s,d,m,j,T,M),!0;case"pointerover":var $=M.pointerId;return Tu.set($,Ko(Tu.get($)||null,d,m,j,T,M)),!0;case"gotpointercapture":return $=M.pointerId,Ct.set($,Ko(Ct.get($)||null,d,m,j,T,M)),!0}return!1}function ff(d){var m=tl(d.target);if(m!==null){var j=eo(m);if(j!==null){if(m=j.tag,m===13){if(m=Wo(j),m!==null){d.blockedOn=m,Eu(d.priority,function(){uf(j)});return}}else if(m===3&&j.stateNode.current.memoizedState.isDehydrated){d.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Fs(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var j=mf(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(j===null){j=d.nativeEvent;var T=new j.constructor(j.type,j);Ut=T,j.target.dispatchEvent(T),Ut=null}else return m=rl(j),m!==null&&Ho(m),d.blockedOn=j,!1;m.shift()}return!0}function hf(d,m,j){Fs(d)&&j.delete(m)}function Au(){Pu=!1,cs!==null&&Fs(cs)&&(cs=null),ma!==null&&Fs(ma)&&(ma=null),$s!==null&&Fs($s)&&($s=null),Tu.forEach(hf),Ct.forEach(hf)}function Xr(d,m){d.blockedOn===m&&(d.blockedOn=null,Pu||(Pu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Au)))}function us(d){function m(M){return Xr(M,d)}if(0<ec.length){Xr(ec[0],d);for(var j=1;j<ec.length;j++){var T=ec[j];T.blockedOn===d&&(T.blockedOn=null)}}for(cs!==null&&Xr(cs,d),ma!==null&&Xr(ma,d),$s!==null&&Xr($s,d),Tu.forEach(m),Ct.forEach(m),j=0;j<Cn.length;j++)T=Cn[j],T.blockedOn===d&&(T.blockedOn=null);for(;0<Cn.length&&(j=Cn[0],j.blockedOn===null);)ff(j),j.blockedOn===null&&Cn.shift()}var Go=A.ReactCurrentBatchConfig,ku=!0;function A1(d,m,j,T){var M=Xt,$=Go.transition;Go.transition=null;try{Xt=1,Ou(d,m,j,T)}finally{Xt=M,Go.transition=$}}function Gy(d,m,j,T){var M=Xt,$=Go.transition;Go.transition=null;try{Xt=4,Ou(d,m,j,T)}finally{Xt=M,Go.transition=$}}function Ou(d,m,j,T){if(ku){var M=mf(d,m,j,T);if(M===null)h(d,m,T,pf,j),rm(d,T);else if(nm(M,d,m,j,T))T.stopPropagation();else if(rm(d,T),m&4&&-1<br.indexOf(d)){for(;M!==null;){var $=rl(M);if($!==null&&cf($),$=mf(d,m,j,T),$===null&&h(d,m,T,pf,j),$===M)break;M=$}M!==null&&T.stopPropagation()}else h(d,m,T,null,j)}}var pf=null;function mf(d,m,j,T){if(pf=null,d=Gl(T),d=tl(d),d!==null)if(m=eo(d),m===null)d=null;else if(j=m.tag,j===13){if(d=Wo(m),d!==null)return d;d=null}else if(j===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return pf=d,null}function Kt(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T1()){case Jp:return 1;case Hy:return 4;case af:case em:return 16;case Zl:return 536870912;default:return 16}default:return 16}}var to=null,Si=null,ro=null;function im(){if(ro)return ro;var d,m=Si,j=m.length,T,M="value"in to?to.value:to.textContent,$=M.length;for(d=0;d<j&&m[d]===M[d];d++);var ee=j-d;for(T=1;T<=ee&&m[j-T]===M[$-T];T++);return ro=M.slice(d,1<T?1-T:void 0)}function gf(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function tc(){return!0}function Zy(){return!1}function ci(d){function m(j,T,M,$,ee){this._reactName=j,this._targetInst=M,this.type=T,this.nativeEvent=$,this.target=ee,this.currentTarget=null;for(var de in d)d.hasOwnProperty(de)&&(j=d[de],this[de]=j?j($):$[de]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?tc:Zy,this.isPropagationStopped=Zy,this}return te(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),m}var rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sm=ci(rc),Zo=te({},rc,{view:0,detail:0}),k1=ci(Zo),$i,am,nc,ds=te({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==nc&&(nc&&d.type==="mousemove"?($i=d.screenX-nc.screenX,am=d.screenY-nc.screenY):am=$i=0,nc=d),$i)},movementY:function(d){return"movementY"in d?d.movementY:am}}),om=ci(ds),Yy=te({},ds,{dataTransfer:0}),lm=ci(Yy),O1=te({},Zo,{relatedTarget:0}),vf=ci(O1),Xy=te({},rc,{animationName:0,elapsedTime:0,pseudoElement:0}),R1=ci(Xy),M1=te({},rc,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),cm=ci(M1),I1=te({},rc,{data:0}),um=ci(I1),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L1(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=Yo[d])?!!m[d]:!1}function Xo(){return L1}var Fi=te({},Zo,{key:function(d){if(d.key){var m=Qy[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=gf(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?yf[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(d){return d.type==="keypress"?gf(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?gf(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Jy=ci(Fi),ex=te({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=ci(ex),dm=te({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),fm=ci(dm),D1=te({},rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$1=ci(D1),rx=te({},ds,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),F1=ci(rx),fs=[9,13,27,32],no=l&&"CompositionEvent"in window,Ru=null;l&&"documentMode"in document&&(Ru=document.documentMode);var ga=l&&"TextEvent"in window&&!Ru,nx=l&&(!no||Ru&&8<Ru&&11>=Ru),Qo=" ",ix=!1;function ic(d,m){switch(d){case"keyup":return fs.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var va=!1;function B1(d,m){switch(d){case"compositionend":return hm(m);case"keypress":return m.which!==32?null:(ix=!0,Qo);case"textInput":return d=m.data,d===Qo&&ix?null:d;default:return null}}function io(d,m){if(va)return d==="compositionend"||!no&&ic(d,m)?(d=im(),ro=Si=to=null,va=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return nx&&m.locale!=="ko"?null:m.data;default:return null}}var xf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!xf[d.type]:m==="textarea"}function bf(d,m,j,T){rf(T),m=E(m,"onChange"),0<m.length&&(j=new sm("onChange","change",null,j,T),d.push({event:j,listeners:m}))}var Mu=null,Ni=null;function z1(d){_m(d,0)}function ya(d){var m=nl(d);if(H(m))return d}function q1(d,m){if(d==="change")return m}var Bs=!1;if(l){var sc;if(l){var wf="oninput"in document;if(!wf){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),wf=typeof _f.oninput=="function"}sc=wf}else sc=!1;Bs=sc&&(!document.documentMode||9<document.documentMode)}function Iu(){Mu&&(Mu.detachEvent("onpropertychange",jf),Ni=Mu=null)}function jf(d){if(d.propertyName==="value"&&ya(Ni)){var m=[];bf(m,Ni,d,Gl(d)),Fn(z1,m)}}function Sf(d,m,j){d==="focusin"?(Iu(),Mu=m,Ni=j,Mu.attachEvent("onpropertychange",jf)):d==="focusout"&&Iu()}function ac(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return ya(Ni)}function Nf(d,m){if(d==="click")return ya(m)}function pm(d,m){if(d==="input"||d==="change")return ya(m)}function ax(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var hs=typeof Object.is=="function"?Object.is:ax;function so(d,m){if(hs(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var j=Object.keys(d),T=Object.keys(m);if(j.length!==T.length)return!1;for(T=0;T<j.length;T++){var M=j[T];if(!c.call(m,M)||!hs(d[M],m[M]))return!1}return!0}function ox(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function mm(d,m){var j=ox(d);d=0;for(var T;j;){if(j.nodeType===3){if(T=d+j.textContent.length,d<=m&&T>=m)return{node:j,offset:m-d};d=T}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=ox(j)}}function lx(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?lx(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function gm(){for(var d=window,m=we();m instanceof d.HTMLIFrameElement;){try{var j=typeof m.contentWindow.location.href=="string"}catch{j=!1}if(j)d=m.contentWindow;else break;m=we(d.document)}return m}function vm(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function zs(d){var m=gm(),j=d.focusedElem,T=d.selectionRange;if(m!==j&&j&&j.ownerDocument&&lx(j.ownerDocument.documentElement,j)){if(T!==null&&vm(j)){if(m=T.start,d=T.end,d===void 0&&(d=m),"selectionStart"in j)j.selectionStart=m,j.selectionEnd=Math.min(d,j.value.length);else if(d=(m=j.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var M=j.textContent.length,$=Math.min(T.start,M);T=T.end===void 0?$:Math.min(T.end,M),!d.extend&&$>T&&(M=T,T=$,$=M),M=mm(j,$);var ee=mm(j,T);M&&ee&&(d.rangeCount!==1||d.anchorNode!==M.node||d.anchorOffset!==M.offset||d.focusNode!==ee.node||d.focusOffset!==ee.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),d.removeAllRanges(),$>T?(d.addRange(m),d.extend(ee.node,ee.offset)):(m.setEnd(ee.node,ee.offset),d.addRange(m)))}}for(m=[],d=j;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<m.length;j++)d=m[j],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Cf=l&&"documentMode"in document&&11>=document.documentMode,oc=null,lc=null,Lu=null,Ef=!1;function cx(d,m,j){var T=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Ef||oc==null||oc!==we(T)||(T=oc,"selectionStart"in T&&vm(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Lu&&so(Lu,T)||(Lu=T,T=E(lc,"onSelect"),0<T.length&&(m=new sm("onSelect","select",null,m,j),d.push({event:m,listeners:T}),m.target=oc)))}function ao(d,m){var j={};return j[d.toLowerCase()]=m.toLowerCase(),j["Webkit"+d]="webkit"+m,j["Moz"+d]="moz"+m,j}var cc={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},oo={},ym={};l&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function Du(d){if(oo[d])return oo[d];if(!cc[d])return d;var m=cc[d],j;for(j in m)if(m.hasOwnProperty(j)&&j in ym)return oo[d]=m[j];return d}var ux=Du("animationend"),qs=Du("animationiteration"),xm=Du("animationstart"),bm=Du("transitionend"),uc=new Map,dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(d,m){uc.set(d,m),s(m,[d])}for(var Jo=0;Jo<dx.length;Jo++){var Pf=dx[Jo],fx=Pf.toLowerCase(),U1=Pf[0].toUpperCase()+Pf.slice(1);ps(fx,"on"+U1)}ps(ux,"onAnimationEnd"),ps(qs,"onAnimationIteration"),ps(xm,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(bm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function wm(d,m,j){var T=d.type||"unknown-event";d.currentTarget=j,Yp(T,m,void 0,d),d.currentTarget=null}function _m(d,m){m=(m&4)!==0;for(var j=0;j<d.length;j++){var T=d[j],M=T.event;T=T.listeners;e:{var $=void 0;if(m)for(var ee=T.length-1;0<=ee;ee--){var de=T[ee],ve=de.instance,Ie=de.currentTarget;if(de=de.listener,ve!==$&&M.isPropagationStopped())break e;wm(M,de,Ie),$=ve}else for(ee=0;ee<T.length;ee++){if(de=T[ee],ve=de.instance,Ie=de.currentTarget,de=de.listener,ve!==$&&M.isPropagationStopped())break e;wm(M,de,Ie),$=ve}}}if(Su)throw d=nf,Su=!1,nf=null,d}function wr(d,m){var j=m[mc];j===void 0&&(j=m[mc]=new Set);var T=d+"__bubble";j.has(T)||(px(m,d,2,!1),j.add(T))}function jm(d,m,j){var T=0;m&&(T|=4),px(j,d,T,m)}var $u="_reactListening"+Math.random().toString(36).slice(2);function fc(d){if(!d[$u]){d[$u]=!0,n.forEach(function(j){j!=="selectionchange"&&(hx.has(j)||jm(j,!1,d),jm(j,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[$u]||(m[$u]=!0,jm("selectionchange",!1,m))}}function px(d,m,j,T){switch(Kt(m)){case 1:var M=A1;break;case 4:M=Gy;break;default:M=Ou}j=M.bind(null,m,j,d),M=void 0,!as||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),T?M!==void 0?d.addEventListener(m,j,{capture:!0,passive:M}):d.addEventListener(m,j,!0):M!==void 0?d.addEventListener(m,j,{passive:M}):d.addEventListener(m,j,!1)}function h(d,m,j,T,M){var $=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var ee=T.tag;if(ee===3||ee===4){var de=T.stateNode.containerInfo;if(de===M||de.nodeType===8&&de.parentNode===M)break;if(ee===4)for(ee=T.return;ee!==null;){var ve=ee.tag;if((ve===3||ve===4)&&(ve=ee.stateNode.containerInfo,ve===M||ve.nodeType===8&&ve.parentNode===M))return;ee=ee.return}for(;de!==null;){if(ee=tl(de),ee===null)return;if(ve=ee.tag,ve===5||ve===6){T=$=ee;continue e}de=de.parentNode}}T=T.return}Fn(function(){var Ie=$,He=Gl(j),Ye=[];e:{var We=uc.get(d);if(We!==void 0){var st=sm,ut=d;switch(d){case"keypress":if(gf(j)===0)break e;case"keydown":case"keyup":st=Jy;break;case"focusin":ut="focus",st=vf;break;case"focusout":ut="blur",st=vf;break;case"beforeblur":case"afterblur":st=vf;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=fm;break;case ux:case qs:case xm:st=R1;break;case bm:st=$1;break;case"scroll":st=k1;break;case"wheel":st=F1;break;case"copy":case"cut":case"paste":st=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=tx}var ft=(m&4)!==0,cn=!ft&&d==="scroll",Te=ft?We!==null?We+"Capture":null:We;ft=[];for(var je=Ie,Ae;je!==null;){Ae=je;var Qe=Ae.stateNode;if(Ae.tag===5&&Qe!==null&&(Ae=Qe,Te!==null&&(Qe=ai(je,Te),Qe!=null&&ft.push(b(je,Qe,Ae)))),cn)break;je=je.return}0<ft.length&&(We=new st(We,ut,null,j,He),Ye.push({event:We,listeners:ft}))}}if((m&7)===0){e:{if(We=d==="mouseover"||d==="pointerover",st=d==="mouseout"||d==="pointerout",We&&j!==Ut&&(ut=j.relatedTarget||j.fromElement)&&(tl(ut)||ut[hr]))break e;if((st||We)&&(We=He.window===He?He:(We=He.ownerDocument)?We.defaultView||We.parentWindow:window,st?(ut=j.relatedTarget||j.toElement,st=Ie,ut=ut?tl(ut):null,ut!==null&&(cn=eo(ut),ut!==cn||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(st=null,ut=Ie),st!==ut)){if(ft=om,Qe="onMouseLeave",Te="onMouseEnter",je="mouse",(d==="pointerout"||d==="pointerover")&&(ft=tx,Qe="onPointerLeave",Te="onPointerEnter",je="pointer"),cn=st==null?We:nl(st),Ae=ut==null?We:nl(ut),We=new ft(Qe,je+"leave",st,j,He),We.target=cn,We.relatedTarget=Ae,Qe=null,tl(He)===Ie&&(ft=new ft(Te,je+"enter",ut,j,He),ft.target=Ae,ft.relatedTarget=cn,Qe=ft),cn=Qe,st&&ut)t:{for(ft=st,Te=ut,je=0,Ae=ft;Ae;Ae=R(Ae))je++;for(Ae=0,Qe=Te;Qe;Qe=R(Qe))Ae++;for(;0<je-Ae;)ft=R(ft),je--;for(;0<Ae-je;)Te=R(Te),Ae--;for(;je--;){if(ft===Te||Te!==null&&ft===Te.alternate)break t;ft=R(ft),Te=R(Te)}ft=null}else ft=null;st!==null&&B(Ye,We,st,ft,!1),ut!==null&&cn!==null&&B(Ye,cn,ut,ft,!0)}}e:{if(We=Ie?nl(Ie):window,st=We.nodeName&&We.nodeName.toLowerCase(),st==="select"||st==="input"&&We.type==="file")var mt=q1;else if(sx(We))if(Bs)mt=pm;else{mt=ac;var bt=Sf}else(st=We.nodeName)&&st.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(mt=Nf);if(mt&&(mt=mt(d,Ie))){bf(Ye,mt,j,He);break e}bt&&bt(d,We,Ie),d==="focusout"&&(bt=We._wrapperState)&&bt.controlled&&We.type==="number"&&It(We,"number",We.value)}switch(bt=Ie?nl(Ie):window,d){case"focusin":(sx(bt)||bt.contentEditable==="true")&&(oc=bt,lc=Ie,Lu=null);break;case"focusout":Lu=lc=oc=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,cx(Ye,j,He);break;case"selectionchange":if(Cf)break;case"keydown":case"keyup":cx(Ye,j,He)}var wt;if(no)e:{switch(d){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else va?ic(d,j)&&(Et="onCompositionEnd"):d==="keydown"&&j.keyCode===229&&(Et="onCompositionStart");Et&&(nx&&j.locale!=="ko"&&(va||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&va&&(wt=im()):(to=He,Si="value"in to?to.value:to.textContent,va=!0)),bt=E(Ie,Et),0<bt.length&&(Et=new um(Et,d,null,j,He),Ye.push({event:Et,listeners:bt}),wt?Et.data=wt:(wt=hm(j),wt!==null&&(Et.data=wt)))),(wt=ga?B1(d,j):io(d,j))&&(Ie=E(Ie,"onBeforeInput"),0<Ie.length&&(He=new um("onBeforeInput","beforeinput",null,j,He),Ye.push({event:He,listeners:Ie}),He.data=wt))}_m(Ye,m)})}function b(d,m,j){return{instance:d,listener:m,currentTarget:j}}function E(d,m){for(var j=m+"Capture",T=[];d!==null;){var M=d,$=M.stateNode;M.tag===5&&$!==null&&(M=$,$=ai(d,j),$!=null&&T.unshift(b(d,$,M)),$=ai(d,m),$!=null&&T.push(b(d,$,M))),d=d.return}return T}function R(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function B(d,m,j,T,M){for(var $=m._reactName,ee=[];j!==null&&j!==T;){var de=j,ve=de.alternate,Ie=de.stateNode;if(ve!==null&&ve===T)break;de.tag===5&&Ie!==null&&(de=Ie,M?(ve=ai(j,$),ve!=null&&ee.unshift(b(j,ve,de))):M||(ve=ai(j,$),ve!=null&&ee.push(b(j,ve,de)))),j=j.return}ee.length!==0&&d.push({event:m,listeners:ee})}var ne=/\r\n?/g,pe=/\u0000|\uFFFD/g;function Ee(d){return(typeof d=="string"?d:""+d).replace(ne,`
`).replace(pe,"")}function Me(d,m,j){if(m=Ee(m),Ee(d)!==m&&j)throw Error(r(425))}function ze(){}var nt=null,yt=null;function Lt(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var En=typeof setTimeout=="function"?setTimeout:void 0,mn=typeof clearTimeout=="function"?clearTimeout:void 0,Ci=typeof Promise=="function"?Promise:void 0,ui=typeof queueMicrotask=="function"?queueMicrotask:typeof Ci<"u"?function(d){return Ci.resolve(null).then(d).catch(hc)}:En;function hc(d){setTimeout(function(){throw d})}function Sm(d,m){var j=m,T=0;do{var M=j.nextSibling;if(d.removeChild(j),M&&M.nodeType===8)if(j=M.data,j==="/$"){if(T===0){d.removeChild(M),us(m);return}T--}else j!=="$"&&j!=="$?"&&j!=="$!"||T++;j=M}while(j);us(m)}function lo(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function mx(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var j=d.data;if(j==="$"||j==="$!"||j==="$?"){if(m===0)return d;m--}else j==="/$"&&m++}d=d.previousSibling}return null}var el=Math.random().toString(36).slice(2),Us="__reactFiber$"+el,pc="__reactProps$"+el,hr="__reactContainer$"+el,mc="__reactEvents$"+el,V1="__reactListeners$"+el,W1="__reactHandles$"+el;function tl(d){var m=d[Us];if(m)return m;for(var j=d.parentNode;j;){if(m=j[hr]||j[Us]){if(j=m.alternate,m.child!==null||j!==null&&j.child!==null)for(d=mx(d);d!==null;){if(j=d[Us])return j;d=mx(d)}return m}d=j,j=d.parentNode}return null}function rl(d){return d=d[Us]||d[hr],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function nl(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Tf(d){return d[pc]||null}var H1=[],Af=-1;function gc(d){return{current:d}}function $r(d){0>Af||(d.current=H1[Af],H1[Af]=null,Af--)}function Or(d,m){Af++,H1[Af]=d.current,d.current=m}var vc={},di=gc(vc),Bi=gc(!1),Fu=vc;function kf(d,m){var j=d.type.contextTypes;if(!j)return vc;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var M={},$;for($ in j)M[$]=m[$];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=M),M}function zi(d){return d=d.childContextTypes,d!=null}function gx(){$r(Bi),$r(di)}function bI(d,m,j){if(di.current!==vc)throw Error(r(168));Or(di,m),Or(Bi,j)}function wI(d,m,j){var T=d.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return j;T=T.getChildContext();for(var M in T)if(!(M in m))throw Error(r(108,oe(d)||"Unknown",M));return te({},j,T)}function vx(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||vc,Fu=di.current,Or(di,d),Or(Bi,Bi.current),!0}function _I(d,m,j){var T=d.stateNode;if(!T)throw Error(r(169));j?(d=wI(d,m,Fu),T.__reactInternalMemoizedMergedChildContext=d,$r(Bi),$r(di),Or(di,d)):$r(Bi),Or(Bi,j)}var il=null,yx=!1,K1=!1;function jI(d){il===null?il=[d]:il.push(d)}function gte(d){yx=!0,jI(d)}function yc(){if(!K1&&il!==null){K1=!0;var d=0,m=Xt;try{var j=il;for(Xt=1;d<j.length;d++){var T=j[d];do T=T(!0);while(T!==null)}il=null,yx=!1}catch(M){throw il!==null&&(il=il.slice(d+1)),Wy(Jp,yc),M}finally{Xt=m,K1=!1}}return null}var Of=[],Rf=0,xx=null,bx=0,Vs=[],Ws=0,Bu=null,sl=1,al="";function zu(d,m){Of[Rf++]=bx,Of[Rf++]=xx,xx=d,bx=m}function SI(d,m,j){Vs[Ws++]=sl,Vs[Ws++]=al,Vs[Ws++]=Bu,Bu=d;var T=sl;d=al;var M=32-kt(T)-1;T&=~(1<<M),j+=1;var $=32-kt(m)+M;if(30<$){var ee=M-M%5;$=(T&(1<<ee)-1).toString(32),T>>=ee,M-=ee,sl=1<<32-kt(m)+M|j<<M|T,al=$+d}else sl=1<<$|j<<M|T,al=d}function G1(d){d.return!==null&&(zu(d,1),SI(d,1,0))}function Z1(d){for(;d===xx;)xx=Of[--Rf],Of[Rf]=null,bx=Of[--Rf],Of[Rf]=null;for(;d===Bu;)Bu=Vs[--Ws],Vs[Ws]=null,al=Vs[--Ws],Vs[Ws]=null,sl=Vs[--Ws],Vs[Ws]=null}var ms=null,gs=null,Hr=!1,xa=null;function NI(d,m){var j=Zs(5,null,null,0);j.elementType="DELETED",j.stateNode=m,j.return=d,m=d.deletions,m===null?(d.deletions=[j],d.flags|=16):m.push(j)}function CI(d,m){switch(d.tag){case 5:var j=d.type;return m=m.nodeType!==1||j.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,ms=d,gs=lo(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,ms=d,gs=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(j=Bu!==null?{id:sl,overflow:al}:null,d.memoizedState={dehydrated:m,treeContext:j,retryLane:1073741824},j=Zs(18,null,null,0),j.stateNode=m,j.return=d,d.child=j,ms=d,gs=null,!0):!1;default:return!1}}function Y1(d){return(d.mode&1)!==0&&(d.flags&128)===0}function X1(d){if(Hr){var m=gs;if(m){var j=m;if(!CI(d,m)){if(Y1(d))throw Error(r(418));m=lo(j.nextSibling);var T=ms;m&&CI(d,m)?NI(T,j):(d.flags=d.flags&-4097|2,Hr=!1,ms=d)}}else{if(Y1(d))throw Error(r(418));d.flags=d.flags&-4097|2,Hr=!1,ms=d}}}function EI(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ms=d}function wx(d){if(d!==ms)return!1;if(!Hr)return EI(d),Hr=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Lt(d.type,d.memoizedProps)),m&&(m=gs)){if(Y1(d))throw PI(),Error(r(418));for(;m;)NI(d,m),m=lo(m.nextSibling)}if(EI(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var j=d.data;if(j==="/$"){if(m===0){gs=lo(d.nextSibling);break e}m--}else j!=="$"&&j!=="$!"&&j!=="$?"||m++}d=d.nextSibling}gs=null}}else gs=ms?lo(d.stateNode.nextSibling):null;return!0}function PI(){for(var d=gs;d;)d=lo(d.nextSibling)}function Mf(){gs=ms=null,Hr=!1}function Q1(d){xa===null?xa=[d]:xa.push(d)}var vte=A.ReactCurrentBatchConfig;function Nm(d,m,j){if(d=j.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(r(309));var T=j.stateNode}if(!T)throw Error(r(147,d));var M=T,$=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(ee){var de=M.refs;ee===null?delete de[$]:de[$]=ee},m._stringRef=$,m)}if(typeof d!="string")throw Error(r(284));if(!j._owner)throw Error(r(290,d))}return d}function _x(d,m){throw d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function TI(d){var m=d._init;return m(d._payload)}function AI(d){function m(Te,je){if(d){var Ae=Te.deletions;Ae===null?(Te.deletions=[je],Te.flags|=16):Ae.push(je)}}function j(Te,je){if(!d)return null;for(;je!==null;)m(Te,je),je=je.sibling;return null}function T(Te,je){for(Te=new Map;je!==null;)je.key!==null?Te.set(je.key,je):Te.set(je.index,je),je=je.sibling;return Te}function M(Te,je){return Te=Cc(Te,je),Te.index=0,Te.sibling=null,Te}function $(Te,je,Ae){return Te.index=Ae,d?(Ae=Te.alternate,Ae!==null?(Ae=Ae.index,Ae<je?(Te.flags|=2,je):Ae):(Te.flags|=2,je)):(Te.flags|=1048576,je)}function ee(Te){return d&&Te.alternate===null&&(Te.flags|=2),Te}function de(Te,je,Ae,Qe){return je===null||je.tag!==6?(je=Uj(Ae,Te.mode,Qe),je.return=Te,je):(je=M(je,Ae),je.return=Te,je)}function ve(Te,je,Ae,Qe){var mt=Ae.type;return mt===O?He(Te,je,Ae.props.children,Qe,Ae.key):je!==null&&(je.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ae&&TI(mt)===je.type)?(Qe=M(je,Ae.props),Qe.ref=Nm(Te,je,Ae),Qe.return=Te,Qe):(Qe=Hx(Ae.type,Ae.key,Ae.props,null,Te.mode,Qe),Qe.ref=Nm(Te,je,Ae),Qe.return=Te,Qe)}function Ie(Te,je,Ae,Qe){return je===null||je.tag!==4||je.stateNode.containerInfo!==Ae.containerInfo||je.stateNode.implementation!==Ae.implementation?(je=Vj(Ae,Te.mode,Qe),je.return=Te,je):(je=M(je,Ae.children||[]),je.return=Te,je)}function He(Te,je,Ae,Qe,mt){return je===null||je.tag!==7?(je=Zu(Ae,Te.mode,Qe,mt),je.return=Te,je):(je=M(je,Ae),je.return=Te,je)}function Ye(Te,je,Ae){if(typeof je=="string"&&je!==""||typeof je=="number")return je=Uj(""+je,Te.mode,Ae),je.return=Te,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case P:return Ae=Hx(je.type,je.key,je.props,null,Te.mode,Ae),Ae.ref=Nm(Te,null,je),Ae.return=Te,Ae;case k:return je=Vj(je,Te.mode,Ae),je.return=Te,je;case ae:var Qe=je._init;return Ye(Te,Qe(je._payload),Ae)}if(fe(je)||Q(je))return je=Zu(je,Te.mode,Ae,null),je.return=Te,je;_x(Te,je)}return null}function We(Te,je,Ae,Qe){var mt=je!==null?je.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return mt!==null?null:de(Te,je,""+Ae,Qe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case P:return Ae.key===mt?ve(Te,je,Ae,Qe):null;case k:return Ae.key===mt?Ie(Te,je,Ae,Qe):null;case ae:return mt=Ae._init,We(Te,je,mt(Ae._payload),Qe)}if(fe(Ae)||Q(Ae))return mt!==null?null:He(Te,je,Ae,Qe,null);_x(Te,Ae)}return null}function st(Te,je,Ae,Qe,mt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Te=Te.get(Ae)||null,de(je,Te,""+Qe,mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case P:return Te=Te.get(Qe.key===null?Ae:Qe.key)||null,ve(je,Te,Qe,mt);case k:return Te=Te.get(Qe.key===null?Ae:Qe.key)||null,Ie(je,Te,Qe,mt);case ae:var bt=Qe._init;return st(Te,je,Ae,bt(Qe._payload),mt)}if(fe(Qe)||Q(Qe))return Te=Te.get(Ae)||null,He(je,Te,Qe,mt,null);_x(je,Qe)}return null}function ut(Te,je,Ae,Qe){for(var mt=null,bt=null,wt=je,Et=je=0,qn=null;wt!==null&&Et<Ae.length;Et++){wt.index>Et?(qn=wt,wt=null):qn=wt.sibling;var or=We(Te,wt,Ae[Et],Qe);if(or===null){wt===null&&(wt=qn);break}d&&wt&&or.alternate===null&&m(Te,wt),je=$(or,je,Et),bt===null?mt=or:bt.sibling=or,bt=or,wt=qn}if(Et===Ae.length)return j(Te,wt),Hr&&zu(Te,Et),mt;if(wt===null){for(;Et<Ae.length;Et++)wt=Ye(Te,Ae[Et],Qe),wt!==null&&(je=$(wt,je,Et),bt===null?mt=wt:bt.sibling=wt,bt=wt);return Hr&&zu(Te,Et),mt}for(wt=T(Te,wt);Et<Ae.length;Et++)qn=st(wt,Te,Et,Ae[Et],Qe),qn!==null&&(d&&qn.alternate!==null&&wt.delete(qn.key===null?Et:qn.key),je=$(qn,je,Et),bt===null?mt=qn:bt.sibling=qn,bt=qn);return d&&wt.forEach(function(Ec){return m(Te,Ec)}),Hr&&zu(Te,Et),mt}function ft(Te,je,Ae,Qe){var mt=Q(Ae);if(typeof mt!="function")throw Error(r(150));if(Ae=mt.call(Ae),Ae==null)throw Error(r(151));for(var bt=mt=null,wt=je,Et=je=0,qn=null,or=Ae.next();wt!==null&&!or.done;Et++,or=Ae.next()){wt.index>Et?(qn=wt,wt=null):qn=wt.sibling;var Ec=We(Te,wt,or.value,Qe);if(Ec===null){wt===null&&(wt=qn);break}d&&wt&&Ec.alternate===null&&m(Te,wt),je=$(Ec,je,Et),bt===null?mt=Ec:bt.sibling=Ec,bt=Ec,wt=qn}if(or.done)return j(Te,wt),Hr&&zu(Te,Et),mt;if(wt===null){for(;!or.done;Et++,or=Ae.next())or=Ye(Te,or.value,Qe),or!==null&&(je=$(or,je,Et),bt===null?mt=or:bt.sibling=or,bt=or);return Hr&&zu(Te,Et),mt}for(wt=T(Te,wt);!or.done;Et++,or=Ae.next())or=st(wt,Te,Et,or.value,Qe),or!==null&&(d&&or.alternate!==null&&wt.delete(or.key===null?Et:or.key),je=$(or,je,Et),bt===null?mt=or:bt.sibling=or,bt=or);return d&&wt.forEach(function(Yte){return m(Te,Yte)}),Hr&&zu(Te,Et),mt}function cn(Te,je,Ae,Qe){if(typeof Ae=="object"&&Ae!==null&&Ae.type===O&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case P:e:{for(var mt=Ae.key,bt=je;bt!==null;){if(bt.key===mt){if(mt=Ae.type,mt===O){if(bt.tag===7){j(Te,bt.sibling),je=M(bt,Ae.props.children),je.return=Te,Te=je;break e}}else if(bt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ae&&TI(mt)===bt.type){j(Te,bt.sibling),je=M(bt,Ae.props),je.ref=Nm(Te,bt,Ae),je.return=Te,Te=je;break e}j(Te,bt);break}else m(Te,bt);bt=bt.sibling}Ae.type===O?(je=Zu(Ae.props.children,Te.mode,Qe,Ae.key),je.return=Te,Te=je):(Qe=Hx(Ae.type,Ae.key,Ae.props,null,Te.mode,Qe),Qe.ref=Nm(Te,je,Ae),Qe.return=Te,Te=Qe)}return ee(Te);case k:e:{for(bt=Ae.key;je!==null;){if(je.key===bt)if(je.tag===4&&je.stateNode.containerInfo===Ae.containerInfo&&je.stateNode.implementation===Ae.implementation){j(Te,je.sibling),je=M(je,Ae.children||[]),je.return=Te,Te=je;break e}else{j(Te,je);break}else m(Te,je);je=je.sibling}je=Vj(Ae,Te.mode,Qe),je.return=Te,Te=je}return ee(Te);case ae:return bt=Ae._init,cn(Te,je,bt(Ae._payload),Qe)}if(fe(Ae))return ut(Te,je,Ae,Qe);if(Q(Ae))return ft(Te,je,Ae,Qe);_x(Te,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,je!==null&&je.tag===6?(j(Te,je.sibling),je=M(je,Ae),je.return=Te,Te=je):(j(Te,je),je=Uj(Ae,Te.mode,Qe),je.return=Te,Te=je),ee(Te)):j(Te,je)}return cn}var If=AI(!0),kI=AI(!1),jx=gc(null),Sx=null,Lf=null,J1=null;function ej(){J1=Lf=Sx=null}function tj(d){var m=jx.current;$r(jx),d._currentValue=m}function rj(d,m,j){for(;d!==null;){var T=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),d===j)break;d=d.return}}function Df(d,m){Sx=d,J1=Lf=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(qi=!0),d.firstContext=null)}function Hs(d){var m=d._currentValue;if(J1!==d)if(d={context:d,memoizedValue:m,next:null},Lf===null){if(Sx===null)throw Error(r(308));Lf=d,Sx.dependencies={lanes:0,firstContext:d}}else Lf=Lf.next=d;return m}var qu=null;function nj(d){qu===null?qu=[d]:qu.push(d)}function OI(d,m,j,T){var M=m.interleaved;return M===null?(j.next=j,nj(m)):(j.next=M.next,M.next=j),m.interleaved=j,ol(d,T)}function ol(d,m){d.lanes|=m;var j=d.alternate;for(j!==null&&(j.lanes|=m),j=d,d=d.return;d!==null;)d.childLanes|=m,j=d.alternate,j!==null&&(j.childLanes|=m),j=d,d=d.return;return j.tag===3?j.stateNode:null}var xc=!1;function ij(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RI(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ll(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function bc(d,m,j){var T=d.updateQueue;if(T===null)return null;if(T=T.shared,(rr&2)!==0){var M=T.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),T.pending=m,ol(d,j)}return M=T.interleaved,M===null?(m.next=m,nj(T)):(m.next=M.next,M.next=m),T.interleaved=m,ol(d,j)}function Nx(d,m,j){if(m=m.updateQueue,m!==null&&(m=m.shared,(j&4194240)!==0)){var T=m.lanes;T&=d.pendingLanes,j|=T,m.lanes=j,pa(d,j)}}function MI(d,m){var j=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,j===T)){var M=null,$=null;if(j=j.firstBaseUpdate,j!==null){do{var ee={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};$===null?M=$=ee:$=$.next=ee,j=j.next}while(j!==null);$===null?M=$=m:$=$.next=m}else M=$=m;j={baseState:T.baseState,firstBaseUpdate:M,lastBaseUpdate:$,shared:T.shared,effects:T.effects},d.updateQueue=j;return}d=j.lastBaseUpdate,d===null?j.firstBaseUpdate=m:d.next=m,j.lastBaseUpdate=m}function Cx(d,m,j,T){var M=d.updateQueue;xc=!1;var $=M.firstBaseUpdate,ee=M.lastBaseUpdate,de=M.shared.pending;if(de!==null){M.shared.pending=null;var ve=de,Ie=ve.next;ve.next=null,ee===null?$=Ie:ee.next=Ie,ee=ve;var He=d.alternate;He!==null&&(He=He.updateQueue,de=He.lastBaseUpdate,de!==ee&&(de===null?He.firstBaseUpdate=Ie:de.next=Ie,He.lastBaseUpdate=ve))}if($!==null){var Ye=M.baseState;ee=0,He=Ie=ve=null,de=$;do{var We=de.lane,st=de.eventTime;if((T&We)===We){He!==null&&(He=He.next={eventTime:st,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ut=d,ft=de;switch(We=m,st=j,ft.tag){case 1:if(ut=ft.payload,typeof ut=="function"){Ye=ut.call(st,Ye,We);break e}Ye=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ft.payload,We=typeof ut=="function"?ut.call(st,Ye,We):ut,We==null)break e;Ye=te({},Ye,We);break e;case 2:xc=!0}}de.callback!==null&&de.lane!==0&&(d.flags|=64,We=M.effects,We===null?M.effects=[de]:We.push(de))}else st={eventTime:st,lane:We,tag:de.tag,payload:de.payload,callback:de.callback,next:null},He===null?(Ie=He=st,ve=Ye):He=He.next=st,ee|=We;if(de=de.next,de===null){if(de=M.shared.pending,de===null)break;We=de,de=We.next,We.next=null,M.lastBaseUpdate=We,M.shared.pending=null}}while(!0);if(He===null&&(ve=Ye),M.baseState=ve,M.firstBaseUpdate=Ie,M.lastBaseUpdate=He,m=M.shared.interleaved,m!==null){M=m;do ee|=M.lane,M=M.next;while(M!==m)}else $===null&&(M.shared.lanes=0);Wu|=ee,d.lanes=ee,d.memoizedState=Ye}}function II(d,m,j){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var T=d[m],M=T.callback;if(M!==null){if(T.callback=null,T=j,typeof M!="function")throw Error(r(191,M));M.call(T)}}}var Cm={},co=gc(Cm),Em=gc(Cm),Pm=gc(Cm);function Uu(d){if(d===Cm)throw Error(r(174));return d}function sj(d,m){switch(Or(Pm,m),Or(Em,d),Or(co,Cm),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:W(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=W(m,d)}$r(co),Or(co,m)}function $f(){$r(co),$r(Em),$r(Pm)}function LI(d){Uu(Pm.current);var m=Uu(co.current),j=W(m,d.type);m!==j&&(Or(Em,d),Or(co,j))}function aj(d){Em.current===d&&($r(co),$r(Em))}var Qr=gc(0);function Ex(d){for(var m=d;m!==null;){if(m.tag===13){var j=m.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var oj=[];function lj(){for(var d=0;d<oj.length;d++)oj[d]._workInProgressVersionPrimary=null;oj.length=0}var Px=A.ReactCurrentDispatcher,cj=A.ReactCurrentBatchConfig,Vu=0,Jr=null,Pn=null,Bn=null,Tx=!1,Tm=!1,Am=0,yte=0;function fi(){throw Error(r(321))}function uj(d,m){if(m===null)return!1;for(var j=0;j<m.length&&j<d.length;j++)if(!hs(d[j],m[j]))return!1;return!0}function dj(d,m,j,T,M,$){if(Vu=$,Jr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Px.current=d===null||d.memoizedState===null?_te:jte,d=j(T,M),Tm){$=0;do{if(Tm=!1,Am=0,25<=$)throw Error(r(301));$+=1,Bn=Pn=null,m.updateQueue=null,Px.current=Ste,d=j(T,M)}while(Tm)}if(Px.current=Ox,m=Pn!==null&&Pn.next!==null,Vu=0,Bn=Pn=Jr=null,Tx=!1,m)throw Error(r(300));return d}function fj(){var d=Am!==0;return Am=0,d}function uo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Jr.memoizedState=Bn=d:Bn=Bn.next=d,Bn}function Ks(){if(Pn===null){var d=Jr.alternate;d=d!==null?d.memoizedState:null}else d=Pn.next;var m=Bn===null?Jr.memoizedState:Bn.next;if(m!==null)Bn=m,Pn=d;else{if(d===null)throw Error(r(310));Pn=d,d={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Bn===null?Jr.memoizedState=Bn=d:Bn=Bn.next=d}return Bn}function km(d,m){return typeof m=="function"?m(d):m}function hj(d){var m=Ks(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=d;var T=Pn,M=T.baseQueue,$=j.pending;if($!==null){if(M!==null){var ee=M.next;M.next=$.next,$.next=ee}T.baseQueue=M=$,j.pending=null}if(M!==null){$=M.next,T=T.baseState;var de=ee=null,ve=null,Ie=$;do{var He=Ie.lane;if((Vu&He)===He)ve!==null&&(ve=ve.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),T=Ie.hasEagerState?Ie.eagerState:d(T,Ie.action);else{var Ye={lane:He,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ve===null?(de=ve=Ye,ee=T):ve=ve.next=Ye,Jr.lanes|=He,Wu|=He}Ie=Ie.next}while(Ie!==null&&Ie!==$);ve===null?ee=T:ve.next=de,hs(T,m.memoizedState)||(qi=!0),m.memoizedState=T,m.baseState=ee,m.baseQueue=ve,j.lastRenderedState=T}if(d=j.interleaved,d!==null){M=d;do $=M.lane,Jr.lanes|=$,Wu|=$,M=M.next;while(M!==d)}else M===null&&(j.lanes=0);return[m.memoizedState,j.dispatch]}function pj(d){var m=Ks(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=d;var T=j.dispatch,M=j.pending,$=m.memoizedState;if(M!==null){j.pending=null;var ee=M=M.next;do $=d($,ee.action),ee=ee.next;while(ee!==M);hs($,m.memoizedState)||(qi=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),j.lastRenderedState=$}return[$,T]}function DI(){}function $I(d,m){var j=Jr,T=Ks(),M=m(),$=!hs(T.memoizedState,M);if($&&(T.memoizedState=M,qi=!0),T=T.queue,mj(zI.bind(null,j,T,d),[d]),T.getSnapshot!==m||$||Bn!==null&&Bn.memoizedState.tag&1){if(j.flags|=2048,Om(9,BI.bind(null,j,T,M,m),void 0,null),zn===null)throw Error(r(349));(Vu&30)!==0||FI(j,m,M)}return M}function FI(d,m,j){d.flags|=16384,d={getSnapshot:m,value:j},m=Jr.updateQueue,m===null?(m={lastEffect:null,stores:null},Jr.updateQueue=m,m.stores=[d]):(j=m.stores,j===null?m.stores=[d]:j.push(d))}function BI(d,m,j,T){m.value=j,m.getSnapshot=T,qI(m)&&UI(d)}function zI(d,m,j){return j(function(){qI(m)&&UI(d)})}function qI(d){var m=d.getSnapshot;d=d.value;try{var j=m();return!hs(d,j)}catch{return!0}}function UI(d){var m=ol(d,1);m!==null&&ja(m,d,1,-1)}function VI(d){var m=uo();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:d},m.queue=d,d=d.dispatch=wte.bind(null,Jr,d),[m.memoizedState,d]}function Om(d,m,j,T){return d={tag:d,create:m,destroy:j,deps:T,next:null},m=Jr.updateQueue,m===null?(m={lastEffect:null,stores:null},Jr.updateQueue=m,m.lastEffect=d.next=d):(j=m.lastEffect,j===null?m.lastEffect=d.next=d:(T=j.next,j.next=d,d.next=T,m.lastEffect=d)),d}function WI(){return Ks().memoizedState}function Ax(d,m,j,T){var M=uo();Jr.flags|=d,M.memoizedState=Om(1|m,j,void 0,T===void 0?null:T)}function kx(d,m,j,T){var M=Ks();T=T===void 0?null:T;var $=void 0;if(Pn!==null){var ee=Pn.memoizedState;if($=ee.destroy,T!==null&&uj(T,ee.deps)){M.memoizedState=Om(m,j,$,T);return}}Jr.flags|=d,M.memoizedState=Om(1|m,j,$,T)}function HI(d,m){return Ax(8390656,8,d,m)}function mj(d,m){return kx(2048,8,d,m)}function KI(d,m){return kx(4,2,d,m)}function GI(d,m){return kx(4,4,d,m)}function ZI(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function YI(d,m,j){return j=j!=null?j.concat([d]):null,kx(4,4,ZI.bind(null,m,d),j)}function gj(){}function XI(d,m){var j=Ks();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&uj(m,T[1])?T[0]:(j.memoizedState=[d,m],d)}function QI(d,m){var j=Ks();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&uj(m,T[1])?T[0]:(d=d(),j.memoizedState=[d,m],d)}function JI(d,m,j){return(Vu&21)===0?(d.baseState&&(d.baseState=!1,qi=!0),d.memoizedState=j):(hs(j,m)||(j=Ky(),Jr.lanes|=j,Wu|=j,d.baseState=!0),m)}function xte(d,m){var j=Xt;Xt=j!==0&&4>j?j:4,d(!0);var T=cj.transition;cj.transition={};try{d(!1),m()}finally{Xt=j,cj.transition=T}}function eL(){return Ks().memoizedState}function bte(d,m,j){var T=Sc(d);if(j={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null},tL(d))rL(m,j);else if(j=OI(d,m,j,T),j!==null){var M=Pi();ja(j,d,T,M),nL(j,m,T)}}function wte(d,m,j){var T=Sc(d),M={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null};if(tL(d))rL(m,M);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var ee=m.lastRenderedState,de=$(ee,j);if(M.hasEagerState=!0,M.eagerState=de,hs(de,ee)){var ve=m.interleaved;ve===null?(M.next=M,nj(m)):(M.next=ve.next,ve.next=M),m.interleaved=M;return}}catch{}finally{}j=OI(d,m,M,T),j!==null&&(M=Pi(),ja(j,d,T,M),nL(j,m,T))}}function tL(d){var m=d.alternate;return d===Jr||m!==null&&m===Jr}function rL(d,m){Tm=Tx=!0;var j=d.pending;j===null?m.next=m:(m.next=j.next,j.next=m),d.pending=m}function nL(d,m,j){if((j&4194240)!==0){var T=m.lanes;T&=d.pendingLanes,j|=T,m.lanes=j,pa(d,j)}}var Ox={readContext:Hs,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},_te={readContext:Hs,useCallback:function(d,m){return uo().memoizedState=[d,m===void 0?null:m],d},useContext:Hs,useEffect:HI,useImperativeHandle:function(d,m,j){return j=j!=null?j.concat([d]):null,Ax(4194308,4,ZI.bind(null,m,d),j)},useLayoutEffect:function(d,m){return Ax(4194308,4,d,m)},useInsertionEffect:function(d,m){return Ax(4,2,d,m)},useMemo:function(d,m){var j=uo();return m=m===void 0?null:m,d=d(),j.memoizedState=[d,m],d},useReducer:function(d,m,j){var T=uo();return m=j!==void 0?j(m):m,T.memoizedState=T.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},T.queue=d,d=d.dispatch=bte.bind(null,Jr,d),[T.memoizedState,d]},useRef:function(d){var m=uo();return d={current:d},m.memoizedState=d},useState:VI,useDebugValue:gj,useDeferredValue:function(d){return uo().memoizedState=d},useTransition:function(){var d=VI(!1),m=d[0];return d=xte.bind(null,d[1]),uo().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,j){var T=Jr,M=uo();if(Hr){if(j===void 0)throw Error(r(407));j=j()}else{if(j=m(),zn===null)throw Error(r(349));(Vu&30)!==0||FI(T,m,j)}M.memoizedState=j;var $={value:j,getSnapshot:m};return M.queue=$,HI(zI.bind(null,T,$,d),[d]),T.flags|=2048,Om(9,BI.bind(null,T,$,j,m),void 0,null),j},useId:function(){var d=uo(),m=zn.identifierPrefix;if(Hr){var j=al,T=sl;j=(T&~(1<<32-kt(T)-1)).toString(32)+j,m=":"+m+"R"+j,j=Am++,0<j&&(m+="H"+j.toString(32)),m+=":"}else j=yte++,m=":"+m+"r"+j.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},jte={readContext:Hs,useCallback:XI,useContext:Hs,useEffect:mj,useImperativeHandle:YI,useInsertionEffect:KI,useLayoutEffect:GI,useMemo:QI,useReducer:hj,useRef:WI,useState:function(){return hj(km)},useDebugValue:gj,useDeferredValue:function(d){var m=Ks();return JI(m,Pn.memoizedState,d)},useTransition:function(){var d=hj(km)[0],m=Ks().memoizedState;return[d,m]},useMutableSource:DI,useSyncExternalStore:$I,useId:eL,unstable_isNewReconciler:!1},Ste={readContext:Hs,useCallback:XI,useContext:Hs,useEffect:mj,useImperativeHandle:YI,useInsertionEffect:KI,useLayoutEffect:GI,useMemo:QI,useReducer:pj,useRef:WI,useState:function(){return pj(km)},useDebugValue:gj,useDeferredValue:function(d){var m=Ks();return Pn===null?m.memoizedState=d:JI(m,Pn.memoizedState,d)},useTransition:function(){var d=pj(km)[0],m=Ks().memoizedState;return[d,m]},useMutableSource:DI,useSyncExternalStore:$I,useId:eL,unstable_isNewReconciler:!1};function ba(d,m){if(d&&d.defaultProps){m=te({},m),d=d.defaultProps;for(var j in d)m[j]===void 0&&(m[j]=d[j]);return m}return m}function vj(d,m,j,T){m=d.memoizedState,j=j(T,m),j=j==null?m:te({},m,j),d.memoizedState=j,d.lanes===0&&(d.updateQueue.baseState=j)}var Rx={isMounted:function(d){return(d=d._reactInternals)?eo(d)===d:!1},enqueueSetState:function(d,m,j){d=d._reactInternals;var T=Pi(),M=Sc(d),$=ll(T,M);$.payload=m,j!=null&&($.callback=j),m=bc(d,$,M),m!==null&&(ja(m,d,M,T),Nx(m,d,M))},enqueueReplaceState:function(d,m,j){d=d._reactInternals;var T=Pi(),M=Sc(d),$=ll(T,M);$.tag=1,$.payload=m,j!=null&&($.callback=j),m=bc(d,$,M),m!==null&&(ja(m,d,M,T),Nx(m,d,M))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var j=Pi(),T=Sc(d),M=ll(j,T);M.tag=2,m!=null&&(M.callback=m),m=bc(d,M,T),m!==null&&(ja(m,d,T,j),Nx(m,d,T))}};function iL(d,m,j,T,M,$,ee){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,$,ee):m.prototype&&m.prototype.isPureReactComponent?!so(j,T)||!so(M,$):!0}function sL(d,m,j){var T=!1,M=vc,$=m.contextType;return typeof $=="object"&&$!==null?$=Hs($):(M=zi(m)?Fu:di.current,T=m.contextTypes,$=(T=T!=null)?kf(d,M):vc),m=new m(j,$),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Rx,d.stateNode=m,m._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=M,d.__reactInternalMemoizedMaskedChildContext=$),m}function aL(d,m,j,T){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(j,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(j,T),m.state!==d&&Rx.enqueueReplaceState(m,m.state,null)}function yj(d,m,j,T){var M=d.stateNode;M.props=j,M.state=d.memoizedState,M.refs={},ij(d);var $=m.contextType;typeof $=="object"&&$!==null?M.context=Hs($):($=zi(m)?Fu:di.current,M.context=kf(d,$)),M.state=d.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(vj(d,m,$,j),M.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&Rx.enqueueReplaceState(M,M.state,null),Cx(d,j,M,T),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308)}function Ff(d,m){try{var j="",T=m;do j+=Le(T),T=T.return;while(T);var M=j}catch($){M=`
Error generating stack: `+$.message+`
`+$.stack}return{value:d,source:m,stack:M,digest:null}}function xj(d,m,j){return{value:d,source:null,stack:j??null,digest:m??null}}function bj(d,m){try{console.error(m.value)}catch(j){setTimeout(function(){throw j})}}var Nte=typeof WeakMap=="function"?WeakMap:Map;function oL(d,m,j){j=ll(-1,j),j.tag=3,j.payload={element:null};var T=m.value;return j.callback=function(){Bx||(Bx=!0,Ij=T),bj(d,m)},j}function lL(d,m,j){j=ll(-1,j),j.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var M=m.value;j.payload=function(){return T(M)},j.callback=function(){bj(d,m)}}var $=d.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(j.callback=function(){bj(d,m),typeof T!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var ee=m.stack;this.componentDidCatch(m.value,{componentStack:ee!==null?ee:""})}),j}function cL(d,m,j){var T=d.pingCache;if(T===null){T=d.pingCache=new Nte;var M=new Set;T.set(m,M)}else M=T.get(m),M===void 0&&(M=new Set,T.set(m,M));M.has(j)||(M.add(j),d=Fte.bind(null,d,m,j),m.then(d,d))}function uL(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function dL(d,m,j,T,M){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(m=ll(-1,1),m.tag=2,bc(j,m,1))),j.lanes|=1),d):(d.flags|=65536,d.lanes=M,d)}var Cte=A.ReactCurrentOwner,qi=!1;function Ei(d,m,j,T){m.child=d===null?kI(m,null,j,T):If(m,d.child,j,T)}function fL(d,m,j,T,M){j=j.render;var $=m.ref;return Df(m,M),T=dj(d,m,j,T,$,M),j=fj(),d!==null&&!qi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,cl(d,m,M)):(Hr&&j&&G1(m),m.flags|=1,Ei(d,m,T,M),m.child)}function hL(d,m,j,T,M){if(d===null){var $=j.type;return typeof $=="function"&&!qj($)&&$.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(m.tag=15,m.type=$,pL(d,m,$,T,M)):(d=Hx(j.type,null,T,m,m.mode,M),d.ref=m.ref,d.return=m,m.child=d)}if($=d.child,(d.lanes&M)===0){var ee=$.memoizedProps;if(j=j.compare,j=j!==null?j:so,j(ee,T)&&d.ref===m.ref)return cl(d,m,M)}return m.flags|=1,d=Cc($,T),d.ref=m.ref,d.return=m,m.child=d}function pL(d,m,j,T,M){if(d!==null){var $=d.memoizedProps;if(so($,T)&&d.ref===m.ref)if(qi=!1,m.pendingProps=T=$,(d.lanes&M)!==0)(d.flags&131072)!==0&&(qi=!0);else return m.lanes=d.lanes,cl(d,m,M)}return wj(d,m,j,T,M)}function mL(d,m,j){var T=m.pendingProps,M=T.children,$=d!==null?d.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(zf,vs),vs|=j;else{if((j&1073741824)===0)return d=$!==null?$.baseLanes|j:j,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,Or(zf,vs),vs|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:j,Or(zf,vs),vs|=T}else $!==null?(T=$.baseLanes|j,m.memoizedState=null):T=j,Or(zf,vs),vs|=T;return Ei(d,m,M,j),m.child}function gL(d,m){var j=m.ref;(d===null&&j!==null||d!==null&&d.ref!==j)&&(m.flags|=512,m.flags|=2097152)}function wj(d,m,j,T,M){var $=zi(j)?Fu:di.current;return $=kf(m,$),Df(m,M),j=dj(d,m,j,T,$,M),T=fj(),d!==null&&!qi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,cl(d,m,M)):(Hr&&T&&G1(m),m.flags|=1,Ei(d,m,j,M),m.child)}function vL(d,m,j,T,M){if(zi(j)){var $=!0;vx(m)}else $=!1;if(Df(m,M),m.stateNode===null)Ix(d,m),sL(m,j,T),yj(m,j,T,M),T=!0;else if(d===null){var ee=m.stateNode,de=m.memoizedProps;ee.props=de;var ve=ee.context,Ie=j.contextType;typeof Ie=="object"&&Ie!==null?Ie=Hs(Ie):(Ie=zi(j)?Fu:di.current,Ie=kf(m,Ie));var He=j.getDerivedStateFromProps,Ye=typeof He=="function"||typeof ee.getSnapshotBeforeUpdate=="function";Ye||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(de!==T||ve!==Ie)&&aL(m,ee,T,Ie),xc=!1;var We=m.memoizedState;ee.state=We,Cx(m,T,ee,M),ve=m.memoizedState,de!==T||We!==ve||Bi.current||xc?(typeof He=="function"&&(vj(m,j,He,T),ve=m.memoizedState),(de=xc||iL(m,j,de,T,We,ve,Ie))?(Ye||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=ve),ee.props=T,ee.state=ve,ee.context=Ie,T=de):(typeof ee.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{ee=m.stateNode,RI(d,m),de=m.memoizedProps,Ie=m.type===m.elementType?de:ba(m.type,de),ee.props=Ie,Ye=m.pendingProps,We=ee.context,ve=j.contextType,typeof ve=="object"&&ve!==null?ve=Hs(ve):(ve=zi(j)?Fu:di.current,ve=kf(m,ve));var st=j.getDerivedStateFromProps;(He=typeof st=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(de!==Ye||We!==ve)&&aL(m,ee,T,ve),xc=!1,We=m.memoizedState,ee.state=We,Cx(m,T,ee,M);var ut=m.memoizedState;de!==Ye||We!==ut||Bi.current||xc?(typeof st=="function"&&(vj(m,j,st,T),ut=m.memoizedState),(Ie=xc||iL(m,j,Ie,T,We,ut,ve)||!1)?(He||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(T,ut,ve),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(T,ut,ve)),typeof ee.componentDidUpdate=="function"&&(m.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ee.componentDidUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=ut),ee.props=T,ee.state=ut,ee.context=ve,T=Ie):(typeof ee.componentDidUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(m.flags|=1024),T=!1)}return _j(d,m,j,T,$,M)}function _j(d,m,j,T,M,$){gL(d,m);var ee=(m.flags&128)!==0;if(!T&&!ee)return M&&_I(m,j,!1),cl(d,m,$);T=m.stateNode,Cte.current=m;var de=ee&&typeof j.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,d!==null&&ee?(m.child=If(m,d.child,null,$),m.child=If(m,null,de,$)):Ei(d,m,de,$),m.memoizedState=T.state,M&&_I(m,j,!0),m.child}function yL(d){var m=d.stateNode;m.pendingContext?bI(d,m.pendingContext,m.pendingContext!==m.context):m.context&&bI(d,m.context,!1),sj(d,m.containerInfo)}function xL(d,m,j,T,M){return Mf(),Q1(M),m.flags|=256,Ei(d,m,j,T),m.child}var jj={dehydrated:null,treeContext:null,retryLane:0};function Sj(d){return{baseLanes:d,cachePool:null,transitions:null}}function bL(d,m,j){var T=m.pendingProps,M=Qr.current,$=!1,ee=(m.flags&128)!==0,de;if((de=ee)||(de=d!==null&&d.memoizedState===null?!1:(M&2)!==0),de?($=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(M|=1),Or(Qr,M&1),d===null)return X1(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(ee=T.children,d=T.fallback,$?(T=m.mode,$=m.child,ee={mode:"hidden",children:ee},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=ee):$=Kx(ee,T,0,null),d=Zu(d,T,j,null),$.return=m,d.return=m,$.sibling=d,m.child=$,m.child.memoizedState=Sj(j),m.memoizedState=jj,d):Nj(m,ee));if(M=d.memoizedState,M!==null&&(de=M.dehydrated,de!==null))return Ete(d,m,ee,T,de,M,j);if($){$=T.fallback,ee=m.mode,M=d.child,de=M.sibling;var ve={mode:"hidden",children:T.children};return(ee&1)===0&&m.child!==M?(T=m.child,T.childLanes=0,T.pendingProps=ve,m.deletions=null):(T=Cc(M,ve),T.subtreeFlags=M.subtreeFlags&14680064),de!==null?$=Cc(de,$):($=Zu($,ee,j,null),$.flags|=2),$.return=m,T.return=m,T.sibling=$,m.child=T,T=$,$=m.child,ee=d.child.memoizedState,ee=ee===null?Sj(j):{baseLanes:ee.baseLanes|j,cachePool:null,transitions:ee.transitions},$.memoizedState=ee,$.childLanes=d.childLanes&~j,m.memoizedState=jj,T}return $=d.child,d=$.sibling,T=Cc($,{mode:"visible",children:T.children}),(m.mode&1)===0&&(T.lanes=j),T.return=m,T.sibling=null,d!==null&&(j=m.deletions,j===null?(m.deletions=[d],m.flags|=16):j.push(d)),m.child=T,m.memoizedState=null,T}function Nj(d,m){return m=Kx({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Mx(d,m,j,T){return T!==null&&Q1(T),If(m,d.child,null,j),d=Nj(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Ete(d,m,j,T,M,$,ee){if(j)return m.flags&256?(m.flags&=-257,T=xj(Error(r(422))),Mx(d,m,ee,T)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):($=T.fallback,M=m.mode,T=Kx({mode:"visible",children:T.children},M,0,null),$=Zu($,M,ee,null),$.flags|=2,T.return=m,$.return=m,T.sibling=$,m.child=T,(m.mode&1)!==0&&If(m,d.child,null,ee),m.child.memoizedState=Sj(ee),m.memoizedState=jj,$);if((m.mode&1)===0)return Mx(d,m,ee,null);if(M.data==="$!"){if(T=M.nextSibling&&M.nextSibling.dataset,T)var de=T.dgst;return T=de,$=Error(r(419)),T=xj($,T,void 0),Mx(d,m,ee,T)}if(de=(ee&d.childLanes)!==0,qi||de){if(T=zn,T!==null){switch(ee&-ee){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(T.suspendedLanes|ee))!==0?0:M,M!==0&&M!==$.retryLane&&($.retryLane=M,ol(d,M),ja(T,d,M,-1))}return zj(),T=xj(Error(r(421))),Mx(d,m,ee,T)}return M.data==="$?"?(m.flags|=128,m.child=d.child,m=Bte.bind(null,d),M._reactRetry=m,null):(d=$.treeContext,gs=lo(M.nextSibling),ms=m,Hr=!0,xa=null,d!==null&&(Vs[Ws++]=sl,Vs[Ws++]=al,Vs[Ws++]=Bu,sl=d.id,al=d.overflow,Bu=m),m=Nj(m,T.children),m.flags|=4096,m)}function wL(d,m,j){d.lanes|=m;var T=d.alternate;T!==null&&(T.lanes|=m),rj(d.return,m,j)}function Cj(d,m,j,T,M){var $=d.memoizedState;$===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:j,tailMode:M}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=j,$.tailMode=M)}function _L(d,m,j){var T=m.pendingProps,M=T.revealOrder,$=T.tail;if(Ei(d,m,T.children,j),T=Qr.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&wL(d,j,m);else if(d.tag===19)wL(d,j,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(Or(Qr,T),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(j=m.child,M=null;j!==null;)d=j.alternate,d!==null&&Ex(d)===null&&(M=j),j=j.sibling;j=M,j===null?(M=m.child,m.child=null):(M=j.sibling,j.sibling=null),Cj(m,!1,M,j,$);break;case"backwards":for(j=null,M=m.child,m.child=null;M!==null;){if(d=M.alternate,d!==null&&Ex(d)===null){m.child=M;break}d=M.sibling,M.sibling=j,j=M,M=d}Cj(m,!0,j,null,$);break;case"together":Cj(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ix(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function cl(d,m,j){if(d!==null&&(m.dependencies=d.dependencies),Wu|=m.lanes,(j&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,j=Cc(d,d.pendingProps),m.child=j,j.return=m;d.sibling!==null;)d=d.sibling,j=j.sibling=Cc(d,d.pendingProps),j.return=m;j.sibling=null}return m.child}function Pte(d,m,j){switch(m.tag){case 3:yL(m),Mf();break;case 5:LI(m);break;case 1:zi(m.type)&&vx(m);break;case 4:sj(m,m.stateNode.containerInfo);break;case 10:var T=m.type._context,M=m.memoizedProps.value;Or(jx,T._currentValue),T._currentValue=M;break;case 13:if(T=m.memoizedState,T!==null)return T.dehydrated!==null?(Or(Qr,Qr.current&1),m.flags|=128,null):(j&m.child.childLanes)!==0?bL(d,m,j):(Or(Qr,Qr.current&1),d=cl(d,m,j),d!==null?d.sibling:null);Or(Qr,Qr.current&1);break;case 19:if(T=(j&m.childLanes)!==0,(d.flags&128)!==0){if(T)return _L(d,m,j);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Or(Qr,Qr.current),T)break;return null;case 22:case 23:return m.lanes=0,mL(d,m,j)}return cl(d,m,j)}var jL,Ej,SL,NL;jL=function(d,m){for(var j=m.child;j!==null;){if(j.tag===5||j.tag===6)d.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===m)break;for(;j.sibling===null;){if(j.return===null||j.return===m)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},Ej=function(){},SL=function(d,m,j,T){var M=d.memoizedProps;if(M!==T){d=m.stateNode,Uu(co.current);var $=null;switch(j){case"input":M=be(d,M),T=be(d,T),$=[];break;case"select":M=te({},M,{value:void 0}),T=te({},T,{value:void 0}),$=[];break;case"textarea":M=ke(d,M),T=ke(d,T),$=[];break;default:typeof M.onClick!="function"&&typeof T.onClick=="function"&&(d.onclick=ze)}Bt(j,T);var ee;j=null;for(Ie in M)if(!T.hasOwnProperty(Ie)&&M.hasOwnProperty(Ie)&&M[Ie]!=null)if(Ie==="style"){var de=M[Ie];for(ee in de)de.hasOwnProperty(ee)&&(j||(j={}),j[ee]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?$||($=[]):($=$||[]).push(Ie,null));for(Ie in T){var ve=T[Ie];if(de=M?.[Ie],T.hasOwnProperty(Ie)&&ve!==de&&(ve!=null||de!=null))if(Ie==="style")if(de){for(ee in de)!de.hasOwnProperty(ee)||ve&&ve.hasOwnProperty(ee)||(j||(j={}),j[ee]="");for(ee in ve)ve.hasOwnProperty(ee)&&de[ee]!==ve[ee]&&(j||(j={}),j[ee]=ve[ee])}else j||($||($=[]),$.push(Ie,j)),j=ve;else Ie==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,de=de?de.__html:void 0,ve!=null&&de!==ve&&($=$||[]).push(Ie,ve)):Ie==="children"?typeof ve!="string"&&typeof ve!="number"||($=$||[]).push(Ie,""+ve):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(ve!=null&&Ie==="onScroll"&&wr("scroll",d),$||de===ve||($=[])):($=$||[]).push(Ie,ve))}j&&($=$||[]).push("style",j);var Ie=$;(m.updateQueue=Ie)&&(m.flags|=4)}},NL=function(d,m,j,T){j!==T&&(m.flags|=4)};function Rm(d,m){if(!Hr)switch(d.tailMode){case"hidden":m=d.tail;for(var j=null;m!==null;)m.alternate!==null&&(j=m),m=m.sibling;j===null?d.tail=null:j.sibling=null;break;case"collapsed":j=d.tail;for(var T=null;j!==null;)j.alternate!==null&&(T=j),j=j.sibling;T===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function hi(d){var m=d.alternate!==null&&d.alternate.child===d.child,j=0,T=0;if(m)for(var M=d.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags&14680064,T|=M.flags&14680064,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags,T|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=T,d.childLanes=j,m}function Tte(d,m,j){var T=m.pendingProps;switch(Z1(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(m),null;case 1:return zi(m.type)&&gx(),hi(m),null;case 3:return T=m.stateNode,$f(),$r(Bi),$r(di),lj(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(wx(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,xa!==null&&($j(xa),xa=null))),Ej(d,m),hi(m),null;case 5:aj(m);var M=Uu(Pm.current);if(j=m.type,d!==null&&m.stateNode!=null)SL(d,m,j,T,M),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(r(166));return hi(m),null}if(d=Uu(co.current),wx(m)){T=m.stateNode,j=m.type;var $=m.memoizedProps;switch(T[Us]=m,T[pc]=$,d=(m.mode&1)!==0,j){case"dialog":wr("cancel",T),wr("close",T);break;case"iframe":case"object":case"embed":wr("load",T);break;case"video":case"audio":for(M=0;M<dc.length;M++)wr(dc[M],T);break;case"source":wr("error",T);break;case"img":case"image":case"link":wr("error",T),wr("load",T);break;case"details":wr("toggle",T);break;case"input":Ve(T,$),wr("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},wr("invalid",T);break;case"textarea":Ze(T,$),wr("invalid",T)}Bt(j,$),M=null;for(var ee in $)if($.hasOwnProperty(ee)){var de=$[ee];ee==="children"?typeof de=="string"?T.textContent!==de&&($.suppressHydrationWarning!==!0&&Me(T.textContent,de,d),M=["children",de]):typeof de=="number"&&T.textContent!==""+de&&($.suppressHydrationWarning!==!0&&Me(T.textContent,de,d),M=["children",""+de]):i.hasOwnProperty(ee)&&de!=null&&ee==="onScroll"&&wr("scroll",T)}switch(j){case"input":J(T),ot(T,$,!0);break;case"textarea":J(T),me(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=ze)}T=M,m.updateQueue=T,T!==null&&(m.flags|=4)}else{ee=M.nodeType===9?M:M.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=De(j)),d==="http://www.w3.org/1999/xhtml"?j==="script"?(d=ee.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof T.is=="string"?d=ee.createElement(j,{is:T.is}):(d=ee.createElement(j),j==="select"&&(ee=d,T.multiple?ee.multiple=!0:T.size&&(ee.size=T.size))):d=ee.createElementNS(d,j),d[Us]=m,d[pc]=T,jL(d,m,!1,!1),m.stateNode=d;e:{switch(ee=Yt(j,T),j){case"dialog":wr("cancel",d),wr("close",d),M=T;break;case"iframe":case"object":case"embed":wr("load",d),M=T;break;case"video":case"audio":for(M=0;M<dc.length;M++)wr(dc[M],d);M=T;break;case"source":wr("error",d),M=T;break;case"img":case"image":case"link":wr("error",d),wr("load",d),M=T;break;case"details":wr("toggle",d),M=T;break;case"input":Ve(d,T),M=be(d,T),wr("invalid",d);break;case"option":M=T;break;case"select":d._wrapperState={wasMultiple:!!T.multiple},M=te({},T,{value:void 0}),wr("invalid",d);break;case"textarea":Ze(d,T),M=ke(d,T),wr("invalid",d);break;default:M=T}Bt(j,M),de=M;for($ in de)if(de.hasOwnProperty($)){var ve=de[$];$==="style"?vt(d,ve):$==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&F(d,ve)):$==="children"?typeof ve=="string"?(j!=="textarea"||ve!=="")&&le(d,ve):typeof ve=="number"&&le(d,""+ve):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ve!=null&&$==="onScroll"&&wr("scroll",d):ve!=null&&C(d,$,ve,ee))}switch(j){case"input":J(d),ot(d,T,!1);break;case"textarea":J(d),me(d);break;case"option":T.value!=null&&d.setAttribute("value",""+ge(T.value));break;case"select":d.multiple=!!T.multiple,$=T.value,$!=null?_e(d,!!T.multiple,$,!1):T.defaultValue!=null&&_e(d,!!T.multiple,T.defaultValue,!0);break;default:typeof M.onClick=="function"&&(d.onclick=ze)}switch(j){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return hi(m),null;case 6:if(d&&m.stateNode!=null)NL(d,m,d.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(r(166));if(j=Uu(Pm.current),Uu(co.current),wx(m)){if(T=m.stateNode,j=m.memoizedProps,T[Us]=m,($=T.nodeValue!==j)&&(d=ms,d!==null))switch(d.tag){case 3:Me(T.nodeValue,j,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Me(T.nodeValue,j,(d.mode&1)!==0)}$&&(m.flags|=4)}else T=(j.nodeType===9?j:j.ownerDocument).createTextNode(T),T[Us]=m,m.stateNode=T}return hi(m),null;case 13:if($r(Qr),T=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Hr&&gs!==null&&(m.mode&1)!==0&&(m.flags&128)===0)PI(),Mf(),m.flags|=98560,$=!1;else if($=wx(m),T!==null&&T.dehydrated!==null){if(d===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[Us]=m}else Mf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;hi(m),$=!1}else xa!==null&&($j(xa),xa=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=j,m):(T=T!==null,T!==(d!==null&&d.memoizedState!==null)&&T&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Qr.current&1)!==0?Tn===0&&(Tn=3):zj())),m.updateQueue!==null&&(m.flags|=4),hi(m),null);case 4:return $f(),Ej(d,m),d===null&&fc(m.stateNode.containerInfo),hi(m),null;case 10:return tj(m.type._context),hi(m),null;case 17:return zi(m.type)&&gx(),hi(m),null;case 19:if($r(Qr),$=m.memoizedState,$===null)return hi(m),null;if(T=(m.flags&128)!==0,ee=$.rendering,ee===null)if(T)Rm($,!1);else{if(Tn!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(ee=Ex(d),ee!==null){for(m.flags|=128,Rm($,!1),T=ee.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),m.subtreeFlags=0,T=j,j=m.child;j!==null;)$=j,d=T,$.flags&=14680066,ee=$.alternate,ee===null?($.childLanes=0,$.lanes=d,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=ee.childLanes,$.lanes=ee.lanes,$.child=ee.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=ee.memoizedProps,$.memoizedState=ee.memoizedState,$.updateQueue=ee.updateQueue,$.type=ee.type,d=ee.dependencies,$.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),j=j.sibling;return Or(Qr,Qr.current&1|2),m.child}d=d.sibling}$.tail!==null&&Yr()>qf&&(m.flags|=128,T=!0,Rm($,!1),m.lanes=4194304)}else{if(!T)if(d=Ex(ee),d!==null){if(m.flags|=128,T=!0,j=d.updateQueue,j!==null&&(m.updateQueue=j,m.flags|=4),Rm($,!0),$.tail===null&&$.tailMode==="hidden"&&!ee.alternate&&!Hr)return hi(m),null}else 2*Yr()-$.renderingStartTime>qf&&j!==1073741824&&(m.flags|=128,T=!0,Rm($,!1),m.lanes=4194304);$.isBackwards?(ee.sibling=m.child,m.child=ee):(j=$.last,j!==null?j.sibling=ee:m.child=ee,$.last=ee)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=Yr(),m.sibling=null,j=Qr.current,Or(Qr,T?j&1|2:j&1),m):(hi(m),null);case 22:case 23:return Bj(),T=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(vs&1073741824)!==0&&(hi(m),m.subtreeFlags&6&&(m.flags|=8192)):hi(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function Ate(d,m){switch(Z1(m),m.tag){case 1:return zi(m.type)&&gx(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return $f(),$r(Bi),$r(di),lj(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return aj(m),null;case 13:if($r(Qr),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Mf()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return $r(Qr),null;case 4:return $f(),null;case 10:return tj(m.type._context),null;case 22:case 23:return Bj(),null;case 24:return null;default:return null}}var Lx=!1,pi=!1,kte=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Bf(d,m){var j=d.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(T){sn(d,m,T)}else j.current=null}function Pj(d,m,j){try{j()}catch(T){sn(d,m,T)}}var CL=!1;function Ote(d,m){if(nt=ku,d=gm(),vm(d)){if("selectionStart"in d)var j={start:d.selectionStart,end:d.selectionEnd};else e:{j=(j=d.ownerDocument)&&j.defaultView||window;var T=j.getSelection&&j.getSelection();if(T&&T.rangeCount!==0){j=T.anchorNode;var M=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{j.nodeType,$.nodeType}catch{j=null;break e}var ee=0,de=-1,ve=-1,Ie=0,He=0,Ye=d,We=null;t:for(;;){for(var st;Ye!==j||M!==0&&Ye.nodeType!==3||(de=ee+M),Ye!==$||T!==0&&Ye.nodeType!==3||(ve=ee+T),Ye.nodeType===3&&(ee+=Ye.nodeValue.length),(st=Ye.firstChild)!==null;)We=Ye,Ye=st;for(;;){if(Ye===d)break t;if(We===j&&++Ie===M&&(de=ee),We===$&&++He===T&&(ve=ee),(st=Ye.nextSibling)!==null)break;Ye=We,We=Ye.parentNode}Ye=st}j=de===-1||ve===-1?null:{start:de,end:ve}}else j=null}j=j||{start:0,end:0}}else j=null;for(yt={focusedElem:d,selectionRange:j},ku=!1,lt=m;lt!==null;)if(m=lt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,lt=d;else for(;lt!==null;){m=lt;try{var ut=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ft=ut.memoizedProps,cn=ut.memoizedState,Te=m.stateNode,je=Te.getSnapshotBeforeUpdate(m.elementType===m.type?ft:ba(m.type,ft),cn);Te.__reactInternalSnapshotBeforeUpdate=je}break;case 3:var Ae=m.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Qe){sn(m,m.return,Qe)}if(d=m.sibling,d!==null){d.return=m.return,lt=d;break}lt=m.return}return ut=CL,CL=!1,ut}function Mm(d,m,j){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var M=T=T.next;do{if((M.tag&d)===d){var $=M.destroy;M.destroy=void 0,$!==void 0&&Pj(m,j,$)}M=M.next}while(M!==T)}}function Dx(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var j=m=m.next;do{if((j.tag&d)===d){var T=j.create;j.destroy=T()}j=j.next}while(j!==m)}}function Tj(d){var m=d.ref;if(m!==null){var j=d.stateNode;switch(d.tag){case 5:d=j;break;default:d=j}typeof m=="function"?m(d):m.current=d}}function EL(d){var m=d.alternate;m!==null&&(d.alternate=null,EL(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Us],delete m[pc],delete m[mc],delete m[V1],delete m[W1])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function PL(d){return d.tag===5||d.tag===3||d.tag===4}function TL(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||PL(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Aj(d,m,j){var T=d.tag;if(T===5||T===6)d=d.stateNode,m?j.nodeType===8?j.parentNode.insertBefore(d,m):j.insertBefore(d,m):(j.nodeType===8?(m=j.parentNode,m.insertBefore(d,j)):(m=j,m.appendChild(d)),j=j._reactRootContainer,j!=null||m.onclick!==null||(m.onclick=ze));else if(T!==4&&(d=d.child,d!==null))for(Aj(d,m,j),d=d.sibling;d!==null;)Aj(d,m,j),d=d.sibling}function kj(d,m,j){var T=d.tag;if(T===5||T===6)d=d.stateNode,m?j.insertBefore(d,m):j.appendChild(d);else if(T!==4&&(d=d.child,d!==null))for(kj(d,m,j),d=d.sibling;d!==null;)kj(d,m,j),d=d.sibling}var Qn=null,wa=!1;function wc(d,m,j){for(j=j.child;j!==null;)AL(d,m,j),j=j.sibling}function AL(d,m,j){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Nu,j)}catch{}switch(j.tag){case 5:pi||Bf(j,m);case 6:var T=Qn,M=wa;Qn=null,wc(d,m,j),Qn=T,wa=M,Qn!==null&&(wa?(d=Qn,j=j.stateNode,d.nodeType===8?d.parentNode.removeChild(j):d.removeChild(j)):Qn.removeChild(j.stateNode));break;case 18:Qn!==null&&(wa?(d=Qn,j=j.stateNode,d.nodeType===8?Sm(d.parentNode,j):d.nodeType===1&&Sm(d,j),us(d)):Sm(Qn,j.stateNode));break;case 4:T=Qn,M=wa,Qn=j.stateNode.containerInfo,wa=!0,wc(d,m,j),Qn=T,wa=M;break;case 0:case 11:case 14:case 15:if(!pi&&(T=j.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){M=T=T.next;do{var $=M,ee=$.destroy;$=$.tag,ee!==void 0&&(($&2)!==0||($&4)!==0)&&Pj(j,m,ee),M=M.next}while(M!==T)}wc(d,m,j);break;case 1:if(!pi&&(Bf(j,m),T=j.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=j.memoizedProps,T.state=j.memoizedState,T.componentWillUnmount()}catch(de){sn(j,m,de)}wc(d,m,j);break;case 21:wc(d,m,j);break;case 22:j.mode&1?(pi=(T=pi)||j.memoizedState!==null,wc(d,m,j),pi=T):wc(d,m,j);break;default:wc(d,m,j)}}function kL(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var j=d.stateNode;j===null&&(j=d.stateNode=new kte),m.forEach(function(T){var M=zte.bind(null,d,T);j.has(T)||(j.add(T),T.then(M,M))})}}function _a(d,m){var j=m.deletions;if(j!==null)for(var T=0;T<j.length;T++){var M=j[T];try{var $=d,ee=m,de=ee;e:for(;de!==null;){switch(de.tag){case 5:Qn=de.stateNode,wa=!1;break e;case 3:Qn=de.stateNode.containerInfo,wa=!0;break e;case 4:Qn=de.stateNode.containerInfo,wa=!0;break e}de=de.return}if(Qn===null)throw Error(r(160));AL($,ee,M),Qn=null,wa=!1;var ve=M.alternate;ve!==null&&(ve.return=null),M.return=null}catch(Ie){sn(M,m,Ie)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)OL(m,d),m=m.sibling}function OL(d,m){var j=d.alternate,T=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(_a(m,d),fo(d),T&4){try{Mm(3,d,d.return),Dx(3,d)}catch(ft){sn(d,d.return,ft)}try{Mm(5,d,d.return)}catch(ft){sn(d,d.return,ft)}}break;case 1:_a(m,d),fo(d),T&512&&j!==null&&Bf(j,j.return);break;case 5:if(_a(m,d),fo(d),T&512&&j!==null&&Bf(j,j.return),d.flags&32){var M=d.stateNode;try{le(M,"")}catch(ft){sn(d,d.return,ft)}}if(T&4&&(M=d.stateNode,M!=null)){var $=d.memoizedProps,ee=j!==null?j.memoizedProps:$,de=d.type,ve=d.updateQueue;if(d.updateQueue=null,ve!==null)try{de==="input"&&$.type==="radio"&&$.name!=null&&qe(M,$),Yt(de,ee);var Ie=Yt(de,$);for(ee=0;ee<ve.length;ee+=2){var He=ve[ee],Ye=ve[ee+1];He==="style"?vt(M,Ye):He==="dangerouslySetInnerHTML"?F(M,Ye):He==="children"?le(M,Ye):C(M,He,Ye,Ie)}switch(de){case"input":Se(M,$);break;case"textarea":Xe(M,$);break;case"select":var We=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!$.multiple;var st=$.value;st!=null?_e(M,!!$.multiple,st,!1):We!==!!$.multiple&&($.defaultValue!=null?_e(M,!!$.multiple,$.defaultValue,!0):_e(M,!!$.multiple,$.multiple?[]:"",!1))}M[pc]=$}catch(ft){sn(d,d.return,ft)}}break;case 6:if(_a(m,d),fo(d),T&4){if(d.stateNode===null)throw Error(r(162));M=d.stateNode,$=d.memoizedProps;try{M.nodeValue=$}catch(ft){sn(d,d.return,ft)}}break;case 3:if(_a(m,d),fo(d),T&4&&j!==null&&j.memoizedState.isDehydrated)try{us(m.containerInfo)}catch(ft){sn(d,d.return,ft)}break;case 4:_a(m,d),fo(d);break;case 13:_a(m,d),fo(d),M=d.child,M.flags&8192&&($=M.memoizedState!==null,M.stateNode.isHidden=$,!$||M.alternate!==null&&M.alternate.memoizedState!==null||(Mj=Yr())),T&4&&kL(d);break;case 22:if(He=j!==null&&j.memoizedState!==null,d.mode&1?(pi=(Ie=pi)||He,_a(m,d),pi=Ie):_a(m,d),fo(d),T&8192){if(Ie=d.memoizedState!==null,(d.stateNode.isHidden=Ie)&&!He&&(d.mode&1)!==0)for(lt=d,He=d.child;He!==null;){for(Ye=lt=He;lt!==null;){switch(We=lt,st=We.child,We.tag){case 0:case 11:case 14:case 15:Mm(4,We,We.return);break;case 1:Bf(We,We.return);var ut=We.stateNode;if(typeof ut.componentWillUnmount=="function"){T=We,j=We.return;try{m=T,ut.props=m.memoizedProps,ut.state=m.memoizedState,ut.componentWillUnmount()}catch(ft){sn(T,j,ft)}}break;case 5:Bf(We,We.return);break;case 22:if(We.memoizedState!==null){IL(Ye);continue}}st!==null?(st.return=We,lt=st):IL(Ye)}He=He.sibling}e:for(He=null,Ye=d;;){if(Ye.tag===5){if(He===null){He=Ye;try{M=Ye.stateNode,Ie?($=M.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(de=Ye.stateNode,ve=Ye.memoizedProps.style,ee=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,de.style.display=$e("display",ee))}catch(ft){sn(d,d.return,ft)}}}else if(Ye.tag===6){if(He===null)try{Ye.stateNode.nodeValue=Ie?"":Ye.memoizedProps}catch(ft){sn(d,d.return,ft)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===d)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===d)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===d)break e;He===Ye&&(He=null),Ye=Ye.return}He===Ye&&(He=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:_a(m,d),fo(d),T&4&&kL(d);break;case 21:break;default:_a(m,d),fo(d)}}function fo(d){var m=d.flags;if(m&2){try{e:{for(var j=d.return;j!==null;){if(PL(j)){var T=j;break e}j=j.return}throw Error(r(160))}switch(T.tag){case 5:var M=T.stateNode;T.flags&32&&(le(M,""),T.flags&=-33);var $=TL(d);kj(d,$,M);break;case 3:case 4:var ee=T.stateNode.containerInfo,de=TL(d);Aj(d,de,ee);break;default:throw Error(r(161))}}catch(ve){sn(d,d.return,ve)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Rte(d,m,j){lt=d,RL(d)}function RL(d,m,j){for(var T=(d.mode&1)!==0;lt!==null;){var M=lt,$=M.child;if(M.tag===22&&T){var ee=M.memoizedState!==null||Lx;if(!ee){var de=M.alternate,ve=de!==null&&de.memoizedState!==null||pi;de=Lx;var Ie=pi;if(Lx=ee,(pi=ve)&&!Ie)for(lt=M;lt!==null;)ee=lt,ve=ee.child,ee.tag===22&&ee.memoizedState!==null?LL(M):ve!==null?(ve.return=ee,lt=ve):LL(M);for(;$!==null;)lt=$,RL($),$=$.sibling;lt=M,Lx=de,pi=Ie}ML(d)}else(M.subtreeFlags&8772)!==0&&$!==null?($.return=M,lt=$):ML(d)}}function ML(d){for(;lt!==null;){var m=lt;if((m.flags&8772)!==0){var j=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:pi||Dx(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!pi)if(j===null)T.componentDidMount();else{var M=m.elementType===m.type?j.memoizedProps:ba(m.type,j.memoizedProps);T.componentDidUpdate(M,j.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&II(m,$,T);break;case 3:var ee=m.updateQueue;if(ee!==null){if(j=null,m.child!==null)switch(m.child.tag){case 5:j=m.child.stateNode;break;case 1:j=m.child.stateNode}II(m,ee,j)}break;case 5:var de=m.stateNode;if(j===null&&m.flags&4){j=de;var ve=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&j.focus();break;case"img":ve.src&&(j.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ie=m.alternate;if(Ie!==null){var He=Ie.memoizedState;if(He!==null){var Ye=He.dehydrated;Ye!==null&&us(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}pi||m.flags&512&&Tj(m)}catch(We){sn(m,m.return,We)}}if(m===d){lt=null;break}if(j=m.sibling,j!==null){j.return=m.return,lt=j;break}lt=m.return}}function IL(d){for(;lt!==null;){var m=lt;if(m===d){lt=null;break}var j=m.sibling;if(j!==null){j.return=m.return,lt=j;break}lt=m.return}}function LL(d){for(;lt!==null;){var m=lt;try{switch(m.tag){case 0:case 11:case 15:var j=m.return;try{Dx(4,m)}catch(ve){sn(m,j,ve)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var M=m.return;try{T.componentDidMount()}catch(ve){sn(m,M,ve)}}var $=m.return;try{Tj(m)}catch(ve){sn(m,$,ve)}break;case 5:var ee=m.return;try{Tj(m)}catch(ve){sn(m,ee,ve)}}}catch(ve){sn(m,m.return,ve)}if(m===d){lt=null;break}var de=m.sibling;if(de!==null){de.return=m.return,lt=de;break}lt=m.return}}var Mte=Math.ceil,$x=A.ReactCurrentDispatcher,Oj=A.ReactCurrentOwner,Gs=A.ReactCurrentBatchConfig,rr=0,zn=null,gn=null,Jn=0,vs=0,zf=gc(0),Tn=0,Im=null,Wu=0,Fx=0,Rj=0,Lm=null,Ui=null,Mj=0,qf=1/0,ul=null,Bx=!1,Ij=null,_c=null,zx=!1,jc=null,qx=0,Dm=0,Lj=null,Ux=-1,Vx=0;function Pi(){return(rr&6)!==0?Yr():Ux!==-1?Ux:Ux=Yr()}function Sc(d){return(d.mode&1)===0?1:(rr&2)!==0&&Jn!==0?Jn&-Jn:vte.transition!==null?(Vx===0&&(Vx=Ky()),Vx):(d=Xt,d!==0||(d=window.event,d=d===void 0?16:Kt(d.type)),d)}function ja(d,m,j,T){if(50<Dm)throw Dm=0,Lj=null,Error(r(185));ls(d,j,T),((rr&2)===0||d!==zn)&&(d===zn&&((rr&2)===0&&(Fx|=j),Tn===4&&Nc(d,Jn)),Vi(d,T),j===1&&rr===0&&(m.mode&1)===0&&(qf=Yr()+500,yx&&yc()))}function Vi(d,m){var j=d.callbackNode;lf(d,m);var T=kr(d,d===zn?Jn:0);if(T===0)j!==null&&Qp(j),d.callbackNode=null,d.callbackPriority=0;else if(m=T&-T,d.callbackPriority!==m){if(j!=null&&Qp(j),m===1)d.tag===0?gte($L.bind(null,d)):jI($L.bind(null,d)),ui(function(){(rr&6)===0&&yc()}),j=null;else{switch(Jl(T)){case 1:j=Jp;break;case 4:j=Hy;break;case 16:j=af;break;case 536870912:j=Zl;break;default:j=af}j=HL(j,DL.bind(null,d))}d.callbackPriority=m,d.callbackNode=j}}function DL(d,m){if(Ux=-1,Vx=0,(rr&6)!==0)throw Error(r(327));var j=d.callbackNode;if(Uf()&&d.callbackNode!==j)return null;var T=kr(d,d===zn?Jn:0);if(T===0)return null;if((T&30)!==0||(T&d.expiredLanes)!==0||m)m=Wx(d,T);else{m=T;var M=rr;rr|=2;var $=BL();(zn!==d||Jn!==m)&&(ul=null,qf=Yr()+500,Ku(d,m));do try{Dte();break}catch(de){FL(d,de)}while(!0);ej(),$x.current=$,rr=M,gn!==null?m=0:(zn=null,Jn=0,m=Tn)}if(m!==0){if(m===2&&(M=li(d),M!==0&&(T=M,m=Dj(d,M))),m===1)throw j=Im,Ku(d,0),Nc(d,T),Vi(d,Yr()),j;if(m===6)Nc(d,T);else{if(M=d.current.alternate,(T&30)===0&&!Ite(M)&&(m=Wx(d,T),m===2&&($=li(d),$!==0&&(T=$,m=Dj(d,$))),m===1))throw j=Im,Ku(d,0),Nc(d,T),Vi(d,Yr()),j;switch(d.finishedWork=M,d.finishedLanes=T,m){case 0:case 1:throw Error(r(345));case 2:Gu(d,Ui,ul);break;case 3:if(Nc(d,T),(T&130023424)===T&&(m=Mj+500-Yr(),10<m)){if(kr(d,0)!==0)break;if(M=d.suspendedLanes,(M&T)!==T){Pi(),d.pingedLanes|=d.suspendedLanes&M;break}d.timeoutHandle=En(Gu.bind(null,d,Ui,ul),m);break}Gu(d,Ui,ul);break;case 4:if(Nc(d,T),(T&4194240)===T)break;for(m=d.eventTimes,M=-1;0<T;){var ee=31-kt(T);$=1<<ee,ee=m[ee],ee>M&&(M=ee),T&=~$}if(T=M,T=Yr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Mte(T/1960))-T,10<T){d.timeoutHandle=En(Gu.bind(null,d,Ui,ul),T);break}Gu(d,Ui,ul);break;case 5:Gu(d,Ui,ul);break;default:throw Error(r(329))}}}return Vi(d,Yr()),d.callbackNode===j?DL.bind(null,d):null}function Dj(d,m){var j=Lm;return d.current.memoizedState.isDehydrated&&(Ku(d,m).flags|=256),d=Wx(d,m),d!==2&&(m=Ui,Ui=j,m!==null&&$j(m)),d}function $j(d){Ui===null?Ui=d:Ui.push.apply(Ui,d)}function Ite(d){for(var m=d;;){if(m.flags&16384){var j=m.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var T=0;T<j.length;T++){var M=j[T],$=M.getSnapshot;M=M.value;try{if(!hs($(),M))return!1}catch{return!1}}}if(j=m.child,m.subtreeFlags&16384&&j!==null)j.return=m,m=j;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Nc(d,m){for(m&=~Rj,m&=~Fx,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var j=31-kt(m),T=1<<j;d[j]=-1,m&=~T}}function $L(d){if((rr&6)!==0)throw Error(r(327));Uf();var m=kr(d,0);if((m&1)===0)return Vi(d,Yr()),null;var j=Wx(d,m);if(d.tag!==0&&j===2){var T=li(d);T!==0&&(m=T,j=Dj(d,T))}if(j===1)throw j=Im,Ku(d,0),Nc(d,m),Vi(d,Yr()),j;if(j===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Gu(d,Ui,ul),Vi(d,Yr()),null}function Fj(d,m){var j=rr;rr|=1;try{return d(m)}finally{rr=j,rr===0&&(qf=Yr()+500,yx&&yc())}}function Hu(d){jc!==null&&jc.tag===0&&(rr&6)===0&&Uf();var m=rr;rr|=1;var j=Gs.transition,T=Xt;try{if(Gs.transition=null,Xt=1,d)return d()}finally{Xt=T,Gs.transition=j,rr=m,(rr&6)===0&&yc()}}function Bj(){vs=zf.current,$r(zf)}function Ku(d,m){d.finishedWork=null,d.finishedLanes=0;var j=d.timeoutHandle;if(j!==-1&&(d.timeoutHandle=-1,mn(j)),gn!==null)for(j=gn.return;j!==null;){var T=j;switch(Z1(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&gx();break;case 3:$f(),$r(Bi),$r(di),lj();break;case 5:aj(T);break;case 4:$f();break;case 13:$r(Qr);break;case 19:$r(Qr);break;case 10:tj(T.type._context);break;case 22:case 23:Bj()}j=j.return}if(zn=d,gn=d=Cc(d.current,null),Jn=vs=m,Tn=0,Im=null,Rj=Fx=Wu=0,Ui=Lm=null,qu!==null){for(m=0;m<qu.length;m++)if(j=qu[m],T=j.interleaved,T!==null){j.interleaved=null;var M=T.next,$=j.pending;if($!==null){var ee=$.next;$.next=M,T.next=ee}j.pending=T}qu=null}return d}function FL(d,m){do{var j=gn;try{if(ej(),Px.current=Ox,Tx){for(var T=Jr.memoizedState;T!==null;){var M=T.queue;M!==null&&(M.pending=null),T=T.next}Tx=!1}if(Vu=0,Bn=Pn=Jr=null,Tm=!1,Am=0,Oj.current=null,j===null||j.return===null){Tn=1,Im=m,gn=null;break}e:{var $=d,ee=j.return,de=j,ve=m;if(m=Jn,de.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ie=ve,He=de,Ye=He.tag;if((He.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var We=He.alternate;We?(He.updateQueue=We.updateQueue,He.memoizedState=We.memoizedState,He.lanes=We.lanes):(He.updateQueue=null,He.memoizedState=null)}var st=uL(ee);if(st!==null){st.flags&=-257,dL(st,ee,de,$,m),st.mode&1&&cL($,Ie,m),m=st,ve=Ie;var ut=m.updateQueue;if(ut===null){var ft=new Set;ft.add(ve),m.updateQueue=ft}else ut.add(ve);break e}else{if((m&1)===0){cL($,Ie,m),zj();break e}ve=Error(r(426))}}else if(Hr&&de.mode&1){var cn=uL(ee);if(cn!==null){(cn.flags&65536)===0&&(cn.flags|=256),dL(cn,ee,de,$,m),Q1(Ff(ve,de));break e}}$=ve=Ff(ve,de),Tn!==4&&(Tn=2),Lm===null?Lm=[$]:Lm.push($),$=ee;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var Te=oL($,ve,m);MI($,Te);break e;case 1:de=ve;var je=$.type,Ae=$.stateNode;if(($.flags&128)===0&&(typeof je.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(_c===null||!_c.has(Ae)))){$.flags|=65536,m&=-m,$.lanes|=m;var Qe=lL($,de,m);MI($,Qe);break e}}$=$.return}while($!==null)}qL(j)}catch(mt){m=mt,gn===j&&j!==null&&(gn=j=j.return);continue}break}while(!0)}function BL(){var d=$x.current;return $x.current=Ox,d===null?Ox:d}function zj(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),zn===null||(Wu&268435455)===0&&(Fx&268435455)===0||Nc(zn,Jn)}function Wx(d,m){var j=rr;rr|=2;var T=BL();(zn!==d||Jn!==m)&&(ul=null,Ku(d,m));do try{Lte();break}catch(M){FL(d,M)}while(!0);if(ej(),rr=j,$x.current=T,gn!==null)throw Error(r(261));return zn=null,Jn=0,Tn}function Lte(){for(;gn!==null;)zL(gn)}function Dte(){for(;gn!==null&&!P1();)zL(gn)}function zL(d){var m=WL(d.alternate,d,vs);d.memoizedProps=d.pendingProps,m===null?qL(d):gn=m,Oj.current=null}function qL(d){var m=d;do{var j=m.alternate;if(d=m.return,(m.flags&32768)===0){if(j=Tte(j,m,vs),j!==null){gn=j;return}}else{if(j=Ate(j,m),j!==null){j.flags&=32767,gn=j;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Tn=6,gn=null;return}}if(m=m.sibling,m!==null){gn=m;return}gn=m=d}while(m!==null);Tn===0&&(Tn=5)}function Gu(d,m,j){var T=Xt,M=Gs.transition;try{Gs.transition=null,Xt=1,$te(d,m,j,T)}finally{Gs.transition=M,Xt=T}return null}function $te(d,m,j,T){do Uf();while(jc!==null);if((rr&6)!==0)throw Error(r(327));j=d.finishedWork;var M=d.finishedLanes;if(j===null)return null;if(d.finishedWork=null,d.finishedLanes=0,j===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var $=j.lanes|j.childLanes;if(nn(d,$),d===zn&&(gn=zn=null,Jn=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||zx||(zx=!0,HL(af,function(){return Uf(),null})),$=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||$){$=Gs.transition,Gs.transition=null;var ee=Xt;Xt=1;var de=rr;rr|=4,Oj.current=null,Ote(d,j),OL(j,d),zs(yt),ku=!!nt,yt=nt=null,d.current=j,Rte(j),sf(),rr=de,Xt=ee,Gs.transition=$}else d.current=j;if(zx&&(zx=!1,jc=d,qx=M),$=d.pendingLanes,$===0&&(_c=null),Cu(j.stateNode),Vi(d,Yr()),m!==null)for(T=d.onRecoverableError,j=0;j<m.length;j++)M=m[j],T(M.value,{componentStack:M.stack,digest:M.digest});if(Bx)throw Bx=!1,d=Ij,Ij=null,d;return(qx&1)!==0&&d.tag!==0&&Uf(),$=d.pendingLanes,($&1)!==0?d===Lj?Dm++:(Dm=0,Lj=d):Dm=0,yc(),null}function Uf(){if(jc!==null){var d=Jl(qx),m=Gs.transition,j=Xt;try{if(Gs.transition=null,Xt=16>d?16:d,jc===null)var T=!1;else{if(d=jc,jc=null,qx=0,(rr&6)!==0)throw Error(r(331));var M=rr;for(rr|=4,lt=d.current;lt!==null;){var $=lt,ee=$.child;if((lt.flags&16)!==0){var de=$.deletions;if(de!==null){for(var ve=0;ve<de.length;ve++){var Ie=de[ve];for(lt=Ie;lt!==null;){var He=lt;switch(He.tag){case 0:case 11:case 15:Mm(8,He,$)}var Ye=He.child;if(Ye!==null)Ye.return=He,lt=Ye;else for(;lt!==null;){He=lt;var We=He.sibling,st=He.return;if(EL(He),He===Ie){lt=null;break}if(We!==null){We.return=st,lt=We;break}lt=st}}}var ut=$.alternate;if(ut!==null){var ft=ut.child;if(ft!==null){ut.child=null;do{var cn=ft.sibling;ft.sibling=null,ft=cn}while(ft!==null)}}lt=$}}if(($.subtreeFlags&2064)!==0&&ee!==null)ee.return=$,lt=ee;else e:for(;lt!==null;){if($=lt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Mm(9,$,$.return)}var Te=$.sibling;if(Te!==null){Te.return=$.return,lt=Te;break e}lt=$.return}}var je=d.current;for(lt=je;lt!==null;){ee=lt;var Ae=ee.child;if((ee.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=ee,lt=Ae;else e:for(ee=je;lt!==null;){if(de=lt,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:Dx(9,de)}}catch(mt){sn(de,de.return,mt)}if(de===ee){lt=null;break e}var Qe=de.sibling;if(Qe!==null){Qe.return=de.return,lt=Qe;break e}lt=de.return}}if(rr=M,yc(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Nu,d)}catch{}T=!0}return T}finally{Xt=j,Gs.transition=m}}return!1}function UL(d,m,j){m=Ff(j,m),m=oL(d,m,1),d=bc(d,m,1),m=Pi(),d!==null&&(ls(d,1,m),Vi(d,m))}function sn(d,m,j){if(d.tag===3)UL(d,d,j);else for(;m!==null;){if(m.tag===3){UL(m,d,j);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(_c===null||!_c.has(T))){d=Ff(j,d),d=lL(m,d,1),m=bc(m,d,1),d=Pi(),m!==null&&(ls(m,1,d),Vi(m,d));break}}m=m.return}}function Fte(d,m,j){var T=d.pingCache;T!==null&&T.delete(m),m=Pi(),d.pingedLanes|=d.suspendedLanes&j,zn===d&&(Jn&j)===j&&(Tn===4||Tn===3&&(Jn&130023424)===Jn&&500>Yr()-Mj?Ku(d,0):Rj|=j),Vi(d,m)}function VL(d,m){m===0&&((d.mode&1)===0?m=1:(m=Xl,Xl<<=1,(Xl&130023424)===0&&(Xl=4194304)));var j=Pi();d=ol(d,m),d!==null&&(ls(d,m,j),Vi(d,j))}function Bte(d){var m=d.memoizedState,j=0;m!==null&&(j=m.retryLane),VL(d,j)}function zte(d,m){var j=0;switch(d.tag){case 13:var T=d.stateNode,M=d.memoizedState;M!==null&&(j=M.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(m),VL(d,j)}var WL;WL=function(d,m,j){if(d!==null)if(d.memoizedProps!==m.pendingProps||Bi.current)qi=!0;else{if((d.lanes&j)===0&&(m.flags&128)===0)return qi=!1,Pte(d,m,j);qi=(d.flags&131072)!==0}else qi=!1,Hr&&(m.flags&1048576)!==0&&SI(m,bx,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;Ix(d,m),d=m.pendingProps;var M=kf(m,di.current);Df(m,j),M=dj(null,m,T,d,M,j);var $=fj();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,zi(T)?($=!0,vx(m)):$=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,ij(m),M.updater=Rx,m.stateNode=M,M._reactInternals=m,yj(m,T,d,j),m=_j(null,m,T,!0,$,j)):(m.tag=0,Hr&&$&&G1(m),Ei(null,m,M,j),m=m.child),m;case 16:T=m.elementType;e:{switch(Ix(d,m),d=m.pendingProps,M=T._init,T=M(T._payload),m.type=T,M=m.tag=Ute(T),d=ba(T,d),M){case 0:m=wj(null,m,T,d,j);break e;case 1:m=vL(null,m,T,d,j);break e;case 11:m=fL(null,m,T,d,j);break e;case 14:m=hL(null,m,T,ba(T.type,d),j);break e}throw Error(r(306,T,""))}return m;case 0:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:ba(T,M),wj(d,m,T,M,j);case 1:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:ba(T,M),vL(d,m,T,M,j);case 3:e:{if(yL(m),d===null)throw Error(r(387));T=m.pendingProps,$=m.memoizedState,M=$.element,RI(d,m),Cx(m,T,null,j);var ee=m.memoizedState;if(T=ee.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){M=Ff(Error(r(423)),m),m=xL(d,m,T,j,M);break e}else if(T!==M){M=Ff(Error(r(424)),m),m=xL(d,m,T,j,M);break e}else for(gs=lo(m.stateNode.containerInfo.firstChild),ms=m,Hr=!0,xa=null,j=kI(m,null,T,j),m.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Mf(),T===M){m=cl(d,m,j);break e}Ei(d,m,T,j)}m=m.child}return m;case 5:return LI(m),d===null&&X1(m),T=m.type,M=m.pendingProps,$=d!==null?d.memoizedProps:null,ee=M.children,Lt(T,M)?ee=null:$!==null&&Lt(T,$)&&(m.flags|=32),gL(d,m),Ei(d,m,ee,j),m.child;case 6:return d===null&&X1(m),null;case 13:return bL(d,m,j);case 4:return sj(m,m.stateNode.containerInfo),T=m.pendingProps,d===null?m.child=If(m,null,T,j):Ei(d,m,T,j),m.child;case 11:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:ba(T,M),fL(d,m,T,M,j);case 7:return Ei(d,m,m.pendingProps,j),m.child;case 8:return Ei(d,m,m.pendingProps.children,j),m.child;case 12:return Ei(d,m,m.pendingProps.children,j),m.child;case 10:e:{if(T=m.type._context,M=m.pendingProps,$=m.memoizedProps,ee=M.value,Or(jx,T._currentValue),T._currentValue=ee,$!==null)if(hs($.value,ee)){if($.children===M.children&&!Bi.current){m=cl(d,m,j);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var de=$.dependencies;if(de!==null){ee=$.child;for(var ve=de.firstContext;ve!==null;){if(ve.context===T){if($.tag===1){ve=ll(-1,j&-j),ve.tag=2;var Ie=$.updateQueue;if(Ie!==null){Ie=Ie.shared;var He=Ie.pending;He===null?ve.next=ve:(ve.next=He.next,He.next=ve),Ie.pending=ve}}$.lanes|=j,ve=$.alternate,ve!==null&&(ve.lanes|=j),rj($.return,j,m),de.lanes|=j;break}ve=ve.next}}else if($.tag===10)ee=$.type===m.type?null:$.child;else if($.tag===18){if(ee=$.return,ee===null)throw Error(r(341));ee.lanes|=j,de=ee.alternate,de!==null&&(de.lanes|=j),rj(ee,j,m),ee=$.sibling}else ee=$.child;if(ee!==null)ee.return=$;else for(ee=$;ee!==null;){if(ee===m){ee=null;break}if($=ee.sibling,$!==null){$.return=ee.return,ee=$;break}ee=ee.return}$=ee}Ei(d,m,M.children,j),m=m.child}return m;case 9:return M=m.type,T=m.pendingProps.children,Df(m,j),M=Hs(M),T=T(M),m.flags|=1,Ei(d,m,T,j),m.child;case 14:return T=m.type,M=ba(T,m.pendingProps),M=ba(T.type,M),hL(d,m,T,M,j);case 15:return pL(d,m,m.type,m.pendingProps,j);case 17:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:ba(T,M),Ix(d,m),m.tag=1,zi(T)?(d=!0,vx(m)):d=!1,Df(m,j),sL(m,T,M),yj(m,T,M,j),_j(null,m,T,!0,d,j);case 19:return _L(d,m,j);case 22:return mL(d,m,j)}throw Error(r(156,m.tag))};function HL(d,m){return Wy(d,m)}function qte(d,m,j,T){this.tag=d,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(d,m,j,T){return new qte(d,m,j,T)}function qj(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ute(d){if(typeof d=="function")return qj(d)?1:0;if(d!=null){if(d=d.$$typeof,d===V)return 11;if(d===re)return 14}return 2}function Cc(d,m){var j=d.alternate;return j===null?(j=Zs(d.tag,m,d.key,d.mode),j.elementType=d.elementType,j.type=d.type,j.stateNode=d.stateNode,j.alternate=d,d.alternate=j):(j.pendingProps=m,j.type=d.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=d.flags&14680064,j.childLanes=d.childLanes,j.lanes=d.lanes,j.child=d.child,j.memoizedProps=d.memoizedProps,j.memoizedState=d.memoizedState,j.updateQueue=d.updateQueue,m=d.dependencies,j.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},j.sibling=d.sibling,j.index=d.index,j.ref=d.ref,j}function Hx(d,m,j,T,M,$){var ee=2;if(T=d,typeof d=="function")qj(d)&&(ee=1);else if(typeof d=="string")ee=5;else e:switch(d){case O:return Zu(j.children,M,$,m);case I:ee=8,M|=8;break;case z:return d=Zs(12,j,m,M|2),d.elementType=z,d.lanes=$,d;case q:return d=Zs(13,j,m,M),d.elementType=q,d.lanes=$,d;case U:return d=Zs(19,j,m,M),d.elementType=U,d.lanes=$,d;case se:return Kx(j,M,$,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case Y:ee=10;break e;case Z:ee=9;break e;case V:ee=11;break e;case re:ee=14;break e;case ae:ee=16,T=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return m=Zs(ee,j,m,M),m.elementType=d,m.type=T,m.lanes=$,m}function Zu(d,m,j,T){return d=Zs(7,d,T,m),d.lanes=j,d}function Kx(d,m,j,T){return d=Zs(22,d,T,m),d.elementType=se,d.lanes=j,d.stateNode={isHidden:!1},d}function Uj(d,m,j){return d=Zs(6,d,null,m),d.lanes=j,d}function Vj(d,m,j){return m=Zs(4,d.children!==null?d.children:[],d.key,m),m.lanes=j,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Vte(d,m,j,T,M){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=T,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function Wj(d,m,j,T,M,$,ee,de,ve){return d=new Vte(d,m,j,de,ve),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Zs(3,null,null,m),d.current=$,$.stateNode=d,$.memoizedState={element:T,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},ij($),d}function Wte(d,m,j){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:T==null?null:""+T,children:d,containerInfo:m,implementation:j}}function KL(d){if(!d)return vc;d=d._reactInternals;e:{if(eo(d)!==d||d.tag!==1)throw Error(r(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(zi(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(d.tag===1){var j=d.type;if(zi(j))return wI(d,j,m)}return m}function GL(d,m,j,T,M,$,ee,de,ve){return d=Wj(j,T,!0,d,M,$,ee,de,ve),d.context=KL(null),j=d.current,T=Pi(),M=Sc(j),$=ll(T,M),$.callback=m??null,bc(j,$,M),d.current.lanes=M,ls(d,M,T),Vi(d,T),d}function Gx(d,m,j,T){var M=m.current,$=Pi(),ee=Sc(M);return j=KL(j),m.context===null?m.context=j:m.pendingContext=j,m=ll($,ee),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=bc(M,m,ee),d!==null&&(ja(d,M,ee,$),Nx(d,M,ee)),ee}function Zx(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function ZL(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var j=d.retryLane;d.retryLane=j!==0&&j<m?j:m}}function Hj(d,m){ZL(d,m),(d=d.alternate)&&ZL(d,m)}function Hte(){return null}var YL=typeof reportError=="function"?reportError:function(d){console.error(d)};function Kj(d){this._internalRoot=d}Yx.prototype.render=Kj.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(r(409));Gx(d,m,null,null)},Yx.prototype.unmount=Kj.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Hu(function(){Gx(null,d,null,null)}),m[hr]=null}};function Yx(d){this._internalRoot=d}Yx.prototype.unstable_scheduleHydration=function(d){if(d){var m=df();d={blockedOn:null,target:d,priority:m};for(var j=0;j<Cn.length&&m!==0&&m<Cn[j].priority;j++);Cn.splice(j,0,d),j===0&&ff(d)}};function Gj(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Xx(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function XL(){}function Kte(d,m,j,T,M){if(M){if(typeof T=="function"){var $=T;T=function(){var Ie=Zx(ee);$.call(Ie)}}var ee=GL(m,T,d,0,null,!1,!1,"",XL);return d._reactRootContainer=ee,d[hr]=ee.current,fc(d.nodeType===8?d.parentNode:d),Hu(),ee}for(;M=d.lastChild;)d.removeChild(M);if(typeof T=="function"){var de=T;T=function(){var Ie=Zx(ve);de.call(Ie)}}var ve=Wj(d,0,!1,null,null,!1,!1,"",XL);return d._reactRootContainer=ve,d[hr]=ve.current,fc(d.nodeType===8?d.parentNode:d),Hu(function(){Gx(m,ve,j,T)}),ve}function Qx(d,m,j,T,M){var $=j._reactRootContainer;if($){var ee=$;if(typeof M=="function"){var de=M;M=function(){var ve=Zx(ee);de.call(ve)}}Gx(m,ee,d,M)}else ee=Kte(j,m,d,M,T);return Zx(ee)}cf=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var j=Pt(m.pendingLanes);j!==0&&(pa(m,j|1),Vi(m,Yr()),(rr&6)===0&&(qf=Yr()+500,yc()))}break;case 13:Hu(function(){var T=ol(d,1);if(T!==null){var M=Pi();ja(T,d,1,M)}}),Hj(d,1)}},Ho=function(d){if(d.tag===13){var m=ol(d,134217728);if(m!==null){var j=Pi();ja(m,d,134217728,j)}Hj(d,134217728)}},uf=function(d){if(d.tag===13){var m=Sc(d),j=ol(d,m);if(j!==null){var T=Pi();ja(j,d,m,T)}Hj(d,m)}},df=function(){return Xt},Eu=function(d,m){var j=Xt;try{return Xt=d,m()}finally{Xt=j}},Vo=function(d,m,j){switch(m){case"input":if(Se(d,j),m=j.name,j.type==="radio"&&m!=null){for(j=d;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<j.length;m++){var T=j[m];if(T!==d&&T.form===d.form){var M=Tf(T);if(!M)throw Error(r(90));H(T),Se(T,M)}}}break;case"textarea":Xe(d,j);break;case"select":m=j.value,m!=null&&_e(d,!!j.multiple,m,!1)}},tr=Fj,yr=Hu;var Gte={usingClientEntryPoint:!1,Events:[rl,nl,Tf,rf,Nt,Fj]},$m={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zte={bundleType:$m.bundleType,version:$m.version,rendererPackageName:$m.rendererPackageName,rendererConfig:$m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Uy(d),d===null?null:d.stateNode},findFiberByHostInstance:$m.findFiberByHostInstance||Hte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jx.isDisabled&&Jx.supportsFiber)try{Nu=Jx.inject(Zte),os=Jx}catch{}}return Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gte,Wi.createPortal=function(d,m){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gj(m))throw Error(r(200));return Wte(d,m,null,j)},Wi.createRoot=function(d,m){if(!Gj(d))throw Error(r(299));var j=!1,T="",M=YL;return m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=Wj(d,1,!1,null,null,j,!1,T,M),d[hr]=m.current,fc(d.nodeType===8?d.parentNode:d),new Kj(m)},Wi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Uy(m),d=d===null?null:d.stateNode,d},Wi.flushSync=function(d){return Hu(d)},Wi.hydrate=function(d,m,j){if(!Xx(m))throw Error(r(200));return Qx(null,d,m,!0,j)},Wi.hydrateRoot=function(d,m,j){if(!Gj(d))throw Error(r(405));var T=j!=null&&j.hydratedSources||null,M=!1,$="",ee=YL;if(j!=null&&(j.unstable_strictMode===!0&&(M=!0),j.identifierPrefix!==void 0&&($=j.identifierPrefix),j.onRecoverableError!==void 0&&(ee=j.onRecoverableError)),m=GL(m,null,d,1,j??null,M,!1,$,ee),d[hr]=m.current,fc(d),T)for(d=0;d<T.length;d++)j=T[d],M=j._getVersion,M=M(j._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[j,M]:m.mutableSourceEagerHydrationData.push(j,M);return new Yx(m)},Wi.render=function(d,m,j){if(!Xx(m))throw Error(r(200));return Qx(null,d,m,!1,j)},Wi.unmountComponentAtNode=function(d){if(!Xx(d))throw Error(r(40));return d._reactRootContainer?(Hu(function(){Qx(null,null,d,!1,function(){d._reactRootContainer=null,d[hr]=null})}),!0):!1},Wi.unstable_batchedUpdates=Fj,Wi.unstable_renderSubtreeIntoContainer=function(d,m,j,T){if(!Xx(j))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return Qx(d,m,j,!1,T)},Wi.version="18.3.1-next-f1338f8080-20240426",Wi}var sD;function O8(){if(sD)return Xj.exports;sD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xj.exports=nre(),Xj.exports}var aD;function ire(){if(aD)return e0;aD=1;var e=O8();return e0.createRoot=e.createRoot,e0.hydrateRoot=e.hydrateRoot,e0}var sre=ire();const are=fr(sre);var Za=O8();const Qw=fr(Za);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}var Kc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kc||(Kc={}));const oD="popstate";function ore(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return T2("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:db(i)}return cre(t,r,null,e)}function rn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lre(){return Math.random().toString(36).substr(2,8)}function lD(e,t){return{usr:e.state,key:e.key,idx:t}}function T2(e,t,r,n){return r===void 0&&(r=null),zg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yp(t):t,{state:r,key:t&&t.key||n||lre()})}function db(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cre(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Kc.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(zg({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Kc.Pop;let _=f(),S=_==null?null:_-u;u=_,c&&c({action:l,location:y.location,delta:S})}function g(_,S){l=Kc.Push;let N=T2(y.location,_,S);u=f()+1;let C=lD(N,u),A=y.createHref(N);try{o.pushState(C,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}s&&c&&c({action:l,location:y.location,delta:1})}function v(_,S){l=Kc.Replace;let N=T2(y.location,_,S);u=f();let C=lD(N,u),A=y.createHref(N);o.replaceState(C,"",A),s&&c&&c({action:l,location:y.location,delta:0})}function w(_){let S=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:db(_);return N=N.replace(/ $/,"%20"),rn(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let y={get action(){return l},get location(){return e(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(oD,p),c=_,()=>{i.removeEventListener(oD,p),c=null}},createHref(_){return t(i,_)},createURL:w,encodeLocation(_){let S=w(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(_){return o.go(_)}};return y}var cD;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cD||(cD={}));function ure(e,t,r){return r===void 0&&(r="/"),dre(e,t,r)}function dre(e,t,r,n){let i=typeof t=="string"?yp(t):t,s=Rh(i.pathname||"/",r);if(s==null)return null;let o=M8(e);fre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=jre(s);l=wre(o[c],u)}return l}function M8(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(rn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Yc([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(rn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),M8(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:xre(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of I8(s.path))i(s,o,c)}),t}function I8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=I8(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function fre(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bre(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hre=/^:[\w-]+$/,pre=3,mre=2,gre=1,vre=10,yre=-2,uD=e=>e==="*";function xre(e,t){let r=e.split("/"),n=r.length;return r.some(uD)&&(n+=yre),t&&(n+=mre),r.filter(i=>!uD(i)).reduce((i,s)=>i+(hre.test(s)?pre:s===""?gre:vre),n)}function bre(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function wre(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=A2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Yc([s,p.pathname]),pathnameBase:Ere(Yc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Yc([s,p.pathnameBase]))}return o}function A2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_re(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,f,p)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let y=l[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[p];return v&&!w?u[g]=void 0:u[g]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function _re(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),R8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function jre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Sre(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?yp(e):e;return{pathname:r?r.startsWith("/")?r:Nre(r,t):t,search:Pre(n),hash:Tre(i)}}function Nre(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function eS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cre(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fk(e,t){let r=Cre(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Bk(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=yp(e):(i=zg({},e),rn(!i.pathname||!i.pathname.includes("?"),eS("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),eS("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),eS("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?t[p]:"/"}let c=Sre(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Yc=e=>e.join("/").replace(/\/\/+/g,"/"),Ere=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Are(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const L8=["post","put","patch","delete"];new Set(L8);const kre=["get",...L8];new Set(kre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}const Jw=x.createContext(null),D8=x.createContext(null),zl=x.createContext(null),e_=x.createContext(null),Bo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),$8=x.createContext(null);function Ore(e,t){let{relative:r}=t===void 0?{}:t;xp()||rn(!1);let{basename:n,navigator:i}=x.useContext(zl),{hash:s,pathname:o,search:l}=t_(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Yc([n,o])),i.createHref({pathname:c,search:l,hash:s})}function xp(){return x.useContext(e_)!=null}function ji(){return xp()||rn(!1),x.useContext(e_).location}function F8(e){x.useContext(zl).static||x.useLayoutEffect(e)}function Dn(){let{isDataRoute:e}=x.useContext(Bo);return e?Kre():Rre()}function Rre(){xp()||rn(!1);let e=x.useContext(Jw),{basename:t,future:r,navigator:n}=x.useContext(zl),{matches:i}=x.useContext(Bo),{pathname:s}=ji(),o=JSON.stringify(Fk(i,r.v7_relativeSplatPath)),l=x.useRef(!1);return F8(()=>{l.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=Bk(u,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Yc([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,s,e])}const Mre=x.createContext(null);function Ire(e){let t=x.useContext(Bo).outlet;return t&&x.createElement(Mre.Provider,{value:e},t)}function zk(){let{matches:e}=x.useContext(Bo),t=e[e.length-1];return t?t.params:{}}function t_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(zl),{matches:i}=x.useContext(Bo),{pathname:s}=ji(),o=JSON.stringify(Fk(i,n.v7_relativeSplatPath));return x.useMemo(()=>Bk(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Lre(e,t){return Dre(e,t)}function Dre(e,t,r,n){xp()||rn(!1);let{navigator:i}=x.useContext(zl),{matches:s}=x.useContext(Bo),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ji(),f;if(t){var p;let _=typeof t=="string"?yp(t):t;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||rn(!1),f=_}else f=u;let g=f.pathname||"/",v=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=ure(e,{pathname:v}),y=qre(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Yc([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Yc([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return t&&y?x.createElement(e_.Provider,{value:{location:qg({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Kc.Pop}},y):y}function $re(){let e=Hre(),t=Are(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,null)}const Fre=x.createElement($re,null);class Bre extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Bo.Provider,{value:this.props.routeContext},x.createElement($8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zre(e){let{routeContext:t,match:r,children:n}=e,i=x.useContext(Jw);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Bo.Provider,{value:t},n)}function qre(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);f>=0||rn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:v}=r,w=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,w=!1,y=null,_=null;r&&(v=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||Fre,c&&(u<0&&g===0?(Gre("route-fallback"),w=!0,_=null):u===g&&(w=!0,_=p.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,g+1)),N=()=>{let C;return v?C=y:w?C=_:p.route.Component?C=x.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,x.createElement(zre,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(Bre,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var B8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(B8||{}),z8=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(z8||{});function Ure(e){let t=x.useContext(Jw);return t||rn(!1),t}function Vre(e){let t=x.useContext(D8);return t||rn(!1),t}function Wre(e){let t=x.useContext(Bo);return t||rn(!1),t}function q8(e){let t=Wre(),r=t.matches[t.matches.length-1];return r.route.id||rn(!1),r.route.id}function Hre(){var e;let t=x.useContext($8),r=Vre(),n=q8();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Kre(){let{router:e}=Ure(B8.UseNavigateStable),t=q8(z8.UseNavigateStable),r=x.useRef(!1);return F8(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,qg({fromRouteId:t},s)))},[e,t])}const dD={};function Gre(e,t,r){dD[e]||(dD[e]=!0)}function Zre(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function fD(e){let{to:t,replace:r,state:n,relative:i}=e;xp()||rn(!1);let{future:s,static:o}=x.useContext(zl),{matches:l}=x.useContext(Bo),{pathname:c}=ji(),u=Dn(),f=Bk(t,Fk(l,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(f);return x.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:i}),[u,p,i,r,n]),null}function U8(e){return Ire(e.context)}function Ft(e){rn(!1)}function Yre(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Kc.Pop,navigator:s,static:o=!1,future:l}=e;xp()&&rn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:qg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=yp(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:w="default"}=n,y=x.useMemo(()=>{let _=Rh(f,c);return _==null?null:{location:{pathname:_,search:p,hash:g,state:v,key:w},navigationType:i}},[c,f,p,g,v,w,i]);return y==null?null:x.createElement(zl.Provider,{value:u},x.createElement(e_.Provider,{children:r,value:y}))}function Xre(e){let{children:t,location:r}=e;return Lre(k2(t),r)}new Promise(()=>{});function k2(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let s=[...t,i];if(n.type===x.Fragment){r.push.apply(r,k2(n.props.children,s));return}n.type!==Ft&&rn(!1),!n.props.index||!n.props.children||rn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=k2(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(this,arguments)}function V8(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Qre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jre(e,t){return e.button===0&&(!t||t==="_self")&&!Qre(e)}function O2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function ene(e,t){let r=O2(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const tne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rne=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],nne="6";try{window.__reactRouterVersion=nne}catch{}const ine=x.createContext({isTransitioning:!1}),sne="startTransition",hD=iu[sne];function ane(e){let{basename:t,children:r,future:n,window:i}=e,s=x.useRef();s.current==null&&(s.current=ore({window:i,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=x.useCallback(p=>{u&&hD?hD(()=>c(p)):c(p)},[c,u]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.useEffect(()=>Zre(n),[n]),x.createElement(Yre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const one=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ir=x.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:p}=t,g=V8(t,tne),{basename:v}=x.useContext(zl),w,y=!1;if(typeof u=="string"&&lne.test(u)&&(w=u,one))try{let C=new URL(window.location.href),A=u.startsWith("//")?new URL(C.protocol+u):new URL(u),P=Rh(A.pathname,v);A.origin===C.origin&&P!=null?u=P+A.search+A.hash:y=!0}catch{}let _=Ore(u,{relative:i}),S=une(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p});function N(C){n&&n(C),C.defaultPrevented||S(C)}return x.createElement("a",fb({},g,{href:w||_,onClick:y||s?n:N,ref:r,target:c}))}),Yu=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,p=V8(t,rne),g=t_(c,{relative:p.relative}),v=ji(),w=x.useContext(D8),{navigator:y,basename:_}=x.useContext(zl),S=w!=null&&dne(g)&&u===!0,N=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,C=v.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(C=C.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&_&&(A=Rh(A,_)||A);const P=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=C===N||!o&&C.startsWith(N)&&C.charAt(P)==="/",O=A!=null&&(A===N||!o&&A.startsWith(N)&&A.charAt(N.length)==="/"),I={isActive:k,isPending:O,isTransitioning:S},z=k?n:void 0,Y;typeof s=="function"?Y=s(I):Y=[s,k?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Z=typeof l=="function"?l(I):l;return x.createElement(ir,fb({},p,{"aria-current":z,className:Y,ref:r,style:Z,to:c,viewTransition:u}),typeof f=="function"?f(I):f)});var R2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(R2||(R2={}));var pD;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pD||(pD={}));function cne(e){let t=x.useContext(Jw);return t||rn(!1),t}function une(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Dn(),u=ji(),f=t_(e,{relative:o});return x.useCallback(p=>{if(Jre(p,r)){p.preventDefault();let g=n!==void 0?n:db(u)===db(f);c(e,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,n,i,r,e,s,o,l])}function qk(e){let t=x.useRef(O2(e)),r=x.useRef(!1),n=ji(),i=x.useMemo(()=>ene(n.search,r.current?null:t.current),[n.search]),s=Dn(),o=x.useCallback((l,c)=>{const u=O2(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function dne(e,t){t===void 0&&(t={});let r=x.useContext(ine);r==null&&rn(!1);let{basename:n}=cne(R2.useViewTransitionState),i=t_(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Rh(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Rh(r.nextLocation.pathname,n)||r.nextLocation.pathname;return A2(i.pathname,o)!=null||A2(i.pathname,s)!=null}var bp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sd=typeof window>"u"||"Deno"in globalThis;function Ai(){}function fne(e,t){return typeof e=="function"?e(t):e}function M2(e){return typeof e=="number"&&e>=0&&e!==1/0}function W8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xc(e,t){return typeof e=="function"?e(t):e}function ra(e,t){return typeof e=="function"?e(t):e}function mD(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Uk(o,t.options))return!1}else if(!Ug(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function gD(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Nd(t.options.mutationKey)!==Nd(s))return!1}else if(!Ug(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Uk(e,t){return(t?.queryKeyHashFn||Nd)(e)}function Nd(e){return JSON.stringify(e,(t,r)=>I2(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ug(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ug(e[r],t[r])):!1}function H8(e,t){if(e===t)return e;const r=vD(e)&&vD(t);if(r||I2(e)&&I2(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<o;f++){const p=r?f:s[f];(!r&&c.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(l[p]=void 0,u++):(l[p]=H8(e[p],t[p]),l[p]===e[p]&&e[p]!==void 0&&u++)}return i===o&&u===i?e:l}return t}function hb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I2(e){if(!yD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yD(e){return Object.prototype.toString.call(e)==="[object Object]"}function hne(e){return new Promise(t=>{setTimeout(t,e)})}function L2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?H8(e,t):t}function pne(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Vk=Symbol();function K8(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Vk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function G8(e,t){return typeof e=="function"?e(...t):!!e}var gne=class extends bp{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Sd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Wk=new gne,vne=class extends bp{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Sd&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},pb=new vne;function D2(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function yne(e){return Math.min(1e3*2**e,3e4)}function Z8(e){return(e??"online")==="online"?pb.isOnline():!0}var Y8=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function X8(e){let t=!1,r=0,n;const i=D2(),s=()=>i.status!=="pending",o=y=>{s()||(g(new Y8(y)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>Wk.isFocused()&&(e.networkMode==="always"||pb.isOnline())&&e.canRun(),f=()=>Z8(e.networkMode)&&e.canRun(),p=y=>{s()||(n?.(),i.resolve(y))},g=y=>{s()||(n?.(),i.reject(y))},v=()=>new Promise(y=>{n=_=>{(s()||u())&&y(_)},e.onPause?.()}).then(()=>{n=void 0,s()||e.onContinue?.()}),w=()=>{if(s())return;let y;const _=r===0?e.initialPromise:void 0;try{y=_??e.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(p).catch(S=>{if(s())return;const N=e.retry??(Sd?0:3),C=e.retryDelay??yne,A=typeof C=="function"?C(r,S):C,P=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,S);if(t||!P){g(S);return}r++,e.onFail?.(r,S),hne(A).then(()=>u()?void 0:v()).then(()=>{t?g(S):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?w():v().then(w),i)}}var xne=e=>setTimeout(e,0);function bne(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=xne;const s=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Mn=bne(),Q8=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M2(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sd?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},wne=class extends Q8{#t;#e;#r;#n;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=_ne(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=L2(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Ai).catch(Ai):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ra(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Xc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!W8(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const l=K8(this.options,t),u=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=X8({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Y8){if(l.silent)return this.#i.promise;if(l.revert)return this.setState({...this.#e,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...J8(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?n:void 0,n;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function J8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _ne(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jne=class extends bp{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??Uk(n,t);let s=this.get(i);return s||(s=new wne({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>mD(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>mD(e,r)):t}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sne=class extends Q8{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||eV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=X8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Mn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function eV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nne=class extends bp{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new Sne({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=t0(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=t0(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=t0(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=t0(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Mn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>gD(t,r))}findAll(e={}){return this.getAll().filter(t=>gD(e,t))}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ai))))}};function t0(e){return e.options.scope?.id}function mb(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=K8(t.options,t.fetchOptions),v=async(w,y,_)=>{if(f)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:y,direction:_?"backward":"forward",meta:t.options.meta};return p(k),k})(),C=await g(N),{maxPages:A}=t.options,P=_?mne:pne;return{pages:P(w.pages,C,A),pageParams:P(w.pageParams,y,A)}};if(i&&s.length){const w=i==="backward",y=w?tV:$2,_={pages:s,pageParams:o},S=y(n,_);l=await v(_,S,w)}else{const w=e??s.length;do{const y=c===0?o[0]??n.initialPageParam:$2(n,l);if(c>0&&y==null)break;l=await v(l,y),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function $2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tV(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function Cne(e,t){return t?$2(e,t)!=null:!1}function Ene(e,t){return!t||!e.getPreviousPageParam?!1:tV(e,t)!=null}var rV=class{#t;#e;#r;#n;#i;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new jne,this.#e=e.mutationCache||new Nne,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Wk.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=pb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Xc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(n.queryHash)?.state.data,o=fne(t,s);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Mn.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Mn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Mn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Mn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Ai).catch(Ai)}invalidateQueries(e,t={}){return Mn.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Mn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ai)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ai)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Xc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ai).catch(Ai)}fetchInfiniteQuery(e){return e.behavior=mb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ai).catch(Ai)}ensureInfiniteQueryData(e){return e.behavior=mb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pb.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Nd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ug(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(Nd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{Ug(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Uk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Vk&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},nV=class extends bp{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=D2(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),xD(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return F2(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return F2(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ra(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!hb(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&bD(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||ra(this.options.enabled,this.#e)!==ra(t.enabled,this.#e)||Xc(this.options.staleTime,this.#e)!==Xc(t.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||ra(this.options.enabled,this.#e)!==ra(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Tne(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ai)),t}#g(){this.#b();const e=Xc(this.options.staleTime,this.#e);if(Sd||this.#n.isStale||!M2(e))return;const r=W8(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Sd||ra(this.options.enabled,this.#e)===!1||!M2(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Wk.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,s=this.#i,o=this.#a,c=e!==r?e.state:this.#r,{state:u}=e;let f={...u},p=!1,g;if(t._optimisticResults){const I=this.hasListeners(),z=!I&&xD(e,t),Y=I&&bD(e,r,t,n);(z||Y)&&(f={...f,...J8(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:y}=f;g=f.data;let _=!1;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let I;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(I=i.data,_=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(y="success",g=L2(i?.data,I,t),p=!0)}if(t.select&&g!==void 0&&!_)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=L2(i?.data,g,t),this.#f=g,this.#s=null}catch(I){this.#s=I}this.#s&&(v=this.#s,g=this.#f,w=Date.now(),y="error");const S=f.fetchStatus==="fetching",N=y==="pending",C=y==="error",A=N&&S,P=g!==void 0,O={status:y,fetchStatus:f.fetchStatus,isPending:N,isSuccess:y==="success",isError:C,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!N,isLoadingError:C&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&P,isStale:Hk(e,t),refetch:this.refetch,promise:this.#o,isEnabled:ra(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=Z=>{O.status==="error"?Z.reject(O.error):O.data!==void 0&&Z.resolve(O.data)},z=()=>{const Z=this.#o=O.promise=D2();I(Z)},Y=this.#o;switch(Y.status){case"pending":e.queryHash===r.queryHash&&I(Y);break;case"fulfilled":(O.status==="error"||O.data!==Y.value)&&z();break;case"rejected":(O.status!=="error"||O.error!==Y.reason)&&z();break}}return O}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),hb(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&s.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(e){Mn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Pne(e,t){return ra(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xD(e,t){return Pne(e,t)||e.state.data!==void 0&&F2(e,t,t.refetchOnMount)}function F2(e,t,r){if(ra(t.enabled,e)!==!1&&Xc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Hk(e,t)}return!1}function bD(e,t,r,n){return(e!==t||ra(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Hk(e,r)}function Hk(e,t){return ra(t.enabled,e)!==!1&&e.isStaleByTime(Xc(t.staleTime,e))}function Tne(e,t){return!hb(e.getCurrentResult(),t)}var Ane=class extends nV{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:mb()})}getOptimisticResult(e){return e.behavior=mb(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,n=super.createResult(e,t),{isFetching:i,isRefetching:s,isError:o,isRefetchError:l}=n,c=r.fetchMeta?.fetchMore?.direction,u=o&&c==="forward",f=i&&c==="forward",p=o&&c==="backward",g=i&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Cne(t,r.data),hasPreviousPage:Ene(t,r.data),isFetchNextPageError:u,isFetchingNextPage:f,isFetchPreviousPageError:p,isFetchingPreviousPage:g,isRefetchError:l&&!u&&!p,isRefetching:s&&!f&&!g}}},kne=class extends bp{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),hb(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Nd(r.mutationKey)!==Nd(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??eV();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Mn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},iV=x.createContext(void 0),zo=e=>{const t=x.useContext(iV);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},sV=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(iV.Provider,{value:e,children:t})),aV=x.createContext(!1),One=()=>x.useContext(aV);aV.Provider;function Rne(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mne=x.createContext(Rne()),oV=()=>x.useContext(Mne),Ine=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Lne=e=>{x.useEffect(()=>{e.clearReset()},[e])},Dne=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||G8(r,[e.error,n])),$ne=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Fne=(e,t)=>e.isLoading&&e.isFetching&&!t,Bne=(e,t)=>e?.suspense&&t.isPending,wD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function lV(e,t,r){const n=One(),i=oV(),s=zo(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",$ne(o),Ine(o,i),Lne(i);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(p=>{const g=f?c.subscribe(Mn.batchCalls(p)):Ai;return c.updateResult(),g},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),Bne(o,u))throw wD(o,c,i);if(Dne({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Sd&&Fne(u,n)&&(l?wD(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Ai).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function ri(e,t){return lV(e,nV)}function ii(e,t){const r=zo(),[n]=x.useState(()=>new kne(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Mn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((o,l)=>{n.mutate(o,l).catch(Ai)},[n]);if(i.error&&G8(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function zne(e,t){return lV(e,Ane)}const qne="modulepreload",Une=function(e){return"/"+e},_D={},Yv=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(r.map(f=>{if(f=Une(f),f in _D)return;_D[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":qne,p||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((w,y)=>{v.addEventListener("load",w),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function cV(){return x.useEffect(()=>{if(typeof document<"u"){let e=document.getElementById("toaster-container");e||(e=document.createElement("div"),e.id="toaster-container",e.className="fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none",document.body.appendChild(e))}},[]),a.jsx("div",{id:"toaster-container",className:"fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none"})}const Kk=x.createContext({});function Gk(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const r_=x.createContext(null),Zk=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Vne extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Wne({children:e,isPresent:t}){const r=x.useId(),n=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=x.useContext(Zk);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),a.jsx(Vne,{isPresent:t,childRef:n,sizeRef:i,children:x.cloneElement(e,{ref:n})})}const Hne=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=Gk(Kne),c=x.useId(),u=x.useCallback(p=>{l.set(p,!0);for(const g of l.values())if(!g)return;n&&n()},[l,n]),f=x.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:u,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),u]:[r,u]);return x.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[r]),x.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(Wne,{isPresent:r,children:e})),a.jsx(r_.Provider,{value:f,children:e})};function Kne(){return new Map}function uV(e=!0){const t=x.useContext(r_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=x.useId();x.useEffect(()=>{e&&i(s)},[e]);const o=x.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const r0=e=>e.key||"";function jD(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const Yk=typeof window<"u",dV=Yk?x.useLayoutEffect:x.useEffect,si=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[l,c]=uV(o),u=x.useMemo(()=>jD(e),[e]),f=o&&!l?[]:u.map(r0),p=x.useRef(!0),g=x.useRef(u),v=Gk(()=>new Map),[w,y]=x.useState(u),[_,S]=x.useState(u);dV(()=>{p.current=!1,g.current=u;for(let A=0;A<_.length;A++){const P=r0(_[A]);f.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[_,f.length,f.join("-")]);const N=[];if(u!==w){let A=[...u];for(let P=0;P<_.length;P++){const k=_[P],O=r0(k);f.includes(O)||(A.splice(P,0,k),N.push(k))}s==="wait"&&N.length&&(A=N),S(jD(A)),y(u);return}const{forceRender:C}=x.useContext(Kk);return a.jsx(a.Fragment,{children:_.map(A=>{const P=r0(A),k=o&&!l?!1:u===_||f.includes(P),O=()=>{if(v.has(P))v.set(P,!0);else return;let I=!0;v.forEach(z=>{z||(I=!1)}),I&&(C?.(),S(g.current),o&&c?.(),n&&n())};return a.jsx(Hne,{isPresent:k,initial:!p.current||r?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:k?void 0:O,children:A},P)})})},Ps=e=>e;let fV=Ps;function Xk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},wl=e=>e*1e3,_l=e=>e/1e3,Gne={useManualTiming:!1};function Zne(e){let t=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,p=!1)=>{const v=p&&n?t:r;return f&&s.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const n0=["read","resolveKeyframes","update","preRender","render","postRender"],Yne=40;function hV(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=n0.reduce((S,N)=>(S[N]=Zne(s),S),{}),{read:l,resolveKeyframes:c,update:u,preRender:f,render:p,postRender:g}=o,v=()=>{const S=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,Yne),1),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(v))},w=()=>{r=!0,n=!0,i.isProcessing||e(v)};return{schedule:n0.reduce((S,N)=>{const C=o[N];return S[N]=(A,P=!1,k=!1)=>(r||w(),C.schedule(A,P,k)),S},{}),cancel:S=>{for(let N=0;N<n0.length;N++)o[n0[N]].cancel(S)},state:i,steps:o}}const{schedule:Wr,cancel:su,state:ti,steps:tS}=hV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ps,!0),pV=x.createContext({strict:!1}),SD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ih={};for(const e in SD)Ih[e]={isEnabled:t=>SD[e].some(r=>!!t[r])};function Xne(e){for(const t in e)Ih[t]={...Ih[t],...e[t]}}const Qne=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qne.has(e)}let mV=e=>!gb(e);function Jne(e){e&&(mV=t=>t.startsWith("on")?!gb(t):e(t))}try{Jne(require("@emotion/is-prop-valid").default)}catch{}function eie(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(mV(i)||r===!0&&gb(i)||!t&&!gb(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function tie(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const n_=x.createContext({});function Vg(e){return typeof e=="string"||Array.isArray(e)}function i_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Qk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jk=["initial",...Qk];function s_(e){return i_(e.animate)||Jk.some(t=>Vg(e[t]))}function gV(e){return!!(s_(e)||e.variants)}function rie(e,t){if(s_(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Vg(r)?r:void 0,animate:Vg(n)?n:void 0}}return e.inherit!==!1?t:{}}function nie(e){const{initial:t,animate:r}=rie(e,x.useContext(n_));return x.useMemo(()=>({initial:t,animate:r}),[ND(t),ND(r)])}function ND(e){return Array.isArray(e)?e.join(" "):e}const iie=Symbol.for("motionComponentSymbol");function mh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sie(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):mh(r)&&(r.current=n))},[t])}const eO=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aie="framerAppearId",vV="data-"+eO(aie),{schedule:tO}=hV(queueMicrotask,!1),yV=x.createContext({});function oie(e,t,r,n,i){var s,o;const{visualElement:l}=x.useContext(n_),c=x.useContext(pV),u=x.useContext(r_),f=x.useContext(Zk).reducedMotion,p=x.useRef(null);n=n||c.renderer,!p.current&&n&&(p.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,v=x.useContext(yV);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&lie(p.current,r,i,v);const w=x.useRef(!1);x.useInsertionEffect(()=>{g&&w.current&&g.update(r,u)});const y=r[vV],_=x.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return dV(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),tO.render(g.render),_.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,y)}),_.current=!1))}),g}function lie(e,t,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:xV(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&mh(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function xV(e){if(e)return e.options.allowProjection!==!1?e.projection:xV(e.parent)}function cie({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var s,o;e&&Xne(e);function l(u,f){let p;const g={...x.useContext(Zk),...u,layoutId:uie(u)},{isStatic:v}=g,w=nie(u),y=n(u,v);if(!v&&Yk){die();const _=fie(g);p=_.MeasureLayout,w.visualElement=oie(i,y,g,t,_.ProjectionNode)}return a.jsxs(n_.Provider,{value:w,children:[p&&w.visualElement?a.jsx(p,{visualElement:w.visualElement,...g}):null,r(i,u,sie(y,w.visualElement,f),y,v,w.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[iie]=i,c}function uie({layoutId:e}){const t=x.useContext(Kk).id;return t&&e!==void 0?t+"-"+e:e}function die(e,t){x.useContext(pV).strict}function fie(e){const{drag:t,layout:r}=Ih;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const hie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rO(e){return typeof e!="string"||e.includes("-")?!1:!!(hie.indexOf(e)>-1||/[A-Z]/u.test(e))}function CD(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function nO(e,t,r,n){if(typeof t=="function"){const[i,s]=CD(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=CD(n);t=t(r!==void 0?r:e.custom,i,s)}return t}const B2=e=>Array.isArray(e),pie=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),mie=e=>B2(e)?e[e.length-1]||0:e,wi=e=>!!(e&&e.getVelocity);function Y0(e){const t=wi(e)?e.get():e;return pie(t)?t.toValue():t}function gie({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,s){const o={latestValues:vie(n,i,s,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const bV=e=>(t,r)=>{const n=x.useContext(n_),i=x.useContext(r_),s=()=>gie(e,t,n,i);return r?s():Gk(s)};function vie(e,t,r,n){const i={},s=n(e,{});for(const g in s)i[g]=Y0(s[g]);let{initial:o,animate:l}=e;const c=s_(e),u=gV(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?l:o;if(p&&typeof p!="boolean"&&!i_(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const w=nO(e,g[v]);if(w){const{transitionEnd:y,transition:_,...S}=w;for(const N in S){let C=S[N];if(Array.isArray(C)){const A=f?C.length-1:0;C=C[A]}C!==null&&(i[N]=C)}for(const N in y)i[N]=y[N]}}}return i}const wp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bd=new Set(wp),wV=e=>t=>typeof t=="string"&&t.startsWith(e),_V=wV("--"),yie=wV("var(--"),iO=e=>yie(e)?xie.test(e.split("/*")[0].trim()):!1,xie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ol=(e,t,r)=>r>t?t:r<e?e:r,_p={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wg={..._p,transform:e=>Ol(0,1,e)},i0={..._p,default:1},Xv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mc=Xv("deg"),So=Xv("%"),jt=Xv("px"),bie=Xv("vh"),wie=Xv("vw"),ED={...So,parse:e=>So.parse(e)/100,transform:e=>So.transform(e*100)},_ie={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt},jie={rotate:Mc,rotateX:Mc,rotateY:Mc,rotateZ:Mc,scale:i0,scaleX:i0,scaleY:i0,scaleZ:i0,skew:Mc,skewX:Mc,skewY:Mc,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:Wg,originX:ED,originY:ED,originZ:jt},PD={..._p,transform:Math.round},sO={..._ie,...jie,zIndex:PD,size:jt,fillOpacity:Wg,strokeOpacity:Wg,numOctaves:PD},Sie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nie=wp.length;function Cie(e,t,r){let n="",i=!0;for(let s=0;s<Nie;s++){const o=wp[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=jV(l,sO[o]);if(!c){i=!1;const f=Sie[o]||o;n+=`${f}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function aO(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Bd.has(c)){o=!0;continue}else if(_V(c)){i[c]=u;continue}else{const f=jV(u,sO[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(t.transform||(o||r?n.transform=Cie(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const Eie={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pie={offset:"strokeDashoffset",array:"strokeDasharray"};function Tie(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?Eie:Pie;e[s.offset]=jt.transform(-n);const o=jt.transform(t),l=jt.transform(r);e[s.array]=`${o} ${l}`}function TD(e,t,r){return typeof e=="string"?e:jt.transform(t+r*e)}function Aie(e,t,r){const n=TD(t,e.x,e.width),i=TD(r,e.y,e.height);return`${n} ${i}`}function oO(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,p){if(aO(e,u,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v,dimensions:w}=e;g.transform&&(w&&(v.transform=g.transform),delete g.transform),w&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Aie(w,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&Tie(g,o,l,c,!1)}const lO=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),SV=()=>({...lO(),attrs:{}}),cO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NV(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const CV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EV(e,t,r,n){NV(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(CV.has(i)?i:eO(i),t.attrs[i])}const vb={};function kie(e){Object.assign(vb,e)}function PV(e,{layout:t,layoutId:r}){return Bd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!vb[e]||e==="opacity")}function uO(e,t,r){var n;const{style:i}=e,s={};for(const o in i)(wi(i[o])||t.style&&wi(t.style[o])||PV(o,e)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function TV(e,t,r){const n=uO(e,t,r);for(const i in e)if(wi(e[i])||wi(t[i])){const s=wp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}function Oie(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const AD=["x","y","width","height","cx","cy","r"],Rie={useVisualState:bV({scrapeMotionValuesFromProps:TV,createRenderState:SV,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!e.drag;if(!s){for(const l in i)if(Bd.has(l)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let l=0;l<AD.length;l++){const c=AD[l];e[c]!==t[c]&&(o=!0)}o&&Wr.read(()=>{Oie(r,n),Wr.render(()=>{oO(n,i,cO(r.tagName),e.transformTemplate),EV(r,n)})})}})},Mie={useVisualState:bV({scrapeMotionValuesFromProps:uO,createRenderState:lO})};function AV(e,t,r){for(const n in t)!wi(t[n])&&!PV(n,r)&&(e[n]=t[n])}function Iie({transformTemplate:e},t){return x.useMemo(()=>{const r=lO();return aO(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Lie(e,t){const r=e.style||{},n={};return AV(n,r,e),Object.assign(n,Iie(e,t)),n}function Die(e,t){const r={},n=Lie(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function $ie(e,t,r,n){const i=x.useMemo(()=>{const s=SV();return oO(s,t,cO(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};AV(s,e.style,e),i.style={...s,...i.style}}return i}function Fie(e=!1){return(r,n,i,{latestValues:s},o)=>{const c=(rO(r)?$ie:Die)(n,s,o,r),u=eie(n,typeof r=="string",e),f=r!==x.Fragment?{...u,...c,ref:i}:{},{children:p}=n,g=x.useMemo(()=>wi(p)?p.get():p,[p]);return x.createElement(r,{...f,children:g})}}function Bie(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...rO(n)?Rie:Mie,preloadedFeatures:e,useRender:Fie(i),createVisualElement:t,Component:n};return cie(o)}}function kV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function a_(e,t,r){const n=e.getProps();return nO(n,t,r!==void 0?r:n.custom,e)}const zie=Xk(()=>window.ScrollTimeline!==void 0);class qie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(zie()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Uie extends qie{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function dO(e,t){return e?e[t]||e.default||e:void 0}const z2=2e4;function OV(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<z2;)t+=r,n=e.next(t);return t>=z2?1/0:t}function fO(e){return typeof e=="function"}function kD(e,t){e.timeline=t,e.onfinish=null}const hO=e=>Array.isArray(e)&&typeof e[0]=="number",Vie={linearEasing:void 0};function Wie(e,t){const r=Xk(e);return()=>{var n;return(n=Vie[t])!==null&&n!==void 0?n:r()}}const yb=Wie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),RV=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=e(Mh(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function MV(e){return!!(typeof e=="function"&&yb()||!e||typeof e=="string"&&(e in q2||yb())||hO(e)||Array.isArray(e)&&e.every(MV))}const ug=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,q2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ug([0,.65,.55,1]),circOut:ug([.55,0,1,.45]),backIn:ug([.31,.01,.66,-.59]),backOut:ug([.33,1.53,.69,.99])};function IV(e,t){if(e)return typeof e=="function"&&yb()?RV(e,t):hO(e)?ug(e):Array.isArray(e)?e.map(r=>IV(r,t)||q2.easeOut):q2[e]}const Ea={x:!1,y:!1};function LV(){return Ea.x||Ea.y}function Hie(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function DV(e,t){const r=Hie(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function OD(e){return t=>{t.pointerType==="touch"||LV()||e(t)}}function Kie(e,t,r={}){const[n,i,s]=DV(e,r),o=OD(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const f=OD(p=>{u(p),c.removeEventListener("pointerleave",f)});c.addEventListener("pointerleave",f,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const $V=(e,t)=>t?e===t?!0:$V(e,t.parentElement):!1,pO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Gie=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zie(e){return Gie.has(e.tagName)||e.tabIndex!==-1}const dg=new WeakSet;function RD(e){return t=>{t.key==="Enter"&&e(t)}}function rS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Yie=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=RD(()=>{if(dg.has(r))return;rS(r,"down");const i=RD(()=>{rS(r,"up")}),s=()=>rS(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function MD(e){return pO(e)&&!LV()}function Xie(e,t,r={}){const[n,i,s]=DV(e,r),o=l=>{const c=l.currentTarget;if(!MD(l)||dg.has(c))return;dg.add(c);const u=t(l),f=(v,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!MD(v)||!dg.has(c))&&(dg.delete(c),typeof u=="function"&&u(v,{success:w}))},p=v=>{f(v,r.useGlobalTarget||$V(c,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(l=>{!Zie(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>Yie(u,i),i)}),s}function Qie(e){return e==="x"||e==="y"?Ea[e]?null:(Ea[e]=!0,()=>{Ea[e]=!1}):Ea.x||Ea.y?null:(Ea.x=Ea.y=!0,()=>{Ea.x=Ea.y=!1})}const FV=new Set(["width","height","top","left","right","bottom",...wp]);let X0;function Jie(){X0=void 0}const No={now:()=>(X0===void 0&&No.set(ti.isProcessing||Gne.useManualTiming?ti.timestamp:performance.now()),X0),set:e=>{X0=e,queueMicrotask(Jie)}};function mO(e,t){e.indexOf(t)===-1&&e.push(t)}function gO(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class vO{constructor(){this.subscriptions=[]}add(t){return mO(this.subscriptions,t),()=>gO(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function BV(e,t){return t?e*(1e3/t):0}const ID=30,ese=e=>!isNaN(parseFloat(e));class tse{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=No.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=No.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ese(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new vO);const n=this.events[t].add(r);return t==="change"?()=>{n(),Wr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=No.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ID)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ID);return BV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hg(e,t){return new tse(e,t)}function rse(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hg(r))}function nse(e,t){const r=a_(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=mie(s[o]);rse(e,o,l)}}function ise(e){return!!(wi(e)&&e.add)}function U2(e,t){const r=e.getValue("willChange");if(ise(r))return r.add(t)}function zV(e){return e.props[vV]}const qV=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,sse=1e-7,ase=12;function ose(e,t,r,n,i){let s,o,l=0;do o=t+(r-t)/2,s=qV(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>sse&&++l<ase);return o}function Qv(e,t,r,n){if(e===t&&r===n)return Ps;const i=s=>ose(s,0,1,e,r);return s=>s===0||s===1?s:qV(i(s),t,n)}const UV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,VV=e=>t=>1-e(1-t),WV=Qv(.33,1.53,.69,.99),yO=VV(WV),HV=UV(yO),KV=e=>(e*=2)<1?.5*yO(e):.5*(2-Math.pow(2,-10*(e-1))),xO=e=>1-Math.sin(Math.acos(e)),GV=VV(xO),ZV=UV(xO),YV=e=>/^0[^.\s]+$/u.test(e);function lse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YV(e):!0}const Ng=e=>Math.round(e*1e5)/1e5,bO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cse(e){return e==null}const use=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wO=(e,t)=>r=>!!(typeof r=="string"&&use.test(r)&&r.startsWith(e)||t&&!cse(r)&&Object.prototype.hasOwnProperty.call(r,t)),XV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(bO);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dse=e=>Ol(0,255,e),nS={..._p,transform:e=>Math.round(dse(e))},ud={test:wO("rgb","red"),parse:XV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+nS.transform(e)+", "+nS.transform(t)+", "+nS.transform(r)+", "+Ng(Wg.transform(n))+")"};function fse(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const V2={test:wO("#"),parse:fse,transform:ud.transform},gh={test:wO("hsl","hue"),parse:XV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+So.transform(Ng(t))+", "+So.transform(Ng(r))+", "+Ng(Wg.transform(n))+")"},vi={test:e=>ud.test(e)||V2.test(e)||gh.test(e),parse:e=>ud.test(e)?ud.parse(e):gh.test(e)?gh.parse(e):V2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ud.transform(e):gh.transform(e)},hse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pse(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bO))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(hse))===null||r===void 0?void 0:r.length)||0)>0}const QV="number",JV="color",mse="var",gse="var(",LD="${}",vse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(vse,c=>(vi.test(c)?(n.color.push(s),i.push(JV),r.push(vi.parse(c))):c.startsWith(gse)?(n.var.push(s),i.push(mse),r.push(c)):(n.number.push(s),i.push(QV),r.push(parseFloat(c))),++s,LD)).split(LD);return{values:r,split:l,indexes:n,types:i}}function eW(e){return Kg(e).values}function tW(e){const{split:t,types:r}=Kg(e),n=t.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],i[o]!==void 0){const l=r[o];l===QV?s+=Ng(i[o]):l===JV?s+=vi.transform(i[o]):s+=i[o]}return s}}const yse=e=>typeof e=="number"?0:e;function xse(e){const t=eW(e);return tW(e)(t.map(yse))}const au={test:pse,parse:eW,createTransformer:tW,getAnimatableNone:xse},bse=new Set(["brightness","contrast","saturate","opacity"]);function wse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(bO)||[];if(!n)return e;const i=r.replace(n,"");let s=bse.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const _se=/\b([a-z-]*)\(.*?\)/gu,W2={...au,getAnimatableNone:e=>{const t=e.match(_se);return t?t.map(wse).join(" "):e}},jse={...sO,color:vi,backgroundColor:vi,outlineColor:vi,fill:vi,stroke:vi,borderColor:vi,borderTopColor:vi,borderRightColor:vi,borderBottomColor:vi,borderLeftColor:vi,filter:W2,WebkitFilter:W2},_O=e=>jse[e];function rW(e,t){let r=_O(e);return r!==W2&&(r=au),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Sse=new Set(["auto","none","0"]);function Nse(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!Sse.has(s)&&Kg(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=rW(r,i)}const DD=e=>e===_p||e===jt,$D=(e,t)=>parseFloat(e.split(", ")[t]),FD=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return $D(i[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?$D(s[1],e):0}},Cse=new Set(["x","y","z"]),Ese=wp.filter(e=>!Cse.has(e));function Pse(e){const t=[];return Ese.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Lh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:FD(4,13),y:FD(5,14)};Lh.translateX=Lh.x;Lh.translateY=Lh.y;const yd=new Set;let H2=!1,K2=!1;function nW(){if(K2){const e=Array.from(yd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Pse(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}K2=!1,H2=!1,yd.forEach(e=>e.complete()),yd.clear()}function iW(){yd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(K2=!0)})}function Tse(){iW(),nW()}class jO{constructor(t,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(yd.add(this),H2||(H2=!0,Wr.read(iW),Wr.resolveKeyframes(nW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),yd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,yd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Ase=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kse(e){const t=Ase.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function aW(e,t,r=1){const[n,i]=kse(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return sW(o)?parseFloat(o):o}return iO(i)?aW(i,t,r+1):i}const oW=e=>t=>t.test(e),Ose={test:e=>e==="auto",parse:e=>e},lW=[_p,jt,So,Mc,wie,bie,Ose],BD=e=>lW.find(oW(e));class cW extends jO{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),iO(u))){const f=aW(u,r.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!FV.has(n)||t.length!==2)return;const[i,s]=t,o=BD(i),l=BD(s);if(o!==l)if(DD(o)&&DD(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)lse(t[i])&&n.push(i);n.length&&Nse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Lh[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const zD=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(au.test(e)||e==="0")&&!e.startsWith("url("));function Rse(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Mse(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=zD(i,t),l=zD(s,t);return!o||!l?!1:Rse(e)||(r==="spring"||fO(r))&&n}const Ise=e=>e!==null;function o_(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(Ise),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const Lse=40;class uW{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=No.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Lse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Tse(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=No.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Mse(t,n,i,s))if(o)this.options.duration=0;else{c&&c(o_(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,r);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...f},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const en=(e,t,r)=>e+(t-e)*r;function iS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Dse({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=iS(c,l,e+1/3),s=iS(c,l,e),o=iS(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function xb(e,t){return r=>r>0?t:e}const sS=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},$se=[V2,ud,gh],Fse=e=>$se.find(t=>t.test(e));function qD(e){const t=Fse(e);if(!t)return!1;let r=t.parse(e);return t===gh&&(r=Dse(r)),r}const UD=(e,t)=>{const r=qD(e),n=qD(t);if(!r||!n)return xb(e,t);const i={...r};return s=>(i.red=sS(r.red,n.red,s),i.green=sS(r.green,n.green,s),i.blue=sS(r.blue,n.blue,s),i.alpha=en(r.alpha,n.alpha,s),ud.transform(i))},Bse=(e,t)=>r=>t(e(r)),Jv=(...e)=>e.reduce(Bse),G2=new Set(["none","hidden"]);function zse(e,t){return G2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function qse(e,t){return r=>en(e,t,r)}function SO(e){return typeof e=="number"?qse:typeof e=="string"?iO(e)?xb:vi.test(e)?UD:Wse:Array.isArray(e)?dW:typeof e=="object"?vi.test(e)?UD:Use:xb}function dW(e,t){const r=[...e],n=r.length,i=e.map((s,o)=>SO(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function Use(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=SO(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Vse(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[s]=c,i[o]++}return n}const Wse=(e,t)=>{const r=au.createTransformer(t),n=Kg(e),i=Kg(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?G2.has(e)&&!i.values.length||G2.has(t)&&!n.values.length?zse(e,t):Jv(dW(Vse(n,i),i.values),r):xb(e,t)};function fW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?en(e,t,r):SO(e)(e,t)}const Hse=5;function hW(e,t,r){const n=Math.max(t-Hse,0);return BV(r-e(n),t-n)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aS=.001;function Kse({duration:e=an.duration,bounce:t=an.bounce,velocity:r=an.velocity,mass:n=an.mass}){let i,s,o=1-t;o=Ol(an.minDamping,an.maxDamping,o),e=Ol(an.minDuration,an.maxDuration,_l(e)),o<1?(i=u=>{const f=u*o,p=f*e,g=f-r,v=Z2(u,o),w=Math.exp(-p);return aS-g/v*w},s=u=>{const p=u*o*e,g=p*r+r,v=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-p),y=Z2(Math.pow(u,2),o);return(-i(u)+aS>0?-1:1)*((g-v)*w)/y}):(i=u=>{const f=Math.exp(-u*e),p=(u-r)*e+1;return-aS+f*p},s=u=>{const f=Math.exp(-u*e),p=(r-u)*(e*e);return f*p});const l=5/e,c=Zse(i,s,l);if(e=wl(e),isNaN(c))return{stiffness:an.stiffness,damping:an.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Gse=12;function Zse(e,t,r){let n=r;for(let i=1;i<Gse;i++)n=n-e(n)/t(n);return n}function Z2(e,t){return e*Math.sqrt(1-t*t)}const Yse=["duration","bounce"],Xse=["stiffness","damping","mass"];function VD(e,t){return t.some(r=>e[r]!==void 0)}function Qse(e){let t={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...e};if(!VD(e,Xse)&&VD(e,Yse))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Ol(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:an.mass,stiffness:i,damping:s}}else{const r=Kse(e);t={...t,...r,mass:an.mass},t.isResolvedFromDuration=!0}return t}function pW(e=an.visualDuration,t=an.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:p,velocity:g,isResolvedFromDuration:v}=Qse({...r,velocity:-_l(r.velocity||0)}),w=g||0,y=u/(2*Math.sqrt(c*f)),_=o-s,S=_l(Math.sqrt(c/f)),N=Math.abs(_)<5;n||(n=N?an.restSpeed.granular:an.restSpeed.default),i||(i=N?an.restDelta.granular:an.restDelta.default);let C;if(y<1){const P=Z2(S,y);C=k=>{const O=Math.exp(-y*S*k);return o-O*((w+y*S*_)/P*Math.sin(P*k)+_*Math.cos(P*k))}}else if(y===1)C=P=>o-Math.exp(-S*P)*(_+(w+S*_)*P);else{const P=S*Math.sqrt(y*y-1);C=k=>{const O=Math.exp(-y*S*k),I=Math.min(P*k,300);return o-O*((w+y*S*_)*Math.sinh(I)+P*_*Math.cosh(I))/P}}const A={calculatedDuration:v&&p||null,next:P=>{const k=C(P);if(v)l.done=P>=p;else{let O=0;y<1&&(O=P===0?wl(w):hW(C,P,k));const I=Math.abs(O)<=n,z=Math.abs(o-k)<=i;l.done=I&&z}return l.value=l.done?o:k,l},toString:()=>{const P=Math.min(OV(A),z2),k=RV(O=>A.next(P*O).value,P,30);return P+"ms "+k}};return A}function WD({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},v=I=>l!==void 0&&I<l||c!==void 0&&I>c,w=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let y=r*t;const _=p+y,S=o===void 0?_:o(_);S!==_&&(y=S-p);const N=I=>-y*Math.exp(-I/n),C=I=>S+N(I),A=I=>{const z=N(I),Y=C(I);g.done=Math.abs(z)<=u,g.value=g.done?S:Y};let P,k;const O=I=>{v(g.value)&&(P=I,k=pW({keyframes:[g.value,w(g.value)],velocity:hW(C,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return O(0),{calculatedDuration:null,next:I=>{let z=!1;return!k&&P===void 0&&(z=!0,A(I),O(I)),P!==void 0&&I>=P?k.next(I-P):(!z&&A(I),g)}}}const Jse=Qv(.42,0,1,1),eae=Qv(0,0,.58,1),mW=Qv(.42,0,.58,1),tae=e=>Array.isArray(e)&&typeof e[0]!="number",rae={linear:Ps,easeIn:Jse,easeInOut:mW,easeOut:eae,circIn:xO,circInOut:ZV,circOut:GV,backIn:yO,backInOut:HV,backOut:WV,anticipate:KV},HD=e=>{if(hO(e)){fV(e.length===4);const[t,r,n,i]=e;return Qv(t,r,n,i)}else if(typeof e=="string")return rae[e];return e};function nae(e,t,r){const n=[],i=r||fW,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ps:t;l=Jv(c,l)}n.push(l)}return n}function iae(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(fV(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=nae(t,n,i),c=l.length,u=f=>{if(o&&f<e[0])return t[0];let p=0;if(c>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=Mh(e[p],e[p+1],f);return l[p](g)};return r?f=>u(Ol(e[0],e[s-1],f)):u}function sae(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Mh(0,t,n);e.push(en(r,1,i))}}function aae(e){const t=[0];return sae(t,e.length-1),t}function oae(e,t){return e.map(r=>r*t)}function lae(e,t){return e.map(()=>t||mW).splice(0,e.length-1)}function bb({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=tae(n)?n.map(HD):HD(n),s={done:!1,value:t[0]},o=oae(r&&r.length===t.length?r:aae(t),e),l=iae(o,t,{ease:Array.isArray(i)?i:lae(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const cae=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Wr.update(t,!0),stop:()=>su(t),now:()=>ti.isProcessing?ti.timestamp:No.now()}},uae={decay:WD,inertia:WD,tween:bb,keyframes:bb,spring:pW},dae=e=>e/100;class NO extends uW{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||jO,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=fO(r)?r:uae[r]||bb;let c,u;l!==bb&&typeof t[0]!="number"&&(c=Jv(dae,fW(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=OV(f));const{calculatedDuration:p}=f,g=p+i,v=g*(n+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:g,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:f,resolvedDuration:p}=n;if(this.startTime===null)return s.next(0);const{delay:g,repeat:v,repeatType:w,repeatDelay:y,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-g*(this.speed>=0?1:-1),N=this.speed>=0?S<0:S>f;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let C=this.currentTime,A=s;if(v){const I=Math.min(this.currentTime,f)/p;let z=Math.floor(I),Y=I%1;!Y&&I>=1&&(Y=1),Y===1&&z--,z=Math.min(z,v+1),!!(z%2)&&(w==="reverse"?(Y=1-Y,y&&(Y-=y/p)):w==="mirror"&&(A=o)),C=Ol(0,1,Y)*p}const P=N?{done:!1,value:c[0]}:A.next(C);l&&(P.value=l(P.value));let{done:k}=P;!N&&u!==null&&(k=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return O&&i!==void 0&&(P.value=o_(c,this.options,i)),_&&_(P.value),O&&this.finish(),P}get duration(){const{resolved:t}=this;return t?_l(t.calculatedDuration):0}get time(){return _l(this.currentTime)}set time(t){t=wl(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=_l(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=cae,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const fae=new Set(["opacity","clipPath","filter","transform"]);function hae(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const f=IV(l,i);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const pae=Xk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wb=10,mae=2e4;function gae(e){return fO(e.type)||e.type==="spring"||!MV(e.ease)}function vae(e,t){const r=new NO({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let s=0;for(;!n.done&&s<mae;)n=r.sample(s),i.push(n.value),s+=wb;return{times:void 0,keyframes:i,duration:s-wb,ease:"linear"}}const gW={anticipate:KV,backInOut:HV,circInOut:ZV};function yae(e){return e in gW}class KD extends uW{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new cW(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&yb()&&yae(s)&&(s=gW[s]),gae(this.options)){const{onComplete:p,onUpdate:g,motionValue:v,element:w,...y}=this.options,_=vae(t,y);t=_.keyframes,t.length===1&&(t[1]=t[0]),n=_.duration,i=_.times,s=_.ease,o="keyframes"}const f=hae(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:s});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(kD(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(o_(t,this.options,r)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:n,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return _l(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return _l(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=wl(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ps;const{animation:n}=r;kD(n,t)}return Ps}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:p,element:g,...v}=this.options,w=new NO({...v,keyframes:n,duration:i,type:s,ease:o,times:l,isGenerator:!0}),y=wl(this.time);u.setWithVelocity(w.sample(y-wb).value,w.sample(y).value,wb)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return pae()&&n&&fae.has(n)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const xae={type:"spring",stiffness:500,damping:25,restSpeed:10},bae=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wae={type:"keyframes",duration:.8},_ae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jae=(e,{keyframes:t})=>t.length>2?wae:Bd.has(e)?e.startsWith("scale")?bae(t[1]):xae:_ae;function Sae({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const CO=(e,t,r,n={},i,s)=>o=>{const l=dO(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-wl(c);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};Sae(l)||(f={...f,...jae(e,f)}),f.duration&&(f.duration=wl(f.duration)),f.repeatDelay&&(f.repeatDelay=wl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=o_(f.keyframes,l);if(g!==void 0)return Wr.update(()=>{f.onUpdate(g),f.onComplete()}),new Uie([])}return!s&&KD.supports(f)?new KD(f):new NO(f)};function Nae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function vW(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),v=c[p];if(v===void 0||f&&Nae(f,p))continue;const w={delay:r,...dO(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const S=zV(e);if(S){const N=window.MotionHandoffAnimation(S,p,Wr);N!==null&&(w.startTime=N,y=!0)}}U2(e,p),g.start(CO(p,g,v,e.shouldReduceMotion&&FV.has(p)?{type:!1}:w,e,y));const _=g.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{Wr.update(()=>{l&&nse(e,l)})}),u}function Y2(e,t,r={}){var n;const i=a_(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(vW(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return Cae(e,t,f+u,p,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,f]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>f())}else return Promise.all([o(),l(r.delay)])}function Cae(e,t,r=0,n=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Eae).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(Y2(u,t,{...s,delay:r+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Eae(e,t){return e.sortNodePosition(t)}function Pae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Y2(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Y2(e,t,r);else{const i=typeof t=="function"?a_(e,t,r.custom):t;n=Promise.all(vW(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Tae=Jk.length;function yW(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?yW(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Tae;r++){const n=Jk[r],i=e.props[n];(Vg(i)||i===!1)&&(t[n]=i)}return t}const Aae=[...Qk].reverse(),kae=Qk.length;function Oae(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Pae(e,r,n)))}function Rae(e){let t=Oae(e),r=GD(),n=!0;const i=c=>(u,f)=>{var p;const g=a_(e,f,c==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:v,transitionEnd:w,...y}=g;u={...u,...y,...w}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,f=yW(e.parent)||{},p=[],g=new Set;let v={},w=1/0;for(let _=0;_<kae;_++){const S=Aae[_],N=r[S],C=u[S]!==void 0?u[S]:f[S],A=Vg(C),P=S===c?N.isActive:null;P===!1&&(w=_);let k=C===f[S]&&C!==u[S]&&A;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),N.protectedKeys={...v},!N.isActive&&P===null||!C&&!N.prevProp||i_(C)||typeof C=="boolean")continue;const O=Mae(N.prevProp,C);let I=O||S===c&&N.isActive&&!k&&A||_>w&&A,z=!1;const Y=Array.isArray(C)?C:[C];let Z=Y.reduce(i(S),{});P===!1&&(Z={});const{prevResolvedValues:V={}}=N,q={...V,...Z},U=se=>{I=!0,g.has(se)&&(z=!0,g.delete(se)),N.needsAnimating[se]=!0;const X=e.getValue(se);X&&(X.liveStyle=!1)};for(const se in q){const X=Z[se],Q=V[se];if(v.hasOwnProperty(se))continue;let te=!1;B2(X)&&B2(Q)?te=!kV(X,Q):te=X!==Q,te?X!=null?U(se):g.add(se):X!==void 0&&g.has(se)?U(se):N.protectedKeys[se]=!0}N.prevProp=C,N.prevResolvedValues=Z,N.isActive&&(v={...v,...Z}),n&&e.blockInitialAnimation&&(I=!1),I&&(!(k&&O)||z)&&p.push(...Y.map(se=>({animation:se,options:{type:S}})))}if(g.size){const _={};g.forEach(S=>{const N=e.getBaseTarget(S),C=e.getValue(S);C&&(C.liveStyle=!0),_[S]=N??null}),p.push({animation:_})}let y=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(p):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const p=o(c);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=GD(),n=!0}}}function Mae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kV(t,e):!1}function Xu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GD(){return{animate:Xu(!0),whileInView:Xu(),whileHover:Xu(),whileTap:Xu(),whileDrag:Xu(),whileFocus:Xu(),exit:Xu()}}class pu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Iae extends pu{constructor(t){super(t),t.animationState||(t.animationState=Rae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();i_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Lae=0;class Dae extends pu{constructor(){super(...arguments),this.id=Lae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $ae={animation:{Feature:Iae},exit:{Feature:Dae}};function Gg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ey(e){return{point:{x:e.pageX,y:e.pageY}}}const Fae=e=>t=>pO(t)&&e(t,ey(t));function Cg(e,t,r,n){return Gg(e,t,Fae(r),n)}const ZD=(e,t)=>Math.abs(e-t);function Bae(e,t){const r=ZD(e.x,t.x),n=ZD(e.y,t.y);return Math.sqrt(r**2+n**2)}class xW{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=lS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=Bae(p.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:w}=p,{timestamp:y}=ti;this.history.push({...w,timestamp:y});const{onStart:_,onMove:S}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=oS(g,this.transformPagePoint),Wr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=lS(p.type==="pointercancel"?this.lastMoveEventInfo:oS(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,_),w&&w(p,_)},!pO(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=ey(t),l=oS(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ti;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,lS(l,this.history)),this.removeListeners=Jv(Cg(this.contextWindow,"pointermove",this.handlePointerMove),Cg(this.contextWindow,"pointerup",this.handlePointerUp),Cg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),su(this.updatePoint)}}function oS(e,t){return t?{point:t(e.point)}:e}function YD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lS({point:e},t){return{point:e,delta:YD(e,bW(t)),offset:YD(e,zae(t)),velocity:qae(t,.1)}}function zae(e){return e[0]}function bW(e){return e[e.length-1]}function qae(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=bW(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>wl(t)));)r--;if(!n)return{x:0,y:0};const s=_l(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const wW=1e-4,Uae=1-wW,Vae=1+wW,_W=.01,Wae=0-_W,Hae=0+_W;function Os(e){return e.max-e.min}function Kae(e,t,r){return Math.abs(e-t)<=r}function XD(e,t,r,n=.5){e.origin=n,e.originPoint=en(t.min,t.max,e.origin),e.scale=Os(r)/Os(t),e.translate=en(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Uae&&e.scale<=Vae||isNaN(e.scale))&&(e.scale=1),(e.translate>=Wae&&e.translate<=Hae||isNaN(e.translate))&&(e.translate=0)}function Eg(e,t,r,n){XD(e.x,t.x,r.x,n?n.originX:void 0),XD(e.y,t.y,r.y,n?n.originY:void 0)}function QD(e,t,r){e.min=r.min+t.min,e.max=e.min+Os(t)}function Gae(e,t,r){QD(e.x,t.x,r.x),QD(e.y,t.y,r.y)}function JD(e,t,r){e.min=t.min-r.min,e.max=e.min+Os(t)}function Pg(e,t,r){JD(e.x,t.x,r.x),JD(e.y,t.y,r.y)}function Zae(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?en(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?en(r,e,n.max):Math.min(e,r)),e}function e4(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Yae(e,{top:t,left:r,bottom:n,right:i}){return{x:e4(e.x,r,i),y:e4(e.y,t,n)}}function t4(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Xae(e,t){return{x:t4(e.x,t.x),y:t4(e.y,t.y)}}function Qae(e,t){let r=.5;const n=Os(e),i=Os(t);return i>n?r=Mh(t.min,t.max-n,e.min):n>i&&(r=Mh(e.min,e.max-i,t.min)),Ol(0,1,r)}function Jae(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const X2=.35;function eoe(e=X2){return e===!1?e=0:e===!0&&(e=X2),{x:r4(e,"left","right"),y:r4(e,"top","bottom")}}function r4(e,t,r){return{min:n4(e,t),max:n4(e,r)}}function n4(e,t){return typeof e=="number"?e:e[t]||0}const i4=()=>({translate:0,scale:1,origin:0,originPoint:0}),vh=()=>({x:i4(),y:i4()}),s4=()=>({min:0,max:0}),dn=()=>({x:s4(),y:s4()});function ta(e){return[e("x"),e("y")]}function jW({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function toe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function roe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function cS(e){return e===void 0||e===1}function Q2({scale:e,scaleX:t,scaleY:r}){return!cS(e)||!cS(t)||!cS(r)}function td(e){return Q2(e)||SW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function SW(e){return a4(e.x)||a4(e.y)}function a4(e){return e&&e!=="0%"}function _b(e,t,r){const n=e-r,i=t*n;return r+i}function o4(e,t,r,n,i){return i!==void 0&&(e=_b(e,i,n)),_b(e,r,n)+t}function J2(e,t=0,r=1,n,i){e.min=o4(e.min,t,r,n,i),e.max=o4(e.max,t,r,n,i)}function NW(e,{x:t,y:r}){J2(e.x,t.translate,t.scale,t.originPoint),J2(e.y,r.translate,r.scale,r.originPoint)}const l4=.999999999999,c4=1.0000000000001;function noe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,NW(e,o)),n&&td(s.latestValues)&&xh(e,s.latestValues))}t.x<c4&&t.x>l4&&(t.x=1),t.y<c4&&t.y>l4&&(t.y=1)}function yh(e,t){e.min=e.min+t,e.max=e.max+t}function u4(e,t,r,n,i=.5){const s=en(e.min,e.max,i);J2(e,t,r,s,n)}function xh(e,t){u4(e.x,t.x,t.scaleX,t.scale,t.originX),u4(e.y,t.y,t.scaleY,t.scale,t.originY)}function CW(e,t){return jW(roe(e.getBoundingClientRect(),t))}function ioe(e,t,r){const n=CW(e,r),{scroll:i}=t;return i&&(yh(n.x,i.offset.x),yh(n.y,i.offset.y)),n}const EW=({current:e})=>e?e.ownerDocument.defaultView:null,soe=new WeakMap;class aoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ey(f).point)},s=(f,p)=>{const{drag:g,dragPropagation:v,onDragStart:w}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qie(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ta(_=>{let S=this.getAxisMotionValue(_).get()||0;if(So.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const C=N.layout.layoutBox[_];C&&(S=Os(C)*(parseFloat(S)/100))}}this.originPoint[_]=S}),w&&Wr.postRender(()=>w(f,p)),U2(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:w,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=p;if(v&&this.currentDirection===null){this.currentDirection=ooe(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),y&&y(f,p)},l=(f,p)=>this.stop(f,p),c=()=>ta(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xW(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:EW(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Wr.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!s0(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Zae(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&mh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Yae(i.layoutBox,r):this.constraints=!1,this.elastic=eoe(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ta(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Jae(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!mh(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ioe(n,i.root,this.visualElement.getTransformPagePoint());let o=Xae(i.layout.layoutBox,s);if(r){const l=r(toe(o));this.hasMutatedConstraints=!!l,l&&(o=jW(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ta(f=>{if(!s0(f,r,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:n?t[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return U2(this.visualElement,t),n.start(CO(t,n,0,r,this.visualElement,!1))}stopAnimation(){ta(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ta(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ta(r=>{const{drag:n}=this.getProps();if(!s0(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(t[r]-en(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!mh(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ta(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Qae({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ta(o=>{if(!s0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(en(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;soe.set(this.visualElement,this);const t=this.visualElement.current,r=Cg(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();mh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Wr.read(n);const o=Gg(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ta(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=X2,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function s0(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ooe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class loe extends pu{constructor(t){super(t),this.removeGroupControls=Ps,this.removeListeners=Ps,this.controls=new aoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const d4=e=>(t,r)=>{e&&Wr.postRender(()=>e(t,r))};class coe extends pu{constructor(){super(...arguments),this.removePointerDownListener=Ps}onPointerDown(t){this.session=new xW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:d4(t),onStart:d4(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Wr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Cg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Q0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(jt.test(e))e=parseFloat(e);else return e;const r=f4(e,t.target.x),n=f4(e,t.target.y);return`${r}% ${n}%`}},uoe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=au.parse(e);if(i.length>5)return n;const s=au.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=en(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class doe extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;kie(foe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Q0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Wr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PW(e){const[t,r]=uV(),n=x.useContext(Kk);return a.jsx(doe,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(yV),isPresent:t,safeToRemove:r})}const foe={borderRadius:{...Bm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bm,borderTopRightRadius:Bm,borderBottomLeftRadius:Bm,borderBottomRightRadius:Bm,boxShadow:uoe};function hoe(e,t,r){const n=wi(e)?e:Hg(e);return n.start(CO("",n,t,r)),n.animation}function poe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const moe=(e,t)=>e.depth-t.depth;class goe{constructor(){this.children=[],this.isDirty=!1}add(t){mO(this.children,t),this.isDirty=!0}remove(t){gO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(moe),this.isDirty=!1,this.children.forEach(t)}}function voe(e,t){const r=No.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(su(n),e(s-t))};return Wr.read(n,!0),()=>su(n)}const TW=["TopLeft","TopRight","BottomLeft","BottomRight"],yoe=TW.length,h4=e=>typeof e=="string"?parseFloat(e):e,p4=e=>typeof e=="number"||jt.test(e);function xoe(e,t,r,n,i,s){i?(e.opacity=en(0,r.opacity!==void 0?r.opacity:1,boe(n)),e.opacityExit=en(t.opacity!==void 0?t.opacity:1,0,woe(n))):s&&(e.opacity=en(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<yoe;o++){const l=`border${TW[o]}Radius`;let c=m4(t,l),u=m4(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||p4(c)===p4(u)?(e[l]=Math.max(en(h4(c),h4(u),n),0),(So.test(u)||So.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=en(t.rotate||0,r.rotate||0,n))}function m4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const boe=AW(0,.5,GV),woe=AW(.5,.95,Ps);function AW(e,t,r){return n=>n<e?0:n>t?1:r(Mh(e,t,n))}function g4(e,t){e.min=t.min,e.max=t.max}function Ys(e,t){g4(e.x,t.x),g4(e.y,t.y)}function v4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y4(e,t,r,n,i){return e-=t,e=_b(e,1/r,n),i!==void 0&&(e=_b(e,1/i,n)),e}function _oe(e,t=0,r=1,n=.5,i,s=e,o=e){if(So.test(t)&&(t=parseFloat(t),t=en(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=en(s.min,s.max,n);e===s&&(l-=t),e.min=y4(e.min,t,r,l,i),e.max=y4(e.max,t,r,l,i)}function x4(e,t,[r,n,i],s,o){_oe(e,t[r],t[n],t[i],t.scale,s,o)}const joe=["x","scaleX","originX"],Soe=["y","scaleY","originY"];function b4(e,t,r,n){x4(e.x,t,joe,r?r.x:void 0,n?n.x:void 0),x4(e.y,t,Soe,r?r.y:void 0,n?n.y:void 0)}function w4(e){return e.translate===0&&e.scale===1}function kW(e){return w4(e.x)&&w4(e.y)}function _4(e,t){return e.min===t.min&&e.max===t.max}function Noe(e,t){return _4(e.x,t.x)&&_4(e.y,t.y)}function j4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function OW(e,t){return j4(e.x,t.x)&&j4(e.y,t.y)}function S4(e){return Os(e.x)/Os(e.y)}function N4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Coe{constructor(){this.members=[]}add(t){mO(this.members,t),t.scheduleRender()}remove(t){if(gO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Eoe(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:g,skewX:v,skewY:w}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const rd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fg=typeof window<"u"&&window.MotionDebug!==void 0,uS=["","X","Y","Z"],Poe={visibility:"hidden"},C4=1e3;let Toe=0;function dS(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function RW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=zV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Wr,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&RW(n)}function MW({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=Toe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fg&&(rd.totalNodes=rd.resolvedTargetDeltas=rd.recalculatedProjection=0),this.nodes.forEach(Ooe),this.nodes.forEach(Doe),this.nodes.forEach($oe),this.nodes.forEach(Roe),fg&&window.MotionDebug.record(rd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new goe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=poe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=voe(g,250),Q0.hasAnimatedSinceResize&&(Q0.hasAnimatedSinceResize=!1,this.nodes.forEach(P4))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||Uoe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=f.getProps(),N=!this.targetLayout||!OW(this.targetLayout,w)||v,C=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const A={...dO(y,"layout"),onPlay:_,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else g||P4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,su(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Foe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E4);return}this.isUpdating||this.nodes.forEach(Ioe),this.isUpdating=!1,this.nodes.forEach(Loe),this.nodes.forEach(Aoe),this.nodes.forEach(koe),this.clearAllSnapshots();const l=No.now();ti.delta=Ol(0,1e3/60,l-ti.timestamp),ti.timestamp=l,ti.isProcessing=!0,tS.update.process(ti),tS.preRender.process(ti),tS.render.process(ti),ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Moe),this.sharedNodes.forEach(Boe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kW(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||td(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Voe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return dn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Woe))){const{scroll:f}=this.root;f&&(yh(c.x,f.offset.x),yh(c.y,f.offset.y))}return c}removeElementScroll(o){var l;const c=dn();if(Ys(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ys(c,o),yh(c.x,p.offset.x),yh(c.y,p.offset.y))}return c}applyTransform(o,l=!1){const c=dn();Ys(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&xh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),td(f.latestValues)&&xh(c,f.latestValues)}return td(this.latestValues)&&xh(c,this.latestValues),c}removeTransform(o){const l=dn();Ys(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!td(u.latestValues))continue;Q2(u.latestValues)&&u.updateSnapshot();const f=dn(),p=u.measurePageBox();Ys(f,p),b4(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return td(this.latestValues)&&b4(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=ti.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Pg(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ys(this.target,this.layout.layoutBox),NW(this.target,this.targetDelta)):Ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Pg(this.relativeTargetOrigin,this.target,v.target),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fg&&rd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Q2(this.parent.latestValues)||SW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ti.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ys(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;noe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=dn());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v4(this.prevProjectionDelta.x,this.projectionDelta.x),v4(this.prevProjectionDelta.y,this.projectionDelta.y)),Eg(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!N4(this.projectionDelta.x,this.prevProjectionDelta.x)||!N4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),fg&&rd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vh(),this.projectionDelta=vh(),this.projectionDeltaWithTransform=vh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},p=vh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=dn(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=v!==w,_=this.getStack(),S=!_||_.members.length<=1,N=!!(y&&!S&&this.options.crossfade===!0&&!this.path.some(qoe));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const P=A/1e3;T4(p.x,o.x,P),T4(p.y,o.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zoe(this.relativeTarget,this.relativeTargetOrigin,g,P),C&&Noe(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=dn()),Ys(C,this.relativeTarget)),y&&(this.animationValues=f,xoe(f,u,this.latestValues,P,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(su(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wr.update(()=>{Q0.hasAnimatedSinceResize=!0,this.currentAnimation=hoe(0,C4,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&IW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||dn();const p=Os(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=Os(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Ys(l,c),xh(l,f),Eg(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Coe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&dS("z",o,u,this.animationValues);for(let f=0;f<uS.length;f++)dS(`rotate${uS[f]}`,o,u,this.animationValues),dS(`skew${uS[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Poe;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Y0(o?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Y0(o?.pointerEvents)||""),this.hasProjected&&!td(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=Eoe(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:v,y:w}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in vb){if(g[y]===void 0)continue;const{correct:_,applyTo:S}=vb[y],N=u.transform==="none"?g[y]:_(g[y],p);if(S){const C=S.length;for(let A=0;A<C;A++)u[S[A]]=N}else u[y]=N}return this.options.layoutId&&(u.pointerEvents=p===this?Y0(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(E4),this.root.sharedNodes.clear()}}}function Aoe(e){e.updateLayout()}function koe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?ta(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],v=Os(g);g.min=n[p].min,g.max=g.min+v}):IW(s,r.layoutBox,n)&&ta(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],v=Os(n[p]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const l=vh();Eg(l,n,r.layoutBox);const c=vh();o?Eg(c,e.applyTransform(i,!0),r.measuredBox):Eg(c,n,r.layoutBox);const u=!kW(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const w=dn();Pg(w,r.layoutBox,g.layoutBox);const y=dn();Pg(y,n,v.layoutBox),OW(w,y)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Ooe(e){fg&&rd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Roe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Moe(e){e.clearSnapshot()}function E4(e){e.clearMeasurements()}function Ioe(e){e.isLayoutDirty=!1}function Loe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function P4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Doe(e){e.resolveTargetDelta()}function $oe(e){e.calcProjection()}function Foe(e){e.resetSkewAndRotation()}function Boe(e){e.removeLeadSnapshot()}function T4(e,t,r){e.translate=en(t.translate,0,r),e.scale=en(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function A4(e,t,r,n){e.min=en(t.min,r.min,n),e.max=en(t.max,r.max,n)}function zoe(e,t,r,n){A4(e.x,t.x,r.x,n),A4(e.y,t.y,r.y,n)}function qoe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Uoe={duration:.45,ease:[.4,0,.1,1]},k4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),O4=k4("applewebkit/")&&!k4("chrome/")?Math.round:Ps;function R4(e){e.min=O4(e.min),e.max=O4(e.max)}function Voe(e){R4(e.x),R4(e.y)}function IW(e,t,r){return e==="position"||e==="preserve-aspect"&&!Kae(S4(t),S4(r),.2)}function Woe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Hoe=MW({attachResizeListener:(e,t)=>Gg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fS={current:void 0},LW=MW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fS.current){const e=new Hoe({});e.mount(window),e.setOptions({layoutScroll:!0}),fS.current=e}return fS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Koe={pan:{Feature:coe},drag:{Feature:loe,ProjectionNode:LW,MeasureLayout:PW}};function M4(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Wr.postRender(()=>s(t,ey(t)))}class Goe extends pu{mount(){const{current:t}=this.node;t&&(this.unmount=Kie(t,r=>(M4(this.node,r,"Start"),n=>M4(this.node,n,"End"))))}unmount(){}}class Zoe extends pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jv(Gg(this.node.current,"focus",()=>this.onFocus()),Gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I4(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Wr.postRender(()=>s(t,ey(t)))}class Yoe extends pu{mount(){const{current:t}=this.node;t&&(this.unmount=Xie(t,r=>(I4(this.node,r,"Start"),(n,{success:i})=>I4(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eT=new WeakMap,hS=new WeakMap,Xoe=e=>{const t=eT.get(e.target);t&&t(e)},Qoe=e=>{e.forEach(Xoe)};function Joe({root:e,...t}){const r=e||document;hS.has(r)||hS.set(r,{});const n=hS.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Qoe,{root:e,...t})),n[i]}function ele(e,t,r){const n=Joe(t);return eT.set(e,r),n.observe(e),()=>{eT.delete(e),n.unobserve(e)}}const tle={some:0,all:1};class rle extends pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:tle[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=u?f:p;g&&g(c)};return ele(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(nle(t,r))&&this.startObserver()}unmount(){}}function nle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const ile={inView:{Feature:rle},tap:{Feature:Yoe},focus:{Feature:Zoe},hover:{Feature:Goe}},sle={layout:{ProjectionNode:LW,MeasureLayout:PW}},tT={current:null},DW={current:!1};function ale(){if(DW.current=!0,!!Yk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tT.current=e.matches;e.addListener(t),t()}else tT.current=!1}const ole=[...lW,vi,au],lle=e=>ole.find(oW(e)),L4=new WeakMap;function cle(e,t,r){for(const n in t){const i=t[n],s=r[n];if(wi(i))e.addValue(n,i);else if(wi(s))e.addValue(n,Hg(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Hg(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const D4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ule{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=No.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Wr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=s_(r),this.isVariantNode=gV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const w=g[v];c[v]!==void 0&&wi(w)&&w.set(c[v],!1)}}mount(t){this.current=t,L4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),DW.current||ale(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){L4.delete(this.current),this.projection&&this.projection.unmount(),su(this.notifyUpdate),su(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Bd.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Wr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ih){const r=Ih[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<D4.length;n++){const i=D4[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=cle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(sW(i)||YV(i))?i=parseFloat(i):!lle(i)&&au.test(r)&&(i=rW(t,r)),this.setBaseTarget(t,wi(i)?i.get():i)),wi(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=nO(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!wi(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new vO),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class $W extends ule{constructor(){super(...arguments),this.KeyframeResolver=cW}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function dle(e){return window.getComputedStyle(e)}class fle extends $W{constructor(){super(...arguments),this.type="html",this.renderInstance=NV}readValueFromInstance(t,r){if(Bd.has(r)){const n=_O(r);return n&&n.default||0}else{const n=dle(t),i=(_V(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return CW(t,r)}build(t,r,n){aO(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return uO(t,r,n)}}class hle extends $W{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Bd.has(r)){const n=_O(r);return n&&n.default||0}return r=CV.has(r)?r:eO(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return TV(t,r,n)}build(t,r,n){oO(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){EV(t,r,n,i)}mount(t){this.isSVGTag=cO(t.tagName),super.mount(t)}}const ple=(e,t)=>rO(e)?new hle(t):new fle(t,{allowProjection:e!==x.Fragment}),mle=Bie({...$ae,...ile,...Koe,...sle},ple),Re=tie(mle),gle=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yv(async()=>{const{default:n}=await Promise.resolve().then(()=>jp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class EO extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class vle extends EO{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $4 extends EO{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class F4 extends EO{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rT;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rT||(rT={}));var yle=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class xle{constructor(t,{headers:r={},customFetch:n,region:i=rT.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=gle(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return yle(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(y=>{throw new vle(y)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new $4(p);if(!p.ok)throw new F4(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield p.json():v==="application/octet-stream"?w=yield p.blob():v==="text/event-stream"?w=p:v==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof F4||i instanceof $4?i.context:void 0}}})}}var Un={},Vf={},Wf={},Hf={},Kf={},Gf={},ble=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dh=ble();const wle=Dh.fetch,FW=Dh.fetch.bind(Dh),BW=Dh.Headers,_le=Dh.Request,jle=Dh.Response,jp=Object.freeze(Object.defineProperty({__proto__:null,Headers:BW,Request:_le,Response:jle,default:FW,fetch:wle},Symbol.toStringTag,{value:"Module"})),Sle=k8(jp);var a0={},B4;function zW(){if(B4)return a0;B4=1,Object.defineProperty(a0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return a0.default=e,a0}var z4;function qW(){if(z4)return Gf;z4=1;var e=Gf&&Gf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Gf,"__esModule",{value:!0});const t=e(Sle),r=e(zW());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,g;let v=null,w=null,y=null,_=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const P=await u.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=P:w=JSON.parse(P))}const C=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),A=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&A&&A.length>1&&(y=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,_=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const C=await u.text();try{v=JSON.parse(C),Array.isArray(v)&&u.status===404&&(w=[],v=null,_=200,S="OK")}catch{u.status===404&&C===""?(_=204,S="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,_=200,S="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:w,count:y,status:_,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,p,g;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(p=u?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return Gf.default=n,Gf}var q4;function UW(){if(q4)return Kf;q4=1;var e=Kf&&Kf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kf,"__esModule",{value:!0});const t=e(qW());class r extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Kf.default=r,Kf}var U4;function PO(){if(U4)return Hf;U4=1;var e=Hf&&Hf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hf,"__esModule",{value:!0});const t=e(UW());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Hf.default=r,Hf}var V4;function VW(){if(V4)return Wf;V4=1;var e=Wf&&Wf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wf,"__esModule",{value:!0});const t=e(PO());class r{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=s,this.schema=o,this.fetch=l}select(i,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(u.length>0){const f=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Wf.default=r,Wf}var zm={},qm={},W4;function Nle(){return W4||(W4=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.version=void 0,qm.version="0.0.0-automated"),qm}var H4;function Cle(){if(H4)return zm;H4=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.DEFAULT_HEADERS=void 0;const e=Nle();return zm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},zm}var K4;function Ele(){if(K4)return Vf;K4=1;var e=Vf&&Vf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vf,"__esModule",{value:!0});const t=e(VW()),r=e(PO()),n=Cle();class i{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let v;c||u?(p=c?"HEAD":"GET",Object.entries(l).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{g.searchParams.append(y,_)})):(p="POST",v=l);const w=Object.assign({},this.headers);return f&&(w.Prefer=`count=${f}`),new r.default({method:p,url:g,headers:w,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Vf.default=i,Vf}var G4;function Ple(){if(G4)return Un;G4=1;var e=Un&&Un.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Un,"__esModule",{value:!0}),Un.PostgrestError=Un.PostgrestBuilder=Un.PostgrestTransformBuilder=Un.PostgrestFilterBuilder=Un.PostgrestQueryBuilder=Un.PostgrestClient=void 0;const t=e(Ele());Un.PostgrestClient=t.default;const r=e(VW());Un.PostgrestQueryBuilder=r.default;const n=e(PO());Un.PostgrestFilterBuilder=n.default;const i=e(UW());Un.PostgrestTransformBuilder=i.default;const s=e(qW());Un.PostgrestBuilder=s.default;const o=e(zW());return Un.PostgrestError=o.default,Un.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Un}var Tle=Ple();const Ale=fr(Tle),{PostgrestClient:kle,PostgrestQueryBuilder:Rze,PostgrestFilterBuilder:Mze,PostgrestTransformBuilder:Ize,PostgrestBuilder:Lze,PostgrestError:Dze}=Ale;function Ole(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Rle=Ole(),Mle="2.11.15",Ile=`realtime-js/${Mle}`,Lle="1.0.0",WW=1e4,Dle=1e3;var Tg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tg||(Tg={}));var gi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gi||(gi={}));var Ta;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ta||(Ta={}));var nT;(function(e){e.websocket="websocket"})(nT||(nT={}));var ld;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ld||(ld={}));class $le{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class HW{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rr||(Rr={}));const Z4=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=Fle(o,e,t,i),s),{})},Fle=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i?.type,o=r[e];return s&&!n.includes(s)?KW(s,o):iT(o)},KW=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ule(t,r)}switch(e){case Rr.bool:return Ble(t);case Rr.float4:case Rr.float8:case Rr.int2:case Rr.int4:case Rr.int8:case Rr.numeric:case Rr.oid:return zle(t);case Rr.json:case Rr.jsonb:return qle(t);case Rr.timestamp:return Vle(t);case Rr.abstime:case Rr.date:case Rr.daterange:case Rr.int4range:case Rr.int8range:case Rr.money:case Rr.reltime:case Rr.text:case Rr.time:case Rr.timestamptz:case Rr.timetz:case Rr.tsrange:case Rr.tstzrange:return iT(t);default:return iT(t)}},iT=e=>e,Ble=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zle=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qle=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ule=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>KW(t,l))}return e},Vle=e=>typeof e=="string"?e.replace(" ","T"):e,GW=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pS{constructor(t,r,n={},i=WW){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Y4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Y4||(Y4={}));class Ag{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ag.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Ag.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ag.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const p=s[u];if(p){const g=f.map(_=>_.presence_ref),v=p.map(_=>_.presence_ref),w=f.filter(_=>v.indexOf(_.presence_ref)<0),y=p.filter(_=>g.indexOf(_.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=f}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const p=t[l].map(v=>v.presence_ref),g=f.filter(v=>p.indexOf(v.presence_ref)<0);t[l].unshift(...g)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(p=>p.presence_ref);u=u.filter(p=>f.indexOf(p.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(X4||(X4={}));var Q4;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Q4||(Q4={}));var ml;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ml||(ml={}));class TO{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pS(this,Ta.join,this.params,this.timeout),this.rejoinTimer=new HW(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ta.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ag(this),this.broadcastEndpointURL=GW(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gi.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(f=>t?.(ml.CHANNEL_ERROR,f)),this._onClose(()=>t?.(ml.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(ml.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,w=[];for(let y=0;y<v;y++){const _=g[y],{filter:{event:S,schema:N,table:C,filter:A}}=_,P=f&&f[y];if(P&&P.event===S&&P.schema===N&&P.table===C&&P.filter===A)w.push(Object.assign(Object.assign({},_),{id:P.id}));else{this.unsubscribe(),this.state=gi.errored,t?.(ml.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ml.SUBSCRIBED);return}}).receive("error",f=>{this.state=gi.errored,t?.(ml.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(ml.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ta.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new pS(this,Ta.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pS(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Ta;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,y,_;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(y=v.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var w,y,_,S,N,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const A=v.id,P=(w=v.filter)===null||w===void 0?void 0:w.event;return A&&((y=r.ids)===null||y===void 0?void 0:y.includes(A))&&(P==="*"||P?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(N=(S=v?.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:y,table:_,commit_timestamp:S,type:N,errors:C}=w;g=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:S,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(w))}v.callback(g,n)})}_isClosed(){return this.state===gi.closed}_isJoined(){return this.state===gi.joined}_isJoining(){return this.state===gi.joining}_isLeaving(){return this.state===gi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&TO.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ta.close,{},t)}_onError(t){this._on(Ta.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Z4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Z4(t.columns,t.old_record)),r}}const J4=()=>{},Wle=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hle{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=WW,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=J4,this.ref=0,this.logger=J4,this.conn=null,this.sendBuffer=[],this.serializer=new $le,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Yv(async()=>{const{default:c}=await Promise.resolve().then(()=>jp);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${nT.websocket}`,this.httpEndpoint=GW(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new HW(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Rle),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lle}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tg.connecting:return ld.Connecting;case Tg.open:return ld.Open;case Tg.closing:return ld.Closing;default:return ld.Closed}}isConnected(){return this.connectionState()===ld.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new TO(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Ile};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ta.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Dle,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ta.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Wle],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class AO extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Vn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Kle extends AO{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sT extends AO{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Gle=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ZW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yv(async()=>{const{default:n}=await Promise.resolve().then(()=>jp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Zle=()=>Gle(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yv(()=>Promise.resolve().then(()=>jp),void 0)).Response:Response}),aT=e=>{if(Array.isArray(e))return e.map(r=>aT(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=aT(n)}),t},Yle=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var zd=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xle=(e,t,r)=>zd(void 0,void 0,void 0,function*(){const n=yield Zle();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new Kle(mS(i),s,o))}).catch(i=>{t(new sT(mS(i),i))}):t(new sT(mS(e),e))}),Qle=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(Yle(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function ty(e,t,r,n,i,s){return zd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Qle(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Xle(c,l,n))})})}function jb(e,t,r,n){return zd(this,void 0,void 0,function*(){return ty(e,"GET",t,r,n)})}function gl(e,t,r,n,i){return zd(this,void 0,void 0,function*(){return ty(e,"POST",t,n,i,r)})}function oT(e,t,r,n,i){return zd(this,void 0,void 0,function*(){return ty(e,"PUT",t,n,i,r)})}function Jle(e,t,r,n){return zd(this,void 0,void 0,function*(){return ty(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function YW(e,t,r,n,i){return zd(this,void 0,void 0,function*(){return ty(e,"DELETE",t,n,i,r)})}var Hi=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ece={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},e$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tce{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ZW(i)}uploadOrUpdate(t,r,n,i){return Hi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},e$),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),p=yield(t=="PUT"?oT:gl)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(Vn(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Hi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Hi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:e$.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const p=yield oT(this.fetch,l.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(Vn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Hi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield gl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new AO("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Vn(n))return{data:null,error:n};throw n}})}update(t,r,n){return Hi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Hi(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Vn(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Hi(this,void 0,void 0,function*(){try{return{data:{path:(yield gl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Vn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Hi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield gl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Vn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Hi(this,void 0,void 0,function*(){try{const i=yield gl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Vn(i))return{data:null,error:i};throw i}})}download(t,r){return Hi(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield jb(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Vn(l))return{data:null,error:l};throw l}})}info(t){return Hi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield jb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:aT(n),error:null}}catch(n){if(Vn(n))return{data:null,error:n};throw n}})}exists(t){return Hi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Jle(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Vn(n)&&n instanceof sT){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Hi(this,void 0,void 0,function*(){try{return{data:yield YW(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Vn(r))return{data:null,error:r};throw r}})}list(t,r,n){return Hi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ece),r),{prefix:t||""});return{data:yield gl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Vn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rce="2.10.4",nce={"X-Client-Info":`storage-js/${rce}`};var Zf=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ice{constructor(t,r={},n,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},nce),r),this.fetch=ZW(n)}listBuckets(){return Zf(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Vn(t))return{data:null,error:t};throw t}})}getBucket(t){return Zf(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Vn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Zf(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Vn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Zf(this,void 0,void 0,function*(){try{return{data:yield oT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Vn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Zf(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Vn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Zf(this,void 0,void 0,function*(){try{return{data:yield YW(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Vn(r))return{data:null,error:r};throw r}})}}class sce extends ice{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new tce(this.url,this.headers,t,this.fetch)}}const ace="2.53.0";let hg="";typeof Deno<"u"?hg="deno":typeof document<"u"?hg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hg="react-native":hg="node";const oce={"X-Client-Info":`supabase-js-${hg}/${ace}`},lce={headers:oce},cce={schema:"public"},uce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dce={};var fce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const hce=e=>{let t;return e?t=e:typeof fetch>"u"?t=FW:t=fetch,(...r)=>t(...r)},pce=()=>typeof Headers>"u"?BW:Headers,mce=(e,t,r)=>{const n=hce(r),i=pce();return(s,o)=>fce(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var gce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function vce(e){return e.endsWith("/")?e:e+"/"}function yce(e,t){var r,n;const{db:i,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>gce(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const XW="2.71.1",dh=30*1e3,lT=3,gS=lT*dh,xce="http://localhost:9999",bce="supabase.auth.token",wce={"X-Client-Info":`gotrue-js/${XW}`},cT="X-Supabase-Api-Version",QW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_ce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jce=10*60*1e3;class kO extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Dt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sce extends kO{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Nce(e){return Dt(e)&&e.name==="AuthApiError"}class JW extends kO{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class mu extends kO{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ic extends mu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cce(e){return Dt(e)&&e.name==="AuthSessionMissingError"}class o0 extends mu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class l0 extends mu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class c0 extends mu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ece(e){return Dt(e)&&e.name==="AuthImplicitGrantRedirectError"}class t$ extends mu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uT extends mu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vS(e){return Dt(e)&&e.name==="AuthRetryableFetchError"}class r$ extends mu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dT extends mu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),n$=` 	
\r=`.split(""),Pce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<n$.length;t+=1)e[n$[t].charCodeAt(0)]=-2;for(let t=0;t<Sb.length;t+=1)e[Sb[t].charCodeAt(0)]=t;return e})();function i$(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sb[n]),t.queuedBits-=6}}function e9(e,t,r){const n=Pce[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function s$(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{kce(o,n,r)};for(let o=0;o<e.length;o+=1)e9(e.charCodeAt(o),i,s);return t.join("")}function Tce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ace(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Tce(n,t)}}function kce(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Oce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)e9(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Rce(e){const t=[];return Ace(e,r=>t.push(r)),new Uint8Array(t)}function Mce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>i$(i,r,n)),i$(null,r,n),t.join("")}function Ice(e){return Math.round(Date.now()/1e3)+e}function Lce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ca=()=>typeof window<"u"&&typeof document<"u",Qu={tested:!1,writable:!1},t9=()=>{if(!Ca())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qu.tested)return Qu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qu.tested=!0,Qu.writable=!0}catch{Qu.tested=!0,Qu.writable=!1}return Qu.writable};function Dce(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const r9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yv(async()=>{const{default:n}=await Promise.resolve().then(()=>jp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$ce=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ju=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pc=async(e,t)=>{await e.removeItem(t)};class l_{constructor(){this.promise=new l_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}l_.promiseConstructor=Promise;function yS(e){const t=e.split(".");if(t.length!==3)throw new dT("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_ce.test(t[n]))throw new dT("JWT not in base64url format");return{header:JSON.parse(s$(t[0])),payload:JSON.parse(s$(t[1])),signature:Oce(t[2]),raw:{header:t[0],payload:t[1]}}}async function Fce(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bce(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function zce(e){return("0"+e.toString(16)).substr(-2)}function qce(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,zce).join("")}async function Uce(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Vce(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Uce(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yf(e,t,r=!1){const n=qce();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await fh(e,`${t}-code-verifier`,i);const s=await Vce(n);return[s,n===s?"plain":"s256"]}const Wce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hce(e){const t=e.headers.get(cT);if(!t||!t.match(Wce))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kce(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Gce(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xf(e){if(!Zce.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xS(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function a$(e){return JSON.parse(JSON.stringify(e))}var Yce=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const nd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xce=[502,503,504];async function o$(e){var t;if(!$ce(e))throw new uT(nd(e),0);if(Xce.includes(e.status))throw new uT(nd(e),e.status);let r;try{r=await e.json()}catch(s){throw new JW(nd(s),s)}let n;const i=Hce(e);if(i&&i.getTime()>=QW["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new r$(nd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ic}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new r$(nd(r),e.status,r.weak_password.reasons);throw new Sce(nd(r),e.status||500,n)}const Qce=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Gt(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[cT]||(s[cT]=QW["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Jce(e,t,r+l,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Jce(e,t,r,n,i,s){const o=Qce(t,n,i,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new uT(nd(c),0)}if(l.ok||await o$(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await o$(c)}}function pl(e){var t;let r=null;nue(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ice(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function l$(e){const t=pl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eue(e){return{data:e,error:null}}function tue(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=Yce(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function rue(e){return e}function nue(e){return e.access_token&&e.refresh_token&&e.expires_in}const bS=["global","local","others"];var iue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class sue{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=r9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=bS[0]){if(bS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bS.join(", ")}`);try{return await Gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qc})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=iue(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tue,redirectTo:r?.redirectTo})}catch(r){if(Dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qc})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:rue});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xf(t);try{return await Gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qc})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xf(t);try{return await Gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qc})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Xf(t);try{return await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qc})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Xf(t.userId);try{const{data:r,error:n}=await Gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xf(t.userId),Xf(t.id);try{return{data:await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}}function c$(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function aue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qf={debug:!!(globalThis&&t9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n9 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oue extends n9{}async function lue(e,t,r){Qf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Qf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Qf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Qf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}aue();const cue={url:xce,storageKey:bce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function u$(e,t,r){return await r()}const Jf={};class Zg{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zg.nextInstanceID,Zg.nextInstanceID+=1,this.instanceID>0&&Ca()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cue),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sue({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=r9(i.fetch),this.lock=i.lock||u$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ca()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=lue:this.lock=u$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:t9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=c$(this.memoryStorage)),Ca()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Jf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Jf[this.storageKey]=Object.assign(Object.assign({},Jf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Jf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jf[this.storageKey]=Object.assign(Object.assign({},Jf[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XW}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Dce(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ca()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Ece(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Dt(r)?{error:r}:{error:new JW("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:pl}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Yf(this.storage,this.storageKey)),s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:w},xform:pl})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:pl})}else throw new l0("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:l$})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:l$})}else throw new l0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new o0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,o,l,c,u,f,p,g,v;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:_,wallet:S,statement:N,options:C}=t;let A;if(Ca())if(typeof S=="object")A=S;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))A=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const P=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const k=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),N?{statement:N}:null));let O;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")O=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)O=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)w=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),y=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${P.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(f=C?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const k=await A.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:_,error:S}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Mce(y)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pl});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new o0}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Dt(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Ju(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:pl});if(await Pc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new o0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,l=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:pl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new o0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Yf(this.storage,this.storageKey));const{error:p}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new l0("You must provide either an email or phone number.")}catch(l){if(Dt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:pl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Yf(this.storage,this.storageKey)),await Gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:eue})}catch(s){if(Dt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ic;const{error:i}=await Gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:l}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new l0("You must provide either an email or phone number and a type")}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ju(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<gS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ju(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=xS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ic}:await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:qc})})}catch(r){if(Dt(r))return Cce(r)&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ic;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Yf(this.storage,this.storageKey));const{data:u,error:f}=await Gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:qc});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ic;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=yS(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ic;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ca())throw new c0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new c0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new t$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new c0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new t$("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new c0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let g=f+p;c&&(g=parseInt(c));const v=g-f;v*1e3<=dh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const w=g-p;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,f);const{data:y,error:_}=await this._getUser(s);if(_)throw _;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ju(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Nce(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Lce(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Yf(this.storage,this.storageKey,!0));try{return await Gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Dt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,f;const{data:p,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Gt(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Ca()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Dt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Bce(async i=>(i>0&&await Fce(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pl})),(i,s)=>{const o=200*Math.pow(2,i);return s&&vS(s)&&Date.now()+o-n<dh})}catch(n){if(this._debug(r,"error",n),Dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ca()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ju(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ju(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await fh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:xS()}else if(i&&!i.user&&!i.user){const o=await Ju(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Pc(this.storage,this.storageKey+"-user"),await fh(this.storage,this.storageKey,i)):i.user=xS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gS;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gS}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),vS(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ic;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new l_;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ic;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Dt(s)){const o={session:null,error:s};return vS(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fh(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=a$(i);await fh(this.storage,this.storageKey,s)}else{const i=a$(r);await fh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Pc(this.storage,this.storageKey),await Pc(this.storage,this.storageKey+"-code-verifier"),await Pc(this.storage,this.storageKey+"-user"),this.userStorage&&await Pc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ca()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/dh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dh}ms, refresh threshold is ${lT} ticks`),i<=lT&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof n9)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ca()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Yf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Gt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+jce>i)return n;const{data:s,error:o}=await Gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=yS(n);r?.allowExpired||Kce(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const f=Gce(i.alg),p=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,Rce(`${l}.${c}`)))throw new dT("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}}Zg.nextInstanceID=0;const uue=Zg;class due extends uue{constructor(t){super(t)}}var fue=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class hue{constructor(t,r,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=vce(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:cce,realtime:dce,auth:Object.assign(Object.assign({},uce),{storageKey:u}),global:lce},p=yce(n??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=mce(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new kle(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new sce(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new xle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return fue(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:c},u,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new due({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Hle(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pue=(e,t,r)=>new hue(e,t,r);function mue(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mue()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Uc="https://vvlpgviacinsbggfsexs.supabase.co";const OO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ2bHBndmlhY2luc2JnZ2ZzZXhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MjMzNjUsImV4cCI6MjA3MDA5OTM2NX0.YsZUDyYfgGHD7jNDKAVaR4Y0yzulwLo2NGo85ohHefY";console.log("🔍 Variables d'environnement détectées:");console.log("🔍 VITE_SUPABASE_URL:",Uc);console.log("🔍 VITE_SUPABASE_ANON_KEY length:",OO?.length);Uc&&Uc.startsWith("//")&&(Uc="https:"+Uc,console.log("🔧 URL Supabase corrigée:",Uc));const fn=!!(Uc&&OO);console.log("🔍 isSupabaseConfigured:",fn);fn||console.error("Supabase non configuré: VITE_SUPABASE_URL ou VITE_SUPABASE_ANON_KEY manquants");const Ce=pue(Uc||"https://placeholder.supabase.co",OO,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});let gue=0;const vue=function(e){if(typeof window>"u"||typeof document>"u")return{id:"noop",dismiss:function(){}};const t="toast-"+ ++gue,r=document.getElementById("toaster-container");if(!r)return console.warn("Toast container not found"),{id:"noop",dismiss:function(){}};try{const n=document.createElement("div");n.id=t,n.className="bg-background border rounded-md p-4 shadow-lg max-w-sm mb-2";let i="";return e.title&&(i+='<div class="font-semibold">'+e.title+"</div>"),e.description&&(i+='<div class="text-sm opacity-90 mt-1">'+e.description+"</div>"),n.innerHTML=i+'<button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-foreground/50 hover:text-foreground">✕</button>',r.appendChild(n),e.duration!==1/0&&setTimeout(function(){n.parentNode&&n.remove()},e.duration||5e3),{id:t,dismiss:function(){n.parentNode&&n.remove()}}}catch(n){return console.error("Error creating toast:",n),{id:"error",dismiss:function(){}}}};function Sn(){return{toast:vue,toasts:[]}}const i9=x.createContext({}),yue=({children:e})=>{const[t,r]=x.useState(null),[n,i]=x.useState(null),[s,o]=x.useState(!0),[l,c]=x.useState(null),{toast:u}=Sn();x.useEffect(()=>{if(!fn){o(!1);return}(async()=>{const{data:{session:A}}=await Ce.auth.getSession();if(c(A),r(A?.user??null),A?.user)try{const{data:P}=await Ce.from("users").select("*").eq("id",A.user.id).single();i(P)}catch(P){console.error("Erreur lors de la récupération du profil:",P)}o(!1)})();const{data:{subscription:C}}=Ce.auth.onAuthStateChange(async(A,P)=>{if(console.log("Auth state changed:",A,P),c(P),r(P?.user??null),P?.user)try{const{data:k}=await Ce.from("users").select("*").eq("id",P.user.id).single();i(k)}catch(k){console.error("Erreur lors de la récupération du profil:",k)}else i(null);if(o(!1),A==="SIGNED_IN"){if(P?.user){const k={id:P.user.id,first_name:P.user.user_metadata?.first_name||"",last_name:P.user.user_metadata?.last_name||"",email:P.user.email,phone_number:P.user.user_metadata?.phone_number||"",role:"user"},{error:O}=await Ce.from("users").upsert([k],{onConflict:"id"});O&&console.error("Profile upsert error:",O)}u({title:"Connexion réussie",description:"Bienvenue sur MaxiMarket !"})}else A==="SIGNED_OUT"&&u({title:"Déconnexion réussie",description:"À bientôt !"})});return()=>C.unsubscribe()},[u]);const S={user:n||t,userProfile:n,session:l,loading:s,login:async N=>{try{if(!fn)throw new Error("Supabase non configuré");const{data:C,error:A}=await Ce.auth.signInWithPassword({email:N.email,password:N.password});if(A)throw A;return console.log("Supabase login successful:",C),!0}catch(C){return console.error("Login error:",C),u({title:"Erreur de connexion",description:C.message,variant:"destructive"}),!1}},register:async N=>{try{if(!fn)throw new Error("Supabase non configuré");const C=(N?.phoneNumber||"").trim(),A=/^\+?[1-9]\d{1,14}$/;if(!C)return u({title:"Numéro requis",description:"Le numéro de téléphone est obligatoire pour créer un compte.",variant:"destructive"}),!1;if(!A.test(C))return u({title:"Numéro invalide",description:"Veuillez saisir un numéro de téléphone valide (format international).",variant:"destructive"}),!1;const{data:P,error:k}=await Ce.auth.signUp({email:N.email,password:N.password,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{first_name:N.firstName,last_name:N.lastName,phone_number:C}}});if(k)throw k;if(console.log("Supabase register successful:",P),P.user){const{error:O}=await Ce.from("users").upsert([{id:P.user.id,first_name:N.firstName,last_name:N.lastName,email:N.email,phone_number:C,role:"user"}],{onConflict:"id"});O&&console.error("Profile upsert error:",O)}return P.user&&!P.user.email_confirmed_at?(u({title:"Inscription réussie",description:"Vérifiez votre email pour confirmer votre compte !"}),{success:!0,needsConfirmation:!0}):(u({title:"Inscription réussie",description:"Bienvenue sur MaxiMarket !"}),{success:!0,needsConfirmation:!1})}catch(C){return console.error("Register error:",C),u({title:"Erreur d'inscription",description:C.message,variant:"destructive"}),!1}},logout:async()=>{try{const{error:N}=await Ce.auth.signOut();if(N)throw N;return!0}catch(N){return console.error("Logout error:",N),u({title:"Erreur de déconnexion",description:N.message,variant:"destructive"}),!1}},resetPassword:async N=>{try{const{error:C}=await Ce.auth.resetPasswordForEmail(N,{redirectTo:`${window.location.origin}/reset-password`});if(C)throw C;return u({title:"Email envoyé",description:"Vérifiez votre boîte mail pour réinitialiser votre mot de passe."}),!0}catch(C){return console.error("Reset password error:",C),u({title:"Erreur",description:C.message,variant:"destructive"}),!1}},updatePassword:async N=>{try{const{error:C}=await Ce.auth.updateUser({password:N});if(C)throw C;return u({title:"Mot de passe mis à jour",description:"Votre mot de passe a été modifié avec succès."}),!0}catch(C){return console.error("Update password error:",C),u({title:"Erreur",description:C.message,variant:"destructive"}),!1}},hasRole:N=>t?n?.role?n.role===N:t.user_metadata?.role===N||t.app_metadata?.role===N:!1,hasAnyRole:N=>{if(!t)return!1;if(n?.role)return N.includes(n.role);const C=t.user_metadata?.role||t.app_metadata?.role;return N.includes(C)},isAuthenticated:!!t};return a.jsx(i9.Provider,{value:S,children:e})},Zr=()=>{const e=x.useContext(i9);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>x.createElement("svg",{ref:f,...xue,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${bue(e)}`,l].join(" "),...u},[...t.map(([p,g])=>x.createElement(p,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=Be("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=Be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=Be("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=Be("BadgeCent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M15.4 10a4 4 0 1 0 0 4",key:"2eqtx8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Be("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Be("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Be("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Be("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Be("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Be("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=Be("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=Be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Be("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=Be("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=Be("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=Be("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=Be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=Be("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Be("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=Be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=Be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=Be("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=Be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=Be("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Be("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=Be("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=Be("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=Be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=Be("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=Be("SearchCode",[["path",{d:"m9 9-2 2 2 2",key:"17gsfh"}],["path",{d:"m13 13 2-2-2-2",key:"186z8k"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=Be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=Be("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Be("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=Be("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=Be("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=Be("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=Be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=Be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),id=({children:e,requiredRole:t="user"})=>{const{user:r,loading:n}=Zr(),i=ji();if(console.log("🔒 ProtectedRoute check:",{user:!!r,loading:n,requiredRole:t,path:i.pathname}),n)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Tr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!r)return console.log("🔒 User not authenticated, redirecting to /connexion"),a.jsx(fD,{to:"/connexion",state:{from:i},replace:!0});const s=Array.isArray(r.roles)&&r.roles.includes(t)||r.role===t||r.roles===t;return t&&!s?a.jsx(fD,{to:"/",replace:!0}):e},Tc=({children:e})=>a.jsx(id,{requiredRole:"admin",children:e}),dde=new rV({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(e,t)=>t?.status>=500?e<2:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}}),m$={listings:{staleTime:2*60*1e3,gcTime:5*60*1e3}};class fde{constructor(){this.isSupported="serviceWorker"in navigator,this.registration=null,this.updateAvailable=!1}async register(){if(!this.isSupported)return console.warn("⚠️ Service Worker non supporté par ce navigateur"),!1;try{return console.log("🔄 Enregistrement du Service Worker..."),this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("✅ Service Worker enregistré:",this.registration),this.registration.addEventListener("updatefound",()=>{console.log("🔄 Mise à jour du Service Worker disponible"),this.updateAvailable=!0}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("✅ Nouveau Service Worker activé"),this.updateAvailable=!1,window.location.reload()}),navigator.serviceWorker.addEventListener("message",t=>{console.log("📨 Message du Service Worker:",t.data)}),!0}catch(t){return console.error("❌ Erreur lors de l'enregistrement du Service Worker:",t),!1}}async unregister(){if(this.registration)try{return await this.registration.unregister(),console.log("✅ Service Worker désenregistré"),!0}catch(t){return console.error("❌ Erreur lors du désenregistrement:",t),!1}return!1}async update(){if(this.registration&&this.updateAvailable)try{return this.registration.active.postMessage({type:"SKIP_WAITING"}),console.log("🔄 Mise à jour du Service Worker déclenchée"),!0}catch(t){return console.error("❌ Erreur lors de la mise à jour:",t),!1}return!1}async clearCache(){if(this.registration)try{return this.registration.active.postMessage({type:"CLEAR_CACHE"}),console.log("🗑️ Vidage du cache demandé"),!0}catch(t){return console.error("❌ Erreur lors du vidage du cache:",t),!1}return!1}getStatus(){return{isSupported:this.isSupported,isRegistered:!!this.registration,updateAvailable:this.updateAvailable,scope:this.registration?.scope||null}}}const BO=new fde;class hde{constructor(){this.usagePatterns=new Map,this.optimizations=new Map,this.isOptimizing=!1}recordUsage(t,r,n){this.usagePatterns.has(t)||this.usagePatterns.set(t,{hits:0,misses:0,lastAccess:n,accessTimes:[],totalAccesses:0});const i=this.usagePatterns.get(t);i.totalAccesses++,i.lastAccess=n,i.accessTimes.push(n),r?i.hits++:i.misses++,i.accessTimes.length>100&&i.accessTimes.shift(),this.optimizeTTL(t)}calculateAverageInterval(t){if(t.length<2)return 0;const r=[];for(let i=1;i<t.length;i++)r.push(t[i]-t[i-1]);return r.reduce((i,s)=>i+s,0)/r.length}calculateFreshnessRatio(t){if(t.hits+t.misses===0)return 0;const n=t.hits,i=t.misses;return n/(n+i)}optimizeTTL(t){const r=this.usagePatterns.get(t);if(!r||r.totalAccesses<10)return;const n=this.calculateAverageInterval(r.accessTimes),i=this.calculateFreshnessRatio(r),s=this.getCurrentTTL(t);let o=s;n<5*60*1e3&&i>.8?o=Math.min(s*1.5,30*60*1e3):n>15*60*1e3&&i<.3?o=Math.max(s*.7,1*60*1e3):n<1*60*1e3&&(o=Math.max(n*2,30*1e3)),this.optimizations.set(t,{currentTTL:s,optimalTTL:o,averageInterval:n,freshnessRatio:i,lastOptimized:Date.now()}),console.log(`🔧 TTL optimisé pour ${t}:`,{current:`${s/1e3}s`,optimal:`${o/1e3}s`,interval:`${n/1e3}s`,ratio:`${(i*100).toFixed(1)}%`})}getCurrentTTL(t){return t.includes("categories")?10*60*1e3:t.includes("listings")?2*60*1e3:t.includes("userListings")?1*60*1e3:(t.includes("search"),5*60*1e3)}getOptimalTTL(t){const r=this.optimizations.get(t);return r?r.optimalTTL:this.getCurrentTTL(t)}getOptimizationRecommendations(){const t=[];for(const[r,n]of this.optimizations){const i=(n.optimalTTL-n.currentTTL)/n.currentTTL*100;Math.abs(i)>10&&t.push({cacheKey:r,currentTTL:n.currentTTL,optimalTTL:n.optimalTTL,improvement:i.toFixed(1),averageInterval:n.averageInterval,freshnessRatio:n.freshnessRatio})}return t.sort((r,n)=>Math.abs(n.improvement)-Math.abs(r.improvement))}applyOptimizations(){const t=this.getOptimizationRecommendations();let r=0;for(const n of t)console.log(`✅ Optimisation appliquée pour ${n.cacheKey}:`,{from:`${n.currentTTL/1e3}s`,to:`${n.optimalTTL/1e3}s`,improvement:`${n.improvement}%`}),r++;return r}getOptimizationStats(){const t=this.usagePatterns.size,r=this.optimizations.size,n=this.getOptimizationRecommendations();return{totalPatterns:t,totalOptimizations:r,activeRecommendations:n.length,averageImprovement:n.length>0?n.reduce((i,s)=>i+Math.abs(parseFloat(s.improvement)),0)/n.length:0}}reset(){this.usagePatterns.clear(),this.optimizations.clear(),console.log("🔄 Optimisations TTL réinitialisées")}}const eh=new hde;class pde{constructor(t="benome"){this.prefix=t,this.maxSize=50*1024*1024}_getKey(t){return`${this.prefix}:${t}`}_isExpired(t,r){return Date.now()-t>r}_getSize(t){return new Blob([JSON.stringify(t)]).size}_cleanup(){const r=Object.keys(localStorage).filter(o=>o.startsWith(`${this.prefix}:`));if(r.length===0)return;const n=r.map(o=>{try{const l=JSON.parse(localStorage.getItem(o));return{key:o,timestamp:l.timestamp,size:this._getSize(l)}}catch{return{key:o,timestamp:0,size:0}}}).sort((o,l)=>o.timestamp-l.timestamp);let i=this._getCurrentCacheSize();const s=this.maxSize*.8;for(const o of n){if(i<=s)break;localStorage.removeItem(o.key),i-=o.size}}_getCurrentCacheSize(){return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).reduce((n,i)=>{try{const s=JSON.parse(localStorage.getItem(i));return n+this._getSize(s)}catch{return n}},0)}set(t,r,n=5*60*1e3){try{const i=this._getKey(t),s={data:r,timestamp:Date.now(),ttl:n,version:"1.0"},o=this._getSize(s);return o>this.maxSize?(console.warn("⚠️ Données trop volumineuses pour le cache local"),!1):(this._getCurrentCacheSize()+o>this.maxSize&&this._cleanup(),localStorage.setItem(i,JSON.stringify(s)),eh.recordUsage(t,!1,Date.now()),!0)}catch(i){return console.error("❌ Erreur lors de la sauvegarde en cache:",i),!1}}get(t){try{const r=this._getKey(t),n=localStorage.getItem(r);if(!n)return eh.recordUsage(t,!1,Date.now()),null;const i=JSON.parse(n);return this._isExpired(i.timestamp,i.ttl)?(this.delete(t),eh.recordUsage(t,!1,Date.now()),null):(eh.recordUsage(t,!0,Date.now()),i.data)}catch(r){return console.error("❌ Erreur lors de la récupération du cache:",r),this.delete(t),null}}delete(t){try{const r=this._getKey(t);return localStorage.removeItem(r),!0}catch(r){return console.error("❌ Erreur lors de la suppression du cache:",r),!1}}clear(){try{return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).forEach(n=>localStorage.removeItem(n)),!0}catch(t){return console.error("❌ Erreur lors du vidage du cache:",t),!1}}getStats(){try{const r=Object.keys(localStorage).filter(s=>s.startsWith(`${this.prefix}:`)),n={totalEntries:r.length,totalSize:this._getCurrentCacheSize(),maxSize:this.maxSize,usagePercentage:this._getCurrentCacheSize()/this.maxSize*100};let i=0;return r.forEach(s=>{try{const o=JSON.parse(localStorage.getItem(s));this._isExpired(o.timestamp,o.ttl)&&i++}catch{i++}}),n.expiredEntries=i,n}catch(t){return console.error("❌ Erreur lors du calcul des statistiques:",t),null}}cleanup(){try{const r=Object.keys(localStorage).filter(i=>i.startsWith(`${this.prefix}:`));let n=0;return r.forEach(i=>{try{const s=JSON.parse(localStorage.getItem(i));this._isExpired(s.timestamp,s.ttl)&&(localStorage.removeItem(i),n++)}catch{localStorage.removeItem(i),n++}}),console.log(`🧹 Cache nettoyé: ${n} entrées supprimées`),n}catch(t){return console.error("❌ Erreur lors du nettoyage du cache:",t),0}}getTTLOptimizations(){return eh.getOptimizationRecommendations()}applyTTLOptimizations(){return eh.applyOptimizations()}}const zO=new pde;setInterval(()=>{zO.cleanup()},5*60*1e3);const mde=(e,t)=>t.map(r=>{const n=e[r.key]||"";return r.type==="date"?gde(n):r.type==="currency"?vde(n):r.type==="boolean"?n?"Oui":"Non":r.type==="array"?Array.isArray(n)?n.join(", "):n:r.type==="object"&&typeof n=="object"?JSON.stringify(n):n}).map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","),gde=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}},vde=e=>{if(e==null)return"";try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}catch{return String(e)}},Vm=(e,t,r="export")=>{try{const n=t.map(u=>u.label).join(","),i=e.map(u=>mde(u,t)),s=[n,...i].join(`
`),o=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);return l.setAttribute("href",c),l.setAttribute("download",`${r}-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),{success:!0,message:"Export CSV réussi"}}catch(n){throw console.error("Erreur lors de l'export CSV:",n),new Error("Impossible d'exporter les données")}},yde=[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"last_login_at",label:"Dernière connexion",type:"date"}],xde=[{key:"id",label:"ID",type:"string"},{key:"title",label:"Titre",type:"string"},{key:"price",label:"Prix",type:"currency"},{key:"category",label:"Catégorie",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"location",label:"Localisation",type:"object"},{key:"views_count",label:"Vues",type:"number"},{key:"favorites_count",label:"Favoris",type:"number"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],bde=[{key:"id",label:"ID",type:"string"},{key:"reference",label:"Référence",type:"string"},{key:"type",label:"Type",type:"string"},{key:"amount",label:"Montant",type:"currency"},{key:"currency",label:"Devise",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"payment_method",label:"Méthode de paiement",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"completed_at",label:"Date de finalisation",type:"date"}],wde=[{key:"id",label:"ID",type:"string"},{key:"name",label:"Nom",type:"string"},{key:"slug",label:"Slug",type:"string"},{key:"parent_category",label:"Type parent",type:"string"},{key:"description",label:"Description",type:"string"},{key:"icon",label:"Icône",type:"string"},{key:"sort_order",label:"Ordre de tri",type:"number"},{key:"is_active",label:"Actif",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],_de=[{key:"id",label:"ID",type:"string"},{key:"reason",label:"Raison",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"type",label:"Type",type:"string"},{key:"severity",label:"Sévérité",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"moderated_at",label:"Date de modération",type:"date"}],h_={users:(e,t="utilisateurs")=>Vm(e,yde,t),listings:(e,t="annonces")=>Vm(e,xde,t),transactions:(e,t="transactions")=>Vm(e,bde,t),categories:(e,t="categories")=>Vm(e,wde,t),reports:(e,t="rapports")=>Vm(e,_de,t)},$a={getProfile:async(e=null)=>{const{data:{user:t}}=await Ce.auth.getUser(),r=e||t?.id;if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await Ce.from("users").select("*").eq("id",r).single();if(i)throw i;return n},updateProfile:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await Ce.from("users").update(e).eq("id",t.id).select().single();if(n)throw n;return r},getAllUsers:async()=>{const{data:e,error:t}=await Ce.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},updateUserStatus:async(e,t)=>{const{data:r,error:n}=await Ce.from("users").update({status:t}).eq("id",e).select().single();if(n)throw n;return r},getUserById:async e=>{const{data:t,error:r}=await Ce.from("users").select("*").eq("id",e).single();if(r)throw r;return t},searchUsers:async(e,t={})=>{let r=Ce.from("users").select("*").or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%`);t.role&&(r=r.eq("role",t.role)),t.status&&(r=r.eq("status",t.status));const{data:n,error:i}=await r.order("created_at",{ascending:!1});if(i)throw i;return n},updateUserRole:async(e,t)=>{const{data:r,error:n}=await Ce.from("users").update({role:t}).eq("id",e).select().single();if(n)throw n;return r},deleteUser:async e=>{const{error:t}=await Ce.from("users").delete().eq("id",e);if(t)throw t;return!0},getUserStats:async()=>{const{data:e,error:t}=await Ce.from("users").select("role, status, created_at");if(t)throw t;const r={total:e.length,byRole:{},byStatus:{},byMonth:{}};return e.forEach(n=>{r.byRole[n.role]=(r.byRole[n.role]||0)+1,r.byStatus[n.status]=(r.byStatus[n.status]||0)+1;const i=new Date(n.created_at).toISOString().slice(0,7);r.byMonth[i]=(r.byMonth[i]||0)+1}),r},exportUsers:async(e="csv")=>{const t=await $a.getAllUsers();return h_(t,[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],`utilisateurs-${new Date().toISOString().split("T")[0]}`,e)}},jde=(e,t)=>{const r=e?.length||0;if(r===0)return{data:[],hasMore:!1,totalPremium:0};if(r<=t)return{data:e||[],hasMore:!1,totalPremium:r};const n=new Date,i=Math.floor((n-new Date(n.getFullYear(),0,0))/(1e3*60*60*24)),s=i%r,o=[];for(let l=0;l<t;l++){const c=(s+l)%r;o.push(e[c])}return console.log(`🔄 Rotation premium: ${r} total, ${t} affichées, offset: ${s}`),{data:o,hasMore:r>t,totalPremium:r,rotationInfo:{dayOfYear:i,rotationOffset:s,nextRotation:new Date(n.getTime()+24*60*60*1e3)}}},_S=e=>{let t=0;t+={highest:1e3,high:800,medium:600,low:400}[e.premium_metadata?.priority]||500,e.is_featured&&e.is_boosted?t+=900:e.is_featured?t+=700:e.is_boosted&&(t+=600);const n=Math.ceil((new Date(e.boost_expires_at)-new Date)/(1e3*60*60*24));t+=Math.max(0,n*10);const i=Math.ceil((Date.now()-new Date(e.updated_at))/(1e3*60*60*24));return t+=Math.max(0,30-i),t},Vr={getAllListings:async(e={})=>{if(!fn)return console.warn("⚠️ Supabase non configuré, retour de données de test"),{data:[{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}},{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",description:"Véhicule en parfait état, entretien régulier, première main.",price:25e5,category:"automobile",status:"approved",user_id:"test-user-2",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},automobile_details:{brand:"Toyota",model:"Corolla",year:"2020"},contact_info:{phone:"+221 76 987 6543",email:"vendeur-auto@test.com"},users:{id:"test-user-2",first_name:"Fatou",last_name:"Sall",phone_number:"+221 76 987 6543",email:"fatou.sall@test.com"}},{id:"test-3",title:"Service de Plomberie Professionnel",description:"Plombier qualifié avec 10 ans d'expérience. Réparation, installation, maintenance. Intervention rapide 24h/24.",price:15e3,category:"services",status:"approved",user_id:"test-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Plomberie",experience:"10 ans",availability:"24h/24",verified:!0,certifications:["Certification professionnelle","Assurance responsabilité civile"]},contact_info:{phone:"+221 78 555 1234",email:"plombier@test.com",website:"www.plombier-dakar.com"},users:{id:"test-user-3",first_name:"Ibrahima",last_name:"Ndiaye",phone_number:"+221 78 555 1234",email:"ibrahima.ndiaye@test.com"}},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",description:"iPhone 13 Pro 128GB en excellent état, acheté il y a 6 mois. Boîte et accessoires inclus.",price:45e4,category:"marketplace",status:"approved",user_id:"test-user-4",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},product_details:{brand:"Apple",model:"iPhone 13 Pro",condition:"Excellent",warranty:"Garantie constructeur",dimensions:"146.7 x 71.5 x 7.65 mm",weight:"203g"},contact_info:{phone:"+221 77 888 9999",email:"tech@test.com"},users:{id:"test-user-4",first_name:"Aissatou",last_name:"Diop",phone_number:"+221 77 888 9999",email:"aissatou.diop@test.com"}}],count:4,hasMore:!1};const{page:t=0,limit:r=12,sort:n}=e,i=t*r,s=i+r-1;try{console.log("🔍 Début de la requête getAllListings"),console.log("🔍 Construction de la requête Supabase...");let o=Ce.from("listings").select("*").order(n==="popular"?"views_count":"created_at",{ascending:!1}).range(i,s);if(console.log("🔍 Requête de base construite"),e.category&&(o=o.eq("category",e.category)),e.status?e.status&&(o=o.eq("status",e.status)):o=o.eq("status","approved"),e.user_id&&(o=o.eq("user_id",e.user_id)),e.search&&(o=o.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e.minPrice&&(o=o.gte("price",Number(e.minPrice))),e.maxPrice&&(o=o.lte("price",Number(e.maxPrice))),e.location){const f=String(e.location).trim();f&&(o=o.or(`location->>city.ilike.%${f}%,location->>country.ilike.%${f}%`))}console.log("🔍 Executing query with filters:",e),console.log("🔍 Lancement de la requête...");const{data:l,error:c}=await o;if(console.log("🔍 Requête terminée"),c)throw console.error("❌ Erreur Supabase:",c),c;const u=l?.map(f=>{try{return{...f,location:f.location?typeof f.location=="string"?JSON.parse(f.location):f.location:null,real_estate_details:f.real_estate_details?typeof f.real_estate_details=="string"?JSON.parse(f.real_estate_details):f.real_estate_details:null,automobile_details:f.automobile_details?typeof f.automobile_details=="string"?JSON.parse(f.automobile_details):f.automobile_details:null,service_details:f.service_details?typeof f.service_details=="string"?JSON.parse(f.service_details):f.service_details:null,product_details:f.product_details?typeof f.product_details=="string"?JSON.parse(f.product_details):f.product_details:null,contact_info:f.contact_info?typeof f.contact_info=="string"?JSON.parse(f.contact_info):f.contact_info:null}}catch(p){return console.warn("⚠️ Erreur parsing JSONB pour listing:",f.id,p),f}})||[];return{data:u,count:u.length,hasMore:!1}}catch(o){throw console.error("❌ Erreur dans getAllListings:",o),o}},getListingById:async e=>{if(!fn)return console.warn("⚠️ Supabase non configuré, retour d'annonce de test"),{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}};try{const{data:t,error:r}=await Ce.from("listings").select(`
          *,
          users:users!listings_user_id_fkey (
            id,
            first_name,
            last_name,
            phone_number,
            email
          )
        `).eq("id",e).eq("status","approved").single();if(r){console.log("🔍 Erreur avec requête simple:",r);const{data:n,error:i}=await Ce.from("listings").select(`
            *,
            users:users!listings_user_id_fkey (
              id,
              first_name,
              last_name,
              phone_number,
              email
            )
          `).eq("id",e).single();if(i)throw i;return n?(console.log("🔍 Annonce trouvée sans filtre de statut:",n.status),{...n,location:typeof n.location=="string"?JSON.parse(n.location):n.location,real_estate_details:typeof n.real_estate_details=="string"?JSON.parse(n.real_estate_details):n.real_estate_details,automobile_details:typeof n.automobile_details=="string"?JSON.parse(n.automobile_details):n.automobile_details,service_details:typeof n.service_details=="string"?JSON.parse(n.service_details):n.service_details,product_details:typeof n.product_details=="string"?JSON.parse(n.product_details):n.product_details,contact_info:typeof n.contact_info=="string"?JSON.parse(n.contact_info):n.contact_info}):null}return t?{...t,location:typeof t.location=="string"?JSON.parse(t.location):t.location,real_estate_details:typeof t.real_estate_details=="string"?JSON.parse(t.real_estate_details):t.real_estate_details,automobile_details:typeof t.automobile_details=="string"?JSON.parse(t.automobile_details):t.automobile_details,service_details:typeof t.service_details=="string"?JSON.parse(t.service_details):t.service_details,product_details:typeof t.product_details=="string"?JSON.parse(t.product_details):t.product_details,contact_info:typeof t.contact_info=="string"?JSON.parse(t.contact_info):t.contact_info}:null}catch(t){throw console.error("🔍 Erreur dans getListingById:",t),t}},incrementViews:async e=>{try{const{error:t}=await Ce.rpc("increment_listing_views",{listing_id:e});if(t)throw t}catch(t){console.warn("⚠️ Impossible d'incrémenter views_count pour",e,t?.message)}},getTopViewedListings:async(e=6)=>{if(console.log("🔍 getTopViewedListings appelé avec limit:",e),console.log("🔍 isSupabaseConfigured:",fn),!fn)return console.warn("⚠️ Supabase non configuré, retour de données de test (top vues)"),[{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",price:25e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:1200,is_featured:!1,is_boosted:!1},{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",price:5e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:980,is_featured:!1,is_boosted:!1},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",price:45e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!1}].slice(0,e);try{console.log("🔍 Tentative de connexion à Supabase...");const{data:t,error:r}=await Ce.from("listings").select("*").eq("status","approved").not("is_featured","eq",!0).not("is_boosted","eq",!0).order("views_count",{ascending:!1,nullsFirst:!1}).limit(e);if(console.log("🔍 Réponse Supabase:",{data:t,error:r}),r)throw r;const n=(t||[]).map(i=>({...i,location:i.location?typeof i.location=="string"?JSON.parse(i.location):i.location:null,real_estate_details:i.real_estate_details?typeof i.real_estate_details=="string"?JSON.parse(i.real_estate_details):i.real_estate_details:null,automobile_details:i.automobile_details?typeof i.automobile_details=="string"?JSON.parse(i.automobile_details):i.automobile_details:null,service_details:i.service_details?typeof i.service_details=="string"?JSON.parse(i.service_details):i.service_details:null,product_details:i.product_details?typeof i.product_details=="string"?JSON.parse(i.product_details):i.product_details:null,contact_info:i.contact_info?typeof i.contact_info=="string"?JSON.parse(i.contact_info):i.contact_info:null}));return console.log("🔍 Données nettoyées:",n),n}catch(t){throw console.error("❌ Erreur dans getTopViewedListings:",t),t}},getUserListings:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await Ce.from("listings").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},createListing:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{currency:r,specificData:n,subCategory:i,videos:s,...o}=e,l={...o,user_id:t.id,status:"approved"};r&&(l.currency=r),n&&Object.keys(n).length>0&&(l.specific_data=n),i&&(l.subCategory=i),s&&s.length>0&&(l.videos=s);const{data:c,error:u}=await Ce.from("listings").insert([l]).select().single();if(u)throw console.error("Erreur création annonce:",u),u;return c},updateListing:async(e,t)=>{const{data:r,error:n}=await Ce.from("listings").update(t).eq("id",e).select().single();if(n)throw n;return r},deleteListing:async e=>{const{error:t}=await Ce.from("listings").delete().eq("id",e);if(t)throw t},updateListingStatus:async(e,t)=>{const{data:r,error:n}=await Ce.from("listings").update({status:t}).eq("id",e).select().single();if(n)throw n;return r},searchListings:async e=>{const{query:t,category:r,minPrice:n,maxPrice:i,location:s,status:o="approved"}=e;let l=Ce.from("listings").select("*").eq("status",o);t&&(l=l.or(`title.ilike.%${t}%,description.ilike.%${t}%`)),r&&(l=l.eq("category",r)),n&&(l=l.gte("price",Number(n))),i&&(l=l.lte("price",Number(i))),s&&(l=l.or(`location->>city.ilike.%${s}%,location->>country.ilike.%${s}%`));const{data:c,error:u}=await l.order("created_at",{ascending:!1});if(u)throw u;return c},getListingStats:async()=>{const{data:e,error:t}=await Ce.from("listings").select("category, status, created_at, price");if(t)throw t;const r={total:e.length,byCategory:{},byStatus:{},byMonth:{},totalValue:0,averagePrice:0};let n=0;return e.forEach(i=>{r.byCategory[i.category]=(r.byCategory[i.category]||0)+1,r.byStatus[i.status]=(r.byStatus[i.status]||0)+1;const s=new Date(i.created_at).toISOString().slice(0,7);r.byMonth[s]=(r.byMonth[s]||0)+1,i.price&&(n+=i.price)}),r.totalValue=n,r.averagePrice=e.length>0?n/e.length:0,r},getPremiumListings:async(e=6,t=!1)=>{if(!fn)return console.warn("⚠️ Supabase non configuré, retour de données de test premium"),{data:[{id:"premium-1",title:"Villa de luxe avec vue mer - Premium",description:"Magnifique villa 5 pièces avec vue panoramique sur l'océan. Piscine privée, jardin paysager, garage 2 voitures.",price:15e6,category:"real_estate",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-1",created_at:new Date().toISOString(),location:{city:"Saly",country:"Sénégal"},real_estate_details:{type:"Villa",rooms:"5 pièces",surface:"200m²",amenities:["Piscine","Jardin","Garage"]},contact_info:{phone:"+221 77 999 8888",email:"villa-premium@test.com"},views_count:1250,favorites_count:89,users:{id:"premium-user-1",first_name:"Omar",last_name:"Diop",phone_number:"+221 77 999 8888",email:"omar.diop@test.com"}},{id:"premium-2",title:"Mercedes Classe S 2023 - Premium",description:"Berline de luxe Mercedes Classe S en parfait état, toutes options, entretien constructeur, garantie étendue.",price:45e6,category:"automobile",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-2",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},automobile_details:{brand:"Mercedes",model:"Classe S",year:"2023",condition:"Parfait"},contact_info:{phone:"+221 76 777 6666",email:"mercedes-premium@test.com"},views_count:890,favorites_count:67,users:{id:"premium-user-2",first_name:"Aissatou",last_name:"Fall",phone_number:"+221 76 777 6666",email:"aissatou.fall@test.com"}},{id:"premium-3",title:"Service de Design d'Intérieur Premium",description:"Designer d'intérieur certifié avec 15 ans d'expérience. Projets résidentiels et commerciaux, suivi complet.",price:25e4,category:"services",status:"approved",is_featured:!0,is_boosted:!1,user_id:"premium-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Design d'Intérieur",experience:"15 ans",availability:"Sur rendez-vous",verified:!0,certifications:["Certification internationale","Membre de l'ordre des designers"]},contact_info:{phone:"+221 78 444 3333",email:"design-premium@test.com",website:"www.design-interieur-premium.com"},views_count:567,favorites_count:34,users:{id:"premium-user-3",first_name:"Mariama",last_name:"Ba",phone_number:"+221 78 444 3333",email:"mariama.ba@test.com"}}],hasMore:!1};try{const{data:r,error:n}=await Ce.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            phone_number,
            email
          ),
          listing_boosts (
            boost_packages (
              features
            ),
            end_date
          )
        `).or("is_featured.eq.true,is_boosted.eq.true").eq("status","approved").order("updated_at",{ascending:!1});if(n)throw n;const i=r.map(s=>{const o=s.listing_boosts?.[0],l=o?.boost_packages?.features;return{...s,premium_metadata:{priority:l?.priority||"medium",badge:l?.badge||"boosted",featured:l?.featured||!1,analytics:l?.analytics||"basic",support:l?.support||"standard"},boost_expires_at:o?.end_date||null}});if(t){console.log("🏆 Tri par score premium activé");const s=i.sort((o,l)=>{const c=_S(o);return _S(l)-c});return{data:s.slice(0,e),hasMore:s.length>e,totalPremium:s.length,sortingMethod:"score",topScores:s.slice(0,3).map((o,l)=>({position:l+1,score:_S(o),title:o.title}))}}else return console.log("🔄 Rotation intelligente activée"),jde(i,e)}catch(r){throw console.error("Erreur lors de la récupération des annonces premium:",r),r}}};class Sde{async getUserTransactions(t,r={}){try{let n=Ce.from("transactions").select(`
          *,
          listing:listings(id, title, price, images),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url)
        `).or(`sender_id.eq.${t},receiver_id.eq.${t}`).order("created_at",{ascending:!1});r.status&&(n=n.eq("status",r.status)),r.type&&(n=n.eq("type",r.type)),r.dateFrom&&(n=n.gte("created_at",r.dateFrom)),r.dateTo&&(n=n.lte("created_at",r.dateTo)),r.amountMin&&(n=n.gte("amount",r.amountMin)),r.amountMax&&(n=n.lte("amount",r.amountMax));const{data:i,error:s}=await n;if(s)throw s;return i}catch(n){throw console.error("Erreur lors de la récupération des transactions:",n),n}}async createTransaction(t){try{const{data:r,error:n}=await Ce.from("transactions").insert([{...t,status:"pending",created_at:new Date().toISOString()}]).select().single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la création de la transaction:",r),r}}async updateTransactionStatus(t,r,n={}){try{const{data:i,error:s}=await Ce.from("transactions").update({status:r,metadata:{...n,status_updated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return i}catch(i){throw console.error("Erreur lors de la mise à jour du statut:",i),i}}async getTransaction(t){try{const{data:r,error:n}=await Ce.from("transactions").select(`
          *,
          listing:listings(id, title, price, images, description),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url, email)
        `).eq("id",t).single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la récupération de la transaction:",r),r}}async cancelTransaction(t,r){try{const{data:n,error:i}=await Ce.from("transactions").update({status:"cancelled",metadata:{cancellation_reason:r,cancelled_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de l'annulation de la transaction:",n),n}}async getTransactionStats(t){try{const{data:r,error:n}=await Ce.from("transactions").select("status, amount, type, created_at").or(`sender_id.eq.${t},receiver_id.eq.${t}`);if(n)throw n;const i={total:r.length,totalAmount:r.reduce((s,o)=>s+(o.amount||0),0),byStatus:{},byType:{},monthly:{}};return r.forEach(s=>{i.byStatus[s.status]=(i.byStatus[s.status]||0)+1,i.byType[s.type]=(i.byType[s.type]||0)+1;const o=new Date(s.created_at).toISOString().slice(0,7);i.monthly[o]||(i.monthly[o]={count:0,amount:0}),i.monthly[o].count++,i.monthly[o].amount+=s.amount||0}),i}catch(r){throw console.error("Erreur lors de la récupération des statistiques:",r),r}}async searchTransactions(t,r){try{const{data:n,error:i}=await Ce.from("transactions").select(`
          *,
          listing:listings(id, title),
          sender:users!transactions_sender_id_fkey(id, full_name),
          receiver:users!transactions_receiver_id_fkey(id, full_name)
        `).or(`sender_id.eq.${t},receiver_id.eq.${t}`).or(`reference.ilike.%${r}%,description.ilike.%${r}%`).order("created_at",{ascending:!1});if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la recherche de transactions:",n),n}}async exportTransactions(t,r={}){try{return(await this.getUserTransactions(t,r)).map(s=>({Référence:s.reference,Date:new Date(s.created_at).toLocaleDateString("fr-FR"),Type:s.type,Statut:s.status,Montant:s.amount,Devise:s.currency,Description:s.description,Expéditeur:s.sender?.full_name||"N/A",Destinataire:s.receiver?.full_name||"N/A"}))}catch(n){throw console.error("Erreur lors de l'export des transactions:",n),n}}async validateTransaction(t,r){try{const{data:n,error:i}=await Ce.from("transactions").update({status:"completed",metadata:{validated_by:r,validated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la validation de la transaction:",n),n}}async getPendingTransactions(){try{const{data:t,error:r}=await Ce.from("transactions").select(`
          *,
          listing:listings(id, title, price),
          sender:users!transactions_sender_id_fkey(id, full_name, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, email)
        `).eq("status","pending").order("created_at",{ascending:!0});if(r)throw r;return t}catch(t){throw console.error("Erreur lors de la récupération des transactions en attente:",t),t}}}const Nde=new Sde,h9={getUserNotifications:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await Ce.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},markAsRead:async e=>{const{data:t,error:r}=await Ce.from("notifications").update({read:!0}).eq("id",e).select().single();if(r)throw r;return t},createNotification:async e=>{const{data:t,error:r}=await Ce.from("notifications").insert([e]).select().single();if(r)throw r;return t},markAllAsRead:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:t}=await Ce.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(t)throw t;return!0},deleteNotification:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:r}=await Ce.from("notifications").delete().eq("id",e).eq("user_id",t.id);if(r)throw r;return!0},getUnreadCount:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{count:t,error:r}=await Ce.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("read",!1);if(r)throw r;return t||0},sendPushNotification:async(e,t,r,n={})=>{try{const{data:i,error:s}=await Ce.from("users").select("push_token").eq("id",e).single();return s||!i?.push_token?(console.warn("Aucun token push trouvé pour l'utilisateur:",e),!1):await h9.createNotification({user_id:e,title:t,body:r,type:"push",data:JSON.stringify(n),read:!1})}catch(i){throw console.error("Erreur envoi notification push:",i),i}}},Xs={DEFAULT_USER:{id:"unknown-user",first_name:"Utilisateur",last_name:"Inconnu",avatar_url:null,email:"unknown@example.com"},DEFAULT_CONVERSATION:{id:"default-conversation",title:"Nouvelle conversation",type:"direct",participants:[],last_message_at:new Date().toISOString(),created_at:new Date().toISOString()},DEFAULT_MESSAGE:{id:"default-message",content:"Message par défaut",type:"text",sender_id:"system",created_at:new Date().toISOString(),is_read:!1}},Cde=async e=>{const t={content:`🤖 Bienvenue sur MaxiMarket !

Votre marketplace de confiance pour l'Afrique de l'Ouest.

✨ Découvrez nos fonctionnalités :
• 🏠 Immobilier : Achetez, vendez, louez
• 🚗 Automobile : Véhicules neufs et d'occasion
• 🛠️ Services : Trouvez des professionnels
• 🛍️ Marketplace : Tout ce dont vous avez besoin

🔒 Sécurité garantie avec nos partenaires vérifiés
💬 Support 24/7 disponible

Besoin d'aide ? Je suis là pour vous accompagner !`,message_type:"system",sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:e,is_read:!1,created_at:new Date().toISOString()};try{const{data:r,error:n}=await Ce.from("messages").insert([t]).select().single();return n?(console.error("Erreur ajout message de bienvenue:",n),null):r}catch(r){return console.error("Erreur ajout message de bienvenue:",r),null}},Ti={getUserConversations:async()=>{try{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des conversations pour l'utilisateur:",e.id);const{data:t,error:r}=await Ce.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1});if(r)throw console.error("Erreur récupération conversations:",r),r;if(console.log("🔍 Conversations trouvées:",t?.length||0),!t||t.length===0){console.log("Aucune conversation trouvée, ajout du message de bienvenue...");const{data:i,error:s}=await Ce.from("messages").select("id").eq("receiver_id",e.id).eq("sender_id","00000000-0000-0000-0000-000000000000").eq("message_type","system").limit(1);return s&&console.error("Erreur vérification message de bienvenue:",s),!i||i.length===0?(console.log("Ajout du message de bienvenue pour l'utilisateur:",e.id),await Cde(e.id)):console.log("Message de bienvenue déjà existant pour l'utilisateur:",e.id),[{id:"welcome-message",type:"system",content:`🤖 Bienvenue sur MaxiMarket !

Votre marketplace de confiance pour l'Afrique de l'Ouest.

✨ Découvrez nos fonctionnalités :
• 🏠 Immobilier : Achetez, vendez, louez
• 🚗 Automobile : Véhicules neufs et d'occasion
• 🛠️ Services : Trouvez des professionnels
• 🛍️ Marketplace : Tout ce dont vous avez besoin

🔒 Sécurité garantie avec nos partenaires vérifiés
💬 Support 24/7 disponible

Besoin d'aide ? Je suis là pour vous accompagner !`,sender:{id:"00000000-0000-0000-0000-000000000000",first_name:"Assistant",last_name:"MaxiMarket",avatar_url:null},created_at:new Date().toISOString(),is_system:!0}]}return await Promise.all(t.map(async i=>{try{let s=null;if(i.listing_id){const{data:g,error:v}=await Ce.from("listings").select("id, title, price, images").eq("id",i.listing_id).single();!v&&g&&(s=g)}const o=i.participant1_id,l=i.participant2_id;let c=null,u=null;if(o)try{const{data:g,error:v}=await Ce.from("users").select("id, first_name, last_name, avatar_url").eq("id",o).single();!v&&g?c=g:(console.warn("Utilisateur 1 non trouvé:",o,v),c={id:o,first_name:Xs.DEFAULT_USER.first_name,last_name:Xs.DEFAULT_USER.last_name,avatar_url:Xs.DEFAULT_USER.avatar_url})}catch(g){console.warn("Erreur lors de la récupération de l'utilisateur 1:",g),c={id:o,first_name:Xs.DEFAULT_USER.first_name,last_name:Xs.DEFAULT_USER.last_name,avatar_url:Xs.DEFAULT_USER.avatar_url}}if(l)try{const{data:g,error:v}=await Ce.from("users").select("id, first_name, last_name, avatar_url").eq("id",l).single();!v&&g?u=g:(console.warn("Utilisateur 2 non trouvé:",l,v),u={id:l,first_name:Xs.DEFAULT_USER.first_name,last_name:Xs.DEFAULT_USER.last_name,avatar_url:Xs.DEFAULT_USER.avatar_url})}catch(g){console.warn("Erreur lors de la récupération de l'utilisateur 2:",g),u={id:l,first_name:Xs.DEFAULT_USER.first_name,last_name:Xs.DEFAULT_USER.last_name,avatar_url:Xs.DEFAULT_USER.avatar_url}}const{data:f,error:p}=await Ce.from("messages").select(`
                id,
                content,
                created_at,
                is_read,
                sender_id,
                conversation_id
              `).eq("conversation_id",i.id).order("created_at",{ascending:!0});return p?(console.error("Erreur récupération messages:",p),{...i,messages:[],listing:s,participant1:c,participant2:u}):{...i,messages:f||[],listing:s,participant1:c,participant2:u}}catch(s){return console.error("Erreur lors de la récupération des détails de la conversation:",s),{...i,messages:[],listing:null,participant1:null,participant2:null}}}))}catch(e){throw console.error("Erreur dans getUserConversations:",e),e}},getConversationMessages:async e=>{try{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages pour la conversation:",e);const{data:r,error:n}=await Ce.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw console.error("Erreur récupération messages:",n),n;return await Promise.all((r||[]).map(async s=>{try{let o=null,l=null;if(s.sender_id){const{data:c,error:u}=await Ce.from("users").select("id, first_name, last_name, avatar_url").eq("id",s.sender_id).single();!u&&c&&(o=c)}if(s.receiver_id){const{data:c,error:u}=await Ce.from("users").select("id, first_name, last_name, avatar_url").eq("id",s.receiver_id).single();!u&&c&&(l=c)}return{...s,sender:o,receiver:l}}catch(o){return console.error("Erreur lors de la récupération des détails utilisateur:",o),s}}))}catch(t){throw console.error("Erreur dans getConversationMessages:",t),t}},sendMessage:async(e,t,r="text")=>{const{data:{user:n}}=await Ce.auth.getUser();if(!n)throw new Error("Utilisateur non connecté");console.log("📤 Envoi de message dans la conversation:",e);const{data:i,error:s}=await Ce.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(s)throw s;const o=i.participant1_id===n.id?i.participant2_id:i.participant1_id,l=new Date().toISOString(),{data:c,error:u}=await Ce.from("messages").insert([{sender_id:n.id,receiver_id:o,conversation_id:e,content:t,message_type:r,created_at:l}]).select().single();if(u)throw u;console.log("✅ Message envoyé avec succès, mise à jour de la conversation..."),console.log("🔍 message.service - Mise à jour de la conversation:",e),console.log("🔍 message.service - currentTime:",l);const{data:f,error:p}=await Ce.from("conversations").update({last_message_at:l,updated_at:l}).eq("id",e).select();return p?console.error("❌ Erreur mise à jour conversation:",p):(console.log("✅ Conversation mise à jour avec succès:",f),console.log("✅ last_message_at mis à jour:",l)),c},createConversation:async(e,t=null)=>{const{data:{user:r}}=await Ce.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await Ce.from("conversations").select("id").or(`and(participant1_id.eq.${r.id},participant2_id.eq.${e}),and(participant1_id.eq.${e},participant2_id.eq.${r.id})`).eq("listing_id",t).single();if(n)return n;const{data:s,error:o}=await Ce.from("conversations").insert([{participant1_id:r.id,participant2_id:e,listing_id:t,is_active:!0}]).select().single();if(o)throw o;return s},markMessagesAsRead:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Marquage des messages comme lus pour la conversation:",e);const{error:r}=await Ce.from("messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",t.id).eq("is_read",!1);if(r)throw console.error("Erreur lors du marquage des messages comme lus:",r),r;return console.log("✅ Messages marqués comme lus avec succès"),!0},archiveConversation:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Archivage de la conversation:",e);const{data:r,error:n}=await Ce.from("conversations").select("participant1_id, participant2_id, is_archived").eq("id",e).single();if(n)throw n;if(r.participant1_id!==t.id&&r.participant2_id!==t.id)throw new Error("Non autorisé");const i=!r.is_archived,{error:s}=await Ce.from("conversations").update({is_archived:i,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw console.error("Erreur lors de l'archivage de la conversation:",s),s;return console.log(`✅ Conversation ${i?"archivée":"désarchivée"} avec succès`),{is_archived:i}},toggleConversationStar:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Basculement du statut favori pour la conversation:",e);const{data:r,error:n}=await Ce.from("conversations").select("participant1_id, participant2_id, starred").eq("id",e).single();if(n)throw n;if(r.participant1_id!==t.id&&r.participant2_id!==t.id)throw new Error("Non autorisé");const i=!r.starred,{error:s}=await Ce.from("conversations").update({starred:i,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw console.error("Erreur lors du basculement du statut favori:",s),s;return console.log(`✅ Conversation ${i?"ajoutée aux":"retirée des"} favoris avec succès`),{starred:i}},deleteMessage:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression du message:",e);const{data:r,error:n}=await Ce.from("messages").select("sender_id, conversation_id").eq("id",e).single();if(n)throw n;if(r.sender_id!==t.id)throw new Error("Vous ne pouvez supprimer que vos propres messages");const{error:i}=await Ce.from("messages").delete().eq("id",e);if(i)throw console.error("Erreur lors de la suppression du message:",i),i;return console.log("✅ Message supprimé avec succès"),!0},deleteConversation:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await Ce.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(n)throw n;if(r.participant1_id!==t.id&&r.participant2_id!==t.id)throw new Error("Non autorisé");const{error:i}=await Ce.from("conversations").delete().eq("id",e);if(i)throw i;return!0},searchConversations:async e=>{try{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Recherche de conversations avec le terme:",e);const{data:r,error:n}=await Ce.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1});if(n)throw console.error("Erreur recherche conversations:",n),n;return(await Promise.all((r||[]).map(async s=>{try{let o=null,l=null,c=null;if(s.listing_id){const{data:u,error:f}=await Ce.from("listings").select("id, title").eq("id",s.listing_id).single();!f&&u&&(o=u)}if(s.participant1_id){const{data:u,error:f}=await Ce.from("users").select("id, first_name, last_name, avatar_url").eq("id",s.participant1_id).single();!f&&u&&(l=u)}if(s.participant2_id){const{data:u,error:f}=await Ce.from("users").select("id, first_name, last_name, avatar_url").eq("id",s.participant2_id).single();!f&&u&&(c=u)}return{...s,listing:o,participant1:l,participant2:c}}catch(o){return console.error("Erreur lors de l'enrichissement de la conversation:",o),s}}))).filter(s=>{if(!e)return!0;const o=e.toLowerCase();return!!(s.listing?.title?.toLowerCase().includes(o)||s.participant1?.first_name?.toLowerCase().includes(o)||s.participant1?.last_name?.toLowerCase().includes(o)||s.participant2?.first_name?.toLowerCase().includes(o)||s.participant2?.last_name?.toLowerCase().includes(o))})}catch(t){throw console.error("Erreur dans searchConversations:",t),t}},getUnreadMessages:async()=>{try{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages non lus pour l'utilisateur:",e.id);const{data:t,error:r}=await Ce.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("receiver_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1});if(r)throw console.error("Erreur récupération messages non lus:",r),r;return await Promise.all((t||[]).map(async i=>{try{let s=null,o=null;if(i.conversation_id){const{data:l,error:c}=await Ce.from("conversations").select("id, listing_id").eq("id",i.conversation_id).single();!c&&l&&(s=l)}if(i.sender_id){const{data:l,error:c}=await Ce.from("users").select("id, first_name, last_name, avatar_url").eq("id",i.sender_id).single();!c&&l&&(o=l)}return{...i,conversation:s,sender:o}}catch(s){return console.error("Erreur lors de l'enrichissement du message:",s),i}}))}catch(e){throw console.error("Erreur dans getUnreadMessages:",e),e}},getUnreadMessageCount:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{count:t,error:r}=await Ce.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("is_read",!1);if(r)throw r;return t||0},sendSystemMessage:async(e,t,r="system")=>{const{data:n,error:i}=await Ce.from("messages").insert([{sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:e,content:t,message_type:r,is_read:!1}]).select().single();if(i)throw i;return n}},pg={getAllCategories:async()=>{const{data:e,error:t}=await Ce.from("categories").select("*").order("name");if(t)throw t;return e},getCategoryById:async e=>{const{data:t,error:r}=await Ce.from("categories").select("*").eq("id",e).single();if(r)throw r;return t},getCategoryBySlug:async e=>{const{data:t,error:r}=await Ce.from("categories").select("*").eq("slug",e).single();if(r)throw r;return t},getCategoriesByType:async e=>{const{data:t,error:r}=await Ce.from("categories").select("*").eq("type",e).order("name");if(r)throw r;return t},createCategory:async e=>{const{data:t,error:r}=await Ce.from("categories").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},updateCategory:async(e,t)=>{const{data:r,error:n}=await Ce.from("categories").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},deleteCategory:async e=>{const{error:t}=await Ce.from("categories").delete().eq("id",e);if(t)throw t;return{success:!0}},toggleCategoryStatus:async(e,t)=>{const{data:r,error:n}=await Ce.from("categories").update({is_active:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}},Nl={getUserFavorites:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await Ce.from("favorites").select(`
        *,
        listings!favorites_listing_id_fkey (
          *,
          users!listings_user_id_fkey (
            id,
            first_name,
            last_name
          )
        )
      `).eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},addToFavorites:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await Ce.from("favorites").insert([{user_id:t.id,listing_id:e}]).select().single();if(n)throw n;return r},removeFromFavorites:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:r}=await Ce.from("favorites").delete().eq("user_id",t.id).eq("listing_id",e);if(r)throw r},isFavorite:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)return!1;const{data:r,error:n}=await Ce.from("favorites").select("id").eq("user_id",t.id).eq("listing_id",e).single();if(n&&n.code!=="PGRST116")throw n;return!!r},toggleFavorite:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");try{return await Nl.isFavorite(e)?(await Nl.removeFromFavorites(e),{is_favorite:!1,action:"removed"}):(await Nl.addToFavorites(e),{is_favorite:!0,action:"added"})}catch(r){throw console.error("Erreur lors du basculement des favoris:",r),new Error("Impossible de modifier les favoris")}},getUserFavoritesWithStatus:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");try{const{data:t,error:r}=await Ce.from("favorites").select("listing_id").eq("user_id",e.id);if(r)throw r;return new Set(t.map(i=>i.listing_id))}catch(t){return console.error("Erreur lors de la récupération des favoris:",t),new Set}}},Ede={uploadImage:async(e,t="listings")=>{try{const{data:{user:r}}=await Ce.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");if(!e.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(e.size>5*1024*1024)throw new Error("L'image ne doit pas dépasser 5MB");const n=`${Date.now()}-${Math.random().toString(36).substring(2)}-${e.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,i=`${t}/${r.id}/${n}`,{data:s,error:o}=await Ce.storage.from("images").upload(i,e,{cacheControl:"31536000",upsert:!1,contentType:"image/jpeg"});if(o)throw console.error("Erreur upload Supabase:",o),new Error(`Erreur lors de l'upload: ${o.message}`);const{data:{publicUrl:l}}=Ce.storage.from("images").getPublicUrl(i);return l}catch(r){throw console.error("Erreur dans uploadImage:",r),r}},deleteImage:async e=>{try{const{error:t}=await Ce.storage.from("images").remove([e]);if(t)throw t}catch(t){throw console.error("Erreur dans deleteImage:",t),t}},listUserImages:async(e,t="listings")=>{try{const{data:r,error:n}=await Ce.storage.from("images").list(`${t}/${e}`);if(n)throw n;return r}catch(r){throw console.error("Erreur dans listUserImages:",r),r}}},Pde={getAllReports:async(e={})=>{let t=Ce.from("reports").select(`
        *,
        reporter:users!reports_reporter_id_fkey (
          id,
          first_name,
          last_name,
          email
        ),
        listing:listings!reports_listing_id_fkey (
          id,
          title,
          description
        )
      `).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.type&&(t=t.eq("type",e.type)),e.severity&&(t=t.eq("severity",e.severity));const{data:r,error:n}=await t;if(n)throw n;return r},createReport:async e=>{const{data:{user:t}}=await Ce.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await Ce.from("reports").insert([{...e,reporter_id:t.id,status:"pending"}]).select().single();if(n)throw n;return r},moderateReport:async(e,t,r=null)=>{const n={status:t,moderated_at:new Date().toISOString(),moderator_reason:r},{data:i,error:s}=await Ce.from("reports").update(n).eq("id",e).select().single();if(s)throw s;return i}},jS={getBoostPackages:async()=>{if(!fn)return console.warn("⚠️ Supabase non configuré, retour de packages de test"),[{id:"test-basic",name:"Boost Basique",description:"Visibilité améliorée pendant 7 jours",duration_days:7,price:5e3,features:{priority:"medium",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:1},{id:"test-premium",name:"Boost Premium",description:"Mise en avant complète pendant 14 jours",duration_days:14,price:12e3,features:{priority:"high",badge:"boosted",featured:!0,analytics:"detailed"},is_active:!0,sort_order:2},{id:"test-vip",name:"Boost VIP",description:"Visibilité maximale pendant 30 jours",duration_days:30,price:25e3,features:{priority:"highest",badge:"boosted",featured:!0,analytics:"premium",support:"priority"},is_active:!0,sort_order:3},{id:"test-flash",name:"Boost Flash",description:"Visibilité intensive pendant 3 jours",duration_days:3,price:3e3,features:{priority:"high",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:4}];try{const{data:e,error:t}=await Ce.from("boost_packages").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(t)throw t;return e||[]}catch(e){throw console.error("Erreur lors de la récupération des packages de boost:",e),e}},purchaseBoost:async(e,t,r)=>{if(!fn)return console.warn("⚠️ Supabase non configuré, simulation d'achat de boost"),{success:!0,boostId:"test-boost-"+Date.now(),message:"Boost acheté avec succès (mode test)"};try{const{data:n,error:i}=await Ce.from("boost_packages").select("*").eq("id",t).eq("is_active",!0).single();if(i||!n)throw new Error("Package de boost non trouvé ou inactif");const{data:s,error:o}=await Ce.from("listings").select("id, user_id, status").eq("id",e).eq("user_id",r).eq("status","approved").single();if(o||!s)throw new Error("Annonce non trouvée ou non autorisée");const l=new Date,c=new Date;c.setDate(c.getDate()+n.duration_days);const{data:u,error:f}=await Ce.from("listing_boosts").insert({listing_id:e,package_id:t,user_id:r,start_date:l.toISOString(),end_date:c.toISOString(),status:"pending",metadata:{views_before:0,contacts_before:0}}).select().single();if(f)throw f;return await Ce.from("boost_history").insert({listing_id:e,boost_id:u.id,user_id:r,action:"purchased",details:{package_name:n.name,price:n.price,duration_days:n.duration_days}}),{success:!0,boostId:u.id,boostData:u,packageData:n,message:"Boost acheté avec succès"}}catch(n){throw console.error("Erreur lors de l'achat du boost:",n),n}},getBoostStatus:async e=>{if(!fn)return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]};try{const{data:t,error:r}=await Ce.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            description,
            features
          )
        `).eq("listing_id",e).order("created_at",{ascending:!1});if(r)throw r;const n=t?.find(s=>s.status==="active");return{hasActiveBoost:!!n,currentBoost:n,boostHistory:t||[]}}catch(t){throw console.error("Erreur lors de la vérification du statut de boost:",t),t}},cancelBoost:async(e,t)=>{if(!fn)return{success:!0,message:"Boost annulé avec succès (mode test)"};try{const{data:r,error:n}=await Ce.from("listing_boosts").select("*").eq("id",e).eq("user_id",t).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const{error:i}=await Ce.from("listing_boosts").update({status:"cancelled"}).eq("id",e);if(i)throw i;return await Ce.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:t,action:"cancelled",details:{reason:"user_cancelled",cancelled_at:new Date().toISOString()}}),{success:!0,message:"Boost annulé avec succès"}}catch(r){throw console.error("Erreur lors de l'annulation du boost:",r),r}},getBoostHistory:async e=>{if(!fn)return[];try{const{data:t,error:r}=await Ce.from("boost_history").select(`
          *,
          listing_boosts (
            boost_packages (
              name,
              price
            )
          ),
          listings (
            title,
            category
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Erreur lors de la récupération de l'historique des boosts:",t),t}},activateBoost:async(e,t)=>{if(!fn)return{success:!0,message:"Boost activé avec succès (mode test)"};try{const{data:r,error:n}=await Ce.from("listing_boosts").select(`
          *,
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",e).single();if(n||!r)throw new Error("Boost non trouvé");const{error:i}=await Ce.from("listing_boosts").update({status:"active",payment_id:t,metadata:{views_before:r.listings.views_count||0,contacts_before:r.listings.favorites_count||0,activated_at:new Date().toISOString()}}).eq("id",e);if(i)throw i;return await Ce.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:r.user_id,action:"activated",details:{payment_id:t,activated_at:new Date().toISOString()}}),{success:!0,message:"Boost activé avec succès"}}catch(r){throw console.error("Erreur lors de l'activation du boost:",r),r}},renewBoost:async(e,t)=>{if(!fn)return{success:!0,message:"Boost renouvelé avec succès (mode test)"};try{const{data:r,error:n}=await Ce.from("listing_boosts").select(`
          *,
          boost_packages (
            duration_days,
            price
          )
        `).eq("id",e).eq("user_id",t).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const i=new Date;i.setDate(i.getDate()+r.boost_packages.duration_days);const{error:s}=await Ce.from("listing_boosts").update({end_date:i.toISOString(),updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s;return await Ce.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:t,action:"renewed",details:{new_end_date:i.toISOString(),renewed_at:new Date().toISOString()}}),{success:!0,message:"Boost renouvelé avec succès"}}catch(r){throw console.error("Erreur lors du renouvellement du boost:",r),r}},getBoostStats:async e=>{if(!fn)return{total_boosts:0,active_boosts:0,total_days:0,total_investment:0,current_boost:null};try{const{data:t,error:r}=await Ce.rpc("get_boost_stats",{listing_id_param:e});if(r)throw r;return t||{}}catch(t){throw console.error("Erreur lors de la récupération des statistiques de boost:",t),t}}},un={getSystemSettings:async()=>{try{if(!fn)return{general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}};const{data:e,error:t}=await Ce.from("system_settings").select("*").single();return t?(console.warn("Table system_settings non trouvée, utilisation des paramètres par défaut"),un.getDefaultSettings()):e.settings||un.getDefaultSettings()}catch(e){return console.error("Erreur lors de la récupération des paramètres:",e),un.getDefaultSettings()}},updateSystemSettings:async e=>{try{if(!fn)return console.log("Paramètres mis à jour (mode développement):",e),{success:!0,message:"Paramètres mis à jour en mode développement"};const{data:t,error:r}=await Ce.from("system_settings").upsert([{id:"main",settings:e,updated_at:new Date().toISOString()}],{onConflict:"id"}).select().single();if(r)throw r;return{success:!0,data:t,message:"Paramètres mis à jour avec succès"}}catch(t){throw console.error("Erreur lors de la mise à jour des paramètres:",t),new Error("Impossible de sauvegarder les paramètres")}},getSetting:async(e,t)=>{try{return(await un.getSystemSettings())[e]?.[t]}catch(r){return console.error("Erreur lors de la récupération du paramètre:",r),null}},updateSetting:async(e,t,r)=>{try{const n=await un.getSystemSettings();return n[e]||(n[e]={}),n[e][t]=r,await un.updateSystemSettings(n)}catch(n){throw console.error("Erreur lors de la mise à jour du paramètre:",n),n}},getSettingsBySection:async e=>{try{return(await un.getSystemSettings())[e]||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de la section:",t),{}}},getSiteSettings:async()=>{try{return(await un.getSystemSettings()).general||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres du site:",e),{}}},getAppearanceSettings:async()=>{try{return(await un.getSystemSettings()).appearance||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres d'apparence:",e),{}}},getNotificationSettings:async()=>{try{return(await un.getSystemSettings()).notifications||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de notifications:",e),{}}},getSecuritySettings:async()=>{try{return(await un.getSystemSettings()).security||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de sécurité:",e),{}}},getSystemSettingsSection:async()=>{try{return(await un.getSystemSettings()).system||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres système:",e),{}}},resetToDefaults:async()=>{try{const e=un.getDefaultSettings();return await un.updateSystemSettings(e)}catch(e){throw console.error("Erreur lors de la réinitialisation des paramètres:",e),e}},exportSettings:async()=>{try{const e=await un.getSystemSettings(),t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");return i.href=n,i.download=`maximarket-settings-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n),{success:!0,message:"Paramètres exportés avec succès"}}catch(e){throw console.error("Erreur lors de l'export des paramètres:",e),new Error("Impossible d'exporter les paramètres")}},importSettings:async e=>{try{return new Promise((t,r)=>{const n=new FileReader;n.onload=async i=>{try{const s=JSON.parse(i.target.result);if(!un.validateSettings(s)){r(new Error("Format de paramètres invalide"));return}const o=await un.updateSystemSettings(s);t(o)}catch{r(new Error("Fichier JSON invalide"))}},n.onerror=()=>r(new Error("Erreur de lecture du fichier")),n.readAsText(e)})}catch(t){throw console.error("Erreur lors de l'import des paramètres:",t),t}},validateSettings:e=>{const t=["general","appearance","notifications","security","system"];for(const n of t)if(!e[n]||typeof e[n]!="object")return!1;const r=e.general;return!(!r.siteName||!r.contactEmail||!r.timezone||!r.currency)},getDefaultSettings:()=>({general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}})};function p9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=p9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ht(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=p9(e))&&(n&&(n+=" "),n+=t);return n}const qO="-",Tde=e=>{const t=kde(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(qO);return l[0]===""&&l.length!==1&&l.shift(),m9(l,t)||Ade(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},m9=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?m9(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(qO);return t.validators.find(({validator:o})=>o(s))?.classGroupId},g$=/^\[(.+)\]$/,Ade=e=>{if(g$.test(e)){const t=g$.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},kde=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Rde(Object.entries(e.classGroups),r).forEach(([s,o])=>{gT(o,n,s,t)}),n},gT=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:v$(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(Ode(i)){gT(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{gT(o,v$(t,s),r,n)})})},v$=(e,t)=>{let r=e;return t.split(qO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ode=e=>e.isThemeGetter,Rde=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,Mde=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},g9="!",Ide=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,f=0,p;for(let _=0;_<l.length;_++){let S=l[_];if(u===0){if(S===i&&(n||l.slice(_,_+s)===t)){c.push(l.slice(f,_)),f=_+s;continue}if(S==="/"){p=_;continue}}S==="["?u++:S==="]"&&u--}const g=c.length===0?l:l.substring(f),v=g.startsWith(g9),w=v?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},Lde=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Dde=e=>({cache:Mde(e.cacheSize),parseClassName:Ide(e),...Tde(e)}),$de=/\s+/,Fde=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split($de);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=r(u);let w=!!v,y=n(w?g.substring(0,v):g);if(!y){if(!w){l=u+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=u+(l.length>0?" "+l:l);continue}w=!1}const _=Lde(f).join(":"),S=p?_+g9:_,N=S+y;if(s.includes(N))continue;s.push(N);const C=i(y,w);for(let A=0;A<C.length;++A){const P=C[A];s.push(S+P)}l=u+(l.length>0?" "+l:l)}return l};function Bde(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=v9(t))&&(n&&(n+=" "),n+=r);return n}const v9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=v9(e[n]))&&(r&&(r+=" "),r+=t);return r};function zde(e,...t){let r,n,i,s=o;function o(c){const u=t.reduce((f,p)=>p(f),e());return r=Dde(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=Fde(c,r);return i(c,f),f}return function(){return s(Bde.apply(null,arguments))}}const Fr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},y9=/^\[(?:([a-z-]+):)?(.+)\]$/i,qde=/^\d+\/\d+$/,Ude=new Set(["px","full","screen"]),Vde=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wde=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hde=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kde=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gde=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dl=e=>Sh(e)||Ude.has(e)||qde.test(e),Ac=e=>Np(e,"length",rfe),Sh=e=>!!e&&!Number.isNaN(Number(e)),SS=e=>Np(e,"number",Sh),Wm=e=>!!e&&Number.isInteger(Number(e)),Zde=e=>e.endsWith("%")&&Sh(e.slice(0,-1)),$t=e=>y9.test(e),kc=e=>Vde.test(e),Yde=new Set(["length","size","percentage"]),Xde=e=>Np(e,Yde,x9),Qde=e=>Np(e,"position",x9),Jde=new Set(["image","url"]),efe=e=>Np(e,Jde,ife),tfe=e=>Np(e,"",nfe),Hm=()=>!0,Np=(e,t,r)=>{const n=y9.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},rfe=e=>Wde.test(e)&&!Hde.test(e),x9=()=>!1,nfe=e=>Kde.test(e),ife=e=>Gde.test(e),sfe=()=>{const e=Fr("colors"),t=Fr("spacing"),r=Fr("blur"),n=Fr("brightness"),i=Fr("borderColor"),s=Fr("borderRadius"),o=Fr("borderSpacing"),l=Fr("borderWidth"),c=Fr("contrast"),u=Fr("grayscale"),f=Fr("hueRotate"),p=Fr("invert"),g=Fr("gap"),v=Fr("gradientColorStops"),w=Fr("gradientColorStopPositions"),y=Fr("inset"),_=Fr("margin"),S=Fr("opacity"),N=Fr("padding"),C=Fr("saturate"),A=Fr("scale"),P=Fr("sepia"),k=Fr("skew"),O=Fr("space"),I=Fr("translate"),z=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",$t,t],V=()=>[$t,t],q=()=>["",dl,Ac],U=()=>["auto",Sh,$t],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",$t],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Sh,$t];return{cacheSize:500,separator:":",theme:{colors:[Hm],spacing:[dl,Ac],blur:["none","",kc,$t],brightness:G(),borderColor:[e],borderRadius:["none","","full",kc,$t],borderSpacing:V(),borderWidth:q(),contrast:G(),grayscale:Q(),hueRotate:G(),invert:Q(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[Zde,Ac],inset:Z(),margin:Z(),opacity:G(),padding:V(),saturate:G(),scale:G(),sepia:Q(),skew:G(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",$t]}],container:["container"],columns:[{columns:[kc]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),$t]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wm,$t]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$t]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Wm,$t]}],"grid-cols":[{"grid-cols":[Hm]}],"col-start-end":[{col:["auto",{span:["full",Wm,$t]},$t]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Hm]}],"row-start-end":[{row:["auto",{span:[Wm,$t]},$t]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$t]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$t,t]}],"min-w":[{"min-w":[$t,t,"min","max","fit"]}],"max-w":[{"max-w":[$t,t,"none","full","min","max","fit","prose",{screen:[kc]},kc]}],h:[{h:[$t,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$t,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kc,Ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",SS]}],"font-family":[{font:[Hm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$t]}],"line-clamp":[{"line-clamp":["none",Sh,SS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dl,$t]}],"list-image":[{"list-image":["none",$t]}],"list-style-type":[{list:["none","disc","decimal",$t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dl,Ac]}],"underline-offset":[{"underline-offset":["auto",dl,$t]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),Qde]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xde]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},efe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[dl,$t]}],"outline-w":[{outline:[dl,Ac]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[dl,Ac]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kc,tfe]}],"shadow-color":[{shadow:[Hm]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kc,$t]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$t]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",$t]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",$t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Wm,$t]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$t]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dl,Ac,SS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},afe=zde(sfe);function Ge(...e){return afe(Ht(e))}function ofe(){return Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}function y$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Is(...e){return t=>{let r=!1;const n=e.map(i=>{const s=y$(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():y$(e[i],null)}}}}function at(...e){return x.useCallback(Is(...e),e)}function Fh(e){const t=lfe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(ufe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var b9=Fh("Slot");function lfe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r,o=x.isValidElement(i)?ffe(i):void 0,l=at(o,n);if(x.isValidElement(i)){const c=dfe(s,i.props);return i.type!==x.Fragment&&(c.ref=l),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var w9=Symbol("radix.slottable");function cfe(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=w9,t}function ufe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===w9}function dfe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function ffe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const x$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,b$=Ht,p_=(e,t)=>r=>{var n;if(t?.variants==null)return b$(e,r?.class,r?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const f=r?.[u],p=s?.[u];if(f===null)return null;const g=x$(f)||x$(p);return i[u][g]}),l=r&&Object.entries(r).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(w=>{let[y,_]=w;return Array.isArray(_)?_.includes({...s,...l}[y]):{...s,...l}[y]===_})?[...u,p,g]:u},[]);return b$(e,o,c,r?.class,r?.className)},UO=p_("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=K.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const o=n?b9:"button";return a.jsx(o,{className:Ge(UO({variant:t,size:r,className:e})),ref:s,...i})});ue.displayName="Button";const Wt=K.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Wt.displayName="Card";const gr=K.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ge("flex flex-col space-y-1.5 p-6",e),...t}));gr.displayName="CardHeader";const vr=K.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));vr.displayName="CardTitle";const Hn=K.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Ge("text-sm text-muted-foreground",e),...t}));Hn.displayName="CardDescription";const Zt=K.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ge("p-6 pt-0",e),...t}));Zt.displayName="CardContent";const Xg=K.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ge("flex items-center p-6 pt-0",e),...t}));Xg.displayName="CardFooter";const hfe=p_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xt({className:e,variant:t,...r}){return a.jsx("div",{className:Ge(hfe({variant:t}),e),...r})}function pfe(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function Ar(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=p=>{const{scope:g,children:v,...w}=p,y=g?.[e]?.[c]||l,_=x.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:_,children:v})};u.displayName=s+"Provider";function f(p,g){const v=g?.[e]?.[c]||l,w=x.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=l?.[e]||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,mfe(i,...t)]}function mfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(s)[`__scope${u}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function gfe(e){const t=vfe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(xfe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function vfe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=wfe(i),l=bfe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yfe=Symbol("radix.slottable");function xfe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yfe}function bfe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function wfe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _fe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_9=_fe.reduce((e,t)=>{const r=gfe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),VO="Progress",WO=100,[jfe,$ze]=Ar(VO),[Sfe,Nfe]=jfe(VO),j9=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Cfe,...o}=e;(i||i===0)&&!w$(i)&&console.error(Efe(`${i}`,"Progress"));const l=w$(i)?i:WO;n!==null&&!_$(n,l)&&console.error(Pfe(`${n}`,"Progress"));const c=_$(n,l)?n:null,u=Eb(c)?s(c,l):void 0;return a.jsx(Sfe,{scope:r,value:c,max:l,children:a.jsx(_9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Eb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":C9(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});j9.displayName=VO;var S9="ProgressIndicator",N9=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Nfe(S9,r);return a.jsx(_9.div,{"data-state":C9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});N9.displayName=S9;function Cfe(e,t){return`${Math.round(e/t*100)}%`}function C9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Eb(e){return typeof e=="number"}function w$(e){return Eb(e)&&!isNaN(e)&&e>0}function _$(e,t){return Eb(e)&&!isNaN(e)&&e<=t&&e>=0}function Efe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${WO}\`.`}function Pfe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${WO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var E9=j9,Tfe=N9;const P9=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(E9,{ref:n,className:Ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Tfe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));P9.displayName=E9.displayName;const Afe=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(!1);x.useEffect(()=>{o();const l=setInterval(o,5e3);return()=>clearInterval(l)},[]);const o=()=>{t(zO.getStats()),n(BO.getStatus())};return null};class kfe{constructor(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},this.observers=[],this.isMonitoring=!1}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.monitorMemoryUsage(),this.monitorNetworkRequests(),this.monitorCachePerformance(),console.log("📊 Monitoring de performance démarré"))}stopMonitoring(){this.isMonitoring=!1,console.log("📊 Monitoring de performance arrêté")}recordCacheHit(t,r){this.metrics.cacheHits++,this.notifyObservers("cacheHit",{type:t,key:r,timestamp:Date.now()})}recordCacheMiss(t,r){this.metrics.cacheMisses++,this.notifyObservers("cacheMiss",{type:t,key:r,timestamp:Date.now()})}recordApiCall(t,r){this.metrics.apiCalls++,this.metrics.loadTimes.push(r),this.metrics.loadTimes.length>100&&this.metrics.loadTimes.shift(),this.notifyObservers("apiCall",{endpoint:t,duration:r,timestamp:Date.now()})}recordError(t,r){this.metrics.errors++,this.notifyObservers("error",{type:t,error:r,timestamp:Date.now()})}getCacheHitRatio(){const t=this.metrics.cacheHits+this.metrics.cacheMisses;return t>0?this.metrics.cacheHits/t*100:0}getAverageLoadTime(){return this.metrics.loadTimes.length===0?0:this.metrics.loadTimes.reduce((r,n)=>r+n,0)/this.metrics.loadTimes.length}getStats(){const t=Date.now()-this.metrics.startTime;return{uptime:Math.floor(t/1e3),cacheHits:this.metrics.cacheHits,cacheMisses:this.metrics.cacheMisses,cacheHitRatio:this.getCacheHitRatio(),apiCalls:this.metrics.apiCalls,errors:this.metrics.errors,averageLoadTime:this.getAverageLoadTime(),memoryUsage:this.metrics.memoryUsage[this.metrics.memoryUsage.length-1]||0,isMonitoring:this.isMonitoring}}monitorMemoryUsage(){if(this.isMonitoring){if("memory"in performance){const t=performance.memory;this.metrics.memoryUsage.push({used:t.usedJSHeapSize,total:t.totalJSHeapSize,limit:t.jsHeapSizeLimit,timestamp:Date.now()}),this.metrics.memoryUsage.length>50&&this.metrics.memoryUsage.shift()}setTimeout(()=>this.monitorMemoryUsage(),5e3)}}monitorNetworkRequests(){if(!this.isMonitoring)return;const t=window.fetch;window.fetch=async(...r)=>{const n=performance.now();try{const i=await t(...r),s=performance.now()-n;return this.recordApiCall(r[0],s),i}catch(i){throw this.recordError("network",i),i}}}monitorCachePerformance(){if(!this.isMonitoring)return;const t=Storage.prototype.getItem,r=Storage.prototype.setItem;Storage.prototype.getItem=function(n){const i=t.call(this,n);return i&&n.startsWith("benome:")&&Nh.recordCacheHit("localStorage",n),i},Storage.prototype.setItem=function(n,i){return n.startsWith("benome:")&&Nh.recordCacheMiss("localStorage",n),r.call(this,n,i)}}addObserver(t){this.observers.push(t)}removeObserver(t){this.observers=this.observers.filter(r=>r!==t)}notifyObservers(t,r){this.observers.forEach(n=>{try{n(t,r)}catch(i){console.error("Erreur dans l'observateur de métriques:",i)}})}exportMetrics(){return{...this.metrics,cacheHitRatio:this.getCacheHitRatio(),averageLoadTime:this.getAverageLoadTime(),exportTime:new Date().toISOString()}}reset(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},console.log("📊 Métriques réinitialisées")}}const Nh=new kfe;Nh.startMonitoring();function Ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function vT(e){const t=Ofe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Mfe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Ofe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=Lfe(i),l=Ife(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rfe=Symbol("radix.slottable");function Mfe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rfe}function Ife(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Lfe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Dfe(e){const t=e+"CollectionProvider",[r,n]=Ar(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=K.useRef(null),C=K.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=vT(l),u=K.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=vT(f),v=K.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=K.useRef(null),P=at(_,A),k=s(f,S);return K.useEffect(()=>(k.itemMap.set(A,{ref:A,...C}),()=>void k.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:P,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return K.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((k,O)=>C.indexOf(k.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}var sr=globalThis?.document?x.useLayoutEffect:()=>{},$fe=iu[" useId ".trim().toString()]||(()=>{}),Ffe=0;function Ji(e){const[t,r]=x.useState($fe());return sr(()=>{r(n=>n??String(Ffe++))},[e]),t?`radix-${t}`:""}var Bfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cp=Bfe.reduce((e,t)=>{const r=vT(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ur(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}var zfe=iu[" useInsertionEffect ".trim().toString()]||sr;function ts({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=qfe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=x.useCallback(f=>{if(l){const p=Ufe(f)?f(e):f;p!==e&&o.current?.(p)}else s(f)},[l,e,s,o]);return[c,u]}function qfe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return zfe(()=>{s.current=t},[t]),x.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function Ufe(e){return typeof e=="function"}var Vfe=x.createContext(void 0);function Ep(e){const t=x.useContext(Vfe);return e||t||"ltr"}var NS="rovingFocusGroup.onEntryFocus",Wfe={bubbles:!1,cancelable:!0},iy="RovingFocusGroup",[yT,T9,Hfe]=Dfe(iy),[Kfe,A9]=Ar(iy,[Hfe]),[Gfe,Zfe]=Kfe(iy),k9=x.forwardRef((e,t)=>a.jsx(yT.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(yT.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Yfe,{...e,ref:t})})}));k9.displayName=iy;var Yfe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=x.useRef(null),v=at(t,g),w=Ep(s),[y,_]=ts({prop:o,defaultProp:l??null,onChange:c,caller:iy}),[S,N]=x.useState(!1),C=ur(u),A=T9(r),P=x.useRef(!1),[k,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(NS,C),()=>I.removeEventListener(NS,C)},[C]),a.jsx(Gfe,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:a.jsx(Cp.div,{tabIndex:S||k===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{P.current=!0}),onFocus:Ue(e.onFocus,I=>{const z=!P.current;if(I.target===I.currentTarget&&z&&!S){const Y=new CustomEvent(NS,Wfe);if(I.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const Z=A().filter(ae=>ae.focusable),V=Z.find(ae=>ae.active),q=Z.find(ae=>ae.id===y),re=[V,q,...Z].filter(Boolean).map(ae=>ae.ref.current);M9(re,f)}}P.current=!1}),onBlur:Ue(e.onBlur,()=>N(!1))})})}),O9="RovingFocusGroupItem",R9=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=Ji(),u=s||c,f=Zfe(O9,r),p=f.currentTabStopId===u,g=T9(r),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:y}=f;return x.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),a.jsx(yT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(Cp.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ue(e.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:Ue(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ue(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=Jfe(_,f.orientation,f.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=f.loop?ehe(C,A+1):C.slice(A+1)}setTimeout(()=>M9(C))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});R9.displayName=O9;var Xfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jfe(e,t,r){const n=Qfe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Xfe[n]}function M9(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ehe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var the=k9,rhe=R9;function nhe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var rs=e=>{const{present:t,children:r}=e,n=ihe(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=at(n.ref,she(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};rs.displayName="Presence";function ihe(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=nhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=d0(n.current);s.current=l==="mounted"?u:"none"},[l]),sr(()=>{const u=n.current,f=i.current;if(f!==e){const g=s.current,v=d0(u);e?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),sr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=v=>{const y=d0(n.current).includes(v.animationName);if(v.target===t&&y&&(c("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=v=>{v.target===t&&(s.current=d0(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function d0(e){return e?.animationName||"none"}function she(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var m_="Tabs",[ahe,Fze]=Ar(m_,[A9]),I9=A9(),[ohe,HO]=ahe(m_),L9=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Ep(l),[p,g]=ts({prop:n,onChange:i,defaultProp:s??"",caller:m_});return a.jsx(ohe,{scope:r,baseId:Ji(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:a.jsx(Cp.div,{dir:f,"data-orientation":o,...u,ref:t})})});L9.displayName=m_;var D9="TabsList",$9=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=HO(D9,r),o=I9(r);return a.jsx(the,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Cp.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});$9.displayName=D9;var F9="TabsTrigger",B9=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,o=HO(F9,r),l=I9(r),c=U9(o.baseId,n),u=V9(o.baseId,n),f=n===o.value;return a.jsx(rhe,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(Cp.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:Ue(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ue(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ue(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(n)})})})});B9.displayName=F9;var z9="TabsContent",q9=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=e,l=HO(z9,r),c=U9(l.baseId,n),u=V9(l.baseId,n),f=n===l.value,p=x.useRef(f);return x.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(rs,{present:i||f,children:({present:g})=>a.jsx(Cp.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});q9.displayName=z9;function U9(e,t){return`${e}-trigger-${t}`}function V9(e,t){return`${e}-content-${t}`}var lhe=L9,W9=$9,H9=B9,K9=q9;const KO=lhe,g_=K.forwardRef(({className:e,...t},r)=>a.jsx(W9,{ref:r,className:Ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));g_.displayName=W9.displayName;const Oi=K.forwardRef(({className:e,...t},r)=>a.jsx(H9,{ref:r,className:Ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oi.displayName=H9.displayName;const Ri=K.forwardRef(({className:e,...t},r)=>a.jsx(K9,{ref:r,className:Ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ri.displayName=K9.displayName;const che=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState("overview"),[i,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[f,p]=x.useState([]);return x.useEffect(()=>{if(!e)return;const g=()=>{s(Nh.getStats()),l(zO.getStats()),u(BO.getStatus())};g();const v=setInterval(g,2e3),w=(y,_)=>{p(S=>[...S,{event:y,data:_,timestamp:Date.now()}].slice(-50))};return Nh.addObserver(w),()=>{clearInterval(v),Nh.removeObserver(w)}},[e]),null},uhe=p_("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),G9=x.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Ge(uhe({variant:t}),e),...r}));G9.displayName="Alert";const Z9=x.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:Ge("mb-1 font-medium leading-none tracking-tight",e),...t}));Z9.displayName="AlertTitle";const Y9=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ge("text-sm [&_p]:leading-relaxed",e),...t}));Y9.displayName="AlertDescription";let dhe=class extends K.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("QueryErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender({error:this.state.error,resetErrorBoundary:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()}}):a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"Erreur inconnue"}),a.jsxs(ue,{onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()},variant:"outline",children:[a.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}):this.props.children}};const fhe=({children:e})=>{const{reset:t}=oV();return a.jsx(dhe,{onReset:t,fallbackRender:({error:r,resetErrorBoundary:n})=>a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs(G9,{className:"max-w-md",children:[a.jsx(Sp,{className:"h-4 w-4"}),a.jsx(Z9,{children:"Erreur de chargement"}),a.jsxs(Y9,{className:"mt-2",children:["Une erreur est survenue lors du chargement des données.",a.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:r.message})]}),a.jsxs(ue,{onClick:n,className:"mt-4",variant:"outline",children:[a.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}),children:e})},hhe=({children:e})=>fn?e:a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",color:"#fff",fontFamily:"Arial, sans-serif",padding:"20px",textAlign:"center"},children:a.jsxs("div",{children:[a.jsx("h1",{style:{color:"#e74c3c",marginBottom:"20px"},children:"⚠️ Configuration Supabase requise"}),a.jsx("p",{style:{marginBottom:"15px"},children:"L'application nécessite la configuration des variables Supabase."}),a.jsxs("div",{style:{backgroundColor:"#2c3e50",padding:"15px",borderRadius:"5px",textAlign:"left",marginBottom:"20px"},children:[a.jsx("strong",{children:"Variables requises dans Vercel :"}),a.jsxs("div",{style:{marginTop:"10px",fontFamily:"monospace"},children:["VITE_SUPABASE_URL",a.jsx("br",{}),"VITE_SUPABASE_ANON_KEY"]})]}),a.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},children:"🔄 Recharger"})]})});async function phe(e,t={},r="mistral-small-latest",n,i){const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,context:t,model:r,stream:!0}),signal:i});if(!s.ok||!s.body){const f=await s.json().catch(()=>({}));throw new Error(f?.error||"Chat API error")}const o=s.body.getReader(),l=new TextDecoder;let c="",u="";for(;;){const{value:f,done:p}=await o.read();if(p)break;c+=l.decode(f,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)if(v.startsWith("data: ")){const w=v.slice(6);if(w==="[DONE]")continue;try{const _=JSON.parse(w)?.choices?.[0]?.delta?.content||"";_&&(u+=_,n?.(u))}catch{}}}}const tt=K.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-foreground",e),ref:n,...r}));tt.displayName="Input";const mhe=["Dakar","Thiès","Saint-Louis","Kaolack","Ziguinchor","Touba","Mbour","Rufisque","Pikine","Guédiawaye","Cotonou","Porto-Novo","Abomey-Calavi","Parakou","Djougou","Bohicon","Kandi","Lokossa","Ouidah","Natitingou","Lomé","Sokodé","Kara","Kpalimé","Atakpamé","Bassar","Tsévié","Aného","Dapaong","Mango","Abidjan","Bouaké","Daloa","Yamoussoukro","San-Pédro","Korhogo","Man","Abengourou","Gagnoa","Anyama","Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"],j$=["toyota","peugeot","renault","citroën","citroen","ford","volkswagen","vw","bmw","mercedes","audi","honda","nissan","hyundai","kia","dacia","opel","fiat","chevrolet","mazda","suzuki"];function xT(e){if(!e||typeof e!="string")return{section:"marketplace",params:{sort:"popular"}};const t=e.trim(),r=t.toLowerCase(),n=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=n.replace(/[\s-]/g,""),s=y=>{const _=y.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),S=_.replace(/[\s-]/g,"");return n.includes(_)||i.includes(S)},o=mhe.find(y=>s(y));let l,c;const u=r.match(/(\d+[\.,]?\d*)\s*(k|m)?/gi)||[],f=y=>{const _=y.match(/(\d+[\.,]?\d*)\s*(k|m)?/i);if(!_)return null;const S=parseFloat(_[1].replace(",",".")),N=_[2]?_[2].toLowerCase()==="m"?1e6:1e3:1;return Math.round(S*N)};if(u.length>=2&&/entre|et|-/i.test(r)){const y=f(u[0]),_=f(u[1]);y&&_&&(l=Math.min(y,_),c=Math.max(y,_))}else/max|<=|<\s*/i.test(r)&&u[0]?c=f(u[0]):/min|>=|>\s*/i.test(r)&&u[0]?l=f(u[0]):u.length===1&&(c=f(u[0]));let p="marketplace";/\b(appartement|maison|terrain|studio|immobilier|villa|pi[eè]ces|m²|m2)\b/i.test(r)?p="immobilier":/\b(voiture|auto|car|moto|scooter|camion|camionnette|vehicule|véhicule)\b/i.test(r)||j$.some(y=>r.includes(y))?p="automobile":/\b(plombier|electricien|électricien|menage|ménage|jardinage|coiffure|réparation|reparation|d[eé]m[eé]nagement|cours|prof|service|informatique|evenementiel|événementiel)\b/i.test(r)&&(p="services");let g;const v=j$.find(y=>r.includes(y));v&&(g=v);const w={search:t,sort:"popular"};return o&&(w.location=o),l&&(w.minPrice=String(l)),c&&(w.maxPrice=String(c)),g&&p==="automobile"&&(w.brand=g),{section:p,params:w}}const ghe=({pageContext:e={}})=>{const{user:t}=Zr(),[r,n]=x.useState(!1),[i,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState([]),[f,p]=x.useState([]),[g,v]=x.useState(null),[w,y]=x.useState(!1),[_,S]=x.useState(!1),[N,C]=x.useState(!1),A=x.useRef(null),P=x.useRef(null),k=x.useMemo(()=>({path:window.location.pathname,...typeof window<"u"&&window.__MAXIMARKET_CONTEXT?window.__MAXIMARKET_CONTEXT:{},...e}),[e]);x.useEffect(()=>{const q=localStorage.getItem("chatbot_conversations");if(q)try{const U=JSON.parse(q);Array.isArray(U)&&p(U)}catch(U){console.error("Erreur parsing conversations:",U)}},[]),x.useEffect(()=>{f.length>0&&localStorage.setItem("chatbot_conversations",JSON.stringify(f))},[f]),x.useEffect(()=>{const q=()=>S(window.matchMedia("(max-width: 640px)").matches);return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const O=async()=>{const q=i.trim();if(!q||o)return;if(c.length===0){const re=Date.now().toString();v(re),p(ae=>[...ae,{id:re,title:q.length>30?q.substring(0,30)+"...":q,date:new Date().toLocaleDateString(),messages:[]}])}const U=[...c,{role:"user",content:q}];u(U),s(""),l(!0);try{const re=/^(yo|salut|bonjour|hello|hi|hey|ciao|hola|bonsoir|bonne\s+nuit)$/i.test(q.trim()),ae=/\b(appartement|maison|voiture|service|immobilier|auto|plombier|electricien|terrain|studio|villa|moto|scooter|camion|menage|jardinage|coiffure|reparation|demenagement|cours|prof|informatique|evenementiel)\b/i.test(q.toLowerCase()),se=/\d+\s*(k|m|xof|frs?)|(dakar|abidjan|lome|cotonou|thiès|saint-louis|kaolack|ziguinchor|touba|mbour|rufisque|pikine|guediawaye)/i.test(q.toLowerCase());let X=null,Q="",te=[];if(y(!1),!re&&(ae||se)&&(X=xT(q)),X){const{section:Ne,params:Le}=X,oe={...Le,category:{immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[Ne]||void 0,limit:3,page:0,status:"approved"};try{const ge=await Vr.getAllListings(oe);ge?.data?.length&&(te=ge.data.slice(0,3).map(he=>({id:he.id,title:he.title,price:he.price})),Q+=`J'ai trouvé ${ge.data.length} résultats. Voici quelques suggestions:
`+te.map(he=>`• ${he.title} — ${he.price??""} XOF (ouvrir: /annonce/${he.id})`).join(`
`)+`

`,y(!0))}catch{}}u(Ne=>[...Ne,{role:"assistant",content:Q}]);const G=U.length;let ie="";P.current?.abort();const xe=new AbortController;P.current=xe,await phe(U,{...k,intent:X},void 0,Ne=>{ie=Ne;const Le=Q+ie;u(ce=>ce.map((oe,ge)=>ge===G?{...oe,content:Le}:oe))},xe.signal),setTimeout(()=>A.current?.scrollTo({top:A.current.scrollHeight,behavior:"smooth"}),50)}catch(re){if(re?.name!=="AbortError"){console.error("Chat error:",re);let ae="Une erreur serveur est survenue côté assistant.";re.message?.includes("API configuration error")?ae="Erreur de configuration API. Veuillez contacter l'administrateur.":re.message?.includes("401")||re.message?.includes("Unauthorized")?ae="Erreur d'authentification API. Veuillez réessayer plus tard.":re.message?.includes("429")||re.message?.includes("Too Many Requests")?ae="Limite de requêtes atteinte. Veuillez réessayer dans quelques minutes.":(re.message?.includes("500")||re.message?.includes("Internal Server Error"))&&(ae="Erreur serveur temporaire. Veuillez réessayer dans un instant.");const se="Bonjour. Je reste à votre disposition pour la recherche et vos questions.",X=w?`${ae} Vous pouvez cliquer sur « Voir plus » pour ouvrir tous les résultats, ou réessayer dans un instant.`:`${ae} Veuillez réessayer dans un instant ou lancer la recherche complète depuis le marketplace.`;u(Q=>[...Q,{role:"assistant",content:se},{role:"assistant",content:X}])}}finally{l(!1)}},I=()=>{try{P.current?.abort()}catch{}if(c.length>0&&g){const U=c.find(se=>se.role==="user")?.content||"Nouvelle conversation",re=U.length>30?U.substring(0,30)+"...":U,ae=f.map(se=>se.id===g?{...se,messages:c,title:re}:se);p(ae)}const q=Date.now().toString();v(q),u([]),s(""),l(!1),setTimeout(()=>A.current?.scrollTo({top:0,behavior:"smooth"}),50)},z=()=>{const q=[],U=c.filter(X=>X.role==="user").map(X=>X.content.toLowerCase()),re=U.some(X=>X.includes("immobilier")||X.includes("appartement")||X.includes("maison")||X.includes("terrain")),ae=U.some(X=>X.includes("voiture")||X.includes("auto")||X.includes("véhicule")),se=U.some(X=>X.includes("service")||X.includes("plomberie")||X.includes("électricité"));return re&&(q.push("Appartements 2 chambres à Dakar"),q.push("Terrains constructibles")),ae&&(q.push("Voitures d'occasion récentes"),q.push("Motos économiques")),se&&(q.push("Services de nettoyage"),q.push("Réparation électroménager")),q.length===0&&q.push("Immobilier à Dakar","Voitures < 3 000 000 XOF"),q.slice(0,3)},Y=()=>f.map(q=>({id:q.id,title:q.title||"Conversation sans titre",date:q.date||new Date(q.id).toLocaleDateString(),messageCount:q.messages?.length||0})).slice(-10).reverse(),Z=()=>{const q=c.filter(ae=>ae.role==="user").length,U=c.filter(ae=>ae.role==="assistant").length,re=c.length;return{userMessages:q,assistantMessages:U,totalMessages:re,sessionDuration:c.length>0?Math.floor((Date.now()-new Date().getTime())/6e4):0}},V=(q,U={})=>{switch(q){case"publish_listing":window.location.href="/creer-annonce";break;case"my_listings":t?window.location.href="/mes-annonces":u(re=>[...re,{role:"assistant",content:"Vous devez être connecté pour voir vos annonces. Connectez-vous d'abord."}]);break;case"contact_seller":k.listing?.sellerId?window.location.href=`/annonce/${k.listing.id}#contact`:u(re=>[...re,{role:"assistant",content:"Informations de contact non disponibles pour cette annonce."}]);break;case"share_listing":if(k.listing?.id){const re=`${window.location.origin}/annonce/${k.listing.id}`;navigator.share?navigator.share({title:k.listing.title||"Annonce MaxiMarket",url:re}):(navigator.clipboard.writeText(re),u(ae=>[...ae,{role:"assistant",content:"Lien copié dans le presse-papiers !"}]))}break}};return a.jsxs("div",{children:[!r&&a.jsx("button",{onClick:()=>n(!0),"aria-label":"Ouvrir le chat",style:{position:"fixed",bottom:"calc(16px + env(safe-area-inset-bottom, 0px))",right:"calc(16px + env(safe-area-inset-right, 0px))",zIndex:9999,width:56,height:56,borderRadius:14,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"white",border:"1px solid #1f2937",boxShadow:"0 10px 30px rgba(0,0,0,0.55)",display:"grid",placeItems:"center"},children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M21 12c0 4.418-4.03 8-9 8-1.032 0-2.021-.152-2.94-.432L3 21l1.49-4.47C3.55 15.19 3 13.65 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8Z",stroke:"#e5e7eb",strokeWidth:"1.2"}),a.jsx("path",{d:"M7.5 11h9M7.5 14h5",stroke:"#9ca3af",strokeWidth:"1.2",strokeLinecap:"round"})]})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{onClick:()=>{n(!1),C(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,background:"rgba(0,0,0,0.3)"}}),N&&a.jsx("div",{onClick:()=>C(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9997,background:"transparent"}}),a.jsxs("div",{style:{position:"fixed",bottom:_?"calc(16px + env(safe-area-inset-bottom, 0px))":20,right:_?"calc(16px + env(safe-area-inset-right, 0px))":20,left:"auto",top:"auto",zIndex:9999,width:_?"80vw":420,maxWidth:"95vw",height:_?"90vw":560,maxHeight:"78vh",background:"#0b0f14",border:"1px solid #111827",borderRadius:16,display:"flex",flexDirection:"column",boxShadow:"0 18px 38px rgba(0,0,0,0.6)"},children:[a.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #1f2937",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#0e141b",position:_?"sticky":"static",top:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsx("button",{onClick:()=>C(!N),style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"#fff",display:"grid",placeItems:"center",border:"1px solid #1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="linear-gradient(135deg,#1f2937,#111827)",onMouseLeave:q=>q.target.style.background="linear-gradient(135deg,#111827,#0b0f14)",children:N?a.jsxs("div",{style:{position:"relative",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(45deg)",transition:"all 0.2s"}}),a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(-45deg)",transition:"all 0.2s"}})]}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}})]})}),N&&a.jsxs("div",{onClick:q=>q.stopPropagation(),style:{position:"absolute",top:"100%",left:0,width:280,background:"#0b0f14",border:"1px solid #1f2937",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",zIndex:1e4,marginTop:8,padding:16},children:[a.jsxs("div",{style:{borderBottom:"1px solid #1f2937",paddingBottom:12,marginBottom:12},children:[a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:14,marginBottom:4},children:"Assistant MaxiMarket"}),a.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:[Z().totalMessages," messages • ",Z().userMessages," recherches"]})]}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"CONVERSATIONS RÉCENTES"}),a.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:Y().length>0?Y().map((q,U)=>a.jsx("button",{onClick:()=>{const re=f.find(ae=>ae.id===q.id);re&&(u(re.messages||[]),v(q.id),C(!1))},style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",color:"#e5e7eb",fontSize:12,textAlign:"left",borderRadius:6,cursor:"pointer",marginBottom:2,transition:"all 0.2s"},onMouseEnter:re=>re.target.style.background="#1f2937",onMouseLeave:re=>re.target.style.background="transparent",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:"#6b7280"}}),a.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[a.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:q.title}),a.jsxs("div",{style:{fontSize:10,color:"#9ca3af"},children:[q.date," • ",q.messageCount," messages"]})]})]})},q.id)):a.jsx("div",{style:{fontSize:12,color:"#6b7280",fontStyle:"italic"},children:"Aucune conversation récente"})})]}),a.jsxs("div",{style:{borderTop:"1px solid #1f2937",paddingTop:12},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"ACTIONS RAPIDES"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[a.jsx("button",{onClick:()=>{V("publish_listing"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="#1f2937",onMouseLeave:q=>q.target.style.background="transparent",children:"📝 Publier une annonce"}),t&&a.jsx("button",{onClick:()=>{V("my_listings"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="#1f2937",onMouseLeave:q=>q.target.style.background="transparent",children:"📋 Mes annonces"}),a.jsx("button",{onClick:()=>{I(),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="#1f2937",onMouseLeave:q=>q.target.style.background="transparent",children:"🆕 Nouveau chat"})]})]})]})]}),a.jsx("div",{children:a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:15},children:"Assistant MaxiMarket"})})]}),a.jsxs("div",{style:{display:"flex",gap:6},children:[a.jsx("button",{onClick:I,title:"Nouveau chat","aria-label":"Nouveau chat",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontWeight:600,fontSize:16},children:"+"}),o&&a.jsx("button",{onClick:()=>P.current?.abort(),title:"Arrêter",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:12,fontWeight:600},children:"⏹"}),a.jsx("button",{onClick:()=>{n(!1),C(!1)},"aria-label":"Fermer",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:16,fontWeight:600},children:"×"})]})]}),a.jsxs("div",{ref:A,style:{flex:1,overflowY:"auto",padding:14,paddingBottom:"calc(14px + env(safe-area-inset-bottom, 0px))"},children:[c.length===0&&a.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:["Bonjour. Je suis l'assistant Maximarket. Indiquez ce que vous recherchez (catégorie, budget, ville) ou posez votre question.",a.jsx("div",{style:{marginTop:10,display:"flex",flexWrap:"wrap",gap:8},children:[...z(),"Publier une annonce","Services plomberie",t?"Voir mes annonces":"Se connecter"].map((q,U)=>a.jsx("button",{onClick:()=>{q==="Publier une annonce"?V("publish_listing"):q==="Voir mes annonces"?V("my_listings"):q==="Se connecter"?window.location.href="/connexion":s(q)},style:{padding:"6px 10px",border:"1px solid #374151",borderRadius:999,background:"#0e141b",color:"#e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:re=>re.target.style.background="#1f2937",onMouseLeave:re=>re.target.style.background="#0e141b",children:q},U))}),k.listing&&a.jsxs("div",{style:{marginTop:15,paddingTop:15,borderTop:"1px solid #1f2937"},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:"Actions rapides :"}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[a.jsx("button",{onClick:()=>V("contact_seller"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Contacter le vendeur"}),a.jsx("button",{onClick:()=>V("share_listing"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Partager"})]})]})]}),c.map((q,U)=>a.jsxs("div",{style:{margin:"10px 0",display:"flex",gap:10,alignItems:"flex-start"},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:q.role==="user"?"#111827":"#0e141b",color:"#e5e7eb",display:"grid",placeItems:"center",fontSize:12,border:"1px solid #1f2937"},children:q.role==="user"?"Vous":"AI"}),a.jsx("div",{style:{whiteSpace:"pre-wrap",background:q.role==="user"?"#0e141b":"#0b0f14",border:"1px solid #1f2937",color:"#e5e7eb",borderRadius:12,padding:"10px 12px",maxWidth:"85%"},children:q.content})]},U)),o&&a.jsx("div",{style:{color:"#9ca3af",fontSize:14},children:"Rédaction..."})]}),a.jsxs("div",{style:{display:"flex",gap:8,padding:12,paddingBottom:"calc(12px + env(safe-area-inset-bottom, 0px))",borderTop:"1px solid #1f2937",background:"#0e141b",borderBottomLeftRadius:16,borderBottomRightRadius:16},children:[a.jsx(tt,{value:i,onChange:q=>s(q.target.value),onKeyDown:q=>{q.key==="Enter"&&O()},placeholder:"Votre message...",style:{background:"#0b0f14",color:"#e5e7eb",borderColor:"#1f2937"}}),a.jsx(ue,{onClick:O,disabled:o||!i.trim(),style:{background:"#111827",border:"1px solid #1f2937"},children:"Envoyer"}),w&&a.jsx(ue,{variant:"outline",onClick:()=>{const q=c.filter(ae=>ae.role==="user").slice(-1)[0]?.content||"",U=xT(q),re=new URLSearchParams;U?.params?.search&&re.set("search",U.params.search),U?.params?.minPrice&&re.set("minPrice",U.params.minPrice),U?.params?.maxPrice&&re.set("maxPrice",U.params.maxPrice),U?.params?.location&&re.set("location",U.params.location),window.location.href=`/marketplace?${re.toString()}`},style:{border:"1px solid #374151",color:"#e5e7eb"},children:"Voir plus"})]})]})]})]})},nr={siteName:"MaxiMarket",tagline:"Votre Hub Innovant pour l'Afrique de l'Ouest",socials:{linkedin:"https://linkedin.com/in/yourusername",twitter:"https://twitter.com/yourusername",instagram:"https://instagram.com/yourusername",facebook:"https://facebook.com/yourusername",youtube:"https://youtube.com/yourusername"}},vhe=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[i,s]=x.useState(!0),{user:o}=Zr(),l=x.useMemo(()=>[{name:"Immobilier",path:"/immobilier",icon:a.jsx(Pd,{className:"mr-2 h-4 w-4"})},{name:"Automobile",path:"/automobile",icon:a.jsx(u_,{className:"mr-2 h-4 w-4"})},{name:"Services",path:"/services",icon:a.jsx(Cd,{className:"mr-2 h-4 w-4"})},{name:"Marketplace",path:"/marketplace",icon:a.jsx(Vd,{className:"mr-2 h-4 w-4"})}],[]),c=x.useMemo(()=>({closed:{opacity:0,x:"-100%"},open:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}}}),[]),u=x.useMemo(()=>"text-muted-foreground hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium flex items-center",[]),f=x.useMemo(()=>"text-primary bg-primary/10",[]);x.useEffect(()=>{const v=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[]),x.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const p=()=>{s(!i)},g=x.useMemo(()=>a.jsx(ir,{to:"/",className:"flex items-center space-x-2","aria-label":"Accueil MaxiMarket",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:nr.siteName})}),[]);return a.jsxs("header",{role:"banner","aria-label":"Navigation principale",children:[a.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${r||e?"bg-background/95 shadow-lg backdrop-blur-md":"bg-transparent"}`,role:"navigation","aria-label":"Menu principal",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:g}),a.jsx("nav",{role:"navigation","aria-label":"Navigation desktop",className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:l.map(v=>a.jsxs(Yu,{to:v.path,className:({isActive:w})=>`${u} ${w?f:""}`,"aria-current":({isActive:w})=>w?"page":void 0,children:[v.icon,v.name]},v.name))}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{variant:"ghost",size:"icon",onClick:p,"aria-label":"Changer de thème",type:"button",children:i?a.jsx(nde,{className:"h-5 w-5"}):a.jsx(Vue,{className:"h-5 w-5"})}),a.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Rechercher",type:"button",children:a.jsx(Zn,{className:"h-5 w-5"})}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ir,{to:"/connexion","aria-label":"Se connecter",children:[a.jsx(u0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-secondary",children:a.jsxs(ir,{to:"/inscription","aria-label":"S'inscrire",children:[a.jsx(u0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})})]}),o&&o.role==="admin"?a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-secondary",children:a.jsxs(ir,{to:"/admin","aria-label":"Accéder à l'administration",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]})}):o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ir,{to:"/messages","aria-label":"Accéder aux messages",children:[a.jsx(Qi,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ir,{to:"/profile","aria-label":"Accéder à mon compte",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t(!e),"aria-label":e?"Fermer le menu":"Ouvrir le menu","aria-expanded":e,type:"button",children:e?a.jsx(Ms,{className:"h-6 w-6"}):a.jsx(l9,{className:"h-6 w-6"})})})]})]})})}),a.jsx(si,{children:e&&a.jsxs(Re.nav,{variants:c,initial:"closed",animate:"open",exit:"closed",className:"md:hidden fixed inset-0 top-20 bg-background/95 backdrop-blur-md z-40 p-4 space-y-3 border-t border-border",role:"navigation","aria-label":"Menu mobile",children:[l.map(v=>a.jsxs(Yu,{to:v.path,onClick:()=>t(!1),className:({isActive:w})=>`${u} text-base w-full justify-start ${w?f:""}`,"aria-current":({isActive:w})=>w?"page":void 0,children:[v.icon,v.name]},v.name)),a.jsxs("div",{className:"border-t border-border pt-3 space-y-3",children:[!o&&a.jsxs(a.Fragment,{children:[a.jsxs(Yu,{to:"/connexion",onClick:()=>t(!1),className:"text-base w-full justify-start px-4 py-3 rounded-lg bg-gradient-to-r from-blue-600 via-blue-500 to-emerald-500 hover:from-blue-700 hover:via-blue-600 hover:to-emerald-600 text-white font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center","aria-label":"Se connecter",children:[a.jsx(u0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]}),a.jsxs(Yu,{to:"/inscription",onClick:()=>t(!1),className:"text-base w-full justify-start px-4 py-3 rounded-lg bg-gradient-to-r from-blue-600 via-blue-500 to-emerald-500 hover:from-blue-700 hover:via-blue-600 hover:to-emerald-600 text-white font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center","aria-label":"S'inscrire",children:[a.jsx(u0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})]}),o&&o.role==="admin"?a.jsxs(Yu,{to:"/admin",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder à l'administration",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]}):o&&a.jsxs(a.Fragment,{children:[a.jsxs(Yu,{to:"/messages",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder aux messages",children:[a.jsx(Qi,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]}),a.jsxs(Yu,{to:"/profile",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder à mon compte",children:[a.jsx(dd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})]})]})]})})]})},yhe=()=>{const e=new Date().getFullYear(),t=[{title:"Explorer",links:[{name:"Immobilier",path:"/immobilier"},{name:"Automobile",path:"/automobile"},{name:"Services Pro",path:"/services"},{name:"Marketplace",path:"/marketplace"}]},{title:"Entreprise",links:[{name:"À Propos",path:"/a-propos"},{name:"Carrières",path:"/carrieres"},{name:"Presse",path:"/presse"},{name:"Blog",path:"/blog"}]},{title:"Support",links:[{name:"Centre d'Aide",path:"/aide"},{name:"Contactez-nous",path:"/contact"},{name:"FAQ",path:"/faq"},{name:"Politique de Confidentialité",path:"/politique-confidentialite"},{name:"Termes & Conditions",path:"/conditions-utilisation"}]}],r=[{name:"Facebook",icon:a.jsx(kue,{className:"h-5 w-5"}),path:nr.socials.facebook},{name:"Twitter",icon:a.jsx(d9,{className:"h-5 w-5"}),path:nr.socials.twitter},{name:"Instagram",icon:a.jsx($ue,{className:"h-5 w-5"}),path:nr.socials.instagram},{name:"LinkedIn",icon:a.jsx(o9,{className:"h-5 w-5"}),path:nr.socials.linkedin},{name:"YouTube",icon:a.jsx(cde,{className:"h-5 w-5"}),path:nr.socials.youtube}].filter(n=>n.path&&!n.path.includes("yourusername"));return a.jsx("footer",{className:"bg-card text-card-foreground border-t border-border pt-16 pb-8",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2 lg:col-span-1 xl:col-span-2 pr-4",children:[a.jsx(ir,{to:"/",className:"flex items-center space-x-2 mb-6",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:nr.siteName})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"La plateforme N°1 en Afrique de l'Ouest pour l'immobilier, l'automobile, les services et bien plus."}),a.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Restez informé de nos nouveautés :"}),a.jsxs("form",{className:"flex items-center gap-2",children:[a.jsx(tt,{type:"email",placeholder:"Votre adresse e-mail",className:"flex-grow"}),a.jsx(ue,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary/90",children:a.jsx(d_,{className:"h-4 w-4"})})]})]}),t.map(n=>a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold mb-4",children:n.title}),a.jsx("ul",{className:"space-y-2",children:n.links.map(i=>a.jsx("li",{children:a.jsxs(ir,{to:i.path,className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center group",children:[i.name,a.jsx(jl,{className:"h-3 w-3 ml-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},i.name))})]},n.title))]}),a.jsxs("div",{className:"border-t border-border pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-xs text-muted-foreground mb-4 md:mb-0",children:["© ",e," ",nr.siteName,". Tous droits réservés."]}),a.jsx("div",{className:"flex space-x-4",children:r.map(n=>a.jsx(ir,{to:n.path,target:"_blank",rel:"noopener noreferrer","aria-label":n.name,className:"text-muted-foreground hover:text-primary transition-colors",children:n.icon},n.name))})]})]})})},xhe=()=>{const e=ji(),[t,r]=x.useState(!1),n=x.useCallback(()=>{r(window.scrollY>20)},[]);x.useEffect(()=>(window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)),[n]),x.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]);const i=x.useMemo(()=>Ge("fixed top-0 left-0 right-0 z-50 transition-all duration-300",t?"py-3 glass-effect":"py-5 bg-transparent"),[t]),s=x.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background grid-pattern",children:[a.jsx("header",{className:i,role:"banner","aria-label":"En-tête principal",children:a.jsx(vhe,{})}),a.jsx("main",{className:"flex-grow pt-24 pb-16",role:"main","aria-label":"Contenu principal",id:"main-content",children:a.jsx(Re.div,{...s,children:a.jsx(U8,{})},e.pathname)}),a.jsx(yhe,{})]})},bhe=[{name:"Tableau de bord",href:"/admin",icon:a9},{name:"Utilisateurs",href:"/admin/users",icon:za},{name:"Annonces",href:"/admin/listings",icon:Rg},{name:"Transactions",href:"/admin/transactions",icon:Ed},{name:"Catégories",href:"/admin/categories",icon:Wd},{name:"Rapports",href:"/admin/analytics",icon:RO},{name:"Modération",href:"/admin/moderation",icon:Cb},{name:"Paramètres",href:"/admin/settings",icon:dd}];function whe({className:e}){const t=ji(),{logout:r}=Zr(),n=async()=>{try{await r()}catch(i){console.error("Erreur lors de la déconnexion:",i)}};return a.jsxs("div",{className:Ge("hidden md:flex md:flex-col md:w-64 bg-slate-900 border-r border-slate-800 min-h-screen",e),children:[a.jsx("div",{className:"p-4 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:bhe.map(i=>a.jsxs(ir,{to:i.href,className:Ge("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",t.pathname===i.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[a.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.href))}),a.jsx("div",{className:"p-4 border-t border-slate-800",children:a.jsxs(ue,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-slate-800 hover:text-white",children:[a.jsx(DO,{className:"mr-3 h-5 w-5"}),"Déconnexion"]})})]})}var _he=Object.defineProperty,jhe=(e,t,r)=>t in e?_he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,CS=(e,t,r)=>(jhe(e,typeof t!="symbol"?t+"":t,r),r);let She=class{constructor(){CS(this,"current",this.detect()),CS(this,"handoffState","pending"),CS(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Cl=new She,oa=(e,t)=>{Cl.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function El(e){let t=x.useRef(e);return oa(()=>{t.current=e},[e]),t}let Kr=function(e){let t=El(e);return K.useCallback((...r)=>t.current(...r),[t])};function v_(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Hd(){let e=[],t={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),t.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return v_(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Hd();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function GO(){let[e]=x.useState(Hd);return x.useEffect(()=>()=>e.dispose(),[e]),e}function Nhe(){let e=typeof document>"u";return"useSyncExternalStore"in iu?(t=>t.useSyncExternalStore)(iu)(()=>()=>{},()=>!1,()=>!e):!1}function Pp(){let e=Nhe(),[t,r]=x.useState(Cl.isHandoffComplete);return t&&Cl.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>Cl.handoff(),[]),e?!1:t}var S$;let Tp=(S$=K.useId)!=null?S$:function(){let e=Pp(),[t,r]=K.useState(e?()=>Cl.nextId():null);return oa(()=>{t===null&&r(Cl.nextId())},[t]),t!=null?""+t:void 0};function _i(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_i),n}function X9(e){return Cl.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let bT=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var cd=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(cd||{}),Q9=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Q9||{}),Che=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Che||{});function Ehe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(bT)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var J9=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(J9||{});function Phe(e,t=0){var r;return e===((r=X9(e))==null?void 0:r.body)?!1:_i(t,{0(){return e.matches(bT)},1(){let n=e;for(;n!==null;){if(n.matches(bT))return!0;n=n.parentElement}return!1}})}var The=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(The||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wd(e){e?.focus({preventScroll:!0})}let Ahe=["textarea","input"].join(",");function khe(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,Ahe))!=null?r:!1}function Ohe(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),s=t(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function J0(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?Ohe(e):e:Ehe(e);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),n=n??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,p=o.length,g;do{if(f>=p||f+p<=0)return 0;let v=c+f;if(t&16)v=(v+p)%p;else{if(v<0)return 3;if(v>=p)return 1}g=o[v],g?.focus(u),f+=l}while(g!==s.activeElement);return t&6&&khe(g)&&g.select(),2}function eH(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Rhe(){return/Android/gi.test(window.navigator.userAgent)}function Mhe(){return eH()||Rhe()}function f0(e,t,r){let n=El(t);x.useEffect(()=>{function i(s){n.current(s)}return document.addEventListener(e,i,r),()=>document.removeEventListener(e,i,r)},[e,r])}function tH(e,t,r){let n=El(t);x.useEffect(()=>{function i(s){n.current(s)}return window.addEventListener(e,i,r),()=>window.removeEventListener(e,i,r)},[e,r])}function Ihe(e,t,r=!0){let n=x.useRef(!1);x.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(o,l){if(!n.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let f of u){if(f===null)continue;let p=f instanceof HTMLElement?f:f.current;if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!Phe(c,J9.Loose)&&c.tabIndex!==-1&&o.preventDefault(),t(o,c)}let s=x.useRef(null);f0("pointerdown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),f0("mousedown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),f0("click",o=>{Mhe()||s.current&&(i(o,()=>s.current),s.current=null)},!0),f0("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),tH("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function sy(...e){return x.useMemo(()=>X9(...e),[...e])}let rH=Symbol();function Lhe(e,t=!0){return Object.assign(e,{[rH]:t})}function Ya(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=Kr(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||n?.[rH])?void 0:r}function ZO(e,t){let r=x.useRef([]),n=Kr(e);x.useEffect(()=>{let i=[...r.current];for(let[s,o]of t.entries())if(r.current[s]!==o){let l=n(t,i);return r.current=t,l}},[n,...t])}function Pb(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Tb=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Tb||{}),Gc=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Gc||{});function ca({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??Dhe;let c=nH(t,e);if(s)return h0(c,r,n,o,l);let u=i??0;if(u&2){let{static:f=!1,...p}=c;if(f)return h0(p,r,n,o,l)}if(u&1){let{unmount:f=!0,...p}=c;return _i(f?0:1,{0(){return null},1(){return h0({...p,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return h0(c,r,n,o,l)}function h0(e,t={},r,n,i){let{as:s=r,children:o,refName:l="ref",...c}=ES(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},f=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let p={};if(t){let g=!1,v=[];for(let[w,y]of Object.entries(t))typeof y=="boolean"&&(g=!0),y===!0&&v.push(w);g&&(p["data-headlessui-state"]=v.join(" "))}if(s===x.Fragment&&Object.keys(N$(c)).length>0){if(!x.isValidElement(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let g=f.props,v=typeof g?.className=="function"?(...y)=>Pb(g?.className(...y),c.className):Pb(g?.className,c.className),w=v?{className:v}:{};return x.cloneElement(f,Object.assign({},nH(f.props,N$(ES(c,["ref"]))),p,u,{ref:i(f.ref,u.ref)},w))}return x.createElement(s,Object.assign({},ES(c,["ref"]),s!==x.Fragment&&u,s!==x.Fragment&&p),f)}function Dhe(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function nH(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](i,...s){let o=r[n];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function Ls(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function N$(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function ES(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let $he="div";var Ab=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ab||{});function Fhe(e,t){var r;let{features:n=1,...i}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return ca({ourProps:s,theirProps:i,slot:{},defaultTag:$he,name:"Hidden"})}let wT=Ls(Fhe),YO=x.createContext(null);YO.displayName="OpenClosedContext";var js=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(js||{});function XO(){return x.useContext(YO)}function Bhe({value:e,children:t}){return K.createElement(YO.Provider,{value:e},t)}function zhe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Vc=[];zhe(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Vc[0]!==t.target&&(Vc.unshift(t.target),Vc=Vc.filter(r=>r!=null&&r.isConnected),Vc.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function qhe(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Uhe(r)?!1:n}function Uhe(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var iH=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(iH||{});function sH(e,t,r,n){let i=El(r);x.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function ay(){let e=x.useRef(!1);return oa(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function aH(e){let t=Kr(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,v_(()=>{r.current&&t()})}),[t])}var mg=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(mg||{});function Vhe(){let e=x.useRef(0);return tH("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function oH(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let Whe="div";var lH=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(lH||{});function Hhe(e,t){let r=x.useRef(null),n=Ya(r,t),{initialFocus:i,containers:s,features:o=30,...l}=e;Pp()||(o=1);let c=sy(r);Zhe({ownerDocument:c},!!(o&16));let u=Yhe({ownerDocument:c,container:r,initialFocus:i},!!(o&2));Xhe({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(o&8));let f=Vhe(),p=Kr(y=>{let _=r.current;_&&(S=>S())(()=>{_i(f.current,{[mg.Forwards]:()=>{J0(_,cd.First,{skipElements:[y.relatedTarget]})},[mg.Backwards]:()=>{J0(_,cd.Last,{skipElements:[y.relatedTarget]})}})})}),g=GO(),v=x.useRef(!1),w={ref:n,onKeyDown(y){y.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(y){let _=oH(s);r.current instanceof HTMLElement&&_.add(r.current);let S=y.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(cH(_,S)||(v.current?J0(r.current,_i(f.current,{[mg.Forwards]:()=>cd.Next,[mg.Backwards]:()=>cd.Previous})|cd.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&wd(y.target)))}};return K.createElement(K.Fragment,null,!!(o&4)&&K.createElement(wT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ab.Focusable}),ca({ourProps:w,theirProps:l,defaultTag:Whe,name:"FocusTrap"}),!!(o&4)&&K.createElement(wT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ab.Focusable}))}let Khe=Ls(Hhe),Km=Object.assign(Khe,{features:lH});function Ghe(e=!0){let t=x.useRef(Vc.slice());return ZO(([r],[n])=>{n===!0&&r===!1&&v_(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Vc.slice())},[e,Vc,t]),Kr(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Zhe({ownerDocument:e},t){let r=Ghe(t);ZO(()=>{t||e?.activeElement===e?.body&&wd(r())},[t]),aH(()=>{t&&wd(r())})}function Yhe({ownerDocument:e,container:t,initialFocus:r},n){let i=x.useRef(null),s=ay();return ZO(()=>{if(!n)return;let o=t.current;o&&v_(()=>{if(!s.current)return;let l=e?.activeElement;if(r!=null&&r.current){if(r?.current===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}r!=null&&r.current?wd(r.current):J0(o,cd.First)===Q9.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e?.activeElement})},[n]),i}function Xhe({ownerDocument:e,container:t,containers:r,previousActiveElement:n},i){let s=ay();sH(e?.defaultView,"focus",o=>{if(!i||!s.current)return;let l=oH(r);t.current instanceof HTMLElement&&l.add(t.current);let c=n.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?cH(l,u)?(n.current=u,wd(u)):(o.preventDefault(),o.stopPropagation(),wd(c)):wd(n.current)},!0)}function cH(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let uH=x.createContext(!1);function Qhe(){return x.useContext(uH)}function _T(e){return K.createElement(uH.Provider,{value:e.force},e.children)}function Jhe(e){let t=Qhe(),r=x.useContext(dH),n=sy(e),[i,s]=x.useState(()=>{if(!t&&r!==null||Cl.isServer)return null;let o=n?.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return x.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),x.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),i}let epe=x.Fragment;function tpe(e,t){let r=e,n=x.useRef(null),i=Ya(Lhe(f=>{n.current=f}),t),s=sy(n),o=Jhe(n),[l]=x.useState(()=>{var f;return Cl.isServer?null:(f=s?.createElement("div"))!=null?f:null}),c=x.useContext(jT),u=Pp();return oa(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),oa(()=>{if(l&&c)return c.register(l)},[c,l]),aH(()=>{var f;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((f=o.parentElement)==null||f.removeChild(o)))}),u?!o||!l?null:Za.createPortal(ca({ourProps:{ref:i},theirProps:r,defaultTag:epe,name:"Portal"}),l):null}let rpe=x.Fragment,dH=x.createContext(null);function npe(e,t){let{target:r,...n}=e,i={ref:Ya(t)};return K.createElement(dH.Provider,{value:r},ca({ourProps:i,theirProps:n,defaultTag:rpe,name:"Popover.Group"}))}let jT=x.createContext(null);function ipe(){let e=x.useContext(jT),t=x.useRef([]),r=Kr(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Kr(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return K.createElement(jT.Provider,{value:i},s)},[i])]}let spe=Ls(tpe),ape=Ls(npe),ST=Object.assign(spe,{Group:ape});function ope(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const lpe=typeof Object.is=="function"?Object.is:ope,{useState:cpe,useEffect:upe,useLayoutEffect:dpe,useDebugValue:fpe}=iu;function hpe(e,t,r){const n=t(),[{inst:i},s]=cpe({inst:{value:n,getSnapshot:t}});return dpe(()=>{i.value=n,i.getSnapshot=t,PS(i)&&s({inst:i})},[e,n,t]),upe(()=>(PS(i)&&s({inst:i}),e(()=>{PS(i)&&s({inst:i})})),[e]),fpe(n),n}function PS(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!lpe(r,n)}catch{return!0}}function ppe(e,t,r){return t()}const mpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gpe=!mpe,vpe=gpe?ppe:hpe,ype="useSyncExternalStore"in iu?(e=>e.useSyncExternalStore)(iu):vpe;function xpe(e){return ype(e.subscribe,e.getSnapshot,e.getSnapshot)}function bpe(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=t[i].call(r,...s);o&&(r=o,n.forEach(l=>l()))}}}function wpe(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,i=n.clientWidth-n.offsetWidth,s=e-i;r.style(n,"paddingRight",`${s}px`)}}}function _pe(){return eH()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Hd();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),f=e.querySelector(u);f&&!n(f)&&(o=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function jpe(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Spe(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let fd=bpe(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Hd(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:Spe(r)},i=[_pe(),wpe(),jpe()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});fd.subscribe(()=>{let e=fd.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&fd.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&fd.dispatch("TEARDOWN",r)}});function Npe(e,t,r){let n=xpe(fd),i=e?n.get(e):void 0,s=i?i.count>0:!1;return oa(()=>{if(!(!e||!t))return fd.dispatch("PUSH",e,r),()=>fd.dispatch("POP",e,r)},[t,e]),s}let TS=new Map,Gm=new Map;function C$(e,t=!0){oa(()=>{var r;if(!t)return;let n=typeof e=="function"?e():e.current;if(!n)return;function i(){var o;if(!n)return;let l=(o=Gm.get(n))!=null?o:1;if(l===1?Gm.delete(n):Gm.set(n,l-1),l!==1)return;let c=TS.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,TS.delete(n))}let s=(r=Gm.get(n))!=null?r:0;return Gm.set(n,s+1),s!==0||(TS.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),i},[e,t])}function Cpe({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var n;let i=x.useRef((n=r?.current)!=null?n:null),s=sy(i),o=Kr(()=>{var l,c,u;let f=[];for(let p of e)p!==null&&(p instanceof HTMLElement?f.push(p):"current"in p&&p.current instanceof HTMLElement&&f.push(p.current));if(t!=null&&t.current)for(let p of t.current)f.push(p);for(let p of(l=s?.querySelectorAll("html > *, body > *"))!=null?l:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(i.current)||p.contains((u=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||f.some(g=>p.contains(g))||f.push(p));return f});return{resolveContainers:o,contains:Kr(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:i,MainTreeNode:x.useMemo(()=>function(){return r!=null?null:K.createElement(wT,{features:Ab.Hidden,ref:i})},[i,r])}}let QO=x.createContext(()=>{});QO.displayName="StackContext";var NT=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(NT||{});function Epe(){return x.useContext(QO)}function Ppe({children:e,onUpdate:t,type:r,element:n,enabled:i}){let s=Epe(),o=Kr((...l)=>{t?.(...l),s(...l)});return oa(()=>{let l=i===void 0||i===!0;return l&&o(0,r,n),()=>{l&&o(1,r,n)}},[o,r,n,i]),K.createElement(QO.Provider,{value:o},e)}let fH=x.createContext(null);function hH(){let e=x.useContext(fH);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,hH),t}return e}function Tpe(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=Kr(s=>(t(o=>[...o,s]),()=>t(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return K.createElement(fH.Provider,{value:i},r.children)},[t])]}let Ape="p";function kpe(e,t){let r=Tp(),{id:n=`headlessui-description-${r}`,...i}=e,s=hH(),o=Ya(t);oa(()=>s.register(n),[n,s.register]);let l={ref:o,...s.props,id:n};return ca({ourProps:l,theirProps:i,slot:s.slot||{},defaultTag:Ape,name:s.name||"Description"})}let Ope=Ls(kpe),Rpe=Object.assign(Ope,{});var Mpe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Mpe||{}),Ipe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Ipe||{});let Lpe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},kb=x.createContext(null);kb.displayName="DialogContext";function oy(e){let t=x.useContext(kb);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,oy),r}return t}function Dpe(e,t,r=()=>[document.body]){Npe(e,t,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function $pe(e,t){return _i(t.type,Lpe,e,t)}let Fpe="div",Bpe=Tb.RenderStrategy|Tb.Static;function zpe(e,t){let r=Tp(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=e,[f,p]=x.useState(0),g=x.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=XO();i===void 0&&v!==null&&(i=(v&js.Open)===js.Open);let w=x.useRef(null),y=Ya(w,t),_=sy(w),S=e.hasOwnProperty("open")||v!==null,N=e.hasOwnProperty("onClose");if(!S&&!N)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!N)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let C=i?0:1,[A,P]=x.useReducer($pe,{titleId:null,descriptionId:null,panelRef:x.createRef()}),k=Kr(()=>s(!1)),O=Kr(J=>P({type:0,id:J})),I=Pp()?c?!1:C===0:!1,z=f>1,Y=x.useContext(kb)!==null,[Z,V]=ipe(),q={get current(){var J;return(J=A.panelRef.current)!=null?J:w.current}},{resolveContainers:U,mainTreeNodeRef:re,MainTreeNode:ae}=Cpe({portals:Z,defaultContainers:[q]}),se=z?"parent":"leaf",X=v!==null?(v&js.Closing)===js.Closing:!1,Q=Y||X?!1:I,te=x.useCallback(()=>{var J,H;return(H=Array.from((J=_?.querySelectorAll("body > *"))!=null?J:[]).find(we=>we.id==="headlessui-portal-root"?!1:we.contains(re.current)&&we instanceof HTMLElement))!=null?H:null},[re]);C$(te,Q);let G=z?!0:I,ie=x.useCallback(()=>{var J,H;return(H=Array.from((J=_?.querySelectorAll("[data-headlessui-portal]"))!=null?J:[]).find(we=>we.contains(re.current)&&we instanceof HTMLElement))!=null?H:null},[re]);C$(ie,G),Ihe(U,J=>{J.preventDefault(),k()},!(!I||z));let Ne=!(z||C!==0);sH(_?.defaultView,"keydown",J=>{Ne&&(J.defaultPrevented||J.key===iH.Escape&&(J.preventDefault(),J.stopPropagation(),k()))}),Dpe(_,!(X||C!==0||Y),U),x.useEffect(()=>{if(C!==0||!w.current)return;let J=new ResizeObserver(H=>{for(let we of H){let be=we.target.getBoundingClientRect();be.x===0&&be.y===0&&be.width===0&&be.height===0&&k()}});return J.observe(w.current),()=>J.disconnect()},[C,w,k]);let[ce,oe]=Tpe(),ge=x.useMemo(()=>[{dialogState:C,close:k,setTitleId:O},A],[C,A,k,O]),he=x.useMemo(()=>({open:C===0}),[C]),Pe={ref:y,id:n,role:l,"aria-modal":C===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":ce};return K.createElement(Ppe,{type:"Dialog",enabled:C===0,element:w,onUpdate:Kr((J,H)=>{H==="Dialog"&&_i(J,{[NT.Add]:()=>p(we=>we+1),[NT.Remove]:()=>p(we=>we-1)})})},K.createElement(_T,{force:!0},K.createElement(ST,null,K.createElement(kb.Provider,{value:ge},K.createElement(ST.Group,{target:w},K.createElement(_T,{force:!1},K.createElement(oe,{slot:he,name:"Dialog.Description"},K.createElement(Km,{initialFocus:o,containers:U,features:I?_i(se,{parent:Km.features.RestoreFocus,leaf:Km.features.All&~Km.features.FocusLock}):Km.features.None},K.createElement(V,null,ca({ourProps:Pe,theirProps:u,slot:he,defaultTag:Fpe,features:Bpe,visible:C===0,name:"Dialog"}))))))))),K.createElement(ae,null))}let qpe="div";function Upe(e,t){let r=Tp(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=e,[{dialogState:s,close:o}]=oy("Dialog.Overlay"),l=Ya(t),c=Kr(f=>{if(f.target===f.currentTarget){if(qhe(f.currentTarget))return f.preventDefault();f.preventDefault(),f.stopPropagation(),o()}}),u=x.useMemo(()=>({open:s===0}),[s]);return ca({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:i,slot:u,defaultTag:qpe,name:"Dialog.Overlay"})}let Vpe="div";function Wpe(e,t){let r=Tp(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=e,[{dialogState:s},o]=oy("Dialog.Backdrop"),l=Ya(t);x.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=x.useMemo(()=>({open:s===0}),[s]);return K.createElement(_T,{force:!0},K.createElement(ST,null,ca({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:Vpe,name:"Dialog.Backdrop"})))}let Hpe="div";function Kpe(e,t){let r=Tp(),{id:n=`headlessui-dialog-panel-${r}`,...i}=e,[{dialogState:s},o]=oy("Dialog.Panel"),l=Ya(t,o.panelRef),c=x.useMemo(()=>({open:s===0}),[s]),u=Kr(f=>{f.stopPropagation()});return ca({ourProps:{ref:l,id:n,onClick:u},theirProps:i,slot:c,defaultTag:Hpe,name:"Dialog.Panel"})}let Gpe="h2";function Zpe(e,t){let r=Tp(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:o}]=oy("Dialog.Title"),l=Ya(t);x.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=x.useMemo(()=>({open:s===0}),[s]);return ca({ourProps:{ref:l,id:n},theirProps:i,slot:c,defaultTag:Gpe,name:"Dialog.Title"})}let Ype=Ls(zpe),Xpe=Ls(Wpe),Qpe=Ls(Kpe),Jpe=Ls(Upe),eme=Ls(Zpe),E$=Object.assign(Ype,{Backdrop:Xpe,Panel:Qpe,Overlay:Jpe,Title:eme,Description:Rpe});function tme(e=0){let[t,r]=x.useState(e),n=ay(),i=x.useCallback(c=>{n.current&&r(u=>u|c)},[t,n]),s=x.useCallback(c=>!!(t&c),[t]),o=x.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=x.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:t,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:l}}function rme(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function AS(e,...t){e&&t.length>0&&e.classList.add(...t)}function kS(e,...t){e&&t.length>0&&e.classList.remove(...t)}function nme(e,t){let r=Hd();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[s,o]=[n,i].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return u}),l=s+o;if(l!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",f=>{f.target===f.currentTarget&&u.dispose()})});let c=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return r.add(()=>t()),r.dispose}function ime(e,t,r,n){let i=r?"enter":"leave",s=Hd(),o=n!==void 0?rme(n):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=_i(i,{enter:()=>t.enter,leave:()=>t.leave}),c=_i(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=_i(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return kS(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),AS(e,...t.base,...l,...u),s.nextFrame(()=>{kS(e,...t.base,...l,...u),AS(e,...t.base,...l,...c),nme(e,()=>(kS(e,...t.base,...l),AS(e,...t.base,...t.entered),o()))}),s.dispose}function sme({immediate:e,container:t,direction:r,classes:n,onStart:i,onStop:s}){let o=ay(),l=GO(),c=El(r);oa(()=>{e&&(c.current="enter")},[e]),oa(()=>{let u=Hd();l.add(u.dispose);let f=t.current;if(f&&c.current!=="idle"&&o.current)return u.dispose(),i.current(c.current),u.add(ime(f,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Oc(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let y_=x.createContext(null);y_.displayName="TransitionContext";var ame=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ame||{});function ome(){let e=x.useContext(y_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function lme(){let e=x.useContext(x_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let x_=x.createContext(null);x_.displayName="NestingContext";function b_(e){return"children"in e?b_(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function pH(e,t){let r=El(e),n=x.useRef([]),i=ay(),s=GO(),o=Kr((v,w=Gc.Hidden)=>{let y=n.current.findIndex(({el:_})=>_===v);y!==-1&&(_i(w,{[Gc.Unmount](){n.current.splice(y,1)},[Gc.Hidden](){n.current[y].state="hidden"}}),s.microTask(()=>{var _;!b_(n)&&i.current&&((_=r.current)==null||_.call(r))}))}),l=Kr(v=>{let w=n.current.find(({el:y})=>y===v);return w?w.state!=="visible"&&(w.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,Gc.Unmount)}),c=x.useRef([]),u=x.useRef(Promise.resolve()),f=x.useRef({enter:[],leave:[],idle:[]}),p=Kr((v,w,y)=>{c.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([_])=>_!==v)),t?.chains.current[w].push([v,new Promise(_=>{c.current.push(_)})]),t?.chains.current[w].push([v,new Promise(_=>{Promise.all(f.current[w].map(([S,N])=>N)).then(()=>_())})]),w==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>y(w)):y(w)}),g=Kr((v,w,y)=>{Promise.all(f.current[w].splice(0).map(([_,S])=>S)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>y(w))});return x.useMemo(()=>({children:n,register:l,unregister:o,onStart:p,onStop:g,wait:u,chains:f}),[l,o,n,p,g,f,u])}function cme(){}let ume=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function P$(e){var t;let r={};for(let n of ume)r[n]=(t=e[n])!=null?t:cme;return r}function dme(e){let t=x.useRef(P$(e));return x.useEffect(()=>{t.current=P$(e)},[e]),t}let fme="div",mH=Tb.RenderStrategy;function hme(e,t){var r,n;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:f,entered:p,leave:g,leaveFrom:v,leaveTo:w,...y}=e,_=x.useRef(null),S=Ya(_,t),N=(r=y.unmount)==null||r?Gc.Unmount:Gc.Hidden,{show:C,appear:A,initial:P}=ome(),[k,O]=x.useState(C?"visible":"hidden"),I=lme(),{register:z,unregister:Y}=I;x.useEffect(()=>z(_),[z,_]),x.useEffect(()=>{if(N===Gc.Hidden&&_.current){if(C&&k!=="visible"){O("visible");return}return _i(k,{hidden:()=>Y(_),visible:()=>z(_)})}},[k,_,z,Y,C,N]);let Z=El({base:Oc(y.className),enter:Oc(c),enterFrom:Oc(u),enterTo:Oc(f),entered:Oc(p),leave:Oc(g),leaveFrom:Oc(v),leaveTo:Oc(w)}),V=dme({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l}),q=Pp();x.useEffect(()=>{if(q&&k==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,k,q]);let U=P&&!A,re=A&&C&&P,ae=!q||U?"idle":C?"enter":"leave",se=tme(0),X=Kr(Ne=>_i(Ne,{enter:()=>{se.addFlag(js.Opening),V.current.beforeEnter()},leave:()=>{se.addFlag(js.Closing),V.current.beforeLeave()},idle:()=>{}})),Q=Kr(Ne=>_i(Ne,{enter:()=>{se.removeFlag(js.Opening),V.current.afterEnter()},leave:()=>{se.removeFlag(js.Closing),V.current.afterLeave()},idle:()=>{}})),te=pH(()=>{O("hidden"),Y(_)},I),G=x.useRef(!1);sme({immediate:re,container:_,classes:Z,direction:ae,onStart:El(Ne=>{G.current=!0,te.onStart(_,Ne,X)}),onStop:El(Ne=>{G.current=!1,te.onStop(_,Ne,Q),Ne==="leave"&&!b_(te)&&(O("hidden"),Y(_))})});let ie=y,xe={ref:S};return re?ie={...ie,className:Pb(y.className,...Z.current.enter,...Z.current.enterFrom)}:G.current&&(ie.className=Pb(y.className,(n=_.current)==null?void 0:n.className),ie.className===""&&delete ie.className),K.createElement(x_.Provider,{value:te},K.createElement(Bhe,{value:_i(k,{visible:js.Open,hidden:js.Closed})|se.flags},ca({ourProps:xe,theirProps:ie,defaultTag:fme,features:mH,visible:k==="visible",name:"Transition.Child"})))}function pme(e,t){let{show:r,appear:n=!1,unmount:i=!0,...s}=e,o=x.useRef(null),l=Ya(o,t);Pp();let c=XO();if(r===void 0&&c!==null&&(r=(c&js.Open)===js.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=x.useState(r?"visible":"hidden"),p=pH(()=>{f("hidden")}),[g,v]=x.useState(!0),w=x.useRef([r]);oa(()=>{g!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),v(!1))},[w,r]);let y=x.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);x.useEffect(()=>{if(r)f("visible");else if(!b_(p))f("hidden");else{let C=o.current;if(!C)return;let A=C.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&f("hidden")}},[r,p]);let _={unmount:i},S=Kr(()=>{var C;g&&v(!1),(C=e.beforeEnter)==null||C.call(e)}),N=Kr(()=>{var C;g&&v(!1),(C=e.beforeLeave)==null||C.call(e)});return K.createElement(x_.Provider,{value:p},K.createElement(y_.Provider,{value:y},ca({ourProps:{..._,as:x.Fragment,children:K.createElement(gH,{ref:l,..._,...s,beforeEnter:S,beforeLeave:N})},theirProps:{},defaultTag:x.Fragment,features:mH,visible:u==="visible",name:"Transition"})))}function mme(e,t){let r=x.useContext(y_)!==null,n=XO()!==null;return K.createElement(K.Fragment,null,!r&&n?K.createElement(CT,{ref:t,...e}):K.createElement(gH,{ref:t,...e}))}let CT=Ls(pme),gH=Ls(hme),gme=Ls(mme),OS=Object.assign(CT,{Child:gme,Root:CT});const vme=[{name:"Tableau de bord",href:"/admin",icon:a9},{name:"Utilisateurs",href:"/admin/users",icon:za},{name:"Annonces",href:"/admin/listings",icon:Rg},{name:"Transactions",href:"/admin/transactions",icon:Ed},{name:"Catégories",href:"/admin/categories",icon:Wd},{name:"Rapports",href:"/admin/analytics",icon:RO},{name:"Modération",href:"/admin/moderation",icon:Cb},{name:"Paramètres",href:"/admin/settings",icon:dd}];function yme({sidebarOpen:e,setSidebarOpen:t}){const r=ji(),{logout:n}=Zr(),i=async()=>{try{await n(),t(!1)}catch(s){console.error("Erreur lors de la déconnexion:",s)}};return a.jsx(OS.Root,{show:e,as:x.Fragment,children:a.jsxs(E$,{as:"div",className:"fixed inset-0 z-40 flex md:hidden",onClose:t,children:[a.jsx(OS.Child,{as:x.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(E$.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),a.jsx(OS.Child,{as:x.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-slate-900",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>t(!1),children:[a.jsx("span",{className:"sr-only",children:"Fermer le menu"}),a.jsx(Ms,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:a.jsx("h1",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:vme.map(s=>a.jsxs(ir,{to:s.href,onClick:()=>t(!1),className:[r.pathname===s.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center px-2 py-2 text-base font-medium rounded-md"].join(" "),children:[a.jsx(s.icon,{className:["mr-4 flex-shrink-0 h-6 w-6",r.pathname===s.href?"text-white":"text-slate-400 group-hover:text-white"].join(" "),"aria-hidden":"true"}),s.name]},s.name))})]}),a.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-800 p-4",children:a.jsx("button",{onClick:i,className:"flex-shrink-0 w-full group block",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{children:a.jsx(DO,{className:"h-6 w-6 text-slate-400 group-hover:text-white","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-slate-300 group-hover:text-white",children:"Déconnexion"})})]})})})]})}),a.jsx("div",{className:"flex-shrink-0 w-14"})]})})}function xme(){const{user:e,hasRole:t,loading:r}=Zr(),[n,i]=x.useState(!1),s=Dn();return x.useEffect(()=>{!r&&!e?s("/connexion",{state:{from:"/admin"}}):!r&&e&&!t("admin")&&s("/")},[e,r,t,s]),r?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:a.jsx(Tr,{className:"h-12 w-12 animate-spin text-blue-500"})}):a.jsxs("div",{className:"flex h-screen bg-slate-900 text-white overflow-hidden",children:[a.jsx(yme,{sidebarOpen:n,setSidebarOpen:i}),a.jsx(whe,{className:"hidden md:flex"}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-slate-800 border-b border-slate-700 flex items-center justify-between p-4",children:[a.jsxs("button",{type:"button",className:"md:hidden text-slate-400 hover:text-white focus:outline-none",onClick:()=>i(!0),children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"p-1 rounded-full text-slate-400 hover:text-white focus:outline-none",children:[a.jsx("span",{className:"sr-only",children:"Notifications"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),a.jsx("div",{className:"relative",children:a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",children:[a.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-slate-700 text-sm font-medium text-white",children:e?.name?.charAt(0)||"A"}),a.jsxs("span",{className:"hidden md:inline-flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:e?.name||"Admin"}),a.jsx("svg",{className:"ml-2 h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-900 p-4 md:p-8",children:a.jsx(U8,{})})]})]})}var ly=e=>e.type==="checkbox",hd=e=>e instanceof Date,ki=e=>e==null;const vH=e=>typeof e=="object";var hn=e=>!ki(e)&&!Array.isArray(e)&&vH(e)&&!hd(e),bme=e=>hn(e)&&e.target?ly(e.target)?e.target.checked:e.target.value:e,wme=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_me=(e,t)=>e.has(wme(t)),jme=e=>{const t=e.constructor&&e.constructor.prototype;return hn(t)&&t.hasOwnProperty("isPrototypeOf")},JO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(JO&&(e instanceof Blob||n))&&(r||hn(e)))if(t=r?[]:{},!r&&!jme(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=mi(e[i]));else return e;return t}var w_=e=>Array.isArray(e)?e.filter(Boolean):[],bn=e=>e===void 0,pt=(e,t,r)=>{if(!t||!hn(e))return r;const n=w_(t.split(/[,[\].]+?/)).reduce((i,s)=>ki(i)?i:i[s],e);return bn(n)||n===e?bn(e[t])?r:e[t]:n},po=e=>typeof e=="boolean",eR=e=>/^\w*$/.test(e),yH=e=>w_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Br=(e,t,r)=>{let n=-1;const i=eR(t)?[t]:yH(t),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=e[l];c=hn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const T$={BLUR:"blur",FOCUS_OUT:"focusout"},Ra={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Sme=K.createContext(null),Nme=()=>K.useContext(Sme);var Cme=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Ra.all&&(t._proxyFormState[o]=!n||Ra.all),e[o]}});return i};const Eme=typeof window<"u"?x.useLayoutEffect:x.useEffect;var _o=e=>typeof e=="string",Pme=(e,t,r,n,i)=>_o(e)?(n&&t.watch.add(e),pt(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),pt(r,s))):(n&&(t.watchAll=!0),r),Tme=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Mg=e=>Array.isArray(e)?e:[e],A$=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},ET=e=>ki(e)||!vH(e);function Wc(e,t){if(ET(e)||ET(t))return e===t;if(hd(e)&&hd(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(hd(s)&&hd(o)||hn(s)&&hn(o)||Array.isArray(s)&&Array.isArray(o)?!Wc(s,o):s!==o)return!1}}return!0}var Ki=e=>hn(e)&&!Object.keys(e).length,tR=e=>e.type==="file",Ma=e=>typeof e=="function",Ob=e=>{if(!JO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xH=e=>e.type==="select-multiple",rR=e=>e.type==="radio",Ame=e=>rR(e)||ly(e),RS=e=>Ob(e)&&e.isConnected;function kme(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=bn(e)?n++:e[t[n++]];return e}function Ome(e){for(const t in e)if(e.hasOwnProperty(t)&&!bn(e[t]))return!1;return!0}function On(e,t){const r=Array.isArray(t)?t:eR(t)?[t]:yH(t),n=r.length===1?e:kme(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(hn(n)&&Ki(n)||Array.isArray(n)&&Ome(n))&&On(e,r.slice(0,-1)),e}var bH=e=>{for(const t in e)if(Ma(e[t]))return!0;return!1};function Rb(e,t={}){const r=Array.isArray(e);if(hn(e)||r)for(const n in e)Array.isArray(e[n])||hn(e[n])&&!bH(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Rb(e[n],t[n])):ki(e[n])||(t[n]=!0);return t}function wH(e,t,r){const n=Array.isArray(e);if(hn(e)||n)for(const i in e)Array.isArray(e[i])||hn(e[i])&&!bH(e[i])?bn(t)||ET(r[i])?r[i]=Array.isArray(e[i])?Rb(e[i],[]):{...Rb(e[i])}:wH(e[i],ki(t)?{}:t[i],r[i]):r[i]=!Wc(e[i],t[i]);return r}var Zm=(e,t)=>wH(e,t,Rb(t));const k$={value:!1,isValid:!1},O$={value:!0,isValid:!0};var _H=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bn(e[0].attributes.value)?bn(e[0].value)||e[0].value===""?O$:{value:e[0].value,isValid:!0}:O$:k$}return k$},jH=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>bn(e)?e:t?e===""?NaN:e&&+e:r&&_o(e)?new Date(e):n?n(e):e;const R$={isValid:!1,value:null};var SH=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,R$):R$;function M$(e){const t=e.ref;return tR(t)?t.files:rR(t)?SH(e.refs).value:xH(t)?[...t.selectedOptions].map(({value:r})=>r):ly(t)?_H(e.refs).value:jH(bn(t.value)?e.ref.value:t.value,e)}var Rme=(e,t,r,n)=>{const i={};for(const s of e){const o=pt(t,s);o&&Br(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Mb=e=>e instanceof RegExp,Ym=e=>bn(e)?e:Mb(e)?e.source:hn(e)?Mb(e.value)?e.value.source:e.value:e,I$=e=>({isOnSubmit:!e||e===Ra.onSubmit,isOnBlur:e===Ra.onBlur,isOnChange:e===Ra.onChange,isOnAll:e===Ra.all,isOnTouch:e===Ra.onTouched});const L$="AsyncFunction";var Mme=e=>!!e&&!!e.validate&&!!(Ma(e.validate)&&e.validate.constructor.name===L$||hn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===L$)),Ime=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),D$=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ig=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=pt(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ig(l,t))break}else if(hn(l)&&Ig(l,t))break}}};function $$(e,t,r){const n=pt(e,r);if(n||eR(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=pt(t,s),l=pt(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:r}}var Lme=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Ki(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Ra.all))},Dme=(e,t,r)=>!e||!t||e===t||Mg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),$me=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Fme=(e,t)=>!w_(pt(e,t)).length&&On(e,t),Bme=(e,t,r)=>{const n=Mg(pt(e,r));return Br(n,"root",t[r]),Br(e,r,n),e},eb=e=>_o(e);function F$(e,t,r="validate"){if(eb(e)||Array.isArray(e)&&e.every(eb)||po(e)&&!e)return{type:r,message:eb(e)?e:"",ref:t}}var th=e=>hn(e)&&!Mb(e)?e:{value:e,message:""},B$=async(e,t,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:f,min:p,max:g,pattern:v,validate:w,name:y,valueAsNumber:_,mount:S}=e._f,N=pt(r,y);if(!S||t.has(y))return{};const C=l?l[0]:o,A=V=>{i&&C.reportValidity&&(C.setCustomValidity(po(V)?"":V||""),C.reportValidity())},P={},k=rR(o),O=ly(o),I=k||O,z=(_||tR(o))&&bn(o.value)&&bn(N)||Ob(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,Y=Tme.bind(null,y,n,P),Z=(V,q,U,re=fl.maxLength,ae=fl.minLength)=>{const se=V?q:U;P[y]={type:V?re:ae,message:se,ref:o,...Y(V?re:ae,se)}};if(s?!Array.isArray(N)||!N.length:c&&(!I&&(z||ki(N))||po(N)&&!N||O&&!_H(l).isValid||k&&!SH(l).isValid)){const{value:V,message:q}=eb(c)?{value:!!c,message:c}:th(c);if(V&&(P[y]={type:fl.required,message:q,ref:C,...Y(fl.required,q)},!n))return A(q),P}if(!z&&(!ki(p)||!ki(g))){let V,q;const U=th(g),re=th(p);if(!ki(N)&&!isNaN(N)){const ae=o.valueAsNumber||N&&+N;ki(U.value)||(V=ae>U.value),ki(re.value)||(q=ae<re.value)}else{const ae=o.valueAsDate||new Date(N),se=te=>new Date(new Date().toDateString()+" "+te),X=o.type=="time",Q=o.type=="week";_o(U.value)&&N&&(V=X?se(N)>se(U.value):Q?N>U.value:ae>new Date(U.value)),_o(re.value)&&N&&(q=X?se(N)<se(re.value):Q?N<re.value:ae<new Date(re.value))}if((V||q)&&(Z(!!V,U.message,re.message,fl.max,fl.min),!n))return A(P[y].message),P}if((u||f)&&!z&&(_o(N)||s&&Array.isArray(N))){const V=th(u),q=th(f),U=!ki(V.value)&&N.length>+V.value,re=!ki(q.value)&&N.length<+q.value;if((U||re)&&(Z(U,V.message,q.message),!n))return A(P[y].message),P}if(v&&!z&&_o(N)){const{value:V,message:q}=th(v);if(Mb(V)&&!N.match(V)&&(P[y]={type:fl.pattern,message:q,ref:o,...Y(fl.pattern,q)},!n))return A(q),P}if(w){if(Ma(w)){const V=await w(N,r),q=F$(V,C);if(q&&(P[y]={...q,...Y(fl.validate,q.message)},!n))return A(q.message),P}else if(hn(w)){let V={};for(const q in w){if(!Ki(V)&&!n)break;const U=F$(await w[q](N,r),C,q);U&&(V={...U,...Y(q,U.message)},A(U.message),n&&(P[y]=V))}if(!Ki(V)&&(P[y]={ref:C,...V},!n))return P}}return A(!0),P};const zme={mode:Ra.onSubmit,reValidateMode:Ra.onChange,shouldFocusError:!0};function qme(e={}){let t={...zme,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ma(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=hn(t.defaultValues)||hn(t.values)?mi(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:mi(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const g={array:A$(),state:A$()},v=t.criteriaMode===Ra.all,w=fe=>_e=>{clearTimeout(u),u=setTimeout(fe,_e)},y=async fe=>{if(!t.disabled&&(f.isValid||p.isValid||fe)){const _e=t.resolver?Ki((await O()).errors):await z(n,!0);_e!==r.isValid&&g.state.next({isValid:_e})}},_=(fe,_e)=>{!t.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((fe||Array.from(l.mount)).forEach(ke=>{ke&&(_e?Br(r.validatingFields,ke,_e):On(r.validatingFields,ke))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Ki(r.validatingFields)}))},S=(fe,_e=[],ke,Ze,Xe=!0,me=!0)=>{if(Ze&&ke&&!t.disabled){if(o.action=!0,me&&Array.isArray(pt(n,fe))){const De=ke(pt(n,fe),Ze.argA,Ze.argB);Xe&&Br(n,fe,De)}if(me&&Array.isArray(pt(r.errors,fe))){const De=ke(pt(r.errors,fe),Ze.argA,Ze.argB);Xe&&Br(r.errors,fe,De),Fme(r.errors,fe)}if((f.touchedFields||p.touchedFields)&&me&&Array.isArray(pt(r.touchedFields,fe))){const De=ke(pt(r.touchedFields,fe),Ze.argA,Ze.argB);Xe&&Br(r.touchedFields,fe,De)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Zm(i,s)),g.state.next({name:fe,isDirty:Z(fe,_e),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Br(s,fe,_e)},N=(fe,_e)=>{Br(r.errors,fe,_e),g.state.next({errors:r.errors})},C=fe=>{r.errors=fe,g.state.next({errors:r.errors,isValid:!1})},A=(fe,_e,ke,Ze)=>{const Xe=pt(n,fe);if(Xe){const me=pt(s,fe,bn(ke)?pt(i,fe):ke);bn(me)||Ze&&Ze.defaultChecked||_e?Br(s,fe,_e?me:M$(Xe._f)):U(fe,me),o.mount&&y()}},P=(fe,_e,ke,Ze,Xe)=>{let me=!1,De=!1;const W={name:fe};if(!t.disabled){if(!ke||Ze){(f.isDirty||p.isDirty)&&(De=r.isDirty,r.isDirty=W.isDirty=Z(),me=De!==W.isDirty);const D=Wc(pt(i,fe),_e);De=!!pt(r.dirtyFields,fe),D?On(r.dirtyFields,fe):Br(r.dirtyFields,fe,!0),W.dirtyFields=r.dirtyFields,me=me||(f.dirtyFields||p.dirtyFields)&&De!==!D}if(ke){const D=pt(r.touchedFields,fe);D||(Br(r.touchedFields,fe,ke),W.touchedFields=r.touchedFields,me=me||(f.touchedFields||p.touchedFields)&&D!==ke)}me&&Xe&&g.state.next(W)}return me?W:{}},k=(fe,_e,ke,Ze)=>{const Xe=pt(r.errors,fe),me=(f.isValid||p.isValid)&&po(_e)&&r.isValid!==_e;if(t.delayError&&ke?(c=w(()=>N(fe,ke)),c(t.delayError)):(clearTimeout(u),c=null,ke?Br(r.errors,fe,ke):On(r.errors,fe)),(ke?!Wc(Xe,ke):Xe)||!Ki(Ze)||me){const De={...Ze,...me&&po(_e)?{isValid:_e}:{},errors:r.errors,name:fe};r={...r,...De},g.state.next(De)}},O=async fe=>{_(fe,!0);const _e=await t.resolver(s,t.context,Rme(fe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(fe),_e},I=async fe=>{const{errors:_e}=await O(fe);if(fe)for(const ke of fe){const Ze=pt(_e,ke);Ze?Br(r.errors,ke,Ze):On(r.errors,ke)}else r.errors=_e;return _e},z=async(fe,_e,ke={valid:!0})=>{for(const Ze in fe){const Xe=fe[Ze];if(Xe){const{_f:me,...De}=Xe;if(me){const W=l.array.has(me.name),D=Xe._f&&Mme(Xe._f);D&&f.validatingFields&&_([Ze],!0);const F=await B$(Xe,l.disabled,s,v,t.shouldUseNativeValidation&&!_e,W);if(D&&f.validatingFields&&_([Ze]),F[me.name]&&(ke.valid=!1,_e))break;!_e&&(pt(F,me.name)?W?Bme(r.errors,F,me.name):Br(r.errors,me.name,F[me.name]):On(r.errors,me.name))}!Ki(De)&&await z(De,_e,ke)}}return ke.valid},Y=()=>{for(const fe of l.unMount){const _e=pt(n,fe);_e&&(_e._f.refs?_e._f.refs.every(ke=>!RS(ke)):!RS(_e._f.ref))&&oe(fe)}l.unMount=new Set},Z=(fe,_e)=>!t.disabled&&(fe&&_e&&Br(s,fe,_e),!Wc(te(),i)),V=(fe,_e,ke)=>Pme(fe,l,{...o.mount?s:bn(_e)?i:_o(fe)?{[fe]:_e}:_e},ke,_e),q=fe=>w_(pt(o.mount?s:i,fe,t.shouldUnregister?pt(i,fe,[]):[])),U=(fe,_e,ke={})=>{const Ze=pt(n,fe);let Xe=_e;if(Ze){const me=Ze._f;me&&(!me.disabled&&Br(s,fe,jH(_e,me)),Xe=Ob(me.ref)&&ki(_e)?"":_e,xH(me.ref)?[...me.ref.options].forEach(De=>De.selected=Xe.includes(De.value)):me.refs?ly(me.ref)?me.refs.forEach(De=>{(!De.defaultChecked||!De.disabled)&&(Array.isArray(Xe)?De.checked=!!Xe.find(W=>W===De.value):De.checked=Xe===De.value||!!Xe)}):me.refs.forEach(De=>De.checked=De.value===Xe):tR(me.ref)?me.ref.value="":(me.ref.value=Xe,me.ref.type||g.state.next({name:fe,values:mi(s)})))}(ke.shouldDirty||ke.shouldTouch)&&P(fe,Xe,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&Q(fe)},re=(fe,_e,ke)=>{for(const Ze in _e){if(!_e.hasOwnProperty(Ze))return;const Xe=_e[Ze],me=fe+"."+Ze,De=pt(n,me);(l.array.has(fe)||hn(Xe)||De&&!De._f)&&!hd(Xe)?re(me,Xe,ke):U(me,Xe,ke)}},ae=(fe,_e,ke={})=>{const Ze=pt(n,fe),Xe=l.array.has(fe),me=mi(_e);Br(s,fe,me),Xe?(g.array.next({name:fe,values:mi(s)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&ke.shouldDirty&&g.state.next({name:fe,dirtyFields:Zm(i,s),isDirty:Z(fe,me)})):Ze&&!Ze._f&&!ki(me)?re(fe,me,ke):U(fe,me,ke),D$(fe,l)&&g.state.next({...r}),g.state.next({name:o.mount?fe:void 0,values:mi(s)})},se=async fe=>{o.mount=!0;const _e=fe.target;let ke=_e.name,Ze=!0;const Xe=pt(n,ke),me=D=>{Ze=Number.isNaN(D)||hd(D)&&isNaN(D.getTime())||Wc(D,pt(s,ke,D))},De=I$(t.mode),W=I$(t.reValidateMode);if(Xe){let D,F;const le=_e.type?M$(Xe._f):bme(fe),ye=fe.type===T$.BLUR||fe.type===T$.FOCUS_OUT,Oe=!Ime(Xe._f)&&!t.resolver&&!pt(r.errors,ke)&&!Xe._f.deps||$me(ye,pt(r.touchedFields,ke),r.isSubmitted,W,De),$e=D$(ke,l,ye);Br(s,ke,le),ye?(Xe._f.onBlur&&Xe._f.onBlur(fe),c&&c(0)):Xe._f.onChange&&Xe._f.onChange(fe);const vt=P(ke,le,ye),ar=!Ki(vt)||$e;if(!ye&&g.state.next({name:ke,type:fe.type,values:mi(s)}),Oe)return(f.isValid||p.isValid)&&(t.mode==="onBlur"?ye&&y():ye||y()),ar&&g.state.next({name:ke,...$e?{}:vt});if(!ye&&$e&&g.state.next({...r}),t.resolver){const{errors:Bt}=await O([ke]);if(me(le),Ze){const Yt=$$(r.errors,n,ke),Ut=$$(Bt,n,Yt.name||ke);D=Ut.error,ke=Ut.name,F=Ki(Bt)}}else _([ke],!0),D=(await B$(Xe,l.disabled,s,v,t.shouldUseNativeValidation))[ke],_([ke]),me(le),Ze&&(D?F=!1:(f.isValid||p.isValid)&&(F=await z(n,!0)));Ze&&(Xe._f.deps&&Q(Xe._f.deps),k(ke,F,D,vt))}},X=(fe,_e)=>{if(pt(r.errors,_e)&&fe.focus)return fe.focus(),1},Q=async(fe,_e={})=>{let ke,Ze;const Xe=Mg(fe);if(t.resolver){const me=await I(bn(fe)?fe:Xe);ke=Ki(me),Ze=fe?!Xe.some(De=>pt(me,De)):ke}else fe?(Ze=(await Promise.all(Xe.map(async me=>{const De=pt(n,me);return await z(De&&De._f?{[me]:De}:De)}))).every(Boolean),!(!Ze&&!r.isValid)&&y()):Ze=ke=await z(n);return g.state.next({...!_o(fe)||(f.isValid||p.isValid)&&ke!==r.isValid?{}:{name:fe},...t.resolver||!fe?{isValid:ke}:{},errors:r.errors}),_e.shouldFocus&&!Ze&&Ig(n,X,fe?Xe:l.mount),Ze},te=fe=>{const _e={...o.mount?s:i};return bn(fe)?_e:_o(fe)?pt(_e,fe):fe.map(ke=>pt(_e,ke))},G=(fe,_e)=>({invalid:!!pt((_e||r).errors,fe),isDirty:!!pt((_e||r).dirtyFields,fe),error:pt((_e||r).errors,fe),isValidating:!!pt(r.validatingFields,fe),isTouched:!!pt((_e||r).touchedFields,fe)}),ie=fe=>{fe&&Mg(fe).forEach(_e=>On(r.errors,_e)),g.state.next({errors:fe?r.errors:{}})},xe=(fe,_e,ke)=>{const Ze=(pt(n,fe,{_f:{}})._f||{}).ref,Xe=pt(r.errors,fe)||{},{ref:me,message:De,type:W,...D}=Xe;Br(r.errors,fe,{...D,..._e,ref:Ze}),g.state.next({name:fe,errors:r.errors,isValid:!1}),ke&&ke.shouldFocus&&Ze&&Ze.focus&&Ze.focus()},Ne=(fe,_e)=>Ma(fe)?g.state.subscribe({next:ke=>fe(V(void 0,_e),ke)}):V(fe,_e,!0),Le=fe=>g.state.subscribe({next:_e=>{Dme(fe.name,_e.name,fe.exact)&&Lme(_e,fe.formState||f,Se,fe.reRenderRoot)&&fe.callback({values:{...s},...r,..._e})}}).unsubscribe,ce=fe=>(o.mount=!0,p={...p,...fe.formState},Le({...fe,formState:p})),oe=(fe,_e={})=>{for(const ke of fe?Mg(fe):l.mount)l.mount.delete(ke),l.array.delete(ke),_e.keepValue||(On(n,ke),On(s,ke)),!_e.keepError&&On(r.errors,ke),!_e.keepDirty&&On(r.dirtyFields,ke),!_e.keepTouched&&On(r.touchedFields,ke),!_e.keepIsValidating&&On(r.validatingFields,ke),!t.shouldUnregister&&!_e.keepDefaultValue&&On(i,ke);g.state.next({values:mi(s)}),g.state.next({...r,..._e.keepDirty?{isDirty:Z()}:{}}),!_e.keepIsValid&&y()},ge=({disabled:fe,name:_e})=>{(po(fe)&&o.mount||fe||l.disabled.has(_e))&&(fe?l.disabled.add(_e):l.disabled.delete(_e))},he=(fe,_e={})=>{let ke=pt(n,fe);const Ze=po(_e.disabled)||po(t.disabled);return Br(n,fe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:fe}},name:fe,mount:!0,..._e}}),l.mount.add(fe),ke?ge({disabled:po(_e.disabled)?_e.disabled:t.disabled,name:fe}):A(fe,!0,_e.value),{...Ze?{disabled:_e.disabled||t.disabled}:{},...t.progressive?{required:!!_e.required,min:Ym(_e.min),max:Ym(_e.max),minLength:Ym(_e.minLength),maxLength:Ym(_e.maxLength),pattern:Ym(_e.pattern)}:{},name:fe,onChange:se,onBlur:se,ref:Xe=>{if(Xe){he(fe,_e),ke=pt(n,fe);const me=bn(Xe.value)&&Xe.querySelectorAll&&Xe.querySelectorAll("input,select,textarea")[0]||Xe,De=Ame(me),W=ke._f.refs||[];if(De?W.find(D=>D===me):me===ke._f.ref)return;Br(n,fe,{_f:{...ke._f,...De?{refs:[...W.filter(RS),me,...Array.isArray(pt(i,fe))?[{}]:[]],ref:{type:me.type,name:fe}}:{ref:me}}}),A(fe,!1,void 0,me)}else ke=pt(n,fe,{}),ke._f&&(ke._f.mount=!1),(t.shouldUnregister||_e.shouldUnregister)&&!(_me(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},Pe=()=>t.shouldFocusError&&Ig(n,X,l.mount),J=fe=>{po(fe)&&(g.state.next({disabled:fe}),Ig(n,(_e,ke)=>{const Ze=pt(n,ke);Ze&&(_e.disabled=Ze._f.disabled||fe,Array.isArray(Ze._f.refs)&&Ze._f.refs.forEach(Xe=>{Xe.disabled=Ze._f.disabled||fe}))},0,!1))},H=(fe,_e)=>async ke=>{let Ze;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Xe=mi(s);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:De}=await O();r.errors=me,Xe=De}else await z(n);if(l.disabled.size)for(const me of l.disabled)Br(Xe,me,void 0);if(On(r.errors,"root"),Ki(r.errors)){g.state.next({errors:{}});try{await fe(Xe,ke)}catch(me){Ze=me}}else _e&&await _e({...r.errors},ke),Pe(),setTimeout(Pe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ki(r.errors)&&!Ze,submitCount:r.submitCount+1,errors:r.errors}),Ze)throw Ze},we=(fe,_e={})=>{pt(n,fe)&&(bn(_e.defaultValue)?ae(fe,mi(pt(i,fe))):(ae(fe,_e.defaultValue),Br(i,fe,mi(_e.defaultValue))),_e.keepTouched||On(r.touchedFields,fe),_e.keepDirty||(On(r.dirtyFields,fe),r.isDirty=_e.defaultValue?Z(fe,mi(pt(i,fe))):Z()),_e.keepError||(On(r.errors,fe),f.isValid&&y()),g.state.next({...r}))},be=(fe,_e={})=>{const ke=fe?mi(fe):i,Ze=mi(ke),Xe=Ki(fe),me=Xe?i:Ze;if(_e.keepDefaultValues||(i=ke),!_e.keepValues){if(_e.keepDirtyValues){const De=new Set([...l.mount,...Object.keys(Zm(i,s))]);for(const W of Array.from(De))pt(r.dirtyFields,W)?Br(me,W,pt(s,W)):ae(W,pt(me,W))}else{if(JO&&bn(fe))for(const De of l.mount){const W=pt(n,De);if(W&&W._f){const D=Array.isArray(W._f.refs)?W._f.refs[0]:W._f.ref;if(Ob(D)){const F=D.closest("form");if(F){F.reset();break}}}}for(const De of l.mount)ae(De,pt(me,De))}s=mi(me),g.array.next({values:{...me}}),g.state.next({values:{...me}})}l={mount:_e.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!_e.keepIsValid||!!_e.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:_e.keepSubmitCount?r.submitCount:0,isDirty:Xe?!1:_e.keepDirty?r.isDirty:!!(_e.keepDefaultValues&&!Wc(fe,i)),isSubmitted:_e.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Xe?{}:_e.keepDirtyValues?_e.keepDefaultValues&&s?Zm(i,s):r.dirtyFields:_e.keepDefaultValues&&fe?Zm(i,fe):_e.keepDirty?r.dirtyFields:{},touchedFields:_e.keepTouched?r.touchedFields:{},errors:_e.keepErrors?r.errors:{},isSubmitSuccessful:_e.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(fe,_e)=>be(Ma(fe)?fe(s):fe,_e),qe=(fe,_e={})=>{const ke=pt(n,fe),Ze=ke&&ke._f;if(Ze){const Xe=Ze.refs?Ze.refs[0]:Ze.ref;Xe.focus&&(Xe.focus(),_e.shouldSelect&&Ma(Xe.select)&&Xe.select())}},Se=fe=>{r={...r,...fe}},It={control:{register:he,unregister:oe,getFieldState:G,handleSubmit:H,setError:xe,_subscribe:Le,_runSchema:O,_focusError:Pe,_getWatch:V,_getDirty:Z,_setValid:y,_setFieldArray:S,_setDisabledField:ge,_setErrors:C,_getFieldArray:q,_reset:be,_resetDefaultValues:()=>Ma(t.defaultValues)&&t.defaultValues().then(fe=>{Ve(fe,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:Y,_disableForm:J,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return i},get _names(){return l},set _names(fe){l=fe},get _formState(){return r},get _options(){return t},set _options(fe){t={...t,...fe}}},subscribe:ce,trigger:Q,register:he,handleSubmit:H,watch:Ne,setValue:ae,getValues:te,reset:Ve,resetField:we,clearErrors:ie,unregister:oe,setError:xe,setFocus:qe,getFieldState:G};return{...It,formControl:It}}function cy(e={}){const t=K.useRef(void 0),r=K.useRef(void 0),[n,i]=K.useState({isDirty:!1,isValidating:!1,isLoading:Ma(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ma(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:qme(e),formState:n},e.formControl&&e.defaultValues&&!Ma(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,Eme(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),K.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),K.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),K.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),K.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),K.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),K.useEffect(()=>{e.values&&!Wc(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),K.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=Cme(n,s),t.current}var Ume=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],er=Ume.reduce((e,t)=>{const r=Fh(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nR(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var Vme="Label",NH=x.forwardRef((e,t)=>a.jsx(er.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));NH.displayName=Vme;var CH=NH;const rt=K.forwardRef(({className:e,...t},r)=>a.jsx(CH,{ref:r,className:Ge("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));rt.displayName=CH.displayName;const Wme=()=>{const{login:e}=Zr(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=cy(),s=async o=>{await e(o)};return a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Connexion"}),a.jsx(Hn,{children:"Connectez-vous à votre compte MaxiMarket"})]}),a.jsx(Zt,{children:a.jsxs("form",{onSubmit:r(s),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ou,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Td,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...t("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),n.password&&a.jsx("p",{className:"text-sm text-destructive",children:n.password.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion en cours..."]}):"Se connecter"})]})}),a.jsxs(Xg,{className:"flex flex-col space-y-2",children:[a.jsx(ir,{to:"/mot-de-passe-oublie",className:"text-sm text-primary hover:underline",children:"Mot de passe oublié ?"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",a.jsx(ir,{to:"/inscription",className:"text-primary hover:underline",children:"S'inscrire"})]})]})]})})},Hme=()=>{const{user:e,loading:t}=Zr(),r=Dn(),n=ji();return x.useEffect(()=>{if(!t&&e){const i=n.state?.from||(e.role==="admin"?"/admin":"/");r(i,{replace:!0})}},[e,t,r,n]),t||e?null:a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(Wme,{})})},Kme=()=>{const{register:e}=Zr(),{register:t,handleSubmit:r,watch:n,formState:{errors:i,isSubmitting:s}}=cy(),[o,l]=x.useState({shown:!1,email:""}),[c,u]=x.useState(!1),[f,p]=x.useState(null),g=async w=>{const y=await e(w);y&&y.needsConfirmation&&l({shown:!0,email:w.email})},v=n("password");return o.shown?a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cue,{className:"h-5 w-5 text-green-600"}),a.jsx(vr,{children:"Inscription réussie"})]}),a.jsx(Hn,{children:"Vérifiez votre email pour confirmer votre compte."})]}),a.jsxs(Zt,{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nous avons envoyé un lien de confirmation à:",a.jsx("div",{className:"mt-1 font-medium text-foreground",children:o.email})]}),f&&a.jsx("div",{className:"text-sm",children:f}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{type:"button",onClick:async()=>{try{u(!0),p(null);const{error:w}=await Ce.auth.resend({type:"signup",email:o.email,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(w)throw w;p("Un nouvel email de confirmation a été envoyé.")}catch(w){p(w.message||"Impossible d'envoyer l'email de confirmation.")}finally{u(!1)}},disabled:c,className:"inline-flex items-center",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xue,{className:"mr-2 h-4 w-4"}),"Renvoyer l'email"]})}),a.jsx(ue,{type:"button",variant:"outline",onClick:()=>l({shown:!1,email:""}),children:"Utiliser une autre adresse"})]})]}),a.jsxs(Xg,{className:"flex flex-col items-start gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Déjà confirmé ?"}),a.jsx(ir,{to:"/connexion",className:"text-primary hover:underline text-sm",children:"Se connecter"})]})]})}):a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Inscription"}),a.jsx(Hn,{children:"Créez votre compte MaxiMarket"})]}),a.jsx(Zt,{children:a.jsxs("form",{onSubmit:r(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",type:"text",placeholder:"John",className:"pl-10",...t("firstName",{required:"Le prénom est requis",minLength:{value:2,message:"Le prénom doit contenir au moins 2 caractères"}})})]}),i.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:i.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",type:"text",placeholder:"Doe",className:"pl-10",...t("lastName",{required:"Le nom est requis",minLength:{value:2,message:"Le nom doit contenir au moins 2 caractères"}})})]}),i.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:i.lastName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ou,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),i.email&&a.jsx("p",{className:"text-sm text-destructive",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Da,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",placeholder:"+221 77 123 45 67",className:"pl-10",...t("phoneNumber",{required:"Le numéro de téléphone est requis",pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),i.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:i.phoneNumber.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Td,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...t("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),i.password&&a.jsx("p",{className:"text-sm text-destructive",children:i.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Td,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",placeholder:"••••••••",className:"pl-10",...t("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:w=>w===v||"Les mots de passe ne correspondent pas"})})]}),i.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:i.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription en cours..."]}):"S'inscrire"})]})}),a.jsx(Xg,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",a.jsx(ir,{to:"/connexion",className:"text-primary hover:underline",children:"Se connecter"})]})})]})})},Gme=()=>a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(Kme,{})}),Zme=()=>{const{toast:e}=Sn(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=cy(),s=async o=>{try{e({title:"Email envoyé",description:"Si un compte existe avec cet email, vous recevrez les instructions de réinitialisation."})}catch(l){e({title:"Erreur",description:l.message,variant:"destructive"})}};return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Mot de passe oublié"}),a.jsx(Hn,{children:"Entrez votre adresse email pour recevoir les instructions de réinitialisation"})]}),a.jsx(Zt,{children:a.jsxs("form",{onSubmit:r(s),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ou,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer les instructions"})]})}),a.jsx(Xg,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Retour à la"," ",a.jsx(ir,{to:"/connexion",className:"text-primary hover:underline",children:"page de connexion"})]})})]})})})},Yme=()=>{const{toast:e}=Sn(),t=Dn(),[r]=qk(),n=r.get("token"),{register:i,handleSubmit:s,watch:o,formState:{errors:l,isSubmitting:c}}=cy(),u=o("password"),f=async p=>{try{if(!n)throw new Error("Token de réinitialisation manquant");e({title:"Mot de passe réinitialisé",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),t("/connexion")}catch(g){e({title:"Erreur",description:g.message,variant:"destructive"})}};return n?a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Réinitialisation du mot de passe"}),a.jsx(Hn,{children:"Choisissez votre nouveau mot de passe"})]}),a.jsx(Zt,{children:a.jsxs("form",{onSubmit:s(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Td,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",className:"pl-10",...i("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),l.password&&a.jsx("p",{className:"text-sm text-destructive",children:l.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Td,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",className:"pl-10",...i("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:p=>p===u||"Les mots de passe ne correspondent pas"})})]}),l.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:l.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-4 w-4 animate-spin"}),"Réinitialisation en cours..."]}):"Réinitialiser le mot de passe"})]})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Wt,{children:a.jsxs(gr,{children:[a.jsx(vr,{className:"text-destructive",children:"Lien invalide"}),a.jsx(Hn,{children:"Le lien de réinitialisation est invalide ou a expiré. Veuillez faire une nouvelle demande de réinitialisation."})]})})})},Xme=(e="dashboard")=>{const[t,r]=qk(),[n,i]=x.useState(e);return x.useEffect(()=>{const o=t.get("tab");o&&i(o)},[t]),{activeTab:n,handleTabChange:o=>{i(o),r({tab:o})},setActiveTab:i}},p0=({title:e,value:t,icon:r,trend:n,trendValue:i,color:s="blue",className:o})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600",pink:"from-pink-500 to-pink-600"},c={blue:"text-blue-200",green:"text-green-200",purple:"text-purple-200",orange:"text-orange-200",red:"text-red-200",teal:"text-teal-200",indigo:"text-indigo-200",pink:"text-pink-200"};return a.jsx(Wt,{className:Ge(`bg-gradient-to-br ${l[s]} text-white overflow-hidden`,o),children:a.jsx(Zt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm opacity-90 mb-1",children:e}),a.jsx("p",{className:"text-2xl font-bold",children:t}),n&&a.jsx("div",{className:"flex items-center mt-2",children:a.jsxs(xt,{variant:"secondary",className:Ge("text-xs bg-white/20 text-white border-0",n==="up"?"text-green-200":"text-red-200"),children:[n==="up"?"↗":"↘"," ",i]})})]}),r&&a.jsx("div",{className:Ge("p-3 rounded-full bg-white/10",c[s]),children:a.jsx(r,{className:"h-6 w-6"})})]})})})},Qme=(e={})=>{const{threshold:t=.1,rootMargin:r="50px",root:n=null,triggerOnce:i=!1}=e,[s,o]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),f=x.useCallback(p=>{const[g]=p;g.isIntersecting?(o(!0),i&&!l&&c(!0)):i||o(!1)},[i,l]);return x.useEffect(()=>{const p=u.current;if(!p)return;const g=new IntersectionObserver(f,{threshold:t,rootMargin:r,root:n});return g.observe(p),()=>{g.unobserve(p),g.disconnect()}},[f,t,r,n]),[u,s]},EH=(e={})=>{const{threshold:t=.1,rootMargin:r="100px",placeholder:n=null,onLoad:i=null,onError:s=null}=e,[o,l]=x.useState({src:null,isLoading:!1,hasLoaded:!1,hasError:!1}),[c,u]=Qme({threshold:t,rootMargin:r,triggerOnce:!0}),f=x.useCallback(g=>{if(!g||o.src===g)return;l(w=>({...w,src:g,isLoading:!0,hasLoaded:!1,hasError:!1}));const v=new Image;v.onload=()=>{l(w=>({...w,isLoading:!1,hasLoaded:!0})),i?.(g)},v.onerror=()=>{l(w=>({...w,isLoading:!1,hasError:!0})),s?.(g)},v.src=g},[o.src,i,s]);x.useEffect(()=>{u&&o.src&&f(o.src)},[u,o.src,f]);const p=x.useCallback(g=>{g!==o.src&&l(v=>({...v,src:g}))},[o.src]);return{elementRef:c,isIntersecting:u,imageState:o,setImageSrc:p,loadImage:f}},z$={thumbnail:{width:150,height:150},card:{width:400,height:300},gallery:{width:800,height:600},fullscreen:{width:1200,height:900},hero:{width:1920,height:1080}},q$={low:60,medium:80,high:95},iR=(e,t="gallery",r="medium")=>{if(!e)return e;const n=z$[t]||z$.gallery,i=q$[r]||q$.medium;if(e.includes("unsplash.com"))return`${e}?w=${n.width}&h=${n.height}&fit=crop&q=${i}&auto=format&fm=webp`;if(e.includes("cloudinary.com"))return e.replace("/upload/",`/upload/w_${n.width},h_${n.height},c_fill,q_${i},f_auto/`);if(e.includes("imagekit.io"))return`${e}?tr=w-${n.width},h-${n.height},c-at_max,q-${i}`;if(e.includes("cdn.")||e.includes("static.")){const s=e.includes("?")?"&":"?";return`${e}${s}w=${n.width}&h=${n.height}&q=${i}`}return e},Jme=(e,t="gallery",r="medium")=>Array.isArray(e)?e.map(n=>iR(n,t,r)):[],ege=({src:e,alt:t,className:r="",placeholder:n=null,context:i="gallery",quality:s="medium",onLoad:o=null,onError:l=null,showSkeleton:c=!0,...u})=>{const[f,p]=x.useState(!1),[g,v]=x.useState(!1),w=I=>I?typeof I=="string"?I:I?.url?I.url:I?.file?URL.createObjectURL(I.file):I?.src?I.src:I?.displayUrl?I.displayUrl:null:null,y=x.useMemo(()=>{const I=w(e);return I?iR(I,i,s):null},[e,i,s]),{elementRef:_,isIntersecting:S,imageState:N,setImageSrc:C}=EH({threshold:.1,rootMargin:"100px",onLoad:I=>{v(!0),o?.(I)},onError:I=>{p(!0),l?.(I)}});K.useEffect(()=>{S&&y&&C(y)},[S,y,C]);const A=x.useCallback(I=>{u.onClick&&u.onClick(I)},[u.onClick]),P=()=>a.jsx("div",{className:"animate-pulse bg-muted rounded-lg",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-muted via-muted/50 to-muted"})}),k=()=>a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Image non disponible"})]})});if(!e)return a.jsx("div",{className:r,children:a.jsx(k,{})});const O=w(e)!==null;return a.jsxs("div",{ref:_,className:`relative overflow-hidden ${r}`,children:[c&&!g&&!f&&O&&a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx(P,{})})}),n&&!g&&!f&&O&&a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx("img",{src:n,alt:"Placeholder",className:"w-full h-full object-cover"})})}),a.jsx(si,{children:!f&&O&&a.jsx(Re.img,{src:N.src||w(e),alt:t,className:`w-full h-full object-cover transition-opacity duration-300 ${g?"opacity-100":"opacity-0"}`,onLoad:()=>{(N.src||w(e))&&(v(!0),o?.(N.src||w(e)))},onError:()=>{p(!0),l?.(N.src||w(e))},onClick:A,loading:"lazy",...u})}),f&&a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"absolute inset-0 z-20",children:a.jsx(k,{})})}),N.isLoading&&!g&&!f&&O&&a.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/10",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),!O&&a.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Format d'image non supporté"})]})})]})},PT=K.memo(ege),PH=K.memo(({images:e=[],title:t="Galerie d'images",className:r=""})=>{const[n,i]=x.useState(0),[s,o]=x.useState(!1),l=v=>v?typeof v=="string"?v:v?.url?v.url:v?.file?URL.createObjectURL(v.file):v?.src?v.src:v?.displayUrl?v.displayUrl:null:null,c=e.filter(v=>l(v)!==null);x.useEffect(()=>{if(!s||c.length<=1)return;const v=setInterval(()=>{i(w=>(w+1)%c.length)},3e3);return()=>clearInterval(v)},[s,c.length]);const u=()=>{c.length>0&&i(v=>(v+1)%c.length)},f=()=>{c.length>0&&i(v=>(v-1+c.length)%c.length)},p=v=>{v>=0&&v<c.length&&i(v)};if(!c||c.length===0)return a.jsx("div",{className:`relative bg-muted flex items-center justify-center ${r}`,children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{className:"text-xs sm:text-sm",children:"Aucune image"})})});const g=c[n];return a.jsxs("div",{className:`relative bg-muted overflow-hidden group ${r}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(si,{mode:"wait",children:a.jsx(Re.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full h-full",children:a.jsx(PT,{src:g,alt:`${t} - Image ${n+1}`,className:"w-full h-full object-cover",context:"card",quality:"medium",showSkeleton:!0})},n)}),c.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),f()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image précédente",children:a.jsx(Ua,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("button",{onClick:v=>{v.stopPropagation(),u()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image suivante",children:a.jsx(Va,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),c.length>1&&a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 sm:gap-1.5",children:c.map((v,w)=>a.jsx("button",{onClick:y=>{y.stopPropagation(),p(w)},className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full transition-all duration-200 ${w===n?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${w+1}`},w))})]})}),U$=({listing:e,onEdit:t,onDelete:r,onRefresh:n,onBoost:i,showActions:s=!0})=>{const o=u=>{switch(u){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=u=>{switch(u){case"active":return"Active";case"pending":return"En attente";case"expired":return"Expirée";case"draft":return"Brouillon";default:return u}},c=u=>{let f="";if(typeof u=="string")f=u;else if(u&&typeof u=="object"&&u.name)f=u.name;else return"📦";switch(f.toLowerCase()){case"immobilier":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📦"}};return a.jsxs(Wt,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx(PH,{images:e.images||[e.image],title:e.title,className:"h-48"}),a.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[a.jsx(xt,{variant:"secondary",className:Ge("text-xs font-medium",o(e.status)),children:l(e.status)}),e.featured&&a.jsx(xt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200 text-xs",children:"⭐ Premium"})]}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"text-2xl",children:c(e.category)})})]}),a.jsx(Zt,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2",children:e.title}),a.jsx("p",{className:"text-primary font-bold text-lg",children:e.price})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Co,{className:"h-3 w-3 mr-1"}),e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:e.location?.city||e.location?.country||"Localisation non spécifiée"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 mr-1"}),e.createdAt||e.created_at?new Date(e.createdAt||e.created_at).toLocaleDateString("fr-FR"):"Date inconnue"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Rl,{className:"h-4 w-4 mr-1"}),e.views||e.views_count||0," vues"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(za,{className:"h-4 w-4 mr-1"}),e.contacts||e.contacts_count||0," contacts"]})]}),e.boosted&&a.jsxs(xt,{variant:"outline",className:"text-xs",children:[a.jsx(wo,{className:"h-3 w-3 mr-1"}),"Boosté"]})]}),s&&a.jsxs("div",{className:"flex space-x-2 pt-2 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>t?.(e),children:[a.jsx($O,{className:"h-4 w-4 mr-1"}),"Modifier"]}),e.status==="active"&&a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(e),className:"flex-1",children:[a.jsx(wo,{className:"h-4 w-4 mr-1"}),"Booster"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>n?.(e),children:a.jsx(Ud,{className:"h-4 w-4"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(e),className:"text-red-600 hover:text-red-700",children:a.jsx(Ro,{className:"h-4 w-4"})})]})]})})]})};function TT(e){const t=tge(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(nge);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function tge(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=sge(i),l=ige(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rge=Symbol("radix.slottable");function nge(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rge}function ige(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function sge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function age(e){const t=e+"CollectionProvider",[r,n]=Ar(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=K.useRef(null),C=K.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=TT(l),u=K.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=TT(f),v=K.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=K.useRef(null),P=at(_,A),k=s(f,S);return K.useEffect(()=>(k.itemMap.set(A,{ref:A,...C}),()=>void k.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:P,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return K.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((k,O)=>C.indexOf(k.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}var oge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],TH=oge.reduce((e,t)=>{const r=TT(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lge(e){const t=cge(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(dge);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function cge(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=hge(i),l=fge(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uge=Symbol("radix.slottable");function dge(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uge}function fge(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function hge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sR=pge.reduce((e,t)=>{const r=lge(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),__="Collapsible",[mge,AH]=Ar(__),[gge,aR]=mge(__),kH=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=e,[c,u]=ts({prop:n,defaultProp:i??!1,onChange:o,caller:__});return a.jsx(gge,{scope:r,disabled:s,contentId:Ji(),open:c,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),children:a.jsx(sR.div,{"data-state":lR(c),"data-disabled":s?"":void 0,...l,ref:t})})});kH.displayName=__;var OH="CollapsibleTrigger",RH=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=aR(OH,r);return a.jsx(sR.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":lR(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Ue(e.onClick,i.onOpenToggle)})});RH.displayName=OH;var oR="CollapsibleContent",MH=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=aR(oR,e.__scopeCollapsible);return a.jsx(rs,{present:r||i.open,children:({present:s})=>a.jsx(vge,{...n,ref:t,present:s})})});MH.displayName=oR;var vge=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=e,o=aR(oR,r),[l,c]=x.useState(n),u=x.useRef(null),f=at(t,u),p=x.useRef(0),g=p.current,v=x.useRef(0),w=v.current,y=o.open||l,_=x.useRef(y),S=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(N)},[]),sr(()=>{const N=u.current;if(N){S.current=S.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const C=N.getBoundingClientRect();p.current=C.height,v.current=C.width,_.current||(N.style.transitionDuration=S.current.transitionDuration,N.style.animationName=S.current.animationName),c(n)}},[o.open,n]),a.jsx(sR.div,{"data-state":lR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&i})});function lR(e){return e?"open":"closed"}var yge=kH,xge=RH,bge=MH,Xa="Accordion",wge=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[cR,_ge,jge]=age(Xa),[j_,qze]=Ar(Xa,[jge,AH]),uR=AH(),IH=K.forwardRef((e,t)=>{const{type:r,...n}=e,i=n,s=n;return a.jsx(cR.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(Ege,{...s,ref:t}):a.jsx(Cge,{...i,ref:t})})});IH.displayName=Xa;var[LH,Sge]=j_(Xa),[DH,Nge]=j_(Xa,{collapsible:!1}),Cge=K.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=e,[l,c]=ts({prop:r,defaultProp:n??"",onChange:i,caller:Xa});return a.jsx(LH,{scope:e.__scopeAccordion,value:K.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:K.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(DH,{scope:e.__scopeAccordion,collapsible:s,children:a.jsx($H,{...o,ref:t})})})}),Ege=K.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=e,[o,l]=ts({prop:r,defaultProp:n??[],onChange:i,caller:Xa}),c=K.useCallback(f=>l((p=[])=>[...p,f]),[l]),u=K.useCallback(f=>l((p=[])=>p.filter(g=>g!==f)),[l]);return a.jsx(LH,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(DH,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx($H,{...s,ref:t})})})}),[Pge,S_]=j_(Xa),$H=K.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=e,l=K.useRef(null),c=at(l,t),u=_ge(r),p=Ep(i)==="ltr",g=Ue(e.onKeyDown,v=>{if(!wge.includes(v.key))return;const w=v.target,y=u().filter(I=>!I.ref.current?.disabled),_=y.findIndex(I=>I.ref.current===w),S=y.length;if(_===-1)return;v.preventDefault();let N=_;const C=0,A=S-1,P=()=>{N=_+1,N>A&&(N=C)},k=()=>{N=_-1,N<C&&(N=A)};switch(v.key){case"Home":N=C;break;case"End":N=A;break;case"ArrowRight":s==="horizontal"&&(p?P():k());break;case"ArrowDown":s==="vertical"&&P();break;case"ArrowLeft":s==="horizontal"&&(p?k():P());break;case"ArrowUp":s==="vertical"&&k();break}const O=N%S;y[O].ref.current?.focus()});return a.jsx(Pge,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(cR.Slot,{scope:r,children:a.jsx(TH.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:g})})})}),Ib="AccordionItem",[Tge,dR]=j_(Ib),FH=K.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...i}=e,s=S_(Ib,r),o=Sge(Ib,r),l=uR(r),c=Ji(),u=n&&o.value.includes(n)||!1,f=s.disabled||e.disabled;return a.jsx(Tge,{scope:r,open:u,disabled:f,triggerId:c,children:a.jsx(yge,{"data-orientation":s.orientation,"data-state":WH(u),...l,...i,ref:t,disabled:f,open:u,onOpenChange:p=>{p?o.onItemOpen(n):o.onItemClose(n)}})})});FH.displayName=Ib;var BH="AccordionHeader",zH=K.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=S_(Xa,r),s=dR(BH,r);return a.jsx(TH.h3,{"data-orientation":i.orientation,"data-state":WH(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});zH.displayName=BH;var AT="AccordionTrigger",qH=K.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=S_(Xa,r),s=dR(AT,r),o=Nge(AT,r),l=uR(r);return a.jsx(cR.ItemSlot,{scope:r,children:a.jsx(xge,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...n,ref:t})})});qH.displayName=AT;var UH="AccordionContent",VH=K.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=S_(Xa,r),s=dR(UH,r),o=uR(r);return a.jsx(bge,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});VH.displayName=UH;function WH(e){return e?"open":"closed"}var Age=IH,kge=FH,Oge=zH,HH=qH,KH=VH;const Rge=Age,GH=K.forwardRef(({className:e,...t},r)=>a.jsx(kge,{ref:r,className:Ge("border-b border-border",e),...t}));GH.displayName="AccordionItem";const ZH=K.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Oge,{className:"flex",children:a.jsxs(HH,{ref:n,className:Ge("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline text-foreground [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Sl,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));ZH.displayName=HH.displayName;const YH=K.forwardRef(({className:e,children:t,...r},n)=>a.jsx(KH,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:Ge("pb-4 pt-0 text-muted-foreground",e),children:t})}));YH.displayName=KH.displayName;function uy(e,t=globalThis?.document){const r=ur(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Mge="DismissableLayer",kT="dismissableLayer.update",Ige="dismissableLayer.pointerDownOutside",Lge="dismissableLayer.focusOutside",V$,XH=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),N_=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(XH),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,P=$ge(O=>{const I=O.target,z=[...u.branches].some(Y=>Y.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=Fge(O=>{const I=O.target;[...u.branches].some(Y=>Y.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return uy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(V$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),W$(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=V$)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),W$())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(kT,O),()=>document.removeEventListener(kT,O)},[]),a.jsx(er.div,{...c,ref:w,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,P.onPointerDownCapture)})});N_.displayName=Mge;var Dge="DismissableLayerBranch",QH=x.forwardRef((e,t)=>{const r=x.useContext(XH),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(er.div,{...e,ref:i})});QH.displayName=Dge;function $ge(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){JH(Ige,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Fge(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&JH(Lge,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function W$(){const e=new CustomEvent(kT);document.dispatchEvent(e)}function JH(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?nR(i,s):i.dispatchEvent(s)}var Bge=N_,zge=QH,MS="focusScope.autoFocusOnMount",IS="focusScope.autoFocusOnUnmount",H$={bubbles:!1,cancelable:!0},qge="FocusScope",fR=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=ur(i),f=ur(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?p.current=A:Lc(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||Lc(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&Lc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){G$.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(MS,H$);l.addEventListener(MS,u),l.dispatchEvent(S),S.defaultPrevented||(Uge(Gge(e7(l)),{select:!0}),document.activeElement===y&&Lc(l))}return()=>{l.removeEventListener(MS,u),setTimeout(()=>{const S=new CustomEvent(IS,H$);l.addEventListener(IS,f),l.dispatchEvent(S),S.defaultPrevented||Lc(y??document.body,{select:!0}),l.removeEventListener(IS,f),G$.remove(v)},0)}}},[l,u,f,v]);const w=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,A]=Vge(N);C&&A?!y.shiftKey&&S===A?(y.preventDefault(),r&&Lc(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&Lc(A,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(er.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});fR.displayName=qge;function Uge(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Lc(n,{select:t}),document.activeElement!==r)return}function Vge(e){const t=e7(e),r=K$(t,e),n=K$(t.reverse(),e);return[r,n]}function e7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function K$(e,t){for(const r of e)if(!Wge(r,{upTo:t}))return r}function Wge(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Hge(e){return e instanceof HTMLInputElement&&"select"in e}function Lc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Hge(e)&&t&&e.select()}}var G$=Kge();function Kge(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Z$(e,t),e.unshift(t)},remove(t){e=Z$(e,t),e[0]?.resume()}}}function Z$(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Gge(e){return e.filter(t=>t.tagName!=="A")}var Zge="Portal",C_=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);sr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?Qw.createPortal(a.jsx(er.div,{...n,ref:t}),o):null});C_.displayName=Zge;var LS=0;function hR(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Y$()),document.body.insertAdjacentElement("beforeend",e[1]??Y$()),LS++,()=>{LS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),LS--}},[])}function Y$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var go=function(){return go=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},go.apply(this,arguments)};function t7(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Yge(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var tb="right-scroll-bar-position",rb="width-before-scroll-bar",Xge="with-scroll-bars-hidden",Qge="--removed-body-scroll-bar-size";function DS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Jge(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var eve=typeof window<"u"?x.useLayoutEffect:x.useEffect,X$=new WeakMap;function tve(e,t){var r=Jge(null,function(n){return e.forEach(function(i){return DS(i,n)})});return eve(function(){var n=X$.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(l){s.has(l)||DS(l,null)}),s.forEach(function(l){i.has(l)||DS(l,o)})}X$.set(r,e)},[e]),r}function rve(e){return e}function nve(e,t){t===void 0&&(t=rve);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return i}function ive(e){e===void 0&&(e={});var t=nve(null);return t.options=go({async:!0,ssr:!1},e),t}var r7=function(e){var t=e.sideCar,r=t7(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,go({},r))};r7.isSideCarExport=!0;function sve(e,t){return e.useMedium(t),r7}var n7=ive(),$S=function(){},E_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:$S,onWheelCapture:$S,onTouchMoveCapture:$S}),i=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,v=e.noIsolation,w=e.inert,y=e.allowPinchZoom,_=e.as,S=_===void 0?"div":_,N=e.gapMode,C=t7(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,P=tve([r,t]),k=go(go({},C),i);return x.createElement(x.Fragment,null,f&&x.createElement(A,{sideCar:n7,removeScrollBar:u,shards:p,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:N}),o?x.cloneElement(x.Children.only(l),go(go({},k),{ref:P})):x.createElement(S,go({},k,{className:c,ref:P}),l))});E_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};E_.classNames={fullWidth:rb,zeroRight:tb};var ave=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ove(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ave();return t&&e.setAttribute("nonce",t),e}function lve(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cve(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uve=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ove())&&(lve(t,r),cve(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dve=function(){var e=uve();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},i7=function(){var e=dve(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},fve={left:0,top:0,right:0,gap:0},FS=function(e){return parseInt(e||"",10)||0},hve=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[FS(r),FS(n),FS(i)]},pve=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fve;var t=hve(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},mve=i7(),Ch="data-scroll-locked",gve=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Xge,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ch,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tb,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tb," .").concat(tb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rb," .").concat(rb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ch,`] {
    `).concat(Qge,": ").concat(l,`px;
  }
`)},Q$=function(){var e=parseInt(document.body.getAttribute(Ch)||"0",10);return isFinite(e)?e:0},vve=function(){x.useEffect(function(){return document.body.setAttribute(Ch,(Q$()+1).toString()),function(){var e=Q$()-1;e<=0?document.body.removeAttribute(Ch):document.body.setAttribute(Ch,e.toString())}},[])},yve=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;vve();var s=x.useMemo(function(){return pve(i)},[i]);return x.createElement(mve,{styles:gve(s,!t,i,r?"":"!important")})},OT=!1;if(typeof window<"u")try{var m0=Object.defineProperty({},"passive",{get:function(){return OT=!0,!0}});window.addEventListener("test",m0,m0),window.removeEventListener("test",m0,m0)}catch{OT=!1}var rh=OT?{passive:!1}:!1,xve=function(e){return e.tagName==="TEXTAREA"},s7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xve(e)&&r[t]==="visible")},bve=function(e){return s7(e,"overflowY")},wve=function(e){return s7(e,"overflowX")},J$=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=a7(e,n);if(i){var s=o7(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_ve=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jve=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},a7=function(e,t){return e==="v"?bve(t):wve(t)},o7=function(e,t){return e==="v"?_ve(t):jve(t)},Sve=function(e,t){return e==="h"&&t==="rtl"?-1:1},Nve=function(e,t,r,n,i){var s=Sve(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,f=o>0,p=0,g=0;do{var v=o7(e,l),w=v[0],y=v[1],_=v[2],S=y-_-s*w;(w||S)&&a7(e,l)&&(p+=S,g+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},g0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eF=function(e){return[e.deltaX,e.deltaY]},tF=function(e){return e&&"current"in e?e.current:e},Cve=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Eve=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Pve=0,nh=[];function Tve(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(Pve++)[0],s=x.useState(i7)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Yge([e.lockRef.current],(e.shards||[]).map(tF),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=g0(y),N=r.current,C="deltaX"in y?y.deltaX:N[0]-S[0],A="deltaY"in y?y.deltaY:N[1]-S[1],P,k=y.target,O=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in y&&O==="h"&&k.type==="range")return!1;var I=J$(O,k);if(!I)return!0;if(I?P=O:(P=O==="v"?"h":"v",I=J$(O,k)),!I)return!1;if(!n.current&&"changedTouches"in y&&(C||A)&&(n.current=P),!P)return!0;var z=n.current||P;return Nve(z,_,y,z==="h"?C:A)},[]),c=x.useCallback(function(y){var _=y;if(!(!nh.length||nh[nh.length-1]!==s)){var S="deltaY"in _?eF(_):g0(_),N=t.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&Cve(P.delta,S)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(tF).filter(Boolean).filter(function(P){return P.contains(_.target)}),A=C.length>0?l(_,C[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=x.useCallback(function(y,_,S,N){var C={name:y,delta:_,target:S,should:N,shadowParent:Ave(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(A){return A!==C})},1)},[]),f=x.useCallback(function(y){r.current=g0(y),n.current=void 0},[]),p=x.useCallback(function(y){u(y.type,eF(y),y.target,l(y,e.lockRef.current))},[]),g=x.useCallback(function(y){u(y.type,g0(y),y.target,l(y,e.lockRef.current))},[]);x.useEffect(function(){return nh.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,rh),document.addEventListener("touchmove",c,rh),document.addEventListener("touchstart",f,rh),function(){nh=nh.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,rh),document.removeEventListener("touchmove",c,rh),document.removeEventListener("touchstart",f,rh)}},[]);var v=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(s,{styles:Eve(i)}):null,v?x.createElement(yve,{gapMode:e.gapMode}):null)}function Ave(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kve=sve(n7,Tve);var dy=x.forwardRef(function(e,t){return x.createElement(E_,go({},e,{ref:t,sideCar:kve}))});dy.classNames=E_.classNames;var Ove=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ih=new WeakMap,v0=new WeakMap,y0={},BS=0,l7=function(e){return e&&(e.host||l7(e.parentNode))},Rve=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=l7(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Mve=function(e,t,r,n){var i=Rve(t,Array.isArray(e)?e:[e]);y0[r]||(y0[r]=new WeakMap);var s=y0[r],o=[],l=new Set,c=new Set(i),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var v=g.getAttribute(n),w=v!==null&&v!=="false",y=(ih.get(g)||0)+1,_=(s.get(g)||0)+1;ih.set(g,y),s.set(g,_),o.push(g),y===1&&w&&v0.set(g,!0),_===1&&g.setAttribute(r,"true"),w||g.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return f(t),l.clear(),BS++,function(){o.forEach(function(p){var g=ih.get(p)-1,v=s.get(p)-1;ih.set(p,g),s.set(p,v),g||(v0.has(p)||p.removeAttribute(n),v0.delete(p)),v||p.removeAttribute(r)}),BS--,BS||(ih=new WeakMap,ih=new WeakMap,v0=new WeakMap,y0={})}},P_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Ove(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Mve(n,i,r,"aria-hidden")):function(){return null}},T_="Dialog",[c7,u7]=Ar(T_),[Ive,Qa]=c7(T_),d7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,f]=ts({prop:n,defaultProp:i??!1,onChange:s,caller:T_});return a.jsx(Ive,{scope:t,triggerRef:l,contentRef:c,contentId:Ji(),titleId:Ji(),descriptionId:Ji(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};d7.displayName=T_;var f7="DialogTrigger",h7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(f7,r),s=at(t,i.triggerRef);return a.jsx(er.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gR(i.open),...n,ref:s,onClick:Ue(e.onClick,i.onOpenToggle)})});h7.displayName=f7;var pR="DialogPortal",[Lve,p7]=c7(pR,{forceMount:void 0}),m7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Qa(pR,t);return a.jsx(Lve,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(rs,{present:r||s.open,children:a.jsx(C_,{asChild:!0,container:i,children:o})}))})};m7.displayName=pR;var Lb="DialogOverlay",g7=x.forwardRef((e,t)=>{const r=p7(Lb,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Qa(Lb,e.__scopeDialog);return s.modal?a.jsx(rs,{present:n||s.open,children:a.jsx($ve,{...i,ref:t})}):null});g7.displayName=Lb;var Dve=Fh("DialogOverlay.RemoveScroll"),$ve=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(Lb,r);return a.jsx(dy,{as:Dve,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(er.div,{"data-state":gR(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ad="DialogContent",v7=x.forwardRef((e,t)=>{const r=p7(Ad,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Qa(Ad,e.__scopeDialog);return a.jsx(rs,{present:n||s.open,children:s.modal?a.jsx(Fve,{...i,ref:t}):a.jsx(Bve,{...i,ref:t})})});v7.displayName=Ad;var Fve=x.forwardRef((e,t)=>{const r=Qa(Ad,e.__scopeDialog),n=x.useRef(null),i=at(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return P_(s)},[]),a.jsx(y7,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault())})}),Bve=x.forwardRef((e,t)=>{const r=Qa(Ad,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(y7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),y7=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,l=Qa(Ad,r),c=x.useRef(null),u=at(t,c);return hR(),a.jsxs(a.Fragment,{children:[a.jsx(fR,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(N_,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(qve,{titleId:l.titleId}),a.jsx(Vve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mR="DialogTitle",x7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(mR,r);return a.jsx(er.h2,{id:i.titleId,...n,ref:t})});x7.displayName=mR;var b7="DialogDescription",w7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(b7,r);return a.jsx(er.p,{id:i.descriptionId,...n,ref:t})});w7.displayName=b7;var _7="DialogClose",j7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(_7,r);return a.jsx(er.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,()=>i.onOpenChange(!1))})});j7.displayName=_7;function gR(e){return e?"open":"closed"}var S7="DialogTitleWarning",[zve,N7]=pfe(S7,{contentName:Ad,titleName:mR,docsSlug:"dialog"}),qve=({titleId:e})=>{const t=N7(S7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Uve="DialogDescriptionWarning",Vve=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${N7(Uve).contentName}}.`;return x.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},C7=d7,Wve=h7,E7=m7,vR=g7,yR=v7,xR=x7,bR=w7,wR=j7,P7="AlertDialog",[Hve,Uze]=Ar(P7,[u7]),Ul=u7(),T7=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ul(t);return a.jsx(C7,{...n,...r,modal:!0})};T7.displayName=P7;var Kve="AlertDialogTrigger",Gve=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(Wve,{...i,...n,ref:t})});Gve.displayName=Kve;var Zve="AlertDialogPortal",A7=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ul(t);return a.jsx(E7,{...n,...r})};A7.displayName=Zve;var Yve="AlertDialogOverlay",k7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(vR,{...i,...n,ref:t})});k7.displayName=Yve;var Eh="AlertDialogContent",[Xve,Qve]=Hve(Eh),Jve=cfe("AlertDialogContent"),O7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=Ul(r),o=x.useRef(null),l=at(t,o),c=x.useRef(null);return a.jsx(zve,{contentName:Eh,titleName:R7,docsSlug:"alert-dialog",children:a.jsx(Xve,{scope:r,cancelRef:c,children:a.jsxs(yR,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ue(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(Jve,{children:n}),a.jsx(tye,{contentRef:o})]})})})});O7.displayName=Eh;var R7="AlertDialogTitle",M7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(xR,{...i,...n,ref:t})});M7.displayName=R7;var I7="AlertDialogDescription",L7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(bR,{...i,...n,ref:t})});L7.displayName=I7;var eye="AlertDialogAction",D7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ul(r);return a.jsx(wR,{...i,...n,ref:t})});D7.displayName=eye;var $7="AlertDialogCancel",F7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=Qve($7,r),s=Ul(r),o=at(t,i);return a.jsx(wR,{...s,...n,ref:o})});F7.displayName=$7;var tye=({contentRef:e})=>{const t=`\`${Eh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Eh}\` by passing a \`${I7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Eh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},rye=T7,nye=A7,B7=k7,z7=O7,q7=D7,U7=F7,V7=M7,W7=L7;const H7=rye,iye=nye,K7=x.forwardRef(({className:e,...t},r)=>a.jsx(B7,{className:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));K7.displayName=B7.displayName;const _R=x.forwardRef(({className:e,...t},r)=>a.jsxs(iye,{children:[a.jsx(K7,{}),a.jsx(z7,{ref:r,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_R.displayName=z7.displayName;const jR=({className:e,...t})=>a.jsx("div",{className:Ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});jR.displayName="AlertDialogHeader";const SR=({className:e,...t})=>a.jsx("div",{className:Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});SR.displayName="AlertDialogFooter";const NR=x.forwardRef(({className:e,...t},r)=>a.jsx(V7,{ref:r,className:Ge("text-lg font-semibold",e),...t}));NR.displayName=V7.displayName;const CR=x.forwardRef(({className:e,...t},r)=>a.jsx(W7,{ref:r,className:Ge("text-sm text-muted-foreground",e),...t}));CR.displayName=W7.displayName;const G7=x.forwardRef(({className:e,...t},r)=>a.jsx(q7,{ref:r,className:Ge(UO(),e),...t}));G7.displayName=q7.displayName;const ER=x.forwardRef(({className:e,...t},r)=>a.jsx(U7,{ref:r,className:Ge(UO({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ER.displayName=U7.displayName;var zS={exports:{}},qS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rF;function sye(){if(rF)return qS;rF=1;var e=Xw();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function l(p,g){var v=g(),w=n({inst:{value:v,getSnapshot:g}}),y=w[0].inst,_=w[1];return s(function(){y.value=v,y.getSnapshot=g,c(y)&&_({inst:y})},[p,v,g]),i(function(){return c(y)&&_({inst:y}),p(function(){c(y)&&_({inst:y})})},[p]),o(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!r(p,v)}catch{return!0}}function u(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return qS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,qS}var nF;function aye(){return nF||(nF=1,zS.exports=sye()),zS.exports}var oye=aye();function lye(){return oye.useSyncExternalStore(cye,()=>!0,()=>!1)}function cye(){return()=>{}}var PR="Avatar",[uye,Vze]=Ar(PR),[dye,Z7]=uye(PR),Y7=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,s]=x.useState("idle");return a.jsx(dye,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(er.span,{...n,ref:t})})});Y7.displayName=PR;var X7="AvatarImage",Q7=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=e,o=Z7(X7,r),l=fye(n,s),c=ur(u=>{i(u),o.onImageLoadingStatusChange(u)});return sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(er.img,{...s,ref:t,src:n}):null});Q7.displayName=X7;var J7="AvatarFallback",eK=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,s=Z7(J7,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(er.span,{...i,ref:t}):null});eK.displayName=J7;function iF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fye(e,{referrerPolicy:t,crossOrigin:r}){const n=lye(),i=x.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=x.useState(()=>iF(s,e));return sr(()=>{l(iF(s,e))},[s,e]),sr(()=>{const c=p=>()=>{l(p)};if(!s)return;const u=c("loaded"),f=c("error");return s.addEventListener("load",u),s.addEventListener("error",f),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",f)}},[s,r,t]),o}var tK=Y7,rK=Q7,nK=eK;const RT=K.forwardRef(({className:e,...t},r)=>a.jsx(tK,{ref:r,className:Ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));RT.displayName=tK.displayName;const iK=K.forwardRef(({className:e,...t},r)=>a.jsx(rK,{ref:r,className:Ge("aspect-square h-full w-full",e),...t}));iK.displayName=rK.displayName;const MT=K.forwardRef(({className:e,...t},r)=>a.jsx(nK,{ref:r,className:Ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));MT.displayName=nK.displayName;function TR(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Kd(e){const[t,r]=x.useState(void 0);return sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var A_="Checkbox",[hye,Wze]=Ar(A_),[pye,AR]=hye(A_);function mye(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:p}=e,[g,v]=ts({prop:r,defaultProp:i??!1,onChange:c,caller:A_}),[w,y]=x.useState(null),[_,S]=x.useState(null),N=x.useRef(!1),C=w?!!o||!!w.closest("form"):!0,A={checked:g,disabled:s,setChecked:v,control:w,setControl:y,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:Qc(i)?!1:i,isFormControl:C,bubbleInput:_,setBubbleInput:S};return a.jsx(pye,{scope:t,...A,children:gye(p)?p(A):n})}var sK="CheckboxTrigger",aK=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:w}=AR(sK,e),y=at(i,f),_=x.useRef(c);return x.useEffect(()=>{const S=s?.form;if(S){const N=()=>p(_.current);return S.addEventListener("reset",N),()=>S.removeEventListener("reset",N)}},[s,p]),a.jsx(er.button,{type:"button",role:"checkbox","aria-checked":Qc(c)?"mixed":c,"aria-required":u,"data-state":dK(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:Ue(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ue(r,S=>{p(N=>Qc(N)?!0:!N),w&&v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});aK.displayName=sK;var kR=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...p}=e;return a.jsx(mye,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(aK,{...p,ref:t,__scopeCheckbox:r}),g&&a.jsx(uK,{__scopeCheckbox:r})]})})});kR.displayName=A_;var oK="CheckboxIndicator",lK=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=AR(oK,r);return a.jsx(rs,{present:n||Qc(s.checked)||s.checked===!0,children:a.jsx(er.span,{"data-state":dK(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});lK.displayName=oK;var cK="CheckboxBubbleInput",uK=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:p,bubbleInput:g,setBubbleInput:v}=AR(cK,e),w=at(r,v),y=TR(s),_=Kd(n);x.useEffect(()=>{const N=g;if(!N)return;const C=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(C,"checked").set,k=!i.current;if(y!==s&&P){const O=new Event("click",{bubbles:k});N.indeterminate=Qc(s),P.call(N,Qc(s)?!1:s),N.dispatchEvent(O)}},[g,y,s,i]);const S=x.useRef(Qc(s)?!1:s);return a.jsx(er.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:l,disabled:c,name:u,value:f,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});uK.displayName=cK;function gye(e){return typeof e=="function"}function Qc(e){return e==="indeterminate"}function dK(e){return Qc(e)?"indeterminate":e?"checked":"unchecked"}const vye=x.forwardRef(({className:e,...t},r)=>a.jsx(kR,{ref:r,className:Ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(lK,{className:Ge("flex items-center justify-center text-current"),children:a.jsx(Yg,{className:"h-4 w-4"})})}));vye.displayName=kR.displayName;const k_=({isOpen:e,onClose:t,onConfirm:r,title:n,description:i,confirmText:s="Confirmer",cancelText:o="Annuler",variant:l="destructive",icon:c=Sp,isLoading:u=!1})=>{const f=()=>{switch(l){case"destructive":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}},p=()=>{switch(l){case"destructive":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"outline"}};return a.jsx(H7,{open:e,onOpenChange:t,children:a.jsxs(_R,{children:[a.jsxs(jR,{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(c,{className:`h-6 w-6 ${f()}`}),a.jsx(NR,{children:n})]}),a.jsx(CR,{className:"text-left",children:i})]}),a.jsxs(SR,{children:[a.jsx(ER,{disabled:u,children:o}),a.jsxs(ue,{variant:p(),onClick:r,disabled:u,className:"flex items-center space-x-2",children:[u&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:s})]})]})]})})},yye=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(k_,{isOpen:e,onClose:t,onConfirm:r,title:"Confirmer la suppression",description:`Êtes-vous sûr de vouloir supprimer "${n}" ? Cette action est irréversible.`,confirmText:"Supprimer",variant:"destructive",icon:Ro,isLoading:i}),xye=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(k_,{isOpen:e,onClose:t,onConfirm:r,title:"Modifier l'élément",description:`Voulez-vous modifier "${n}" ?`,confirmText:"Modifier",variant:"info",icon:$O,isLoading:i}),bye=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(k_,{isOpen:e,onClose:t,onConfirm:r,title:"Actualiser l'élément",description:`Voulez-vous actualiser "${n}" ? Cela remettra l'élément en haut de la liste.`,confirmText:"Actualiser",variant:"info",icon:Ud,isLoading:i}),wye=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(k_,{isOpen:e,onClose:t,onConfirm:r,title:"Booster l'élément",description:`Voulez-vous booster "${n}" ? Cela augmentera sa visibilité.`,confirmText:"Booster",variant:"warning",icon:Ha,isLoading:i}),sF=C7,_ye=E7,fK=K.forwardRef(({className:e,...t},r)=>a.jsx(vR,{ref:r,className:Ge("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));fK.displayName=vR.displayName;const IT=K.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(_ye,{children:[a.jsx(fK,{}),a.jsxs(yR,{ref:n,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(wR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ms,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));IT.displayName=yR.displayName;const LT=({className:e,...t})=>a.jsx("div",{className:Ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});LT.displayName="DialogHeader";const DT=({className:e,...t})=>a.jsx("div",{className:Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});DT.displayName="DialogFooter";const $T=K.forwardRef(({className:e,...t},r)=>a.jsx(xR,{ref:r,className:Ge("text-lg font-semibold leading-none tracking-tight",e),...t}));$T.displayName=xR.displayName;const FT=K.forwardRef(({className:e,...t},r)=>a.jsx(bR,{ref:r,className:Ge("text-sm text-muted-foreground",e),...t}));FT.displayName=bR.displayName;function OR(e){const t=e+"CollectionProvider",[r,n]=Ar(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=K.useRef(null),C=K.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=Fh(l),u=K.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=Fh(f),v=K.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=K.useRef(null),P=at(_,A),k=s(f,S);return K.useEffect(()=>(k.itemMap.set(A,{ref:A,...C}),()=>void k.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:P,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return K.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((k,O)=>C.indexOf(k.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}const jye=["top","right","bottom","left"],cu=Math.min,Ss=Math.max,Db=Math.round,x0=Math.floor,Eo=e=>({x:e,y:e}),Sye={left:"right",right:"left",bottom:"top",top:"bottom"},Nye={start:"end",end:"start"};function BT(e,t,r){return Ss(e,cu(t,r))}function Ml(e,t){return typeof e=="function"?e(t):e}function Il(e){return e.split("-")[0]}function Ap(e){return e.split("-")[1]}function RR(e){return e==="x"?"y":"x"}function MR(e){return e==="y"?"height":"width"}function Pl(e){return["top","bottom"].includes(Il(e))?"y":"x"}function IR(e){return RR(Pl(e))}function Cye(e,t,r){r===void 0&&(r=!1);const n=Ap(e),i=IR(e),s=MR(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=$b(o)),[o,$b(o)]}function Eye(e){const t=$b(e);return[zT(e),t,zT(t)]}function zT(e){return e.replace(/start|end/g,t=>Nye[t])}function Pye(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function Tye(e,t,r,n){const i=Ap(e);let s=Pye(Il(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(zT)))),s}function $b(e){return e.replace(/left|right|bottom|top/g,t=>Sye[t])}function Aye(e){return{top:0,right:0,bottom:0,left:0,...e}}function hK(e){return typeof e!="number"?Aye(e):{top:e,right:e,bottom:e,left:e}}function Fb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function aF(e,t,r){let{reference:n,floating:i}=e;const s=Pl(t),o=IR(t),l=MR(o),c=Il(t),u=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:p};break;case"left":v={x:n.x-i.width,y:p};break;default:v={x:n.x,y:n.y}}switch(Ap(t)){case"start":v[o]-=g*(r&&u?-1:1);break;case"end":v[o]+=g*(r&&u?-1:1);break}return v}const kye=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=aF(u,n,c),g=n,v={},w=0;for(let y=0;y<l.length;y++){const{name:_,fn:S}=l[y],{x:N,y:C,data:A,reset:P}=await S({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});f=N??f,p=C??p,v={...v,[_]:{...v[_],...A}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:f,y:p}=aF(u,g,c)),y=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:v}};async function Qg(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Ml(t,e),w=hK(v),_=l[g?p==="floating"?"reference":"floating":p],S=Fb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),N=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},P=Fb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:C,strategy:c}):N);return{top:(S.top-P.top+w.top)/A.y,bottom:(P.bottom-S.bottom+w.bottom)/A.y,left:(S.left-P.left+w.left)/A.x,right:(P.right-S.right+w.right)/A.x}}const Oye=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Ml(e,t)||{};if(u==null)return{};const p=hK(f),g={x:r,y:n},v=IR(i),w=MR(v),y=await o.getDimensions(u),_=v==="y",S=_?"top":"left",N=_?"bottom":"right",C=_?"clientHeight":"clientWidth",A=s.reference[w]+s.reference[v]-g[v]-s.floating[w],P=g[v]-s.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=k?k[C]:0;(!O||!await(o.isElement==null?void 0:o.isElement(k)))&&(O=l.floating[C]||s.floating[w]);const I=A/2-P/2,z=O/2-y[w]/2-1,Y=cu(p[S],z),Z=cu(p[N],z),V=Y,q=O-y[w]-Z,U=O/2-y[w]/2+I,re=BT(V,U,q),ae=!c.arrow&&Ap(i)!=null&&U!==re&&s.reference[w]/2-(U<V?Y:Z)-y[w]/2<0,se=ae?U<V?U-V:U-q:0;return{[v]:g[v]+se,data:{[v]:re,centerOffset:U-re-se,...ae&&{alignmentOffset:se}},reset:ae}}}),Rye=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,..._}=Ml(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=Il(i),N=Pl(l),C=Il(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=g||(C||!y?[$b(l)]:Eye(l)),k=w!=="none";!g&&k&&P.push(...Tye(l,y,w,A));const O=[l,...P],I=await Qg(t,_),z=[];let Y=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&z.push(I[S]),p){const re=Cye(i,o,A);z.push(I[re[0]],I[re[1]])}if(Y=[...Y,{placement:i,overflows:z}],!z.every(re=>re<=0)){var Z,V;const re=(((Z=s.flip)==null?void 0:Z.index)||0)+1,ae=O[re];if(ae){var q;const X=p==="alignment"?N!==Pl(ae):!1,Q=((q=Y[0])==null?void 0:q.overflows[0])>0;if(!X||Q)return{data:{index:re,overflows:Y},reset:{placement:ae}}}let se=(V=Y.filter(X=>X.overflows[0]<=0).sort((X,Q)=>X.overflows[1]-Q.overflows[1])[0])==null?void 0:V.placement;if(!se)switch(v){case"bestFit":{var U;const X=(U=Y.filter(Q=>{if(k){const te=Pl(Q.placement);return te===N||te==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(te=>te>0).reduce((te,G)=>te+G,0)]).sort((Q,te)=>Q[1]-te[1])[0])==null?void 0:U[0];X&&(se=X);break}case"initialPlacement":se=l;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function oF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lF(e){return jye.some(t=>e[t]>=0)}const Mye=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ml(e,t);switch(n){case"referenceHidden":{const s=await Qg(t,{...i,elementContext:"reference"}),o=oF(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lF(o)}}}case"escaped":{const s=await Qg(t,{...i,altBoundary:!0}),o=oF(s,r.floating);return{data:{escapedOffsets:o,escaped:lF(o)}}}default:return{}}}}};async function Iye(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Il(r),l=Ap(r),c=Pl(r)==="y",u=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,p=Ml(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*f,y:g*u}:{x:g*u,y:v*f}}const Lye=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await Iye(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Dye=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:S,y:N}=_;return{x:S,y:N}}},...c}=Ml(e,t),u={x:r,y:n},f=await Qg(t,c),p=Pl(Il(i)),g=RR(p);let v=u[g],w=u[p];if(s){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",N=v+f[_],C=v-f[S];v=BT(N,v,C)}if(o){const _=p==="y"?"top":"left",S=p==="y"?"bottom":"right",N=w+f[_],C=w-f[S];w=BT(N,w,C)}const y=l.fn({...t,[g]:v,[p]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:s,[p]:o}}}}}},$ye=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ml(e,t),f={x:r,y:n},p=Pl(i),g=RR(p);let v=f[g],w=f[p];const y=Ml(l,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=g==="y"?"height":"width",A=s.reference[g]-s.floating[C]+_.mainAxis,P=s.reference[g]+s.reference[C]-_.mainAxis;v<A?v=A:v>P&&(v=P)}if(u){var S,N;const C=g==="y"?"width":"height",A=["top","left"].includes(Il(i)),P=s.reference[p]-s.floating[C]+(A&&((S=o.offset)==null?void 0:S[p])||0)+(A?0:_.crossAxis),k=s.reference[p]+s.reference[C]+(A?0:((N=o.offset)==null?void 0:N[p])||0)-(A?_.crossAxis:0);w<P?w=P:w>k&&(w=k)}return{[g]:v,[p]:w}}}},Fye=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ml(e,t),f=await Qg(t,u),p=Il(i),g=Ap(i),v=Pl(i)==="y",{width:w,height:y}=s.floating;let _,S;p==="top"||p==="bottom"?(_=p,S=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,_=g==="end"?"top":"bottom");const N=y-f.top-f.bottom,C=w-f.left-f.right,A=cu(y-f[_],N),P=cu(w-f[S],C),k=!t.middlewareData.shift;let O=A,I=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=N),k&&!g){const Y=Ss(f.left,0),Z=Ss(f.right,0),V=Ss(f.top,0),q=Ss(f.bottom,0);v?I=w-2*(Y!==0||Z!==0?Y+Z:Ss(f.left,f.right)):O=y-2*(V!==0||q!==0?V+q:Ss(f.top,f.bottom))}await c({...t,availableWidth:I,availableHeight:O});const z=await o.getDimensions(l.floating);return w!==z.width||y!==z.height?{reset:{rects:!0}}:{}}}};function O_(){return typeof window<"u"}function kp(e){return pK(e)?(e.nodeName||"").toLowerCase():"#document"}function Ts(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qo(e){var t;return(t=(pK(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pK(e){return O_()?e instanceof Node||e instanceof Ts(e).Node:!1}function Ka(e){return O_()?e instanceof Element||e instanceof Ts(e).Element:!1}function Mo(e){return O_()?e instanceof HTMLElement||e instanceof Ts(e).HTMLElement:!1}function cF(e){return!O_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ts(e).ShadowRoot}function fy(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ga(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function Bye(e){return["table","td","th"].includes(kp(e))}function R_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function LR(e){const t=DR(),r=Ka(e)?Ga(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function zye(e){let t=uu(e);for(;Mo(t)&&!Bh(t);){if(LR(t))return t;if(R_(t))return null;t=uu(t)}return null}function DR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bh(e){return["html","body","#document"].includes(kp(e))}function Ga(e){return Ts(e).getComputedStyle(e)}function M_(e){return Ka(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function uu(e){if(kp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cF(e)&&e.host||qo(e);return cF(t)?t.host:t}function mK(e){const t=uu(e);return Bh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mo(t)&&fy(t)?t:mK(t)}function Jg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=mK(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=Ts(i);if(s){const l=qT(o);return t.concat(o,o.visualViewport||[],fy(i)?i:[],l&&r?Jg(l):[])}return t.concat(i,Jg(i,[],r))}function qT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gK(e){const t=Ga(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Mo(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=Db(r)!==s||Db(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function $R(e){return Ka(e)?e:e.contextElement}function Ph(e){const t=$R(e);if(!Mo(t))return Eo(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=gK(t);let o=(s?Db(r.width):r.width)/n,l=(s?Db(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const qye=Eo(0);function vK(e){const t=Ts(e);return!DR()||!t.visualViewport?qye:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Uye(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ts(e)?!1:t}function kd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=$R(e);let o=Eo(1);t&&(n?Ka(n)&&(o=Ph(n)):o=Ph(e));const l=Uye(s,r,n)?vK(s):Eo(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const g=Ts(s),v=n&&Ka(n)?Ts(n):n;let w=g,y=qT(w);for(;y&&n&&v!==w;){const _=Ph(y),S=y.getBoundingClientRect(),N=Ga(y),C=S.left+(y.clientLeft+parseFloat(N.paddingLeft))*_.x,A=S.top+(y.clientTop+parseFloat(N.paddingTop))*_.y;c*=_.x,u*=_.y,f*=_.x,p*=_.y,c+=C,u+=A,w=Ts(y),y=qT(w)}}return Fb({width:f,height:p,x:c,y:u})}function FR(e,t){const r=M_(e).scrollLeft;return t?t.left+r:kd(qo(e)).left+r}function yK(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:FR(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function Vye(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=qo(n),l=t?R_(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Eo(1);const f=Eo(0),p=Mo(n);if((p||!p&&!s)&&((kp(n)!=="body"||fy(o))&&(c=M_(n)),Mo(n))){const v=kd(n);u=Ph(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const g=o&&!p&&!s?yK(o,c,!0):Eo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function Wye(e){return Array.from(e.getClientRects())}function Hye(e){const t=qo(e),r=M_(e),n=e.ownerDocument.body,i=Ss(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ss(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+FR(e);const l=-r.scrollTop;return Ga(n).direction==="rtl"&&(o+=Ss(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function Kye(e,t){const r=Ts(e),n=qo(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=DR();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function Gye(e,t){const r=kd(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Mo(e)?Ph(e):Eo(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function uF(e,t,r){let n;if(t==="viewport")n=Kye(e,r);else if(t==="document")n=Hye(qo(e));else if(Ka(t))n=Gye(t,r);else{const i=vK(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Fb(n)}function xK(e,t){const r=uu(e);return r===t||!Ka(r)||Bh(r)?!1:Ga(r).position==="fixed"||xK(r,t)}function Zye(e,t){const r=t.get(e);if(r)return r;let n=Jg(e,[],!1).filter(l=>Ka(l)&&kp(l)!=="body"),i=null;const s=Ga(e).position==="fixed";let o=s?uu(e):e;for(;Ka(o)&&!Bh(o);){const l=Ga(o),c=LR(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fy(o)&&!c&&xK(e,o))?n=n.filter(f=>f!==o):i=l,o=uu(o)}return t.set(e,n),n}function Yye(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?R_(t)?[]:Zye(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const p=uF(t,f,i);return u.top=Ss(p.top,u.top),u.right=cu(p.right,u.right),u.bottom=cu(p.bottom,u.bottom),u.left=Ss(p.left,u.left),u},uF(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Xye(e){const{width:t,height:r}=gK(e);return{width:t,height:r}}function Qye(e,t,r){const n=Mo(t),i=qo(t),s=r==="fixed",o=kd(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Eo(0);function u(){c.x=FR(i)}if(n||!n&&!s)if((kp(t)!=="body"||fy(i))&&(l=M_(t)),n){const v=kd(t,!0,s,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else i&&u();s&&!n&&i&&u();const f=i&&!n&&!s?yK(i,l):Eo(0),p=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function US(e){return Ga(e).position==="static"}function dF(e,t){if(!Mo(e)||Ga(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return qo(e)===r&&(r=r.ownerDocument.body),r}function bK(e,t){const r=Ts(e);if(R_(e))return r;if(!Mo(e)){let i=uu(e);for(;i&&!Bh(i);){if(Ka(i)&&!US(i))return i;i=uu(i)}return r}let n=dF(e,t);for(;n&&Bye(n)&&US(n);)n=dF(n,t);return n&&Bh(n)&&US(n)&&!LR(n)?r:n||zye(e)||r}const Jye=async function(e){const t=this.getOffsetParent||bK,r=this.getDimensions,n=await r(e.floating);return{reference:Qye(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function exe(e){return Ga(e).direction==="rtl"}const txe={convertOffsetParentRelativeRectToViewportRelativeRect:Vye,getDocumentElement:qo,getClippingRect:Yye,getOffsetParent:bK,getElementRects:Jye,getClientRects:Wye,getDimensions:Xye,getScale:Ph,isElement:Ka,isRTL:exe};function wK(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rxe(e,t){let r=null,n;const i=qo(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=u;if(l||t(),!g||!v)return;const w=x0(p),y=x0(i.clientWidth-(f+g)),_=x0(i.clientHeight-(p+v)),S=x0(f),C={rootMargin:-w+"px "+-y+"px "+-_+"px "+-S+"px",threshold:Ss(0,cu(1,c))||1};let A=!0;function P(k){const O=k[0].intersectionRatio;if(O!==c){if(!A)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!wK(u,e.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(P,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(P,C)}r.observe(e)}return o(!0),s}function hy(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$R(e),f=i||s?[...u?Jg(u):[],...Jg(t)]:[];f.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const p=u&&l?rxe(u,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(S=>{let[N]=S;N&&N.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let w,y=c?kd(e):null;c&&_();function _(){const S=kd(e);y&&!wK(y,S)&&r(),y=S,w=requestAnimationFrame(_)}return r(),()=>{var S;f.forEach(N=>{i&&N.removeEventListener("scroll",r),s&&N.removeEventListener("resize",r)}),p?.(),(S=v)==null||S.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const nxe=Lye,ixe=Dye,sxe=Rye,axe=Fye,oxe=Mye,fF=Oye,lxe=$ye,cxe=(e,t,r)=>{const n=new Map,i={platform:txe,...r},s={...i.platform,_c:n};return kye(e,t,{...i,platform:s})};var nb=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Bb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Bb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Bb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function _K(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hF(e,t){const r=_K(e);return Math.round(t*r)/r}function VS(e){const t=x.useRef(e);return nb(()=>{t.current=e}),t}function py(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=x.useState(n);Bb(g,n)||v(n);const[w,y]=x.useState(null),[_,S]=x.useState(null),N=x.useCallback(X=>{X!==k.current&&(k.current=X,y(X))},[]),C=x.useCallback(X=>{X!==O.current&&(O.current=X,S(X))},[]),A=s||w,P=o||_,k=x.useRef(null),O=x.useRef(null),I=x.useRef(f),z=c!=null,Y=VS(c),Z=VS(i),V=VS(u),q=x.useCallback(()=>{if(!k.current||!O.current)return;const X={placement:t,strategy:r,middleware:g};Z.current&&(X.platform=Z.current),cxe(k.current,O.current,X).then(Q=>{const te={...Q,isPositioned:V.current!==!1};U.current&&!Bb(I.current,te)&&(I.current=te,Za.flushSync(()=>{p(te)}))})},[g,t,r,Z,V]);nb(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(X=>({...X,isPositioned:!1})))},[u]);const U=x.useRef(!1);nb(()=>(U.current=!0,()=>{U.current=!1}),[]),nb(()=>{if(A&&(k.current=A),P&&(O.current=P),A&&P){if(Y.current)return Y.current(A,P,q);q()}},[A,P,q,Y,z]);const re=x.useMemo(()=>({reference:k,floating:O,setReference:N,setFloating:C}),[N,C]),ae=x.useMemo(()=>({reference:A,floating:P}),[A,P]),se=x.useMemo(()=>{const X={position:r,left:0,top:0};if(!ae.floating)return X;const Q=hF(ae.floating,f.x),te=hF(ae.floating,f.y);return l?{...X,transform:"translate("+Q+"px, "+te+"px)",..._K(ae.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:te}},[r,l,ae.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:q,refs:re,elements:ae,floatingStyles:se}),[f,q,re,ae,se])}const uxe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?fF({element:n.current,padding:i}).fn(r):{}:n?fF({element:n,padding:i}).fn(r):{}}}},my=(e,t)=>({...nxe(e),options:[e,t]}),gy=(e,t)=>({...ixe(e),options:[e,t]}),vy=(e,t)=>({...lxe(e),options:[e,t]}),yy=(e,t)=>({...sxe(e),options:[e,t]}),xy=(e,t)=>({...axe(e),options:[e,t]}),by=(e,t)=>({...oxe(e),options:[e,t]}),wy=(e,t)=>({...uxe(e),options:[e,t]});var dxe="Arrow",jK=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(er.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});jK.displayName=dxe;var fxe=jK,BR="Popper",[SK,NK]=Ar(BR),[hxe,CK]=SK(BR),EK=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(hxe,{scope:t,anchor:n,onAnchorChange:i,children:r})};EK.displayName=BR;var PK="PopperAnchor",TK=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=CK(PK,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(er.div,{...i,ref:l})});TK.displayName=PK;var zR="PopperContent",[pxe,mxe]=SK(zR),AK=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=CK(zR,r),[S,N]=x.useState(null),C=at(t,oe=>N(oe)),[A,P]=x.useState(null),k=Kd(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Z=Array.isArray(u)?u:[u],V=Z.length>0,q={padding:Y,boundary:Z.filter(vxe),altBoundary:V},{refs:U,floatingStyles:re,placement:ae,isPositioned:se,middlewareData:X}=py({strategy:"fixed",placement:z,whileElementsMounted:(...oe)=>hy(...oe,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[my({mainAxis:i+I,alignmentAxis:o}),c&&gy({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?vy():void 0,...q}),c&&yy({...q}),xy({...q,apply:({elements:oe,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:J,height:H}=ge.reference,we=oe.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${J}px`),we.setProperty("--radix-popper-anchor-height",`${H}px`)}}),A&&wy({element:A,padding:l}),yxe({arrowWidth:O,arrowHeight:I}),g&&by({strategy:"referenceHidden",...q})]}),[Q,te]=RK(ae),G=ur(w);sr(()=>{se&&G?.()},[se,G]);const ie=X.arrow?.x,xe=X.arrow?.y,Ne=X.arrow?.centerOffset!==0,[Le,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(pxe,{scope:r,placedSide:Q,onArrowChange:P,arrowX:ie,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(er.div,{"data-side":Q,"data-align":te,...y,ref:C,style:{...y.style,animation:se?void 0:"none"}})})})});AK.displayName=zR;var kK="PopperArrow",gxe={top:"bottom",right:"left",bottom:"top",left:"right"},OK=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=mxe(kK,n),o=gxe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(fxe,{...i,ref:r,style:{...i.style,display:"block"}})})});OK.displayName=kK;function vxe(e){return e!==null}var yxe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=RK(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function RK(e){const[t,r="center"]=e.split("-");return[t,r]}var xxe=EK,bxe=TK,wxe=AK,_xe=OK,WS="rovingFocusGroup.onEntryFocus",jxe={bubbles:!1,cancelable:!0},_y="RovingFocusGroup",[UT,MK,Sxe]=OR(_y),[Nxe,IK]=Ar(_y,[Sxe]),[Cxe,Exe]=Nxe(_y),LK=x.forwardRef((e,t)=>a.jsx(UT.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(UT.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Pxe,{...e,ref:t})})}));LK.displayName=_y;var Pxe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=x.useRef(null),v=at(t,g),w=Ep(s),[y,_]=ts({prop:o,defaultProp:l??null,onChange:c,caller:_y}),[S,N]=x.useState(!1),C=ur(u),A=MK(r),P=x.useRef(!1),[k,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(WS,C),()=>I.removeEventListener(WS,C)},[C]),a.jsx(Cxe,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:a.jsx(er.div,{tabIndex:S||k===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{P.current=!0}),onFocus:Ue(e.onFocus,I=>{const z=!P.current;if(I.target===I.currentTarget&&z&&!S){const Y=new CustomEvent(WS,jxe);if(I.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const Z=A().filter(ae=>ae.focusable),V=Z.find(ae=>ae.active),q=Z.find(ae=>ae.id===y),re=[V,q,...Z].filter(Boolean).map(ae=>ae.ref.current);FK(re,f)}}P.current=!1}),onBlur:Ue(e.onBlur,()=>N(!1))})})}),DK="RovingFocusGroupItem",$K=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=Ji(),u=s||c,f=Exe(DK,r),p=f.currentTabStopId===u,g=MK(r),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:y}=f;return x.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),a.jsx(UT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(er.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ue(e.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:Ue(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ue(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=kxe(_,f.orientation,f.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=f.loop?Oxe(C,A+1):C.slice(A+1)}setTimeout(()=>FK(C))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});$K.displayName=DK;var Txe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Axe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kxe(e,t,r){const n=Axe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Txe[n]}function FK(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Oxe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Rxe=LK,Mxe=$K,VT=["Enter"," "],Ixe=["ArrowDown","PageUp","Home"],BK=["ArrowUp","PageDown","End"],Lxe=[...Ixe,...BK],Dxe={ltr:[...VT,"ArrowRight"],rtl:[...VT,"ArrowLeft"]},$xe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jy="Menu",[ev,Fxe,Bxe]=OR(jy),[Gd,zK]=Ar(jy,[Bxe,NK,IK]),I_=NK(),qK=IK(),[zxe,Zd]=Gd(jy),[qxe,Sy]=Gd(jy),UK=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=e,l=I_(t),[c,u]=x.useState(null),f=x.useRef(!1),p=ur(s),g=Ep(i);return x.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(xxe,{...l,children:a.jsx(zxe,{scope:t,open:r,onOpenChange:p,content:c,onContentChange:u,children:a.jsx(qxe,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};UK.displayName=jy;var Uxe="MenuAnchor",qR=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=I_(r);return a.jsx(bxe,{...i,...n,ref:t})});qR.displayName=Uxe;var UR="MenuPortal",[Vxe,VK]=Gd(UR,{forceMount:void 0}),WK=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=Zd(UR,t);return a.jsx(Vxe,{scope:t,forceMount:r,children:a.jsx(rs,{present:r||s.open,children:a.jsx(C_,{asChild:!0,container:i,children:n})})})};WK.displayName=UR;var aa="MenuContent",[Wxe,VR]=Gd(aa),HK=x.forwardRef((e,t)=>{const r=VK(aa,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=Zd(aa,e.__scopeMenu),o=Sy(aa,e.__scopeMenu);return a.jsx(ev.Provider,{scope:e.__scopeMenu,children:a.jsx(rs,{present:n||s.open,children:a.jsx(ev.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(Hxe,{...i,ref:t}):a.jsx(Kxe,{...i,ref:t})})})})}),Hxe=x.forwardRef((e,t)=>{const r=Zd(aa,e.__scopeMenu),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return P_(s)},[]),a.jsx(WR,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Kxe=x.forwardRef((e,t)=>{const r=Zd(aa,e.__scopeMenu);return a.jsx(WR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Gxe=Fh("MenuContent.ScrollLock"),WR=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,disableOutsideScroll:w,...y}=e,_=Zd(aa,r),S=Sy(aa,r),N=I_(r),C=qK(r),A=Fxe(r),[P,k]=x.useState(null),O=x.useRef(null),I=at(t,O,_.onContentChange),z=x.useRef(0),Y=x.useRef(""),Z=x.useRef(0),V=x.useRef(null),q=x.useRef("right"),U=x.useRef(0),re=w?dy:x.Fragment,ae=w?{as:Gxe,allowPinchZoom:!0}:void 0,se=Q=>{const te=Y.current+Q,G=A().filter(oe=>!oe.disabled),ie=document.activeElement,xe=G.find(oe=>oe.ref.current===ie)?.textValue,Ne=G.map(oe=>oe.textValue),Le=a0e(Ne,te,xe),ce=G.find(oe=>oe.textValue===Le)?.ref.current;(function oe(ge){Y.current=ge,window.clearTimeout(z.current),ge!==""&&(z.current=window.setTimeout(()=>oe(""),1e3))})(te),ce&&setTimeout(()=>ce.focus())};x.useEffect(()=>()=>window.clearTimeout(z.current),[]),hR();const X=x.useCallback(Q=>q.current===V.current?.side&&l0e(Q,V.current?.area),[]);return a.jsx(Wxe,{scope:r,searchRef:Y,onItemEnter:x.useCallback(Q=>{X(Q)&&Q.preventDefault()},[X]),onItemLeave:x.useCallback(Q=>{X(Q)||(O.current?.focus(),k(null))},[X]),onTriggerLeave:x.useCallback(Q=>{X(Q)&&Q.preventDefault()},[X]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:x.useCallback(Q=>{V.current=Q},[]),children:a.jsx(re,{...ae,children:a.jsx(fR,{asChild:!0,trapped:i,onMountAutoFocus:Ue(s,Q=>{Q.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(N_,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,children:a.jsx(Rxe,{asChild:!0,...C,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:k,onEntryFocus:Ue(c,Q=>{S.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(wxe,{role:"menu","aria-orientation":"vertical","data-state":lG(_.open),"data-radix-menu-content":"",dir:S.dir,...N,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:Ue(y.onKeyDown,Q=>{const G=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,ie=Q.ctrlKey||Q.altKey||Q.metaKey,xe=Q.key.length===1;G&&(Q.key==="Tab"&&Q.preventDefault(),!ie&&xe&&se(Q.key));const Ne=O.current;if(Q.target!==Ne||!Lxe.includes(Q.key))return;Q.preventDefault();const ce=A().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);BK.includes(Q.key)&&ce.reverse(),i0e(ce)}),onBlur:Ue(e.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(z.current),Y.current="")}),onPointerMove:Ue(e.onPointerMove,tv(Q=>{const te=Q.target,G=U.current!==Q.clientX;if(Q.currentTarget.contains(te)&&G){const ie=Q.clientX>U.current?"right":"left";q.current=ie,U.current=Q.clientX}}))})})})})})})});HK.displayName=aa;var Zxe="MenuGroup",HR=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{role:"group",...n,ref:t})});HR.displayName=Zxe;var Yxe="MenuLabel",KK=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});KK.displayName=Yxe;var zb="MenuItem",pF="menu.itemSelect",L_=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=x.useRef(null),o=Sy(zb,e.__scopeMenu),l=VR(zb,e.__scopeMenu),c=at(t,s),u=x.useRef(!1),f=()=>{const p=s.current;if(!r&&p){const g=new CustomEvent(pF,{bubbles:!0,cancelable:!0});p.addEventListener(pF,v=>n?.(v),{once:!0}),nR(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(GK,{...i,ref:c,disabled:r,onClick:Ue(e.onClick,f),onPointerDown:p=>{e.onPointerDown?.(p),u.current=!0},onPointerUp:Ue(e.onPointerUp,p=>{u.current||p.currentTarget?.click()}),onKeyDown:Ue(e.onKeyDown,p=>{const g=l.searchRef.current!=="";r||g&&p.key===" "||VT.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});L_.displayName=zb;var GK=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,o=VR(zb,r),l=qK(r),c=x.useRef(null),u=at(t,c),[f,p]=x.useState(!1),[g,v]=x.useState("");return x.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[s.children]),a.jsx(ev.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:a.jsx(Mxe,{asChild:!0,...l,focusable:!n,children:a.jsx(er.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ue(e.onPointerMove,tv(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,tv(w=>o.onItemLeave(w))),onFocus:Ue(e.onFocus,()=>p(!0)),onBlur:Ue(e.onBlur,()=>p(!1))})})})}),Xxe="MenuCheckboxItem",ZK=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return a.jsx(eG,{scope:e.__scopeMenu,checked:r,children:a.jsx(L_,{role:"menuitemcheckbox","aria-checked":qb(r)?"mixed":r,...i,ref:t,"data-state":GR(r),onSelect:Ue(i.onSelect,()=>n?.(qb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ZK.displayName=Xxe;var YK="MenuRadioGroup",[Qxe,Jxe]=Gd(YK,{value:void 0,onValueChange:()=>{}}),XK=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=ur(n);return a.jsx(Qxe,{scope:e.__scopeMenu,value:r,onValueChange:s,children:a.jsx(HR,{...i,ref:t})})});XK.displayName=YK;var QK="MenuRadioItem",JK=x.forwardRef((e,t)=>{const{value:r,...n}=e,i=Jxe(QK,e.__scopeMenu),s=r===i.value;return a.jsx(eG,{scope:e.__scopeMenu,checked:s,children:a.jsx(L_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":GR(s),onSelect:Ue(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});JK.displayName=QK;var KR="MenuItemIndicator",[eG,e0e]=Gd(KR,{checked:!1}),tG=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=e0e(KR,r);return a.jsx(rs,{present:n||qb(s.checked)||s.checked===!0,children:a.jsx(er.span,{...i,ref:t,"data-state":GR(s.checked)})})});tG.displayName=KR;var t0e="MenuSeparator",rG=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});rG.displayName=t0e;var r0e="MenuArrow",nG=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=I_(r);return a.jsx(_xe,{...i,...n,ref:t})});nG.displayName=r0e;var n0e="MenuSub",[Hze,iG]=Gd(n0e),gg="MenuSubTrigger",sG=x.forwardRef((e,t)=>{const r=Zd(gg,e.__scopeMenu),n=Sy(gg,e.__scopeMenu),i=iG(gg,e.__scopeMenu),s=VR(gg,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),a.jsx(qR,{asChild:!0,...u,children:a.jsx(GK,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":lG(r.open),...e,ref:Is(t,i.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,tv(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ue(e.onPointerLeave,tv(p=>{f();const g=r.content?.getBoundingClientRect();if(g){const v=r.content?.dataset.side,w=v==="right",y=w?-5:5,_=g[w?"left":"right"],S=g[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:_,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:_,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,p=>{const g=s.searchRef.current!=="";e.disabled||g&&p.key===" "||Dxe[n.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});sG.displayName=gg;var aG="MenuSubContent",oG=x.forwardRef((e,t)=>{const r=VK(aa,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=Zd(aa,e.__scopeMenu),o=Sy(aa,e.__scopeMenu),l=iG(aG,e.__scopeMenu),c=x.useRef(null),u=at(t,c);return a.jsx(ev.Provider,{scope:e.__scopeMenu,children:a.jsx(rs,{present:n||s.open,children:a.jsx(ev.Slot,{scope:e.__scopeMenu,children:a.jsx(WR,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ue(e.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),g=$xe[o.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});oG.displayName=aG;function lG(e){return e?"open":"closed"}function qb(e){return e==="indeterminate"}function GR(e){return qb(e)?"indeterminate":e?"checked":"unchecked"}function i0e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function s0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function a0e(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=s0e(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function o0e(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function l0e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return o0e(r,t)}function tv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var c0e=UK,u0e=qR,d0e=WK,f0e=HK,h0e=HR,p0e=KK,m0e=L_,g0e=ZK,v0e=XK,y0e=JK,x0e=tG,b0e=rG,w0e=nG,_0e=sG,j0e=oG,D_="DropdownMenu",[S0e,Kze]=Ar(D_,[zK]),Di=zK(),[N0e,cG]=S0e(D_),uG=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=Di(t),u=x.useRef(null),[f,p]=ts({prop:i,defaultProp:s??!1,onChange:o,caller:D_});return a.jsx(N0e,{scope:t,triggerId:Ji(),triggerRef:u,contentId:Ji(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:l,children:a.jsx(c0e,{...c,open:f,onOpenChange:p,dir:n,modal:l,children:r})})};uG.displayName=D_;var dG="DropdownMenuTrigger",fG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=cG(dG,r),o=Di(r);return a.jsx(u0e,{asChild:!0,...o,children:a.jsx(er.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Is(t,s.triggerRef),onPointerDown:Ue(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ue(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});fG.displayName=dG;var C0e="DropdownMenuPortal",hG=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Di(t);return a.jsx(d0e,{...n,...r})};hG.displayName=C0e;var pG="DropdownMenuContent",mG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=cG(pG,r),s=Di(r),o=x.useRef(!1);return a.jsx(f0e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mG.displayName=pG;var E0e="DropdownMenuGroup",P0e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(h0e,{...i,...n,ref:t})});P0e.displayName=E0e;var T0e="DropdownMenuLabel",gG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(p0e,{...i,...n,ref:t})});gG.displayName=T0e;var A0e="DropdownMenuItem",vG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(m0e,{...i,...n,ref:t})});vG.displayName=A0e;var k0e="DropdownMenuCheckboxItem",yG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(g0e,{...i,...n,ref:t})});yG.displayName=k0e;var O0e="DropdownMenuRadioGroup",R0e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(v0e,{...i,...n,ref:t})});R0e.displayName=O0e;var M0e="DropdownMenuRadioItem",xG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(y0e,{...i,...n,ref:t})});xG.displayName=M0e;var I0e="DropdownMenuItemIndicator",bG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(x0e,{...i,...n,ref:t})});bG.displayName=I0e;var L0e="DropdownMenuSeparator",wG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(b0e,{...i,...n,ref:t})});wG.displayName=L0e;var D0e="DropdownMenuArrow",$0e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(w0e,{...i,...n,ref:t})});$0e.displayName=D0e;var F0e="DropdownMenuSubTrigger",_G=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(_0e,{...i,...n,ref:t})});_G.displayName=F0e;var B0e="DropdownMenuSubContent",jG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Di(r);return a.jsx(j0e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jG.displayName=B0e;var z0e=uG,q0e=fG,U0e=hG,SG=mG,NG=gG,CG=vG,EG=yG,PG=xG,TG=bG,AG=wG,kG=_G,OG=jG;const Ny=z0e,Cy=q0e,V0e=x.forwardRef(({className:e,inset:t,children:r,...n},i)=>a.jsxs(kG,{ref:i,className:Ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Va,{className:"ml-auto h-4 w-4"})]}));V0e.displayName=kG.displayName;const W0e=x.forwardRef(({className:e,...t},r)=>a.jsx(OG,{ref:r,className:Ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));W0e.displayName=OG.displayName;const Op=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(U0e,{children:a.jsx(SG,{ref:n,sideOffset:t,className:Ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Op.displayName=SG.displayName;const Kn=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(CG,{ref:n,className:Ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Kn.displayName=CG.displayName;const H0e=x.forwardRef(({className:e,children:t,checked:r,...n},i)=>a.jsxs(EG,{ref:i,className:Ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(TG,{children:a.jsx(Yg,{className:"h-4 w-4"})})}),t]}));H0e.displayName=EG.displayName;const K0e=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(PG,{ref:n,className:Ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(TG,{children:a.jsx(Eue,{className:"h-2 w-2 fill-current"})})}),t]}));K0e.displayName=PG.displayName;const G0e=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(NG,{ref:n,className:Ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));G0e.displayName=NG.displayName;const Rp=x.forwardRef(({className:e,...t},r)=>a.jsx(AG,{ref:r,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));Rp.displayName=AG.displayName;const Z0e=x.createContext({}),$_=()=>{const e=x.useContext(Z0e),t=x.useContext(RG),{getFieldState:r,formState:n}=Nme(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},RG=x.createContext({}),Y0e=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return a.jsx(RG.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:Ge("space-y-2",e),...t})})});Y0e.displayName="FormItem";const X0e=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=$_();return a.jsx(rt,{ref:r,className:Ge(n&&"text-destructive",e),htmlFor:i,...t})});X0e.displayName="FormLabel";const Q0e=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=$_();return a.jsx(b9,{ref:t,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});Q0e.displayName="FormControl";const J0e=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=$_();return a.jsx("p",{ref:r,id:n,className:Ge("text-sm text-muted-foreground",e),...t})});J0e.displayName="FormDescription";const ebe=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:s}=$_(),o=i?String(i?.message):t;return o?a.jsx("p",{ref:n,id:s,className:Ge("text-sm font-medium text-destructive",e),...r,children:o}):null});ebe.displayName="FormMessage";function tbe(e){const t=rbe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(ibe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function rbe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=abe(i),l=sbe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nbe=Symbol("radix.slottable");function ibe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nbe}function sbe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function abe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var obe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mp=obe.reduce((e,t)=>{const r=tbe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lbe(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var cbe="Arrow",MG=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Mp.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});MG.displayName=cbe;var ube=MG,IG="Popper",[LG,DG]=Ar(IG),[Gze,$G]=LG(IG),FG="PopperAnchor",BG=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=$G(FG,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Mp.div,{...i,ref:l})});BG.displayName=FG;var ZR="PopperContent",[dbe,fbe]=LG(ZR),zG=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=$G(ZR,r),[S,N]=x.useState(null),C=at(t,oe=>N(oe)),[A,P]=x.useState(null),k=Kd(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Z=Array.isArray(u)?u:[u],V=Z.length>0,q={padding:Y,boundary:Z.filter(pbe),altBoundary:V},{refs:U,floatingStyles:re,placement:ae,isPositioned:se,middlewareData:X}=py({strategy:"fixed",placement:z,whileElementsMounted:(...oe)=>hy(...oe,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[my({mainAxis:i+I,alignmentAxis:o}),c&&gy({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?vy():void 0,...q}),c&&yy({...q}),xy({...q,apply:({elements:oe,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:J,height:H}=ge.reference,we=oe.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${J}px`),we.setProperty("--radix-popper-anchor-height",`${H}px`)}}),A&&wy({element:A,padding:l}),mbe({arrowWidth:O,arrowHeight:I}),g&&by({strategy:"referenceHidden",...q})]}),[Q,te]=VG(ae),G=ur(w);sr(()=>{se&&G?.()},[se,G]);const ie=X.arrow?.x,xe=X.arrow?.y,Ne=X.arrow?.centerOffset!==0,[Le,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(dbe,{scope:r,placedSide:Q,onArrowChange:P,arrowX:ie,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(Mp.div,{"data-side":Q,"data-align":te,...y,ref:C,style:{...y.style,animation:se?void 0:"none"}})})})});zG.displayName=ZR;var qG="PopperArrow",hbe={top:"bottom",right:"left",bottom:"top",left:"right"},UG=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=fbe(qG,n),o=hbe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(ube,{...i,ref:r,style:{...i.style,display:"block"}})})});UG.displayName=qG;function pbe(e){return e!==null}var mbe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=VG(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function VG(e){const[t,r="center"]=e.split("-");return[t,r]}var gbe=BG,vbe=zG,ybe=UG,xbe="DismissableLayer",WT="dismissableLayer.update",bbe="dismissableLayer.pointerDownOutside",wbe="dismissableLayer.focusOutside",mF,WG=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HG=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(WG),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,P=Sbe(O=>{const I=O.target,z=[...u.branches].some(Y=>Y.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=Nbe(O=>{const I=O.target;[...u.branches].some(Y=>Y.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return uy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(mF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),gF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=mF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),gF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(WT,O),()=>document.removeEventListener(WT,O)},[]),a.jsx(Mp.div,{...c,ref:w,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,P.onPointerDownCapture)})});HG.displayName=xbe;var _be="DismissableLayerBranch",jbe=x.forwardRef((e,t)=>{const r=x.useContext(WG),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Mp.div,{...e,ref:i})});jbe.displayName=_be;function Sbe(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){KG(bbe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Nbe(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&KG(wbe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gF(){const e=new CustomEvent(WT);document.dispatchEvent(e)}function KG(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?lbe(i,s):i.dispatchEvent(s)}var HS,GG="HoverCard",[ZG,Zze]=Ar(GG,[DG]),YR=DG(),[Yze,XR]=ZG(GG),YG="HoverCardTrigger",Cbe=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,i=XR(YG,r),s=YR(r);return a.jsx(gbe,{asChild:!0,...s,children:a.jsx(Mp.a,{"data-state":i.open?"open":"closed",...n,ref:t,onPointerEnter:Ue(e.onPointerEnter,Vb(i.onOpen)),onPointerLeave:Ue(e.onPointerLeave,Vb(i.onClose)),onFocus:Ue(e.onFocus,i.onOpen),onBlur:Ue(e.onBlur,i.onClose),onTouchStart:Ue(e.onTouchStart,o=>o.preventDefault())})})});Cbe.displayName=YG;var Ebe="HoverCardPortal",[Xze,Pbe]=ZG(Ebe,{forceMount:void 0}),Ub="HoverCardContent",XG=x.forwardRef((e,t)=>{const r=Pbe(Ub,e.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=e,s=XR(Ub,e.__scopeHoverCard);return a.jsx(rs,{present:n||s.open,children:a.jsx(Tbe,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Ue(e.onPointerEnter,Vb(s.onOpen)),onPointerLeave:Ue(e.onPointerLeave,Vb(s.onClose)),ref:t})})});XG.displayName=Ub;var Tbe=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...l}=e,c=XR(Ub,r),u=YR(r),f=x.useRef(null),p=at(t,f),[g,v]=x.useState(!1);return x.useEffect(()=>{if(g){const w=document.body;return HS=w.style.userSelect||w.style.webkitUserSelect,w.style.userSelect="none",w.style.webkitUserSelect="none",()=>{w.style.userSelect=HS,w.style.webkitUserSelect=HS}}},[g]),x.useEffect(()=>{if(f.current){const w=()=>{v(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",w),()=>{document.removeEventListener("pointerup",w),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),x.useEffect(()=>{f.current&&Obe(f.current).forEach(y=>y.setAttribute("tabindex","-1"))}),a.jsx(HG,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:Ue(s,w=>{w.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(vbe,{...u,...l,onPointerDown:Ue(l.onPointerDown,w=>{w.currentTarget.contains(w.target)&&v(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:p,style:{...l.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Abe="HoverCardArrow",kbe=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,i=YR(r);return a.jsx(ybe,{...i,...n,ref:t})});kbe.displayName=Abe;function Vb(e){return t=>t.pointerType==="touch"?void 0:e()}function Obe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t}var QG=XG;const Rbe=K.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>a.jsx(QG,{ref:i,align:t,sideOffset:r,className:Ge("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Rbe.displayName=QG.displayName;function Jc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function JG(e){const t=Mbe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Lbe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Mbe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=$be(i),l=Dbe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ibe=Symbol("radix.slottable");function Lbe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ibe}function Dbe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function $be(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vl=Fbe.reduce((e,t)=>{const r=JG(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Bbe(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var zbe="DismissableLayer",HT="dismissableLayer.update",qbe="dismissableLayer.pointerDownOutside",Ube="dismissableLayer.focusOutside",vF,eZ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tZ=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(eZ),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,P=Hbe(O=>{const I=O.target,z=[...u.branches].some(Y=>Y.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=Kbe(O=>{const I=O.target;[...u.branches].some(Y=>Y.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return uy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),yF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=vF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),yF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(HT,O),()=>document.removeEventListener(HT,O)},[]),a.jsx(Vl.div,{...c,ref:w,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Jc(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Jc(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Jc(e.onPointerDownCapture,P.onPointerDownCapture)})});tZ.displayName=zbe;var Vbe="DismissableLayerBranch",Wbe=x.forwardRef((e,t)=>{const r=x.useContext(eZ),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Vl.div,{...e,ref:i})});Wbe.displayName=Vbe;function Hbe(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){rZ(qbe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Kbe(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&rZ(Ube,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function yF(){const e=new CustomEvent(HT);document.dispatchEvent(e)}function rZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Bbe(i,s):i.dispatchEvent(s)}var KS=0;function Gbe(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xF()),document.body.insertAdjacentElement("beforeend",e[1]??xF()),KS++,()=>{KS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),KS--}},[])}function xF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var GS="focusScope.autoFocusOnMount",ZS="focusScope.autoFocusOnUnmount",bF={bubbles:!1,cancelable:!0},Zbe="FocusScope",nZ=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=ur(i),f=ur(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?p.current=A:Dc(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||Dc(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&Dc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){_F.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(GS,bF);l.addEventListener(GS,u),l.dispatchEvent(S),S.defaultPrevented||(Ybe(twe(iZ(l)),{select:!0}),document.activeElement===y&&Dc(l))}return()=>{l.removeEventListener(GS,u),setTimeout(()=>{const S=new CustomEvent(ZS,bF);l.addEventListener(ZS,f),l.dispatchEvent(S),S.defaultPrevented||Dc(y??document.body,{select:!0}),l.removeEventListener(ZS,f),_F.remove(v)},0)}}},[l,u,f,v]);const w=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,A]=Xbe(N);C&&A?!y.shiftKey&&S===A?(y.preventDefault(),r&&Dc(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&Dc(A,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(Vl.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});nZ.displayName=Zbe;function Ybe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Dc(n,{select:t}),document.activeElement!==r)return}function Xbe(e){const t=iZ(e),r=wF(t,e),n=wF(t.reverse(),e);return[r,n]}function iZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wF(e,t){for(const r of e)if(!Qbe(r,{upTo:t}))return r}function Qbe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Jbe(e){return e instanceof HTMLInputElement&&"select"in e}function Dc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Jbe(e)&&t&&e.select()}}var _F=ewe();function ewe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=jF(e,t),e.unshift(t)},remove(t){e=jF(e,t),e[0]?.resume()}}}function jF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function twe(e){return e.filter(t=>t.tagName!=="A")}var rwe="Arrow",sZ=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Vl.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});sZ.displayName=rwe;var nwe=sZ,aZ="Popper",[oZ,lZ]=Ar(aZ),[Qze,cZ]=oZ(aZ),uZ="PopperAnchor",dZ=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=cZ(uZ,r),o=x.useRef(null),l=at(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(Vl.div,{...i,ref:l})});dZ.displayName=uZ;var QR="PopperContent",[iwe,swe]=oZ(QR),fZ=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=cZ(QR,r),[S,N]=x.useState(null),C=at(t,oe=>N(oe)),[A,P]=x.useState(null),k=Kd(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Z=Array.isArray(u)?u:[u],V=Z.length>0,q={padding:Y,boundary:Z.filter(owe),altBoundary:V},{refs:U,floatingStyles:re,placement:ae,isPositioned:se,middlewareData:X}=py({strategy:"fixed",placement:z,whileElementsMounted:(...oe)=>hy(...oe,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[my({mainAxis:i+I,alignmentAxis:o}),c&&gy({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?vy():void 0,...q}),c&&yy({...q}),xy({...q,apply:({elements:oe,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:J,height:H}=ge.reference,we=oe.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${J}px`),we.setProperty("--radix-popper-anchor-height",`${H}px`)}}),A&&wy({element:A,padding:l}),lwe({arrowWidth:O,arrowHeight:I}),g&&by({strategy:"referenceHidden",...q})]}),[Q,te]=mZ(ae),G=ur(w);sr(()=>{se&&G?.()},[se,G]);const ie=X.arrow?.x,xe=X.arrow?.y,Ne=X.arrow?.centerOffset!==0,[Le,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(iwe,{scope:r,placedSide:Q,onArrowChange:P,arrowX:ie,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(Vl.div,{"data-side":Q,"data-align":te,...y,ref:C,style:{...y.style,animation:se?void 0:"none"}})})})});fZ.displayName=QR;var hZ="PopperArrow",awe={top:"bottom",right:"left",bottom:"top",left:"right"},pZ=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=swe(hZ,n),o=awe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(nwe,{...i,ref:r,style:{...i.style,display:"block"}})})});pZ.displayName=hZ;function owe(e){return e!==null}var lwe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=mZ(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function mZ(e){const[t,r="center"]=e.split("-");return[t,r]}var gZ=dZ,cwe=fZ,uwe=pZ,dwe="Portal",vZ=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);sr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?Qw.createPortal(a.jsx(Vl.div,{...n,ref:t}),o):null});vZ.displayName=dwe;function fwe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var JR=e=>{const{present:t,children:r}=e,n=hwe(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=at(n.ref,pwe(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};JR.displayName="Presence";function hwe(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=fwe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=b0(n.current);s.current=l==="mounted"?u:"none"},[l]),sr(()=>{const u=n.current,f=i.current;if(f!==e){const g=s.current,v=b0(u);e?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),sr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=v=>{const y=b0(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(c("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=v=>{v.target===t&&(s.current=b0(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function b0(e){return e?.animationName||"none"}function pwe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yZ="Popover",[xZ,Jze]=Ar(yZ,[lZ]),F_=lZ(),[eqe,gu]=xZ(yZ),bZ="PopoverAnchor",mwe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=gu(bZ,r),s=F_(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return x.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(gZ,{...s,...n,ref:t})});mwe.displayName=bZ;var wZ="PopoverTrigger",gwe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=gu(wZ,r),s=F_(r),o=at(t,i.triggerRef),l=a.jsx(Vl.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":CZ(i.open),...n,ref:o,onClick:Jc(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(gZ,{asChild:!0,...s,children:l})});gwe.displayName=wZ;var eM="PopoverPortal",[vwe,ywe]=xZ(eM,{forceMount:void 0}),_Z=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=gu(eM,t);return a.jsx(vwe,{scope:t,forceMount:r,children:a.jsx(JR,{present:r||s.open,children:a.jsx(vZ,{asChild:!0,container:i,children:n})})})};_Z.displayName=eM;var zh="PopoverContent",jZ=x.forwardRef((e,t)=>{const r=ywe(zh,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=gu(zh,e.__scopePopover);return a.jsx(JR,{present:n||s.open,children:s.modal?a.jsx(bwe,{...i,ref:t}):a.jsx(wwe,{...i,ref:t})})});jZ.displayName=zh;var xwe=JG("PopoverContent.RemoveScroll"),bwe=x.forwardRef((e,t)=>{const r=gu(zh,e.__scopePopover),n=x.useRef(null),i=at(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return P_(o)},[]),a.jsx(dy,{as:xwe,allowPinchZoom:!0,children:a.jsx(SZ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jc(e.onCloseAutoFocus,o=>{o.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Jc(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Jc(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),wwe=x.forwardRef((e,t)=>{const r=gu(zh,e.__scopePopover),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(SZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),SZ=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...p}=e,g=gu(zh,r),v=F_(r);return Gbe(),a.jsx(nZ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(tZ,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:a.jsx(cwe,{"data-state":CZ(g.open),role:"dialog",id:g.contentId,...v,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),NZ="PopoverClose",_we=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=gu(NZ,r);return a.jsx(Vl.button,{type:"button",...n,ref:t,onClick:Jc(e.onClick,()=>i.onOpenChange(!1))})});_we.displayName=NZ;var jwe="PopoverArrow",Swe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=F_(r);return a.jsx(uwe,{...i,...n,ref:t})});Swe.displayName=jwe;function CZ(e){return e?"open":"closed"}var Nwe=_Z,EZ=jZ;const Cwe=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>a.jsx(Nwe,{children:a.jsx(EZ,{ref:i,align:t,sideOffset:r,className:Ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Cwe.displayName=EZ.displayName;const Ewe=({currentPage:e,totalPages:t,onPageChange:r,hasNextPage:n,hasPrevPage:i,isLoading:s=!1})=>{const o=()=>{const c=[],u=[];for(let f=Math.max(2,e-2);f<=Math.min(t-1,e+2);f++)c.push(f);return e-2>2?u.push(1,"..."):u.push(1),u.push(...c),e+2<t-1?u.push("...",t):u.push(t),u};return t<=1?null:a.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:!i||s,className:"flex items-center space-x-1",children:[a.jsx(Ua,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Précédent"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:o().map((l,c)=>a.jsx(K.Fragment,{children:l==="..."?a.jsx(Tue,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(ue,{variant:e===l?"default":"outline",size:"sm",onClick:()=>r(l),disabled:s,className:"w-8 h-8 p-0",children:l})},c))}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:!n||s,className:"flex items-center space-x-1",children:[a.jsx("span",{className:"hidden sm:inline",children:"Suivant"}),a.jsx(Va,{className:"h-4 w-4"})]})]})},Pwe=x.forwardRef(({className:e="",...t},r)=>a.jsx("div",{className:`grid gap-2 ${e}`,ref:r,...t}));Pwe.displayName="RadioGroup";const Twe=x.forwardRef(({className:e="",...t},r)=>a.jsx("input",{type:"radio",className:`h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${e}`,ref:r,...t}));Twe.displayName="RadioGroupItem";function SF(e,[t,r]){return Math.min(r,Math.max(t,e))}function Wb(e){const t=Awe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Owe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Awe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=Mwe(i),l=Rwe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kwe=Symbol("radix.slottable");function Owe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kwe}function Rwe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Mwe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Iwe(e){const t=e+"CollectionProvider",[r,n]=Ar(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=K.useRef(null),C=K.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=Wb(l),u=K.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=Wb(f),v=K.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=K.useRef(null),P=at(_,A),k=s(f,S);return K.useEffect(()=>(k.itemMap.set(A,{ref:A,...C}),()=>void k.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:P,children:N})});v.displayName=f;function w(y){const _=s(e+"CollectionConsumer",y);return K.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((k,O)=>C.indexOf(k.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}var Lwe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pn=Lwe.reduce((e,t)=>{const r=Wb(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Dwe(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var $we="DismissableLayer",KT="dismissableLayer.update",Fwe="dismissableLayer.pointerDownOutside",Bwe="dismissableLayer.focusOutside",NF,PZ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TZ=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(PZ),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,P=Uwe(O=>{const I=O.target,z=[...u.branches].some(Y=>Y.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=Vwe(O=>{const I=O.target;[...u.branches].some(Y=>Y.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return uy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),CF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=NF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),CF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(KT,O),()=>document.removeEventListener(KT,O)},[]),a.jsx(pn.div,{...c,ref:w,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,P.onPointerDownCapture)})});TZ.displayName=$we;var zwe="DismissableLayerBranch",qwe=x.forwardRef((e,t)=>{const r=x.useContext(PZ),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(pn.div,{...e,ref:i})});qwe.displayName=zwe;function Uwe(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){AZ(Fwe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Vwe(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&AZ(Bwe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CF(){const e=new CustomEvent(KT);document.dispatchEvent(e)}function AZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Dwe(i,s):i.dispatchEvent(s)}var YS="focusScope.autoFocusOnMount",XS="focusScope.autoFocusOnUnmount",EF={bubbles:!1,cancelable:!0},Wwe="FocusScope",kZ=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=ur(i),f=ur(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?p.current=A:$c(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||$c(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&$c(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){TF.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(YS,EF);l.addEventListener(YS,u),l.dispatchEvent(S),S.defaultPrevented||(Hwe(Xwe(OZ(l)),{select:!0}),document.activeElement===y&&$c(l))}return()=>{l.removeEventListener(YS,u),setTimeout(()=>{const S=new CustomEvent(XS,EF);l.addEventListener(XS,f),l.dispatchEvent(S),S.defaultPrevented||$c(y??document.body,{select:!0}),l.removeEventListener(XS,f),TF.remove(v)},0)}}},[l,u,f,v]);const w=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,A]=Kwe(N);C&&A?!y.shiftKey&&S===A?(y.preventDefault(),r&&$c(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&$c(A,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(pn.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});kZ.displayName=Wwe;function Hwe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($c(n,{select:t}),document.activeElement!==r)return}function Kwe(e){const t=OZ(e),r=PF(t,e),n=PF(t.reverse(),e);return[r,n]}function OZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PF(e,t){for(const r of e)if(!Gwe(r,{upTo:t}))return r}function Gwe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zwe(e){return e instanceof HTMLInputElement&&"select"in e}function $c(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Zwe(e)&&t&&e.select()}}var TF=Ywe();function Ywe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=AF(e,t),e.unshift(t)},remove(t){e=AF(e,t),e[0]?.resume()}}}function AF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Xwe(e){return e.filter(t=>t.tagName!=="A")}var Qwe="Arrow",RZ=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(pn.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});RZ.displayName=Qwe;var Jwe=RZ,tM="Popper",[MZ,IZ]=Ar(tM),[e_e,LZ]=MZ(tM),DZ=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(e_e,{scope:t,anchor:n,onAnchorChange:i,children:r})};DZ.displayName=tM;var $Z="PopperAnchor",FZ=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=LZ($Z,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(pn.div,{...i,ref:l})});FZ.displayName=$Z;var rM="PopperContent",[t_e,r_e]=MZ(rM),BZ=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=LZ(rM,r),[S,N]=x.useState(null),C=at(t,oe=>N(oe)),[A,P]=x.useState(null),k=Kd(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Z=Array.isArray(u)?u:[u],V=Z.length>0,q={padding:Y,boundary:Z.filter(i_e),altBoundary:V},{refs:U,floatingStyles:re,placement:ae,isPositioned:se,middlewareData:X}=py({strategy:"fixed",placement:z,whileElementsMounted:(...oe)=>hy(...oe,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[my({mainAxis:i+I,alignmentAxis:o}),c&&gy({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?vy():void 0,...q}),c&&yy({...q}),xy({...q,apply:({elements:oe,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:J,height:H}=ge.reference,we=oe.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${J}px`),we.setProperty("--radix-popper-anchor-height",`${H}px`)}}),A&&wy({element:A,padding:l}),s_e({arrowWidth:O,arrowHeight:I}),g&&by({strategy:"referenceHidden",...q})]}),[Q,te]=UZ(ae),G=ur(w);sr(()=>{se&&G?.()},[se,G]);const ie=X.arrow?.x,xe=X.arrow?.y,Ne=X.arrow?.centerOffset!==0,[Le,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(t_e,{scope:r,placedSide:Q,onArrowChange:P,arrowX:ie,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(pn.div,{"data-side":Q,"data-align":te,...y,ref:C,style:{...y.style,animation:se?void 0:"none"}})})})});BZ.displayName=rM;var zZ="PopperArrow",n_e={top:"bottom",right:"left",bottom:"top",left:"right"},qZ=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=r_e(zZ,n),o=n_e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Jwe,{...i,ref:r,style:{...i.style,display:"block"}})})});qZ.displayName=zZ;function i_e(e){return e!==null}var s_e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=UZ(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function UZ(e){const[t,r="center"]=e.split("-");return[t,r]}var a_e=DZ,o_e=FZ,l_e=BZ,c_e=qZ,u_e="Portal",VZ=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);sr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?Qw.createPortal(a.jsx(pn.div,{...n,ref:t}),o):null});VZ.displayName=u_e;var WZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),d_e="VisuallyHidden",f_e=x.forwardRef((e,t)=>a.jsx(pn.span,{...e,ref:t,style:{...WZ,...e.style}}));f_e.displayName=d_e;var h_e=[" ","Enter","ArrowUp","ArrowDown"],p_e=[" ","Enter"],Od="Select",[B_,z_,m_e]=Iwe(Od),[Ip,tqe]=Ar(Od,[m_e,IZ]),q_=IZ(),[g_e,vu]=Ip(Od),[v_e,y_e]=Ip(Od),HZ=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:p,disabled:g,required:v,form:w}=e,y=q_(t),[_,S]=x.useState(null),[N,C]=x.useState(null),[A,P]=x.useState(!1),k=Ep(u),[O,I]=ts({prop:n,defaultProp:i??!1,onChange:s,caller:Od}),[z,Y]=ts({prop:o,defaultProp:l,onChange:c,caller:Od}),Z=x.useRef(null),V=_?w||!!_.closest("form"):!0,[q,U]=x.useState(new Set),re=Array.from(q).map(ae=>ae.props.value).join(";");return a.jsx(a_e,{...y,children:a.jsxs(g_e,{required:v,scope:t,trigger:_,onTriggerChange:S,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:Ji(),value:z,onValueChange:Y,open:O,onOpenChange:I,dir:k,triggerPointerDownPosRef:Z,disabled:g,children:[a.jsx(B_.Provider,{scope:t,children:a.jsx(v_e,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(ae=>{U(se=>new Set(se).add(ae))},[]),onNativeOptionRemove:x.useCallback(ae=>{U(se=>{const X=new Set(se);return X.delete(ae),X})},[]),children:r})}),V?a.jsxs(gY,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:p,value:z,onChange:ae=>Y(ae.target.value),disabled:g,form:w,children:[z===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},re):null]})})};HZ.displayName=Od;var KZ="SelectTrigger",GZ=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=q_(r),o=vu(KZ,r),l=o.disabled||n,c=at(t,o.onTriggerChange),u=z_(r),f=x.useRef("touch"),[p,g,v]=yY(y=>{const _=u().filter(C=>!C.disabled),S=_.find(C=>C.value===o.value),N=xY(_,y,S);N!==void 0&&o.onValueChange(N.value)}),w=y=>{l||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(o_e,{asChild:!0,...s,children:a.jsx(pn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vY(o.value)?"":void 0,...i,ref:c,onClick:Ue(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&w(y)}),onPointerDown:Ue(i.onPointerDown,y=>{f.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Ue(i.onKeyDown,y=>{const _=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(_&&y.key===" ")&&h_e.includes(y.key)&&(w(),y.preventDefault())})})})});GZ.displayName=KZ;var ZZ="SelectValue",YZ=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=e,c=vu(ZZ,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,p=at(t,c.onValueNodeChange);return sr(()=>{u(f)},[u,f]),a.jsx(pn.span,{...l,ref:p,style:{pointerEvents:"none"},children:vY(c.value)?a.jsx(a.Fragment,{children:o}):s})});YZ.displayName=ZZ;var x_e="SelectIcon",XZ=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(pn.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});XZ.displayName=x_e;var b_e="SelectPortal",QZ=e=>a.jsx(VZ,{asChild:!0,...e});QZ.displayName=b_e;var Rd="SelectContent",JZ=x.forwardRef((e,t)=>{const r=vu(Rd,e.__scopeSelect),[n,i]=x.useState();if(sr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Za.createPortal(a.jsx(eY,{scope:e.__scopeSelect,children:a.jsx(B_.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(tY,{...e,ref:t})});JZ.displayName=Rd;var Pa=10,[eY,yu]=Ip(Rd),w_e="SelectContentImpl",__e=Wb("SelectContent.RemoveScroll"),tY=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:_,...S}=e,N=vu(Rd,r),[C,A]=x.useState(null),[P,k]=x.useState(null),O=at(t,oe=>A(oe)),[I,z]=x.useState(null),[Y,Z]=x.useState(null),V=z_(r),[q,U]=x.useState(!1),re=x.useRef(!1);x.useEffect(()=>{if(C)return P_(C)},[C]),hR();const ae=x.useCallback(oe=>{const[ge,...he]=V().map(H=>H.ref.current),[Pe]=he.slice(-1),J=document.activeElement;for(const H of oe)if(H===J||(H?.scrollIntoView({block:"nearest"}),H===ge&&P&&(P.scrollTop=0),H===Pe&&P&&(P.scrollTop=P.scrollHeight),H?.focus(),document.activeElement!==J))return},[V,P]),se=x.useCallback(()=>ae([I,C]),[ae,I,C]);x.useEffect(()=>{q&&se()},[q,se]);const{onOpenChange:X,triggerPointerDownPosRef:Q}=N;x.useEffect(()=>{if(C){let oe={x:0,y:0};const ge=Pe=>{oe={x:Math.abs(Math.round(Pe.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(Q.current?.y??0))}},he=Pe=>{oe.x<=10&&oe.y<=10?Pe.preventDefault():C.contains(Pe.target)||X(!1),document.removeEventListener("pointermove",ge),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,X,Q]),x.useEffect(()=>{const oe=()=>X(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[X]);const[te,G]=yY(oe=>{const ge=V().filter(J=>!J.disabled),he=ge.find(J=>J.ref.current===document.activeElement),Pe=xY(ge,oe,he);Pe&&setTimeout(()=>Pe.ref.current.focus())}),ie=x.useCallback((oe,ge,he)=>{const Pe=!re.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&(z(oe),Pe&&(re.current=!0))},[N.value]),xe=x.useCallback(()=>C?.focus(),[C]),Ne=x.useCallback((oe,ge,he)=>{const Pe=!re.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&Z(oe)},[N.value]),Le=n==="popper"?GT:rY,ce=Le===GT?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:_}:{};return a.jsx(eY,{scope:r,content:C,viewport:P,onViewportChange:k,itemRefCallback:ie,selectedItem:I,onItemLeave:xe,itemTextRefCallback:Ne,focusSelectedItem:se,selectedItemText:Y,position:n,isPositioned:q,searchRef:te,children:a.jsx(dy,{as:__e,allowPinchZoom:!0,children:a.jsx(kZ,{asChild:!0,trapped:N.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ue(i,oe=>{N.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:a.jsx(TZ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(Le,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:oe=>oe.preventDefault(),...S,...ce,onPlaced:()=>U(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ue(S.onKeyDown,oe=>{const ge=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ge&&oe.key.length===1&&G(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Pe=V().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const J=oe.target,H=Pe.indexOf(J);Pe=Pe.slice(H+1)}setTimeout(()=>ae(Pe)),oe.preventDefault()}})})})})})})});tY.displayName=w_e;var j_e="SelectItemAlignedPosition",rY=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=vu(Rd,r),o=yu(Rd,r),[l,c]=x.useState(null),[u,f]=x.useState(null),p=at(t,O=>f(O)),g=z_(r),v=x.useRef(!1),w=x.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:S,focusSelectedItem:N}=o,C=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&_&&S){const O=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),Y=S.getBoundingClientRect();if(s.dir!=="rtl"){const J=Y.left-I.left,H=z.left-J,we=O.left-H,be=O.width+we,Ve=Math.max(be,I.width),qe=window.innerWidth-Pa,Se=SF(H,[Pa,Math.max(Pa,qe-Ve)]);l.style.minWidth=be+"px",l.style.left=Se+"px"}else{const J=I.right-Y.right,H=window.innerWidth-z.right-J,we=window.innerWidth-O.right-H,be=O.width+we,Ve=Math.max(be,I.width),qe=window.innerWidth-Pa,Se=SF(H,[Pa,Math.max(Pa,qe-Ve)]);l.style.minWidth=be+"px",l.style.right=Se+"px"}const Z=g(),V=window.innerHeight-Pa*2,q=y.scrollHeight,U=window.getComputedStyle(u),re=parseInt(U.borderTopWidth,10),ae=parseInt(U.paddingTop,10),se=parseInt(U.borderBottomWidth,10),X=parseInt(U.paddingBottom,10),Q=re+ae+q+X+se,te=Math.min(_.offsetHeight*5,Q),G=window.getComputedStyle(y),ie=parseInt(G.paddingTop,10),xe=parseInt(G.paddingBottom,10),Ne=O.top+O.height/2-Pa,Le=V-Ne,ce=_.offsetHeight/2,oe=_.offsetTop+ce,ge=re+ae+oe,he=Q-ge;if(ge<=Ne){const J=Z.length>0&&_===Z[Z.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-y.offsetTop-y.offsetHeight,we=Math.max(Le,ce+(J?xe:0)+H+se),be=ge+we;l.style.height=be+"px"}else{const J=Z.length>0&&_===Z[0].ref.current;l.style.top="0px";const we=Math.max(Ne,re+y.offsetTop+(J?ie:0)+ce)+he;l.style.height=we+"px",y.scrollTop=ge-Ne+y.offsetTop}l.style.margin=`${Pa}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=V+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,l,u,y,_,S,s.dir,n]);sr(()=>C(),[C]);const[A,P]=x.useState();sr(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const k=x.useCallback(O=>{O&&w.current===!0&&(C(),N?.(),w.current=!1)},[C,N]);return a.jsx(N_e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(pn.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});rY.displayName=j_e;var S_e="SelectPopperPosition",GT=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Pa,...s}=e,o=q_(r);return a.jsx(l_e,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});GT.displayName=S_e;var[N_e,nM]=Ip(Rd,{}),ZT="SelectViewport",nY=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=yu(ZT,r),o=nM(ZT,r),l=at(t,s.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(B_.Slot,{scope:r,children:a.jsx(pn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const v=Math.abs(c.current-f.scrollTop);if(v>0){const w=window.innerHeight-Pa*2,y=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),S=Math.max(y,_);if(S<w){const N=S+v,C=Math.min(w,N),A=N-C;p.style.height=C+"px",p.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});nY.displayName=ZT;var iY="SelectGroup",[C_e,E_e]=Ip(iY),P_e=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ji();return a.jsx(C_e,{scope:r,id:i,children:a.jsx(pn.div,{role:"group","aria-labelledby":i,...n,ref:t})})});P_e.displayName=iY;var sY="SelectLabel",aY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=E_e(sY,r);return a.jsx(pn.div,{id:i.id,...n,ref:t})});aY.displayName=sY;var Hb="SelectItem",[T_e,oY]=Ip(Hb),lY=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,l=vu(Hb,r),c=yu(Hb,r),u=l.value===n,[f,p]=x.useState(s??""),[g,v]=x.useState(!1),w=at(t,N=>c.itemRefCallback?.(N,n,i)),y=Ji(),_=x.useRef("touch"),S=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(T_e,{scope:r,value:n,disabled:i,textId:y,isSelected:u,onItemTextChange:x.useCallback(N=>{p(C=>C||(N?.textContent??"").trim())},[]),children:a.jsx(B_.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:a.jsx(pn.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Ue(o.onFocus,()=>v(!0)),onBlur:Ue(o.onBlur,()=>v(!1)),onClick:Ue(o.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Ue(o.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Ue(o.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:Ue(o.onPointerMove,N=>{_.current=N.pointerType,i?c.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ue(o.onKeyDown,N=>{c.searchRef?.current!==""&&N.key===" "||(p_e.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});lY.displayName=Hb;var vg="SelectItemText",cY=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=vu(vg,r),l=yu(vg,r),c=oY(vg,r),u=y_e(vg,r),[f,p]=x.useState(null),g=at(t,S=>p(S),c.onItemTextChange,S=>l.itemTextRefCallback?.(S,c.value,c.disabled)),v=f?.textContent,w=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=u;return sr(()=>(y(w),()=>_(w)),[y,_,w]),a.jsxs(a.Fragment,{children:[a.jsx(pn.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Za.createPortal(s.children,o.valueNode):null]})});cY.displayName=vg;var uY="SelectItemIndicator",dY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return oY(uY,r).isSelected?a.jsx(pn.span,{"aria-hidden":!0,...n,ref:t}):null});dY.displayName=uY;var YT="SelectScrollUpButton",fY=x.forwardRef((e,t)=>{const r=yu(YT,e.__scopeSelect),n=nM(YT,e.__scopeSelect),[i,s]=x.useState(!1),o=at(t,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(pY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fY.displayName=YT;var XT="SelectScrollDownButton",hY=x.forwardRef((e,t)=>{const r=yu(XT,e.__scopeSelect),n=nM(XT,e.__scopeSelect),[i,s]=x.useState(!1),o=at(t,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(pY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hY.displayName=XT;var pY=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=yu("SelectScrollButton",r),o=x.useRef(null),l=z_(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),sr(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(pn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ue(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{c()})})}),A_e="SelectSeparator",mY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(pn.div,{"aria-hidden":!0,...n,ref:t})});mY.displayName=A_e;var QT="SelectArrow",k_e=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=q_(r),s=vu(QT,r),o=yu(QT,r);return s.open&&o.position==="popper"?a.jsx(c_e,{...i,...n,ref:t}):null});k_e.displayName=QT;var O_e="SelectBubbleInput",gY=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=x.useRef(null),s=at(n,i),o=TR(t);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const p=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(pn.select,{...r,style:{...WZ,...r.style},ref:s,defaultValue:t})});gY.displayName=O_e;function vY(e){return e===""||e===void 0}function yY(e){const t=ur(e),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function xY(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=R_e(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function R_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var M_e=HZ,bY=GZ,I_e=YZ,L_e=XZ,D_e=QZ,wY=JZ,$_e=nY,_Y=aY,jY=lY,F_e=cY,B_e=dY,SY=fY,NY=hY,CY=mY;const Cr=M_e,Er=I_e,jr=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(bY,{ref:n,className:Ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(L_e,{asChild:!0,children:a.jsx(Sl,{className:"h-4 w-4 opacity-50"})})]}));jr.displayName=bY.displayName;const EY=x.forwardRef(({className:e,...t},r)=>a.jsx(SY,{ref:r,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(bd,{className:"h-4 w-4"})}));EY.displayName=SY.displayName;const PY=x.forwardRef(({className:e,...t},r)=>a.jsx(NY,{ref:r,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Sl,{className:"h-4 w-4"})}));PY.displayName=NY.displayName;const Sr=x.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>a.jsx(D_e,{children:a.jsxs(wY,{ref:i,className:Ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(EY,{}),a.jsx($_e,{className:Ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(PY,{})]})}));Sr.displayName=wY.displayName;const z_e=x.forwardRef(({className:e,...t},r)=>a.jsx(_Y,{ref:r,className:Ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));z_e.displayName=_Y.displayName;const Ke=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(jY,{ref:n,className:Ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(B_e,{children:a.jsx(Yg,{className:"h-4 w-4"})})}),a.jsx(F_e,{children:t})]}));Ke.displayName=jY.displayName;const q_e=x.forwardRef(({className:e,...t},r)=>a.jsx(CY,{ref:r,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));q_e.displayName=CY.displayName;function U_e(e){const t=V_e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(H_e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function V_e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=G_e(i),l=K_e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W_e=Symbol("radix.slottable");function H_e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W_e}function K_e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function G_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Z_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y_e=Z_e.reduce((e,t)=>{const r=U_e(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),X_e="Separator",kF="horizontal",Q_e=["horizontal","vertical"],TY=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=kF,...i}=e,s=J_e(n)?n:kF,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Y_e.div,{"data-orientation":s,...l,...i,ref:t})});TY.displayName=X_e;function J_e(e){return Q_e.includes(e)}var AY=TY;const rv=K.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>a.jsx(AY,{ref:i,decorative:r,orientation:t,className:Ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));rv.displayName=AY.displayName;const mo=({className:e,...t})=>a.jsx("div",{className:Ge("animate-pulse rounded-md bg-muted",e),...t}),e1e=()=>a.jsxs("div",{className:"bg-card rounded-lg shadow-lg overflow-hidden",children:[a.jsx(mo,{className:"h-48 w-full"}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx(mo,{className:"h-4 w-3/4"}),a.jsx(mo,{className:"h-4 w-1/2"}),a.jsx(mo,{className:"h-6 w-1/3"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(mo,{className:"h-4 w-20"}),a.jsx(mo,{className:"h-8 w-20 rounded"})]})]})]}),t1e=()=>a.jsxs("div",{className:"bg-card rounded-lg p-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(mo,{className:"h-4 w-1/2"}),a.jsx(mo,{className:"h-8 w-8 rounded"})]}),a.jsx(mo,{className:"h-8 w-1/3"}),a.jsx(mo,{className:"h-3 w-2/3"})]});function r1e(e){const t=n1e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(s1e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function n1e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=o1e(i),l=a1e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var i1e=Symbol("radix.slottable");function s1e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===i1e}function a1e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function o1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var l1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kY=l1e.reduce((e,t)=>{const r=r1e(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),U_="Switch",[c1e,rqe]=Ar(U_),[u1e,d1e]=c1e(U_),OY=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...p}=e,[g,v]=x.useState(null),w=at(t,C=>v(C)),y=x.useRef(!1),_=g?f||!!g.closest("form"):!0,[S,N]=ts({prop:i,defaultProp:s??!1,onChange:u,caller:U_});return a.jsxs(u1e,{scope:r,checked:S,disabled:l,children:[a.jsx(kY.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":LY(S),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:w,onClick:Ue(e.onClick,C=>{N(A=>!A),_&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),_&&a.jsx(IY,{control:g,bubbles:!y.current,name:n,value:c,checked:S,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});OY.displayName=U_;var RY="SwitchThumb",MY=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=d1e(RY,r);return a.jsx(kY.span,{"data-state":LY(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});MY.displayName=RY;var f1e="SwitchBubbleInput",IY=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const o=x.useRef(null),l=at(o,s),c=TR(r),u=Kd(t);return x.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&v){const w=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(w)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});IY.displayName=f1e;function LY(e){return e?"checked":"unchecked"}var DY=OY,h1e=MY;const yg=x.forwardRef(({className:e,...t},r)=>a.jsx(DY,{className:Ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(h1e,{className:Ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yg.displayName=DY.displayName;const Lp=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Ge("w-full caption-bottom text-sm",e),...t})}));Lp.displayName="Table";const Dp=x.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Ge("[&_tr]:border-b",e),...t}));Dp.displayName="TableHeader";const $p=x.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Ge("[&_tr:last-child]:border-0",e),...t}));$p.displayName="TableBody";const p1e=x.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));p1e.displayName="TableFooter";const tn=x.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));tn.displayName="TableRow";const lr=x.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));lr.displayName="TableHead";const Ot=x.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableCell";const m1e=x.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Ge("mt-4 text-sm text-muted-foreground",e),...t}));m1e.displayName="TableCaption";const Md=K.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Md.displayName="Textarea";var g1e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),v1e="VisuallyHidden",iM=x.forwardRef((e,t)=>a.jsx(er.span,{...e,ref:t,style:{...g1e,...e.style}}));iM.displayName=v1e;var y1e="ToastProvider",[$Y,x1e,b1e]=OR("Toast"),[FY,nqe]=Ar("Toast",[b1e]),[iqe,V_]=FY(y1e),BY="ToastViewport",w1e=["F8"],JT="toast.viewportPause",eA="toast.viewportResume",zY=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=w1e,label:i="Notifications ({hotkey})",...s}=e,o=V_(BY,r),l=x1e(r),c=x.useRef(null),u=x.useRef(null),f=x.useRef(null),p=x.useRef(null),g=at(t,p,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;x.useEffect(()=>{const _=S=>{n.length!==0&&n.every(C=>S[C]||S.code===C)&&p.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),x.useEffect(()=>{const _=c.current,S=p.current;if(w&&_&&S){const N=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(JT);S.dispatchEvent(k),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(eA);S.dispatchEvent(k),o.isClosePausedRef.current=!1}},A=k=>{!_.contains(k.relatedTarget)&&C()},P=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",N),_.addEventListener("focusout",A),_.addEventListener("pointermove",N),_.addEventListener("pointerleave",P),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",N),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",N),_.removeEventListener("pointerleave",P),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[w,o.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:_})=>{const N=l().map(C=>{const A=C.ref.current,P=[A,...M1e(A)];return _==="forwards"?P:P.reverse()});return(_==="forwards"?N.reverse():N).flat()},[l]);return x.useEffect(()=>{const _=p.current;if(_){const S=N=>{const C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){const P=document.activeElement,k=N.shiftKey;if(N.target===_&&k){u.current?.focus();return}const z=y({tabbingDirection:k?"backwards":"forwards"}),Y=z.findIndex(Z=>Z===P);QS(z.slice(Y+1))?N.preventDefault():k?u.current?.focus():f.current?.focus()}};return _.addEventListener("keydown",S),()=>_.removeEventListener("keydown",S)}},[l,y]),a.jsxs(zge,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(tA,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});QS(_)}}),a.jsx($Y.Slot,{scope:r,children:a.jsx(er.ol,{tabIndex:-1,...s,ref:g})}),w&&a.jsx(tA,{ref:f,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});QS(_)}})]})});zY.displayName=BY;var qY="ToastFocusProxy",tA=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=V_(qY,r);return a.jsx(iM,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&n()}})});tA.displayName=qY;var Ey="Toast",_1e="toast.swipeStart",j1e="toast.swipeMove",S1e="toast.swipeCancel",N1e="toast.swipeEnd",UY=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=e,[l,c]=ts({prop:n,defaultProp:i??!0,onChange:s,caller:Ey});return a.jsx(rs,{present:r||l,children:a.jsx(P1e,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ur(e.onPause),onResume:ur(e.onResume),onSwipeStart:Ue(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});UY.displayName=Ey;var[C1e,E1e]=FY(Ey,{onClose(){}}),P1e=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:v,...w}=e,y=V_(Ey,r),[_,S]=x.useState(null),N=at(t,U=>S(U)),C=x.useRef(null),A=x.useRef(null),P=i||y.duration,k=x.useRef(0),O=x.useRef(P),I=x.useRef(0),{onToastAdd:z,onToastRemove:Y}=y,Z=ur(()=>{_?.contains(document.activeElement)&&y.viewport?.focus(),o()}),V=x.useCallback(U=>{!U||U===1/0||(window.clearTimeout(I.current),k.current=new Date().getTime(),I.current=window.setTimeout(Z,U))},[Z]);x.useEffect(()=>{const U=y.viewport;if(U){const re=()=>{V(O.current),u?.()},ae=()=>{const se=new Date().getTime()-k.current;O.current=O.current-se,window.clearTimeout(I.current),c?.()};return U.addEventListener(JT,ae),U.addEventListener(eA,re),()=>{U.removeEventListener(JT,ae),U.removeEventListener(eA,re)}}},[y.viewport,P,c,u,V]),x.useEffect(()=>{s&&!y.isClosePausedRef.current&&V(P)},[s,P,y.isClosePausedRef,V]),x.useEffect(()=>(z(),()=>Y()),[z,Y]);const q=x.useMemo(()=>_?YY(_):null,[_]);return y.viewport?a.jsxs(a.Fragment,{children:[q&&a.jsx(T1e,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),a.jsx(C1e,{scope:r,onClose:Z,children:Za.createPortal(a.jsx($Y.ItemSlot,{scope:r,children:a.jsx(Bge,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||Z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(er.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,U=>{U.key==="Escape"&&(l?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,Z()))}),onPointerDown:Ue(e.onPointerDown,U=>{U.button===0&&(C.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ue(e.onPointerMove,U=>{if(!C.current)return;const re=U.clientX-C.current.x,ae=U.clientY-C.current.y,se=!!A.current,X=["left","right"].includes(y.swipeDirection),Q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,te=X?Q(0,re):0,G=X?0:Q(0,ae),ie=U.pointerType==="touch"?10:2,xe={x:te,y:G},Ne={originalEvent:U,delta:xe};se?(A.current=xe,w0(j1e,p,Ne,{discrete:!1})):OF(xe,y.swipeDirection,ie)?(A.current=xe,w0(_1e,f,Ne,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(re)>ie||Math.abs(ae)>ie)&&(C.current=null)}),onPointerUp:Ue(e.onPointerUp,U=>{const re=A.current,ae=U.target;if(ae.hasPointerCapture(U.pointerId)&&ae.releasePointerCapture(U.pointerId),A.current=null,C.current=null,re){const se=U.currentTarget,X={originalEvent:U,delta:re};OF(re,y.swipeDirection,y.swipeThreshold)?w0(N1e,v,X,{discrete:!0}):w0(S1e,g,X,{discrete:!0}),se.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),T1e=e=>{const{__scopeToast:t,children:r,...n}=e,i=V_(Ey,t),[s,o]=x.useState(!1),[l,c]=x.useState(!1);return O1e(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(C_,{asChild:!0,children:a.jsx(iM,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},A1e="ToastTitle",VY=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});VY.displayName=A1e;var k1e="ToastDescription",WY=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});WY.displayName=k1e;var HY="ToastAction",KY=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(ZY,{altText:r,asChild:!0,children:a.jsx(sM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${HY}\`. Expected non-empty \`string\`.`),null)});KY.displayName=HY;var GY="ToastClose",sM=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=E1e(GY,r);return a.jsx(ZY,{asChild:!0,children:a.jsx(er.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,i.onClose)})})});sM.displayName=GY;var ZY=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return a.jsx(er.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function YY(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),R1e(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...YY(n))}}),t}function w0(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?nR(i,s):i.dispatchEvent(s)}var OF=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function O1e(e=()=>{}){const t=ur(e);sr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function R1e(e){return e.nodeType===e.ELEMENT_NODE}function M1e(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function QS(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var XY=zY,QY=UY,JY=VY,eX=WY,tX=KY,rX=sM;const I1e=K.forwardRef(({className:e,...t},r)=>a.jsx(XY,{ref:r,className:Ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));I1e.displayName=XY.displayName;const L1e=p_("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D1e=K.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(QY,{ref:n,className:Ge(L1e({variant:t}),e),...r}));D1e.displayName=QY.displayName;const $1e=K.forwardRef(({className:e,...t},r)=>a.jsx(tX,{ref:r,className:Ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$1e.displayName=tX.displayName;const F1e=K.forwardRef(({className:e,...t},r)=>a.jsx(rX,{ref:r,className:Ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ms,{className:"h-4 w-4"})}));F1e.displayName=rX.displayName;const B1e=K.forwardRef(({className:e,...t},r)=>a.jsx(JY,{ref:r,className:Ge("text-sm font-semibold",e),...t}));B1e.displayName=JY.displayName;const z1e=K.forwardRef(({className:e,...t},r)=>a.jsx(eX,{ref:r,className:Ge("text-sm opacity-90",e),...t}));z1e.displayName=eX.displayName;function q1e(e){const t=U1e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(W1e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function U1e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=K1e(i),l=H1e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Is(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nX=Symbol("radix.slottable");function V1e(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=nX,t}function W1e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nX}function H1e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function K1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var G1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yd=G1e.reduce((e,t)=>{const r=q1e(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Z1e(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}var Y1e="DismissableLayer",rA="dismissableLayer.update",X1e="dismissableLayer.pointerDownOutside",Q1e="dismissableLayer.focusOutside",RF,iX=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sX=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(iX),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),w=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,P=tje(O=>{const I=O.target,z=[...u.branches].some(Y=>Y.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=rje(O=>{const I=O.target;[...u.branches].some(Y=>Y.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return uy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),MF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=RF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),MF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(rA,O),()=>document.removeEventListener(rA,O)},[]),a.jsx(Yd.div,{...c,ref:w,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,P.onPointerDownCapture)})});sX.displayName=Y1e;var J1e="DismissableLayerBranch",eje=x.forwardRef((e,t)=>{const r=x.useContext(iX),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Yd.div,{...e,ref:i})});eje.displayName=J1e;function tje(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){aX(X1e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function rje(e,t=globalThis?.document){const r=ur(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&aX(Q1e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function MF(){const e=new CustomEvent(rA);document.dispatchEvent(e)}function aX(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Z1e(i,s):i.dispatchEvent(s)}var nje="Arrow",oX=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Yd.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});oX.displayName=nje;var ije=oX,aM="Popper",[lX,cX]=Ar(aM),[sje,uX]=lX(aM),dX=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(sje,{scope:t,anchor:n,onAnchorChange:i,children:r})};dX.displayName=aM;var fX="PopperAnchor",hX=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=uX(fX,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Yd.div,{...i,ref:l})});hX.displayName=fX;var oM="PopperContent",[aje,oje]=lX(oM),pX=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,_=uX(oM,r),[S,N]=x.useState(null),C=at(t,oe=>N(oe)),[A,P]=x.useState(null),k=Kd(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Z=Array.isArray(u)?u:[u],V=Z.length>0,q={padding:Y,boundary:Z.filter(cje),altBoundary:V},{refs:U,floatingStyles:re,placement:ae,isPositioned:se,middlewareData:X}=py({strategy:"fixed",placement:z,whileElementsMounted:(...oe)=>hy(...oe,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[my({mainAxis:i+I,alignmentAxis:o}),c&&gy({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?vy():void 0,...q}),c&&yy({...q}),xy({...q,apply:({elements:oe,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:J,height:H}=ge.reference,we=oe.floating.style;we.setProperty("--radix-popper-available-width",`${he}px`),we.setProperty("--radix-popper-available-height",`${Pe}px`),we.setProperty("--radix-popper-anchor-width",`${J}px`),we.setProperty("--radix-popper-anchor-height",`${H}px`)}}),A&&wy({element:A,padding:l}),uje({arrowWidth:O,arrowHeight:I}),g&&by({strategy:"referenceHidden",...q})]}),[Q,te]=vX(ae),G=ur(w);sr(()=>{se&&G?.()},[se,G]);const ie=X.arrow?.x,xe=X.arrow?.y,Ne=X.arrow?.centerOffset!==0,[Le,ce]=x.useState();return sr(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(aje,{scope:r,placedSide:Q,onArrowChange:P,arrowX:ie,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(Yd.div,{"data-side":Q,"data-align":te,...y,ref:C,style:{...y.style,animation:se?void 0:"none"}})})})});pX.displayName=oM;var mX="PopperArrow",lje={top:"bottom",right:"left",bottom:"top",left:"right"},gX=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=oje(mX,n),o=lje[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(ije,{...i,ref:r,style:{...i.style,display:"block"}})})});gX.displayName=mX;function cje(e){return e!==null}var uje=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=vX(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-c}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function vX(e){const[t,r="center"]=e.split("-");return[t,r]}var dje=dX,fje=hX,hje=pX,pje=gX,mje=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gje="VisuallyHidden",yX=x.forwardRef((e,t)=>a.jsx(Yd.span,{...e,ref:t,style:{...mje,...e.style}}));yX.displayName=gje;var vje=yX,[W_,sqe]=Ar("Tooltip",[cX]),H_=cX(),xX="TooltipProvider",yje=700,nA="tooltip.open",[xje,lM]=W_(xX),bX=e=>{const{__scopeTooltip:t,delayDuration:r=yje,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(xje,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};bX.displayName=xX;var nv="Tooltip",[bje,K_]=W_(nv),wX=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=lM(nv,e.__scopeTooltip),u=H_(t),[f,p]=x.useState(null),g=Ji(),v=x.useRef(0),w=o??c.disableHoverableContent,y=l??c.delayDuration,_=x.useRef(!1),[S,N]=ts({prop:n,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(nA))):c.onClose(),s?.(O)},caller:nv}),C=x.useMemo(()=>S?_.current?"delayed-open":"instant-open":"closed",[S]),A=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,N(!0)},[N]),P=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N(!1)},[N]),k=x.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,N(!0),v.current=0},y)},[y,N]);return x.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(dje,{...u,children:a.jsx(bje,{scope:t,contentId:g,open:S,stateAttribute:C,trigger:f,onTriggerChange:p,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?k():A()},[c.isOpenDelayedRef,k,A]),onTriggerLeave:x.useCallback(()=>{w?P():(window.clearTimeout(v.current),v.current=0)},[P,w]),onOpen:A,onClose:P,disableHoverableContent:w,children:r})})};wX.displayName=nv;var iA="TooltipTrigger",_X=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=K_(iA,r),s=lM(iA,r),o=H_(r),l=x.useRef(null),c=at(t,l,i.onTriggerChange),u=x.useRef(!1),f=x.useRef(!1),p=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(fje,{asChild:!0,...o,children:a.jsx(Yd.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ue(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ue(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ue(e.onBlur,i.onClose),onClick:Ue(e.onClick,i.onClose)})})});_X.displayName=iA;var wje="TooltipPortal",[aqe,_je]=W_(wje,{forceMount:void 0}),qh="TooltipContent",jX=x.forwardRef((e,t)=>{const r=_je(qh,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,o=K_(qh,e.__scopeTooltip);return a.jsx(rs,{present:n||o.open,children:o.disableHoverableContent?a.jsx(SX,{side:i,...s,ref:t}):a.jsx(jje,{side:i,...s,ref:t})})}),jje=x.forwardRef((e,t)=>{const r=K_(qh,e.__scopeTooltip),n=lM(qh,e.__scopeTooltip),i=x.useRef(null),s=at(t,i),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:p}=n,g=x.useCallback(()=>{l(null),p(!1)},[p]),v=x.useCallback((w,y)=>{const _=w.currentTarget,S={x:w.clientX,y:w.clientY},N=Pje(S,_.getBoundingClientRect()),C=Tje(S,N),A=Aje(y.getBoundingClientRect()),P=Oje([...C,...A]);l(P),p(!0)},[p]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(c&&f){const w=_=>v(_,f),y=_=>v(_,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",y)}}},[c,f,v,g]),x.useEffect(()=>{if(o){const w=y=>{const _=y.target,S={x:y.clientX,y:y.clientY},N=c?.contains(_)||f?.contains(_),C=!kje(S,o);N?g():C&&(g(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,o,u,g]),a.jsx(SX,{...e,ref:s})}),[Sje,Nje]=W_(nv,{isInside:!1}),Cje=V1e("TooltipContent"),SX=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=K_(qh,r),u=H_(r),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(nA,f),()=>document.removeEventListener(nA,f)),[f]),x.useEffect(()=>{if(c.trigger){const p=g=>{g.target?.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),a.jsx(sX,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:a.jsxs(hje,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Cje,{children:n}),a.jsx(Sje,{scope:r,isInside:!0,children:a.jsx(vje,{id:c.contentId,role:"tooltip",children:i||n})})]})})});jX.displayName=qh;var NX="TooltipArrow",Eje=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=H_(r);return Nje(NX,r).isInside?null:a.jsx(pje,{...i,...n,ref:t})});Eje.displayName=NX;function Pje(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Tje(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Aje(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function kje(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function Oje(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Rje(t)}function Rje(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Mje=bX,Ije=wX,Lje=_X,CX=jX;const hh=Mje,vo=Ije,yo=Lje,Ia=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(CX,{ref:n,sideOffset:t,className:Ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ia.displayName=CX.displayName;const iv=({user:e,size:t="default",className:r,showFallbackIcon:n=!1})=>{if(!e)return a.jsx(RT,{className:Ge("bg-gray-200",t==="sm"&&"h-8 w-8",t==="default"&&"h-10 w-10",t==="lg"&&"h-12 w-12",t==="xl"&&"h-16 w-16",r),children:a.jsx(MT,{className:"bg-gray-200 text-gray-600",children:a.jsx(Yi,{className:"h-4 w-4"})})});const i=()=>{const c=e.first_name||"",u=e.last_name||"";return c&&u?`${c.charAt(0)}${u.charAt(0)}`.toUpperCase():c?c.charAt(0).toUpperCase():u?u.charAt(0).toUpperCase():e.email?e.email.charAt(0).toUpperCase():"?"},s=()=>{const c=`${e.first_name||""}${e.last_name||""}`.toLowerCase();if(!c)return"bg-gray-500";const u=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"];let f=0;for(let p=0;p<c.length;p++)f=c.charCodeAt(p)+((f<<5)-f);return u[Math.abs(f)%u.length]},o=()=>{switch(t){case"sm":return"h-8 w-8";case"lg":return"h-12 w-12";case"xl":return"h-16 w-16";default:return"h-10 w-10"}},l=()=>{switch(t){case"sm":return"text-xs";case"lg":return"text-lg";case"xl":return"text-2xl";default:return"text-sm"}};return a.jsxs(RT,{className:Ge(o(),r),children:[e.avatar_url&&a.jsx(iK,{src:e.avatar_url,alt:`${e.first_name||""} ${e.last_name||""}`,onError:c=>{c.target.style.display="none"}}),a.jsx(MT,{className:Ge(s(),"text-white font-semibold",l()),children:n?a.jsx(Yi,{className:Ge(t==="sm"&&"h-3 w-3",t==="default"&&"h-4 w-4",t==="lg"&&"h-5 w-5",t==="xl"&&"h-6 w-6")}):i()})]})},_0=({error:e,className:t="",showIcon:r=!0})=>e?a.jsxs("div",{className:Ge("flex items-start gap-1.5 text-xs text-red-600 mt-1",t),children:[r&&a.jsx(Gn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:e})]}):null,Dje=(e={})=>({getFieldError:o=>e[o]||null,hasFieldError:o=>!!e[o],hasAnyErrors:()=>Object.keys(e).length>0,clearFieldError:(o,l)=>{l&&e[o]&&l(c=>{const u={...c};return delete u[o],u})},clearAllErrors:o=>{o&&o({})}});var cr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(cr||(cr={}));var IF;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(IF||(IF={}));const dt=cr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fc=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return Number.isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},Je=cr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Io extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Io))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,cr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Io.create=e=>new Io(e);const sA=(e,t)=>{let r;switch(e.code){case Je.invalid_type:e.received===dt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Je.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,cr.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:r=`Unrecognized key(s) in object: ${cr.joinValues(e.keys,", ")}`;break;case Je.invalid_union:r="Invalid input";break;case Je.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${cr.joinValues(e.options)}`;break;case Je.invalid_enum_value:r=`Invalid enum value. Expected ${cr.joinValues(e.options)}, received '${e.received}'`;break;case Je.invalid_arguments:r="Invalid function arguments";break;case Je.invalid_return_type:r="Invalid function return type";break;case Je.invalid_date:r="Invalid date";break;case Je.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:cr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Je.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Je.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Je.custom:r="Invalid input";break;case Je.invalid_intersection_types:r="Intersection results could not be merged";break;case Je.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Je.not_finite:r="Number must be finite";break;default:r=t.defaultError,cr.assertNever(e)}return{message:r}};let $je=sA;function Fje(){return $je}const Bje=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function it(e,t){const r=Fje(),n=Bje({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===sA?void 0:sA].filter(i=>!!i)});e.common.issues.push(n)}class Li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return At;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return Li.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return At;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const At=Object.freeze({status:"aborted"}),xg=e=>({status:"dirty",value:e}),ua=e=>({status:"valid",value:e}),LF=e=>e.status==="aborted",DF=e=>e.status==="dirty",Uh=e=>e.status==="valid",Kb=e=>typeof Promise<"u"&&e instanceof Promise;var gt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(gt||(gt={}));class Lo{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $F=(e,t)=>{if(Uh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Io(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class Jt{get description(){return this._def.description}_getType(t){return Fc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Fc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Li,ctx:{common:t.parent.common,data:t.data,parsedType:Fc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Kb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Fc(t)},i=this._parseSync({data:t,path:n.path,parent:n});return $F(n,i)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Fc(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return Uh(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Uh(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Fc(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Kb(i)?i:Promise.resolve(i));return $F(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),l=()=>s.addIssue({code:Je.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Hh({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return eu.create(this,this._def)}nullable(){return Kh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Po.create(this)}promise(){return Xb.create(this,this._def)}or(t){return Gb.create([this,t],this._def)}and(t){return Zb.create(this,t,this._def)}transform(t){return new Hh({...zt(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cA({...zt(this._def),innerType:this,defaultValue:r,typeName:Tt.ZodDefault})}brand(){return new cSe({typeName:Tt.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new uA({...zt(this._def),innerType:this,catchValue:r,typeName:Tt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return cM.create(this,t)}readonly(){return dA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zje=/^c[^\s-]{8,}$/i,qje=/^[0-9a-z]+$/,Uje=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Vje=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wje=/^[a-z0-9_-]{21}$/i,Hje=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Kje=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Gje=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Zje="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let JS;const Yje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Qje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Jje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eSe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tSe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,EX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rSe=new RegExp(`^${EX}$`);function PX(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function nSe(e){return new RegExp(`^${PX(e)}$`)}function iSe(e){let t=`${EX}T${PX(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function sSe(e,t){return!!((t==="v4"||!t)&&Yje.test(e)||(t==="v6"||!t)&&Qje.test(e))}function aSe(e,t){if(!Hje.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function oSe(e,t){return!!((t==="v4"||!t)&&Xje.test(e)||(t==="v6"||!t)&&Jje.test(e))}class vl extends Jt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const s=this._getOrReturnCtx(t);return it(s,{code:Je.invalid_type,expected:dt.string,received:s.parsedType}),At}const n=new Li;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?it(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&it(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Gje.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"email",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")JS||(JS=new RegExp(Zje,"u")),JS.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"emoji",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Vje.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"uuid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Wje.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"nanoid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")zje.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cuid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")qje.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cuid2",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Uje.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"ulid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),it(i,{validation:"url",code:Je.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"regex",code:Je.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),it(i,{code:Je.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),it(i,{code:Je.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),it(i,{code:Je.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?iSe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Je.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?rSe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Je.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?nSe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Je.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Kje.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"duration",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?sSe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"ip",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?aSe(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"jwt",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?oSe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cidr",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?eSe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"base64",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?tSe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"base64url",code:Je.invalid_string,message:s.message}),n.dirty()):cr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Je.invalid_string,...gt.errToObj(n)})}_addCheck(t){return new vl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...gt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...gt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...gt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...gt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...gt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...gt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...gt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...gt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...gt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...gt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...gt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...gt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...gt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...gt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...gt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...gt.errToObj(r)})}nonempty(t){return this.min(1,gt.errToObj(t))}trim(){return new vl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vl.create=e=>new vl({checks:[],typeName:Tt.ZodString,coerce:e?.coerce??!1,...zt(e)});function lSe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class Vh extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const s=this._getOrReturnCtx(t);return it(s,{code:Je.invalid_type,expected:dt.number,received:s.parsedType}),At}let n;const i=new Li;for(const s of this._def.checks)s.kind==="int"?cr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Je.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Je.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Je.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?lSe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),it(n,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Je.not_finite,message:s.message}),i.dirty()):cr.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,i){return new Vh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(i)}]})}_addCheck(t){return new Vh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&cr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Vh.create=e=>new Vh({checks:[],typeName:Tt.ZodNumber,coerce:e?.coerce||!1,...zt(e)});class sv extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==dt.bigint)return this._getInvalidInput(t);let n;const i=new Li;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Je.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Je.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):cr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return it(r,{code:Je.invalid_type,expected:dt.bigint,received:r.parsedType}),At}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,i){return new sv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(i)}]})}_addCheck(t){return new sv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sv.create=e=>new sv({checks:[],typeName:Tt.ZodBigInt,coerce:e?.coerce??!1,...zt(e)});class aA extends Jt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const n=this._getOrReturnCtx(t);return it(n,{code:Je.invalid_type,expected:dt.boolean,received:n.parsedType}),At}return ua(t.data)}}aA.create=e=>new aA({typeName:Tt.ZodBoolean,coerce:e?.coerce||!1,...zt(e)});class av extends Jt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const s=this._getOrReturnCtx(t);return it(s,{code:Je.invalid_type,expected:dt.date,received:s.parsedType}),At}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return it(s,{code:Je.invalid_date}),At}const n=new Li;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Je.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Je.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):cr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new av({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:gt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:gt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}av.create=e=>new av({checks:[],coerce:e?.coerce||!1,typeName:Tt.ZodDate,...zt(e)});class FF extends Jt{_parse(t){if(this._getType(t)!==dt.symbol){const n=this._getOrReturnCtx(t);return it(n,{code:Je.invalid_type,expected:dt.symbol,received:n.parsedType}),At}return ua(t.data)}}FF.create=e=>new FF({typeName:Tt.ZodSymbol,...zt(e)});class BF extends Jt{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Je.invalid_type,expected:dt.undefined,received:n.parsedType}),At}return ua(t.data)}}BF.create=e=>new BF({typeName:Tt.ZodUndefined,...zt(e)});class zF extends Jt{_parse(t){if(this._getType(t)!==dt.null){const n=this._getOrReturnCtx(t);return it(n,{code:Je.invalid_type,expected:dt.null,received:n.parsedType}),At}return ua(t.data)}}zF.create=e=>new zF({typeName:Tt.ZodNull,...zt(e)});class oA extends Jt{constructor(){super(...arguments),this._any=!0}_parse(t){return ua(t.data)}}oA.create=e=>new oA({typeName:Tt.ZodAny,...zt(e)});class qF extends Jt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ua(t.data)}}qF.create=e=>new qF({typeName:Tt.ZodUnknown,...zt(e)});class du extends Jt{_parse(t){const r=this._getOrReturnCtx(t);return it(r,{code:Je.invalid_type,expected:dt.never,received:r.parsedType}),At}}du.create=e=>new du({typeName:Tt.ZodNever,...zt(e)});class UF extends Jt{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Je.invalid_type,expected:dt.void,received:n.parsedType}),At}return ua(t.data)}}UF.create=e=>new UF({typeName:Tt.ZodVoid,...zt(e)});class Po extends Jt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==dt.array)return it(r,{code:Je.invalid_type,expected:dt.array,received:r.parsedType}),At;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(it(r,{code:o?Je.too_big:Je.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(it(r,{code:Je.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(it(r,{code:Je.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Lo(r,o,r.path,l)))).then(o=>Li.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new Lo(r,o,r.path,l)));return Li.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Po({...this._def,minLength:{value:t,message:gt.toString(r)}})}max(t,r){return new Po({...this._def,maxLength:{value:t,message:gt.toString(r)}})}length(t,r){return new Po({...this._def,exactLength:{value:t,message:gt.toString(r)}})}nonempty(t){return this.min(1,t)}}Po.create=(e,t)=>new Po({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...zt(t)});function ph(e){if(e instanceof xn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=eu.create(ph(n))}return new xn({...e._def,shape:()=>t})}else return e instanceof Po?new Po({...e._def,type:ph(e.element)}):e instanceof eu?eu.create(ph(e.unwrap())):e instanceof Kh?Kh.create(ph(e.unwrap())):e instanceof Id?Id.create(e.items.map(t=>ph(t))):e}class xn extends Jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=cr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==dt.object){const u=this._getOrReturnCtx(t);return it(u,{code:Je.invalid_type,expected:dt.object,received:u.parsedType}),At}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof du&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=s[u],p=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Lo(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof du){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(it(i,{code:Je.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const p=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Lo(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const p=await f.key,g=await f.value;u.push({key:p,value:g,alwaysSet:f.alwaysSet})}return u}).then(u=>Li.mergeObjectSync(n,u)):Li.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return gt.errToObj,new xn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:gt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(t){return new xn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new xn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Tt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new xn({...this._def,catchall:t})}pick(t){const r={};for(const n of cr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new xn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of cr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new xn({...this._def,shape:()=>r})}deepPartial(){return ph(this)}partial(t){const r={};for(const n of cr.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new xn({...this._def,shape:()=>r})}required(t){const r={};for(const n of cr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof eu;)s=s._def.innerType;r[n]=s}return new xn({...this._def,shape:()=>r})}keyof(){return TX(cr.objectKeys(this.shape))}}xn.create=(e,t)=>new xn({shape:()=>e,unknownKeys:"strip",catchall:du.create(),typeName:Tt.ZodObject,...zt(t)});xn.strictCreate=(e,t)=>new xn({shape:()=>e,unknownKeys:"strict",catchall:du.create(),typeName:Tt.ZodObject,...zt(t)});xn.lazycreate=(e,t)=>new xn({shape:e,unknownKeys:"strip",catchall:du.create(),typeName:Tt.ZodObject,...zt(t)});class Gb extends Jt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Io(l.ctx.common.issues));return it(r,{code:Je.invalid_union,unionErrors:o}),At}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Io(c));return it(r,{code:Je.invalid_union,unionErrors:l}),At}}get options(){return this._def.options}}Gb.create=(e,t)=>new Gb({options:e,typeName:Tt.ZodUnion,...zt(t)});function lA(e,t){const r=Fc(e),n=Fc(t);if(e===t)return{valid:!0,data:e};if(r===dt.object&&n===dt.object){const i=cr.objectKeys(t),s=cr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=lA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===dt.array&&n===dt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=lA(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===dt.date&&n===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zb extends Jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(LF(s)||LF(o))return At;const l=lA(s.value,o.value);return l.valid?((DF(s)||DF(o))&&r.dirty(),{status:r.value,value:l.data}):(it(n,{code:Je.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zb.create=(e,t,r)=>new Zb({left:e,right:t,typeName:Tt.ZodIntersection,...zt(r)});class Id extends Jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.array)return it(n,{code:Je.invalid_type,expected:dt.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return it(n,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Lo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Li.mergeArray(r,o)):Li.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Id({...this._def,rest:t})}}Id.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Id({items:e,typeName:Tt.ZodTuple,rest:null,...zt(t)})};class Yb extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.object)return it(n,{code:Je.invalid_type,expected:dt.object,received:n.parsedType}),At;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Lo(n,l,n.path,l)),value:o._parse(new Lo(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Li.mergeObjectAsync(r,i):Li.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Jt?new Yb({keyType:t,valueType:r,typeName:Tt.ZodRecord,...zt(n)}):new Yb({keyType:vl.create(),valueType:t,typeName:Tt.ZodRecord,...zt(r)})}}class VF extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.map)return it(n,{code:Je.invalid_type,expected:dt.map,received:n.parsedType}),At;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Lo(n,l,n.path,[u,"key"])),value:s._parse(new Lo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return At;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return At;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}VF.create=(e,t,r)=>new VF({valueType:t,keyType:e,typeName:Tt.ZodMap,...zt(r)});class ov extends Jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.set)return it(n,{code:Je.invalid_type,expected:dt.set,received:n.parsedType}),At;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(it(n,{code:Je.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(it(n,{code:Je.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return At;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Lo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ov({...this._def,minSize:{value:t,message:gt.toString(r)}})}max(t,r){return new ov({...this._def,maxSize:{value:t,message:gt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ov.create=(e,t)=>new ov({valueType:e,minSize:null,maxSize:null,typeName:Tt.ZodSet,...zt(t)});class WF extends Jt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}WF.create=(e,t)=>new WF({getter:e,typeName:Tt.ZodLazy,...zt(t)});class HF extends Jt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return it(r,{received:r.data,code:Je.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:t.data}}get value(){return this._def.value}}HF.create=(e,t)=>new HF({value:e,typeName:Tt.ZodLiteral,...zt(t)});function TX(e,t){return new Wh({values:e,typeName:Tt.ZodEnum,...zt(t)})}class Wh extends Jt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{expected:cr.joinValues(n),received:r.parsedType,code:Je.invalid_type}),At}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{received:r.data,code:Je.invalid_enum_value,options:n}),At}return ua(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Wh.create(t,{...this._def,...r})}exclude(t,r=this._def){return Wh.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Wh.create=TX;class KF extends Jt{_parse(t){const r=cr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==dt.string&&n.parsedType!==dt.number){const i=cr.objectValues(r);return it(n,{expected:cr.joinValues(i),received:n.parsedType,code:Je.invalid_type}),At}if(this._cache||(this._cache=new Set(cr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=cr.objectValues(r);return it(n,{received:n.data,code:Je.invalid_enum_value,options:i}),At}return ua(t.data)}get enum(){return this._def.values}}KF.create=(e,t)=>new KF({values:e,typeName:Tt.ZodNativeEnum,...zt(t)});class Xb extends Jt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.promise&&r.common.async===!1)return it(r,{code:Je.invalid_type,expected:dt.promise,received:r.parsedType}),At;const n=r.parsedType===dt.promise?r.data:Promise.resolve(r.data);return ua(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Xb.create=(e,t)=>new Xb({type:e,typeName:Tt.ZodPromise,...zt(t)});class Hh extends Jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{it(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return At;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?At:c.status==="dirty"||r.value==="dirty"?xg(c.value):c});{if(r.value==="aborted")return At;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"||r.value==="dirty"?xg(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Uh(o))return At;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Uh(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):At);cr.assertNever(i)}}Hh.create=(e,t,r)=>new Hh({schema:e,typeName:Tt.ZodEffects,effect:t,...zt(r)});Hh.createWithPreprocess=(e,t,r)=>new Hh({schema:t,effect:{type:"preprocess",transform:e},typeName:Tt.ZodEffects,...zt(r)});class eu extends Jt{_parse(t){return this._getType(t)===dt.undefined?ua(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eu.create=(e,t)=>new eu({innerType:e,typeName:Tt.ZodOptional,...zt(t)});class Kh extends Jt{_parse(t){return this._getType(t)===dt.null?ua(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Kh.create=(e,t)=>new Kh({innerType:e,typeName:Tt.ZodNullable,...zt(t)});class cA extends Jt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===dt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cA.create=(e,t)=>new cA({innerType:e,typeName:Tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class uA extends Jt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kb(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Io(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Io(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}uA.create=(e,t)=>new uA({innerType:e,typeName:Tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class GF extends Jt{_parse(t){if(this._getType(t)!==dt.nan){const n=this._getOrReturnCtx(t);return it(n,{code:Je.invalid_type,expected:dt.nan,received:n.parsedType}),At}return{status:"valid",value:t.data}}}GF.create=e=>new GF({typeName:Tt.ZodNaN,...zt(e)});class cSe extends Jt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class cM extends Jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?At:s.status==="dirty"?(r.dirty(),xg(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?At:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new cM({in:t,out:r,typeName:Tt.ZodPipeline})}}class dA extends Jt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Uh(i)&&(i.value=Object.freeze(i.value)),i);return Kb(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}dA.create=(e,t)=>new dA({innerType:e,typeName:Tt.ZodReadonly,...zt(t)});var Tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const St=vl.create,bi=Vh.create,vn=aA.create,fA=av.create,uSe=oA.create;du.create;const ib=Po.create,Rn=xn.create;Gb.create;Zb.create;Id.create;const dSe=Yb.create,ln=Wh.create;Xb.create;eu.create;Kh.create;function Nr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ll(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function fSe(e,t){const r=Nr(e);return isNaN(t)?Ll(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const AX=6048e5,hSe=864e5,kX=6e4,OX=36e5,j0=43200,ZF=1440;let pSe={};function Py(){return pSe}function lv(e,t){const r=Py(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Nr(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Qb(e){return lv(e,{weekStartsOn:1})}function RX(e){const t=Nr(e),r=t.getFullYear(),n=Ll(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Qb(n),s=Ll(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Qb(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function YF(e){const t=Nr(e);return t.setHours(0,0,0,0),t}function Jb(e){const t=Nr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function mSe(e,t){const r=YF(e),n=YF(t),i=+r-Jb(r),s=+n-Jb(n);return Math.round((i-s)/hSe)}function gSe(e){const t=RX(e),r=Ll(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Qb(r)}function sb(e,t){const r=Nr(e),n=Nr(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function vSe(e){return Ll(e,Date.now())}function ySe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xSe(e){if(!ySe(e)&&typeof e!="number")return!1;const t=Nr(e);return!isNaN(Number(t))}function bSe(e,t){const r=Nr(e),n=Nr(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function wSe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function _Se(e,t){return+Nr(e)-+Nr(t)}function jSe(e){const t=Nr(e);return t.setHours(23,59,59,999),t}function SSe(e){const t=Nr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function NSe(e){const t=Nr(e);return+jSe(t)==+SSe(t)}function CSe(e,t){const r=Nr(e),n=Nr(t),i=sb(r,n),s=Math.abs(bSe(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=sb(r,n)===-i;NSe(Nr(e))&&s===1&&sb(e,n)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function ESe(e,t,r){const n=_Se(e,t)/1e3;return wSe(r?.roundingMethod)(n)}function PSe(e){const t=Nr(e),r=Ll(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const TSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ASe=(e,t,r)=>{let n;const i=TSe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Th(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const kSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MSe={date:Th({formats:kSe,defaultWidth:"full"}),time:Th({formats:OSe,defaultWidth:"full"}),dateTime:Th({formats:RSe,defaultWidth:"full"})},ISe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LSe=(e,t,r,n)=>ISe[e];function xo(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const DSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$Se={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},USe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},VSe={ordinalNumber:USe,era:xo({values:DSe,defaultWidth:"wide"}),quarter:xo({values:$Se,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xo({values:FSe,defaultWidth:"wide"}),day:xo({values:BSe,defaultWidth:"wide"}),dayPeriod:xo({values:zSe,defaultWidth:"wide",formattingValues:qSe,defaultFormattingWidth:"wide"})};function bo(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?HSe(l,p=>p.test(o)):WSe(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function WSe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function HSe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function MX(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const KSe=/^(\d+)(th|st|nd|rd)?/i,GSe=/\d+/i,ZSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YSe={any:[/^b/i,/^(a|c)/i]},XSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QSe={any:[/1/i,/2/i,/3/i,/4/i]},JSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rNe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nNe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sNe={ordinalNumber:MX({matchPattern:KSe,parsePattern:GSe,valueCallback:e=>parseInt(e,10)}),era:bo({matchPatterns:ZSe,defaultMatchWidth:"wide",parsePatterns:YSe,defaultParseWidth:"any"}),quarter:bo({matchPatterns:XSe,defaultMatchWidth:"wide",parsePatterns:QSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bo({matchPatterns:JSe,defaultMatchWidth:"wide",parsePatterns:eNe,defaultParseWidth:"any"}),day:bo({matchPatterns:tNe,defaultMatchWidth:"wide",parsePatterns:rNe,defaultParseWidth:"any"}),dayPeriod:bo({matchPatterns:nNe,defaultMatchWidth:"any",parsePatterns:iNe,defaultParseWidth:"any"})},IX={code:"en-US",formatDistance:ASe,formatLong:MSe,formatRelative:LSe,localize:VSe,match:sNe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aNe(e){const t=Nr(e);return mSe(t,PSe(t))+1}function oNe(e){const t=Nr(e),r=+Qb(t)-+gSe(t);return Math.round(r/AX)+1}function LX(e,t){const r=Nr(e),n=r.getFullYear(),i=Py(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ll(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=lv(o,t),c=Ll(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=lv(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function lNe(e,t){const r=Py(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=LX(e,t),s=Ll(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),lv(s,t)}function cNe(e,t){const r=Nr(e),n=+lv(r,t)-+lNe(r,t);return Math.round(n/AX)+1}function xr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Rc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xr(r+1,2)},d(e,t){return xr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xr(e.getHours()%12||12,t.length)},H(e,t){return xr(e.getHours(),t.length)},m(e,t){return xr(e.getMinutes(),t.length)},s(e,t){return xr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return xr(i,t.length)}},sh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XF={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Rc.y(e,t)},Y:function(e,t,r,n){const i=LX(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return xr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):xr(s,t.length)},R:function(e,t){const r=RX(e);return xr(r,t.length)},u:function(e,t){const r=e.getFullYear();return xr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Rc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=cNe(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):xr(i,t.length)},I:function(e,t,r){const n=oNe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Rc.d(e,t)},D:function(e,t,r){const n=aNe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return xr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return xr(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=sh.noon:n===0?i=sh.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=sh.evening:n>=12?i=sh.afternoon:n>=4?i=sh.morning:i=sh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Rc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Rc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Rc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Rc.s(e,t)},S:function(e,t){return Rc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return JF(n);case"XXXX":case"XX":return sd(n);case"XXXXX":case"XXX":default:return sd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return JF(n);case"xxxx":case"xx":return sd(n);case"xxxxx":case"xxx":default:return sd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+QF(n,":");case"OOOO":default:return"GMT"+sd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+QF(n,":");case"zzzz":default:return"GMT"+sd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xr(n,t.length)},T:function(e,t,r){const n=e.getTime();return xr(n,t.length)}};function QF(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+xr(s,2)}function JF(e,t){return e%60===0?(e>0?"-":"+")+xr(Math.abs(e)/60,2):sd(e,t)}function sd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=xr(Math.trunc(n/60),2),s=xr(n%60,2);return r+i+t+s}const e3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},DX=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uNe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return e3(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",e3(n,t)).replace("{{time}}",DX(i,t))},dNe={p:DX,P:uNe},fNe=/^D+$/,hNe=/^Y+$/,pNe=["D","DD","YY","YYYY"];function mNe(e){return fNe.test(e)}function gNe(e){return hNe.test(e)}function vNe(e,t,r){const n=yNe(e,t,r);if(console.warn(n),pNe.includes(e))throw new RangeError(n)}function yNe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wNe=/^'([^]*?)'?$/,_Ne=/''/g,jNe=/[a-zA-Z]/;function zr(e,t,r){const n=Py(),i=r?.locale??n.locale??IX,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Nr(e);if(!xSe(l))throw new RangeError("Invalid time value");let c=t.match(bNe).map(f=>{const p=f[0];if(p==="p"||p==="P"){const g=dNe[p];return g(f,i.formatLong)}return f}).join("").match(xNe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:SNe(f)};if(XF[p])return{isToken:!0,value:f};if(p.match(jNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(f=>{if(!f.isToken)return f.value;const p=f.value;(!r?.useAdditionalWeekYearTokens&&gNe(p)||!r?.useAdditionalDayOfYearTokens&&mNe(p))&&vNe(p,t,String(e));const g=XF[p[0]];return g(l,p,i.localize,u)}).join("")}function SNe(e){const t=e.match(wNe);return t?t[1].replace(_Ne,"'"):e}function NNe(e,t,r){const n=Py(),i=r?.locale??n.locale??IX,s=2520,o=sb(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=Nr(t),u=Nr(e)):(c=Nr(e),u=Nr(t));const f=ESe(u,c),p=(Jb(u)-Jb(c))/1e3,g=Math.round((f-p)/60);let v;if(g<2)return r?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<ZF){const w=Math.round(g/60);return i.formatDistance("aboutXHours",w,l)}else{if(g<s)return i.formatDistance("xDays",1,l);if(g<j0){const w=Math.round(g/ZF);return i.formatDistance("xDays",w,l)}else if(g<j0*2)return v=Math.round(g/j0),i.formatDistance("aboutXMonths",v,l)}if(v=CSe(u,c),v<12){const w=Math.round(g/j0);return i.formatDistance("xMonths",w,l)}else{const w=v%12,y=Math.trunc(v/12);return w<3?i.formatDistance("aboutXYears",y,l):w<9?i.formatDistance("overXYears",y,l):i.formatDistance("almostXYears",y+1,l)}}function $X(e,t){return NNe(e,vSe(e),t)}function Xm(e,t){return fSe(e,-t)}function t3(e,t){const n=TNe(e);let i;if(n.date){const c=ANe(n.date,2);i=kNe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(n.time&&(o=ONe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=RNe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+l)}const S0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CNe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ENe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,PNe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function TNe(e){const t={},r=e.split(S0.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],S0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(S0.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=S0.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function ANe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function kNe(e,t){if(t===null)return new Date(NaN);const r=e.match(CNe);if(!r)return new Date(NaN);const n=!!r[4],i=Qm(r[1]),s=Qm(r[2])-1,o=Qm(r[3]),l=Qm(r[4]),c=Qm(r[5])-1;if(n)return $Ne(t,l,c)?MNe(t,l,c):new Date(NaN);{const u=new Date(0);return!LNe(t,s,o)||!DNe(t,i)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(i,o)),u)}}function Qm(e){return e?parseInt(e):1}function ONe(e){const t=e.match(ENe);if(!t)return NaN;const r=eN(t[1]),n=eN(t[2]),i=eN(t[3]);return FNe(r,n,i)?r*OX+n*kX+i*1e3:NaN}function eN(e){return e&&parseFloat(e.replace(",","."))||0}function RNe(e){if(e==="Z")return 0;const t=e.match(PNe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return BNe(n,i)?r*(n*OX+i*kX):NaN}function MNe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const INe=[31,null,31,30,31,30,31,31,30,31,30,31];function FX(e){return e%400===0||e%4===0&&e%100!==0}function LNe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(INe[t]||(FX(e)?29:28))}function DNe(e,t){return t>=1&&t<=(FX(e)?366:365)}function $Ne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function FNe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function BNe(e,t){return t>=0&&t<=59}const zNe=({conversation:e,onReply:t,onArchive:r,onDelete:n,onMarkAsRead:i,onStar:s,showActions:o=!0})=>{if(e.id==="welcome-message"||e.type==="system"||e.is_system)return a.jsx(Wt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 shadow-sm",children:a.jsx(Zt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"🤖"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-blue-800",children:"Assistant MaxiMarket"}),a.jsx(xt,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Système"})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:e.content||"Bienvenue sur MaxiMarket !"}),a.jsx("div",{className:"flex items-center space-x-1 mt-2",children:a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),"À l'instant"]})})]})]})})});const c=v=>{if(!v)return"À l'instant";try{const w=new Date(v),y=new Date,_=Math.floor((y-w)/(1e3*60*60)),S=Math.floor((y-w)/(1e3*60*60*24));return _<1?"À l'instant":_<24?`Il y a ${_}h`:S<7?`Il y a ${S}j`:w.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}},u=e.messages&&e.messages.length>0?e.messages[e.messages.length-1]:null,f=e.participant1_id||e.participant2_id,p=e.participant1_id===f?e.participant2:e.participant1,g=e.messages&&e.messages.some(v=>!v.is_read&&v.sender_id!==f);return a.jsx(Wt,{className:Ge("transition-all duration-200 hover:shadow-md",g&&"bg-blue-50 border-blue-200",e.starred&&"bg-yellow-50 border-yellow-200"),children:a.jsx(Zt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(iv,{user:p,size:"lg",className:"flex-shrink-0"}),g&&a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 border-2 border-white rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:p?`${p.first_name} ${p.last_name}`:"Utilisateur"}),g&&a.jsx(xt,{variant:"destructive",className:"text-xs",children:"Nouveau"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[e.starred&&a.jsx(Ha,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),c(e.last_message_at)]})]})]}),u&&a.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:u.content||"Aucun contenu"}),a.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[e.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Pd,{className:"h-3 w-3 mr-1"}),e.listing.title||"Annonce"]}),e.messages&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Qi,{className:"h-3 w-3 mr-1"}),e.messages.length," message",e.messages.length>1?"s":""]})]})}),o&&a.jsxs("div",{className:"flex items-center space-x-2 mt-3 pt-3 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>t?.(e),className:"flex-1",children:[a.jsx(Que,{className:"h-3 w-3 mr-1"}),"Répondre"]}),a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(e),className:"flex-1",children:[a.jsx(Rl,{className:"h-3 w-3 mr-1"}),"Marquer lu"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(e),children:a.jsx(c_,{className:"h-3 w-3"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>s?.(e),children:a.jsx(Ha,{className:"h-3 w-3"})})]})]})]})})})},qNe=({activities:e=[]})=>{const t=i=>{switch(i){case"view":return a.jsx(Rl,{className:"h-4 w-4"});case"message":return a.jsx(Qi,{className:"h-4 w-4"});case"favorite":return a.jsx(Oo,{className:"h-4 w-4"});case"boost":return a.jsx(wo,{className:"h-4 w-4"});case"approval":return a.jsx(Rs,{className:"h-4 w-4"});case"warning":return a.jsx(Gn,{className:"h-4 w-4"});case"info":return a.jsx(Due,{className:"h-4 w-4"});default:return a.jsx(fT,{className:"h-4 w-4"})}},r=i=>{switch(i){case"view":return"bg-blue-50 border-blue-200";case"message":return"bg-green-50 border-green-200";case"favorite":return"bg-pink-50 border-pink-200";case"boost":return"bg-purple-50 border-purple-200";case"approval":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},n=i=>{switch(i){case"view":return"text-blue-500";case"message":return"text-green-500";case"favorite":return"text-pink-500";case"boost":return"text-purple-500";case"approval":return"text-green-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}};return e.length===0?a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsxs(vr,{className:"flex items-center space-x-2",children:[a.jsx(wo,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsx(Zt,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(wo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Aucune activité récente"}),a.jsx("p",{className:"text-xs mt-1",children:"Vos activités apparaîtront ici"})]})})]}):a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsxs(vr,{className:"flex items-center space-x-2",children:[a.jsx(wo,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsxs(Zt,{children:[a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsxs("div",{className:Ge("flex items-start space-x-3 p-3 rounded-lg transition-colors",r(i.type),i.unread&&"bg-blue-50 border-blue-200"),children:[a.jsx("div",{className:Ge("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",r(i.type).replace("border-","bg-").replace("-50","-100")),children:a.jsx("div",{className:n(i.type),children:t(i.type)})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:i.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[i.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Rl,{className:"h-3 w-3 mr-1"}),i.listing]}),i.location&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Co,{className:"h-3 w-3 mr-1"}),i.location]}),i.sender&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Yi,{className:"h-3 w-3 mr-1"}),i.sender]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[i.unread&&a.jsx(xt,{variant:"destructive",className:"text-xs",children:"Nouveau"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 mr-1"}),i.time]})]})]})})]},i.id))}),activitiesToShow.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(fT,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune activité"}),a.jsx("p",{className:"text-muted-foreground",children:"Vous n'avez pas encore d'activité récente."})]})]})]})},UNe=({stats:e={}})=>{const t=[{id:"new-listing",title:"Nouvelle Annonce",description:"Publier une nouvelle annonce",icon:lu,color:"from-primary to-blue-600",href:"/creer-annonce",badge:null},{id:"messages",title:"Messages",description:"Voir vos conversations",icon:Qi,color:"from-green-500 to-green-600",href:"/messages",badge:e.unreadMessages||0},{id:"favorites",title:"Mes Favoris",description:"Annonces sauvegardées",icon:Oo,color:"from-pink-500 to-pink-600",href:"/favorites",badge:e.totalFavorites||0},{id:"analytics",title:"Analytics",description:"Voir vos statistiques",icon:wo,color:"from-purple-500 to-purple-600",href:"/admin/analytics",badge:null},{id:"settings",title:"Paramètres",description:"Configurer votre compte",icon:dd,color:"from-gray-500 to-gray-600",href:"/profile",badge:null},{id:"support",title:"Support",description:"Besoin d'aide ?",icon:IO,color:"from-orange-500 to-orange-600",href:"/aide",badge:null}];return a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsxs(vr,{className:"flex items-center space-x-2",children:[a.jsx(lu,{className:"h-5 w-5"}),a.jsx("span",{children:"Actions Rapides"})]})}),a.jsx(Zt,{children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map(r=>a.jsx(ue,{variant:"outline",className:`h-12 bg-gradient-to-r ${r.color} hover:from-primary/90 hover:to-blue-600/90 text-white border-0 transition-all duration-200 hover:scale-105`,asChild:!0,children:a.jsxs(ir,{to:r.href,className:"flex items-center space-x-2",children:[a.jsx(r.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:r.title}),r.badge&&r.badge>0&&a.jsx(xt,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-0",children:r.badge})]})},r.id))})})]})},VNe=()=>{const{user:e,loading:t,logout:r}=Zr(),{toast:n}=Sn(),i=Dn(),[s,o]=x.useState(!1),{activeTab:l,handleTabChange:c}=Xme("dashboard"),[u,f]=x.useState([]),[p,g]=x.useState([]),[v,w]=x.useState([]),[y,_]=x.useState({totalListings:0,activeListings:0,totalViews:0,totalContacts:0,unreadMessages:0,totalFavorites:0}),[S,N]=x.useState({isOpen:!1,item:null}),[C,A]=x.useState({isOpen:!1,item:null}),[P,k]=x.useState({isOpen:!1,item:null}),[O,I]=x.useState({isOpen:!1,item:null}),[z,Y]=x.useState(1),[Z,V]=x.useState(1),[q]=x.useState(6),{register:U,handleSubmit:re,formState:{errors:ae}}=cy({defaultValues:{firstName:e?.firstName||"",lastName:e?.lastName||"",email:e?.email||"",phoneNumber:e?.phoneNumber||""}});x.useEffect(()=>{(async()=>{if(e)try{const Ve=await Vr.getUserListings();f(Ve);let qe=[];try{qe=await Nl.getUserFavorites()}catch(_e){console.warn("Erreur lors du chargement des favoris:",_e)}w(qe);let Se=[];try{Se=await Ti.getUserConversations()}catch(_e){console.warn("Erreur lors du chargement des messages:",_e)}g(Se);const ot=Ve.filter(_e=>_e.status==="approved").length,It=Ve.reduce((_e,ke)=>_e+(ke.views_count||0),0),fe=Se.filter(_e=>!_e.read).length;_({totalListings:Ve.length,activeListings:ot,totalViews:It,totalContacts:Se.length,unreadMessages:fe,totalFavorites:qe.length}),V(Math.ceil(Ve.length/q))}catch(Ve){console.error("Erreur lors du chargement des données:",Ve),n({title:"Erreur",description:"Impossible de charger vos données",variant:"destructive"})}})()},[e,n]);const se=async be=>{try{o(!0),await $a.updateProfile(be),n({title:"Profil mis à jour",description:"Vos informations ont été mises à jour avec succès."})}catch(Ve){n({title:"Erreur",description:Ve.message,variant:"destructive"})}finally{o(!1)}},X=async be=>{try{o(!0),await $a.updatePassword(be.newPassword),n({title:"Mot de passe mis à jour",description:"Votre mot de passe a été changé avec succès."})}catch(Ve){n({title:"Erreur",description:Ve.message,variant:"destructive"})}finally{o(!1)}},Q=be=>{A({isOpen:!0,item:be})},te=be=>{N({isOpen:!0,item:be})},G=be=>{I({isOpen:!0,item:be})},ie=be=>{k({isOpen:!0,item:be})},xe=async()=>{try{const be=C.item;i(`/editer-annonce/${be.id}`),A({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de modifier l'annonce",variant:"destructive"})}},Ne=async()=>{try{const be=S.item;await Vr.deleteListing(be.id);const Ve=u.filter(qe=>qe.id!==be.id);f(Ve),n({title:"Annonce supprimée",description:`"${be.title}" a été supprimée`}),N({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de supprimer l'annonce",variant:"destructive"})}},Le=async()=>{try{const be=O.item;await Vr.updateListing(be.id,{boosted:!be.boosted});const Ve=u.map(qe=>qe.id===be.id?{...qe,boosted:!qe.boosted}:qe);f(Ve),n({title:"Annonce boostée",description:`"${be.title}" a été boostée`}),I({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de booster l'annonce",variant:"destructive"})}},ce=async()=>{try{const be=P.item;await Vr.updateListing(be.id,{updated_at:new Date().toISOString()}),n({title:"Annonce actualisée",description:`"${be.title}" a été actualisée`}),k({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible d'actualiser l'annonce",variant:"destructive"})}},oe=be=>{Y(be)},ge=()=>{const be=(z-1)*q,Ve=be+q;return u.slice(be,Ve)},he=be=>{i(`/messages?conversation=${be.id}`)},Pe=async be=>{try{await Ti.archiveConversation(be.id);const Ve=p.map(qe=>qe.id===be.id?{...qe,is_archived:!0}:qe);g(Ve),n({title:"Conversation archivée",description:"La conversation a été archivée"})}catch{n({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},J=async be=>{try{await Ti.markMessagesAsRead(be.id);const Ve=p.map(qe=>qe.id===be.id?{...qe,messages:qe.messages?.map(Se=>({...Se,is_read:!0}))}:qe);g(Ve),_(qe=>({...qe,unreadMessages:Math.max(0,qe.unreadMessages-1)})),n({title:"Messages marqués comme lus",description:"Les messages ont été marqués comme lus"})}catch{n({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},H=async be=>{try{const Ve=!be.starred;await Ti.toggleConversationStar(be.id,Ve);const qe=p.map(Se=>Se.id===be.id?{...Se,starred:Ve}:Se);g(qe),n({title:Ve?"Conversation ajoutée aux favoris":"Conversation retirée des favoris",description:Ve?"La conversation a été ajoutée à vos favoris":"La conversation a été retirée de vos favoris"})}catch{n({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},we=async()=>{try{if(await r())n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i("/");else throw new Error("Échec de la déconnexion")}catch(be){n({title:"Erreur de déconnexion",description:be.message||"Une erreur est survenue lors de la déconnexion",variant:"destructive"})}};return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Tr,{className:"h-8 w-8 animate-spin"})}):a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/20",children:[a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center overflow-hidden shadow-lg",children:e?.profileImage?a.jsx("img",{src:e.profileImage,alt:`${e.firstName} ${e.lastName}`,className:"w-full h-full object-cover"}):a.jsx(Yi,{className:"h-10 w-10 text-white"})}),a.jsx(ue,{size:"icon",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full shadow-md",children:a.jsx(xd,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[e?.firstName," ",e?.lastName]}),a.jsxs("p",{className:"text-muted-foreground flex items-center",children:[a.jsx(ou,{className:"h-4 w-4 mr-2"}),e?.email]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsxs(xt,{variant:"secondary",className:"bg-green-100 text-green-800",children:[a.jsx(Cb,{className:"h-3 w-3 mr-1"}),"Compte vérifié"]}),a.jsxs(xt,{variant:"outline",children:["Membre depuis ",new Date(e?.createdAt).toLocaleDateString()]})]})]})]})}),a.jsxs(KO,{value:l,onValueChange:c,className:"w-full",children:[a.jsxs(g_,{className:"grid w-full grid-cols-7 bg-white/50 backdrop-blur-sm border border-border/50",children:[a.jsxs(Oi,{value:"dashboard",className:"flex items-center space-x-2",children:[a.jsx(MO,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),a.jsxs(Oi,{value:"listings",className:"flex items-center space-x-2",children:[a.jsx(Pd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Mes Annonces"})]}),a.jsxs(Oi,{value:"messages",className:"flex items-center space-x-2",children:[a.jsx(Qi,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Messages"}),y.unreadMessages>0&&a.jsx(xt,{variant:"destructive",className:"h-5 w-5 p-0 text-xs",children:y.unreadMessages})]}),a.jsxs(Oi,{value:"favorites",className:"flex items-center space-x-2",children:[a.jsx(Oo,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Favoris"})]}),a.jsxs(Oi,{value:"transactions",className:"flex items-center space-x-2",children:[a.jsx(kg,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),a.jsxs(Oi,{value:"profile",className:"flex items-center space-x-2",children:[a.jsx(Yi,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Profil"})]}),a.jsxs(Oi,{value:"security",className:"flex items-center space-x-2",children:[a.jsx(Cb,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sécurité"})]})]}),a.jsxs(Ri,{value:"dashboard",className:"space-y-6",children:[t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((be,Ve)=>a.jsx(t1e,{},Ve))}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(p0,{title:"Annonces Actives",value:y.activeListings,icon:Pd,color:"blue"}),a.jsx(p0,{title:"Total des Vues",value:y.totalViews.toLocaleString(),icon:Rl,color:"green"}),a.jsx(p0,{title:"Contacts Reçus",value:y.totalContacts,icon:za,color:"purple"}),a.jsx(p0,{title:"Messages Non Lus",value:y.unreadMessages,icon:fT,color:"orange"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(qNe,{}),a.jsx(UNe,{stats:y})]})]}),a.jsxs(Ri,{value:"listings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos annonces publiées"})]}),a.jsx(ue,{asChild:!0,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",children:a.jsxs(ir,{to:"/creer-annonce",children:[a.jsx(lu,{className:"h-4 w-4 mr-2"}),"Nouvelle Annonce"]})})]}),t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((be,Ve)=>a.jsx(e1e,{},Ve))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge().map(be=>a.jsx(U$,{listing:be,onEdit:Q,onDelete:te,onRefresh:ie,onBoost:G,showActions:!0},be.id))}),a.jsx(Ewe,{currentPage:z,totalPages:Z,onPageChange:oe,hasNextPage:z<Z,hasPrevPage:z>1,isLoading:t})]})]}),a.jsxs(Ri,{value:"messages",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(es,{className:"h-4 w-4 mr-2"}),"Filtrer"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Rechercher"]})]})]}),a.jsx("div",{className:"space-y-4",children:p.map(be=>a.jsx(zNe,{conversation:be,onReply:he,onArchive:Pe,onDelete:()=>{},onMarkAsRead:J,onStar:H,showActions:!0},be.id))})]}),a.jsxs(Ri,{value:"favorites",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Favoris"}),a.jsx("p",{className:"text-muted-foreground",children:"Annonces que vous avez sauvegardées"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(be=>a.jsx(U$,{listing:be,showActions:!1},be.id))})]}),a.jsxs(Ri,{value:"transactions",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Historique de vos transactions"})]})}),a.jsx(Wt,{children:a.jsx(Zt,{className:"p-6",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kg,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune transaction"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous n'avez pas encore effectué de transactions sur MaxiMarket."}),a.jsx(ue,{variant:"outline",children:"Découvrir nos services"})]})})})]}),a.jsxs(Ri,{value:"profile",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Informations du profil"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos informations personnelles"})]})}),a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Paramètres du profil"}),a.jsx(Hn,{children:"Gérez vos informations personnelles et vos préférences"})]}),a.jsx(Zt,{children:a.jsxs("form",{onSubmit:re(se),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",className:"pl-10",...U("firstName",{required:"Le prénom est requis"})})]}),ae.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:ae.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",className:"pl-10",...U("lastName",{required:"Le nom est requis"})})]}),ae.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:ae.lastName.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ou,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",className:"pl-10",...U("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),ae.email&&a.jsx("p",{className:"text-sm text-destructive",children:ae.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Da,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",className:"pl-10",...U("phoneNumber",{pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),ae.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:ae.phoneNumber.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Mettre à jour le profil"})]})})]})]}),a.jsxs(Ri,{value:"security",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Sécurité"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez la sécurité de votre compte"})]})}),a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Changer le mot de passe"}),a.jsx(Hn,{children:"Assurez-vous d'utiliser un mot de passe fort et unique"})]}),a.jsx(Zt,{children:a.jsxs("form",{onSubmit:re(X),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),a.jsxs("div",{className:"relative",children:[a.jsx(Td,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"currentPassword",type:"password",className:"pl-10",...U("currentPassword",{required:"Le mot de passe actuel est requis"})})]}),ae.currentPassword&&a.jsx("p",{className:"text-sm text-destructive",children:ae.currentPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Td,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"newPassword",type:"password",className:"pl-10",...U("newPassword",{required:"Le nouveau mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),ae.newPassword&&a.jsx("p",{className:"text-sm text-destructive",children:ae.newPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Changer le mot de passe"})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(ue,{onClick:we,variant:"destructive",className:"w-full",children:[a.jsx(DO,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})})]})]})]}),a.jsx(yye,{isOpen:S.isOpen,onClose:()=>N({isOpen:!1,item:null}),onConfirm:Ne,itemName:S.item?.title,isLoading:s}),a.jsx(xye,{isOpen:C.isOpen,onClose:()=>A({isOpen:!1,item:null}),onConfirm:xe,itemName:C.item?.title,isLoading:s}),a.jsx(bye,{isOpen:P.isOpen,onClose:()=>k({isOpen:!1,item:null}),onConfirm:ce,itemName:P.item?.title,isLoading:s}),a.jsx(wye,{isOpen:O.isOpen,onClose:()=>I({isOpen:!1,item:null}),onConfirm:Le,itemName:O.item?.title,isLoading:s})]})},WNe=()=>{const e=Dn();return x.useEffect(()=>{(async()=>{try{const{data:{session:r}}=await Ce.auth.getSession();r?.user?e("/",{replace:!0}):e("/connexion",{replace:!0})}catch{e("/connexion",{replace:!0})}})()},[e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx(Tr,{className:"mr-2 h-5 w-5 animate-spin"}),"Traitement de la confirmation..."]})})};function HNe(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[i,s]=x.useState(null);return x.useEffect(()=>{(async()=>{try{const{data:{session:v}}=await Ce.auth.getSession();s(v),t(v?.user??null)}catch(v){console.error("Erreur lors de la récupération de la session:",v)}finally{n(!1)}})();const{data:{subscription:g}}=Ce.auth.onAuthStateChange(async(v,w)=>{console.log("🔄 Événement d'authentification:",v),s(w),t(w?.user??null),n(!1)});return()=>g.unsubscribe()},[]),{user:e,session:i,loading:r,signIn:async(p,g)=>{try{const{data:v,error:w}=await Ce.auth.signInWithPassword({email:p,password:g});if(w)throw w;return{data:v,error:null}}catch(v){return console.error("Erreur de connexion:",v),{data:null,error:v}}},signUp:async(p,g,v={})=>{try{const{data:w,error:y}=await Ce.auth.signUp({email:p,password:g,options:{data:v}});if(y)throw y;return{data:w,error:null}}catch(w){return console.error("Erreur d'inscription:",w),{data:null,error:w}}},signOut:async()=>{try{const{error:p}=await Ce.auth.signOut();if(p)throw p;return{error:null}}catch(p){return console.error("Erreur de déconnexion:",p),{error:p}}},resetPassword:async p=>{try{const{data:g,error:v}=await Ce.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de réinitialisation de mot de passe:",g),{data:null,error:g}}},updatePassword:async p=>{try{const{data:g,error:v}=await Ce.auth.updateUser({password:p});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de mise à jour du mot de passe:",g),{data:null,error:g}}},isAuthenticated:!!e}}const KNe=(e={})=>{const{user:t}=Zr();return ri({queryKey:["conversations",t?.id,e],queryFn:async()=>{try{console.log("🔍 Hook useConversations - Début de la récupération");const r=await Ti.getUserConversations();return console.log("🔍 Hook useConversations - Récupération réussie:",r?.length||0),r}catch(r){throw console.error("❌ Hook useConversations - Erreur lors de la récupération:",r),r.code==="PGRST116"?new Error("Erreur de base de données: Vérifiez la structure des tables"):r.message?.includes("Invalid Refresh Token")?new Error("Session expirée. Veuillez vous reconnecter."):r.status===400?new Error("Requête invalide. Vérifiez les paramètres."):new Error(`Erreur de messagerie: ${r.message||"Erreur inconnue"}`)}},enabled:!!t,staleTime:3e4,gcTime:5*60*1e3,retry:(r,n)=>n.message?.includes("Session expirée")||n.message?.includes("Utilisateur non connecté")?!1:r<2,retryDelay:r=>Math.min(1e3*2**r,3e4)})},GNe=e=>{const t=zo(),{user:r}=Zr();x.useEffect(()=>{if(!e||!r)return;const n=Ce.channel(`messages:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},i=>{t.setQueryData(["conversation-messages",e],s=>{if(!s)return s;const o=i.new,l=[...s.pages];return l.length>0&&(l[l.length-1]=[...l[l.length-1],o]),{...s,pages:l}}),t.setQueryData(["conversations"],s=>s&&s.map(o=>o.id===e?{...o,last_message_at:newMessage.created_at,messages:[...o.messages||[],newMessage]}:o))}).subscribe();return()=>{Ce.removeChannel(n)}},[e,r,t])},ZNe=({selectedConversation:e,onBack:t,onMenuToggle:r,onSearch:n,onFilter:i,onMore:s,onCall:o,onVideo:l,unreadCount:c=0,isStarred:u=!1,isArchived:f=!1})=>e?a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:t,className:"p-2 -ml-2",children:a.jsx(Ua,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:a.jsx(Yi,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.participant1?.first_name||"Utilisateur"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.listing?.title||"Conversation"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[o&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:o,className:"p-2",children:a.jsx(Da,{className:"h-4 w-4"})}),l&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:l,className:"p-2",children:a.jsx(FO,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:a.jsx(qd,{className:"h-4 w-4"})})]})]}):a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Messages"}),c>0&&a.jsx(xt,{variant:"destructive",className:"h-5 px-2 text-xs",children:c})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-2",children:a.jsx(Zn,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-2",children:a.jsx(es,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:a.jsx(l9,{className:"h-4 w-4"})})]})]}),YNe=({searchTerm:e,onSearchChange:t,filterType:r,onFilterChange:n,onClear:i,totalCount:s=0,unreadCount:o=0,starredCount:l=0,archivedCount:c=0})=>{const[u,f]=x.useState(!1),p=[{key:"all",label:"Toutes",icon:Qi,count:s},{key:"unread",label:"Non lues",icon:Wa,count:o},{key:"starred",label:"Favoris",icon:Ha,count:l},{key:"archived",label:"Archivées",icon:c_,count:c}];return a.jsxs("div",{className:"bg-card border-b border-border p-4",children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher des conversations...",value:e,onChange:g=>t(g.target.value),className:"pl-10 pr-10"}),e&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 h-6 w-6",children:a.jsx(Ms,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex space-x-2 mb-3",children:p.map(g=>a.jsxs(ue,{variant:r===g.key?"default":"outline",size:"sm",onClick:()=>n(g.key),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(g.icon,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs",children:g.label}),g.count>0&&a.jsx(xt,{variant:"secondary",className:"ml-1 h-4 px-1 text-xs",children:g.count})]},g.key))}),u&&a.jsx("div",{className:"pt-3 border-t border-border",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Yi,{className:"h-3 w-3 mr-1"}),"Par utilisateur"]}),a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Pd,{className:"h-3 w-3 mr-1"}),"Par annonce"]})]})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>f(!u),className:"text-xs text-muted-foreground hover:text-foreground",children:[a.jsx(es,{className:"h-3 w-3 mr-1"}),u?"Masquer":"Plus de filtres"]})})]})},XNe=({onCapture:e,onClose:t,isOpen:r=!1,quality:n=.8,maxWidth:i=1920,maxHeight:s=1080})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState(!1),[p,g]=x.useState(null),[v,w]=x.useState(null),[y,_]=x.useState(null),[S,N]=x.useState(!1),[C,A]=x.useState("user"),{toast:P}=Sn(),k=x.useCallback(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){w("Votre navigateur ne supporte pas l'accès à la caméra");return}f(!0),w(null);try{const q={video:{facingMode:C,width:{ideal:i},height:{ideal:s}},audio:!1},U=await navigator.mediaDevices.getUserMedia(q);c.current=U,o.current&&(o.current.srcObject=U,o.current.onloadedmetadata=()=>{N(!0),f(!1)}),g(!0)}catch(q){console.error("Erreur caméra:",q),q.name==="NotAllowedError"?w("Permission d'accès à la caméra refusée. Veuillez autoriser l'accès dans les paramètres de votre navigateur."):q.name==="NotFoundError"?w("Aucune caméra trouvée sur votre appareil."):q.name==="NotReadableError"?w("La caméra est déjà utilisée par une autre application."):w("Erreur lors de l'accès à la caméra. Veuillez réessayer."),g(!1),f(!1)}},[C,i,s]),O=x.useCallback(()=>{c.current&&(c.current.getTracks().forEach(q=>q.stop()),c.current=null),N(!1)},[]),I=x.useCallback(()=>{S&&(O(),A(q=>q==="user"?"environment":"user"),setTimeout(()=>k(),100))},[S,O,k]),z=x.useCallback(()=>{if(!o.current||!l.current)return;const q=o.current,U=l.current,re=U.getContext("2d");U.width=q.videoWidth,U.height=q.videoHeight,re.drawImage(q,0,0,U.width,U.height),U.toBlob(ae=>{if(ae){const se=URL.createObjectURL(ae);_({blob:ae,url:se,timestamp:new Date().toISOString()}),P({title:"Photo capturée !",description:"Votre photo a été capturée avec succès.",duration:3e3})}},"image/jpeg",n)},[n,P]),Y=x.useCallback(()=>{_(null),y?.url&&URL.revokeObjectURL(y.url)},[y]),Z=x.useCallback(()=>{y&&e&&(e(y),t())},[y,e,t]),V=x.useCallback(()=>{O(),y?.url&&URL.revokeObjectURL(y.url),_(null),w(null),t()},[O,y,t]);return x.useEffect(()=>{r&&!S&&k()},[r,S,k]),x.useEffect(()=>()=>{O(),y?.url&&URL.revokeObjectURL(y.url)},[O,y]),p===!1?a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Gn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la caméra refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v||"Pour utiliser la caméra, vous devez autoriser l'accès dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:V,children:"Fermer"}),a.jsx(ue,{onClick:k,children:"Réessayer"})]})]})})}):a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(xd,{className:"h-5 w-5 mr-2"}),"Prendre une photo"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:V,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4",children:u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Tr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]}):y?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:a.jsx("img",{src:y.url,alt:"Photo capturée",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:Y,children:[a.jsx(h$,{className:"h-4 w-4 mr-2"}),"Reprendre"]}),a.jsxs(ue,{onClick:Z,children:[a.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Utiliser cette photo"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:[a.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!S&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx(xd,{className:"h-16 w-16 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]})})]}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:I,disabled:!S,className:"flex items-center",children:[a.jsx(h$,{className:"h-4 w-4 mr-2"}),"Changer de caméra"]}),a.jsxs(ue,{onClick:z,disabled:!S,size:"lg",className:"bg-primary hover:bg-primary/90",children:[a.jsx(xd,{className:"h-5 w-5 mr-2"}),"Prendre la photo"]})]}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:'Positionnez-vous dans le cadre et appuyez sur "Prendre la photo"'}),a.jsx("p",{className:"mt-1",children:"Vous pourrez reprendre la photo si nécessaire"})]})]})})]})})})},QNe=({onFilesSelected:e,onClose:t,isOpen:r=!1,maxFiles:n=10,maxFileSize:i=10*1024*1024,acceptedTypes:s=["image/*","video/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","application/zip"],multiple:o=!0})=>{const l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState([]),[p,g]=x.useState(!1),[v,w]=x.useState({}),[y,_]=x.useState([]),[S,N]=x.useState({}),{toast:C}=Sn(),A=se=>se.type.startsWith("image/")?"image":se.type.startsWith("video/")?"video":se.type.startsWith("application/pdf")?"pdf":se.type.includes("word")||se.type.includes("document")?"document":se.type.includes("excel")||se.type.includes("spreadsheet")?"spreadsheet":se.type.includes("text/")||se.type.includes("csv")?"text":se.type.includes("zip")||se.type.includes("archive")?"archive":"other",P=se=>{switch(se){case"image":return a.jsx(s9,{className:"h-8 w-8 text-blue-500"});case"video":return a.jsx(FO,{className:"h-8 w-8 text-purple-500"});case"pdf":return a.jsx(qr,{className:"h-8 w-8 text-red-500"});case"document":return a.jsx(qr,{className:"h-8 w-8 text-blue-600"});case"spreadsheet":return a.jsx(qr,{className:"h-8 w-8 text-green-600"});case"text":return a.jsx(qr,{className:"h-8 w-8 text-gray-600"});case"archive":return a.jsx(Nb,{className:"h-8 w-8 text-orange-500"});default:return a.jsx(Nb,{className:"h-8 w-8 text-gray-500"})}},k=se=>{if(se===0)return"0 Bytes";const X=1024,Q=["Bytes","KB","MB","GB"],te=Math.floor(Math.log(se)/Math.log(X));return parseFloat((se/Math.pow(X,te)).toFixed(2))+" "+Q[te]},O=se=>{const X=[];return se.size>i&&X.push(`Le fichier "${se.name}" est trop volumineux (${k(se.size)}). Taille maximale : ${k(i)}`),s.some(te=>te.endsWith("/*")?se.type.startsWith(te.slice(0,-1)):se.type===te)||X.push(`Le type de fichier "${se.type}" n'est pas accepté pour "${se.name}"`),u.length>=n&&X.push(`Nombre maximum de fichiers atteint (${n})`),X},I=x.useCallback(se=>{if(se.type.startsWith("image/")){const X=new FileReader;X.onload=Q=>{N(te=>({...te,[se.name]:Q.target.result}))},X.readAsDataURL(se)}},[]),z=x.useCallback(se=>{const X=Array.from(se),Q=[],te=[];X.forEach(G=>{const ie=O(G);ie.length===0?(te.push(G),I(G)):Q.push(...ie)}),Q.length>0&&(_(Q),C({title:"Erreurs de validation",description:Q.slice(0,3).join(". "),variant:"destructive",duration:5e3})),te.length>0&&(f(G=>[...G,...te]),C({title:"Fichiers ajoutés",description:`${te.length} fichier(s) ajouté(s) avec succès.`,duration:3e3}))},[u,n,i,s,I,C]),Y=x.useCallback(se=>{se.preventDefault(),g(!1);const X=se.dataTransfer.files;X.length>0&&z(X)},[z]),Z=x.useCallback(se=>{se.preventDefault(),g(!0)},[]),V=x.useCallback(se=>{se.preventDefault(),g(!1)},[]),q=x.useCallback(se=>{f(X=>X.filter(Q=>Q.name!==se)),N(X=>{const Q={...X};return delete Q[se],Q}),w(X=>{const Q={...X};return delete Q[se],Q})},[]),U=x.useCallback(()=>{u.length>0&&e&&(e(u),t())},[u,e,t]),re=x.useCallback(se=>{w(Q=>({...Q,[se.name]:0}));const X=setInterval(()=>{w(Q=>{const te=Q[se.name]||0;return te>=100?(clearInterval(X),Q):{...Q,[se.name]:te+10}})},100)},[]),ae=x.useCallback(()=>{f([]),N({}),w({}),_([]),t()},[t]);return a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Um,{className:"h-5 w-5 mr-2"}),"Sélectionner des fichiers"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:ae,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{ref:c,onDrop:Y,onDragOver:Z,onDragLeave:V,className:`
                  border-2 border-dashed rounded-lg p-8 text-center transition-colors
                  ${p?"border-primary bg-primary/10":"border-border hover:border-primary/50"}
                `,children:[a.jsx(Um,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Glissez-déposez vos fichiers ici"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"ou cliquez pour sélectionner des fichiers"}),a.jsxs(ue,{onClick:()=>l.current?.click(),variant:"outline",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[a.jsx(Um,{className:"h-4 w-4 mr-2"}),"Choisir des fichiers"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Types acceptés : Images, Vidéos, PDF, Documents, etc.",a.jsx("br",{}),"Taille maximale : ",k(i)," par fichier"]})]}),a.jsx("input",{ref:l,type:"file",multiple:o,accept:s.join(","),onChange:se=>z(se.target.files),className:"hidden"}),u.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium",children:["Fichiers sélectionnés (",u.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:u.map((se,X)=>a.jsx(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-lg p-3 bg-muted/30",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[P(A(se)),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",title:se.name,children:se.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[k(se.size)," • ",A(se)]}),S[se.name]&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:S[se.name],alt:se.name,className:"w-16 h-16 object-cover rounded border"})}),v[se.name]!==void 0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(P9,{value:v[se.name],className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v[se.name],"% terminé"]})]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>re(se),disabled:v[se.name]!==void 0,children:a.jsx(Um,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>q(se.name),className:"text-red-500 hover:text-red-700",children:a.jsx(Ro,{className:"h-4 w-4"})})]})]})},`${se.name}-${X}`))})]}),y.length>0&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Gn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreurs de validation"}),a.jsxs("ul",{className:"text-sm text-destructive space-y-1",children:[y.slice(0,5).map((se,X)=>a.jsxs("li",{children:["• ",se]},X)),y.length>5&&a.jsxs("li",{children:["• ... et ",y.length-5," autres erreurs"]})]})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:u.length>0?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Rs,{className:"h-4 w-4 mr-2 text-green-500"}),u.length," fichier(s) prêt(s) à être envoyé(s)"]}):"Aucun fichier sélectionné"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:ae,children:"Annuler"}),a.jsxs(ue,{onClick:U,disabled:u.length===0,className:"bg-primary hover:bg-primary/90",children:[a.jsx(Um,{className:"h-4 w-4 mr-2"}),"Envoyer ",u.length>0&&`(${u.length})`]})]})]})]})})})};var bg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var JNe=bg.exports,r3;function eCe(){return r3||(r3=1,function(e,t){(function(r,n){n(t)})(JNe,function(r){var n="1.9.4";function i(h){var b,E,R,B;for(E=1,R=arguments.length;E<R;E++){B=arguments[E];for(b in B)h[b]=B[b]}return h}var s=Object.create||function(){function h(){}return function(b){return h.prototype=b,new h}}();function o(h,b){var E=Array.prototype.slice;if(h.bind)return h.bind.apply(h,E.call(arguments,1));var R=E.call(arguments,2);return function(){return h.apply(b,R.length?R.concat(E.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function u(h,b,E){var R,B,ne,pe;return pe=function(){R=!1,B&&(ne.apply(E,B),B=!1)},ne=function(){R?B=arguments:(h.apply(E,arguments),setTimeout(pe,b),R=!0)},ne}function f(h,b,E){var R=b[1],B=b[0],ne=R-B;return h===R&&E?h:((h-B)%ne+ne)%ne+B}function p(){return!1}function g(h,b){if(b===!1)return h;var E=Math.pow(10,b===void 0?6:b);return Math.round(h*E)/E}function v(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function w(h){return v(h).split(/\s+/)}function y(h,b){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?s(h.options):{});for(var E in b)h.options[E]=b[E];return h.options}function _(h,b,E){var R=[];for(var B in h)R.push(encodeURIComponent(E?B.toUpperCase():B)+"="+encodeURIComponent(h[B]));return(!b||b.indexOf("?")===-1?"?":"&")+R.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function N(h,b){return h.replace(S,function(E,R){var B=b[R];if(B===void 0)throw new Error("No value provided for variable "+E);return typeof B=="function"&&(B=B(b)),B})}var C=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function A(h,b){for(var E=0;E<h.length;E++)if(h[E]===b)return E;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var O=0;function I(h){var b=+new Date,E=Math.max(0,16-(b-O));return O=b+E,window.setTimeout(h,E)}var z=window.requestAnimationFrame||k("RequestAnimationFrame")||I,Y=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function Z(h,b,E){if(E&&z===I)h.call(b);else return z.call(window,o(h,b))}function V(h){h&&Y.call(window,h)}var q={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:f,falseFn:p,formatNum:g,trim:v,splitWords:w,setOptions:y,getParamString:_,template:N,isArray:C,indexOf:A,emptyImageUrl:P,requestFn:z,cancelFn:Y,requestAnimFrame:Z,cancelAnimFrame:V};function U(){}U.extend=function(h){var b=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=b.__super__=this.prototype,R=s(E);R.constructor=b,b.prototype=R;for(var B in this)Object.prototype.hasOwnProperty.call(this,B)&&B!=="prototype"&&B!=="__super__"&&(b[B]=this[B]);return h.statics&&i(b,h.statics),h.includes&&(re(h.includes),i.apply(null,[R].concat(h.includes))),i(R,h),delete R.statics,delete R.includes,R.options&&(R.options=E.options?s(E.options):{},i(R.options,h.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var ne=0,pe=R._initHooks.length;ne<pe;ne++)R._initHooks[ne].call(this)}},b},U.include=function(h){var b=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=b,this.mergeOptions(h.options)),this},U.mergeOptions=function(h){return i(this.prototype.options,h),this},U.addInitHook=function(h){var b=Array.prototype.slice.call(arguments,1),E=typeof h=="function"?h:function(){this[h].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function re(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=C(h)?h:[h];for(var b=0;b<h.length;b++)h[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(h,b,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],b);else{h=w(h);for(var B=0,ne=h.length;B<ne;B++)this._on(h[B],b,E)}return this},off:function(h,b,E){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var R in h)this._off(R,h[R],b);else{h=w(h);for(var B=arguments.length===1,ne=0,pe=h.length;ne<pe;ne++)B?this._off(h[ne]):this._off(h[ne],b,E)}return this},_on:function(h,b,E,R){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(h,b,E)===!1){E===this&&(E=void 0);var B={fn:b,ctx:E};R&&(B.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(B)}},_off:function(h,b,E){var R,B,ne;if(this._events&&(R=this._events[h],!!R)){if(arguments.length===1){if(this._firingCount)for(B=0,ne=R.length;B<ne;B++)R[B].fn=p;delete this._events[h];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var pe=this._listens(h,b,E);if(pe!==!1){var Ee=R[pe];this._firingCount&&(Ee.fn=p,this._events[h]=R=R.slice()),R.splice(pe,1)}}},fire:function(h,b,E){if(!this.listens(h,E))return this;var R=i({},b,{type:h,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var B=this._events[h];if(B){this._firingCount=this._firingCount+1||1;for(var ne=0,pe=B.length;ne<pe;ne++){var Ee=B[ne],Me=Ee.fn;Ee.once&&this.off(h,Me,Ee.ctx),Me.call(Ee.ctx||this,R)}this._firingCount--}}return E&&this._propagateEvent(R),this},listens:function(h,b,E,R){typeof h!="string"&&console.warn('"string" type argument expected');var B=b;typeof b!="function"&&(R=!!b,B=void 0,E=void 0);var ne=this._events&&this._events[h];if(ne&&ne.length&&this._listens(h,B,E)!==!1)return!0;if(R){for(var pe in this._eventParents)if(this._eventParents[pe].listens(h,b,E,R))return!0}return!1},_listens:function(h,b,E){if(!this._events)return!1;var R=this._events[h]||[];if(!b)return!!R.length;E===this&&(E=void 0);for(var B=0,ne=R.length;B<ne;B++)if(R[B].fn===b&&R[B].ctx===E)return B;return!1},once:function(h,b,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],b,!0);else{h=w(h);for(var B=0,ne=h.length;B<ne;B++)this._on(h[B],b,E,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var b in this._eventParents)this._eventParents[b].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var se=U.extend(ae);function X(h,b,E){this.x=E?Math.round(h):h,this.y=E?Math.round(b):b}var Q=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(h){return this.clone()._add(te(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(te(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new X(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new X(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(h){h=te(h);var b=h.x-this.x,E=h.y-this.y;return Math.sqrt(b*b+E*E)},equals:function(h){return h=te(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=te(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function te(h,b,E){return h instanceof X?h:C(h)?new X(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new X(h.x,h.y):new X(h,b,E)}function G(h,b){if(h)for(var E=b?[h,b]:h,R=0,B=E.length;R<B;R++)this.extend(E[R])}G.prototype={extend:function(h){var b,E;if(!h)return this;if(h instanceof X||typeof h[0]=="number"||"x"in h)b=E=te(h);else if(h=ie(h),b=h.min,E=h.max,!b||!E)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=E.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(h){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var b,E;return typeof h[0]=="number"||h instanceof X?h=te(h):h=ie(h),h instanceof G?(b=h.min,E=h.max):b=E=h,b.x>=this.min.x&&E.x<=this.max.x&&b.y>=this.min.y&&E.y<=this.max.y},intersects:function(h){h=ie(h);var b=this.min,E=this.max,R=h.min,B=h.max,ne=B.x>=b.x&&R.x<=E.x,pe=B.y>=b.y&&R.y<=E.y;return ne&&pe},overlaps:function(h){h=ie(h);var b=this.min,E=this.max,R=h.min,B=h.max,ne=B.x>b.x&&R.x<E.x,pe=B.y>b.y&&R.y<E.y;return ne&&pe},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var b=this.min,E=this.max,R=Math.abs(b.x-E.x)*h,B=Math.abs(b.y-E.y)*h;return ie(te(b.x-R,b.y-B),te(E.x+R,E.y+B))},equals:function(h){return h?(h=ie(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function ie(h,b){return!h||h instanceof G?h:new G(h,b)}function xe(h,b){if(h)for(var E=b?[h,b]:h,R=0,B=E.length;R<B;R++)this.extend(E[R])}xe.prototype={extend:function(h){var b=this._southWest,E=this._northEast,R,B;if(h instanceof Le)R=h,B=h;else if(h instanceof xe){if(R=h._southWest,B=h._northEast,!R||!B)return this}else return h?this.extend(ce(h)||Ne(h)):this;return!b&&!E?(this._southWest=new Le(R.lat,R.lng),this._northEast=new Le(B.lat,B.lng)):(b.lat=Math.min(R.lat,b.lat),b.lng=Math.min(R.lng,b.lng),E.lat=Math.max(B.lat,E.lat),E.lng=Math.max(B.lng,E.lng)),this},pad:function(h){var b=this._southWest,E=this._northEast,R=Math.abs(b.lat-E.lat)*h,B=Math.abs(b.lng-E.lng)*h;return new xe(new Le(b.lat-R,b.lng-B),new Le(E.lat+R,E.lng+B))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Le||"lat"in h?h=ce(h):h=Ne(h);var b=this._southWest,E=this._northEast,R,B;return h instanceof xe?(R=h.getSouthWest(),B=h.getNorthEast()):R=B=h,R.lat>=b.lat&&B.lat<=E.lat&&R.lng>=b.lng&&B.lng<=E.lng},intersects:function(h){h=Ne(h);var b=this._southWest,E=this._northEast,R=h.getSouthWest(),B=h.getNorthEast(),ne=B.lat>=b.lat&&R.lat<=E.lat,pe=B.lng>=b.lng&&R.lng<=E.lng;return ne&&pe},overlaps:function(h){h=Ne(h);var b=this._southWest,E=this._northEast,R=h.getSouthWest(),B=h.getNorthEast(),ne=B.lat>b.lat&&R.lat<E.lat,pe=B.lng>b.lng&&R.lng<E.lng;return ne&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,b){return h?(h=Ne(h),this._southWest.equals(h.getSouthWest(),b)&&this._northEast.equals(h.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ne(h,b){return h instanceof xe?h:new xe(h,b)}function Le(h,b,E){if(isNaN(h)||isNaN(b))throw new Error("Invalid LatLng object: ("+h+", "+b+")");this.lat=+h,this.lng=+b,E!==void 0&&(this.alt=+E)}Le.prototype={equals:function(h,b){if(!h)return!1;h=ce(h);var E=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return E<=(b===void 0?1e-9:b)},toString:function(h){return"LatLng("+g(this.lat,h)+", "+g(this.lng,h)+")"},distanceTo:function(h){return ge.distance(this,ce(h))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(h){var b=180*h/40075017,E=b/Math.cos(Math.PI/180*this.lat);return Ne([this.lat-b,this.lng-E],[this.lat+b,this.lng+E])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function ce(h,b,E){return h instanceof Le?h:C(h)&&typeof h[0]!="object"?h.length===3?new Le(h[0],h[1],h[2]):h.length===2?new Le(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Le(h.lat,"lng"in h?h.lng:h.lon,h.alt):b===void 0?null:new Le(h,b,E)}var oe={latLngToPoint:function(h,b){var E=this.projection.project(h),R=this.scale(b);return this.transformation._transform(E,R)},pointToLatLng:function(h,b){var E=this.scale(b),R=this.transformation.untransform(h,E);return this.projection.unproject(R)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var b=this.projection.bounds,E=this.scale(h),R=this.transformation.transform(b.min,E),B=this.transformation.transform(b.max,E);return new G(R,B)},infinite:!1,wrapLatLng:function(h){var b=this.wrapLng?f(h.lng,this.wrapLng,!0):h.lng,E=this.wrapLat?f(h.lat,this.wrapLat,!0):h.lat,R=h.alt;return new Le(E,b,R)},wrapLatLngBounds:function(h){var b=h.getCenter(),E=this.wrapLatLng(b),R=b.lat-E.lat,B=b.lng-E.lng;if(R===0&&B===0)return h;var ne=h.getSouthWest(),pe=h.getNorthEast(),Ee=new Le(ne.lat-R,ne.lng-B),Me=new Le(pe.lat-R,pe.lng-B);return new xe(Ee,Me)}},ge=i({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(h,b){var E=Math.PI/180,R=h.lat*E,B=b.lat*E,ne=Math.sin((b.lat-h.lat)*E/2),pe=Math.sin((b.lng-h.lng)*E/2),Ee=ne*ne+Math.cos(R)*Math.cos(B)*pe*pe,Me=2*Math.atan2(Math.sqrt(Ee),Math.sqrt(1-Ee));return this.R*Me}}),he=6378137,Pe={R:he,MAX_LATITUDE:85.0511287798,project:function(h){var b=Math.PI/180,E=this.MAX_LATITUDE,R=Math.max(Math.min(E,h.lat),-E),B=Math.sin(R*b);return new X(this.R*h.lng*b,this.R*Math.log((1+B)/(1-B))/2)},unproject:function(h){var b=180/Math.PI;return new Le((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*b,h.x*b/this.R)},bounds:function(){var h=he*Math.PI;return new G([-h,-h],[h,h])}()};function J(h,b,E,R){if(C(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=b,this._c=E,this._d=R}J.prototype={transform:function(h,b){return this._transform(h.clone(),b)},_transform:function(h,b){return b=b||1,h.x=b*(this._a*h.x+this._b),h.y=b*(this._c*h.y+this._d),h},untransform:function(h,b){return b=b||1,new X((h.x/b-this._b)/this._a,(h.y/b-this._d)/this._c)}};function H(h,b,E,R){return new J(h,b,E,R)}var we=i({},ge,{code:"EPSG:3857",projection:Pe,transformation:function(){var h=.5/(Math.PI*Pe.R);return H(h,.5,-h,.5)}()}),be=i({},we,{code:"EPSG:900913"});function Ve(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function qe(h,b){var E="",R,B,ne,pe,Ee,Me;for(R=0,ne=h.length;R<ne;R++){for(Ee=h[R],B=0,pe=Ee.length;B<pe;B++)Me=Ee[B],E+=(B?"L":"M")+Me.x+" "+Me.y;E+=b?ht.svg?"z":"x":""}return E||"M0 0"}var Se=document.documentElement.style,ot="ActiveXObject"in window,It=ot&&!document.addEventListener,fe="msLaunchUri"in navigator&&!("documentMode"in document),_e=oi("webkit"),ke=oi("android"),Ze=oi("android 2")||oi("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),me=ke&&oi("Google")&&Xe<537&&!("AudioNode"in window),De=!!window.opera,W=!fe&&oi("chrome"),D=oi("gecko")&&!_e&&!De&&!ot,F=!W&&oi("safari"),le=oi("phantom"),ye="OTransition"in Se,Oe=navigator.platform.indexOf("Win")===0,$e=ot&&"transition"in Se,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ze,ar="MozPerspective"in Se,Bt=!window.L_DISABLE_3D&&($e||vt||ar)&&!ye&&!le,Yt=typeof orientation<"u"||oi("mobile"),Ut=Yt&&_e,Gl=Yt&&vt,Vo=!window.PointerEvent&&window.MSPointerEvent,fa=!!(window.PointerEvent||Vo),is="ontouchstart"in window||!!window.TouchEvent,ss=!window.L_NO_TOUCH&&(is||fa),rf=Yt&&De,Nt=Yt&&D,tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yr=function(){var h=!1;try{var b=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",p,b),window.removeEventListener("testPassiveEventSupport",p,b)}catch{}return h}(),Xn=function(){return!!document.createElement("canvas").getContext}(),Fn=!!(document.createElementNS&&Ve("svg").createSVGRect),ai=!!Fn&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),as=!Fn&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var b=h.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),Nn=navigator.platform.indexOf("Mac")===0,Ds=navigator.platform.indexOf("Linux")===0;function oi(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var ht={ie:ot,ielt9:It,edge:fe,webkit:_e,android:ke,android23:Ze,androidStock:me,opera:De,chrome:W,gecko:D,safari:F,phantom:le,opera12:ye,win:Oe,ie3d:$e,webkit3d:vt,gecko3d:ar,any3d:Bt,mobile:Yt,mobileWebkit:Ut,mobileWebkit3d:Gl,msPointer:Vo,pointer:fa,touch:ss,touchNative:is,mobileOpera:rf,mobileGecko:Nt,retina:tr,passiveEvents:yr,canvas:Xn,svg:Fn,vml:as,inlineSvg:ai,mac:Nn,linux:Ds},Su=ht.msPointer?"MSPointerDown":"pointerdown",nf=ht.msPointer?"MSPointerMove":"pointermove",zy=ht.msPointer?"MSPointerUp":"pointerup",qy=ht.msPointer?"MSPointerCancel":"pointercancel",Yp={touchstart:Su,touchmove:nf,touchend:zy,touchcancel:qy},eo={touchstart:Yr,touchmove:sf,touchend:sf,touchcancel:sf},Wo={},Xp=!1;function E1(h,b,E){return b==="touchstart"&&P1(),eo[b]?(E=eo[b].bind(this,E),h.addEventListener(Yp[b],E,!1),E):(console.warn("wrong event specified:",b),p)}function Uy(h,b,E){if(!Yp[b]){console.warn("wrong event specified:",b);return}h.removeEventListener(Yp[b],E,!1)}function Vy(h){Wo[h.pointerId]=h}function Wy(h){Wo[h.pointerId]&&(Wo[h.pointerId]=h)}function Qp(h){delete Wo[h.pointerId]}function P1(){Xp||(document.addEventListener(Su,Vy,!0),document.addEventListener(nf,Wy,!0),document.addEventListener(zy,Qp,!0),document.addEventListener(qy,Qp,!0),Xp=!0)}function sf(h,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var E in Wo)b.touches.push(Wo[E]);b.changedTouches=[b],h(b)}}function Yr(h,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Xr(b),sf(h,b)}function T1(h){var b={},E,R;for(R in h)E=h[R],b[R]=E&&E.bind?E.bind(h):E;return h=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var Jp=200;function Hy(h,b){h.addEventListener("dblclick",b);var E=0,R;function B(ne){if(ne.detail!==1){R=ne.detail;return}if(!(ne.pointerType==="mouse"||ne.sourceCapabilities&&!ne.sourceCapabilities.firesTouchEvents)){var pe=Go(ne);if(!(pe.some(function(Me){return Me instanceof HTMLLabelElement&&Me.attributes.for})&&!pe.some(function(Me){return Me instanceof HTMLInputElement||Me instanceof HTMLSelectElement}))){var Ee=Date.now();Ee-E<=Jp?(R++,R===2&&b(T1(ne))):R=1,E=Ee}}}return h.addEventListener("click",B),{dblclick:b,simDblclick:B}}function af(h,b){h.removeEventListener("dblclick",b.dblclick),h.removeEventListener("click",b.simDblclick)}var em=Ql(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zl=Ql(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nu=Zl==="webkitTransition"||Zl==="OTransition"?Zl+"End":"transitionend";function os(h){return typeof h=="string"?document.getElementById(h):h}function Cu(h,b){var E=h.style[b]||h.currentStyle&&h.currentStyle[b];if((!E||E==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(h,null);E=R?R[b]:null}return E==="auto"?null:E}function kt(h,b,E){var R=document.createElement(h);return R.className=b||"",E&&E.appendChild(R),R}function Dr(h){var b=h.parentNode;b&&b.removeChild(h)}function of(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Yl(h){var b=h.parentNode;b&&b.lastChild!==h&&b.appendChild(h)}function ha(h){var b=h.parentNode;b&&b.firstChild!==h&&b.insertBefore(h,b.firstChild)}function Xl(h,b){if(h.classList!==void 0)return h.classList.contains(b);var E=lf(h);return E.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(E)}function Pt(h,b){if(h.classList!==void 0)for(var E=w(b),R=0,B=E.length;R<B;R++)h.classList.add(E[R]);else if(!Xl(h,b)){var ne=lf(h);tm(h,(ne?ne+" ":"")+b)}}function kr(h,b){h.classList!==void 0?h.classList.remove(b):tm(h,v((" "+lf(h)+" ").replace(" "+b+" "," ")))}function tm(h,b){h.className.baseVal===void 0?h.className=b:h.className.baseVal=b}function lf(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function li(h,b){"opacity"in h.style?h.style.opacity=b:"filter"in h.style&&Ky(h,b)}function Ky(h,b){var E=!1,R="DXImageTransform.Microsoft.Alpha";try{E=h.filters.item(R)}catch{if(b===1)return}b=Math.round(b*100),E?(E.Enabled=b!==100,E.Opacity=b):h.style.filter+=" progid:"+R+"(opacity="+b+")"}function Ql(h){for(var b=document.documentElement.style,E=0;E<h.length;E++)if(h[E]in b)return h[E];return!1}function ls(h,b,E){var R=b||new X(0,0);h.style[em]=(ht.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(E?" scale("+E+")":"")}function nn(h,b){h._leaflet_pos=b,ht.any3d?ls(h,b):(h.style.left=b.x+"px",h.style.top=b.y+"px")}function pa(h){return h._leaflet_pos||new X(0,0)}var Xt,Jl,cf;if("onselectstart"in document)Xt=function(){Ct(window,"selectstart",Xr)},Jl=function(){br(window,"selectstart",Xr)};else{var Ho=Ql(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(Ho){var h=document.documentElement.style;cf=h[Ho],h[Ho]="none"}},Jl=function(){Ho&&(document.documentElement.style[Ho]=cf,cf=void 0)}}function uf(){Ct(window,"dragstart",Xr)}function df(){br(window,"dragstart",Xr)}var Eu,Pu;function ec(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(cs(),Eu=h,Pu=h.style.outlineStyle,h.style.outlineStyle="none",Ct(window,"keydown",cs))}function cs(){Eu&&(Eu.style.outlineStyle=Pu,Eu=void 0,Pu=void 0,br(window,"keydown",cs))}function ma(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function $s(h){var b=h.getBoundingClientRect();return{x:b.width/h.offsetWidth||1,y:b.height/h.offsetHeight||1,boundingClientRect:b}}var Tu={__proto__:null,TRANSFORM:em,TRANSITION:Zl,TRANSITION_END:Nu,get:os,getStyle:Cu,create:kt,remove:Dr,empty:of,toFront:Yl,toBack:ha,hasClass:Xl,addClass:Pt,removeClass:kr,setClass:tm,getClass:lf,setOpacity:li,testProp:Ql,setTransform:ls,setPosition:nn,getPosition:pa,get disableTextSelection(){return Xt},get enableTextSelection(){return Jl},disableImageDrag:uf,enableImageDrag:df,preventOutline:ec,restoreOutline:cs,getSizedParentNode:ma,getScale:$s};function Ct(h,b,E,R){if(b&&typeof b=="object")for(var B in b)nm(h,B,b[B],E);else{b=w(b);for(var ne=0,pe=b.length;ne<pe;ne++)nm(h,b[ne],E,R)}return this}var Cn="_leaflet_events";function br(h,b,E,R){if(arguments.length===1)rm(h),delete h[Cn];else if(b&&typeof b=="object")for(var B in b)ff(h,B,b[B],E);else if(b=w(b),arguments.length===2)rm(h,function(Ee){return A(b,Ee)!==-1});else for(var ne=0,pe=b.length;ne<pe;ne++)ff(h,b[ne],E,R);return this}function rm(h,b){for(var E in h[Cn]){var R=E.split(/\d/)[0];(!b||b(R))&&ff(h,R,null,null,E)}}var Ko={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nm(h,b,E,R){var B=b+c(E)+(R?"_"+c(R):"");if(h[Cn]&&h[Cn][B])return this;var ne=function(Ee){return E.call(R||h,Ee||window.event)},pe=ne;!ht.touchNative&&ht.pointer&&b.indexOf("touch")===0?ne=E1(h,b,ne):ht.touch&&b==="dblclick"?ne=Hy(h,ne):"addEventListener"in h?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?h.addEventListener(Ko[b]||b,ne,ht.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(ne=function(Ee){Ee=Ee||window.event,Ou(h,Ee)&&pe(Ee)},h.addEventListener(Ko[b],ne,!1)):h.addEventListener(b,pe,!1):h.attachEvent("on"+b,ne),h[Cn]=h[Cn]||{},h[Cn][B]=ne}function ff(h,b,E,R,B){B=B||b+c(E)+(R?"_"+c(R):"");var ne=h[Cn]&&h[Cn][B];if(!ne)return this;!ht.touchNative&&ht.pointer&&b.indexOf("touch")===0?Uy(h,b,ne):ht.touch&&b==="dblclick"?af(h,ne):"removeEventListener"in h?h.removeEventListener(Ko[b]||b,ne,!1):h.detachEvent("on"+b,ne),h[Cn][B]=null}function Fs(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function hf(h){return nm(h,"wheel",Fs),this}function Au(h){return Ct(h,"mousedown touchstart dblclick contextmenu",Fs),h._leaflet_disable_click=!0,this}function Xr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function us(h){return Xr(h),Fs(h),this}function Go(h){if(h.composedPath)return h.composedPath();for(var b=[],E=h.target;E;)b.push(E),E=E.parentNode;return b}function ku(h,b){if(!b)return new X(h.clientX,h.clientY);var E=$s(b),R=E.boundingClientRect;return new X((h.clientX-R.left)/E.x-b.clientLeft,(h.clientY-R.top)/E.y-b.clientTop)}var A1=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Gy(h){return ht.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/A1:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Ou(h,b){var E=b.relatedTarget;if(!E)return!0;try{for(;E&&E!==h;)E=E.parentNode}catch{return!1}return E!==h}var pf={__proto__:null,on:Ct,off:br,stopPropagation:Fs,disableScrollPropagation:hf,disableClickPropagation:Au,preventDefault:Xr,stop:us,getPropagationPath:Go,getMousePosition:ku,getWheelDelta:Gy,isExternalTarget:Ou,addListener:Ct,removeListener:br},mf=se.extend({run:function(h,b,E,R){this.stop(),this._el=h,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=pa(h),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(h){var b=+new Date-this._startTime,E=this._duration*1e3;b<E?this._runFrame(this._easeOut(b/E),h):(this._runFrame(1),this._complete())},_runFrame:function(h,b){var E=this._startPos.add(this._offset.multiplyBy(h));b&&E._round(),nn(this._el,E),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Kt=se.extend({options:{crs:we,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,b){b=y(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(ce(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zl&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Nu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,b,E){if(b=b===void 0?this._zoom:this._limitZoom(b),h=this._limitCenter(ce(h),b,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var R=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,b,E.zoom):this._tryAnimatedPan(h,E.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(h,b,E.pan&&E.pan.noMoveStart),this},setZoom:function(h,b){return this._loaded?this.setView(this.getCenter(),h,{zoom:b}):(this._zoom=h,this)},zoomIn:function(h,b){return h=h||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,b)},zoomOut:function(h,b){return h=h||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,b)},setZoomAround:function(h,b,E){var R=this.getZoomScale(b),B=this.getSize().divideBy(2),ne=h instanceof X?h:this.latLngToContainerPoint(h),pe=ne.subtract(B).multiplyBy(1-1/R),Ee=this.containerPointToLatLng(B.add(pe));return this.setView(Ee,b,{zoom:E})},_getBoundsCenterZoom:function(h,b){b=b||{},h=h.getBounds?h.getBounds():Ne(h);var E=te(b.paddingTopLeft||b.padding||[0,0]),R=te(b.paddingBottomRight||b.padding||[0,0]),B=this.getBoundsZoom(h,!1,E.add(R));if(B=typeof b.maxZoom=="number"?Math.min(b.maxZoom,B):B,B===1/0)return{center:h.getCenter(),zoom:B};var ne=R.subtract(E).divideBy(2),pe=this.project(h.getSouthWest(),B),Ee=this.project(h.getNorthEast(),B),Me=this.unproject(pe.add(Ee).divideBy(2).add(ne),B);return{center:Me,zoom:B}},fitBounds:function(h,b){if(h=Ne(h),!h.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(h,b);return this.setView(E.center,E.zoom,b)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,b){return this.setView(h,this._zoom,{pan:b})},panBy:function(h,b){if(h=te(h).round(),b=b||{},!h.x&&!h.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,E,b.duration||.25,b.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,b,E){if(E=E||{},E.animate===!1||!ht.any3d)return this.setView(h,b,E);this._stop();var R=this.project(this.getCenter()),B=this.project(h),ne=this.getSize(),pe=this._zoom;h=ce(h),b=b===void 0?pe:b;var Ee=Math.max(ne.x,ne.y),Me=Ee*this.getZoomScale(pe,b),ze=B.distanceTo(R)||1,nt=1.42,yt=nt*nt;function Lt(hr){var mc=hr?-1:1,V1=hr?Me:Ee,W1=Me*Me-Ee*Ee+mc*yt*yt*ze*ze,tl=2*V1*yt*ze,rl=W1/tl,nl=Math.sqrt(rl*rl+1)-rl,Tf=nl<1e-9?-18:Math.log(nl);return Tf}function En(hr){return(Math.exp(hr)-Math.exp(-hr))/2}function mn(hr){return(Math.exp(hr)+Math.exp(-hr))/2}function Ci(hr){return En(hr)/mn(hr)}var ui=Lt(0);function hc(hr){return Ee*(mn(ui)/mn(ui+nt*hr))}function Sm(hr){return Ee*(mn(ui)*Ci(ui+nt*hr)-En(ui))/yt}function lo(hr){return 1-Math.pow(1-hr,1.5)}var mx=Date.now(),el=(Lt(1)-ui)/nt,Us=E.duration?1e3*E.duration:1e3*el*.8;function pc(){var hr=(Date.now()-mx)/Us,mc=lo(hr)*el;hr<=1?(this._flyToFrame=Z(pc,this),this._move(this.unproject(R.add(B.subtract(R).multiplyBy(Sm(mc)/ze)),pe),this.getScaleZoom(Ee/hc(mc),pe),{flyTo:!0})):this._move(h,b)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),pc.call(this),this},flyToBounds:function(h,b){var E=this._getBoundsCenterZoom(h,b);return this.flyTo(E.center,E.zoom,b)},setMaxBounds:function(h){return h=Ne(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var b=this.options.minZoom;return this.options.minZoom=h,this._loaded&&b!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var b=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&b!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,b){this._enforcingBounds=!0;var E=this.getCenter(),R=this._limitCenter(E,this._zoom,Ne(h));return E.equals(R)||this.panTo(R,b),this._enforcingBounds=!1,this},panInside:function(h,b){b=b||{};var E=te(b.paddingTopLeft||b.padding||[0,0]),R=te(b.paddingBottomRight||b.padding||[0,0]),B=this.project(this.getCenter()),ne=this.project(h),pe=this.getPixelBounds(),Ee=ie([pe.min.add(E),pe.max.subtract(R)]),Me=Ee.getSize();if(!Ee.contains(ne)){this._enforcingBounds=!0;var ze=ne.subtract(Ee.getCenter()),nt=Ee.extend(ne).getSize().subtract(Me);B.x+=ze.x<0?-nt.x:nt.x,B.y+=ze.y<0?-nt.y:nt.y,this.panTo(this.unproject(B),b),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),R=b.divideBy(2).round(),B=E.divideBy(2).round(),ne=R.subtract(B);return!ne.x&&!ne.y?this:(h.animate&&h.pan?this.panBy(ne):(h.pan&&this._rawPanBy(ne),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,E,h):navigator.geolocation.getCurrentPosition(b,E,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var b=h.code,E=h.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var b=h.coords.latitude,E=h.coords.longitude,R=new Le(b,E),B=R.toBounds(h.coords.accuracy*2),ne=this._locateOptions;if(ne.setView){var pe=this.getBoundsZoom(B);this.setView(R,ne.maxZoom?Math.min(pe,ne.maxZoom):pe)}var Ee={latlng:R,bounds:B,timestamp:h.timestamp};for(var Me in h.coords)typeof h.coords[Me]=="number"&&(Ee[Me]=h.coords[Me]);this.fire("locationfound",Ee)}},addHandler:function(h,b){if(!b)return this;var E=this[h]=new b(this);return this._handlers.push(E),this.options[h]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Dr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,b){var E="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),R=kt("div",E,b||this._mapPane);return h&&(this._panes[h]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),b=this.unproject(h.getBottomLeft()),E=this.unproject(h.getTopRight());return new xe(b,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,b,E){h=Ne(h),E=te(E||[0,0]);var R=this.getZoom()||0,B=this.getMinZoom(),ne=this.getMaxZoom(),pe=h.getNorthWest(),Ee=h.getSouthEast(),Me=this.getSize().subtract(E),ze=ie(this.project(Ee,R),this.project(pe,R)).getSize(),nt=ht.any3d?this.options.zoomSnap:1,yt=Me.x/ze.x,Lt=Me.y/ze.y,En=b?Math.max(yt,Lt):Math.min(yt,Lt);return R=this.getScaleZoom(En,R),nt&&(R=Math.round(R/(nt/100))*(nt/100),R=b?Math.ceil(R/nt)*nt:Math.floor(R/nt)*nt),Math.max(B,Math.min(ne,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,b){var E=this._getTopLeftPoint(h,b);return new G(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,b){var E=this.options.crs;return b=b===void 0?this._zoom:b,E.scale(h)/E.scale(b)},getScaleZoom:function(h,b){var E=this.options.crs;b=b===void 0?this._zoom:b;var R=E.zoom(h*E.scale(b));return isNaN(R)?1/0:R},project:function(h,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(ce(h),b)},unproject:function(h,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(te(h),b)},layerPointToLatLng:function(h){var b=te(h).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(h){var b=this.project(ce(h))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ce(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Ne(h))},distance:function(h,b){return this.options.crs.distance(ce(h),ce(b))},containerPointToLayerPoint:function(h){return te(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return te(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var b=this.containerPointToLayerPoint(te(h));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(h)))},mouseEventToContainerPoint:function(h){return ku(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var b=this._container=os(h);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(b,"scroll",this._onScroll,this),this._containerId=c(b)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,Pt(h,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=Cu(h,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nn(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(h.markerPane,"leaflet-zoom-hide"),Pt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,b,E){nn(this._mapPane,new X(0,0));var R=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var B=this._zoom!==b;this._moveStart(B,E)._move(h,b)._moveEnd(B),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(h,b){return h&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(h,b,E,R){b===void 0&&(b=this._zoom);var B=this._zoom!==b;return this._zoom=b,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),R?E&&E.pinch&&this.fire("zoom",E):((B||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){nn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var b=h?br:Ct;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,b){for(var E=[],R,B=b==="mouseout"||b==="mouseover",ne=h.target||h.srcElement,pe=!1;ne;){if(R=this._targets[c(ne)],R&&(b==="click"||b==="preclick")&&this._draggableMoved(R)){pe=!0;break}if(R&&R.listens(b,!0)&&(B&&!Ou(ne,h)||(E.push(R),B))||ne===this._container)break;ne=ne.parentNode}return!E.length&&!pe&&!B&&this.listens(b,!0)&&(E=[this]),E},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var b=h.target||h.srcElement;if(!(!this._loaded||b._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(b))){var E=h.type;E==="mousedown"&&ec(b),this._fireDOMEvent(h,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,b,E){if(h.type==="click"){var R=i({},h);R.type="preclick",this._fireDOMEvent(R,R.type,E)}var B=this._findEventTargets(h,b);if(E){for(var ne=[],pe=0;pe<E.length;pe++)E[pe].listens(b,!0)&&ne.push(E[pe]);B=ne.concat(B)}if(B.length){b==="contextmenu"&&Xr(h);var Ee=B[0],Me={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ze=Ee.getLatLng&&(!Ee._radius||Ee._radius<=10);Me.containerPoint=ze?this.latLngToContainerPoint(Ee.getLatLng()):this.mouseEventToContainerPoint(h),Me.layerPoint=this.containerPointToLayerPoint(Me.containerPoint),Me.latlng=ze?Ee.getLatLng():this.layerPointToLatLng(Me.layerPoint)}for(pe=0;pe<B.length;pe++)if(B[pe].fire(b,Me,!0),Me.originalEvent._stopped||B[pe].options.bubblingMouseEvents===!1&&A(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,b=this._handlers.length;h<b;h++)this._handlers[h].disable()},whenReady:function(h,b){return this._loaded?h.call(b||this,{target:this}):this.on("load",h,b),this},_getMapPanePos:function(){return pa(this._mapPane)||new X(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,b){var E=h&&b!==void 0?this._getNewPixelOrigin(h,b):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,b){var E=this.getSize()._divideBy(2);return this.project(h,b)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,b,E){var R=this._getNewPixelOrigin(E,b);return this.project(h,b)._subtract(R)},_latLngBoundsToNewLayerBounds:function(h,b,E){var R=this._getNewPixelOrigin(E,b);return ie([this.project(h.getSouthWest(),b)._subtract(R),this.project(h.getNorthWest(),b)._subtract(R),this.project(h.getSouthEast(),b)._subtract(R),this.project(h.getNorthEast(),b)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,b,E){if(!E)return h;var R=this.project(h,b),B=this.getSize().divideBy(2),ne=new G(R.subtract(B),R.add(B)),pe=this._getBoundsOffset(ne,E,b);return Math.abs(pe.x)<=1&&Math.abs(pe.y)<=1?h:this.unproject(R.add(pe),b)},_limitOffset:function(h,b){if(!b)return h;var E=this.getPixelBounds(),R=new G(E.min.add(h),E.max.add(h));return h.add(this._getBoundsOffset(R,b))},_getBoundsOffset:function(h,b,E){var R=ie(this.project(b.getNorthEast(),E),this.project(b.getSouthWest(),E)),B=R.min.subtract(h.min),ne=R.max.subtract(h.max),pe=this._rebound(B.x,-ne.x),Ee=this._rebound(B.y,-ne.y);return new X(pe,Ee)},_rebound:function(h,b){return h+b>0?Math.round(h-b)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(b))},_limitZoom:function(h){var b=this.getMinZoom(),E=this.getMaxZoom(),R=ht.any3d?this.options.zoomSnap:1;return R&&(h=Math.round(h/R)*R),Math.max(b,Math.min(E,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){kr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,b){var E=this._getCenterOffset(h)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,b),!0)},_createAnimProxy:function(){var h=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(b){var E=em,R=this._proxy.style[E];ls(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),R===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),b=this.getZoom();ls(this._proxy,this.project(h,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,b,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(b),B=this._getCenterOffset(h)._divideBy(1-1/R);return E.animate!==!0&&!this.getSize().contains(B)?!1:(Z(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(h,b,!0)},this),!0)},_animateZoom:function(h,b,E,R){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=b,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:b,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function to(h,b){return new Kt(h,b)}var Si=U.extend({options:{position:"topright"},initialize:function(h){y(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var b=this._map;return b&&b.removeControl(this),this.options.position=h,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var b=this._container=this.onAdd(h),E=this.getPosition(),R=h._controlCorners[E];return Pt(b,"leaflet-control"),E.indexOf("bottom")!==-1?R.insertBefore(b,R.firstChild):R.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),ro=function(h){return new Si(h)};Kt.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},b="leaflet-",E=this._controlContainer=kt("div",b+"control-container",this._container);function R(B,ne){var pe=b+B+" "+b+ne;h[B+ne]=kt("div",pe,E)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Dr(this._controlCorners[h]);Dr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var im=Si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,b,E,R){return E<R?-1:R<E?1:0}},initialize:function(h,b,E){y(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in h)this._addLayer(h[R],R);for(R in b)this._addLayer(b[R],R,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Si.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,b){return this._addLayer(h,b),this._map?this._update():this},addOverlay:function(h,b){return this._addLayer(h,b,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var b=this._getLayer(c(h));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):kr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return kr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",b=this._container=kt("div",h),E=this.options.collapsed;b.setAttribute("aria-haspopup",!0),Au(b),hf(b);var R=this._section=kt("section",h+"-list");E&&(this._map.on("click",this.collapse,this),Ct(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var B=this._layersLink=kt("a",h+"-toggle",b);B.href="#",B.title="Layers",B.setAttribute("role","button"),Ct(B,{keydown:function(ne){ne.keyCode===13&&this._expandSafely()},click:function(ne){Xr(ne),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=kt("div",h+"-base",R),this._separator=kt("div",h+"-separator",R),this._overlaysList=kt("div",h+"-overlays",R),b.appendChild(R)},_getLayer:function(h){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&c(this._layers[b].layer)===h)return this._layers[b]},_addLayer:function(h,b,E){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:b,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(R,B){return this.options.sortFunction(R.layer,B.layer,R.name,B.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;of(this._baseLayersList),of(this._overlaysList),this._layerControlInputs=[];var h,b,E,R,B=0;for(E=0;E<this._layers.length;E++)R=this._layers[E],this._addItem(R),b=b||R.overlay,h=h||!R.overlay,B+=R.overlay?0:1;return this.options.hideSingleBase&&(h=h&&B>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=b&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var b=this._getLayer(c(h.target)),E=b.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;E&&this._map.fire(E,b)},_createRadioElement:function(h,b){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(b?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=E,R.firstChild},_addItem:function(h){var b=document.createElement("label"),E=this._map.hasLayer(h.layer),R;h.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=E):R=this._createRadioElement("leaflet-base-layers_"+c(this),E),this._layerControlInputs.push(R),R.layerId=c(h.layer),Ct(R,"click",this._onInputClick,this);var B=document.createElement("span");B.innerHTML=" "+h.name;var ne=document.createElement("span");b.appendChild(ne),ne.appendChild(R),ne.appendChild(B);var pe=h.overlay?this._overlaysList:this._baseLayersList;return pe.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,b,E,R=[],B=[];this._handlingClick=!0;for(var ne=h.length-1;ne>=0;ne--)b=h[ne],E=this._getLayer(b.layerId).layer,b.checked?R.push(E):b.checked||B.push(E);for(ne=0;ne<B.length;ne++)this._map.hasLayer(B[ne])&&this._map.removeLayer(B[ne]);for(ne=0;ne<R.length;ne++)this._map.hasLayer(R[ne])||this._map.addLayer(R[ne]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,b,E,R=this._map.getZoom(),B=h.length-1;B>=0;B--)b=h[B],E=this._getLayer(b.layerId).layer,b.disabled=E.options.minZoom!==void 0&&R<E.options.minZoom||E.options.maxZoom!==void 0&&R>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ct(h,"click",Xr),this.expand();var b=this;setTimeout(function(){br(h,"click",Xr),b._preventClick=!1})}}),gf=function(h,b,E){return new im(h,b,E)},tc=Si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var b="leaflet-control-zoom",E=kt("div",b+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,b+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,b+"-out",E,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,b,E,R,B){var ne=kt("a",E,R);return ne.innerHTML=h,ne.href="#",ne.title=b,ne.setAttribute("role","button"),ne.setAttribute("aria-label",b),Au(ne),Ct(ne,"click",us),Ct(ne,"click",B,this),Ct(ne,"click",this._refocusOnMap,this),ne},_updateDisabled:function(){var h=this._map,b="leaflet-disabled";kr(this._zoomInButton,b),kr(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Pt(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Pt(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new tc,this.addControl(this.zoomControl))});var Zy=function(h){return new tc(h)},ci=Si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var b="leaflet-control-scale",E=kt("div",b),R=this.options;return this._addScales(R,b+"-line",E),h.on(R.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),E},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,b,E){h.metric&&(this._mScale=kt("div",b,E)),h.imperial&&(this._iScale=kt("div",b,E))},_update:function(){var h=this._map,b=h.getSize().y/2,E=h.distance(h.containerPointToLatLng([0,b]),h.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(E)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var b=this._getRoundNum(h),E=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,E,b/h)},_updateImperial:function(h){var b=h*3.2808399,E,R,B;b>5280?(E=b/5280,R=this._getRoundNum(E),this._updateScale(this._iScale,R+" mi",R/E)):(B=this._getRoundNum(b),this._updateScale(this._iScale,B+" ft",B/b))},_updateScale:function(h,b,E){h.style.width=Math.round(this.options.maxWidth*E)+"px",h.innerHTML=b},_getRoundNum:function(h){var b=Math.pow(10,(Math.floor(h)+"").length-1),E=h/b;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,b*E}}),rc=function(h){return new ci(h)},sm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zo=Si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?sm+" ":"")+"Leaflet</a>"},initialize:function(h){y(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Au(this._container);for(var b in h._layers)h._layers[b].getAttribution&&this.addAttribution(h._layers[b].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var b in this._attributions)this._attributions[b]&&h.push(b);var E=[];this.options.prefix&&E.push(this.options.prefix),h.length&&E.push(h.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new Zo().addTo(this)});var k1=function(h){return new Zo(h)};Si.Layers=im,Si.Zoom=tc,Si.Scale=ci,Si.Attribution=Zo,ro.layers=gf,ro.zoom=Zy,ro.scale=rc,ro.attribution=k1;var $i=U.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$i.addTo=function(h,b){return h.addHandler(b,this),this};var am={Events:ae},nc=ht.touch?"touchstart mousedown":"mousedown",ds=se.extend({options:{clickTolerance:3},initialize:function(h,b,E,R){y(this,R),this._element=h,this._dragStartTarget=b||h,this._preventOutline=E},enable:function(){this._enabled||(Ct(this._dragStartTarget,nc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ds._dragging===this&&this.finishDrag(!0),br(this._dragStartTarget,nc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Xl(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){ds._dragging===this&&this.finishDrag();return}if(!(ds._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(ds._dragging=this,this._preventOutline&&ec(this._element),uf(),Xt(),!this._moving)){this.fire("down");var b=h.touches?h.touches[0]:h,E=ma(this._element);this._startPoint=new X(b.clientX,b.clientY),this._startPos=pa(this._element),this._parentScale=$s(E);var R=h.type==="mousedown";Ct(document,R?"mousemove":"touchmove",this._onMove,this),Ct(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var b=h.touches&&h.touches.length===1?h.touches[0]:h,E=new X(b.clientX,b.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,Xr(h),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),nn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){kr(document.body,"leaflet-dragging"),this._lastTarget&&(kr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),br(document,"mousemove touchmove",this._onMove,this),br(document,"mouseup touchend touchcancel",this._onUp,this),df(),Jl();var b=this._moved&&this._moving;this._moving=!1,ds._dragging=!1,b&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function om(h,b,E){var R,B=[1,4,2,8],ne,pe,Ee,Me,ze,nt,yt,Lt;for(ne=0,nt=h.length;ne<nt;ne++)h[ne]._code=Yo(h[ne],b);for(Ee=0;Ee<4;Ee++){for(yt=B[Ee],R=[],ne=0,nt=h.length,pe=nt-1;ne<nt;pe=ne++)Me=h[ne],ze=h[pe],Me._code&yt?ze._code&yt||(Lt=yf(ze,Me,yt,b,E),Lt._code=Yo(Lt,b),R.push(Lt)):(ze._code&yt&&(Lt=yf(ze,Me,yt,b,E),Lt._code=Yo(Lt,b),R.push(Lt)),R.push(Me));h=R}return h}function Yy(h,b){var E,R,B,ne,pe,Ee,Me,ze,nt;if(!h||h.length===0)throw new Error("latlngs not passed");Fi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var yt=ce([0,0]),Lt=Ne(h),En=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());En<1700&&(yt=lm(h));var mn=h.length,Ci=[];for(E=0;E<mn;E++){var ui=ce(h[E]);Ci.push(b.project(ce([ui.lat-yt.lat,ui.lng-yt.lng])))}for(Ee=Me=ze=0,E=0,R=mn-1;E<mn;R=E++)B=Ci[E],ne=Ci[R],pe=B.y*ne.x-ne.y*B.x,Me+=(B.x+ne.x)*pe,ze+=(B.y+ne.y)*pe,Ee+=pe*3;Ee===0?nt=Ci[0]:nt=[Me/Ee,ze/Ee];var hc=b.unproject(te(nt));return ce([hc.lat+yt.lat,hc.lng+yt.lng])}function lm(h){for(var b=0,E=0,R=0,B=0;B<h.length;B++){var ne=ce(h[B]);b+=ne.lat,E+=ne.lng,R++}return ce([b/R,E/R])}var O1={__proto__:null,clipPolygon:om,polygonCenter:Yy,centroid:lm};function vf(h,b){if(!b||!h.length)return h.slice();var E=b*b;return h=I1(h,E),h=M1(h,E),h}function Xy(h,b,E){return Math.sqrt(Xo(h,b,E,!0))}function R1(h,b,E){return Xo(h,b,E)}function M1(h,b){var E=h.length,R=typeof Uint8Array<"u"?Uint8Array:Array,B=new R(E);B[0]=B[E-1]=1,cm(h,B,b,0,E-1);var ne,pe=[];for(ne=0;ne<E;ne++)B[ne]&&pe.push(h[ne]);return pe}function cm(h,b,E,R,B){var ne=0,pe,Ee,Me;for(Ee=R+1;Ee<=B-1;Ee++)Me=Xo(h[Ee],h[R],h[B],!0),Me>ne&&(pe=Ee,ne=Me);ne>E&&(b[pe]=1,cm(h,b,E,R,pe),cm(h,b,E,pe,B))}function I1(h,b){for(var E=[h[0]],R=1,B=0,ne=h.length;R<ne;R++)L1(h[R],h[B])>b&&(E.push(h[R]),B=R);return B<ne-1&&E.push(h[ne-1]),E}var um;function Qy(h,b,E,R,B){var ne=R?um:Yo(h,E),pe=Yo(b,E),Ee,Me,ze;for(um=pe;;){if(!(ne|pe))return[h,b];if(ne&pe)return!1;Ee=ne||pe,Me=yf(h,b,Ee,E,B),ze=Yo(Me,E),Ee===ne?(h=Me,ne=ze):(b=Me,pe=ze)}}function yf(h,b,E,R,B){var ne=b.x-h.x,pe=b.y-h.y,Ee=R.min,Me=R.max,ze,nt;return E&8?(ze=h.x+ne*(Me.y-h.y)/pe,nt=Me.y):E&4?(ze=h.x+ne*(Ee.y-h.y)/pe,nt=Ee.y):E&2?(ze=Me.x,nt=h.y+pe*(Me.x-h.x)/ne):E&1&&(ze=Ee.x,nt=h.y+pe*(Ee.x-h.x)/ne),new X(ze,nt,B)}function Yo(h,b){var E=0;return h.x<b.min.x?E|=1:h.x>b.max.x&&(E|=2),h.y<b.min.y?E|=4:h.y>b.max.y&&(E|=8),E}function L1(h,b){var E=b.x-h.x,R=b.y-h.y;return E*E+R*R}function Xo(h,b,E,R){var B=b.x,ne=b.y,pe=E.x-B,Ee=E.y-ne,Me=pe*pe+Ee*Ee,ze;return Me>0&&(ze=((h.x-B)*pe+(h.y-ne)*Ee)/Me,ze>1?(B=E.x,ne=E.y):ze>0&&(B+=pe*ze,ne+=Ee*ze)),pe=h.x-B,Ee=h.y-ne,R?pe*pe+Ee*Ee:new X(B,ne)}function Fi(h){return!C(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Jy(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fi(h)}function ex(h,b){var E,R,B,ne,pe,Ee,Me,ze;if(!h||h.length===0)throw new Error("latlngs not passed");Fi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var nt=ce([0,0]),yt=Ne(h),Lt=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());Lt<1700&&(nt=lm(h));var En=h.length,mn=[];for(E=0;E<En;E++){var Ci=ce(h[E]);mn.push(b.project(ce([Ci.lat-nt.lat,Ci.lng-nt.lng])))}for(E=0,R=0;E<En-1;E++)R+=mn[E].distanceTo(mn[E+1])/2;if(R===0)ze=mn[0];else for(E=0,ne=0;E<En-1;E++)if(pe=mn[E],Ee=mn[E+1],B=pe.distanceTo(Ee),ne+=B,ne>R){Me=(ne-R)/B,ze=[Ee.x-Me*(Ee.x-pe.x),Ee.y-Me*(Ee.y-pe.y)];break}var ui=b.unproject(te(ze));return ce([ui.lat+nt.lat,ui.lng+nt.lng])}var tx={__proto__:null,simplify:vf,pointToSegmentDistance:Xy,closestPointOnSegment:R1,clipSegment:Qy,_getEdgeIntersection:yf,_getBitCode:Yo,_sqClosestPointOnSegment:Xo,isFlat:Fi,_flat:Jy,polylineCenter:ex},dm={project:function(h){return new X(h.lng,h.lat)},unproject:function(h){return new Le(h.y,h.x)},bounds:new G([-180,-90],[180,90])},fm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var b=Math.PI/180,E=this.R,R=h.lat*b,B=this.R_MINOR/E,ne=Math.sqrt(1-B*B),pe=ne*Math.sin(R),Ee=Math.tan(Math.PI/4-R/2)/Math.pow((1-pe)/(1+pe),ne/2);return R=-E*Math.log(Math.max(Ee,1e-10)),new X(h.lng*b*E,R)},unproject:function(h){for(var b=180/Math.PI,E=this.R,R=this.R_MINOR/E,B=Math.sqrt(1-R*R),ne=Math.exp(-h.y/E),pe=Math.PI/2-2*Math.atan(ne),Ee=0,Me=.1,ze;Ee<15&&Math.abs(Me)>1e-7;Ee++)ze=B*Math.sin(pe),ze=Math.pow((1-ze)/(1+ze),B/2),Me=Math.PI/2-2*Math.atan(ne*ze)-pe,pe+=Me;return new Le(pe*b,h.x*b/E)}},D1={__proto__:null,LonLat:dm,Mercator:fm,SphericalMercator:Pe},$1=i({},ge,{code:"EPSG:3395",projection:fm,transformation:function(){var h=.5/(Math.PI*fm.R);return H(h,.5,-h,.5)}()}),rx=i({},ge,{code:"EPSG:4326",projection:dm,transformation:H(1/180,1,-1/180,.5)}),F1=i({},oe,{projection:dm,transformation:H(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,b){var E=b.lng-h.lng,R=b.lat-h.lat;return Math.sqrt(E*E+R*R)},infinite:!0});oe.Earth=ge,oe.EPSG3395=$1,oe.EPSG3857=we,oe.EPSG900913=be,oe.EPSG4326=rx,oe.Simple=F1;var fs=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var b=h.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var E=this.getEvents();b.on(E,this),this.once("remove",function(){b.off(E,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var b=c(h);return this._layers[b]?this:(this._layers[b]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var b=c(h);return this._layers[b]?(this._loaded&&h.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,b){for(var E in this._layers)h.call(b,this._layers[E]);return this},_addLayers:function(h){h=h?C(h)?h:[h]:[];for(var b=0,E=h.length;b<E;b++)this.addLayer(h[b])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var b=c(h);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,b=-1/0,E=this._getZoomSpan();for(var R in this._zoomBoundLayers){var B=this._zoomBoundLayers[R].options;h=B.minZoom===void 0?h:Math.min(h,B.minZoom),b=B.maxZoom===void 0?b:Math.max(b,B.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=h===1/0?void 0:h,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var no=fs.extend({initialize:function(h,b){y(this,b),this._layers={};var E,R;if(h)for(E=0,R=h.length;E<R;E++)this.addLayer(h[E])},addLayer:function(h){var b=this.getLayerId(h);return this._layers[b]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var b=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(h){var b=typeof h=="number"?h:this.getLayerId(h);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var b=Array.prototype.slice.call(arguments,1),E,R;for(E in this._layers)R=this._layers[E],R[h]&&R[h].apply(R,b);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,b){for(var E in this._layers)h.call(b,this._layers[E]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Ru=function(h,b){return new no(h,b)},ga=no.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),no.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),no.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new xe;for(var b in this._layers){var E=this._layers[b];h.extend(E.getBounds?E.getBounds():E.getLatLng())}return h}}),nx=function(h,b){return new ga(h,b)},Qo=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){y(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,b){var E=this._getIconUrl(h);if(!E){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(E,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(R,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(h,b){var E=this.options,R=E[b+"Size"];typeof R=="number"&&(R=[R,R]);var B=te(R),ne=te(b==="shadow"&&E.shadowAnchor||E.iconAnchor||B&&B.divideBy(2,!0));h.className="leaflet-marker-"+b+" "+(E.className||""),ne&&(h.style.marginLeft=-ne.x+"px",h.style.marginTop=-ne.y+"px"),B&&(h.style.width=B.x+"px",h.style.height=B.y+"px")},_createImg:function(h,b){return b=b||document.createElement("img"),b.src=h,b},_getIconUrl:function(h){return ht.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function ix(h){return new Qo(h)}var ic=Qo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof ic.imagePath!="string"&&(ic.imagePath=this._detectIconPath()),(this.options.imagePath||ic.imagePath)+Qo.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var b=function(E,R,B){var ne=R.exec(E);return ne&&ne[B]};return h=b(h,/^url\((['"])?(.+)\1\)$/,2),h&&b(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=kt("div","leaflet-default-icon-path",document.body),b=Cu(h,"background-image")||Cu(h,"backgroundImage");if(document.body.removeChild(h),b=this._stripUrl(b),b)return b;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),hm=$i.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new ds(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var b=this._marker,E=b._map,R=this._marker.options.autoPanSpeed,B=this._marker.options.autoPanPadding,ne=pa(b._icon),pe=E.getPixelBounds(),Ee=E.getPixelOrigin(),Me=ie(pe.min._subtract(Ee).add(B),pe.max._subtract(Ee).subtract(B));if(!Me.contains(ne)){var ze=te((Math.max(Me.max.x,ne.x)-Me.max.x)/(pe.max.x-Me.max.x)-(Math.min(Me.min.x,ne.x)-Me.min.x)/(pe.min.x-Me.min.x),(Math.max(Me.max.y,ne.y)-Me.max.y)/(pe.max.y-Me.max.y)-(Math.min(Me.min.y,ne.y)-Me.min.y)/(pe.min.y-Me.min.y)).multiplyBy(R);E.panBy(ze,{animate:!1}),this._draggable._newPos._add(ze),this._draggable._startPos._add(ze),nn(b._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=Z(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,h)))},_onDrag:function(h){var b=this._marker,E=b._shadow,R=pa(b._icon),B=b._map.layerPointToLatLng(R);E&&nn(E,R),b._latlng=B,h.latlng=B,h.oldLatLng=this._oldLatLng,b.fire("move",h).fire("drag",h)},_onDragEnd:function(h){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),va=fs.extend({options:{icon:new ic,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,b){y(this,b),this._latlng=ce(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var b=this._latlng;return this._latlng=ce(h),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=h.icon.createIcon(this._icon),R=!1;E!==this._icon&&(this._icon&&this._removeIcon(),R=!0,h.title&&(E.title=h.title),E.tagName==="IMG"&&(E.alt=h.alt||"")),Pt(E,b),h.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(E,"focus",this._panOnFocus,this);var B=h.icon.createShadow(this._shadow),ne=!1;B!==this._shadow&&(this._removeShadow(),ne=!0),B&&(Pt(B,b),B.alt=""),this._shadow=B,h.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),B&&ne&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&br(this._icon,"focus",this._panOnFocus,this),Dr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&nn(this._icon,h),this._shadow&&nn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hm)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hm(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&li(this._icon,h),this._shadow&&li(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var b=this.options.icon.options,E=b.iconSize?te(b.iconSize):te(0,0),R=b.iconAnchor?te(b.iconAnchor):te(0,0);h.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:E.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function B1(h,b){return new va(h,b)}var io=fs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return y(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xf=io.extend({options:{fill:!0,radius:10},initialize:function(h,b){y(this,b),this._latlng=ce(h),this._radius=this.options.radius},setLatLng:function(h){var b=this._latlng;return this._latlng=ce(h),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var b=h&&h.radius||this._radius;return io.prototype.setStyle.call(this,h),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,b=this._radiusY||h,E=this._clickTolerance(),R=[h+E,b+E];this._pxBounds=new G(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sx(h,b){return new xf(h,b)}var bf=xf.extend({initialize:function(h,b,E){if(typeof b=="number"&&(b=i({},E,{radius:b})),y(this,b),this._latlng=ce(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:io.prototype.setStyle,_project:function(){var h=this._latlng.lng,b=this._latlng.lat,E=this._map,R=E.options.crs;if(R.distance===ge.distance){var B=Math.PI/180,ne=this._mRadius/ge.R/B,pe=E.project([b+ne,h]),Ee=E.project([b-ne,h]),Me=pe.add(Ee).divideBy(2),ze=E.unproject(Me).lat,nt=Math.acos((Math.cos(ne*B)-Math.sin(b*B)*Math.sin(ze*B))/(Math.cos(b*B)*Math.cos(ze*B)))/B;(isNaN(nt)||nt===0)&&(nt=ne/Math.cos(Math.PI/180*b)),this._point=Me.subtract(E.getPixelOrigin()),this._radius=isNaN(nt)?0:Me.x-E.project([ze,h-nt]).x,this._radiusY=Me.y-pe.y}else{var yt=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(yt).x}this._updateBounds()}});function Mu(h,b,E){return new bf(h,b,E)}var Ni=io.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,b){y(this,b),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var b=1/0,E=null,R=Xo,B,ne,pe=0,Ee=this._parts.length;pe<Ee;pe++)for(var Me=this._parts[pe],ze=1,nt=Me.length;ze<nt;ze++){B=Me[ze-1],ne=Me[ze];var yt=R(h,B,ne,!0);yt<b&&(b=yt,E=R(h,B,ne))}return E&&(E.distance=Math.sqrt(b)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ex(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,b){return b=b||this._defaultShape(),h=ce(h),b.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new xe,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return Fi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var b=[],E=Fi(h),R=0,B=h.length;R<B;R++)E?(b[R]=ce(h[R]),this._bounds.extend(b[R])):b[R]=this._convertLatLngs(h[R]);return b},_project:function(){var h=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),b=new X(h,h);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(h,b,E){var R=h[0]instanceof Le,B=h.length,ne,pe;if(R){for(pe=[],ne=0;ne<B;ne++)pe[ne]=this._map.latLngToLayerPoint(h[ne]),E.extend(pe[ne]);b.push(pe)}else for(ne=0;ne<B;ne++)this._projectLatlngs(h[ne],b,E)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,E,R,B,ne,pe,Ee,Me;for(E=0,B=0,ne=this._rings.length;E<ne;E++)for(Me=this._rings[E],R=0,pe=Me.length;R<pe-1;R++)Ee=Qy(Me[R],Me[R+1],h,R,!0),Ee&&(b[B]=b[B]||[],b[B].push(Ee[0]),(Ee[1]!==Me[R+1]||R===pe-2)&&(b[B].push(Ee[1]),B++))}},_simplifyPoints:function(){for(var h=this._parts,b=this.options.smoothFactor,E=0,R=h.length;E<R;E++)h[E]=vf(h[E],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,b){var E,R,B,ne,pe,Ee,Me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(E=0,ne=this._parts.length;E<ne;E++)for(Ee=this._parts[E],R=0,pe=Ee.length,B=pe-1;R<pe;B=R++)if(!(!b&&R===0)&&Xy(h,Ee[B],Ee[R])<=Me)return!0;return!1}});function z1(h,b){return new Ni(h,b)}Ni._flat=Jy;var ya=Ni.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yy(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var b=Ni.prototype._convertLatLngs.call(this,h),E=b.length;return E>=2&&b[0]instanceof Le&&b[0].equals(b[E-1])&&b.pop(),b},_setLatLngs:function(h){Ni.prototype._setLatLngs.call(this,h),Fi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,b=this.options.weight,E=new X(b,b);if(h=new G(h.min.subtract(E),h.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,B=this._rings.length,ne;R<B;R++)ne=om(this._rings[R],h,!0),ne.length&&this._parts.push(ne)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var b=!1,E,R,B,ne,pe,Ee,Me,ze;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ne=0,Me=this._parts.length;ne<Me;ne++)for(E=this._parts[ne],pe=0,ze=E.length,Ee=ze-1;pe<ze;Ee=pe++)R=E[pe],B=E[Ee],R.y>h.y!=B.y>h.y&&h.x<(B.x-R.x)*(h.y-R.y)/(B.y-R.y)+R.x&&(b=!b);return b||Ni.prototype._containsPoint.call(this,h,!0)}});function q1(h,b){return new ya(h,b)}var Bs=ga.extend({initialize:function(h,b){y(this,b),this._layers={},h&&this.addData(h)},addData:function(h){var b=C(h)?h:h.features,E,R,B;if(b){for(E=0,R=b.length;E<R;E++)B=b[E],(B.geometries||B.geometry||B.features||B.coordinates)&&this.addData(B);return this}var ne=this.options;if(ne.filter&&!ne.filter(h))return this;var pe=sc(h,ne);return pe?(pe.feature=Nf(h),pe.defaultOptions=pe.options,this.resetStyle(pe),ne.onEachFeature&&ne.onEachFeature(h,pe),this.addLayer(pe)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(b){this._setLayerStyle(b,h)},this)},_setLayerStyle:function(h,b){h.setStyle&&(typeof b=="function"&&(b=b(h.feature)),h.setStyle(b))}});function sc(h,b){var E=h.type==="Feature"?h.geometry:h,R=E?E.coordinates:null,B=[],ne=b&&b.pointToLayer,pe=b&&b.coordsToLatLng||_f,Ee,Me,ze,nt;if(!R&&!E)return null;switch(E.type){case"Point":return Ee=pe(R),wf(ne,h,Ee,b);case"MultiPoint":for(ze=0,nt=R.length;ze<nt;ze++)Ee=pe(R[ze]),B.push(wf(ne,h,Ee,b));return new ga(B);case"LineString":case"MultiLineString":return Me=Iu(R,E.type==="LineString"?0:1,pe),new Ni(Me,b);case"Polygon":case"MultiPolygon":return Me=Iu(R,E.type==="Polygon"?1:2,pe),new ya(Me,b);case"GeometryCollection":for(ze=0,nt=E.geometries.length;ze<nt;ze++){var yt=sc({geometry:E.geometries[ze],type:"Feature",properties:h.properties},b);yt&&B.push(yt)}return new ga(B);case"FeatureCollection":for(ze=0,nt=E.features.length;ze<nt;ze++){var Lt=sc(E.features[ze],b);Lt&&B.push(Lt)}return new ga(B);default:throw new Error("Invalid GeoJSON object.")}}function wf(h,b,E,R){return h?h(b,E):new va(E,R&&R.markersInheritOptions&&R)}function _f(h){return new Le(h[1],h[0],h[2])}function Iu(h,b,E){for(var R=[],B=0,ne=h.length,pe;B<ne;B++)pe=b?Iu(h[B],b-1,E):(E||_f)(h[B]),R.push(pe);return R}function jf(h,b){return h=ce(h),h.alt!==void 0?[g(h.lng,b),g(h.lat,b),g(h.alt,b)]:[g(h.lng,b),g(h.lat,b)]}function Sf(h,b,E,R){for(var B=[],ne=0,pe=h.length;ne<pe;ne++)B.push(b?Sf(h[ne],Fi(h[ne])?0:b-1,E,R):jf(h[ne],R));return!b&&E&&B.length>0&&B.push(B[0].slice()),B}function ac(h,b){return h.feature?i({},h.feature,{geometry:b}):Nf(b)}function Nf(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var pm={toGeoJSON:function(h){return ac(this,{type:"Point",coordinates:jf(this.getLatLng(),h)})}};va.include(pm),bf.include(pm),xf.include(pm),Ni.include({toGeoJSON:function(h){var b=!Fi(this._latlngs),E=Sf(this._latlngs,b?1:0,!1,h);return ac(this,{type:(b?"Multi":"")+"LineString",coordinates:E})}}),ya.include({toGeoJSON:function(h){var b=!Fi(this._latlngs),E=b&&!Fi(this._latlngs[0]),R=Sf(this._latlngs,E?2:b?1:0,!0,h);return b||(R=[R]),ac(this,{type:(E?"Multi":"")+"Polygon",coordinates:R})}}),no.include({toMultiPoint:function(h){var b=[];return this.eachLayer(function(E){b.push(E.toGeoJSON(h).geometry.coordinates)}),ac(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(h){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(h);var E=b==="GeometryCollection",R=[];return this.eachLayer(function(B){if(B.toGeoJSON){var ne=B.toGeoJSON(h);if(E)R.push(ne.geometry);else{var pe=Nf(ne);pe.type==="FeatureCollection"?R.push.apply(R,pe.features):R.push(pe)}}}),E?ac(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function ax(h,b){return new Bs(h,b)}var hs=ax,so=fs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,b,E){this._url=h,this._bounds=Ne(b),y(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Yl(this._image),this},bringToBack:function(){return this._map&&ha(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=Ne(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",b=this._image=h?this._url:kt("img");if(Pt(b,"leaflet-image-layer"),this._zoomAnimated&&Pt(b,"leaflet-zoom-animated"),this.options.className&&Pt(b,this.options.className),b.onselectstart=p,b.onmousemove=p,b.onload=o(this.fire,this,"load"),b.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(h){var b=this._map.getZoomScale(h.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;ls(this._image,E,b)},_reset:function(){var h=this._image,b=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=b.getSize();nn(h,b.min),h.style.width=E.x+"px",h.style.height=E.y+"px"},_updateOpacity:function(){li(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),ox=function(h,b,E){return new so(h,b,E)},mm=so.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",b=this._image=h?this._url:kt("video");if(Pt(b,"leaflet-image-layer"),this._zoomAnimated&&Pt(b,"leaflet-zoom-animated"),this.options.className&&Pt(b,this.options.className),b.onselectstart=p,b.onmousemove=p,b.onloadeddata=o(this.fire,this,"load"),h){for(var E=b.getElementsByTagName("source"),R=[],B=0;B<E.length;B++)R.push(E[B].src);this._url=E.length>0?R:[b.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var ne=0;ne<this._url.length;ne++){var pe=kt("source");pe.src=this._url[ne],b.appendChild(pe)}}});function lx(h,b,E){return new mm(h,b,E)}var gm=so.extend({_initImage:function(){var h=this._image=this._url;Pt(h,"leaflet-image-layer"),this._zoomAnimated&&Pt(h,"leaflet-zoom-animated"),this.options.className&&Pt(h,this.options.className),h.onselectstart=p,h.onmousemove=p}});function vm(h,b,E){return new gm(h,b,E)}var zs=fs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,b){h&&(h instanceof Le||C(h))?(this._latlng=ce(h),y(this,b)):(y(this,h),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&li(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&li(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(li(this._container,0),this._removeTimeout=setTimeout(o(Dr,void 0,this._container),200)):Dr(this._container),this.options.interactive&&(kr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ce(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yl(this._container),this},bringToBack:function(){return this._map&&ha(this._container),this},_prepareOpen:function(h){var b=this._source;if(!b._map)return!1;if(b instanceof ga){b=null;var E=this._source._layers;for(var R in E)if(E[R]._map){b=E[R];break}if(!b)return!1;this._source=b}if(!h)if(b.getCenter)h=b.getCenter();else if(b.getLatLng)h=b.getLatLng();else if(b.getBounds)h=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")h.innerHTML=b;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),b=te(this.options.offset),E=this._getAnchor();this._zoomAnimated?nn(this._container,h.add(E)):b=b.add(h).add(E);var R=this._containerBottom=-b.y,B=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=R+"px",this._container.style.left=B+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(h,b,E,R){var B=b;return B instanceof h||(B=new h(R).setContent(b)),E&&B.setLatLng(E),B}}),fs.include({_initOverlay:function(h,b,E,R){var B=E;return B instanceof h?(y(B,R),B._source=this):(B=b&&!R?b:new h(R,this),B.setContent(E)),B}});var Cf=zs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,zs.prototype.openOn.call(this,h)},onAdd:function(h){zs.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof io||this._source.on("preclick",Fs))},onRemove:function(h){zs.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof io||this._source.off("preclick",Fs))},getEvents:function(){var h=zs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",b=this._container=kt("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=kt("div",h+"-content-wrapper",b);if(this._contentNode=kt("div",h+"-content",E),Au(b),hf(this._contentNode),Ct(b,"contextmenu",Fs),this._tipContainer=kt("div",h+"-tip-container",b),this._tip=kt("div",h+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=kt("a",h+"-close-button",b);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(R,"click",function(B){Xr(B),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,b=h.style;b.width="",b.whiteSpace="nowrap";var E=h.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),b.width=E+1+"px",b.whiteSpace="",b.height="";var R=h.offsetHeight,B=this.options.maxHeight,ne="leaflet-popup-scrolled";B&&R>B?(b.height=B+"px",Pt(h,ne)):kr(h,ne),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),E=this._getAnchor();nn(this._container,b.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,b=parseInt(Cu(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+b,R=this._containerWidth,B=new X(this._containerLeft,-E-this._containerBottom);B._add(pa(this._container));var ne=h.layerPointToContainerPoint(B),pe=te(this.options.autoPanPadding),Ee=te(this.options.autoPanPaddingTopLeft||pe),Me=te(this.options.autoPanPaddingBottomRight||pe),ze=h.getSize(),nt=0,yt=0;ne.x+R+Me.x>ze.x&&(nt=ne.x+R-ze.x+Me.x),ne.x-nt-Ee.x<0&&(nt=ne.x-Ee.x),ne.y+E+Me.y>ze.y&&(yt=ne.y+E-ze.y+Me.y),ne.y-yt-Ee.y<0&&(yt=ne.y-Ee.y),(nt||yt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([nt,yt]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),oc=function(h,b){return new Cf(h,b)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(h,b,E){return this._initOverlay(Cf,h,b,E).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),fs.include({bindPopup:function(h,b){return this._popup=this._initOverlay(Cf,this._popup,h,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof ga||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){us(h);var b=h.layer||h.target;if(this._popup._source===b&&!(b instanceof io)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=b,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var lc=zs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){zs.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){zs.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=zs.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",b=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var b,E,R=this._map,B=this._container,ne=R.latLngToContainerPoint(R.getCenter()),pe=R.layerPointToContainerPoint(h),Ee=this.options.direction,Me=B.offsetWidth,ze=B.offsetHeight,nt=te(this.options.offset),yt=this._getAnchor();Ee==="top"?(b=Me/2,E=ze):Ee==="bottom"?(b=Me/2,E=0):Ee==="center"?(b=Me/2,E=ze/2):Ee==="right"?(b=0,E=ze/2):Ee==="left"?(b=Me,E=ze/2):pe.x<ne.x?(Ee="right",b=0,E=ze/2):(Ee="left",b=Me+(nt.x+yt.x)*2,E=ze/2),h=h.subtract(te(b,E,!0)).add(nt).add(yt),kr(B,"leaflet-tooltip-right"),kr(B,"leaflet-tooltip-left"),kr(B,"leaflet-tooltip-top"),kr(B,"leaflet-tooltip-bottom"),Pt(B,"leaflet-tooltip-"+Ee),nn(B,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&li(this._container,h)},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(b)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lu=function(h,b){return new lc(h,b)};Kt.include({openTooltip:function(h,b,E){return this._initOverlay(lc,h,b,E).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),fs.include({bindTooltip:function(h,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lc,this._tooltip,h,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var b=h?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[b](E),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof ga||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var b=typeof h.getElement=="function"&&h.getElement();b&&(Ct(b,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ct(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var b=typeof h.getElement=="function"&&h.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var b=h.latlng,E,R;this._tooltip.options.sticky&&h.originalEvent&&(E=this._map.mouseEventToContainerPoint(h.originalEvent),R=this._map.containerPointToLayerPoint(E),b=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(b)}});var Ef=Qo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var b=h&&h.tagName==="DIV"?h:document.createElement("div"),E=this.options;if(E.html instanceof Element?(of(b),b.appendChild(E.html)):b.innerHTML=E.html!==!1?E.html:"",E.bgPos){var R=te(E.bgPos);b.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function cx(h){return new Ef(h)}Qo.Default=ic;var ao=fs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){y(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Dr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ha(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof X?h:new X(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var b=this.getPane().children,E=-h(-1/0,1/0),R=0,B=b.length,ne;R<B;R++)ne=b[R].style.zIndex,b[R]!==this._container&&ne&&(E=h(E,+ne));isFinite(E)&&(this.options.zIndex=E+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){li(this._container,this.options.opacity);var h=+new Date,b=!1,E=!1;for(var R in this._tiles){var B=this._tiles[R];if(!(!B.current||!B.loaded)){var ne=Math.min(1,(h-B.loaded)/200);li(B.el,ne),ne<1?b=!0:(B.active?E=!0:this._onOpaqueTile(B),B.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),b&&(V(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,b=this.options.maxZoom;if(h!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===h?(this._levels[E].el.style.zIndex=b-Math.abs(h-E),this._onUpdateLevel(E)):(Dr(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var R=this._levels[h],B=this._map;return R||(R=this._levels[h]={},R.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=b,R.origin=B.project(B.unproject(B.getPixelOrigin()),h).round(),R.zoom=h,this._setZoomTransform(R,B.getCenter(),B.getZoom()),p(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var h,b,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)b=this._tiles[h],b.retain=b.current;for(h in this._tiles)if(b=this._tiles[h],b.current&&!b.active){var R=b.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var b in this._tiles)this._tiles[b].coords.z===h&&this._removeTile(b)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Dr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,b,E,R){var B=Math.floor(h/2),ne=Math.floor(b/2),pe=E-1,Ee=new X(+B,+ne);Ee.z=+pe;var Me=this._tileCoordsToKey(Ee),ze=this._tiles[Me];return ze&&ze.active?(ze.retain=!0,!0):(ze&&ze.loaded&&(ze.retain=!0),pe>R?this._retainParent(B,ne,pe,R):!1)},_retainChildren:function(h,b,E,R){for(var B=2*h;B<2*h+2;B++)for(var ne=2*b;ne<2*b+2;ne++){var pe=new X(B,ne);pe.z=E+1;var Ee=this._tileCoordsToKey(pe),Me=this._tiles[Ee];if(Me&&Me.active){Me.retain=!0;continue}else Me&&Me.loaded&&(Me.retain=!0);E+1<R&&this._retainChildren(B,ne,E+1,R)}},_resetView:function(h){var b=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var b=this.options;return b.minNativeZoom!==void 0&&h<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<h?b.maxNativeZoom:h},_setView:function(h,b,E,R){var B=Math.round(b);this.options.maxZoom!==void 0&&B>this.options.maxZoom||this.options.minZoom!==void 0&&B<this.options.minZoom?B=void 0:B=this._clampZoom(B);var ne=this.options.updateWhenZooming&&B!==this._tileZoom;(!R||ne)&&(this._tileZoom=B,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),B!==void 0&&this._update(h),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(h,b)},_setZoomTransforms:function(h,b){for(var E in this._levels)this._setZoomTransform(this._levels[E],h,b)},_setZoomTransform:function(h,b,E){var R=this._map.getZoomScale(E,h.zoom),B=h.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(b,E)).round();ht.any3d?ls(h.el,B,R):nn(h.el,B)},_resetGrid:function(){var h=this._map,b=h.options.crs,E=this._tileSize=this.getTileSize(),R=this._tileZoom,B=this._map.getPixelWorldBounds(this._tileZoom);B&&(this._globalTileRange=this._pxBoundsToTileRange(B)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,b.wrapLng[0]],R).x/E.x),Math.ceil(h.project([0,b.wrapLng[1]],R).x/E.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([b.wrapLat[0],0],R).y/E.x),Math.ceil(h.project([b.wrapLat[1],0],R).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var b=this._map,E=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),R=b.getZoomScale(E,this._tileZoom),B=b.project(h,this._tileZoom).floor(),ne=b.getSize().divideBy(R*2);return new G(B.subtract(ne),B.add(ne))},_update:function(h){var b=this._map;if(b){var E=this._clampZoom(b.getZoom());if(h===void 0&&(h=b.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(h),B=this._pxBoundsToTileRange(R),ne=B.getCenter(),pe=[],Ee=this.options.keepBuffer,Me=new G(B.getBottomLeft().subtract([Ee,-Ee]),B.getTopRight().add([Ee,-Ee]));if(!(isFinite(B.min.x)&&isFinite(B.min.y)&&isFinite(B.max.x)&&isFinite(B.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ze in this._tiles){var nt=this._tiles[ze].coords;(nt.z!==this._tileZoom||!Me.contains(new X(nt.x,nt.y)))&&(this._tiles[ze].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(h,E);return}for(var yt=B.min.y;yt<=B.max.y;yt++)for(var Lt=B.min.x;Lt<=B.max.x;Lt++){var En=new X(Lt,yt);if(En.z=this._tileZoom,!!this._isValidTile(En)){var mn=this._tiles[this._tileCoordsToKey(En)];mn?mn.current=!0:pe.push(En)}}if(pe.sort(function(ui,hc){return ui.distanceTo(ne)-hc.distanceTo(ne)}),pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ci=document.createDocumentFragment();for(Lt=0;Lt<pe.length;Lt++)this._addTile(pe[Lt],Ci);this._level.el.appendChild(Ci)}}}},_isValidTile:function(h){var b=this._map.options.crs;if(!b.infinite){var E=this._globalTileRange;if(!b.wrapLng&&(h.x<E.min.x||h.x>E.max.x)||!b.wrapLat&&(h.y<E.min.y||h.y>E.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(h);return Ne(this.options.bounds).overlaps(R)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var b=this._map,E=this.getTileSize(),R=h.scaleBy(E),B=R.add(E),ne=b.unproject(R,h.z),pe=b.unproject(B,h.z);return[ne,pe]},_tileCoordsToBounds:function(h){var b=this._tileCoordsToNwSe(h),E=new xe(b[0],b[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var b=h.split(":"),E=new X(+b[0],+b[1]);return E.z=+b[2],E},_removeTile:function(h){var b=this._tiles[h];b&&(Dr(b.el),delete this._tiles[h],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Pt(h,"leaflet-tile");var b=this.getTileSize();h.style.width=b.x+"px",h.style.height=b.y+"px",h.onselectstart=p,h.onmousemove=p,ht.ielt9&&this.options.opacity<1&&li(h,this.options.opacity)},_addTile:function(h,b){var E=this._getTilePos(h),R=this._tileCoordsToKey(h),B=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(B),this.createTile.length<2&&Z(o(this._tileReady,this,h,null,B)),nn(B,E),this._tiles[R]={el:B,coords:h,current:!0},b.appendChild(B),this.fire("tileloadstart",{tile:B,coords:h})},_tileReady:function(h,b,E){b&&this.fire("tileerror",{error:b,tile:E,coords:h});var R=this._tileCoordsToKey(h);E=this._tiles[R],E&&(E.loaded=+new Date,this._map._fadeAnimated?(li(E.el,0),V(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),b||(Pt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var b=new X(this._wrapX?f(h.x,this._wrapX):h.x,this._wrapY?f(h.y,this._wrapY):h.y);return b.z=h.z,b},_pxBoundsToTileRange:function(h){var b=this.getTileSize();return new G(h.min.unscaleBy(b).floor(),h.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function cc(h){return new ao(h)}var oo=ao.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,b){this._url=h,b=y(this,b),b.detectRetina&&ht.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,b){return this._url===h&&b===void 0&&(b=!0),this._url=h,b||this.redraw(),this},createTile:function(h,b){var E=document.createElement("img");return Ct(E,"load",o(this._tileOnLoad,this,b,E)),Ct(E,"error",o(this._tileOnError,this,b,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(h),E},getTileUrl:function(h){var b={r:ht.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-h.y;this.options.tms&&(b.y=E),b["-y"]=E}return N(this._url,i(b,this.options))},_tileOnLoad:function(h,b){ht.ielt9?setTimeout(o(h,this,null,b),0):h(null,b)},_tileOnError:function(h,b,E){var R=this.options.errorTileUrl;R&&b.getAttribute("src")!==R&&(b.src=R),h(E,b)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,b=this.options.maxZoom,E=this.options.zoomReverse,R=this.options.zoomOffset;return E&&(h=b-h),h+R},_getSubdomain:function(h){var b=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var h,b;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(b=this._tiles[h].el,b.onload=p,b.onerror=p,!b.complete)){b.src=P;var E=this._tiles[h].coords;Dr(b),delete this._tiles[h],this.fire("tileabort",{tile:b,coords:E})}},_removeTile:function(h){var b=this._tiles[h];if(b)return b.el.setAttribute("src",P),ao.prototype._removeTile.call(this,h)},_tileReady:function(h,b,E){if(!(!this._map||E&&E.getAttribute("src")===P))return ao.prototype._tileReady.call(this,h,b,E)}});function ym(h,b){return new oo(h,b)}var Du=oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,b){this._url=h;var E=i({},this.defaultWmsParams);for(var R in b)R in this.options||(E[R]=b[R]);b=y(this,b);var B=b.detectRetina&&ht.retina?2:1,ne=this.getTileSize();E.width=ne.x*B,E.height=ne.y*B,this.wmsParams=E},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,oo.prototype.onAdd.call(this,h)},getTileUrl:function(h){var b=this._tileCoordsToNwSe(h),E=this._crs,R=ie(E.project(b[0]),E.project(b[1])),B=R.min,ne=R.max,pe=(this._wmsVersion>=1.3&&this._crs===rx?[B.y,B.x,ne.y,ne.x]:[B.x,B.y,ne.x,ne.y]).join(","),Ee=oo.prototype.getTileUrl.call(this,h);return Ee+_(this.wmsParams,Ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+pe},setParams:function(h,b){return i(this.wmsParams,h),b||this.redraw(),this}});function ux(h,b){return new Du(h,b)}oo.WMS=Du,ym.wms=ux;var qs=fs.extend({options:{padding:.1},initialize:function(h){y(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,b){var E=this._map.getZoomScale(b,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),B=this._map.project(this._center,b),ne=R.multiplyBy(-E).add(B).subtract(this._map._getNewPixelOrigin(h,b));ht.any3d?ls(this._container,ne,E):nn(this._container,ne)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,b=this._map.getSize(),E=this._map.containerPointToLayerPoint(b.multiplyBy(-h)).round();this._bounds=new G(E,E.add(b.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xm=qs.extend({options:{tolerance:0},getEvents:function(){var h=qs.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ct(h,"mousemove",this._onMouseMove,this),Ct(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,Dr(this._container),br(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var b in this._layers)h=this._layers[b],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qs.prototype._update.call(this);var h=this._bounds,b=this._container,E=h.getSize(),R=ht.retina?2:1;nn(b,h.min),b.width=R*E.x,b.height=R*E.y,b.style.width=E.x+"px",b.style.height=E.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){qs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var b=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var b=h._order,E=b.next,R=b.prev;E?E.prev=R:this._drawLast=R,R?R.next=E:this._drawFirst=E,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var b=h.options.dashArray.split(/[, ]+/),E=[],R,B;for(B=0;B<b.length;B++){if(R=Number(b[B]),isNaN(R))return;E.push(R)}h.options._dashArray=E}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var b=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(h._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(h._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var b=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,b=this._redrawBounds;if(this._ctx.save(),b){var E=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)h=R.layer,(!b||h._pxBounds&&h._pxBounds.intersects(b))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,b){if(this._drawing){var E,R,B,ne,pe=h._parts,Ee=pe.length,Me=this._ctx;if(Ee){for(Me.beginPath(),E=0;E<Ee;E++){for(R=0,B=pe[E].length;R<B;R++)ne=pe[E][R],Me[R?"lineTo":"moveTo"](ne.x,ne.y);b&&Me.closePath()}this._fillStroke(Me,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var b=h._point,E=this._ctx,R=Math.max(Math.round(h._radius),1),B=(Math.max(Math.round(h._radiusY),1)||R)/R;B!==1&&(E.save(),E.scale(1,B)),E.beginPath(),E.arc(b.x,b.y/B,R,0,Math.PI*2,!1),B!==1&&E.restore(),this._fillStroke(E,h)}},_fillStroke:function(h,b){var E=b.options;E.fill&&(h.globalAlpha=E.fillOpacity,h.fillStyle=E.fillColor||E.color,h.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(h.setLineDash&&h.setLineDash(b.options&&b.options._dashArray||[]),h.globalAlpha=E.opacity,h.lineWidth=E.weight,h.strokeStyle=E.color,h.lineCap=E.lineCap,h.lineJoin=E.lineJoin,h.stroke())},_onClick:function(h){for(var b=this._map.mouseEventToLayerPoint(h),E,R,B=this._drawFirst;B;B=B.next)E=B.layer,E.options.interactive&&E._containsPoint(b)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(E))&&(R=E);this._fireEvent(R?[R]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,b)}},_handleMouseOut:function(h){var b=this._hoveredLayer;b&&(kr(this._container,"leaflet-interactive"),this._fireEvent([b],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,b){if(!this._mouseHoverThrottled){for(var E,R,B=this._drawFirst;B;B=B.next)E=B.layer,E.options.interactive&&E._containsPoint(b)&&(R=E);R!==this._hoveredLayer&&(this._handleMouseOut(h),R&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([R],h,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,b,E){this._map._fireDOMEvent(b,E||b.type,h)},_bringToFront:function(h){var b=h._order;if(b){var E=b.next,R=b.prev;if(E)E.prev=R;else return;R?R.next=E:E&&(this._drawFirst=E),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(h)}},_bringToBack:function(h){var b=h._order;if(b){var E=b.next,R=b.prev;if(R)R.next=E;else return;E?E.prev=R:R&&(this._drawLast=R),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(h)}}});function bm(h){return ht.canvas?new xm(h):null}var uc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dx={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qs.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var b=h._container=uc("shape");Pt(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",h._path=uc("path"),b.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var b=h._container;this._container.appendChild(b),h.options.interactive&&h.addInteractiveTarget(b)},_removePath:function(h){var b=h._container;Dr(b),h.removeInteractiveTarget(b),delete this._layers[c(h)]},_updateStyle:function(h){var b=h._stroke,E=h._fill,R=h.options,B=h._container;B.stroked=!!R.stroke,B.filled=!!R.fill,R.stroke?(b||(b=h._stroke=uc("stroke")),B.appendChild(b),b.weight=R.weight+"px",b.color=R.color,b.opacity=R.opacity,R.dashArray?b.dashStyle=C(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=R.lineCap.replace("butt","flat"),b.joinstyle=R.lineJoin):b&&(B.removeChild(b),h._stroke=null),R.fill?(E||(E=h._fill=uc("fill")),B.appendChild(E),E.color=R.fillColor||R.color,E.opacity=R.fillOpacity):E&&(B.removeChild(E),h._fill=null)},_updateCircle:function(h){var b=h._point.round(),E=Math.round(h._radius),R=Math.round(h._radiusY||E);this._setPath(h,h._empty()?"M0 0":"AL "+b.x+","+b.y+" "+E+","+R+" 0,"+65535*360)},_setPath:function(h,b){h._path.v=b},_bringToFront:function(h){Yl(h._container)},_bringToBack:function(h){ha(h._container)}},ps=ht.vml?uc:Ve,Jo=qs.extend({_initContainer:function(){this._container=ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dr(this._container),br(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qs.prototype._update.call(this);var h=this._bounds,b=h.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,E.setAttribute("width",b.x),E.setAttribute("height",b.y)),nn(E,h.min),E.setAttribute("viewBox",[h.min.x,h.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(h){var b=h._path=ps("path");h.options.className&&Pt(b,h.options.className),h.options.interactive&&Pt(b,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Dr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var b=h._path,E=h.options;b&&(E.stroke?(b.setAttribute("stroke",E.color),b.setAttribute("stroke-opacity",E.opacity),b.setAttribute("stroke-width",E.weight),b.setAttribute("stroke-linecap",E.lineCap),b.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?b.setAttribute("stroke-dasharray",E.dashArray):b.removeAttribute("stroke-dasharray"),E.dashOffset?b.setAttribute("stroke-dashoffset",E.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),E.fill?(b.setAttribute("fill",E.fillColor||E.color),b.setAttribute("fill-opacity",E.fillOpacity),b.setAttribute("fill-rule",E.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(h,b){this._setPath(h,qe(h._parts,b))},_updateCircle:function(h){var b=h._point,E=Math.max(Math.round(h._radius),1),R=Math.max(Math.round(h._radiusY),1)||E,B="a"+E+","+R+" 0 1,0 ",ne=h._empty()?"M0 0":"M"+(b.x-E)+","+b.y+B+E*2+",0 "+B+-E*2+",0 ";this._setPath(h,ne)},_setPath:function(h,b){h._path.setAttribute("d",b)},_bringToFront:function(h){Yl(h._path)},_bringToBack:function(h){ha(h._path)}});ht.vml&&Jo.include(dx);function Pf(h){return ht.svg||ht.vml?new Jo(h):null}Kt.include({getRenderer:function(h){var b=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var b=this._paneRenderers[h];return b===void 0&&(b=this._createRenderer({pane:h}),this._paneRenderers[h]=b),b},_createRenderer:function(h){return this.options.preferCanvas&&bm(h)||Pf(h)}});var fx=ya.extend({initialize:function(h,b){ya.prototype.initialize.call(this,this._boundsToLatLngs(h),b)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=Ne(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function U1(h,b){return new fx(h,b)}Jo.create=ps,Jo.pointsToPath=qe,Bs.geometryToLayer=sc,Bs.coordsToLatLng=_f,Bs.coordsToLatLngs=Iu,Bs.latLngToCoords=jf,Bs.latLngsToCoords=Sf,Bs.getFeature=ac,Bs.asFeature=Nf,Kt.mergeOptions({boxZoom:!0});var dc=$i.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){br(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),uf(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ct(document,{contextmenu:us,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var b=new G(this._point,this._startPoint),E=b.getSize();nn(this._box,b.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Dr(this._box),kr(this._container,"leaflet-crosshair")),Jl(),df(),br(document,{contextmenu:us,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var b=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",dc),Kt.mergeOptions({doubleClickZoom:!0});var hx=$i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var b=this._map,E=b.getZoom(),R=b.options.zoomDelta,B=h.originalEvent.shiftKey?E-R:E+R;b.options.doubleClickZoom==="center"?b.setZoom(B):b.setZoomAround(h.containerPoint,B)}});Kt.addInitHook("addHandler","doubleClickZoom",hx),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wm=$i.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new ds(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kr(this._map._container,"leaflet-grab"),kr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=Ne(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var b=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(b),this._prunePositions(b)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,b){return h-(h-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;h.x<b.min.x&&(h.x=this._viscousLimit(h.x,b.min.x)),h.y<b.min.y&&(h.y=this._viscousLimit(h.y,b.min.y)),h.x>b.max.x&&(h.x=this._viscousLimit(h.x,b.max.x)),h.y>b.max.y&&(h.y=this._viscousLimit(h.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,b=Math.round(h/2),E=this._initialWorldOffset,R=this._draggable._newPos.x,B=(R-b+E)%h+b-E,ne=(R+b+E)%h-b-E,pe=Math.abs(B+E)<Math.abs(ne+E)?B:ne;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=pe},_onDragEnd:function(h){var b=this._map,E=b.options,R=!E.inertia||h.noInertia||this._times.length<2;if(b.fire("dragend",h),R)b.fire("moveend");else{this._prunePositions(+new Date);var B=this._lastPos.subtract(this._positions[0]),ne=(this._lastTime-this._times[0])/1e3,pe=E.easeLinearity,Ee=B.multiplyBy(pe/ne),Me=Ee.distanceTo([0,0]),ze=Math.min(E.inertiaMaxSpeed,Me),nt=Ee.multiplyBy(ze/Me),yt=ze/(E.inertiaDeceleration*pe),Lt=nt.multiplyBy(-yt/2).round();!Lt.x&&!Lt.y?b.fire("moveend"):(Lt=b._limitOffset(Lt,b.options.maxBounds),Z(function(){b.panBy(Lt,{duration:yt,easeLinearity:pe,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",wm),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _m=$i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ct(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),br(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,b=document.documentElement,E=h.scrollTop||b.scrollTop,R=h.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(R,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var b=this._panKeys={},E=this.keyCodes,R,B;for(R=0,B=E.left.length;R<B;R++)b[E.left[R]]=[-1*h,0];for(R=0,B=E.right.length;R<B;R++)b[E.right[R]]=[h,0];for(R=0,B=E.down.length;R<B;R++)b[E.down[R]]=[0,h];for(R=0,B=E.up.length;R<B;R++)b[E.up[R]]=[0,-1*h]},_setZoomDelta:function(h){var b=this._zoomKeys={},E=this.keyCodes,R,B;for(R=0,B=E.zoomIn.length;R<B;R++)b[E.zoomIn[R]]=h;for(R=0,B=E.zoomOut.length;R<B;R++)b[E.zoomOut[R]]=-h},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){br(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var b=h.keyCode,E=this._map,R;if(b in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(R=this._panKeys[b],h.shiftKey&&(R=te(R).multiplyBy(3)),E.options.maxBounds&&(R=E._limitOffset(te(R),E.options.maxBounds)),E.options.worldCopyJump){var B=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(R)));E.panTo(B)}else E.panBy(R)}else if(b in this._zoomKeys)E.setZoom(E.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;us(h)}}});Kt.addInitHook("addHandler","keyboard",_m),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wr=$i.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){br(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var b=Gy(h),E=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var R=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),R),us(h)},_performZoom:function(){var h=this._map,b=h.getZoom(),E=this._map.options.zoomSnap||0;h._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),B=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,ne=E?Math.ceil(B/E)*E:B,pe=h._limitZoom(b+(this._delta>0?ne:-ne))-b;this._delta=0,this._startTime=null,pe&&(h.options.scrollWheelZoom==="center"?h.setZoom(b+pe):h.setZoomAround(this._lastMousePos,b+pe))}});Kt.addInitHook("addHandler","scrollWheelZoom",wr);var jm=600;Kt.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var $u=$i.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){br(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var b=h.touches[0];this._startPos=this._newPos=new X(b.clientX,b.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",Xr),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),jm),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){br(document,"touchend",Xr),br(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),br(document,"touchend touchcancel contextmenu",this._cancel,this),br(document,"touchmove",this._onMove,this)},_onMove:function(h){var b=h.touches[0];this._newPos=new X(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,b){var E=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});E._simulated=!0,b.target.dispatchEvent(E)}});Kt.addInitHook("addHandler","tapHold",$u),Kt.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var fc=$i.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){kr(this._map._container,"leaflet-touch-zoom"),br(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var b=this._map;if(!(!h.touches||h.touches.length!==2||b._animatingZoom||this._zooming)){var E=b.mouseEventToContainerPoint(h.touches[0]),R=b.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(E.add(R)._divideBy(2))),this._startDist=E.distanceTo(R),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),Xr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var b=this._map,E=b.mouseEventToContainerPoint(h.touches[0]),R=b.mouseEventToContainerPoint(h.touches[1]),B=E.distanceTo(R)/this._startDist;if(this._zoom=b.getScaleZoom(B,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&B<1||this._zoom>b.getMaxZoom()&&B>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,B===1)return}else{var ne=E._add(R)._divideBy(2)._subtract(this._centerPoint);if(B===1&&ne.x===0&&ne.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(ne),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var pe=o(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(pe,this,!0),Xr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),br(document,"touchmove",this._onTouchMove,this),br(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",fc),Kt.BoxZoom=dc,Kt.DoubleClickZoom=hx,Kt.Drag=wm,Kt.Keyboard=_m,Kt.ScrollWheelZoom=wr,Kt.TapHold=$u,Kt.TouchZoom=fc,r.Bounds=G,r.Browser=ht,r.CRS=oe,r.Canvas=xm,r.Circle=bf,r.CircleMarker=xf,r.Class=U,r.Control=Si,r.DivIcon=Ef,r.DivOverlay=zs,r.DomEvent=pf,r.DomUtil=Tu,r.Draggable=ds,r.Evented=se,r.FeatureGroup=ga,r.GeoJSON=Bs,r.GridLayer=ao,r.Handler=$i,r.Icon=Qo,r.ImageOverlay=so,r.LatLng=Le,r.LatLngBounds=xe,r.Layer=fs,r.LayerGroup=no,r.LineUtil=tx,r.Map=Kt,r.Marker=va,r.Mixin=am,r.Path=io,r.Point=X,r.PolyUtil=O1,r.Polygon=ya,r.Polyline=Ni,r.Popup=Cf,r.PosAnimation=mf,r.Projection=D1,r.Rectangle=fx,r.Renderer=qs,r.SVG=Jo,r.SVGOverlay=gm,r.TileLayer=oo,r.Tooltip=lc,r.Transformation=J,r.Util=q,r.VideoOverlay=mm,r.bind=o,r.bounds=ie,r.canvas=bm,r.circle=Mu,r.circleMarker=sx,r.control=ro,r.divIcon=cx,r.extend=i,r.featureGroup=nx,r.geoJSON=ax,r.geoJson=hs,r.gridLayer=cc,r.icon=ix,r.imageOverlay=ox,r.latLng=ce,r.latLngBounds=Ne,r.layerGroup=Ru,r.map=to,r.marker=B1,r.point=te,r.polygon=q1,r.polyline=z1,r.popup=oc,r.rectangle=U1,r.setOptions=y,r.stamp=c,r.svg=Pf,r.svgOverlay=vm,r.tileLayer=ym,r.tooltip=Lu,r.transformation=H,r.version=n,r.videoOverlay=lx;var px=window.L;r.noConflict=function(){return window.L=px,this},window.L=r})}(bg,bg.exports)),bg.exports}var tCe=eCe();const Bc=fr(tCe);delete Bc.Icon.Default.prototype._getIconUrl;Bc.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const rCe=({center:e=[48.8566,2.3522],zoom:t=13,onLocationSelect:r,selectedLocation:n=null,height:i="400px",className:s=""})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState(!1);x.useEffect(()=>{if(!o.current||l.current)return;const g=Bc.map(o.current).setView(e,t);return l.current=g,Bc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(g),g.on("click",v=>{const{lat:w,lng:y}=v.latlng;c.current&&g.removeLayer(c.current),c.current=Bc.marker([w,y],{icon:Bc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(g),r&&r({latitude:w,longitude:y,timestamp:new Date().toISOString(),source:"map"})}),g.whenReady(()=>{f(!0)}),()=>{l.current&&(l.current.remove(),l.current=null)}},[e,t,r]),x.useEffect(()=>{!l.current||!n||(c.current&&l.current.removeLayer(c.current),c.current=Bc.marker([n.latitude,n.longitude],{icon:Bc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(l.current),l.current.setView([n.latitude,n.longitude],15))},[n]);const p=(g,v,w=15)=>{l.current&&l.current.setView([g,v],w)};return x.useEffect(()=>{window.centerMapOnLocation,window.centerMapOnLocation=p},[]),a.jsxs("div",{className:`relative ${s}`,children:[a.jsx("div",{ref:o,style:{height:i},className:"w-full rounded-lg overflow-hidden border"}),!u&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement de la carte..."})]})}),a.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-muted-foreground shadow-sm",children:"Cliquez sur la carte pour sélectionner un point"})]})};class nCe{constructor(){this.baseUrl="https://nominatim.openstreetmap.org",this.cache=new Map,this.cacheTimeout=5*60*1e3}async searchLocation(t,r={}){const{limit:n=5,countrycodes:i="",bounded:s=0,viewbox:o="",addressdetails:l=1}=r,c=`${t}_${n}_${i}`,u=this.getFromCache(c);if(u)return u;try{const f=new URLSearchParams({q:t,format:"json",limit:n.toString(),addressdetails:l.toString(),bounded:s.toString()});i&&f.append("countrycodes",i),o&&f.append("viewbox",o);const p=await fetch(`${this.baseUrl}/search?${f}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!p.ok)throw new Error(`Erreur HTTP: ${p.status}`);const v=(await p.json()).map(w=>({id:w.place_id,name:w.display_name,latitude:parseFloat(w.lat),longitude:parseFloat(w.lon),type:w.type,importance:w.importance,address:w.address,boundingbox:w.boundingbox}));return this.setCache(c,v),v}catch(f){throw console.error("Erreur géocodage:",f),new Error("Erreur lors de la recherche d'adresse. Veuillez réessayer.")}}async reverseGeocode(t,r,n={}){const{zoom:i=18,addressdetails:s=1,extratags:o=1}=n,l=`reverse_${t}_${r}_${i}`,c=this.getFromCache(l);if(c)return c;try{const u=new URLSearchParams({lat:t.toString(),lon:r.toString(),format:"json",zoom:i.toString(),addressdetails:s.toString(),extratags:o.toString()}),f=await fetch(`${this.baseUrl}/reverse?${u}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!f.ok)throw new Error(`Erreur HTTP: ${f.status}`);const p=await f.json(),g={id:p.place_id,name:p.display_name,latitude:parseFloat(p.lat),longitude:parseFloat(p.lon),type:p.type,address:p.address,boundingbox:p.boundingbox};return this.setCache(l,g),g}catch(u){throw console.error("Erreur géocodage inverse:",u),new Error("Erreur lors de la récupération de l'adresse. Veuillez réessayer.")}}async searchPopularPlaces(t,r={}){const{limit:n=10,countrycodes:i="fr,be,ch,ca"}=r;try{return(await this.searchLocation(t,{limit:n,countrycodes:i})).sort((o,l)=>l.importance-o.importance)}catch(s){return console.error("Erreur recherche lieux populaires:",s),[]}}validateCoordinates(t,r){const n=parseFloat(t),i=parseFloat(r);return!(isNaN(n)||isNaN(i)||n<-90||n>90||i<-180||i>180)}formatAddress(t){if(!t)return"";const r=[];return t.house_number&&r.push(t.house_number),t.road&&r.push(t.road),t.postcode&&r.push(t.postcode),(t.city||t.town||t.village)&&r.push(t.city||t.town||t.village),t.country&&r.push(t.country),r.join(", ")}getFromCache(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>this.cacheTimeout?(this.cache.delete(t),null):r.data:null}setCache(t,r){this.cache.set(t,{data:r,timestamp:Date.now()})}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const N0=new nCe,iCe=({onLocationSelect:e,onClose:t,isOpen:r=!1,defaultLocation:n=null,showMap:i=!0})=>{x.useRef(null);const s=x.useRef(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[f,p]=x.useState(null),[g,v]=x.useState(n),[w,y]=x.useState(""),[_,S]=x.useState([]),[N,C]=x.useState(!1),[A,P]=x.useState(null),{toast:k}=Sn(),O=x.useCallback(async()=>{if(!navigator.geolocation){p("La géolocalisation n'est pas supportée par votre navigateur");return}l(!0),p(null);const q={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4};try{const U=await new Promise((X,Q)=>{navigator.geolocation.getCurrentPosition(X,Q,q)}),{latitude:re,longitude:ae}=U.coords,se={latitude:re,longitude:ae,accuracy:U.coords.accuracy,timestamp:new Date().toISOString(),source:"gps"};P(se),v(se),u(!0),k({title:"Position obtenue !",description:`Précision : ${Math.round(U.coords.accuracy)} mètres`,duration:3e3})}catch(U){console.error("Erreur géolocalisation:",U),U.code===1?p("Permission de géolocalisation refusée. Veuillez autoriser l'accès à votre position dans les paramètres de votre navigateur."):U.code===2?p("Impossible de déterminer votre position. Vérifiez que votre GPS est activé."):U.code===3?p("Délai d'attente dépassé. Vérifiez votre connexion internet."):p("Erreur lors de la géolocalisation. Veuillez réessayer."),u(!1)}finally{l(!1)}},[k]),I=x.useCallback(async q=>{if(!q.trim()){S([]);return}C(!0),p(null);try{const U=await N0.searchLocation(q,{limit:8,countrycodes:"fr,be,ch,ca",addressdetails:1});S(U)}catch(U){console.error("Erreur recherche:",U),p(U.message||"Erreur lors de la recherche. Veuillez réessayer."),S([])}finally{C(!1)}},[]),z=x.useCallback(q=>{const U={latitude:q.latitude,longitude:q.longitude,name:q.name,timestamp:new Date().toISOString(),source:"search"};v(U),y(q.name),S([]),k({title:"Localisation sélectionnée !",description:q.name,duration:3e3})},[k]),Y=x.useCallback(async(q,U)=>{try{const re=await N0.reverseGeocode(q,U),ae={latitude:q,longitude:U,name:re.name,address:N0.formatAddress(re.address),timestamp:new Date().toISOString(),source:"map"};v(ae),k({title:"Position sélectionnée !",description:re.name||`Lat: ${q.toFixed(6)}, Lng: ${U.toFixed(6)}`,duration:3e3})}catch{const ae={latitude:q,longitude:U,timestamp:new Date().toISOString(),source:"map"};v(ae),k({title:"Position sélectionnée !",description:`Lat: ${q.toFixed(6)}, Lng: ${U.toFixed(6)}`,duration:3e3})}},[k]),Z=x.useCallback(()=>{g&&e&&(e(g),t())},[g,e,t]),V=x.useCallback(()=>{v(null),y(""),S([]),p(null),t()},[t]);return x.useEffect(()=>{const q=setTimeout(()=>{w.trim()&&I(w)},500);return()=>clearTimeout(q)},[w,I]),x.useEffect(()=>{r&&!n&&!A&&O()},[r,n,A,O]),c===!1?a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Gn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la localisation refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:f||"Pour utiliser la géolocalisation, vous devez autoriser l'accès à votre position dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:V,children:"Fermer"}),a.jsx(ue,{onClick:O,children:"Réessayer"})]})]})})}):a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Co,{className:"h-5 w-5 mr-2"}),"Sélectionner une localisation"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:V,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{ref:s,placeholder:"Rechercher une adresse, ville, lieu...",value:w,onChange:q=>y(q.target.value),className:"pl-10 pr-4"}),N&&a.jsx(Tr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),_.length>0&&a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.map(q=>a.jsxs(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>z(q),children:[a.jsx(Co,{className:"h-4 w-4 text-primary"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:q.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[q.type," • ",N0.formatAddress(q.address)]})]})]},q.id))}),i&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Carte interactive"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:O,disabled:o,className:"flex items-center",children:[a.jsx(Pue,{className:"h-4 w-4 mr-2"}),"Ma position"]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>{g&&window.centerMapOnLocation&&window.centerMapOnLocation(g.latitude,g.longitude)},disabled:!g,className:"flex items-center",children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Centrer"]})]})]}),a.jsx(rCe,{center:A?[A.latitude,A.longitude]:[48.8566,2.3522],zoom:13,onLocationSelect:Y,selectedLocation:g,height:"400px",className:"w-full"})]}),g&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Rs,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-primary mb-2",children:"Localisation sélectionnée"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Latitude :"})," ",g.latitude.toFixed(6)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Longitude :"})," ",g.longitude.toFixed(6)]}),g.name&&a.jsxs("p",{children:[a.jsx("strong",{children:"Nom :"})," ",g.name]}),g.address&&a.jsxs("p",{children:[a.jsx("strong",{children:"Adresse :"})," ",g.address]}),g.accuracy&&a.jsxs("p",{children:[a.jsx("strong",{children:"Précision :"})," ",Math.round(g.accuracy)," mètres"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Source :"})," ",g.source]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Heure :"})," ",new Date(g.timestamp).toLocaleTimeString()]})]})]})]})}),f&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Gn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:f})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:g?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Rs,{className:"h-4 w-4 mr-2 text-green-500"}),"Localisation prête à être envoyée"]}):"Aucune localisation sélectionnée"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:V,children:"Annuler"}),a.jsxs(ue,{onClick:Z,disabled:!g,className:"bg-primary hover:bg-primary/90",children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),"Utiliser cette localisation"]})]})]})]})})})},sCe=({onAppointmentCreate:e,onClose:t,isOpen:r=!1,existingAppointments:n=[],availableSlots:i=[],timezone:s="Europe/Paris"})=>{const[o,l]=x.useState(""),[c,u]=x.useState(""),[f,p]=x.useState(60),[g,v]=x.useState(""),[w,y]=x.useState(""),[_,S]=x.useState(""),[N,C]=x.useState(1),[A,P]=x.useState(!1),[k,O]=x.useState(null),{toast:I}=Sn(),z=x.useCallback(()=>{const q=[],U=new Date;for(let re=0;re<30;re++){const ae=new Date(U);ae.setDate(U.getDate()+re);const se=ae.getDay();se!==0&&se!==6&&q.push({date:ae.toISOString().split("T")[0],label:ae.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),isToday:re===0})}return q},[]),Y=x.useCallback(async()=>{if(!o||!c||!g.trim()){O("Veuillez remplir tous les champs obligatoires");return}P(!0),O(null);try{const q={id:Date.now().toString(),date:o,time:c,duration:f,title:g.trim(),description:w.trim(),location:_.trim(),timezone:s,createdAt:new Date().toISOString(),status:"confirmed"};await new Promise(U=>setTimeout(U,1e3)),e&&e(q),I({title:"Rendez-vous créé !",description:`Le rendez-vous "${g}" a été planifié avec succès.`,duration:5e3}),t()}catch{O("Erreur lors de la création du rendez-vous. Veuillez réessayer.")}finally{P(!1)}},[o,c,f,g,w,_,s,e,t,I]),Z=x.useCallback(()=>{l(""),u(""),p(60),v(""),y(""),S(""),O(null),C(1),t()},[t]),V=z();return a.jsx(si,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ql,{className:"h-5 w-5 mr-2"}),"Planifier un rendez-vous"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:Z,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ms,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Sélectionnez une date et une heure"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:V.map(q=>a.jsx(ue,{variant:o===q.date?"default":"outline",size:"sm",onClick:()=>l(q.date),className:`h-12 ${q.isToday?"ring-2 ring-primary":""}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:q.label.split(" ")[0]}),a.jsx("div",{className:"font-medium",children:q.label.split(" ")[1]})]})},q.date))})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Heure"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(q=>a.jsx(ue,{variant:c===q?"default":"outline",size:"sm",onClick:()=>u(q),className:"h-10",children:q},q))})]}),o&&c&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Détails du rendez-vous"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),a.jsx(tt,{placeholder:"Titre du rendez-vous",value:g,onChange:q=>v(q.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx(Md,{placeholder:"Description du rendez-vous...",value:w,onChange:q=>y(q.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lieu"}),a.jsx(tt,{placeholder:"Adresse ou lieu",value:_,onChange:q=>S(q.target.value)})]})]}),k&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Gn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:k})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Rendez-vous"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:Z,children:"Annuler"}),a.jsx(ue,{onClick:Y,disabled:A||!o||!c||!g.trim(),className:"bg-primary hover:bg-primary/90",children:A?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"h-4 w-4 mr-2 animate-spin"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Créer le rendez-vous"]})})]})]})]})})})},Do=Object.create(null);Do.open="0";Do.close="1";Do.ping="2";Do.pong="3";Do.message="4";Do.upgrade="5";Do.noop="6";const ab=Object.create(null);Object.keys(Do).forEach(e=>{ab[Do[e]]=e});const hA={type:"error",data:"parser error"},BX=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zX=typeof ArrayBuffer=="function",qX=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,uM=({type:e,data:t},r,n)=>BX&&t instanceof Blob?r?n(t):n3(t,n):zX&&(t instanceof ArrayBuffer||qX(t))?r?n(t):n3(new Blob([t]),n):n(Do[e]+(t||"")),n3=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function i3(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let tN;function aCe(e,t){if(BX&&e.data instanceof Blob)return e.data.arrayBuffer().then(i3).then(t);if(zX&&(e.data instanceof ArrayBuffer||qX(e.data)))return t(i3(e.data));uM(e,!1,r=>{tN||(tN=new TextEncoder),t(tN.encode(r))})}const s3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<s3.length;e++)wg[s3.charCodeAt(e)]=e;const oCe=e=>{let t=e.length*.75,r=e.length,n,i=0,s,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(n=0;n<r;n+=4)s=wg[e.charCodeAt(n)],o=wg[e.charCodeAt(n+1)],l=wg[e.charCodeAt(n+2)],c=wg[e.charCodeAt(n+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|l>>2,f[i++]=(l&3)<<6|c&63;return u},lCe=typeof ArrayBuffer=="function",dM=(e,t)=>{if(typeof e!="string")return{type:"message",data:UX(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:cCe(e.substring(1),t)}:ab[r]?e.length>1?{type:ab[r],data:e.substring(1)}:{type:ab[r]}:hA},cCe=(e,t)=>{if(lCe){const r=oCe(e);return UX(r,t)}else return{base64:!0,data:e}},UX=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},VX="",uCe=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((s,o)=>{uM(s,!1,l=>{n[o]=l,++i===r&&t(n.join(VX))})})},dCe=(e,t)=>{const r=e.split(VX),n=[];for(let i=0;i<r.length;i++){const s=dM(r[i],t);if(n.push(s),s.type==="error")break}return n};function fCe(){return new TransformStream({transform(e,t){aCe(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let rN;function C0(e){return e.reduce((t,r)=>t+r.length,0)}function E0(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function hCe(e,t){rN||(rN=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(C0(r)<1)break;const c=E0(r,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(C0(r)<2)break;const c=E0(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(C0(r)<8)break;const c=E0(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(hA);break}i=f*Math.pow(2,32)+u.getUint32(4),n=3}else{if(C0(r)<i)break;const c=E0(r,i);l.enqueue(dM(s?c:rN.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(hA);break}}}})}const WX=4;function wn(e){if(e)return pCe(e)}function pCe(e){for(var t in wn.prototype)e[t]=wn.prototype[t];return e}wn.prototype.on=wn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};wn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};wn.prototype.off=wn.prototype.removeListener=wn.prototype.removeAllListeners=wn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};wn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};wn.prototype.emitReserved=wn.prototype.emit;wn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};wn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const G_=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),na=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mCe="arraybuffer";function HX(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const gCe=na.setTimeout,vCe=na.clearTimeout;function Z_(e,t){t.useNativeTimers?(e.setTimeoutFn=gCe.bind(na),e.clearTimeoutFn=vCe.bind(na)):(e.setTimeoutFn=na.setTimeout.bind(na),e.clearTimeoutFn=na.clearTimeout.bind(na))}const yCe=1.33;function xCe(e){return typeof e=="string"?bCe(e):Math.ceil((e.byteLength||e.size)*yCe)}function bCe(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function KX(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function wCe(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function _Ce(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class jCe extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class fM extends wn{constructor(t){super(),this.writable=!1,Z_(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new jCe(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=dM(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=wCe(t);return r.length?"?"+r:""}}class SCe extends fM{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};dCe(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,uCe(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=KX()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let GX=!1;try{GX=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const NCe=GX;function CCe(){}class ECe extends SCe{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class To extends wn{constructor(t,r,n){super(),this.createRequest=t,Z_(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=HX(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=To.requestsCount++,To.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=CCe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete To.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}To.requestsCount=0;To.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",a3);else if(typeof addEventListener=="function"){const e="onpagehide"in na?"pagehide":"unload";addEventListener(e,a3,!1)}}function a3(){for(let e in To.requests)To.requests.hasOwnProperty(e)&&To.requests[e].abort()}const PCe=function(){const e=ZX({xdomain:!1});return e&&e.responseType!==null}();class TCe extends ECe{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=PCe&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new To(ZX,this.uri(),t)}}function ZX(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||NCe))return new XMLHttpRequest}catch{}if(!t)try{return new na[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const YX=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ACe extends fM{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=YX?{}:HX(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;uM(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&G_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=KX()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const nN=na.WebSocket||na.MozWebSocket;class kCe extends ACe{createSocket(t,r,n){return YX?new nN(t,r,n):r?new nN(t,r):new nN(t)}doWrite(t,r){this.ws.send(r)}}class OCe extends fM{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=hCe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=fCe();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&G_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const RCe={websocket:kCe,webtransport:OCe,polling:TCe},MCe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ICe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function pA(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=MCe.exec(e||""),s={},o=14;for(;o--;)s[ICe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=LCe(s,s.path),s.queryKey=DCe(s,s.query),s}function LCe(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function DCe(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}const mA=typeof addEventListener=="function"&&typeof removeEventListener=="function",ob=[];mA&&addEventListener("offline",()=>{ob.forEach(e=>e())},!1);class tu extends wn{constructor(t,r){if(super(),this.binaryType=mCe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=pA(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=pA(r.host).host);Z_(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_Ce(this.opts.query)),mA&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ob.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=WX,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&tu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",tu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=xCe(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,G_(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:t,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(tu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),mA&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=ob.indexOf(this._offlineEventListener);n!==-1&&ob.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}tu.protocol=WX;class $Ce extends tu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;tu.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;tu.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function s(){n||(n=!0,f(),r.close(),r=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=r.name,s(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function u(p){r&&p.name!==r.name&&s()}const f=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let FCe=class extends $Ce{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>RCe[i]).filter(i=>!!i)),super(t,n)}};function BCe(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=pA(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const zCe=typeof ArrayBuffer=="function",qCe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,XX=Object.prototype.toString,UCe=typeof Blob=="function"||typeof Blob<"u"&&XX.call(Blob)==="[object BlobConstructor]",VCe=typeof File=="function"||typeof File<"u"&&XX.call(File)==="[object FileConstructor]";function hM(e){return zCe&&(e instanceof ArrayBuffer||qCe(e))||UCe&&e instanceof Blob||VCe&&e instanceof File}function lb(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(lb(e[r]))return!0;return!1}if(hM(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return lb(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&lb(e[r]))return!0;return!1}function WCe(e){const t=[],r=e.data,n=e;return n.data=gA(r,t),n.attachments=t.length,{packet:n,buffers:t}}function gA(e,t){if(!e)return e;if(hM(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=gA(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=gA(e[n],t));return r}return e}function HCe(e,t){return e.data=vA(e.data,t),delete e.attachments,e}function vA(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=vA(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=vA(e[r],t));return e}const KCe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],GCe=5;var Qt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Qt||(Qt={}));class ZCe{constructor(t){this.replacer=t}encode(t){return(t.type===Qt.EVENT||t.type===Qt.ACK)&&lb(t)?this.encodeAsBinary({type:t.type===Qt.EVENT?Qt.BINARY_EVENT:Qt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Qt.BINARY_EVENT||t.type===Qt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=WCe(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function o3(e){return Object.prototype.toString.call(e)==="[object Object]"}class pM extends wn{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Qt.BINARY_EVENT;n||r.type===Qt.BINARY_ACK?(r.type=n?Qt.EVENT:Qt.ACK,this.reconstructor=new YCe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(hM(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Qt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Qt.BINARY_EVENT||n.type===Qt.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(s,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(pM.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Qt.CONNECT:return o3(r);case Qt.DISCONNECT:return r===void 0;case Qt.CONNECT_ERROR:return typeof r=="string"||o3(r);case Qt.EVENT:case Qt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&KCe.indexOf(r[0])===-1);case Qt.ACK:case Qt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class YCe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=HCe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const XCe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pM,Encoder:ZCe,get PacketType(){return Qt},protocol:GCe},Symbol.toStringTag,{value:"Module"}));function Aa(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const QCe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class QX extends wn{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Aa(t,"open",this.onopen.bind(this)),Aa(t,"packet",this.onpacket.bind(this)),Aa(t,"error",this.onerror.bind(this)),Aa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,s;if(QCe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Qt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,p=r.pop();this._registerAckCallback(f,p),o.id=f}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const s=(o,l)=>o?i(o):n(l);s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Qt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Qt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qt.EVENT:case Qt.BINARY_EVENT:this.onevent(t);break;case Qt.ACK:case Qt.BINARY_ACK:this.onack(t);break;case Qt.DISCONNECT:this.ondisconnect();break;case Qt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Qt.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Fp(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Fp.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Fp.prototype.reset=function(){this.attempts=0};Fp.prototype.setMin=function(e){this.ms=e};Fp.prototype.setMax=function(e){this.max=e};Fp.prototype.setJitter=function(e){this.jitter=e};class yA extends wn{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Z_(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Fp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||XCe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new FCe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Aa(r,"open",function(){n.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Aa(r,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Aa(t,"ping",this.onping.bind(this)),Aa(t,"data",this.ondata.bind(this)),Aa(t,"error",this.onerror.bind(this)),Aa(t,"close",this.onclose.bind(this)),Aa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){G_(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new QX(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Jm={};function cb(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=BCe(e,t.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=Jm[i]&&s in Jm[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new yA(n,t):(Jm[i]||(Jm[i]=new yA(n,t)),c=Jm[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(cb,{Manager:yA,Socket:QX,io:cb,connect:cb});var P0={exports:{}},iN,l3;function JCe(){if(l3)return iN;l3=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;iN=function(f,p){p=p||{};var g=typeof f;if(g==="string"&&f.length>0)return o(f);if(g==="number"&&isFinite(f))return p.long?c(f):l(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var g=parseFloat(p[1]),v=(p[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(f){var p=Math.abs(f);return p>=n?Math.round(f/n)+"d":p>=r?Math.round(f/r)+"h":p>=t?Math.round(f/t)+"m":p>=e?Math.round(f/e)+"s":f+"ms"}function c(f){var p=Math.abs(f);return p>=n?u(f,p,n,"day"):p>=r?u(f,p,r,"hour"):p>=t?u(f,p,t,"minute"):p>=e?u(f,p,e,"second"):f+" ms"}function u(f,p,g,v){var w=p>=g*1.5;return Math.round(f/g)+" "+v+(w?"s":"")}return iN}var sN,c3;function eEe(){if(c3)return sN;c3=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=l,n.enable=s,n.enabled=c,n.humanize=JCe(),n.destroy=f,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function r(p){let g=0;for(let v=0;v<p.length;v++)g=(g<<5)-g+p.charCodeAt(v),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=r;function n(p){let g,v=null,w,y;function _(...S){if(!_.enabled)return;const N=_,C=Number(new Date),A=C-(g||C);N.diff=A,N.prev=g,N.curr=C,g=C,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let P=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(O,I)=>{if(O==="%%")return"%";P++;const z=n.formatters[I];if(typeof z=="function"){const Y=S[P];O=z.call(N,Y),S.splice(P,1),P--}return O}),n.formatArgs.call(N,S),(N.log||n.log).apply(N,S)}return _.namespace=p,_.useColors=n.useColors(),_.color=n.selectColor(p),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(w!==n.namespaces&&(w=n.namespaces,y=n.enabled(p)),y),set:S=>{v=S}}),typeof n.init=="function"&&n.init(_),_}function i(p,g){const v=n(this.namespace+(typeof g>"u"?":":g)+p);return v.log=this.log,v}function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];const g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of g)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(p,g){let v=0,w=0,y=-1,_=0;for(;v<p.length;)if(w<g.length&&(g[w]===p[v]||g[w]==="*"))g[w]==="*"?(y=w,_=v,w++):(v++,w++);else if(y!==-1)w=y+1,_++,v=_;else return!1;for(;w<g.length&&g[w]==="*";)w++;return w===g.length}function l(){const p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}function c(p){for(const g of n.skips)if(o(p,g))return!1;for(const g of n.names)if(o(p,g))return!0;return!1}function u(p){return p instanceof Error?p.stack||p.message:p}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return sN=e,sN}var u3;function tEe(){return u3||(u3=1,function(e,t){var r={};t.formatArgs=i,t.save=s,t.load=o,t.useColors=n,t.storage=l(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;u.splice(1,0,f,"color: inherit");let p=0,g=0;u[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(p++,v==="%c"&&(g=p))}),u.splice(g,0,f)}t.log=console.debug||console.log||(()=>{});function s(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function l(){try{return localStorage}catch{}}e.exports=eEe()(t);const{formatters:c}=e.exports;c.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(P0,P0.exports)),P0.exports}var aN,d3;function rEe(){return d3||(d3=1,aN=function(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null}),aN}var T0={exports:{}},A0={exports:{}},oN={},eg={},f3;function nEe(){if(f3)return eg;f3=1,eg.byteLength=l,eg.toByteArray=u,eg.fromByteArray=g;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=v.indexOf("=");y===-1&&(y=w);var _=y===w?0:4-y%4;return[y,_]}function l(v){var w=o(v),y=w[0],_=w[1];return(y+_)*3/4-_}function c(v,w,y){return(w+y)*3/4-y}function u(v){var w,y=o(v),_=y[0],S=y[1],N=new r(c(v,_,S)),C=0,A=S>0?_-4:_,P;for(P=0;P<A;P+=4)w=t[v.charCodeAt(P)]<<18|t[v.charCodeAt(P+1)]<<12|t[v.charCodeAt(P+2)]<<6|t[v.charCodeAt(P+3)],N[C++]=w>>16&255,N[C++]=w>>8&255,N[C++]=w&255;return S===2&&(w=t[v.charCodeAt(P)]<<2|t[v.charCodeAt(P+1)]>>4,N[C++]=w&255),S===1&&(w=t[v.charCodeAt(P)]<<10|t[v.charCodeAt(P+1)]<<4|t[v.charCodeAt(P+2)]>>2,N[C++]=w>>8&255,N[C++]=w&255),N}function f(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function p(v,w,y){for(var _,S=[],N=w;N<y;N+=3)_=(v[N]<<16&16711680)+(v[N+1]<<8&65280)+(v[N+2]&255),S.push(f(_));return S.join("")}function g(v){for(var w,y=v.length,_=y%3,S=[],N=16383,C=0,A=y-_;C<A;C+=N)S.push(p(v,C,C+N>A?A:C+N));return _===1?(w=v[y-1],S.push(e[w>>2]+e[w<<4&63]+"==")):_===2&&(w=(v[y-2]<<8)+v[y-1],S.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),S.join("")}return eg}var k0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var h3;function iEe(){return h3||(h3=1,k0.read=function(e,t,r,n,i){var s,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,f=-7,p=r?i-1:0,g=r?-1:1,v=e[t+p];for(p+=g,s=v&(1<<-f)-1,v>>=-f,f+=l;f>0;s=s*256+e[t+p],p+=g,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+e[t+p],p+=g,f-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(v?-1:1)*o*Math.pow(2,s-n)},k0.write=function(e,t,r,n,i,s){var o,l,c,u=s*8-i-1,f=(1<<u)-1,p=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,w=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?t+=g/c:t+=g*Math.pow(2,1-p),t*c>=2&&(o++,c/=2),o+p>=f?(l=0,o=f):o+p>=1?(l=(t*c-1)*Math.pow(2,i),o=o+p):(l=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=l&255,v+=w,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;e[r+v]=o&255,v+=w,o/=256,u-=8);e[r+v-w]|=y*128}),k0}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var p3;function Ty(){return p3||(p3=1,function(e){const t=nEe(),r=iEe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const W=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(W,D),W.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(W){if(W>i)throw new RangeError('The value "'+W+'" is invalid for option "size"');const D=new Uint8Array(W);return Object.setPrototypeOf(D,l.prototype),D}function l(W,D,F){if(typeof W=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(W)}return c(W,D,F)}l.poolSize=8192;function c(W,D,F){if(typeof W=="string")return g(W,D);if(ArrayBuffer.isView(W))return w(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(ke(W,ArrayBuffer)||W&&ke(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(W,SharedArrayBuffer)||W&&ke(W.buffer,SharedArrayBuffer)))return y(W,D,F);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=W.valueOf&&W.valueOf();if(le!=null&&le!==W)return l.from(le,D,F);const ye=_(W);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return l.from(W[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}l.from=function(W,D,F){return c(W,D,F)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function f(W,D,F){return u(W),W<=0?o(W):D!==void 0?typeof F=="string"?o(W).fill(D,F):o(W).fill(D):o(W)}l.alloc=function(W,D,F){return f(W,D,F)};function p(W){return u(W),o(W<0?0:S(W)|0)}l.allocUnsafe=function(W){return p(W)},l.allocUnsafeSlow=function(W){return p(W)};function g(W,D){if((typeof D!="string"||D==="")&&(D="utf8"),!l.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const F=C(W,D)|0;let le=o(F);const ye=le.write(W,D);return ye!==F&&(le=le.slice(0,ye)),le}function v(W){const D=W.length<0?0:S(W.length)|0,F=o(D);for(let le=0;le<D;le+=1)F[le]=W[le]&255;return F}function w(W){if(ke(W,Uint8Array)){const D=new Uint8Array(W);return y(D.buffer,D.byteOffset,D.byteLength)}return v(W)}function y(W,D,F){if(D<0||W.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');let le;return D===void 0&&F===void 0?le=new Uint8Array(W):F===void 0?le=new Uint8Array(W,D):le=new Uint8Array(W,D,F),Object.setPrototypeOf(le,l.prototype),le}function _(W){if(l.isBuffer(W)){const D=S(W.length)|0,F=o(D);return F.length===0||W.copy(F,0,0,D),F}if(W.length!==void 0)return typeof W.length!="number"||Ze(W.length)?o(0):v(W);if(W.type==="Buffer"&&Array.isArray(W.data))return v(W.data)}function S(W){if(W>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return W|0}function N(W){return+W!=W&&(W=0),l.alloc(+W)}l.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==l.prototype},l.compare=function(D,F){if(ke(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),ke(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength)),!l.isBuffer(D)||!l.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===F)return 0;let le=D.length,ye=F.length;for(let Oe=0,$e=Math.min(le,ye);Oe<$e;++Oe)if(D[Oe]!==F[Oe]){le=D[Oe],ye=F[Oe];break}return le<ye?-1:ye<le?1:0},l.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(D,F){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return l.alloc(0);let le;if(F===void 0)for(F=0,le=0;le<D.length;++le)F+=D[le].length;const ye=l.allocUnsafe(F);let Oe=0;for(le=0;le<D.length;++le){let $e=D[le];if(ke($e,Uint8Array))Oe+$e.length>ye.length?(l.isBuffer($e)||($e=l.from($e)),$e.copy(ye,Oe)):Uint8Array.prototype.set.call(ye,$e,Oe);else if(l.isBuffer($e))$e.copy(ye,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=$e.length}return ye};function C(W,D){if(l.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||ke(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const F=W.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&F===0)return 0;let ye=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Se(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return fe(W).length;default:if(ye)return le?-1:Se(W).length;D=(""+D).toLowerCase(),ye=!0}}l.byteLength=C;function A(W,D,F){let le=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(W||(W="utf8");;)switch(W){case"hex":return Q(this,D,F);case"utf8":case"utf-8":return U(this,D,F);case"ascii":return se(this,D,F);case"latin1":case"binary":return X(this,D,F);case"base64":return q(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,D,F);default:if(le)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),le=!0}}l.prototype._isBuffer=!0;function P(W,D,F){const le=W[D];W[D]=W[F],W[F]=le}l.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<D;F+=2)P(this,F,F+1);return this},l.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<D;F+=4)P(this,F,F+3),P(this,F+1,F+2);return this},l.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<D;F+=8)P(this,F,F+7),P(this,F+1,F+6),P(this,F+2,F+5),P(this,F+3,F+4);return this},l.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?U(this,0,D):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(D){if(!l.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:l.compare(this,D)===0},l.prototype.inspect=function(){let D="";const F=e.INSPECT_MAX_BYTES;return D=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(D+=" ... "),"<Buffer "+D+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(D,F,le,ye,Oe){if(ke(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(F===void 0&&(F=0),le===void 0&&(le=D?D.length:0),ye===void 0&&(ye=0),Oe===void 0&&(Oe=this.length),F<0||le>D.length||ye<0||Oe>this.length)throw new RangeError("out of range index");if(ye>=Oe&&F>=le)return 0;if(ye>=Oe)return-1;if(F>=le)return 1;if(F>>>=0,le>>>=0,ye>>>=0,Oe>>>=0,this===D)return 0;let $e=Oe-ye,vt=le-F;const ar=Math.min($e,vt),Bt=this.slice(ye,Oe),Yt=D.slice(F,le);for(let Ut=0;Ut<ar;++Ut)if(Bt[Ut]!==Yt[Ut]){$e=Bt[Ut],vt=Yt[Ut];break}return $e<vt?-1:vt<$e?1:0};function k(W,D,F,le,ye){if(W.length===0)return-1;if(typeof F=="string"?(le=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Ze(F)&&(F=ye?0:W.length-1),F<0&&(F=W.length+F),F>=W.length){if(ye)return-1;F=W.length-1}else if(F<0)if(ye)F=0;else return-1;if(typeof D=="string"&&(D=l.from(D,le)),l.isBuffer(D))return D.length===0?-1:O(W,D,F,le,ye);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(W,D,F):Uint8Array.prototype.lastIndexOf.call(W,D,F):O(W,[D],F,le,ye);throw new TypeError("val must be string, number or Buffer")}function O(W,D,F,le,ye){let Oe=1,$e=W.length,vt=D.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(W.length<2||D.length<2)return-1;Oe=2,$e/=2,vt/=2,F/=2}function ar(Yt,Ut){return Oe===1?Yt[Ut]:Yt.readUInt16BE(Ut*Oe)}let Bt;if(ye){let Yt=-1;for(Bt=F;Bt<$e;Bt++)if(ar(W,Bt)===ar(D,Yt===-1?0:Bt-Yt)){if(Yt===-1&&(Yt=Bt),Bt-Yt+1===vt)return Yt*Oe}else Yt!==-1&&(Bt-=Bt-Yt),Yt=-1}else for(F+vt>$e&&(F=$e-vt),Bt=F;Bt>=0;Bt--){let Yt=!0;for(let Ut=0;Ut<vt;Ut++)if(ar(W,Bt+Ut)!==ar(D,Ut)){Yt=!1;break}if(Yt)return Bt}return-1}l.prototype.includes=function(D,F,le){return this.indexOf(D,F,le)!==-1},l.prototype.indexOf=function(D,F,le){return k(this,D,F,le,!0)},l.prototype.lastIndexOf=function(D,F,le){return k(this,D,F,le,!1)};function I(W,D,F,le){F=Number(F)||0;const ye=W.length-F;le?(le=Number(le),le>ye&&(le=ye)):le=ye;const Oe=D.length;le>Oe/2&&(le=Oe/2);let $e;for($e=0;$e<le;++$e){const vt=parseInt(D.substr($e*2,2),16);if(Ze(vt))return $e;W[F+$e]=vt}return $e}function z(W,D,F,le){return _e(Se(D,W.length-F),W,F,le)}function Y(W,D,F,le){return _e(ot(D),W,F,le)}function Z(W,D,F,le){return _e(fe(D),W,F,le)}function V(W,D,F,le){return _e(It(D,W.length-F),W,F,le)}l.prototype.write=function(D,F,le,ye){if(F===void 0)ye="utf8",le=this.length,F=0;else if(le===void 0&&typeof F=="string")ye=F,le=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(le)?(le=le>>>0,ye===void 0&&(ye="utf8")):(ye=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Oe=this.length-F;if((le===void 0||le>Oe)&&(le=Oe),D.length>0&&(le<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let $e=!1;for(;;)switch(ye){case"hex":return I(this,D,F,le);case"utf8":case"utf-8":return z(this,D,F,le);case"ascii":case"latin1":case"binary":return Y(this,D,F,le);case"base64":return Z(this,D,F,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,D,F,le);default:if($e)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),$e=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(W,D,F){return D===0&&F===W.length?t.fromByteArray(W):t.fromByteArray(W.slice(D,F))}function U(W,D,F){F=Math.min(W.length,F);const le=[];let ye=D;for(;ye<F;){const Oe=W[ye];let $e=null,vt=Oe>239?4:Oe>223?3:Oe>191?2:1;if(ye+vt<=F){let ar,Bt,Yt,Ut;switch(vt){case 1:Oe<128&&($e=Oe);break;case 2:ar=W[ye+1],(ar&192)===128&&(Ut=(Oe&31)<<6|ar&63,Ut>127&&($e=Ut));break;case 3:ar=W[ye+1],Bt=W[ye+2],(ar&192)===128&&(Bt&192)===128&&(Ut=(Oe&15)<<12|(ar&63)<<6|Bt&63,Ut>2047&&(Ut<55296||Ut>57343)&&($e=Ut));break;case 4:ar=W[ye+1],Bt=W[ye+2],Yt=W[ye+3],(ar&192)===128&&(Bt&192)===128&&(Yt&192)===128&&(Ut=(Oe&15)<<18|(ar&63)<<12|(Bt&63)<<6|Yt&63,Ut>65535&&Ut<1114112&&($e=Ut))}}$e===null?($e=65533,vt=1):$e>65535&&($e-=65536,le.push($e>>>10&1023|55296),$e=56320|$e&1023),le.push($e),ye+=vt}return ae(le)}const re=4096;function ae(W){const D=W.length;if(D<=re)return String.fromCharCode.apply(String,W);let F="",le=0;for(;le<D;)F+=String.fromCharCode.apply(String,W.slice(le,le+=re));return F}function se(W,D,F){let le="";F=Math.min(W.length,F);for(let ye=D;ye<F;++ye)le+=String.fromCharCode(W[ye]&127);return le}function X(W,D,F){let le="";F=Math.min(W.length,F);for(let ye=D;ye<F;++ye)le+=String.fromCharCode(W[ye]);return le}function Q(W,D,F){const le=W.length;(!D||D<0)&&(D=0),(!F||F<0||F>le)&&(F=le);let ye="";for(let Oe=D;Oe<F;++Oe)ye+=Xe[W[Oe]];return ye}function te(W,D,F){const le=W.slice(D,F);let ye="";for(let Oe=0;Oe<le.length-1;Oe+=2)ye+=String.fromCharCode(le[Oe]+le[Oe+1]*256);return ye}l.prototype.slice=function(D,F){const le=this.length;D=~~D,F=F===void 0?le:~~F,D<0?(D+=le,D<0&&(D=0)):D>le&&(D=le),F<0?(F+=le,F<0&&(F=0)):F>le&&(F=le),F<D&&(F=D);const ye=this.subarray(D,F);return Object.setPrototypeOf(ye,l.prototype),ye};function G(W,D,F){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+D>F)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(D,F,le){D=D>>>0,F=F>>>0,le||G(D,F,this.length);let ye=this[D],Oe=1,$e=0;for(;++$e<F&&(Oe*=256);)ye+=this[D+$e]*Oe;return ye},l.prototype.readUintBE=l.prototype.readUIntBE=function(D,F,le){D=D>>>0,F=F>>>0,le||G(D,F,this.length);let ye=this[D+--F],Oe=1;for(;F>0&&(Oe*=256);)ye+=this[D+--F]*Oe;return ye},l.prototype.readUint8=l.prototype.readUInt8=function(D,F){return D=D>>>0,F||G(D,1,this.length),this[D]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(D,F){return D=D>>>0,F||G(D,2,this.length),this[D]|this[D+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(D,F){return D=D>>>0,F||G(D,2,this.length),this[D]<<8|this[D+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(D,F){return D=D>>>0,F||G(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(D,F){return D=D>>>0,F||G(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},l.prototype.readBigUInt64LE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&be(D,this.length-8);const ye=F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,Oe=this[++D]+this[++D]*2**8+this[++D]*2**16+le*2**24;return BigInt(ye)+(BigInt(Oe)<<BigInt(32))}),l.prototype.readBigUInt64BE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&be(D,this.length-8);const ye=F*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],Oe=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le;return(BigInt(ye)<<BigInt(32))+BigInt(Oe)}),l.prototype.readIntLE=function(D,F,le){D=D>>>0,F=F>>>0,le||G(D,F,this.length);let ye=this[D],Oe=1,$e=0;for(;++$e<F&&(Oe*=256);)ye+=this[D+$e]*Oe;return Oe*=128,ye>=Oe&&(ye-=Math.pow(2,8*F)),ye},l.prototype.readIntBE=function(D,F,le){D=D>>>0,F=F>>>0,le||G(D,F,this.length);let ye=F,Oe=1,$e=this[D+--ye];for(;ye>0&&(Oe*=256);)$e+=this[D+--ye]*Oe;return Oe*=128,$e>=Oe&&($e-=Math.pow(2,8*F)),$e},l.prototype.readInt8=function(D,F){return D=D>>>0,F||G(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},l.prototype.readInt16LE=function(D,F){D=D>>>0,F||G(D,2,this.length);const le=this[D]|this[D+1]<<8;return le&32768?le|4294901760:le},l.prototype.readInt16BE=function(D,F){D=D>>>0,F||G(D,2,this.length);const le=this[D+1]|this[D]<<8;return le&32768?le|4294901760:le},l.prototype.readInt32LE=function(D,F){return D=D>>>0,F||G(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},l.prototype.readInt32BE=function(D,F){return D=D>>>0,F||G(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},l.prototype.readBigInt64LE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&be(D,this.length-8);const ye=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(le<<24);return(BigInt(ye)<<BigInt(32))+BigInt(F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),l.prototype.readBigInt64BE=me(function(D){D=D>>>0,we(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&be(D,this.length-8);const ye=(F<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ye)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le)}),l.prototype.readFloatLE=function(D,F){return D=D>>>0,F||G(D,4,this.length),r.read(this,D,!0,23,4)},l.prototype.readFloatBE=function(D,F){return D=D>>>0,F||G(D,4,this.length),r.read(this,D,!1,23,4)},l.prototype.readDoubleLE=function(D,F){return D=D>>>0,F||G(D,8,this.length),r.read(this,D,!0,52,8)},l.prototype.readDoubleBE=function(D,F){return D=D>>>0,F||G(D,8,this.length),r.read(this,D,!1,52,8)};function ie(W,D,F,le,ye,Oe){if(!l.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ye||D<Oe)throw new RangeError('"value" argument is out of bounds');if(F+le>W.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(D,F,le,ye){if(D=+D,F=F>>>0,le=le>>>0,!ye){const vt=Math.pow(2,8*le)-1;ie(this,D,F,le,vt,0)}let Oe=1,$e=0;for(this[F]=D&255;++$e<le&&(Oe*=256);)this[F+$e]=D/Oe&255;return F+le},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(D,F,le,ye){if(D=+D,F=F>>>0,le=le>>>0,!ye){const vt=Math.pow(2,8*le)-1;ie(this,D,F,le,vt,0)}let Oe=le-1,$e=1;for(this[F+Oe]=D&255;--Oe>=0&&($e*=256);)this[F+Oe]=D/$e&255;return F+le},l.prototype.writeUint8=l.prototype.writeUInt8=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,1,255,0),this[F]=D&255,F+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,2,65535,0),this[F]=D&255,this[F+1]=D>>>8,F+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,2,65535,0),this[F]=D>>>8,this[F+1]=D&255,F+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,4,4294967295,0),this[F+3]=D>>>24,this[F+2]=D>>>16,this[F+1]=D>>>8,this[F]=D&255,F+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,4,4294967295,0),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4};function xe(W,D,F,le,ye){H(D,le,ye,W,F,7);let Oe=Number(D&BigInt(4294967295));W[F++]=Oe,Oe=Oe>>8,W[F++]=Oe,Oe=Oe>>8,W[F++]=Oe,Oe=Oe>>8,W[F++]=Oe;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return W[F++]=$e,$e=$e>>8,W[F++]=$e,$e=$e>>8,W[F++]=$e,$e=$e>>8,W[F++]=$e,F}function Ne(W,D,F,le,ye){H(D,le,ye,W,F,7);let Oe=Number(D&BigInt(4294967295));W[F+7]=Oe,Oe=Oe>>8,W[F+6]=Oe,Oe=Oe>>8,W[F+5]=Oe,Oe=Oe>>8,W[F+4]=Oe;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return W[F+3]=$e,$e=$e>>8,W[F+2]=$e,$e=$e>>8,W[F+1]=$e,$e=$e>>8,W[F]=$e,F+8}l.prototype.writeBigUInt64LE=me(function(D,F=0){return xe(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=me(function(D,F=0){return Ne(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(D,F,le,ye){if(D=+D,F=F>>>0,!ye){const ar=Math.pow(2,8*le-1);ie(this,D,F,le,ar-1,-ar)}let Oe=0,$e=1,vt=0;for(this[F]=D&255;++Oe<le&&($e*=256);)D<0&&vt===0&&this[F+Oe-1]!==0&&(vt=1),this[F+Oe]=(D/$e>>0)-vt&255;return F+le},l.prototype.writeIntBE=function(D,F,le,ye){if(D=+D,F=F>>>0,!ye){const ar=Math.pow(2,8*le-1);ie(this,D,F,le,ar-1,-ar)}let Oe=le-1,$e=1,vt=0;for(this[F+Oe]=D&255;--Oe>=0&&($e*=256);)D<0&&vt===0&&this[F+Oe+1]!==0&&(vt=1),this[F+Oe]=(D/$e>>0)-vt&255;return F+le},l.prototype.writeInt8=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,1,127,-128),D<0&&(D=255+D+1),this[F]=D&255,F+1},l.prototype.writeInt16LE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,2,32767,-32768),this[F]=D&255,this[F+1]=D>>>8,F+2},l.prototype.writeInt16BE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,2,32767,-32768),this[F]=D>>>8,this[F+1]=D&255,F+2},l.prototype.writeInt32LE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,4,2147483647,-2147483648),this[F]=D&255,this[F+1]=D>>>8,this[F+2]=D>>>16,this[F+3]=D>>>24,F+4},l.prototype.writeInt32BE=function(D,F,le){return D=+D,F=F>>>0,le||ie(this,D,F,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4},l.prototype.writeBigInt64LE=me(function(D,F=0){return xe(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=me(function(D,F=0){return Ne(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(W,D,F,le,ye,Oe){if(F+le>W.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function ce(W,D,F,le,ye){return D=+D,F=F>>>0,ye||Le(W,D,F,4),r.write(W,D,F,le,23,4),F+4}l.prototype.writeFloatLE=function(D,F,le){return ce(this,D,F,!0,le)},l.prototype.writeFloatBE=function(D,F,le){return ce(this,D,F,!1,le)};function oe(W,D,F,le,ye){return D=+D,F=F>>>0,ye||Le(W,D,F,8),r.write(W,D,F,le,52,8),F+8}l.prototype.writeDoubleLE=function(D,F,le){return oe(this,D,F,!0,le)},l.prototype.writeDoubleBE=function(D,F,le){return oe(this,D,F,!1,le)},l.prototype.copy=function(D,F,le,ye){if(!l.isBuffer(D))throw new TypeError("argument should be a Buffer");if(le||(le=0),!ye&&ye!==0&&(ye=this.length),F>=D.length&&(F=D.length),F||(F=0),ye>0&&ye<le&&(ye=le),ye===le||D.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),D.length-F<ye-le&&(ye=D.length-F+le);const Oe=ye-le;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,le,ye):Uint8Array.prototype.set.call(D,this.subarray(le,ye),F),Oe},l.prototype.fill=function(D,F,le,ye){if(typeof D=="string"){if(typeof F=="string"?(ye=F,F=0,le=this.length):typeof le=="string"&&(ye=le,le=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!l.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(D.length===1){const $e=D.charCodeAt(0);(ye==="utf8"&&$e<128||ye==="latin1")&&(D=$e)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(F<0||this.length<F||this.length<le)throw new RangeError("Out of range index");if(le<=F)return this;F=F>>>0,le=le===void 0?this.length:le>>>0,D||(D=0);let Oe;if(typeof D=="number")for(Oe=F;Oe<le;++Oe)this[Oe]=D;else{const $e=l.isBuffer(D)?D:l.from(D,ye),vt=$e.length;if(vt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Oe=0;Oe<le-F;++Oe)this[Oe+F]=$e[Oe%vt]}return this};const ge={};function he(W,D,F){ge[W]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(W,D){return`The "${W}" argument must be of type number. Received type ${typeof D}`},TypeError),he("ERR_OUT_OF_RANGE",function(W,D,F){let le=`The value of "${W}" is out of range.`,ye=F;return Number.isInteger(F)&&Math.abs(F)>2**32?ye=Pe(String(F)):typeof F=="bigint"&&(ye=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(ye=Pe(ye)),ye+="n"),le+=` It must be ${D}. Received ${ye}`,le},RangeError);function Pe(W){let D="",F=W.length;const le=W[0]==="-"?1:0;for(;F>=le+4;F-=3)D=`_${W.slice(F-3,F)}${D}`;return`${W.slice(0,F)}${D}`}function J(W,D,F){we(D,"offset"),(W[D]===void 0||W[D+F]===void 0)&&be(D,W.length-(F+1))}function H(W,D,F,le,ye,Oe){if(W>F||W<D){const $e=typeof D=="bigint"?"n":"";let vt;throw D===0||D===BigInt(0)?vt=`>= 0${$e} and < 2${$e} ** ${(Oe+1)*8}${$e}`:vt=`>= -(2${$e} ** ${(Oe+1)*8-1}${$e}) and < 2 ** ${(Oe+1)*8-1}${$e}`,new ge.ERR_OUT_OF_RANGE("value",vt,W)}J(le,ye,Oe)}function we(W,D){if(typeof W!="number")throw new ge.ERR_INVALID_ARG_TYPE(D,"number",W)}function be(W,D,F){throw Math.floor(W)!==W?(we(W,F),new ge.ERR_OUT_OF_RANGE("offset","an integer",W)):D<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,W)}const Ve=/[^+/0-9A-Za-z-_]/g;function qe(W){if(W=W.split("=")[0],W=W.trim().replace(Ve,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Se(W,D){D=D||1/0;let F;const le=W.length;let ye=null;const Oe=[];for(let $e=0;$e<le;++$e){if(F=W.charCodeAt($e),F>55295&&F<57344){if(!ye){if(F>56319){(D-=3)>-1&&Oe.push(239,191,189);continue}else if($e+1===le){(D-=3)>-1&&Oe.push(239,191,189);continue}ye=F;continue}if(F<56320){(D-=3)>-1&&Oe.push(239,191,189),ye=F;continue}F=(ye-55296<<10|F-56320)+65536}else ye&&(D-=3)>-1&&Oe.push(239,191,189);if(ye=null,F<128){if((D-=1)<0)break;Oe.push(F)}else if(F<2048){if((D-=2)<0)break;Oe.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;Oe.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;Oe.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return Oe}function ot(W){const D=[];for(let F=0;F<W.length;++F)D.push(W.charCodeAt(F)&255);return D}function It(W,D){let F,le,ye;const Oe=[];for(let $e=0;$e<W.length&&!((D-=2)<0);++$e)F=W.charCodeAt($e),le=F>>8,ye=F%256,Oe.push(ye),Oe.push(le);return Oe}function fe(W){return t.toByteArray(qe(W))}function _e(W,D,F,le){let ye;for(ye=0;ye<le&&!(ye+F>=D.length||ye>=W.length);++ye)D[ye+F]=W[ye];return ye}function ke(W,D){return W instanceof D||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===D.name}function Ze(W){return W!==W}const Xe=function(){const W="0123456789abcdef",D=new Array(256);for(let F=0;F<16;++F){const le=F*16;for(let ye=0;ye<16;++ye)D[le+ye]=W[F]+W[ye]}return D}();function me(W){return typeof BigInt>"u"?De:W}function De(){throw new Error("BigInt not supported")}}(oN)),oN}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m3;function JX(){return m3||(m3=1,function(e,t){var r=Ty(),n=r.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,l,c){return n(o,l,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},s.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(A0,A0.exports)),A0.exports}var g3;function sEe(){if(g3)return T0.exports;g3=1;var e=65536,t=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=JX().Buffer,i=Es.crypto||Es.msCrypto;i&&i.getRandomValues?T0.exports=s:T0.exports=r;function s(o,l){if(o>t)throw new RangeError("requested too many random bytes");var c=n.allocUnsafe(o);if(o>0)if(o>e)for(var u=0;u<o;u+=e)i.getRandomValues(c.slice(u,u+e));else i.getRandomValues(c);return typeof l=="function"?process.nextTick(function(){l(null,c)}):c}return T0.exports}var O0={exports:{}};const aEe={},oEe=Object.freeze(Object.defineProperty({__proto__:null,default:aEe},Symbol.toStringTag,{value:"Module"})),ew=k8(oEe);var lN,v3;function eQ(){return v3||(v3=1,lN=ew.EventEmitter),lN}var cN,y3;function lEe(){if(y3)return cN;y3=1;function e(w,y){var _=Object.keys(w);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(w);y&&(S=S.filter(function(N){return Object.getOwnPropertyDescriptor(w,N).enumerable})),_.push.apply(_,S)}return _}function t(w){for(var y=1;y<arguments.length;y++){var _=arguments[y]!=null?arguments[y]:{};y%2?e(Object(_),!0).forEach(function(S){r(w,S,_[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(S){Object.defineProperty(w,S,Object.getOwnPropertyDescriptor(_,S))})}return w}function r(w,y,_){return y=o(y),y in w?Object.defineProperty(w,y,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[y]=_,w}function n(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function i(w,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,o(S.key),S)}}function s(w,y,_){return y&&i(w.prototype,y),Object.defineProperty(w,"prototype",{writable:!1}),w}function o(w){var y=l(w,"string");return typeof y=="symbol"?y:String(y)}function l(w,y){if(typeof w!="object"||w===null)return w;var _=w[Symbol.toPrimitive];if(_!==void 0){var S=_.call(w,y);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}var c=Ty(),u=c.Buffer,f=ew,p=f.inspect,g=p&&p.custom||"inspect";function v(w,y,_){u.prototype.copy.call(w,y,_)}return cN=function(){function w(){n(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(_){var S={data:_,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(_){var S={data:_,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var S=this.head,N=""+S.data;S=S.next;)N+=_+S.data;return N}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var S=u.allocUnsafe(_>>>0),N=this.head,C=0;N;)v(N.data,S,C),C+=N.data.length,N=N.next;return S}},{key:"consume",value:function(_,S){var N;return _<this.head.data.length?(N=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?N=this.shift():N=S?this._getString(_):this._getBuffer(_),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var S=this.head,N=1,C=S.data;for(_-=C.length;S=S.next;){var A=S.data,P=_>A.length?A.length:_;if(P===A.length?C+=A:C+=A.slice(0,_),_-=P,_===0){P===A.length?(++N,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=A.slice(P));break}++N}return this.length-=N,C}},{key:"_getBuffer",value:function(_){var S=u.allocUnsafe(_),N=this.head,C=1;for(N.data.copy(S),_-=N.data.length;N=N.next;){var A=N.data,P=_>A.length?A.length:_;if(A.copy(S,S.length-_,0,P),_-=P,_===0){P===A.length?(++C,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=A.slice(P));break}++C}return this.length-=C,S}},{key:g,value:function(_,S){return p(this,t(t({},S),{},{depth:0,customInspect:!1}))}}]),w}(),cN}var uN,x3;function tQ(){if(x3)return uN;x3=1;function e(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!l&&p?c._writableState?c._writableState.errorEmitted?process.nextTick(r,c):(c._writableState.errorEmitted=!0,process.nextTick(t,c,p)):process.nextTick(t,c,p):l?(process.nextTick(r,c),l(p)):process.nextTick(r,c)}),this)}function t(o,l){i(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return uN={destroy:e,undestroy:n,errorOrDestroy:s},uN}var dN={},b3;function Bp(){if(b3)return dN;b3=1;function e(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var t={};function r(l,c,u){u||(u=Error);function f(g,v,w){return typeof c=="string"?c:c(g,v,w)}var p=function(g){e(v,g);function v(w,y,_){return g.call(this,f(w,y,_))||this}return v}(u);p.prototype.name=u.name,p.prototype.code=l,t[l]=p}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(f){return String(f)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function s(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var f;typeof c=="string"&&i(c,"not ")?(f="must not be",c=c.replace(/^not /,"")):f="must be";var p;if(s(l," argument"))p="The ".concat(l," ").concat(f," ").concat(n(c,"type"));else{var g=o(l,".")?"property":"argument";p='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(n(c,"type"))}return p+=". Received type ".concat(typeof u),p},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),dN.codes=t,dN}var fN,w3;function rQ(){if(w3)return fN;w3=1;var e=Bp().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var l=t(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?s:"highWaterMark";throw new e(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return fN={getHighWaterMark:r},fN}var R0={exports:{}},_3;function Ay(){return _3||(_3=1,typeof Object.create=="function"?R0.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:R0.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),R0.exports}var hN,j3;function cEe(){if(j3)return hN;j3=1,hN=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!Es.localStorage)return!1}catch{return!1}var n=Es.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return hN}var pN,S3;function nQ(){if(S3)return pN;S3=1,pN=I;function e(ce){var oe=this;this.next=null,this.entry=null,this.finish=function(){Le(oe,ce)}}var t;I.WritableState=k;var r={deprecate:cEe()},n=eQ(),i=Ty().Buffer,s=(typeof Es<"u"?Es:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(ce){return i.from(ce)}function l(ce){return i.isBuffer(ce)||ce instanceof s}var c=tQ(),u=rQ(),f=u.getHighWaterMark,p=Bp().codes,g=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,S=p.ERR_STREAM_NULL_VALUES,N=p.ERR_STREAM_WRITE_AFTER_END,C=p.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;Ay()(I,n);function P(){}function k(ce,oe,ge){t=t||Gh(),ce=ce||{},typeof ge!="boolean"&&(ge=oe instanceof t),this.objectMode=!!ce.objectMode,ge&&(this.objectMode=this.objectMode||!!ce.writableObjectMode),this.highWaterMark=f(this,ce,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=ce.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){ae(oe,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}k.prototype.getBuffer=function(){for(var oe=this.bufferedRequest,ge=[];oe;)ge.push(oe),oe=oe.next;return ge},function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(oe){return O.call(this,oe)?!0:this!==I?!1:oe&&oe._writableState instanceof k}})):O=function(oe){return oe instanceof this};function I(ce){t=t||Gh();var oe=this instanceof t;if(!oe&&!O.call(I,this))return new I(ce);this._writableState=new k(ce,this,oe),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),n.call(this)}I.prototype.pipe=function(){A(this,new y)};function z(ce,oe){var ge=new N;A(ce,ge),process.nextTick(oe,ge)}function Y(ce,oe,ge,he){var Pe;return ge===null?Pe=new S:typeof ge!="string"&&!oe.objectMode&&(Pe=new g("chunk",["string","Buffer"],ge)),Pe?(A(ce,Pe),process.nextTick(he,Pe),!1):!0}I.prototype.write=function(ce,oe,ge){var he=this._writableState,Pe=!1,J=!he.objectMode&&l(ce);return J&&!i.isBuffer(ce)&&(ce=o(ce)),typeof oe=="function"&&(ge=oe,oe=null),J?oe="buffer":oe||(oe=he.defaultEncoding),typeof ge!="function"&&(ge=P),he.ending?z(this,ge):(J||Y(this,he,ce,ge))&&(he.pendingcb++,Pe=V(this,he,J,ce,oe,ge)),Pe},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&Q(this,ce))},I.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((oe+"").toLowerCase())>-1))throw new C(oe);return this._writableState.defaultEncoding=oe,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(ce,oe,ge){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof oe=="string"&&(oe=i.from(oe,ge)),oe}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(ce,oe,ge,he,Pe,J){if(!ge){var H=Z(oe,he,Pe);he!==H&&(ge=!0,Pe="buffer",he=H)}var we=oe.objectMode?1:he.length;oe.length+=we;var be=oe.length<oe.highWaterMark;if(be||(oe.needDrain=!0),oe.writing||oe.corked){var Ve=oe.lastBufferedRequest;oe.lastBufferedRequest={chunk:he,encoding:Pe,isBuf:ge,callback:J,next:null},Ve?Ve.next=oe.lastBufferedRequest:oe.bufferedRequest=oe.lastBufferedRequest,oe.bufferedRequestCount+=1}else q(ce,oe,!1,we,he,Pe,J);return be}function q(ce,oe,ge,he,Pe,J,H){oe.writelen=he,oe.writecb=H,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new _("write")):ge?ce._writev(Pe,oe.onwrite):ce._write(Pe,J,oe.onwrite),oe.sync=!1}function U(ce,oe,ge,he,Pe){--oe.pendingcb,ge?(process.nextTick(Pe,he),process.nextTick(xe,ce,oe),ce._writableState.errorEmitted=!0,A(ce,he)):(Pe(he),ce._writableState.errorEmitted=!0,A(ce,he),xe(ce,oe))}function re(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function ae(ce,oe){var ge=ce._writableState,he=ge.sync,Pe=ge.writecb;if(typeof Pe!="function")throw new w;if(re(ge),oe)U(ce,ge,he,oe,Pe);else{var J=te(ge)||ce.destroyed;!J&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&Q(ce,ge),he?process.nextTick(se,ce,ge,J,Pe):se(ce,ge,J,Pe)}}function se(ce,oe,ge,he){ge||X(ce,oe),oe.pendingcb--,he(),xe(ce,oe)}function X(ce,oe){oe.length===0&&oe.needDrain&&(oe.needDrain=!1,ce.emit("drain"))}function Q(ce,oe){oe.bufferProcessing=!0;var ge=oe.bufferedRequest;if(ce._writev&&ge&&ge.next){var he=oe.bufferedRequestCount,Pe=new Array(he),J=oe.corkedRequestsFree;J.entry=ge;for(var H=0,we=!0;ge;)Pe[H]=ge,ge.isBuf||(we=!1),ge=ge.next,H+=1;Pe.allBuffers=we,q(ce,oe,!0,oe.length,Pe,"",J.finish),oe.pendingcb++,oe.lastBufferedRequest=null,J.next?(oe.corkedRequestsFree=J.next,J.next=null):oe.corkedRequestsFree=new e(oe),oe.bufferedRequestCount=0}else{for(;ge;){var be=ge.chunk,Ve=ge.encoding,qe=ge.callback,Se=oe.objectMode?1:be.length;if(q(ce,oe,!1,Se,be,Ve,qe),ge=ge.next,oe.bufferedRequestCount--,oe.writing)break}ge===null&&(oe.lastBufferedRequest=null)}oe.bufferedRequest=ge,oe.bufferProcessing=!1}I.prototype._write=function(ce,oe,ge){ge(new v("_write()"))},I.prototype._writev=null,I.prototype.end=function(ce,oe,ge){var he=this._writableState;return typeof ce=="function"?(ge=ce,ce=null,oe=null):typeof oe=="function"&&(ge=oe,oe=null),ce!=null&&this.write(ce,oe),he.corked&&(he.corked=1,this.uncork()),he.ending||Ne(this,he,ge),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function te(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function G(ce,oe){ce._final(function(ge){oe.pendingcb--,ge&&A(ce,ge),oe.prefinished=!0,ce.emit("prefinish"),xe(ce,oe)})}function ie(ce,oe){!oe.prefinished&&!oe.finalCalled&&(typeof ce._final=="function"&&!oe.destroyed?(oe.pendingcb++,oe.finalCalled=!0,process.nextTick(G,ce,oe)):(oe.prefinished=!0,ce.emit("prefinish")))}function xe(ce,oe){var ge=te(oe);if(ge&&(ie(ce,oe),oe.pendingcb===0&&(oe.finished=!0,ce.emit("finish"),oe.autoDestroy))){var he=ce._readableState;(!he||he.autoDestroy&&he.endEmitted)&&ce.destroy()}return ge}function Ne(ce,oe,ge){oe.ending=!0,xe(ce,oe),ge&&(oe.finished?process.nextTick(ge):ce.once("finish",ge)),oe.ended=!0,ce.writable=!1}function Le(ce,oe,ge){var he=ce.entry;for(ce.entry=null;he;){var Pe=he.callback;oe.pendingcb--,Pe(ge),he=he.next}oe.corkedRequestsFree.next=ce}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(oe){this._writableState&&(this._writableState.destroyed=oe)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(ce,oe){oe(ce)},pN}var mN,N3;function Gh(){if(N3)return mN;N3=1;var e=Object.keys||function(u){var f=[];for(var p in u)f.push(p);return f};mN=o;var t=iQ(),r=nQ();Ay()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),mN}var gN={},C3;function E3(){if(C3)return gN;C3=1;var e=JX().Buffer,t=e.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var N;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(N)return;S=(""+S).toLowerCase(),N=!0}}function n(S){var N=r(S);if(typeof N!="string"&&(e.isEncoding===t||!t(S)))throw new Error("Unknown encoding: "+S);return N||S}gN.StringDecoder=i;function i(S){this.encoding=n(S);var N;switch(this.encoding){case"utf16le":this.text=p,this.end=g,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=v,this.end=w,N=3;break;default:this.write=y,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}i.prototype.write=function(S){if(S.length===0)return"";var N,C;if(this.lastNeed){if(N=this.fillLast(S),N===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<S.length?N?N+this.text(S,C):this.text(S,C):N||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function o(S,N,C){var A=N.length-1;if(A<C)return 0;var P=s(N[A]);return P>=0?(P>0&&(S.lastNeed=P-1),P):--A<C||P===-2?0:(P=s(N[A]),P>=0?(P>0&&(S.lastNeed=P-2),P):--A<C||P===-2?0:(P=s(N[A]),P>=0?(P>0&&(P===2?P=0:S.lastNeed=P-3),P):0))}function l(S,N,C){if((N[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return S.lastNeed=2,"�"}}function c(S){var N=this.lastTotal-this.lastNeed,C=l(this,S);if(C!==void 0)return C;if(this.lastNeed<=S.length)return S.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,N,0,S.length),this.lastNeed-=S.length}function u(S,N){var C=o(this,S,N);if(!this.lastNeed)return S.toString("utf8",N);this.lastTotal=C;var A=S.length-(C-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",N,A)}function f(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+"�":N}function p(S,N){if((S.length-N)%2===0){var C=S.toString("utf16le",N);if(C){var A=C.charCodeAt(C.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",N,S.length-1)}function g(S){var N=S&&S.length?this.write(S):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,C)}return N}function v(S,N){var C=(S.length-N)%3;return C===0?S.toString("base64",N):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",N,S.length-C))}function w(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function y(S){return S.toString(this.encoding)}function _(S){return S&&S.length?this.write(S):""}return gN}var vN,P3;function mM(){if(P3)return vN;P3=1;var e=Bp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=t(l||r);var c=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,f=function(){s.writable||g()},p=s._writableState&&s._writableState.finished,g=function(){u=!1,p=!0,c||l.call(s)},v=s._readableState&&s._readableState.endEmitted,w=function(){c=!1,v=!0,u||l.call(s)},y=function(C){l.call(s,C)},_=function(){var C;if(c&&!v)return(!s._readableState||!s._readableState.ended)&&(C=new e),l.call(s,C);if(u&&!p)return(!s._writableState||!s._writableState.ended)&&(C=new e),l.call(s,C)},S=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",_),s.req?S():s.on("request",S)):u&&!s._writableState&&(s.on("end",f),s.on("close",f)),s.on("end",w),s.on("finish",g),o.error!==!1&&s.on("error",y),s.on("close",_),function(){s.removeListener("complete",g),s.removeListener("abort",_),s.removeListener("request",S),s.req&&s.req.removeListener("finish",g),s.removeListener("end",f),s.removeListener("close",f),s.removeListener("finish",g),s.removeListener("end",w),s.removeListener("error",y),s.removeListener("close",_)}}return vN=i,vN}var yN,T3;function uEe(){if(T3)return yN;T3=1;var e;function t(C,A,P){return A=r(A),A in C?Object.defineProperty(C,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):C[A]=P,C}function r(C){var A=n(C,"string");return typeof A=="symbol"?A:String(A)}function n(C,A){if(typeof C!="object"||C===null)return C;var P=C[Symbol.toPrimitive];if(P!==void 0){var k=P.call(C,A);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(C)}var i=mM(),s=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function g(C,A){return{value:C,done:A}}function v(C){var A=C[s];if(A!==null){var P=C[p].read();P!==null&&(C[u]=null,C[s]=null,C[o]=null,A(g(P,!1)))}}function w(C){process.nextTick(v,C)}function y(C,A){return function(P,k){C.then(function(){if(A[c]){P(g(void 0,!0));return}A[f](P,k)},k)}}var _=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((e={get stream(){return this[p]},next:function(){var A=this,P=this[l];if(P!==null)return Promise.reject(P);if(this[c])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(z,Y){process.nextTick(function(){A[l]?Y(A[l]):z(g(void 0,!0))})});var k=this[u],O;if(k)O=new Promise(y(k,this));else{var I=this[p].read();if(I!==null)return Promise.resolve(g(I,!1));O=new Promise(this[f])}return this[u]=O,O}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var A=this;return new Promise(function(P,k){A[p].destroy(null,function(O){if(O){k(O);return}P(g(void 0,!0))})})}),e),_),N=function(A){var P,k=Object.create(S,(P={},t(P,p,{value:A,writable:!0}),t(P,s,{value:null,writable:!0}),t(P,o,{value:null,writable:!0}),t(P,l,{value:null,writable:!0}),t(P,c,{value:A._readableState.endEmitted,writable:!0}),t(P,f,{value:function(I,z){var Y=k[p].read();Y?(k[u]=null,k[s]=null,k[o]=null,I(g(Y,!1))):(k[s]=I,k[o]=z)},writable:!0}),P));return k[u]=null,i(A,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=k[o];I!==null&&(k[u]=null,k[s]=null,k[o]=null,I(O)),k[l]=O;return}var z=k[s];z!==null&&(k[u]=null,k[s]=null,k[o]=null,z(g(void 0,!0))),k[c]=!0}),A.on("readable",w.bind(null,k)),k};return yN=N,yN}var xN,A3;function dEe(){return A3||(A3=1,xN=function(){throw new Error("Readable.from is not available in the browser")}),xN}var bN,k3;function iQ(){if(k3)return bN;k3=1,bN=z;var e;z.ReadableState=I,ew.EventEmitter;var t=function(H,we){return H.listeners(we).length},r=eQ(),n=Ty().Buffer,i=(typeof Es<"u"?Es:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(J){return n.from(J)}function o(J){return n.isBuffer(J)||J instanceof i}var l=ew,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=lEe(),f=tQ(),p=rQ(),g=p.getHighWaterMark,v=Bp().codes,w=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,C,A;Ay()(z,r);var P=f.errorOrDestroy,k=["error","close","destroy","pause","resume"];function O(J,H,we){if(typeof J.prependListener=="function")return J.prependListener(H,we);!J._events||!J._events[H]?J.on(H,we):Array.isArray(J._events[H])?J._events[H].unshift(we):J._events[H]=[we,J._events[H]]}function I(J,H,we){e=e||Gh(),J=J||{},typeof we!="boolean"&&(we=H instanceof e),this.objectMode=!!J.objectMode,we&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=g(this,J,"readableHighWaterMark",we),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(N||(N=E3().StringDecoder),this.decoder=new N(J.encoding),this.encoding=J.encoding)}function z(J){if(e=e||Gh(),!(this instanceof z))return new z(J);var H=this instanceof e;this._readableState=new I(J,this,H),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),r.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),z.prototype.destroy=f.destroy,z.prototype._undestroy=f.undestroy,z.prototype._destroy=function(J,H){H(J)},z.prototype.push=function(J,H){var we=this._readableState,be;return we.objectMode?be=!0:typeof J=="string"&&(H=H||we.defaultEncoding,H!==we.encoding&&(J=n.from(J,H),H=""),be=!0),Y(this,J,H,!1,be)},z.prototype.unshift=function(J){return Y(this,J,null,!0,!1)};function Y(J,H,we,be,Ve){c("readableAddChunk",H);var qe=J._readableState;if(H===null)qe.reading=!1,ae(J,qe);else{var Se;if(Ve||(Se=V(qe,H)),Se)P(J,Se);else if(qe.objectMode||H&&H.length>0)if(typeof H!="string"&&!qe.objectMode&&Object.getPrototypeOf(H)!==n.prototype&&(H=s(H)),be)qe.endEmitted?P(J,new S):Z(J,qe,H,!0);else if(qe.ended)P(J,new y);else{if(qe.destroyed)return!1;qe.reading=!1,qe.decoder&&!we?(H=qe.decoder.write(H),qe.objectMode||H.length!==0?Z(J,qe,H,!1):Q(J,qe)):Z(J,qe,H,!1)}else be||(qe.reading=!1,Q(J,qe))}return!qe.ended&&(qe.length<qe.highWaterMark||qe.length===0)}function Z(J,H,we,be){H.flowing&&H.length===0&&!H.sync?(H.awaitDrain=0,J.emit("data",we)):(H.length+=H.objectMode?1:we.length,be?H.buffer.unshift(we):H.buffer.push(we),H.needReadable&&se(J)),Q(J,H)}function V(J,H){var we;return!o(H)&&typeof H!="string"&&H!==void 0&&!J.objectMode&&(we=new w("chunk",["string","Buffer","Uint8Array"],H)),we}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(J){N||(N=E3().StringDecoder);var H=new N(J);this._readableState.decoder=H,this._readableState.encoding=this._readableState.decoder.encoding;for(var we=this._readableState.buffer.head,be="";we!==null;)be+=H.write(we.data),we=we.next;return this._readableState.buffer.clear(),be!==""&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var q=1073741824;function U(J){return J>=q?J=q:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function re(J,H){return J<=0||H.length===0&&H.ended?0:H.objectMode?1:J!==J?H.flowing&&H.length?H.buffer.head.data.length:H.length:(J>H.highWaterMark&&(H.highWaterMark=U(J)),J<=H.length?J:H.ended?H.length:(H.needReadable=!0,0))}z.prototype.read=function(J){c("read",J),J=parseInt(J,10);var H=this._readableState,we=J;if(J!==0&&(H.emittedReadable=!1),J===0&&H.needReadable&&((H.highWaterMark!==0?H.length>=H.highWaterMark:H.length>0)||H.ended))return c("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?ge(this):se(this),null;if(J=re(J,H),J===0&&H.ended)return H.length===0&&ge(this),null;var be=H.needReadable;c("need readable",be),(H.length===0||H.length-J<H.highWaterMark)&&(be=!0,c("length less than watermark",be)),H.ended||H.reading?(be=!1,c("reading or ended",be)):be&&(c("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(J=re(we,H)));var Ve;return J>0?Ve=oe(J,H):Ve=null,Ve===null?(H.needReadable=H.length<=H.highWaterMark,J=0):(H.length-=J,H.awaitDrain=0),H.length===0&&(H.ended||(H.needReadable=!0),we!==J&&H.ended&&ge(this)),Ve!==null&&this.emit("data",Ve),Ve};function ae(J,H){if(c("onEofChunk"),!H.ended){if(H.decoder){var we=H.decoder.end();we&&we.length&&(H.buffer.push(we),H.length+=H.objectMode?1:we.length)}H.ended=!0,H.sync?se(J):(H.needReadable=!1,H.emittedReadable||(H.emittedReadable=!0,X(J)))}}function se(J){var H=J._readableState;c("emitReadable",H.needReadable,H.emittedReadable),H.needReadable=!1,H.emittedReadable||(c("emitReadable",H.flowing),H.emittedReadable=!0,process.nextTick(X,J))}function X(J){var H=J._readableState;c("emitReadable_",H.destroyed,H.length,H.ended),!H.destroyed&&(H.length||H.ended)&&(J.emit("readable"),H.emittedReadable=!1),H.needReadable=!H.flowing&&!H.ended&&H.length<=H.highWaterMark,ce(J)}function Q(J,H){H.readingMore||(H.readingMore=!0,process.nextTick(te,J,H))}function te(J,H){for(;!H.reading&&!H.ended&&(H.length<H.highWaterMark||H.flowing&&H.length===0);){var we=H.length;if(c("maybeReadMore read 0"),J.read(0),we===H.length)break}H.readingMore=!1}z.prototype._read=function(J){P(this,new _("_read()"))},z.prototype.pipe=function(J,H){var we=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=J;break;case 1:be.pipes=[be.pipes,J];break;default:be.pipes.push(J);break}be.pipesCount+=1,c("pipe count=%d opts=%j",be.pipesCount,H);var Ve=(!H||H.end!==!1)&&J!==process.stdout&&J!==process.stderr,qe=Ve?ot:De;be.endEmitted?process.nextTick(qe):we.once("end",qe),J.on("unpipe",Se);function Se(W,D){c("onunpipe"),W===we&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,_e())}function ot(){c("onend"),J.end()}var It=G(we);J.on("drain",It);var fe=!1;function _e(){c("cleanup"),J.removeListener("close",Xe),J.removeListener("finish",me),J.removeListener("drain",It),J.removeListener("error",Ze),J.removeListener("unpipe",Se),we.removeListener("end",ot),we.removeListener("end",De),we.removeListener("data",ke),fe=!0,be.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&It()}we.on("data",ke);function ke(W){c("ondata");var D=J.write(W);c("dest.write",D),D===!1&&((be.pipesCount===1&&be.pipes===J||be.pipesCount>1&&Pe(be.pipes,J)!==-1)&&!fe&&(c("false write response, pause",be.awaitDrain),be.awaitDrain++),we.pause())}function Ze(W){c("onerror",W),De(),J.removeListener("error",Ze),t(J,"error")===0&&P(J,W)}O(J,"error",Ze);function Xe(){J.removeListener("finish",me),De()}J.once("close",Xe);function me(){c("onfinish"),J.removeListener("close",Xe),De()}J.once("finish",me);function De(){c("unpipe"),we.unpipe(J)}return J.emit("pipe",we),be.flowing||(c("pipe resume"),we.resume()),J};function G(J){return function(){var we=J._readableState;c("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&t(J,"data")&&(we.flowing=!0,ce(J))}}z.prototype.unpipe=function(J){var H=this._readableState,we={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return J&&J!==H.pipes?this:(J||(J=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,J&&J.emit("unpipe",this,we),this);if(!J){var be=H.pipes,Ve=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var qe=0;qe<Ve;qe++)be[qe].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=Pe(H.pipes,J);return Se===-1?this:(H.pipes.splice(Se,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),J.emit("unpipe",this,we),this)},z.prototype.on=function(J,H){var we=r.prototype.on.call(this,J,H),be=this._readableState;return J==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):J==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,c("on readable",be.length,be.reading),be.length?se(this):be.reading||process.nextTick(xe,this)),we},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(J,H){var we=r.prototype.removeListener.call(this,J,H);return J==="readable"&&process.nextTick(ie,this),we},z.prototype.removeAllListeners=function(J){var H=r.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&process.nextTick(ie,this),H};function ie(J){var H=J._readableState;H.readableListening=J.listenerCount("readable")>0,H.resumeScheduled&&!H.paused?H.flowing=!0:J.listenerCount("data")>0&&J.resume()}function xe(J){c("readable nexttick read 0"),J.read(0)}z.prototype.resume=function(){var J=this._readableState;return J.flowing||(c("resume"),J.flowing=!J.readableListening,Ne(this,J)),J.paused=!1,this};function Ne(J,H){H.resumeScheduled||(H.resumeScheduled=!0,process.nextTick(Le,J,H))}function Le(J,H){c("resume",H.reading),H.reading||J.read(0),H.resumeScheduled=!1,J.emit("resume"),ce(J),H.flowing&&!H.reading&&J.read(0)}z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ce(J){var H=J._readableState;for(c("flow",H.flowing);H.flowing&&J.read()!==null;);}z.prototype.wrap=function(J){var H=this,we=this._readableState,be=!1;J.on("end",function(){if(c("wrapped end"),we.decoder&&!we.ended){var Se=we.decoder.end();Se&&Se.length&&H.push(Se)}H.push(null)}),J.on("data",function(Se){if(c("wrapped data"),we.decoder&&(Se=we.decoder.write(Se)),!(we.objectMode&&Se==null)&&!(!we.objectMode&&(!Se||!Se.length))){var ot=H.push(Se);ot||(be=!0,J.pause())}});for(var Ve in J)this[Ve]===void 0&&typeof J[Ve]=="function"&&(this[Ve]=function(ot){return function(){return J[ot].apply(J,arguments)}}(Ve));for(var qe=0;qe<k.length;qe++)J.on(k[qe],this.emit.bind(this,k[qe]));return this._read=function(Se){c("wrapped _read",Se),be&&(be=!1,J.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=uEe()),C(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),z._fromList=oe,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function oe(J,H){if(H.length===0)return null;var we;return H.objectMode?we=H.buffer.shift():!J||J>=H.length?(H.decoder?we=H.buffer.join(""):H.buffer.length===1?we=H.buffer.first():we=H.buffer.concat(H.length),H.buffer.clear()):we=H.buffer.consume(J,H.decoder),we}function ge(J){var H=J._readableState;c("endReadable",H.endEmitted),H.endEmitted||(H.ended=!0,process.nextTick(he,H,J))}function he(J,H){if(c("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,H.readable=!1,H.emit("end"),J.autoDestroy)){var we=H._writableState;(!we||we.autoDestroy&&we.finished)&&H.destroy()}}typeof Symbol=="function"&&(z.from=function(J,H){return A===void 0&&(A=dEe()),A(z,J,H)});function Pe(J,H){for(var we=0,be=J.length;we<be;we++)if(J[we]===H)return we;return-1}return bN}var wN,O3;function sQ(){if(O3)return wN;O3=1,wN=l;var e=Bp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=Gh();Ay()(l,s);function o(f,p){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),v(f);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function c(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){u(f,p,g)}):u(this,null,null)}l.prototype.push=function(f,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,p)},l.prototype._transform=function(f,p,g){g(new t("_transform()"))},l.prototype._write=function(f,p,g){var v=this._transformState;if(v.writecb=g,v.writechunk=f,v.writeencoding=p,!v.transforming){var w=this._readableState;(v.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},l.prototype._read=function(f){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},l.prototype._destroy=function(f,p){s.prototype._destroy.call(this,f,function(g){p(g)})};function u(f,p,g){if(p)return f.emit("error",p);if(g!=null&&f.push(g),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return wN}var _N,R3;function fEe(){if(R3)return _N;R3=1,_N=t;var e=sQ();Ay()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},_N}var jN,M3;function hEe(){if(M3)return jN;M3=1;var e;function t(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var r=Bp().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,v,w,y){y=t(y);var _=!1;g.on("close",function(){_=!0}),e===void 0&&(e=mM()),e(g,{readable:v,writable:w},function(N){if(N)return y(N);_=!0,y()});var S=!1;return function(N){if(!_&&!S){if(S=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();y(N||new i("pipe"))}}}function c(g){g()}function u(g,v){return g.pipe(v)}function f(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function p(){for(var g=arguments.length,v=new Array(g),w=0;w<g;w++)v[w]=arguments[w];var y=f(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new n("streams");var _,S=v.map(function(N,C){var A=C<v.length-1,P=C>0;return l(N,A,P,function(k){_||(_=k),k&&S.forEach(c),!A&&(S.forEach(c),y(_))})});return v.reduce(u)}return jN=p,jN}var I3;function pEe(){return I3||(I3=1,function(e,t){t=e.exports=iQ(),t.Stream=t,t.Readable=t,t.Writable=nQ(),t.Duplex=Gh(),t.Transform=sQ(),t.PassThrough=fEe(),t.finished=mM(),t.pipeline=hEe()}(O0,O0.exports)),O0.exports}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var SN,L3;function mEe(){if(L3)return SN;L3=1;let e;return SN=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Es):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),SN}var NN,D3;function gEe(){if(D3)return NN;D3=1;function e(r,n){for(const i in n)Object.defineProperty(r,i,{value:n[i],enumerable:!0,configurable:!0});return r}function t(r,n,i){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof n=="object"&&(i=n,n=""),n&&(i.code=n);try{return e(r,i)}catch{i.message=r.message,i.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),e(new o,i)}}return NN=t,NN}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var CN,$3;function vEe(){if($3)return CN;$3=1;const e=tEe()("simple-peer"),t=rEe(),r=sEe(),n=pEe(),i=mEe(),s=gEe(),{Buffer:o}=Ty(),l=64*1024,c=5*1e3,u=5*1e3;function f(v){return v.replace(/a=ice-options:trickle\s\n/g,"")}function p(v){console.warn(v)}class g extends n.Duplex{constructor(w){if(w=Object.assign({allowHalfOpen:!1},w),super(w),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",w),this.channelName=w.initiator?w.channelName||r(20).toString("hex"):null,this.initiator=w.initiator||!1,this.channelConfig=w.channelConfig||g.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},g.config,w.config),this.offerOptions=w.offerOptions||{},this.answerOptions=w.answerOptions||{},this.sdpTransform=w.sdpTransform||(y=>y),this.streams=w.streams||(w.stream?[w.stream]:[]),this.trickle=w.trickle!==void 0?w.trickle:!0,this.allowHalfTrickle=w.allowHalfTrickle!==void 0?w.allowHalfTrickle:!1,this.iceCompleteTimeout=w.iceCompleteTimeout||c,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=w.wrtc&&typeof w.wrtc=="object"?w.wrtc:t(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(y){this.destroy(s(y,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=y=>{this._onIceCandidate(y)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(y=>{this.destroy(s(y,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=y=>{this._setupData(y)},this.streams&&this.streams.forEach(y=>{this.addStream(y)}),this._pc.ontrack=y=>{this._onTrack(y)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof w=="string")try{w=JSON.parse(w)}catch{w={}}this._debug("signal()"),w.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),w.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(w.transceiverRequest.kind,w.transceiverRequest.init)),w.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(w.candidate):this._pendingCandidates.push(w.candidate)),w.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(w)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(y=>{this._addIceCandidate(y)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(y=>{this.destroy(s(y,"ERR_SET_REMOTE_DESCRIPTION"))}),!w.sdp&&!w.candidate&&!w.renegotiate&&!w.transceiverRequest&&this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(w){const y=new this._wrtc.RTCIceCandidate(w);this._pc.addIceCandidate(y).catch(_=>{!y.address||y.address.endsWith(".local")?p("Ignoring unsupported ICE candidate."):this.destroy(s(_,"ERR_ADD_ICE_CANDIDATE"))})}send(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(w)}}addTransceiver(w,y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(w,y),this._needsNegotiation()}catch(_){this.destroy(s(_,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:w,init:y}})}}addStream(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),w.getTracks().forEach(y=>{this.addTrack(y,w)})}}addTrack(w,y){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const _=this._senderMap.get(w)||new Map;let S=_.get(y);if(!S)S=this._pc.addTrack(w,y),_.set(y,S),this._senderMap.set(w,_),this._needsNegotiation();else throw S.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(w,y,_){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const S=this._senderMap.get(w),N=S?S.get(_):null;if(!N)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");y&&this._senderMap.set(y,S),N.replaceTrack!=null?N.replaceTrack(y):this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(w,y){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const _=this._senderMap.get(w),S=_?_.get(y):null;if(!S)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{S.removed=!0,this._pc.removeTrack(S)}catch(N){N.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(S):this.destroy(s(N,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),w.getTracks().forEach(y=>{this.removeTrack(y,w)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(w){this._destroy(w,()=>{})}_destroy(w,y){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",w&&(w.message||w)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",w&&(w.message||w)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,w&&this.emit("error",w),this.emit("close"),y()}))}_setupData(w){if(!w.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=w.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=l),this.channelName=this._channel.label,this._channel.onmessage=_=>{this._onChannelMessage(_)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=_=>{const S=_.error instanceof Error?_.error:new Error(`Datachannel error: ${_.message} ${_.filename}:${_.lineno}:${_.colno}`);this.destroy(s(S,"ERR_DATA_CHANNEL"))};let y=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(y&&this._onChannelClose(),y=!0):y=!1},u)}_read(){}_write(w,y,_){if(this.destroyed)return _(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(w)}catch(S){return this.destroy(s(S,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>l?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=_):_(null)}else this._debug("write before connect"),this._chunk=w,this._cb=_}_onFinish(){if(this.destroyed)return;const w=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?w():this.once("connect",w)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(w=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(w.sdp=f(w.sdp)),w.sdp=this.sdpTransform(w.sdp);const y=()=>{if(this.destroyed)return;const N=this._pc.localDescription||w;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp})},_=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(w).then(_).catch(S)}).catch(w=>{this.destroy(s(w,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(w=>{!w.mid&&w.sender.track&&!w.requested&&(w.requested=!0,this.addTransceiver(w.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(w=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(w.sdp=f(w.sdp)),w.sdp=this.sdpTransform(w.sdp);const y=()=>{if(this.destroyed)return;const N=this._pc.localDescription||w;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp}),this.initiator||this._requestMissingTransceivers()},_=()=>{this.destroyed||(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(w).then(_).catch(S)}).catch(w=>{this.destroy(s(w,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const w=this._pc.iceConnectionState,y=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",w,y),this.emit("iceStateChange",w,y),(w==="connected"||w==="completed")&&(this._pcReady=!0,this._maybeReady()),w==="failed"&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),w==="closed"&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(w){const y=_=>(Object.prototype.toString.call(_.values)==="[object Array]"&&_.values.forEach(S=>{Object.assign(_,S)}),_);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(_=>{const S=[];_.forEach(N=>{S.push(y(N))}),w(null,S)},_=>w(_)):this._pc.getStats.length>0?this._pc.getStats(_=>{if(this.destroyed)return;const S=[];_.result().forEach(N=>{const C={};N.names().forEach(A=>{C[A]=N.stat(A)}),C.id=N.id,C.type=N.type,C.timestamp=N.timestamp,S.push(y(C))}),w(null,S)},_=>w(_)):w(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const w=()=>{this.destroyed||this.getStats((y,_)=>{if(this.destroyed)return;y&&(_=[]);const S={},N={},C={};let A=!1;_.forEach(k=>{(k.type==="remotecandidate"||k.type==="remote-candidate")&&(S[k.id]=k),(k.type==="localcandidate"||k.type==="local-candidate")&&(N[k.id]=k),(k.type==="candidatepair"||k.type==="candidate-pair")&&(C[k.id]=k)});const P=k=>{A=!0;let O=N[k.localCandidateId];O&&(O.ip||O.address)?(this.localAddress=O.ip||O.address,this.localPort=Number(O.port)):O&&O.ipAddress?(this.localAddress=O.ipAddress,this.localPort=Number(O.portNumber)):typeof k.googLocalAddress=="string"&&(O=k.googLocalAddress.split(":"),this.localAddress=O[0],this.localPort=Number(O[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let I=S[k.remoteCandidateId];I&&(I.ip||I.address)?(this.remoteAddress=I.ip||I.address,this.remotePort=Number(I.port)):I&&I.ipAddress?(this.remoteAddress=I.ipAddress,this.remotePort=Number(I.portNumber)):typeof k.googRemoteAddress=="string"&&(I=k.googRemoteAddress.split(":"),this.remoteAddress=I[0],this.remotePort=Number(I[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(_.forEach(k=>{k.type==="transport"&&k.selectedCandidatePairId&&P(C[k.selectedCandidatePairId]),(k.type==="googCandidatePair"&&k.googActiveConnection==="true"||(k.type==="candidatepair"||k.type==="candidate-pair")&&k.selected)&&P(k)}),!A&&(!Object.keys(C).length||Object.keys(N).length)){setTimeout(w,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(O){return this.destroy(s(O,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const k=this._cb;this._cb=null,k(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};w()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>l||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(w=>{this._pc.removeTrack(w),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(w){this.destroyed||(w.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:w.candidate.candidate,sdpMLineIndex:w.candidate.sdpMLineIndex,sdpMid:w.candidate.sdpMid}}):!w.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),w.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(w){if(this.destroyed)return;let y=w.data;y instanceof ArrayBuffer&&(y=o.from(y)),this.push(y)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const w=this._cb;this._cb=null,w(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(w){this.destroyed||w.streams.forEach(y=>{this._debug("on track"),this.emit("track",w.track,y),this._remoteTracks.push({track:w.track,stream:y}),!this._remoteStreams.some(_=>_.id===y.id)&&(this._remoteStreams.push(y),i(()=>{this._debug("on stream"),this.emit("stream",y)}))})}_debug(){const w=[].slice.call(arguments);w[0]="["+this._id+"] "+w[0],e.apply(null,w)}}return g.WEBRTC_SUPPORT=!!t(),g.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},g.channelConfig={},CN=g,CN}var yEe=vEe();const F3=fr(yEe);var xEe={};class bEe{constructor(){this.socket=null,this.peer=null,this.localStream=null,this.remoteStream=null,this.callState="idle",this.callDuration=0,this.callTimer=null,this.callStartTime=null,this.onCallStateChange=null,this.onRemoteStream=null,this.onCallDuration=null,this.onError=null,this.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],audio:!0,video:!1}}async initialize(t,r){try{return this.socket=cb(xEe.REACT_APP_SIGNALING_SERVER||"http://localhost:3001",{query:{userId:t,roomId:r}}),this.setupSocketListeners(),await this.requestAudioPermission(),!0}catch(n){return console.error("Erreur initialisation AudioCall:",n),this.handleError(n),!1}}async requestAudioPermission(){try{return this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100},video:!1}),console.log("Accès microphone accordé"),!0}catch(t){throw console.error("Erreur accès microphone:",t),new Error("Accès au microphone refusé. Veuillez autoriser l'accès audio.")}}setupSocketListeners(){this.socket&&(this.socket.on("incoming-call",t=>{console.log("Appel entrant de:",t.callerId),this.callState="incoming",this.triggerCallStateChange()}),this.socket.on("call-answered",t=>{console.log("Appel répondu par:",t.answererId),this.handleCallAnswered(t)}),this.socket.on("call-rejected",t=>{console.log("Appel refusé par:",t.rejecterId),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}),this.socket.on("call-ended",t=>{console.log("Appel terminé par:",t.enderId),this.endCall()}),this.socket.on("webrtc-signal",t=>{this.peer&&this.peer.signal(t.signal)}),this.socket.on("connect",()=>{console.log("Connecté au serveur de signalisation")}),this.socket.on("disconnect",()=>{console.log("Déconnecté du serveur de signalisation"),this.handleError(new Error("Connexion perdue au serveur"))}))}async startCall(t,r){try{if(this.callState!=="idle")throw new Error("Un appel est déjà en cours");return this.localStream||await this.requestAudioPermission(),this.callState="calling",this.triggerCallStateChange(),this.peer=new F3({initiator:!0,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("start-call",{targetUserId:t,roomId:r,callerId:this.socket.id}),!0}catch(n){return console.error("Erreur démarrage appel:",n),this.handleError(n),!1}}async answerCall(t,r){try{if(this.callState!=="incoming")throw new Error("Aucun appel entrant");return this.localStream||await this.requestAudioPermission(),this.callState="connected",this.triggerCallStateChange(),this.peer=new F3({initiator:!1,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("answer-call",{callerId:t,roomId:r,answererId:this.socket.id}),this.startCallTimer(),!0}catch(n){return console.error("Erreur réponse appel:",n),this.handleError(n),!1}}rejectCall(t,r){try{this.socket.emit("reject-call",{callerId:t,roomId:r,rejecterId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(n){console.error("Erreur refus appel:",n),this.handleError(n)}}endCall(){try{this.callState==="connected"&&this.socket.emit("end-call",{enderId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(t){console.error("Erreur fin appel:",t),this.handleError(t)}}setupPeerListeners(){this.peer&&(this.peer.on("signal",t=>{this.socket.emit("webrtc-signal",{signal:t})}),this.peer.on("connect",()=>{console.log("Connexion WebRTC établie"),this.callState="connected",this.triggerCallStateChange(),this.startCallTimer()}),this.peer.on("stream",t=>{this.remoteStream=t,this.onRemoteStream&&this.onRemoteStream(t)}),this.peer.on("error",t=>{console.error("Erreur WebRTC:",t),this.handleError(t)}),this.peer.on("close",()=>{console.log("Connexion WebRTC fermée"),this.endCall()}))}startCallTimer(){this.callStartTime=Date.now(),this.callDuration=0,this.callTimer=setInterval(()=>{this.callDuration=Math.floor((Date.now()-this.callStartTime)/1e3),this.onCallDuration&&this.onCallDuration(this.callDuration)},1e3)}handleCallAnswered(t){this.peer&&this.callState==="calling"&&(this.callState="connected",this.triggerCallStateChange(),this.startCallTimer())}cleanup(){this.callTimer&&(clearInterval(this.callTimer),this.callTimer=null),this.peer&&(this.peer.destroy(),this.peer=null),this.localStream&&(this.localStream.getTracks().forEach(t=>t.stop()),this.localStream=null),this.callState="idle",this.callDuration=0,this.callStartTime=null,this.remoteStream=null}handleError(t){console.error("Erreur AudioCall:",t),this.onError&&this.onError(t)}triggerCallStateChange(){this.onCallStateChange&&this.onCallStateChange(this.callState)}formatCallDuration(t){const r=Math.floor(t/3600),n=Math.floor(t%3600/60),i=t%60;return r>0?`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getCallState(){return{state:this.callState,duration:this.callDuration,formattedDuration:this.formatCallDuration(this.callDuration),hasLocalStream:!!this.localStream,hasRemoteStream:!!this.remoteStream}}isInCall(){return["calling","incoming","connected"].includes(this.callState)}isConnected(){return this.callState==="connected"}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.cleanup()}setCallbacks(t){this.onCallStateChange=t.onCallStateChange,this.onRemoteStream=t.onRemoteStream,this.onCallDuration=t.onCallDuration,this.onError=t.onError}}const ho=new bEe,aQ=({isOpen:e=!1,onClose:t,targetUser:r=null,currentUser:n=null,roomId:i=null})=>{const[s,o]=x.useState("idle"),[l,c]=x.useState(0),[u,f]=x.useState(!1),[p,g]=x.useState(!0),[v,w]=x.useState(!1),[y,_]=x.useState(null),[S,N]=x.useState(!1),C=x.useRef(null),{toast:A}=Sn();x.useEffect(()=>{e&&n&&i&&P()},[e,n,i]),x.useEffect(()=>{e||ae()},[e]);const P=async()=>{try{if(w(!0),_(null),await ho.initialize(n.id,i))ho.setCallbacks({onCallStateChange:k,onRemoteStream:O,onCallDuration:I,onError:z}),A({title:"Service d'appel initialisé",description:"Prêt pour les appels audio",duration:3e3});else throw new Error("Échec de l'initialisation du service d'appel")}catch(ie){console.error("Erreur initialisation:",ie),_(ie.message),A({title:"Erreur d'initialisation",description:ie.message,variant:"destructive",duration:5e3})}finally{w(!1)}},k=x.useCallback(ie=>{o(ie),N(ie==="connected"),ie==="ended"&&setTimeout(()=>{t()},2e3)},[t]),O=x.useCallback(ie=>{C.current&&(C.current.srcObject=ie,C.current.play().catch(console.error))},[]),I=x.useCallback(ie=>{c(ie)},[]),z=x.useCallback(ie=>{_(ie.message),A({title:"Erreur d'appel",description:ie.message,variant:"destructive",duration:5e3})},[A]),Y=async()=>{try{if(!r||!i)throw new Error("Informations manquantes pour l'appel");await ho.startCall(r.id,i)&&A({title:"Appel en cours...",description:`Appel de ${r.name||r.email}`,duration:3e3})}catch(ie){console.error("Erreur démarrage appel:",ie),z(ie)}},Z=async()=>{try{await ho.answerCall()&&A({title:"Appel accepté",description:"Connexion en cours...",duration:3e3})}catch(ie){console.error("Erreur réponse appel:",ie),z(ie)}},V=()=>{ho.rejectCall(),A({title:"Appel refusé",description:"L'appel a été refusé",duration:3e3,variant:"destructive"})},q=()=>{ho.endCall(),A({title:"Appel terminé",description:"L'appel a été terminé",duration:3e3})},U=()=>{if(ho.localStream){const ie=ho.localStream.getAudioTracks()[0];ie&&(ie.enabled=!ie.enabled,f(!ie.enabled),A({title:u?"Micro activé":"Micro désactivé",description:u?"Votre voix est maintenant audible":"Votre voix est maintenant muette",duration:2e3}))}},re=()=>{C.current&&(C.current.muted=!C.current.muted,g(!C.current.muted),A({title:p?"Haut-parleur désactivé":"Haut-parleur activé",description:p?"Son désactivé":"Son activé",duration:2e3}))},ae=()=>{ho.disconnect(),o("idle"),c(0),N(!1),_(null)},se=()=>{ho.isInCall()&&q(),t()},X=ie=>{const xe=Math.floor(ie/60),Ne=ie%60;return`${xe.toString().padStart(2,"0")}:${Ne.toString().padStart(2,"0")}`},Q=()=>{switch(s){case"calling":return a.jsx(Yue,{className:"h-6 w-6 text-orange-500"});case"incoming":return a.jsx(Zue,{className:"h-6 w-6 text-green-500"});case"connected":return a.jsx(Da,{className:"h-6 w-6 text-green-500"});default:return a.jsx(Da,{className:"h-6 w-6 text-gray-500"})}},te=()=>{switch(s){case"calling":return"Appel en cours...";case"incoming":return"Appel entrant";case"connected":return"Appel en cours";case"ended":return"Appel terminé";default:return"Prêt pour l'appel"}},G=()=>s==="connected"?`Durée: ${X(l)}`:r?`Appel de ${r.name||r.email}`:"En attente...";return e?a.jsx(si,{children:a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white text-center relative",children:[a.jsx("button",{onClick:se,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(Ms,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:Q()}),a.jsx("h2",{className:"text-xl font-semibold mb-1",children:te()}),a.jsx("p",{className:"text-blue-100 text-sm",children:G()})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[r&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx(Yi,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name||"Utilisateur"}),r.email&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.email})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(xt,{variant:s==="connected"?"default":"secondary",children:s.toUpperCase()}),s==="connected"&&a.jsxs("div",{className:"flex items-center justify-center mt-2 text-green-600",children:[a.jsx(Wa,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"font-mono",children:X(l)})]})]}),y&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[a.jsx(Gn,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700 text-sm",children:y})]}),a.jsxs("div",{className:"space-y-3",children:[s==="idle"&&a.jsx(ue,{onClick:Y,disabled:v||!r,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"h-5 w-5 mr-2 animate-spin"}),"Initialisation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Da,{className:"h-5 w-5 mr-2"}),"Appeler"]})}),s==="incoming"&&a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(ue,{onClick:Z,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[a.jsx(Da,{className:"h-5 w-5 mr-2"}),"Répondre"]}),a.jsxs(ue,{onClick:V,variant:"destructive",className:"flex-1",size:"lg",children:[a.jsx(wS,{className:"h-5 w-5 mr-2"}),"Refuser"]})]}),s==="calling"&&a.jsxs(ue,{onClick:q,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(wS,{className:"h-5 w-5 mr-2"}),"Annuler l'appel"]}),s==="connected"&&a.jsxs(ue,{onClick:q,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(wS,{className:"h-5 w-5 mr-2"}),"Terminer l'appel"]}),s==="connected"&&a.jsxs("div",{className:"flex space-x-3 pt-3 border-t",children:[a.jsxs(ue,{onClick:U,variant:u?"destructive":"outline",className:"flex-1",children:[u?a.jsx(que,{className:"h-4 w-4 mr-2"}):a.jsx(Uue,{className:"h-4 w-4 mr-2"}),u?"Activer":"Muet"]}),a.jsxs(ue,{onClick:re,variant:p?"outline":"destructive",className:"flex-1",children:[p?a.jsx(ode,{className:"h-4 w-4 mr-2"}):a.jsx(lde,{className:"h-4 w-4 mr-2"}),p?"Désactiver":"Activer"]})]})]}),a.jsx("div",{className:"text-center text-sm text-gray-500",children:S?a.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[a.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Connecté"]}):a.jsxs("div",{className:"flex items-center justify-center text-gray-400",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2 animate-spin"}),"Connexion..."]})})]}),a.jsx("audio",{ref:C,autoPlay:!0,playsInline:!0,className:"hidden"})]})})}):null},wEe=({value:e,onChange:t,onSend:r,onAttachment:n,onEmoji:i,onVoice:s,onCamera:o,placeholder:l="Tapez votre message...",disabled:c=!1,showActions:u=!0})=>{const[f,p]=x.useState(!1),[g,v]=x.useState(!1),[w,y]=x.useState(!1),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[A,P]=x.useState(!1),k=x.useRef(null),O=()=>{e.trim()&&!c&&r(e.trim())},I=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),O())},z=re=>{const ae=Array.from(re.target.files);ae.length>0&&n(ae)},Y=re=>{const ae=new Nb([re.blob],`photo_${Date.now()}.jpg`,{type:"image/jpeg",lastModified:Date.now()});n&&n([ae])},Z=re=>{n&&n(re)},V=re=>{const ae=`📍 Localisation partagée
Lat: ${re.latitude.toFixed(6)}
Lng: ${re.longitude.toFixed(6)}${re.name?`
Lieu: ${re.name}`:""}`;n&&n([{type:"location",data:re,message:ae}])},q=re=>{const ae=`📅 Rendez-vous planifié
Titre: ${re.title}
Date: ${new Date(re.date).toLocaleDateString("fr-FR")}
Heure: ${re.time}${re.location?`
Lieu: ${re.location}`:""}${re.description?`
Description: ${re.description}`:""}`;n&&n([{type:"appointment",data:re,message:ae}])},U=[{icon:s9,label:"Photo",action:()=>y(!0)},{icon:xd,label:"Caméra",action:()=>v(!0)},{icon:Nb,label:"Document",action:()=>y(!0)},{icon:Co,label:"Localisation",action:()=>S(!0)},{icon:ql,label:"Rendez-vous",action:()=>C(!0)},{icon:Da,label:"Appel",action:()=>P(!0)},{icon:FO,label:"Vidéo",action:()=>console.log("Vidéo - Phase 3")}];return a.jsxs("div",{className:"bg-card border-t border-border p-3",children:[f&&a.jsx("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-2",children:U.map((re,ae)=>a.jsxs(ue,{variant:"ghost",size:"sm",onClick:re.action,className:"flex flex-col items-center space-y-1 p-2 h-auto",children:[a.jsx(re.icon,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:re.label})]},ae))})}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>p(!f),className:"p-2 flex-shrink-0",children:a.jsx(lu,{className:`h-4 w-4 transition-transform ${f?"rotate-45":""}`})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(tt,{ref:k,placeholder:l,value:e,onChange:t,onKeyPress:I,disabled:c,className:"pr-20 resize-none",style:{minHeight:"44px"}}),a.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-6 w-6",children:a.jsx(tde,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:a.jsx(Kue,{className:"h-4 w-4"})})]})]}),a.jsx(ue,{onClick:O,disabled:!e.trim()||c,className:"bg-primary hover:bg-primary/90 flex-shrink-0 px-4",children:a.jsx(d_,{className:"h-4 w-4"})})]}),a.jsx("input",{ref:k,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.txt",onChange:z,className:"hidden"}),e&&a.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Appuyez sur Entrée pour envoyer, Shift+Entrée pour une nouvelle ligne"}),a.jsx(XNe,{isOpen:g,onClose:()=>v(!1),onCapture:Y}),a.jsx(QNe,{isOpen:w,onClose:()=>y(!1),onFilesSelected:Z}),a.jsx(iCe,{isOpen:_,onClose:()=>S(!1),onLocationSelect:V}),a.jsx(sCe,{isOpen:N,onClose:()=>C(!1),onAppointmentCreate:q}),a.jsx(aQ,{isOpen:A,onClose:()=>P(!1),targetUser:{id:"user123",name:"Utilisateur Test",email:"test@example.com"},currentUser:{id:"currentUser",name:"Moi"},roomId:"room123"})]})},_Ee=new rV({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:1}}}),jEe=()=>{const{user:e}=HNe(),{toast:t}=Sn(),[r]=qk(),{data:n,isLoading:i,error:s,refetch:o}=KNe(),l=zo(),[c,u]=x.useState(null),[f,p]=x.useState([]),[g,v]=x.useState(""),[w,y]=x.useState("all"),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[A,P]=x.useState(""),[k,O]=x.useState(!1),[I,z]=x.useState(null),[Y,Z]=x.useState(new Set),[V,q]=x.useState(!1),[U,re]=x.useState(null),[ae,se]=x.useState(!1),[X,Q]=x.useState(null);GNe(c?.id);const te=ii({mutationFn:me=>Ti.deleteConversation(me),onSuccess:()=>{l.invalidateQueries(["conversations"]),t({title:"Conversation supprimée",description:"La conversation a été supprimée définitivement"})},onError:me=>{t({title:"Erreur",description:"Impossible de supprimer la conversation",variant:"destructive"})}});x.useEffect(()=>{if(!n||n.length===0)return;const me=r.get("conversation"),De=r.get("listing");if(me&&!c){const W=n.find(D=>D.id===me);W&&(console.log("🔍 Ouverture automatique de la conversation:",me),u(W),G(W.id))}else if(De&&!c){const W=n.find(D=>D.listing_id===De);W&&(console.log("🔍 Ouverture automatique de la conversation pour l'annonce:",De),u(W),G(W.id))}},[n,r,c]),x.useEffect(()=>{if(!e)return;const me=Ce.channel("conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations",filter:`participant1_id=eq.${e.id} OR participant2_id=eq.${e.id}`},De=>{console.log("🆕 Nouvelle conversation reçue:",De),o()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`participant1_id=eq.${e.id} OR participant2_id=eq.${e.id}`},De=>{console.log("🔄 Conversation mise à jour:",De),o()}).subscribe();return()=>{Ce.removeChannel(me)}},[e,o]),x.useEffect(()=>{if(!e)return;const me=Ce.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${e.id}`},De=>{console.log("💬 Nouveau message reçu:",De),c&&De.new.conversation_id===c.id&&p(W=>[...W,De.new]),o(),De.new.sender_id!==e.id&&t({title:"Nouveau message",description:"Vous avez reçu un nouveau message"})}).subscribe();return()=>{Ce.removeChannel(me)}},[e,c,o,t]);const G=async me=>{if(me){C(!0);try{const De=await Ti.getConversationMessages(me);p(De),await Ti.markMessagesAsRead(me),o()}catch(De){console.error("Erreur chargement messages:",De),t({title:"Erreur",description:"Impossible de charger les messages",variant:"destructive"})}finally{C(!1)}}},ie=async me=>{u(me),G(me.id),S(!1);try{await Ti.markMessagesAsRead(me.id),o()}catch(De){console.error("Erreur lors du marquage des messages comme lus:",De)}},xe=async me=>{if(!(!me.trim()||!c))try{const De=await Ti.sendMessage(c.id,me.trim());P(""),p(W=>[...W,De]),o()}catch(De){console.error("Erreur envoi message:",De),t({title:"Erreur",description:"Impossible d'envoyer le message",variant:"destructive"})}},Ne=me=>{console.log("Fichiers sélectionnés:",me)},Le=()=>{},ce=()=>{if(!c)return;const me=c.participant1_id===e?.id?c.participant2:c.participant1;if(!me){t({title:"Erreur",description:"Impossible de déterminer l'interlocuteur",variant:"destructive"});return}Q(me),se(!0)},oe=()=>{se(!1),Q(null)},Pe=[...(n?.filter(me=>w==="unread"?me.messages?.some(De=>!De.is_read&&De.sender_id!==e?.id):w==="starred"?me.starred:w==="archived"?me.is_archived:!0)||[]).filter(me=>{if(!g)return!0;const De=g.toLowerCase(),W=`${me.participant1?.first_name||""} ${me.participant1?.last_name||""}`.toLowerCase(),D=`${me.participant2?.first_name||""} ${me.participant2?.last_name||""}`.toLowerCase();return!!(W.includes(De)||D.includes(De)||me.listing?.title?.toLowerCase().includes(De)||me.messages?.some(F=>F.content?.toLowerCase().includes(De)))})].sort((me,De)=>{const W=me.messages?.[me.messages.length-1]?.created_at||me.created_at,D=De.messages?.[De.messages.length-1]?.created_at||De.created_at;return!W&&!D?0:W?D?new Date(D)-new Date(W):-1:1});console.log("🔍 Conversations triées:",Pe.map(me=>({id:me.id,title:me.listing?.title||"Sans titre",lastMessage:me.messages?.[me.messages.length-1]?.created_at||me.created_at,hasUnread:me.messages?.some(De=>!De.is_read&&De.sender_id!==e?.id)})));const J={total:n?.length||0,unread:n?.filter(me=>me.messages?.some(De=>!De.is_read&&De.sender_id!==e?.id)).length||0,starred:n?.filter(me=>me.starred).length||0,archived:n?.filter(me=>me.is_archived).length||0},H=async me=>{try{await Ti.markMessagesAsRead(me.id),o()}catch{t({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},we=async me=>{try{const De=!me.starred;await Ti.toggleConversationStar(me.id,De),o()}catch{t({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},be=async me=>{try{await Ti.archiveConversation(me.id),o()}catch{t({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},Ve=me=>{c?.id===me.id&&(u(null),p([])),te.mutate(me.id)},qe=me=>{z(me),O(!0)},Se=me=>{q(!0),Z(new Set([me]))},ot=me=>{V&&Z(De=>{const W=new Set(De);return W.has(me)?W.delete(me):W.add(me),W})},It=me=>{V&&ot(me)},fe=()=>{Z(new Set),q(!1)},_e=()=>{const me=f.map(De=>De.id);Z(new Set(me))},ke=()=>{const me=f.filter(De=>De.sender_id===e?.id).map(De=>De.id);Z(new Set(me))},Ze=async()=>{if(Y.size!==0)try{const me=Array.from(Y).map(De=>Ti.deleteMessage(De));await Promise.all(me),p(De=>De.filter(W=>!Y.has(W.id))),fe(),t({title:"Messages supprimés",description:`${Y.size} message(s) supprimé(s) avec succès`})}catch{t({title:"Erreur",description:"Impossible de supprimer certains messages",variant:"destructive"})}},Xe=()=>{Y.size};return s?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qi,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.message||"Impossible de charger les conversations"}),a.jsx(ue,{onClick:()=>o(),className:"bg-blue-600 hover:bg-blue-700",children:"Réessayer"})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(ZNe,{selectedConversation:c,onBack:()=>u(null),onMenuToggle:()=>S(!_),onSearch:()=>S(!1),onFilter:()=>S(!1),onMore:()=>console.log("Plus d'options"),onCall:ce,onVideo:()=>console.log("Video"),unreadCount:J.unread}),a.jsx("div",{className:"bg-card border-b border-border px-6 py-4 hidden md:block",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:"Centre de Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations et échangez avec d'autres utilisateurs"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(ue,{className:"bg-primary hover:bg-primary/90",children:[a.jsx(lu,{className:"h-4 w-4 mr-2"}),"Nouvelle Conversation"]})})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-120px)] md:h-[calc(100vh-140px)]",children:[a.jsxs("div",{className:`
          ${c?"hidden md:block":"block"} 
          w-full md:w-80 lg:w-96 
          bg-card border-r border-border 
          flex flex-col
        `,children:[a.jsx(YNe,{searchTerm:g,onSearchChange:v,filterType:w,onFilterChange:y,onClear:()=>v(""),totalCount:J.total,unreadCount:J.unread,starredCount:J.starred,archivedCount:J.archived}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:i?a.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((me,De)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},De))}):Pe.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Qi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Aucune conversation"}),a.jsx("p",{className:"text-muted-foreground",children:g?"Aucune conversation trouvée pour votre recherche":"Commencez une nouvelle conversation"})]}):a.jsx("div",{className:"space-y-1",children:Pe.map(me=>a.jsx(SEe,{conversation:me,isSelected:c?.id===me.id,onSelect:()=>ie(me),onMarkAsRead:()=>H(me),onToggleStar:()=>we(me),onArchive:()=>be(me),onDelete:()=>qe(me),currentUserId:e?.id},me.id))})})]}),c?a.jsxs("div",{className:"flex-1 flex flex-col bg-card",children:[a.jsx("div",{className:"border-b border-border p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(iv,{user:c.participant1_id===e?.id?c.participant2:c.participant1,size:"default"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:(()=>{const me=c.participant1_id===e?.id?c.participant2:c.participant1;return me&&`${me.first_name||""} ${me.last_name||""}`.trim()||"Utilisateur"})()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c.listing?.title||"Conversation"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:ce,children:a.jsx(Da,{className:"h-4 w-4"})}),a.jsxs(Ny,{children:[a.jsx(Cy,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(qd,{className:"h-4 w-4"})})}),a.jsxs(Op,{align:"end",className:"w-48",children:[a.jsxs(Kn,{onClick:()=>we(c),children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),c.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(Kn,{onClick:()=>be(c),children:[a.jsx(c_,{className:"h-4 w-4 mr-2"}),c.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Rp,{}),a.jsxs(Kn,{onClick:()=>qe(c),className:"text-destructive focus:text-destructive",children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Supprimer la conversation"]})]})]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[V&&a.jsx("div",{className:"sticky top-0 bg-card border border-border rounded-lg p-3 mb-4 shadow-sm z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-sm font-medium text-foreground",children:[Y.size," message(s) sélectionné(s)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:_e,className:"text-xs",children:"Tout sélectionner"}),a.jsx(ue,{variant:"outline",size:"sm",onClick:ke,className:"text-xs",children:"Mes messages"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:fe,className:"text-xs",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",size:"sm",onClick:Xe,className:"text-xs",disabled:Y.size===0,children:["Supprimer (",Y.size,")"]})]})]})}),!V&&f.length>0&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground mb-4 p-2 bg-muted/30 rounded-lg",children:["💡 ",a.jsx("strong",{children:"Appui long"})," sur un message pour activer la sélection multiple"]}),N?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):f.length===0?a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucun message dans cette conversation"})}):f.map(me=>a.jsx(NEe,{message:me,isOwn:me.sender_id===e?.id,participant1:c.participant1,participant2:c.participant2,currentUserId:e?.id,onLongPress:()=>Se(me.id),onPress:()=>It(me.id),isSelected:Y.has(me.id),isSelectionMode:V},me.id))]}),a.jsx(wEe,{value:A,onChange:me=>P(me.target.value),onSend:xe,onAttachment:Ne,onEmoji:Le,onVoice:()=>console.log("Voice message"),onCamera:()=>console.log("Camera"),placeholder:"Tapez votre message...",disabled:N})]}):a.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qi,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-card-foreground mb-2",children:"Sélectionnez une conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choisissez une conversation dans la liste pour commencer à échanger"})]})})]}),k&&I&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Êtes-vous sûr de vouloir supprimer définitivement cette conversation ? Cette action ne peut pas être annulée."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Annuler"}),a.jsx(ue,{variant:"destructive",onClick:()=>{Ve(I),O(!1),z(null)},className:"flex-1",disabled:te.isLoading,children:te.isLoading?"Suppression...":"Supprimer"})]})]})}),V&&Y.size>0&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Êtes-vous sûr de vouloir supprimer définitivement ",Y.size," message(s) ? Cette action ne peut pas être annulée."]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:fe,className:"flex-1",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",onClick:Ze,className:"flex-1",children:["Supprimer (",Y.size,")"]})]})]})}),ae&&X&&a.jsx(aQ,{isOpen:ae,onClose:oe,targetUser:X,currentUser:e,roomId:`call-${e?.id}-${X.id}`})]})},SEe=({conversation:e,isSelected:t,onSelect:r,onMarkAsRead:n,onToggleStar:i,onArchive:s,onDelete:o,currentUserId:l})=>{const c=e.messages?.[e.messages.length-1],u=e.messages?.some(g=>!g.is_read&&g.sender_id!==l),f=e.participant1_id===l?e.participant2:e.participant1,p=g=>{if(!g)return"À l'instant";try{const v=new Date(g),w=new Date,y=Math.floor((w-v)/(1e3*60*60)),_=Math.floor((w-v)/(1e3*60*60*24));return y<1?"À l'instant":y<24?`Il y a ${y}h`:_<7?`Il y a ${_}j`:v.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}};return a.jsx("div",{className:`
        group p-4 cursor-pointer transition-colors hover:bg-accent
        ${t?"bg-primary/10 border-r-2 border-primary":""}
        ${u?"bg-primary/10":""}
      `,onClick:r,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(iv,{user:f,size:"default",className:"flex-shrink-0"}),u&&a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:f&&`${f.first_name||""} ${f.last_name||""}`.trim()||"Utilisateur"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e.starred&&a.jsx(Ha,{className:"h-3 w-3 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c?.created_at?p(c.created_at):"À l'instant"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate mb-1",children:c?.content||"Aucun message"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:e.listing?.title||"Conversation"}),a.jsx("div",{className:"flex items-center space-x-1",children:u&&a.jsx(xt,{variant:"destructive",className:"h-5 px-2 text-xs",children:"Nouveau"})})]})]}),a.jsx("div",{className:"flex-shrink-0",onClick:g=>g.stopPropagation(),children:a.jsxs(Ny,{children:[a.jsx(Cy,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(qd,{className:"h-4 w-4"})})}),a.jsxs(Op,{align:"end",className:"w-48",children:[a.jsxs(Kn,{onClick:()=>n?.(e),children:[a.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Marquer comme lu"]}),a.jsxs(Kn,{onClick:()=>i?.(e),children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),e.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(Kn,{onClick:()=>s?.(e),children:[a.jsx(c_,{className:"h-4 w-4 mr-2"}),e.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Rp,{}),a.jsxs(Kn,{onClick:()=>o?.(e),className:"text-destructive focus:text-destructive",children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]})})},NEe=({message:e,isOwn:t,participant1:r,participant2:n,currentUserId:i,onLongPress:s,onPress:o,isSelected:l=!1,isSelectionMode:c=!1})=>{const[u,f]=x.useState(null),p=_=>{if(!_)return"À l'instant";try{return new Date(_).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch{return"À l'instant"}},g=e.sender_id===r?.id?r:n,v=()=>{if(s){const _=setTimeout(()=>{s()},500);f(_)}},w=()=>{u&&(clearTimeout(u),f(null))},y=()=>{o&&o()};return a.jsxs("div",{className:`flex ${t?"justify-end":"justify-start"} space-x-2`,onTouchStart:v,onTouchEnd:w,onClick:y,children:[!t&&a.jsx(iv,{user:g,size:"sm",className:"flex-shrink-0 mt-1"}),a.jsxs("div",{className:`
        relative max-w-xs lg:max-w-md px-4 py-2 rounded-lg cursor-pointer
        transition-all duration-200
        ${t?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}
        ${l?"ring-2 ring-primary ring-offset-2":""}
        ${c?"hover:ring-2 hover:ring-primary/50":""}
      `,children:[l&&a.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-foreground text-xs",children:"✓"})}),a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!t&&a.jsx("span",{className:"text-xs font-medium",children:g&&`${g.first_name||""} ${g.last_name||""}`.trim()||"Utilisateur"}),a.jsx("span",{className:"text-xs opacity-75",children:p(e.created_at)})]}),a.jsx("p",{className:"text-sm",children:e.content})]}),t&&a.jsx(iv,{user:{first_name:"Moi",last_name:""},size:"sm",className:"flex-shrink-0 mt-1"})]})},CEe=()=>a.jsx(sV,{client:_Ee,children:a.jsx(jEe,{})}),Y_=(e=null,t={})=>{const r=zo(),{user:n}=Zr(),[i,s]=x.useState(new Set);x.useEffect(()=>{n&&o()},[n]);const o=async()=>{try{const A=await Nl.getUserFavoritesWithStatus();s(A)}catch(A){console.error("Erreur lors du chargement des favoris:",A)}},{data:l,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:f,isLoading:p,error:g,refetch:v}=zne({queryKey:["listings",e,t],queryFn:({pageParam:A=0})=>{const P={status:"approved",category:e,search:t.search,minPrice:t.minPrice,maxPrice:t.maxPrice,location:t.location,page:A,limit:12,...t};return Vr.getAllListings(P)},getNextPageParam:(A,P)=>A.hasMore?P.length:void 0,staleTime:m$.listings.staleTime,gcTime:m$.listings.gcTime,keepPreviousData:!0}),w=ii({mutationFn:A=>{if(!n)throw new Error("Vous devez être connecté pour créer une annonce");return Vr.createListing({...A,user_id:n.id,status:"pending"})},onSuccess:()=>{r.invalidateQueries(["listings"])}}),y=ii({mutationFn:({id:A,updates:P})=>Vr.updateListing(A,P),onSuccess:(A,P)=>{r.setQueryData(["listings"],k=>k&&{...k,pages:k.pages.map(O=>({...O,data:O.data.map(I=>I.id===P.id?{...I,...P.updates}:I)}))})}}),_=ii({mutationFn:A=>Vr.deleteListing(A),onSuccess:(A,P)=>{r.setQueryData(["listings"],k=>k&&{...k,pages:k.pages.map(O=>({...O,data:O.data.filter(I=>I.id!==P)}))})}}),S=ii({mutationFn:async A=>{if(!n)throw new Error("Vous devez être connecté pour ajouter aux favoris");const P=await Nl.toggleFavorite(A);return s(k=>{const O=new Set(k);return P.is_favorite?O.add(A):O.delete(A),O}),P},onSuccess:(A,P)=>{r.setQueryData(["listings"],k=>k&&{...k,pages:k.pages.map(O=>({...O,data:O.data.map(I=>I.id===P?{...I,is_favorite:A.is_favorite}:I)}))}),r.invalidateQueries(["favorites"]),r.invalidateQueries(["userStats"])},onError:(A,P)=>{s(k=>{const O=new Set(k);return i.has(P)?O.delete(P):O.add(P),O}),console.error("Erreur lors du basculement des favoris:",A)}}),N=A=>i.has(A);return{listings:(l?.pages.flatMap(P=>P.data)||[]).map(P=>({...P,is_favorite:i.has(P.id)})),loading:p,error:g,hasMore:u,isFetchingMore:f,loadMore:c,refresh:v,createListing:w.mutate,updateListing:y.mutate,deleteListing:_.mutate,toggleFavorite:S.mutate,isCreating:w.isLoading,isUpdating:y.isLoading,isDeleting:_.isLoading,isTogglingFavorite:S.isLoading,isFavorite:N,favoriteIds:i,loadUserFavorites:o}},EEe=()=>{const{user:e}=Zr(),t=zo(),[r,n]=x.useState(new Set),{data:i,isLoading:s,error:o,refetch:l}=ri({queryKey:["favorites",e?.id],queryFn:()=>Nl.getUserFavorites(),enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:c,isLoading:u,error:f}=ri({queryKey:["favoriteIds",e?.id],queryFn:()=>Nl.getUserFavoritesWithStatus(),enabled:!!e,staleTime:2*60*1e3,gcTime:5*60*1e3});x.useEffect(()=>{c&&n(c)},[c]);const p=ii({mutationFn:async S=>{if(!e)throw new Error("Vous devez être connecté pour ajouter aux favoris");return{...await Nl.toggleFavorite(S),listingId:S}},onMutate:async S=>{await t.cancelQueries(["favorites",e?.id]),await t.cancelQueries(["favoriteIds",e?.id]);const N=t.getQueryData(["favorites",e?.id]),C=t.getQueryData(["favoriteIds",e?.id]),A=new Set(r);return A.has(S)?A.delete(S):A.add(S),n(A),t.setQueryData(["favoriteIds",e?.id],A),{previousFavorites:N,previousIds:C,listingId:S}},onSuccess:(S,N)=>{t.invalidateQueries(["favorites",e?.id]),t.invalidateQueries(["favoriteIds",e?.id]),t.invalidateQueries(["listings"]),t.invalidateQueries(["userStats"])},onError:(S,N,C)=>{C?.previousIds&&(n(C.previousIds),t.setQueryData(["favoriteIds",e?.id],C.previousIds)),console.error("Erreur lors du basculement des favoris:",S)}}),g=S=>r.has(S),v=S=>{p.mutate(S)},w=S=>{g(S)||v(S)},y=S=>{g(S)&&v(S)},_=()=>{l()};return{favorites:i||[],favoriteIds:r,isLoading:s||u,error:o||f,isToggling:p.isLoading,isFavorite:g,toggleFavorite:v,addToFavorites:w,removeFromFavorites:y,refreshFavorites:_,totalFavorites:i?.length||0,toggleFavoriteMutation:p}};var PEe=e=>{switch(e){case"success":return kEe;case"info":return REe;case"warning":return OEe;case"error":return MEe;default:return null}},TEe=Array(12).fill(0),AEe=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},TEe.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),kEe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OEe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),REe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MEe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IEe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LEe=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},xA=1,DEe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xA++,s=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],K.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(FEe(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||xA++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gi=new DEe,$Ee=(e,t)=>{let r=t?.id||xA++;return Gi.addToast({title:e,...t,id:r}),r},FEe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",BEe=$Ee,zEe=()=>Gi.toasts,qEe=()=>Gi.getActiveToasts(),EN=Object.assign(BEe,{success:Gi.success,info:Gi.info,warning:Gi.warning,error:Gi.error,custom:Gi.custom,message:Gi.message,promise:Gi.promise,dismiss:Gi.dismiss,loading:Gi.loading},{getHistory:zEe,getToasts:qEe});function UEe(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}UEe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function M0(e){return e.label!==void 0}var VEe=3,WEe="32px",HEe="16px",B3=4e3,KEe=356,GEe=14,ZEe=20,YEe=200;function Sa(...e){return e.filter(Boolean).join(" ")}function XEe(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var QEe=e=>{var t,r,n,i,s,o,l,c,u,f,p;let{invert:g,toast:v,unstyled:w,interacting:y,setHeights:_,visibleToasts:S,heights:N,index:C,toasts:A,expanded:P,removeToast:k,defaultRichColors:O,closeButton:I,style:z,cancelButtonStyle:Y,actionButtonStyle:Z,className:V="",descriptionClassName:q="",duration:U,position:re,gap:ae,loadingIcon:se,expandByDefault:X,classNames:Q,icons:te,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:ie}=e,[xe,Ne]=K.useState(null),[Le,ce]=K.useState(null),[oe,ge]=K.useState(!1),[he,Pe]=K.useState(!1),[J,H]=K.useState(!1),[we,be]=K.useState(!1),[Ve,qe]=K.useState(!1),[Se,ot]=K.useState(0),[It,fe]=K.useState(0),_e=K.useRef(v.duration||U||B3),ke=K.useRef(null),Ze=K.useRef(null),Xe=C===0,me=C+1<=S,De=v.type,W=v.dismissible!==!1,D=v.className||"",F=v.descriptionClassName||"",le=K.useMemo(()=>N.findIndex(Nt=>Nt.toastId===v.id)||0,[N,v.id]),ye=K.useMemo(()=>{var Nt;return(Nt=v.closeButton)!=null?Nt:I},[v.closeButton,I]),Oe=K.useMemo(()=>v.duration||U||B3,[v.duration,U]),$e=K.useRef(0),vt=K.useRef(0),ar=K.useRef(0),Bt=K.useRef(null),[Yt,Ut]=re.split("-"),Gl=K.useMemo(()=>N.reduce((Nt,tr,yr)=>yr>=le?Nt:Nt+tr.height,0),[N,le]),Vo=LEe(),fa=v.invert||g,is=De==="loading";vt.current=K.useMemo(()=>le*ae+Gl,[le,Gl]),K.useEffect(()=>{_e.current=Oe},[Oe]),K.useEffect(()=>{ge(!0)},[]),K.useEffect(()=>{let Nt=Ze.current;if(Nt){let tr=Nt.getBoundingClientRect().height;return fe(tr),_(yr=>[{toastId:v.id,height:tr,position:v.position},...yr]),()=>_(yr=>yr.filter(Xn=>Xn.toastId!==v.id))}},[_,v.id]),K.useLayoutEffect(()=>{if(!oe)return;let Nt=Ze.current,tr=Nt.style.height;Nt.style.height="auto";let yr=Nt.getBoundingClientRect().height;Nt.style.height=tr,fe(yr),_(Xn=>Xn.find(Fn=>Fn.toastId===v.id)?Xn.map(Fn=>Fn.toastId===v.id?{...Fn,height:yr}:Fn):[{toastId:v.id,height:yr,position:v.position},...Xn])},[oe,v.title,v.description,_,v.id]);let ss=K.useCallback(()=>{Pe(!0),ot(vt.current),_(Nt=>Nt.filter(tr=>tr.toastId!==v.id)),setTimeout(()=>{k(v)},YEe)},[v,k,_,vt]);K.useEffect(()=>{if(v.promise&&De==="loading"||v.duration===1/0||v.type==="loading")return;let Nt;return P||y||ie&&Vo?(()=>{if(ar.current<$e.current){let tr=new Date().getTime()-$e.current;_e.current=_e.current-tr}ar.current=new Date().getTime()})():_e.current!==1/0&&($e.current=new Date().getTime(),Nt=setTimeout(()=>{var tr;(tr=v.onAutoClose)==null||tr.call(v,v),ss()},_e.current)),()=>clearTimeout(Nt)},[P,y,v,De,ie,Vo,ss]),K.useEffect(()=>{v.delete&&ss()},[ss,v.delete]);function rf(){var Nt,tr,yr;return te!=null&&te.loading?K.createElement("div",{className:Sa(Q?.loader,(Nt=v?.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":De==="loading"},te.loading):se?K.createElement("div",{className:Sa(Q?.loader,(tr=v?.classNames)==null?void 0:tr.loader,"sonner-loader"),"data-visible":De==="loading"},se):K.createElement(AEe,{className:Sa(Q?.loader,(yr=v?.classNames)==null?void 0:yr.loader),visible:De==="loading"})}return K.createElement("li",{tabIndex:0,ref:Ze,className:Sa(V,D,Q?.toast,(t=v?.classNames)==null?void 0:t.toast,Q?.default,Q?.[De],(r=v?.classNames)==null?void 0:r[De]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:O,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":oe,"data-promise":!!v.promise,"data-swiped":Ve,"data-removed":he,"data-visible":me,"data-y-position":Yt,"data-x-position":Ut,"data-index":C,"data-front":Xe,"data-swiping":J,"data-dismissible":W,"data-type":De,"data-invert":fa,"data-swipe-out":we,"data-swipe-direction":Le,"data-expanded":!!(P||X&&oe),style:{"--index":C,"--toasts-before":C,"--z-index":A.length-C,"--offset":`${he?Se:vt.current}px`,"--initial-height":X?"auto":`${It}px`,...z,...v.style},onDragEnd:()=>{H(!1),Ne(null),Bt.current=null},onPointerDown:Nt=>{is||!W||(ke.current=new Date,ot(vt.current),Nt.target.setPointerCapture(Nt.pointerId),Nt.target.tagName!=="BUTTON"&&(H(!0),Bt.current={x:Nt.clientX,y:Nt.clientY}))},onPointerUp:()=>{var Nt,tr,yr,Xn;if(we||!W)return;Bt.current=null;let Fn=Number(((Nt=Ze.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ai=Number(((tr=Ze.current)==null?void 0:tr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),as=new Date().getTime()-((yr=ke.current)==null?void 0:yr.getTime()),Nn=xe==="x"?Fn:ai,Ds=Math.abs(Nn)/as;if(Math.abs(Nn)>=ZEe||Ds>.11){ot(vt.current),(Xn=v.onDismiss)==null||Xn.call(v,v),ce(xe==="x"?Fn>0?"right":"left":ai>0?"down":"up"),ss(),be(!0),qe(!1);return}H(!1),Ne(null)},onPointerMove:Nt=>{var tr,yr,Xn,Fn;if(!Bt.current||!W||((tr=window.getSelection())==null?void 0:tr.toString().length)>0)return;let ai=Nt.clientY-Bt.current.y,as=Nt.clientX-Bt.current.x,Nn=(yr=e.swipeDirections)!=null?yr:XEe(re);!xe&&(Math.abs(as)>1||Math.abs(ai)>1)&&Ne(Math.abs(as)>Math.abs(ai)?"x":"y");let Ds={x:0,y:0};xe==="y"?(Nn.includes("top")||Nn.includes("bottom"))&&(Nn.includes("top")&&ai<0||Nn.includes("bottom")&&ai>0)&&(Ds.y=ai):xe==="x"&&(Nn.includes("left")||Nn.includes("right"))&&(Nn.includes("left")&&as<0||Nn.includes("right")&&as>0)&&(Ds.x=as),(Math.abs(Ds.x)>0||Math.abs(Ds.y)>0)&&qe(!0),(Xn=Ze.current)==null||Xn.style.setProperty("--swipe-amount-x",`${Ds.x}px`),(Fn=Ze.current)==null||Fn.style.setProperty("--swipe-amount-y",`${Ds.y}px`)}},ye&&!v.jsx?K.createElement("button",{"aria-label":G,"data-disabled":is,"data-close-button":!0,onClick:is||!W?()=>{}:()=>{var Nt;ss(),(Nt=v.onDismiss)==null||Nt.call(v,v)},className:Sa(Q?.closeButton,(i=v?.classNames)==null?void 0:i.closeButton)},(s=te?.close)!=null?s:IEe):null,v.jsx||x.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:K.createElement(K.Fragment,null,De||v.icon||v.promise?K.createElement("div",{"data-icon":"",className:Sa(Q?.icon,(o=v?.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||rf():null,v.type!=="loading"?v.icon||te?.[De]||PEe(De):null):null,K.createElement("div",{"data-content":"",className:Sa(Q?.content,(l=v?.classNames)==null?void 0:l.content)},K.createElement("div",{"data-title":"",className:Sa(Q?.title,(c=v?.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?K.createElement("div",{"data-description":"",className:Sa(q,F,Q?.description,(u=v?.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),x.isValidElement(v.cancel)?v.cancel:v.cancel&&M0(v.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||Y,onClick:Nt=>{var tr,yr;M0(v.cancel)&&W&&((yr=(tr=v.cancel).onClick)==null||yr.call(tr,Nt),ss())},className:Sa(Q?.cancelButton,(f=v?.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,x.isValidElement(v.action)?v.action:v.action&&M0(v.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||Z,onClick:Nt=>{var tr,yr;M0(v.action)&&((yr=(tr=v.action).onClick)==null||yr.call(tr,Nt),!Nt.defaultPrevented&&ss())},className:Sa(Q?.actionButton,(p=v?.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function z3(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function JEe(e,t){let r={};return[e,t].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?HEe:WEe;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:p,duration:g,style:v,visibleToasts:w=VEe,toastOptions:y,dir:_=z3(),gap:S=GEe,loadingIcon:N,icons:C,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:P}=e,[k,O]=K.useState([]),I=K.useMemo(()=>Array.from(new Set([n].concat(k.filter(ie=>ie.position).map(ie=>ie.position)))),[k,n]),[z,Y]=K.useState([]),[Z,V]=K.useState(!1),[q,U]=K.useState(!1),[re,ae]=K.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=K.useRef(null),X=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=K.useRef(null),te=K.useRef(!1),G=K.useCallback(ie=>{O(xe=>{var Ne;return(Ne=xe.find(Le=>Le.id===ie.id))!=null&&Ne.delete||Gi.dismiss(ie.id),xe.filter(({id:Le})=>Le!==ie.id)})},[]);return K.useEffect(()=>Gi.subscribe(ie=>{if(ie.dismiss){O(xe=>xe.map(Ne=>Ne.id===ie.id?{...Ne,delete:!0}:Ne));return}setTimeout(()=>{Qw.flushSync(()=>{O(xe=>{let Ne=xe.findIndex(Le=>Le.id===ie.id);return Ne!==-1?[...xe.slice(0,Ne),{...xe[Ne],...ie},...xe.slice(Ne+1)]:[ie,...xe]})})})}),[]),K.useEffect(()=>{if(f!=="system"){ae(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:xe})=>{ae(xe?"dark":"light")})}catch{ie.addListener(({matches:Ne})=>{try{ae(Ne?"dark":"light")}catch(Le){console.error(Le)}})}},[f]),K.useEffect(()=>{k.length<=1&&V(!1)},[k]),K.useEffect(()=>{let ie=xe=>{var Ne,Le;i.every(ce=>xe[ce]||xe.code===ce)&&(V(!0),(Ne=se.current)==null||Ne.focus()),xe.code==="Escape"&&(document.activeElement===se.current||(Le=se.current)!=null&&Le.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[i]),K.useEffect(()=>{if(se.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,te.current=!1)}},[se.current]),K.createElement("section",{ref:t,"aria-label":`${A} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((ie,xe)=>{var Ne;let[Le,ce]=ie.split("-");return k.length?K.createElement("ol",{key:ie,dir:_==="auto"?z3():_,tabIndex:-1,ref:se,className:l,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Le,"data-lifted":Z&&k.length>1&&!s,"data-x-position":ce,style:{"--front-toast-height":`${((Ne=z[0])==null?void 0:Ne.height)||0}px`,"--width":`${KEe}px`,"--gap":`${S}px`,...v,...JEe(c,u)},onBlur:oe=>{te.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(te.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||te.current||(te.current=!0,Q.current=oe.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{q||V(!1)},onDragEnd:()=>V(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},k.filter(oe=>!oe.position&&xe===0||oe.position===ie).map((oe,ge)=>{var he,Pe;return K.createElement(QEe,{key:oe.id,icons:C,index:ge,toast:oe,defaultRichColors:p,duration:(he=y?.duration)!=null?he:g,className:y?.className,descriptionClassName:y?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Pe=y?.closeButton)!=null?Pe:o,interacting:q,position:ie,style:y?.style,unstyled:y?.unstyled,classNames:y?.classNames,cancelButtonStyle:y?.cancelButtonStyle,actionButtonStyle:y?.actionButtonStyle,removeToast:G,toasts:k.filter(J=>J.position==oe.position),heights:z.filter(J=>J.position==oe.position),setHeights:Y,expandByDefault:s,gap:S,loadingIcon:N,expanded:Z,pauseWhenPageIsHidden:P,swipeDirections:e.swipeDirections})})):null}))});const ePe=(e,t)=>{const[r,n]=x.useState(new Set),[i,s]=x.useState(new Map),o=x.useRef(new Map);x.useEffect(()=>()=>{o.current.forEach(f=>f.abort()),o.current.clear()},[]),x.useEffect(()=>{if(!e||e.length===0)return;[e[t],e[(t+1)%e.length],e[(t-1+e.length)%e.length],e[(t+2)%e.length],e[(t-2+e.length)%e.length]].filter(Boolean).forEach((p,g)=>{if(p&&!r.has(p)&&!i.has(p)){o.current.has(p)&&o.current.get(p).abort();const v=new AbortController;o.current.set(p,v),s(y=>new Map(y).set(p,"loading"));const w=new Image;w.onload=()=>{n(y=>new Set([...y,p])),s(y=>{const _=new Map(y);return _.set(p,"loaded"),_}),o.current.delete(p)},w.onerror=()=>{s(y=>{const _=new Map(y);return _.set(p,"error"),_}),o.current.delete(p)},w.src=p}})},[t,e]);const l=x.useCallback(f=>r.has(f),[r]),c=x.useCallback(f=>i.get(f)||"idle",[i]),u=x.useCallback(f=>{if(f&&!r.has(f)&&!i.has(f)){const p=new AbortController;o.current.set(f,p),s(v=>new Map(v).set(f,"loading"));const g=new Image;g.onload=()=>{n(v=>new Set([...v,f])),s(v=>{const w=new Map(v);return w.set(f,"loaded"),w}),o.current.delete(f)},g.onerror=()=>{s(v=>{const w=new Map(v);return w.set(f,"error"),w}),o.current.delete(f)},g.src=f}},[r,i]);return{preloadedImages:r,loadingStates:i,isImagePreloaded:l,getImageLoadingState:c,preloadImage:u}},oQ=e=>{const t=x.useMemo(()=>{if(e?.images&&e.images.length>0){const l=e.images.map(c=>typeof c=="string"?c:c?.url?c.url:c?.file?URL.createObjectURL(c.file):c?.src?c.src:c?.displayUrl?c.displayUrl:null).filter(Boolean);if(l.length>0)return l}const i={real_estate:["https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop"],automobile:["https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop"],services:["https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],marketplace:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742044-3c52d6e88c62?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop"]};let s=e?.category;s&&(s={immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[s.toLowerCase()]||s);const o=i[s]||i.marketplace;return Jme(o,"gallery","medium")},[e?.images,e?.category]),r=x.useMemo(()=>t[0],[t]),n=x.useMemo(()=>t.length>1,[t]);return{images:t,mainImage:r,hasMultipleImages:n,imageCount:t.length}},tPe=(e={})=>{const{onSwipeLeft:t,onSwipeRight:r,onSwipeUp:n,onSwipeDown:i,onPinch:s,onDoubleTap:o,minSwipeDistance:l=50,minPinchDistance:c=10,doubleTapDelay:u=300}=e,[f,p]=x.useState({startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}),g=x.useRef(null),v=x.useRef(null),w=x.useRef(0),y=x.useCallback((O,I)=>Math.hypot(O.clientX-I.clientX,O.clientY-I.clientY),[]),_=x.useCallback((O,I)=>Math.atan2(I.clientY-O.clientY,I.clientX-O.clientX)*180/Math.PI,[]),S=x.useCallback(O=>{const I=Date.now(),z=Array.from(O.touches);if(z.length===2){const Y=y(z[0],z[1]),Z=_(z[0],z[1]);p(V=>({...V,startDistance:Y,startAngle:Z,isPinching:!0,startTime:I}))}else if(z.length===1){const Y=z[0];if(I-w.current<u){p(V=>({...V,isDoubleTap:!0})),o?.(Y),setTimeout(()=>{p(V=>({...V,isDoubleTap:!1}))},100);return}w.current=I,p(V=>({...V,startX:Y.clientX,startY:Y.clientY,startTime:I,isPinching:!1}))}},[y,_,o,u]),N=x.useCallback(O=>{O.preventDefault();const I=Array.from(O.touches);if(f.isPinching&&I.length===2){const z=y(I[0],I[1]),Y=_(I[0],I[1]),Z=z-f.startDistance,V=Y-f.startAngle;if(Math.abs(Z)>c){const q=z/f.startDistance;s?.({scale:q,distanceDelta:Z,angleDelta:V,center:{x:(I[0].clientX+I[1].clientX)/2,y:(I[0].clientY+I[1].clientY)/2}})}}},[f,y,_,c,s]),C=x.useCallback(O=>{const I=Array.from(O.changedTouches);if(f.isPinching){p(z=>({...z,isPinching:!1}));return}if(I.length===1&&!f.isDoubleTap){const z=I[0],Y=z.clientX-f.startX,Z=z.clientY-f.startY,V=Date.now()-f.startTime,q=Math.hypot(Y,Z),U=q/V;q>l&&U>.3&&(Math.abs(Y)>Math.abs(Z)?Y>0?r?.({deltaX:Y,deltaY:Z,velocity:U,distance:q}):t?.({deltaX:Y,deltaY:Z,velocity:U,distance:q}):Z>0?i?.({deltaX:Y,deltaY:Z,velocity:U,distance:q}):n?.({deltaX:Y,deltaY:Z,velocity:U,distance:q}))}p(z=>({...z,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1}))},[f,l,t,r,n,i]),A=x.useCallback(()=>{p(O=>({...O,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}))},[]),P=x.useCallback(()=>{g.current&&clearTimeout(g.current),v.current&&clearTimeout(v.current)},[]);return{touchHandlers:{onTouchStart:S,onTouchMove:N,onTouchEnd:C,onTouchCancel:A},touchState:f,cleanup:P}},rPe=(e,t,r)=>{const[n,i]=x.useState(1),[s,o]=x.useState(!1),l=x.useCallback(({scale:g})=>{const v=Math.max(.5,Math.min(3,g));i(v),o(!0),r?.(v)},[r]),c=x.useCallback(()=>{n<=1&&e?.()},[e,n]),u=x.useCallback(()=>{n<=1&&t?.()},[t,n]),{touchHandlers:f}=tPe({onSwipeLeft:c,onSwipeRight:u,onPinch:l,minSwipeDistance:30}),p=x.useCallback(()=>{i(1),o(!1),r?.(1)},[r]);return{touchHandlers:f,zoomLevel:n,isZooming:s,resetZoom:p}},nPe=({listingId:e,listing:t,size:r="default",showActions:n=!0,className:i=""})=>{const{user:s}=Zr(),o=Dn(),{toast:l}=Sn(),[c,u]=x.useState(null),[f,p]=x.useState(!1),[g,v]=x.useState(!1);x.useEffect(()=>{e&&s&&w()},[e,s]);const w=async()=>{try{p(!0);const O=await jS.getBoostStatus(e);u(O)}catch(O){console.error("Erreur chargement statut boost:",O)}finally{p(!1)}},y=async()=>{if(c?.currentBoost)try{v(!0),(await jS.renewBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost renouvelé !",description:"Votre boost a été prolongé avec succès."}),w())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors du renouvellement",variant:"destructive"})}finally{v(!1)}},_=async()=>{if(c?.currentBoost&&confirm("Êtes-vous sûr de vouloir annuler ce boost ?"))try{v(!0),(await jS.cancelBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost annulé",description:"Votre boost a été annulé avec succès."}),w())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors de l'annulation",variant:"destructive"})}finally{v(!1)}},S=()=>{if(!c?.hasActiveBoost)return{icon:a.jsx(f9,{className:"h-4 w-4"}),label:"Non boosté",color:"secondary",description:"Aucun boost actif"};const O=c.currentBoost,I=new Date,z=new Date(O.end_date),Y=Math.ceil((z-I)/(1e3*60*60*24));return Y<=0?{icon:a.jsx(Wa,{className:"h-4 w-4"}),label:"Expiré",color:"secondary",description:"Boost expiré"}:Y<=3?{icon:a.jsx(Wa,{className:"h-4 w-4"}),label:`${Y}j restant${Y>1?"s":""}`,color:"destructive",description:"Boost expire bientôt"}:Y<=7?{icon:a.jsx(wo,{className:"h-4 w-4"}),label:`${Y}j restant${Y>1?"s":""}`,color:"default",description:"Boost actif"}:{icon:a.jsx(Rs,{className:"h-4 w-4"}),label:`${Y}j restant${Y>1?"s":""}`,color:"default",description:"Boost actif"}},N=O=>{switch(O){case"small":return"text-xs px-2 py-1";case"large":return"text-sm px-3 py-1.5";default:return"text-xs px-2.5 py-1"}},C=O=>{switch(O){case"small":return"h-3 w-3";case"large":return"h-5 w-5";default:return"h-4 w-4"}},A=S(),P=N(r),k=C(r);return!s||!t||s.id!==t.user_id?null:a.jsx(hh,{children:a.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(xt,{variant:A.color,className:`${P} cursor-help transition-all duration-200 hover:scale-105`,children:a.jsxs("div",{className:"flex items-center gap-1",children:[A.icon,a.jsx("span",{className:"hidden sm:inline",children:A.label})]})})}),a.jsxs(Ia,{children:[a.jsx("p",{children:A.description}),c?.hasActiveBoost&&c.currentBoost&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Package: ",c.currentBoost.boost_packages?.name]})]})]}),n&&c?.hasActiveBoost&&c.currentBoost&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{onClick:y,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(Ud,{className:`${k} text-primary`})})}),a.jsx(Ia,{children:a.jsx("p",{children:"Renouveler le boost"})})]}),a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{onClick:_,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10",children:a.jsx(LO,{className:`${k} text-destructive`})})}),a.jsx(Ia,{children:a.jsx("p",{children:"Annuler le boost"})})]}),a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${e}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-500/10",children:a.jsx(MO,{className:`${k} text-blue-500`})})}),a.jsx(Ia,{children:a.jsx("p",{children:"Voir les détails et analytics"})})]})]}),n&&!c?.hasActiveBoost&&a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${e}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(wo,{className:`${k} text-primary`})})}),a.jsx(Ia,{children:a.jsx("p",{children:"Booster cette annonce"})})]}),f&&a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),g&&a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"})]})})},fu=({listing:e,onToggleFavorite:t,showActions:r=!0})=>{const{user:n}=Zr(),i=Dn(),{images:s}=oQ(e),[o,l]=x.useState(e.is_favorite||!1),[c,u]=x.useState(!1),f=S=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),p=S=>new Date(S).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}),g=S=>{switch(S){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},v=S=>{switch(S){case"approved":return a.jsx(xt,{variant:"default",className:"badge-approved",children:"Approuvé"});case"pending":return a.jsx(xt,{variant:"secondary",children:"En attente"});case"rejected":return a.jsx(xt,{variant:"destructive",children:"Rejeté"});default:return a.jsx(xt,{variant:"outline",children:S})}},w=async S=>{if(S.stopPropagation(),!n){i("/connexion");return}if(!c)try{u(!0),l(!o),t&&await t(e.id)}catch(N){l(!o),console.error("Erreur lors du basculement des favoris:",N)}finally{u(!1)}},y=()=>{e.id&&i(`/annonce/${e.id}`)};K.useEffect(()=>{l(e.is_favorite||!1)},[e.is_favorite]);const _=e.featured||e.boosted||e.is_premium||e.premium;return a.jsxs(Re.div,{whileHover:{y:-4},className:Ge("group rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",_?"bg-gradient-to-br from-amber-50/50 to-yellow-100/50 border-2 border-amber-300/50 shadow-amber-200/50":"bg-card border border-border/50"),onClick:y,children:[a.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 bg-muted overflow-hidden",children:[a.jsx(PH,{images:s,title:e.title,className:"h-full"}),a.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 sm:flex-row sm:gap-2 items-start",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(xt,{variant:"secondary",className:"bg-black/70 text-white text-xs px-2 py-1 sm:text-sm sm:px-3 sm:py-1.5",children:[g(e.category)," ",e.category==="real_estate"?"Immobilier":e.category==="automobile"?"Automobile":e.category==="services"?"Services":"Marketplace"]}),e.status==="approved"&&_?a.jsx("span",{className:"hidden sm:inline-flex",children:v(e.status)}):v(e.status)]})}),r&&a.jsx(Re.button,{onClick:w,disabled:c,className:`absolute top-2 right-2 p-1.5 sm:p-2 rounded-full transition-all duration-200 ${o?"bg-red-500 hover:bg-red-600 text-white":"bg-black/20 hover:bg-black/40 text-white"} ${c?"opacity-50 cursor-not-allowed":""}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Oo,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o?"fill-current":""}`})})]}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 truncate group-hover:text-primary transition-colors",children:e.title}),a.jsxs("div",{className:"flex items-center text-muted-foreground mb-2 sm:mb-3",children:[a.jsx(Co,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate text-sm sm:text-base",children:e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:e.location?.city||e.location?.country||"Localisation non spécifiée"})]}),a.jsx("div",{className:Ge("text-xl sm:text-2xl font-bold mb-2 sm:mb-3",_?"text-slate-800":"text-primary"),children:e.price?f(e.price):"Prix sur demande"}),a.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-sm sm:text-base line-clamp-2 sm:line-clamp-2",children:e.description||"Aucune description disponible"}),_&&a.jsx("div",{className:"mb-3",children:a.jsx(xt,{variant:"secondary",className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-300 text-xs font-medium",children:"⭐ Premium"})}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.created_at?p(e.created_at):"Date inconnue"})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.views_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.views_count})]}),e.favorites_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Oo,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.favorites_count})]})]})]}),a.jsx(nPe,{listingId:e.id,listing:e,size:"small",showActions:r,className:"mt-3 pt-3 border-t border-border/20"})]})]})},iPe=({src:e,alt:t,className:r="",fallbackSrc:n=null,showSkeleton:i=!0,priority:s="high"})=>{const[o,l]=x.useState(!1),[c,u]=x.useState(!1),f=x.useMemo(()=>iR(e,"hero",s==="high"?"high":"medium"),[e,s]),p=x.useMemo(()=>n||{hero:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop"}.hero,[n]),{isVisible:g,ref:v}=EH({threshold:.1,rootMargin:"50px"}),w=x.useCallback(()=>{l(!0),u(!1)},[]),y=x.useCallback(()=>{u(!0),l(!1)},[]),_=c?p:f;return a.jsxs("div",{ref:v,className:`relative overflow-hidden ${r}`,children:[i&&!o&&!c&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-gradient-to-r from-slate-300 via-slate-200 to-slate-300 animate-pulse"}),a.jsx(si,{mode:"wait",children:g&&a.jsx(Re.img,{src:_,alt:t,className:"w-full h-full object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:o?1:.7,scale:o?1:1.05},exit:{opacity:0,scale:.95},transition:{duration:.8,ease:"easeOut",opacity:{duration:.5}},onLoad:w,onError:y,loading:s==="high"?"eager":"lazy",decoding:"async"},_)}),o&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/20"}),!o&&!c&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full"})})]})},sPe=K.memo(iPe),aPe=()=>{const e=Dn(),{user:t}=Zr(),[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState([]),[f,p]=x.useState(!0),[g,v]=x.useState(null);x.useEffect(()=>{let S;const N=async()=>{try{s(!0);const A=await Vr.getTopViewedListings(6);n(A||[])}catch(A){l(A?.message||"Erreur lors du chargement des annonces populaires")}finally{s(!1)}},C=async()=>{try{p(!0);const A=await Vr.getPremiumListings(10);u(A?.data||[])}catch(A){v(A?.message||"Erreur lors du chargement des annonces premium")}finally{p(!1)}};return N(),C(),S=setInterval(()=>{N(),C()},18e5),()=>clearInterval(S)},[]);const w={hidden:{opacity:0,y:20},visible:S=>({opacity:1,y:0,transition:{delay:S*.1,duration:.5,ease:"easeOut"}})},y=[{name:"Immobilier",icon:a.jsx(Oue,{className:"h-10 w-10 mb-3 text-primary"}),path:"/immobilier",description:"Maisons, appartements, terrains."},{name:"Automobile",icon:a.jsx(Sue,{className:"h-10 w-10 mb-3 text-primary"}),path:"/automobile",description:"Voitures, motos, utilitaires."},{name:"Services Pro",icon:a.jsx(Cd,{className:"h-10 w-10 mb-3 text-primary"}),path:"/services",description:"Experts qualifiés à votre service."},{name:"Marketplace",icon:a.jsx(Vd,{className:"h-10 w-10 mb-3 text-primary"}),path:"/marketplace",description:"Produits neufs et d'occasion."}],_=S=>{e(S)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20 text-foreground",children:[a.jsxs(Re.section,{className:"relative py-24 md:py-40 bg-cover bg-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsx(sPe,{src:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop",alt:"Skyline futuriste d'une ville africaine au crépuscule avec des néons",className:"absolute inset-0 w-full h-full -z-10 opacity-70",priority:"high",showSkeleton:!0}),a.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[a.jsx(Re.div,{className:"inline-block p-2 bg-primary/20 rounded-full mb-6",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1,type:"spring",stiffness:200},children:a.jsx(u9,{className:"h-10 w-10 text-primary"})}),a.jsxs(Re.h1,{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:["Bienvenue sur"," ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsxs(Re.p,{className:"text-xl md:text-2xl text-gray-300 mb-10 max-w-3xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},children:[nr.tagline,". Explorez, découvrez, connectez."]}),a.jsx(Re.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.6},children:a.jsx("div",{className:"relative",children:a.jsxs("form",{onSubmit:S=>{S.preventDefault();const A=S.currentTarget.querySelector('input[name="q"]')?.value||"",{section:P,params:k}=xT(A),O=new URLSearchParams(k);e(`${P==="immobilier"?"/immobilier":P==="automobile"?"/automobile":P==="services"?"/services":"/marketplace"}?${O.toString()}`)},children:[a.jsx(tt,{name:"q",type:"search",placeholder:"Que recherchez-vous sur MaxiMarket ?",className:"w-full py-4 px-6 pr-16 rounded-full text-lg bg-white/10 text-white placeholder-gray-400 border-2 border-transparent focus:border-primary focus:ring-primary focus:outline-none backdrop-blur-md h-16"}),a.jsx(ue,{type:"submit",size:"lg",className:"absolute right-2 top-1/2 transform -translate-y-1/2 rounded-full bg-primary hover:bg-primary/90 h-12 w-12 p-0",children:a.jsx(Jue,{className:"h-6 w-6 text-white"})})]})})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-background to-transparent"})]}),a.jsx("section",{className:"py-16 md:py-24",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Explorez nos ",a.jsx("span",{className:"gradient-text",children:"Univers"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((S,N)=>a.jsxs(Re.div,{custom:N,variants:w,initial:"hidden",animate:"visible",onClick:()=>_(S.path),className:"bg-card p-6 rounded-xl shadow-2xl hover:shadow-primary/40 transition-all duration-300 transform hover:-translate-y-2 flex flex-col items-center text-center glassmorphic-card border border-transparent hover:border-primary/50 cursor-pointer group",children:[S.icon,a.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:S.name}),a.jsx("p",{className:"text-muted-foreground text-sm mb-5 flex-grow group-hover:text-primary/80 transition-colors",children:S.description}),a.jsxs("div",{className:"w-full border border-primary/50 rounded-md px-4 py-2 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300",children:["Découvrir"," ",a.jsx(jl,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform inline"})]})]},S.name))})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["⭐ Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),g&&a.jsx("p",{className:"text-center text-destructive mb-8",children:g}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[f&&!c.length&&Array.from({length:10}).map((S,N)=>a.jsxs("div",{className:"bg-gradient-to-br from-amber-50/80 to-yellow-100/80 rounded-lg shadow-xl overflow-hidden glassmorphic-card border-2 border-amber-300/50",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-gradient-to-r from-amber-300/50 to-yellow-300/50 rounded animate-pulse"})]})]},N)),!f&&c.length===0&&a.jsxs("div",{className:"col-span-full text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium pour le moment"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Soyez le premier à passer premium et boostez votre visibilité !"}),a.jsx(ue,{onClick:()=>e("/creer-annonce"),variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Créer une Annonce Premium"})]}),c.slice(0,10).map(S=>a.jsx(fu,{listing:S,showActions:!1},S.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white shadow-lg",onClick:()=>e("/premium"),children:["Voir Toutes les Annonces Premium"," ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Populaires"})]}),o&&a.jsx("p",{className:"text-center text-destructive mb-8",children:o}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[i&&!r.length&&Array.from({length:6}).map((S,N)=>a.jsxs("div",{className:"bg-card rounded-lg shadow-xl overflow-hidden glassmorphic-card border border-transparent",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-muted rounded animate-pulse"})]})]},N)),!i&&r.length===0&&a.jsx("p",{className:"col-span-full text-center text-muted-foreground",children:"Aucune annonce populaire pour le moment."}),r.slice(0,6).map(S=>a.jsx(fu,{listing:S,showActions:!1},S.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-primary-foreground",onClick:()=>e("/marketplace?sort=popular&per=24"),children:["Voir Toutes les Annonces ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-20 md:py-32",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Prêt à ",a.jsx("span",{className:"gradient-text",children:"Rejoindre MaxiMarket"})," ?"]}),a.jsx(Re.p,{className:"text-lg text-muted-foreground mb-10 max-w-xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Créez un compte, publiez votre première annonce ou trouvez l'affaire parfaite en quelques clics."}),a.jsxs(Re.div,{className:"space-y-4 sm:space-y-0 sm:flex sm:justify-center sm:space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground w-full sm:w-auto",onClick:()=>{t?e("/creer-annonce"):e("/connexion",{state:{from:"/creer-annonce"}})},children:"Publier une Annonce"}),a.jsx(ue,{size:"lg",variant:"outline",className:"w-full sm:w-auto",onClick:()=>e("/inscription"),children:"Créer un Compte"})]})]})})]})},oPe=()=>{const{user:e}=Zr(),t=Dn(),r=ji(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,type:"",minPrice:s,maxPrice:o}),{listings:f,loading:p,error:g,hasMore:v,loadMore:w}=Y_("real_estate",c),{toggleFavorite:y}=EEe(),_=A=>{A.preventDefault()},S=(A,P)=>{u(k=>({...k,[A]:P}))},N=()=>{u({search:"",location:"",type:"",minPrice:"",maxPrice:""})},C=()=>{if(!e){t("/connexion");return}t("/creer-annonce/real-estate")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-green-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-emerald",children:"Immobilier"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Appartements, maisons, terrains et locaux commerciaux. Trouvez votre prochaine propriété ou investissement ici."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Entrez une ville, quartier, mots-clés...",value:c.search,onChange:A=>S("search",A.target.value),className:"pl-10"}),a.jsx(Zn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"minPrice",className:"block text-sm font-medium mb-1",children:"Prix min"}),a.jsx(tt,{id:"minPrice",type:"number",placeholder:"0",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium mb-1",children:"Prix max"}),a.jsx(tt,{id:"maxPrice",type:"number",placeholder:"∞",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"flex-1",children:[a.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",onClick:N,children:a.jsx(es,{className:"h-4 w-4"})})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center mb-12",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:"Publier une annonce immobilière"})}),p&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Tr,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des annonces..."})]}),g&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Gn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!p&&f.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((A,P)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:P*.1},children:a.jsx(fu,{listing:A,onToggleFavorite:y})},A.id))}),!p&&!g&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucune annonce immobilière ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&f.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:w,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus d'annonces ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[f.length," annonce",f.length>1?"s":""," immobilière",f.length>1?"s":""," trouvée",f.length>1?"s":""]})})]})})},lPe=()=>{const{user:e}=Zr(),t=Dn(),r=ji(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",c=n.get("brand")||"",[u,f]=x.useState({search:i,location:l,brand:c,minPrice:s,maxPrice:o,year:"",fuel:""}),{listings:p,loading:g,error:v,hasMore:w,loadMore:y,toggleFavorite:_}=Y_("automobile",u),S=P=>{P.preventDefault()},N=(P,k)=>{f(O=>({...O,[P]:k}))},C=()=>{f({search:"",location:"",brand:"",minPrice:"",maxPrice:"",year:"",fuel:""})},A=()=>{if(!e){t("/connexion");return}t("/creer-annonce/automobile")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-blue-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-blue",children:"Automobile"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Voitures, motos, utilitaires et pièces détachées. Trouvez votre prochain véhicule ou vendez le vôtre ici."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Marque, modèle, mots-clés...",className:"pl-10 h-12 text-base",value:u.search,onChange:P=>N("search",P.target.value)}),a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",className:"h-12 text-base",value:u.location,onChange:P=>N("location",P.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",children:"Marque"}),a.jsxs("select",{id:"brand",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.brand,onChange:P=>N("brand",P.target.value),children:[a.jsx("option",{value:"",children:"Toutes marques"}),a.jsx("option",{value:"Toyota",children:"Toyota"}),a.jsx("option",{value:"Peugeot",children:"Peugeot"}),a.jsx("option",{value:"Renault",children:"Renault"}),a.jsx("option",{value:"Citroën",children:"Citroën"}),a.jsx("option",{value:"Ford",children:"Ford"}),a.jsx("option",{value:"Volkswagen",children:"Volkswagen"}),a.jsx("option",{value:"BMW",children:"BMW"}),a.jsx("option",{value:"Mercedes",children:"Mercedes"}),a.jsx("option",{value:"Audi",children:"Audi"}),a.jsx("option",{value:"Honda",children:"Honda"}),a.jsx("option",{value:"Nissan",children:"Nissan"}),a.jsx("option",{value:"Hyundai",children:"Hyundai"}),a.jsx("option",{value:"Kia",children:"Kia"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium mb-1",children:"Année"}),a.jsxs("select",{id:"year",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.year,onChange:P=>N("year",P.target.value),children:[a.jsx("option",{value:"",children:"Toutes années"}),Array.from({length:25},(P,k)=>2024-k).map(P=>a.jsx("option",{value:P,children:P},P))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fuel",className:"block text-sm font-medium mb-1",children:"Carburant"}),a.jsxs("select",{id:"fuel",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.fuel,onChange:P=>N("fuel",P.target.value),children:[a.jsx("option",{value:"",children:"Tous carburants"}),a.jsx("option",{value:"essence",children:"Essence"}),a.jsx("option",{value:"diesel",children:"Diesel"}),a.jsx("option",{value:"hybride",children:"Hybride"}),a.jsx("option",{value:"electrique",children:"Électrique"}),a.jsx("option",{value:"gpl",children:"GPL"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(es,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:C,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:A,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🚗 Publier une annonce automobile"})}),g&&p.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Tr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des véhicules..."})]}),v&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Gn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!g&&p.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:p.map((P,k)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:k*.1},children:a.jsx(fu,{listing:P,onToggleFavorite:_})},P.id))}),!g&&!v&&p.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚗"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun véhicule trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun véhicule ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:C,variant:"outline",children:"Effacer les filtres"})]}),w&&p.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de véhicules ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),p.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[p.length," véhicule",p.length>1?"s":""," trouvé",p.length>1?"s":""]})})]})})},cPe=()=>{const{user:e}=Zr(),t=Dn(),r=ji(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,serviceType:"",minPrice:s,maxPrice:o}),{listings:f,loading:p,error:g,hasMore:v,loadMore:w,toggleFavorite:y}=Y_("services",c),_=A=>{A.preventDefault()},S=(A,P)=>{u(k=>({...k,[A]:P}))},N=()=>{u({search:"",location:"",serviceType:"",minPrice:"",maxPrice:""})},C=()=>{if(!e){t("/connexion");return}t("/creer-annonce/services")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur des ",a.jsx("span",{className:"gradient-text-purple",children:"Services"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Plomberie, électricité, cours particuliers, événementiel et bien plus. Trouvez le service dont vous avez besoin."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Type de service, mots-clés...",className:"pl-10 h-12 text-base",value:c.search,onChange:A=>S("search",A.target.value)}),a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"service-type",className:"block text-sm font-medium mb-1",children:"Type de service"}),a.jsxs("select",{id:"service-type",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:c.serviceType,onChange:A=>S("serviceType",A.target.value),children:[a.jsx("option",{value:"",children:"Tous services"}),a.jsx("option",{value:"plomberie",children:"Plomberie"}),a.jsx("option",{value:"electricite",children:"Électricité"}),a.jsx("option",{value:"menage",children:"Ménage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"education",children:"Éducation"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"coiffure",children:"Coiffure"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"evenementiel",children:"Événementiel"}),a.jsx("option",{value:"transport",children:"Transport"}),a.jsx("option",{value:"reparation",children:"Réparation"}),a.jsx("option",{value:"conseil",children:"Conseil"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(es,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:N,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🔧 Proposer un service"})}),p&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Tr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des services..."})]}),g&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Gn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!p&&f.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((A,P)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:P*.1},children:a.jsx(fu,{listing:A,onToggleFavorite:y})},A.id))}),!p&&!g&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔧"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun service trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun service ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&f.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:w,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de services ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[f.length," service",f.length>1?"s":""," trouvé",f.length>1?"s":""]})})]})})},uPe=()=>{const{user:e}=Zr(),t=Dn(),r=ji(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("sort")||"",s=parseInt(n.get("per")||"12",10),o=n.get("search")||"",l=n.get("minPrice")||"",c=n.get("maxPrice")||"",u=n.get("location")||"",[f,p]=x.useState({search:o,location:u,category:"",minPrice:l,maxPrice:c,condition:"",sort:i,per:isNaN(s)?12:Math.min(Math.max(s,6),48)}),{listings:g,loading:v,error:w,hasMore:y,loadMore:_,toggleFavorite:S}=Y_("marketplace",f),N=k=>{k.preventDefault()};x.useMemo(()=>f.sort==="popular"?[...g].sort((k,O)=>(O?.views_count||0)-(k?.views_count||0)):g,[f.sort,g]);const C=(k,O)=>{p(I=>({...I,[k]:O}))},A=()=>{p({search:"",location:"",category:"",minPrice:"",maxPrice:"",condition:""})},P=()=>{if(!e){t("/connexion");return}t("/creer-annonce/marketplace")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-orange-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur ",a.jsx("span",{className:"gradient-text-orange",children:"Marketplace"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Téléphones, vêtements, meubles, livres et bien plus. Achetez et vendez en toute sécurité."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Produit, marque, mots-clés...",className:"pl-10 h-12 text-base",value:f.search,onChange:k=>C("search",k.target.value)}),a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:f.location,onChange:k=>C("location",k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Catégorie"}),a.jsxs("select",{id:"category",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:f.category,onChange:k=>C("category",k.target.value),children:[a.jsx("option",{value:"",children:"Toutes catégories"}),a.jsx("option",{value:"telephonie",children:"Téléphonie"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"vetements",children:"Vêtements"}),a.jsx("option",{value:"chaussures",children:"Chaussures"}),a.jsx("option",{value:"accessoires",children:"Accessoires"}),a.jsx("option",{value:"mobilier",children:"Mobilier"}),a.jsx("option",{value:"electromenager",children:"Électroménager"}),a.jsx("option",{value:"livres",children:"Livres"}),a.jsx("option",{value:"sport",children:"Sport"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"jouets",children:"Jouets"}),a.jsx("option",{value:"bricolage",children:"Bricolage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium mb-1",children:"État"}),a.jsxs("select",{id:"condition",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:f.condition,onChange:k=>C("condition",k.target.value),children:[a.jsx("option",{value:"",children:"Tous états"}),a.jsx("option",{value:"neuf",children:"Neuf"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"usage",children:"Usage"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:f.minPrice,onChange:k=>C("minPrice",k.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:f.maxPrice,onChange:k=>C("maxPrice",k.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(es,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:A,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:P,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🛍️ Vendre un produit"})}),v&&g.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Tr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des produits..."})]}),w&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Gn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:w}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!v&&g.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:g.map((k,O)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:O*.1},children:a.jsx(fu,{listing:k,onToggleFavorite:S})},k.id))}),!v&&!w&&g.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🛍️"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun produit trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun produit ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:A,variant:"outline",children:"Effacer les filtres"})]}),y&&g.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:_,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de produits ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),g.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[g.length," produit",g.length>1?"s":""," trouvé",g.length>1?"s":""]})})]})})},dPe=()=>{const e=Dn(),[t,r]=x.useState([]),[n,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(1),[u,f]=x.useState(1),[p,g]=x.useState(!1),[v,w]=x.useState({category:"",minPrice:"",maxPrice:"",location:"",search:""}),y=async(P=1,k=v)=>{try{i(!0),o(null);const O=await Vr.getPremiumListings(100,!0);if(O?.data){let I=O.data;k.category&&(I=I.filter(re=>re.category===k.category)),k.minPrice&&(I=I.filter(re=>re.price>=parseFloat(k.minPrice))),k.maxPrice&&(I=I.filter(re=>re.price<=parseFloat(k.maxPrice))),k.location&&(I=I.filter(re=>re.location?.city?.toLowerCase().includes(k.location.toLowerCase())||re.location?.country?.toLowerCase().includes(k.location.toLowerCase()))),k.search&&(I=I.filter(re=>re.title.toLowerCase().includes(k.search.toLowerCase())||re.description.toLowerCase().includes(k.search.toLowerCase())));const z=12,Y=I.length,Z=Math.ceil(Y/z),V=(P-1)*z,q=V+z,U=I.slice(V,q);r(U),f(Z),g(P<Z),c(P)}}catch(O){o(O?.message||"Erreur lors du chargement des annonces premium")}finally{i(!1)}};x.useEffect(()=>{y(1,v)},[]);const _=(P,k)=>{const O={...v,[P]:k};w(O),c(1),y(1,O)},S=P=>{P.preventDefault(),y(1,v)},N=()=>{const P={category:"",minPrice:"",maxPrice:"",location:"",search:""};w(P),y(1,P)},C=P=>{P>=1&&P<=u&&y(P,v)},A=[{value:"real_estate",label:"🏠 Immobilier",color:"bg-blue-100 text-blue-800"},{value:"automobile",label:"🚗 Automobile",color:"bg-green-100 text-green-800"},{value:"services",label:"🔧 Services",color:"bg-purple-100 text-purple-800"},{value:"marketplace",label:"🛍️ Marketplace",color:"bg-orange-100 text-orange-800"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20",children:[a.jsx(Re.section,{className:"relative py-16 md:py-24 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsx("div",{className:"flex items-center mb-6",children:a.jsxs(ue,{variant:"ghost",onClick:()=>e(-1),className:"mr-4 hover:bg-amber-100",children:[a.jsx($h,{className:"h-5 w-5 mr-2"}),"Retour"]})}),a.jsxs(Re.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[a.jsxs("div",{className:"flex justify-center items-center mb-6",children:[a.jsx(d$,{className:"h-16 w-16 text-amber-500 mr-4"}),a.jsx(Ha,{className:"h-12 w-12 text-yellow-500"})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto mb-8",children:"Découvrez notre sélection exclusive d'annonces premium. Qualité garantie, visibilité maximale."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[a.jsxs(xt,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300",children:[a.jsx(f9,{className:"h-4 w-4 mr-2"}),"Mise en avant garantie"]}),a.jsxs(xt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),"Qualité premium"]}),a.jsxs(xt,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[a.jsx(d$,{className:"h-4 w-4 mr-2"}),"Support prioritaire"]})]})]})]})}),a.jsx("section",{className:"py-8 bg-background/50",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsx(Re.div,{className:"bg-card rounded-xl p-6 shadow-lg border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("form",{onSubmit:S,className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(tt,{type:"text",placeholder:"Rechercher dans les annonces premium...",value:v.search,onChange:P=>_("search",P.target.value),className:"pl-10 pr-4 py-3"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("select",{value:v.category,onChange:P=>_("category",P.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Toutes catégories"}),A.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))]}),a.jsx(tt,{type:"number",placeholder:"Prix min",value:v.minPrice,onChange:P=>_("minPrice",P.target.value),className:"w-32"}),a.jsx(tt,{type:"number",placeholder:"Prix max",value:v.maxPrice,onChange:P=>_("maxPrice",P.target.value),className:"w-32"}),a.jsx(tt,{type:"text",placeholder:"Localisation",value:v.location,onChange:P=>_("location",P.target.value),className:"w-40"}),a.jsxs(ue,{variant:"outline",onClick:N,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:[a.jsx(es,{className:"h-4 w-4 mr-2"}),"Effacer"]})]})]})})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s&&a.jsx(Re.div,{className:"text-center text-destructive mb-8 p-4 bg-destructive/10 rounded-lg",initial:{opacity:0},animate:{opacity:1},children:s}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n?Array.from({length:12}).map((P,k)=>a.jsxs(Re.div,{className:"bg-card rounded-lg shadow-lg overflow-hidden border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:k*.1},children:[a.jsx("div",{className:"h-48 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-8 w-1/3 bg-muted rounded animate-pulse"})]})]},k)):t.length>0?t.map((P,k)=>a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:k*.1},children:a.jsx(fu,{listing:P,showActions:!1})},P.id)):a.jsxs(Re.div,{className:"col-span-full text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Essayez de modifier vos filtres ou revenez plus tard"}),a.jsx(ue,{onClick:N,variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Effacer les filtres"})]})}),!n&&u>1&&a.jsxs(Re.div,{className:"flex justify-center items-center mt-12 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[a.jsx(ue,{variant:"outline",onClick:()=>C(l-1),disabled:l===1,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Précédent"}),Array.from({length:u},(P,k)=>k+1).map(P=>a.jsx(ue,{variant:l===P?"default":"outline",onClick:()=>C(P),className:l===P?"bg-amber-500 hover:bg-amber-600":"border-amber-300 text-amber-700 hover:bg-amber-100",children:P},P)),a.jsx(ue,{variant:"outline",onClick:()=>C(l+1),disabled:l===u,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Suivant"})]}),!n&&t.length>0&&a.jsx(Re.div,{className:"text-center mt-8 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:a.jsxs("p",{children:["Affichage de ",t.length," annonces premium",u>1&&` (page ${l} sur ${u})`]})})]})})]})},fPe=[{value:"real_estate",label:"Immobilier"},{value:"automobile",label:"Automobile"},{value:"services",label:"Service"},{value:"marketplace",label:"Produit"}],q3={title:"",description:"",price:"",currency:"XOF",category:"",subCategory:"",location:{city:"",country:""},images:[],videos:[],specificData:{}},hPe=e=>({"real-estate":"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"})[e]||"",pPe=({onSuccess:e,category:t,onDataChange:r,currentStep:n=1,onStepChange:i})=>{const{toast:s}=Sn(),[o,l]=x.useState({...q3,category:t?hPe(t):""}),[c,u]=x.useState(!1),[f,p]=x.useState(!1),[g,v]=x.useState({current:0,total:0}),[w,y]=x.useState(n);x.useEffect(()=>{y(n)},[n]);const _=[{code:"BJ",name:"Bénin",cities:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Kandi","Abomey","Natitingou","Ouidah","Lokossa"]},{code:"CI",name:"Côte d'Ivoire",cities:["Abidjan","Bouaké","Daloa","Yamoussoukro","San Pedro","Korhogo","Man","Gagnoa","Abengourou","Divo"]},{code:"NG",name:"Nigeria",cities:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"]}],S=Q=>{const{name:te,value:G}=Q.target;if(te.startsWith("location.")){const ie=te.split(".")[1];l(xe=>({...xe,location:{...xe.location,[ie]:G}}))}else l(ie=>({...ie,[te]:G}));r&&r({[te]:G})},N=Q=>{const{name:te,value:G}=Q.target;l(ie=>({...ie,specificData:{...ie.specificData,[te]:G}}))},C=(Q,te=1920,G=.8)=>new Promise(ie=>{const xe=document.createElement("canvas"),Ne=xe.getContext("2d"),Le=new Image;Le.onload=()=>{let{width:ce,height:oe}=Le;ce>te&&(oe=oe*te/ce,ce=te),xe.width=ce,xe.height=oe,Ne.drawImage(Le,0,0,ce,oe),xe.toBlob(ge=>{const he=new File([ge],Q.name,{type:"image/jpeg",lastModified:Date.now()});ie(he)},"image/jpeg",G)},Le.src=URL.createObjectURL(Q)}),A=Q=>new Promise(te=>{const G=new FileReader;G.onload=ie=>{te({url:ie.target.result,file:Q,id:Date.now()+Math.random()})},G.readAsDataURL(Q)}),P=async Q=>{const te=Array.from(Q.target.files);if(!te.length)return;if(o.images.length+te.length>8){s({title:"Limite atteinte",description:"Vous pouvez uploader jusqu'à 8 images maximum.",variant:"destructive"});return}if(te.filter(ie=>!ie.type.startsWith("image/")).length>0){s({title:"Type de fichier invalide",description:"Seules les images sont acceptées.",variant:"destructive"});return}p(!0),v({current:0,total:te.length});try{const ie=await Promise.all(te.map(A)),xe=[...o.images,...ie.map(he=>({url:he.url,isPreview:!0,id:he.id,file:he.file}))];l(he=>({...he,images:xe})),r&&r({images:xe});const Ne=await Promise.all(te.map(he=>C(he,1920,.8))),Le=async(he,Pe)=>{const J=he.slice(Pe,Pe+3);return Promise.all(J.map(async(H,we)=>{const be=Pe+we;try{const Ve=await Ede.uploadImage(H,"listings");return v({current:be+1,total:he.length}),{success:!0,url:Ve,index:be}}catch(Ve){return console.error("Erreur upload pour",H.name,Ve),v({current:be+1,total:he.length}),{success:!1,error:Ve.message,index:be}}}))},ce=[];for(let he=0;he<Ne.length;he+=3){const Pe=await Le(Ne,he);ce.push(...Pe)}const oe=ce.filter(he=>he.success),ge=ce.filter(he=>!he.success);if(oe.length>0){const he=[...xe];oe.forEach(({url:Pe,index:J})=>{const H=he.findIndex(we=>we.isPreview&&we.id===ie[J].id);H!==-1&&(he[H]={url:Pe,isPreview:!1})}),l(Pe=>({...Pe,images:he})),r&&r({images:he}),s({title:"Images ajoutées",description:`${oe.length} image(s) téléchargée(s) avec succès.`})}ge.length>0&&s({title:"Erreurs d'upload",description:`Erreurs pour ${ge.length} fichier(s): ${ge.map(he=>he.error).join(", ")}`,variant:"destructive"})}catch(ie){console.error("Erreur générale upload:",ie),s({title:"Erreur upload",description:ie?.message||"Erreur lors de l'upload.",variant:"destructive"})}finally{p(!1),v({current:0,total:0})}},k=Q=>{l(te=>{const G=te.images.filter((ie,xe)=>xe!==Q);return r&&r({images:G}),{...te,images:G}})},O=()=>!o.title||o.title.length<5?"Le titre est requis (min 5 caractères)":!o.description||o.description.length<10?"La description est requise (min 10 caractères)":!o.price||isNaN(Number(o.price))?"Le prix est requis et doit être un nombre":o.category?null:"La catégorie est requise",I=()=>{w<2&&(y(w+1),i&&i(w+1))},z=()=>{w>1&&(y(w-1),i&&i(w-1))},Y=async Q=>{Q.preventDefault();const te=O();if(te){s({title:"Erreur de validation",description:te,variant:"destructive"});return}u(!0);try{const G=o.images.filter(Ne=>!Ne.isPreview).map(Ne=>Ne.url),ie={...o,images:G,price:Number(o.price)},xe=await Vr.createListing(ie);s({title:"Annonce créée !",description:"Votre annonce a été soumise avec succès."}),l(q3),e&&e(xe)}catch(G){s({title:"Erreur",description:G?.message||"Erreur lors de la création.",variant:"destructive"})}finally{u(!1)}},Z=()=>{switch(o.category){case"real_estate":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"propertyType",children:"Type de bien immobilier"}),a.jsx(tt,{id:"propertyType",name:"propertyType",placeholder:"Ex: Appartement, Maison, Terrain, Local commercial...",value:o.specificData.propertyType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"transactionType",children:"Type de transaction"}),a.jsx(tt,{id:"transactionType",name:"transactionType",placeholder:"Ex: Vente, Location, Location-vente...",value:o.specificData.transactionType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bedrooms",children:"Nombre de chambres"}),a.jsx(tt,{id:"bedrooms",name:"bedrooms",type:"number",placeholder:"Ex: 3",min:"0",value:o.specificData.bedrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bathrooms",children:"Nombre de salles de bain"}),a.jsx(tt,{id:"bathrooms",name:"bathrooms",type:"number",placeholder:"Ex: 2",min:"0",value:o.specificData.bathrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"areaSqMeters",children:"Surface en mètres carrés"}),a.jsx(tt,{id:"areaSqMeters",name:"areaSqMeters",type:"number",placeholder:"Ex: 120",min:"1",value:o.specificData.areaSqMeters||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Commodités et équipements"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez les commodités disponibles (piscine, parking, climatisation, etc.)"}),(o.specificData.amenities||[]).map((Q,te)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:Q,onChange:G=>re(te,G.target.value),placeholder:"Ex: Piscine, Parking, Climatisation..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>se(te),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},te)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:ae,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter une commodité"})]})]});case"automobile":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"vehicleType",children:"Type de véhicule"}),a.jsx(tt,{id:"vehicleType",name:"vehicleType",placeholder:"Ex: Voiture, Moto, Camion, Bus...",value:o.specificData.vehicleType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"make",children:"Marque du véhicule"}),a.jsx(tt,{id:"make",name:"make",placeholder:"Ex: Toyota, Honda, BMW...",value:o.specificData.make||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"model",children:"Modèle du véhicule"}),a.jsx(tt,{id:"model",name:"model",placeholder:"Ex: Corolla, Civic, X5...",value:o.specificData.model||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"year",children:"Année de fabrication"}),a.jsx(tt,{id:"year",name:"year",type:"number",placeholder:"Ex: 2020",min:"1900",max:new Date().getFullYear()+1,value:o.specificData.year||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"mileage",children:"Kilométrage en km"}),a.jsx(tt,{id:"mileage",name:"mileage",type:"number",placeholder:"Ex: 50000",min:"0",value:o.specificData.mileage||"",onChange:N})]})]});case"services":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"serviceCategory",children:"Catégorie de service"}),a.jsx(tt,{id:"serviceCategory",name:"serviceCategory",placeholder:"Ex: Plomberie, Électricité, Design, Formation...",value:o.specificData.serviceCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"availability",children:"Disponibilité"}),a.jsx(tt,{id:"availability",name:"availability",placeholder:"Ex: Lundi-Vendredi 9h-18h, Weekends...",value:o.specificData.availability||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"experienceYears",children:"Années d'expérience"}),a.jsx(tt,{id:"experienceYears",name:"experienceYears",type:"number",placeholder:"Ex: 5",min:"0",value:o.specificData.experienceYears||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Liens de portfolio et références"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez des liens vers vos réalisations, portfolio ou références"}),(o.specificData.portfolioLinks||[]).map((Q,te)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:Q,onChange:G=>V(te,G.target.value),placeholder:"https://votre-portfolio.com ou lien vers vos réalisations..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>U(te),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},te)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:q,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter un lien de portfolio"})]})]});case"marketplace":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"productCategory",children:"Catégorie de produit"}),a.jsx(tt,{id:"productCategory",name:"productCategory",placeholder:"Ex: Électronique, Vêtements, Livres, Sport...",value:o.specificData.productCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"brand",children:"Marque du produit"}),a.jsx(tt,{id:"brand",name:"brand",placeholder:"Ex: Apple, Nike, Samsung...",value:o.specificData.brand||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"stockQuantity",children:"Quantité disponible en stock"}),a.jsx(tt,{id:"stockQuantity",name:"stockQuantity",type:"number",placeholder:"Ex: 10",min:"0",value:o.specificData.stockQuantity||"",onChange:N})]})]});default:return null}},V=(Q,te)=>{l(G=>({...G,specificData:{...G.specificData,portfolioLinks:G.specificData.portfolioLinks?.map((ie,xe)=>xe===Q?te:ie)||[]}}))},q=()=>{l(Q=>({...Q,specificData:{...Q.specificData,portfolioLinks:[...Q.specificData.portfolioLinks||[],""]}}))},U=Q=>{l(te=>({...te,specificData:{...te.specificData,portfolioLinks:te.specificData.portfolioLinks?.filter((G,ie)=>ie!==Q)||[]}}))},re=(Q,te)=>{l(G=>({...G,specificData:{...G.specificData,amenities:G.specificData.amenities?.map((ie,xe)=>xe===Q?te:ie)||[]}}))},ae=()=>{l(Q=>({...Q,specificData:{...Q.specificData,amenities:[...Q.specificData.amenities||[],""]}}))},se=Q=>{l(te=>({...te,specificData:{...te.specificData,amenities:te.specificData.amenities?.filter((G,ie)=>ie!==Q)||[]}}))},X=()=>{switch(w){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Informations de base"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Commencez par les informations essentielles de votre annonce."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"title",children:"Titre de l'annonce *"}),a.jsx(tt,{id:"title",name:"title",value:o.title,onChange:S,placeholder:"Ex: Appartement moderne 3 pièces à Cotonou",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"description",children:"Description *"}),a.jsx(Md,{id:"description",name:"description",value:o.description,onChange:S,placeholder:"Décrivez votre offre en détail...",rows:4,required:!0,className:"max-w-2xl resize-none transition-all duration-200",style:{minHeight:"120px",height:"auto",overflow:"hidden"},onInput:Q=>{Q.target.style.height="auto",Q.target.style.height=Math.min(Q.target.scrollHeight,300)+"px"}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"category",children:"Catégorie *"}),a.jsxs("select",{id:"category",name:"category",value:o.category,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une catégorie"}),fPe.map(Q=>a.jsx("option",{value:Q.value,className:"text-foreground",children:Q.label},Q.value))]})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Prix et localisation"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"price",children:"Prix *"}),a.jsx(tt,{id:"price",name:"price",type:"number",value:o.price,onChange:S,placeholder:"0",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currency",children:"Devise"}),a.jsxs("select",{id:"currency",name:"currency",value:o.currency,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"XOF",className:"text-foreground",children:"XOF (Franc CFA)"}),a.jsx("option",{value:"EUR",className:"text-foreground",children:"EUR (Euro)"}),a.jsx("option",{value:"USD",className:"text-foreground",children:"USD (Dollar US)"}),a.jsx("option",{value:"NGN",className:"text-foreground",children:"NGN (Naira)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"country",children:"Pays"}),a.jsxs("select",{id:"country",name:"location.country",value:o.location.country,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner un pays"}),_.map(Q=>a.jsx("option",{value:Q.name,className:"text-foreground",children:Q.name},Q.code))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"city",children:"Ville"}),a.jsxs("select",{id:"city",name:"location.city",value:o.location.city,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.location.country,children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une ville"}),_.find(Q=>Q.name===o.location.country)?.cities?.map((Q,te)=>a.jsx("option",{value:Q,className:"text-foreground",children:Q},`${o.location.country||"unknown"}-${Q}-${te}`))]})]})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Médias et détails"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Ajoutez des photos et des informations spécifiques à votre catégorie."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Images et médias"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"image-upload",children:"Sélectionner des images"}),a.jsxs("div",{className:`border-2 border-dashed border-gray-400 rounded-lg p-6 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"hover:border-primary"}`,children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:P,className:"hidden",id:"image-upload",disabled:f}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer ${f?"cursor-not-allowed":""}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:f?a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}):a.jsx(xd,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:f?"Chargement en cours...":"Cliquez pour ajouter des images"}),a.jsx("p",{className:"text-xs text-gray-600",children:f?`Veuillez patienter (${g.current}/${g.total})`:"PNG, JPG jusqu'à 10MB"}),f&&g.total>0&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})})]})]})})]})]}),o.images.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(rt,{children:["Images sélectionnées (",o.images.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o.images.map((Q,te)=>a.jsxs("div",{className:"relative group aspect-square",children:[a.jsx("img",{src:Q.url,alt:`Aperçu ${te+1}`,className:`w-full h-full object-cover rounded-lg border ${Q.isPreview?"opacity-70":""}`}),Q.isPreview&&a.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}),a.jsx("button",{type:"button",onClick:()=>k(te),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity shadow-md",title:"Supprimer cette image",disabled:Q.isPreview,children:"×"})]},te))})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Détails spécifiques à la catégorie"}),o.category?a.jsx("div",{className:"space-y-4",children:Z()}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Veuillez d'abord sélectionner une catégorie à l'étape 1."})})]})]});default:return null}};return a.jsxs("div",{className:"space-y-6",children:[X(),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:z,disabled:w===1,children:"Précédent"}),a.jsx("div",{className:"flex items-center space-x-2",children:w<2?a.jsx(ue,{type:"button",onClick:I,disabled:!o.title||!o.description||!o.category,children:"Suivant"}):a.jsx(ue,{type:"submit",onClick:Y,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?"Publication...":"Publier l'annonce"})})]})]})},mPe=({formData:e,onClose:t})=>{const[r,n]=x.useState(0),[i,s]=x.useState(!1),o=y=>({real_estate:hT,automobile:u_,services:Cd,marketplace:Vd})[y]||hT,l=y=>y?typeof y=="string"?y:y?.url?y.url:y?.file?URL.createObjectURL(y.file):y?.src?y.src:null:null,c=()=>!e.images||!Array.isArray(e.images)?[]:e.images.map(y=>{const _=l(y);return _?{...y,displayUrl:_}:null}).filter(Boolean),u=y=>({real_estate:"Immobilier",automobile:"Automobile",services:"Service",marketplace:"Produit"})[y]||"Autre",f=o(e.category),p=c(),g=()=>{p.length>0&&n(y=>y===p.length-1?0:y+1)},v=()=>{p.length>0&&n(y=>y===0?p.length-1:y)},w=y=>{y>=0&&y<p.length&&n(y)};return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs(Re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Aperçu de l'annonce"}),(!e.title||!e.description||!e.price)&&a.jsx(xt,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Preview partiel"})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:t,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:p.length>0?a.jsxs(a.Fragment,{children:[a.jsx(si,{mode:"wait",children:a.jsx(Re.img,{src:p[r]?.displayUrl,alt:`Image ${r+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},r)}),p.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Ua,{className:"h-5 w-5"})}),a.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Va,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:[r+1," / ",p.length]}),a.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>s(!i),className:`p-2 rounded-full transition-all ${i?"bg-red-500 text-white":"bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100"}`,children:a.jsx(Oo,{className:`h-5 w-5 ${i?"fill-current":""}`})}),a.jsx("button",{className:"p-2 rounded-full bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100 transition-all",children:a.jsx(c9,{className:"h-5 w-5"})})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Wd,{className:"h-8 w-8"})}),a.jsx("p",{children:"Aucune image"}),a.jsx("p",{className:"text-xs mt-1",children:"Ajoutez des images à l'étape 2"})]})})}),p.length>1&&a.jsx("div",{className:"flex space-x-2 mt-4 overflow-x-auto",children:p.map((y,_)=>a.jsx("button",{onClick:()=>w(_),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${_===r?"border-primary":"border-border hover:border-primary/50"}`,children:a.jsx("img",{src:y.displayUrl,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs(xt,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[a.jsx(f,{className:"h-3 w-3 mr-1"}),u(e.category)]}),a.jsx(xt,{variant:"outline",className:"text-green-600 border-green-600",children:"Actif"})]}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:e.title||"Titre de l'annonce (à définir)"}),a.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[a.jsx(Co,{className:"h-4 w-4 mr-1"}),e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:"Localisation non définie"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-foreground",children:e.price?`${e.price} ${e.currency||"XOF"}`:"Prix à définir"}),e.category==="real_estate"&&e.specificData?.areaSqMeters&&a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[e.specificData.areaSqMeters," m²"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Description"}),a.jsx("p",{className:"text-foreground leading-relaxed",children:e.description||"Description à ajouter pour votre annonce."})]}),e.specificData&&Object.keys(e.specificData).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Détails"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.category==="real_estate"&&a.jsxs(a.Fragment,{children:[e.specificData.propertyType&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.propertyType})]}),e.specificData.bedrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Chambres:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.bedrooms})]}),e.specificData.bathrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Salles de bain:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.bathrooms})]}),e.specificData.areaSqMeters&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Surface:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[e.specificData.areaSqMeters," m²"]})]})]}),e.category==="automobile"&&a.jsxs(a.Fragment,{children:[e.specificData.make&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Marque:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.make})]}),e.specificData.model&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Modèle:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.model})]}),e.specificData.year&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Année:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.year})]}),e.specificData.mileage&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Kilométrage:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[e.specificData.mileage," km"]})]})]})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Images"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["• ",p.length," image(s) ajoutée(s)"]}),p.length===0&&a.jsx("p",{className:"text-yellow-600 mt-1",children:"⚠️ Aucune image - Ajoutez des images à l'étape 2"})]})]})})]})]})]})})},I0=()=>{const e=Dn(),{category:t,id:r}=zk(),[n,i]=x.useState(1),[s,o]=x.useState({}),[l,c]=x.useState(!1),[u,f]=x.useState(!1);K.useEffect(()=>{r&&f(!0)},[r]);const p=A=>({"real-estate":"Immobilière",automobile:"Automobile",services:"de Service",marketplace:"Marketplace"})[A]||"",v=(A=>({"real-estate":Pd,automobile:u_,services:Cd,marketplace:Vd})[A]||Pd)(t),w=[{id:1,title:"Informations de base",description:"Titre, description, catégorie, prix et localisation",icon:qr,completed:!1},{id:2,title:"Médias et publication",description:"Photos, vidéos, caractéristiques spécifiques et publication",icon:xd,completed:!1}],y=A=>{A?.id?e("/profile",{state:{message:"Annonce créée avec succès ! Elle est maintenant visible sur le site.",type:"success"}}):e("/profile")},_=A=>{o(P=>({...P,...A}))},S=()=>s.title||s.description||s.price,N=()=>!s.title&&!s.description&&!s.price?"Commencez à remplir le formulaire pour voir l'aperçu":"Aperçu disponible (certaines données peuvent être manquantes)",C=()=>{const A=encodeURIComponent("Support création annonce - MaxiMarket"),P=encodeURIComponent(`Bonjour l'équipe MaxiMarket,

Je rencontre des difficultés lors de la création de mon annonce et j'aurais besoin de votre aide.

📋 Détails de ma demande :
• Catégorie d'annonce : ${t?p(t):"Non spécifiée"}
• Étape actuelle : Étape ${n} sur ${w.length}
• Problème rencontré : [Veuillez décrire votre problème ici]

📧 Mon email de contact : [Votre email]
📱 Mon téléphone : [Votre téléphone]

Merci de votre aide !

Cordialement,
[Votre nom]

---
Ce message a été généré automatiquement depuis le formulaire de création d'annonce MaxiMarket.
Support : support@maximarket.com
Site : https://maximarket.com`),k=`mailto:support@maximarket.com?subject=${A}&body=${P}`;window.open(k,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"text-muted-foreground hover:text-foreground",children:[a.jsx($h,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs("div",{className:"flex items-center space-x-2 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(v,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-primary",children:p(t)})]})})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>c(!l),disabled:!S(),className:S()?"":"opacity-50 cursor-not-allowed",title:S()?"Voir l'aperçu de votre annonce":N(),children:[a.jsx(Rl,{className:"h-4 w-4 mr-2"}),l?"Masquer":"Aperçu"]})})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:u?"Modifier l'annonce":t?`Créer une annonce ${p(t)}`:"Créer une annonce"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:u?"Modifiez les informations de votre annonce existante.":"Partagez votre offre avec notre communauté. Remplissez les informations ci-dessous pour publier votre annonce."})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-center space-x-4",children:w.map((A,P)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${n>=A.id?"bg-primary border-primary text-white":"bg-card border-border text-muted-foreground"}`,children:n>A.id?a.jsx(Rs,{className:"h-5 w-5"}):a.jsx(A.icon,{className:"h-5 w-5"})}),P<w.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 ${n>A.id?"bg-primary":"bg-border"}`})]},A.id))}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Étape ",n," sur ",w.length," : ",w[n-1]?.title]})})]}),l&&a.jsx(mPe,{formData:s,onClose:()=>c(!1)}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsx(Wt,{className:"shadow-lg border-0",children:a.jsx(Zt,{className:"p-6",children:a.jsx(pPe,{onSuccess:y,category:t,onDataChange:_,currentStep:n,onStepChange:i})})})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:a.jsx(Wt,{className:"shadow-lg border-0",children:a.jsxs(Zt,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[a.jsx(Rs,{className:"h-5 w-5 text-green-500 mr-2"}),"Conseils pour une annonce réussie"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez un titre clair et descriptif"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez des photos de qualité"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Décrivez précisément votre offre"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixez un prix compétitif"})]})]})]})})}),a.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:a.jsx(Wt,{className:"shadow-lg border-0",children:a.jsxs(Zt,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Besoin d'aide ?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Notre équipe est là pour vous accompagner dans la création de votre annonce."}),a.jsx(ue,{variant:"outline",className:"w-full",onClick:C,children:"Contacter le support"})]})})})]})]})]})}),a.jsx(cV,{})]})},gPe=K.memo(({images:e=[],title:t="Galerie d'images"})=>{const[r,n]=x.useState(0),[i,s]=x.useState(!1),[o,l]=x.useState(!1),c=x.useRef(null);ePe(e,r);const{touchHandlers:u,zoomLevel:f}=rPe(()=>n(S=>(S+1)%e.length),()=>n(S=>(S-1+e.length)%e.length),S=>l(S>1)),p=x.useCallback(()=>{n(S=>(S+1)%e.length)},[e.length]),g=x.useCallback(()=>{n(S=>(S-1+e.length)%e.length)},[e.length]),v=S=>{n(S)};x.useEffect(()=>{const S=N=>{if(i)switch(N.key){case"ArrowLeft":N.preventDefault(),g();break;case"ArrowRight":N.preventDefault(),p();break;case"Escape":N.preventDefault(),s(!1),l(!1);break;case" ":N.preventDefault(),l(!o);break}};return i&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[i,o,p,g]);const w=()=>{i?l(!o):s(!0)},y=()=>{l(!o)};if(!e||e.length===0)return a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted flex items-center justify-center",children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucune image disponible"})})});const _=e[r];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{ref:c,className:"relative aspect-video rounded-lg overflow-hidden bg-muted cursor-pointer group",...u,onClick:w,children:[a.jsx(PT,{src:_,alt:`${t} - Image ${r+1}`,className:"w-full h-full",context:"gallery",quality:"high",showSkeleton:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300",children:a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),s(!0)},children:a.jsx(p$,{className:"h-4 w-4"})})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),g()},children:a.jsx(Ua,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),p()},children:a.jsx(Va,{className:"h-4 w-4"})})]})]}),e.length>1&&a.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:e.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-2 h-2 rounded-full transition-all duration-300 ${N===r?"bg-primary scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),e.length>1&&a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[r+1," / ",e.length]})]}),a.jsx(si,{children:i&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",...u,children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white z-10",onClick:()=>{s(!1),l(!1)},children:a.jsx(Ms,{className:"h-6 w-6"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-16 bg-black/50 hover:bg-black/70 text-white z-10",onClick:y,children:o?a.jsx(ude,{className:"h-6 w-6"}):a.jsx(p$,{className:"h-6 w-6"})}),a.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:a.jsx(PT,{src:_,alt:`${t} - Image ${r+1}`,className:`max-w-full max-h-full object-contain transition-transform duration-300 ${o?"cursor-zoom-out":"cursor-zoom-in"}`,context:"fullscreen",quality:"high",showSkeleton:!1,onClick:w,style:{transform:`scale(${f})`,cursor:o?"zoom-out":"zoom-in"}})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:g,children:a.jsx(Ua,{className:"h-8 w-8"})}),a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:p,children:a.jsx(Va,{className:"h-8 w-8"})})]}),e.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:e.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===r?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),a.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white text-sm px-3 py-1 rounded",children:[r+1," / ",e.length]}),a.jsx("div",{className:"absolute top-4 left-4 text-white/70 text-sm",children:a.jsx("p",{children:"← → Navigation • Espace Zoom • Échap Fermer"})})]})})]})}),vPe=({isOpen:e,onClose:t,listing:r,onReportSubmitted:n})=>{const[i,s]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState("medium"),[f,p]=x.useState(!1),{toast:g}=Sn(),v=[{value:"inappropriate_content",label:"Contenu inapproprié",description:"Contenu offensant, violent ou choquant"},{value:"fake_listing",label:"Annonce fausse",description:"Produit/service inexistant ou trompeur"},{value:"spam",label:"Spam",description:"Annonce répétitive ou non pertinente"},{value:"scam",label:"Arnaque",description:"Tentative de fraude ou d'escroquerie"},{value:"copyright",label:"Violation de droits",description:"Contenu protégé par des droits d'auteur"},{value:"other",label:"Autre",description:"Autre raison non listée"}],w=[{value:"low",label:"Faible",color:"bg-blue-100 text-blue-800"},{value:"medium",label:"Moyen",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"Élevé",color:"bg-red-100 text-red-800"}],y=async S=>{if(S.preventDefault(),!i){g({title:"Erreur",description:"Veuillez sélectionner une raison de signalement.",variant:"destructive"});return}if(!o.trim()){g({title:"Erreur",description:"Veuillez décrire le problème.",variant:"destructive"});return}p(!0);try{const N={listing_id:r.id,type:"listing",reason:i,description:o.trim(),severity:c,status:"pending"};await Pde.createReport(N),g({title:"Signalement envoyé",description:"Votre signalement a été enregistré et sera examiné par notre équipe."}),s(""),l(""),u("medium"),t(),n&&n()}catch(N){console.error("Erreur lors du signalement:",N),g({title:"Erreur",description:"Impossible d'envoyer le signalement. Veuillez réessayer.",variant:"destructive"})}finally{p(!1)}},_=()=>{f||t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(Wt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Og,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx(vr,{children:"Signaler cette annonce"}),a.jsx(Hn,{children:"Aidez-nous à maintenir la qualité de notre plateforme"})]})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:_,disabled:f,className:"h-8 w-8 p-0",children:a.jsx(Ms,{className:"h-4 w-4"})})]}),a.jsxs(Zt,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Annonce signalée :"}),a.jsxs("div",{className:"flex items-start space-x-3",children:[r.images&&r.images[0]&&a.jsx("img",{src:r.images[0],alt:r.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium truncate",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Publiée le ",new Date(r.created_at).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Catégorie : ",r.category]})]})]})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"reason",children:"Raison du signalement *"}),a.jsxs(Cr,{value:i,onValueChange:s,disabled:f,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Sélectionnez une raison"})}),a.jsx(Sr,{children:v.map(S=>a.jsx(Ke,{value:S.value,children:a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium",children:S.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.description})]})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"severity",children:"Niveau de gravité"}),a.jsxs(Cr,{value:c,onValueChange:u,disabled:f,children:[a.jsx(jr,{children:a.jsx(Er,{})}),a.jsx(Sr,{children:w.map(S=>a.jsx(Ke,{value:S.value,children:a.jsx(xt,{className:S.color,variant:"secondary",children:S.label})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(rt,{htmlFor:"description",children:["Description détaillée du problème *",a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(minimum 20 caractères)"})]}),a.jsx(Md,{id:"description",value:o,onChange:S=>l(S.target.value),placeholder:"Décrivez en détail le problème que vous avez identifié...",rows:4,disabled:f,minLength:20,required:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length,"/500 caractères"]})]}),a.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Sp,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("p",{className:"font-medium",children:"Important :"}),a.jsx("p",{children:"Les signalements abusifs peuvent entraîner la suspension de votre compte. Assurez-vous que votre signalement est justifié et basé sur des faits."})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:_,disabled:f,children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:f||!i||o.length<20,className:"bg-red-600 hover:bg-red-700",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}),"Envoi en cours..."]}):a.jsxs(a.Fragment,{children:[a.jsx(d_,{className:"h-4 w-4 mr-2"}),"Envoyer le signalement"]})})]})]})]})]})}):null},yPe=()=>{const{id:e}=zk(),t=Dn(),{user:r}=Zr(),{toast:n}=Sn(),[i,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(!0),[f,p]=x.useState(!1),[g,v]=x.useState(!1),{images:w}=oQ(i);x.useEffect(()=>{e&&(async()=>{u(!0);try{if(!e||e===""||typeof e!="string")throw new Error(`ID d'annonce invalide: "${e}"`);const z=await Vr.getListingById(e);if(z){s(z);try{Vr.incrementViews(z.id)}catch{}z.status!=="approved"&&n({title:"Annonce en attente",description:"Cette annonce est en cours de modération.",variant:"default"});const{data:Y}=await Vr.getAllListings({category:z.category,status:"approved",limit:10});l(Y.filter(Z=>Z.id!==z.id).slice(0,3))}else n({title:"Annonce non trouvée",description:"L'annonce que vous recherchez n'existe pas ou a été supprimée.",variant:"destructive"}),t("/marketplace")}catch(z){console.error("Erreur lors du chargement de l'annonce:",z),console.error("Détails de l'erreur:",{message:z.message,code:z.code,details:z.details,hint:z.hint}),n({title:"Erreur",description:`Impossible de charger les détails de l'annonce: ${z.message}`,variant:"destructive"}),t("/marketplace")}finally{u(!1)}})()},[e,t,n]),x.useEffect(()=>{try{if(typeof window<"u"&&i){const I=i?.location&&typeof i.location=="object"&&i.location.city||"";window.__MAXIMARKET_CONTEXT={listing:{id:i.id,title:i.title,price:i.price,locationCity:I,sellerId:i.user_id,category:i.category}}}}catch{}return()=>{try{typeof window<"u"&&window.__MAXIMARKET_CONTEXT&&delete window.__MAXIMARKET_CONTEXT}catch{}}},[i]);const y=I=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(I),_=I=>new Date(I).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),S=I=>{switch(I){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},N=I=>{switch(I){case"real_estate":return"Immobilier";case"automobile":return"Automobile";case"services":return"Services";case"marketplace":return"Marketplace";default:return"Autre"}},C=async()=>{if(!r){t("/connexion");return}try{p(!f),n({title:f?"Retiré des favoris":"Ajouté aux favoris",description:f?"L'annonce a été retirée de vos favoris.":"L'annonce a été ajoutée à vos favoris."})}catch{n({title:"Erreur",description:"Impossible de modifier les favoris.",variant:"destructive"})}},A=async I=>{if(I==="whatsapp"||I==="phone"){const z=i.contact_info?.phone||i.users?.phone_number;if(!z){n({title:"Pas de numéro disponible",description:"Aucun numéro de téléphone n'est disponible pour cette annonce.",variant:"destructive"});return}const Y=z.replace(/[\s\-\(\)]/g,""),Z=Y.startsWith("+")?Y:Y.startsWith("221")?`+${Y}`:`+221${Y}`;if(I==="phone")window.open(`tel:${Z}`,"_blank"),n({title:"Appel en cours",description:`Appel vers ${Z}`});else if(I==="whatsapp"){const V=encodeURIComponent(`Bonjour ! Je suis intéressé(e) par votre annonce "${i.title}".

Pouvez-vous me donner plus d'informations ?`);window.open(`https://wa.me/${Z}?text=${V}`,"_blank"),n({title:"WhatsApp ouvert",description:`Conversation WhatsApp avec ${Z}`})}return}if(I==="message"){if(!r){n({title:"Connexion requise",description:"Connectez-vous pour envoyer un message privé au vendeur.",variant:"default"}),t("/connexion");return}if(i.user_id===r.id){n({title:"Action impossible",description:"Vous ne pouvez pas vous contacter vous-même.",variant:"destructive"});return}if(!i.user_id||i.user_id==="test-user-1"){n({title:"Annonce de test",description:"Cette annonce est en mode test. Les fonctionnalités de contact ne sont pas disponibles.",variant:"default"});return}try{const Y=await Ti.createConversation(i.user_id,i.id);t(`/messages?conversation=${Y.id}&listing=${i.id}`),n({title:"Conversation créée",description:"Vous avez été redirigé vers la messagerie."})}catch(Y){console.error("Erreur lors de la création de la conversation:",Y),n({title:"Erreur",description:"Impossible de créer la conversation. Veuillez réessayer.",variant:"destructive"})}}},P=()=>{navigator.share?navigator.share({title:i?.title,text:i?.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),n({title:"Lien copié",description:"Le lien de l'annonce a été copié dans le presse-papiers."}))},k=()=>{if(!r){t("/connexion");return}v(!0)},O=()=>{console.log("Signalement soumis avec succès")};return c?a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'annonce..."})]})}):i?a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(ue,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[a.jsx($h,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx(ir,{to:"/",className:"hover:text-primary",children:"Accueil"}),a.jsx("span",{children:"/"}),a.jsx(ir,{to:`/${i.category==="real_estate"?"immobilier":i.category==="automobile"?"automobile":i.category==="services"?"services":"marketplace"}`,className:"hover:text-primary",children:N(i.category)}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:i.title})]})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsx(gPe,{images:w,title:i.title})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.title}),a.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Co,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:i.location&&typeof i.location=="object"&&i.location.city?`${i.location.city}, ${i.location.country||""}`:"Localisation non spécifiée"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ql,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["Publié le ",_(i.created_at)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:P,children:[a.jsx(c9,{className:"h-4 w-4 mr-1"}),"Partager"]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:k,children:[a.jsx(Og,{className:"h-4 w-4 mr-1"}),"Signaler"]})]})]}),a.jsx("div",{className:"text-3xl font-bold text-primary mb-4",children:y(i.price)}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.jsxs(xt,{variant:"secondary",className:"bg-primary/10 text-primary",children:[S(i.category)," ",N(i.category)]}),i.status==="approved"&&a.jsx(xt,{variant:"default",className:"badge-approved",children:"Approuvé"})]})]}),a.jsx(rv,{className:"my-8"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Description"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("p",{className:"whitespace-pre-line",children:i.description})})]}),i.real_estate_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails immobiliers"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.real_estate_details.type&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.type})]}),i.real_estate_details.rooms&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pièces"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.rooms})]}),i.real_estate_details.surface&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),a.jsxs("p",{className:"font-medium",children:[i.real_estate_details.surface," m²"]})]})]})]}),i.automobile_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails automobile"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.automobile_details.brand&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Marque"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.brand})]}),i.automobile_details.model&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Modèle"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.model})]}),i.automobile_details.year&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Année"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.year})]}),i.automobile_details.fuel&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carburant"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.fuel})]})]})]}),a.jsx("div",{className:"mt-12 mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contacter le vendeur"}),i.users&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendeur"}),a.jsxs("p",{className:"font-medium",children:[i.users.first_name," ",i.users.last_name]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs(ue,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>A("whatsapp"),children:[a.jsx(Qi,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),a.jsxs(ue,{className:"w-full",onClick:()=>A("phone"),children:[a.jsx(Da,{className:"h-4 w-4 mr-2"}),"Appeler"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>A("message"),children:[a.jsx(ou,{className:"h-4 w-4 mr-2"}),"Message"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:C,children:[a.jsx(Oo,{className:`h-4 w-4 mr-2 ${f?"fill-red-500 text-red-500":""}`}),f?"Retirer":"Favoris"]})]}),!r&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["💡 ",a.jsx("strong",{children:"Conseil :"})," Vous pouvez contacter le vendeur directement par WhatsApp ou téléphone sans créer de compte. Connectez-vous uniquement si vous souhaitez utiliser la messagerie privée."]})})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conseils de sécurité"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsx("li",{children:"• Rencontrez le vendeur dans un lieu public"}),a.jsx("li",{children:"• Vérifiez l'état du bien avant l'achat"}),a.jsx("li",{children:"• Paiements en espèces recommandés - Évitez tout dépôt électronique sans avoir inspecté le bien et vérifié la fiabilité du vendeur"}),a.jsx("li",{children:"• Signalez tout comportement suspect"})]})]})}),o.length>0&&a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Annonces similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(I=>a.jsx(ir,{to:`/annonce/${I.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:I.title,src:I.images?.[0]||w[0]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:I.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:I.description}),a.jsx("p",{className:"text-lg font-bold text-primary mt-2",children:y(I.price)})]})]})},I.id))})]})]})}),a.jsx(vPe,{isOpen:g,onClose:()=>v(!1),listing:i,onReportSubmitted:O})]}):null},xPe=()=>{const{user:e}=Zr(),[t,r]=x.useState([]),[n,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState("grid"),[u,f]=x.useState(""),[p,g]=x.useState([]),[v,w]=x.useState(null),[y,_]=x.useState(""),S=async()=>{if(e){o(!0);try{const{data:O,error:I}=await Ce.from("favorites").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(I)throw I;const z=O.map(Y=>Y.listing_id);if(z.length>0){const{data:Y,error:Z}=await Ce.from("listings").select(`
            *,
            user:users(id, full_name, avatar_url),
            category:categories(name, slug)
          `).in("id",z).eq("status","approved");if(Z)throw Z;const V=O.map(q=>{const U=Y.find(re=>re.id===q.listing_id);return{...q,listing:U}}).filter(q=>q.listing);r(V),i(Y)}else r([]),i([])}catch(O){console.error("Erreur chargement favoris:",O)}finally{o(!1)}}},N=async O=>{try{const{error:I}=await Ce.from("favorites").delete().eq("id",O);if(I)throw I;r(z=>z.filter(Y=>Y.id!==O))}catch(I){console.error("Erreur suppression favoris:",I)}},C=async(O,I)=>{try{const{error:z}=await Ce.from("favorites").update({notes:I}).eq("id",O);if(z)throw z;r(Y=>Y.map(Z=>Z.id===O?{...Z,notes:I}:Z)),w(null),_("")}catch(z){console.error("Erreur mise à jour notes:",z)}};x.useEffect(()=>{S()},[e]);const A=t.filter(O=>{const I=O.listing;if(!I)return!1;const z=u===""||I.title.toLowerCase().includes(u.toLowerCase())||I.description?.toLowerCase().includes(u.toLowerCase())||O.notes?.toLowerCase().includes(u.toLowerCase()),Y=p.length===0||p.some(Z=>O.tags?.includes(Z));return z&&Y}),P=[...new Set(t.flatMap(O=>O.tags||[]))].sort(),k={total:t.length,withNotes:t.filter(O=>O.notes).length,withTags:t.filter(O=>O.tags&&O.tags.length>0).length,categories:[...new Set(t.map(O=>O.listing?.category?.name).filter(Boolean))]};return e?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[k.total," annonce(s) sauvegardée(s)"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[k.withNotes," avec notes"]}),a.jsxs("span",{children:[k.withTags," avec tags"]}),a.jsxs("span",{children:[k.categories.length," catégories"]})]})]})}),a.jsx("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Rechercher dans vos favoris...",value:u,onChange:O=>f(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(es,{size:20,className:"text-gray-400"}),a.jsxs("select",{value:p.length>0?p[0]:"",onChange:O=>g(O.target.value?[O.target.value]:[]),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Tous les tags"}),P.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded ${l==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(Iue,{size:20})}),a.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded ${l==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(zue,{size:20})})]})]})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de vos favoris..."})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Oo,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:u||p.length>0?"Aucun résultat":"Aucun favori"}),a.jsx("p",{className:"mt-2 text-gray-600",children:u||p.length>0?"Essayez de modifier vos critères de recherche":"Commencez à ajouter des annonces à vos favoris"})]}):a.jsx("div",{className:l==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(O=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4",children:a.jsx(fu,{listing:O.listing,compact:l==="list"})}),a.jsxs("div",{className:"px-4 pb-4",children:[O.tags&&O.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:O.tags.map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(Wd,{size:12,className:"mr-1"}),I]},I))}),a.jsx("div",{className:"mb-3",children:v===O.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:y,onChange:I=>_(I.target.value),placeholder:"Ajouter une note...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:"2"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>C(O.id,y),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Sauvegarder"}),a.jsx("button",{onClick:()=>{w(null),_("")},className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Annuler"})]})]}):a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600 flex-1",children:O.notes||"Aucune note"}),a.jsx("button",{onClick:()=>{w(O.id),_(O.notes||"")},className:"ml-2 p-1 text-gray-400 hover:text-gray-600",children:a.jsx(Gue,{size:14})})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Ajouté le ",new Date(O.created_at).toLocaleDateString("fr-FR")]}),a.jsxs("button",{onClick:()=>N(O.id),className:"flex items-center space-x-1 text-red-600 hover:text-red-800 text-sm",children:[a.jsx(Lue,{size:14}),a.jsx("span",{children:"Retirer"})]})]})]})]},O.id))})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Connectez-vous pour voir vos favoris"})})},bPe=()=>a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(Oo,{className:"h-12 w-12 text-primary mr-4"}),a.jsx("h1",{className:"text-4xl font-bold",children:"Mes Favoris"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Retrouvez toutes vos annonces sauvegardées et gérez vos favoris en toute simplicité."})]}),a.jsxs(Wt,{className:"shadow-lg border-0",children:[a.jsx(gr,{children:a.jsxs(vr,{className:"flex items-center space-x-2",children:[a.jsx(Oo,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Annonces Favorites"})]})}),a.jsx(Zt,{children:a.jsx(xPe,{})})]}),a.jsxs("div",{className:"text-center mt-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>window.location.href="/marketplace",children:"Explorer le Marketplace"})]})]})}),wPe=()=>{const{user:e,hasRole:t}=Zr(),r=Dn(),[n,i]=x.useState(!1),[s,o]=x.useState(!0),[l,c]=x.useState(!0),[u,f]=x.useState([{title:"Utilisateurs Actifs",value:"-",icon:a.jsx(za,{className:"h-8 w-8 text-blue-400"}),trend:"Chargement...",color:"blue",key:"activeUsers"},{title:"Annonces en Attente",value:"-",icon:a.jsx(Rg,{className:"h-8 w-8 text-yellow-400"}),trend:"Chargement...",color:"yellow",key:"pendingListings"},{title:"Revenus (30j)",value:"-",icon:a.jsx(Ed,{className:"h-8 w-8 text-green-400"}),trend:"Chargement...",color:"green",key:"revenue"},{title:"Activités Récentes",value:"-",icon:a.jsx(Qi,{className:"h-8 w-8 text-red-400"}),trend:"Chargement...",color:"red",key:"recentActivities"}]),[p,g]=x.useState([]),[v]=x.useState([{label:"Gérer les Annonces",icon:a.jsx(Rg,{className:"mr-3 h-5 w-5"}),color:"blue",link:"/admin/listings"},{label:"Gérer les Utilisateurs",icon:a.jsx(za,{className:"mr-3 h-5 w-5"}),color:"green",link:"/admin/users"},{label:"Voir les Transactions",icon:a.jsx(Ed,{className:"mr-3 h-5 w-5"}),color:"purple",link:"/admin/transactions"},{label:"Statistiques Détaillées",icon:a.jsx(RO,{className:"mr-3 h-5 w-5"}),color:"teal",link:"/admin/analytics"}]);x.useEffect(()=>{(async()=>{try{if(e){const S=t("admin");if(i(S),!S){EN.error("Accès non autorisé"),r("/");return}await w()}else r("/connexion",{state:{from:"/admin"}})}catch(S){console.error("Erreur de vérification des autorisations:",S),EN.error("Erreur lors de la vérification des autorisations"),r("/")}finally{o(!1)}})()},[e,t,r]);const w=async()=>{try{c(!0);const[_,S,N]=await Promise.all([Vr.getAllListings(),$a.getAllUsers(),h9.getUserNotifications()]),C=S.filter(z=>z.status==="active").length,A=S.length,P=_.filter(z=>z.status==="pending").length,k=_.length,O=N.slice(0,5);f(z=>z.map(Y=>Y.key==="activeUsers"?{...Y,value:C.toLocaleString(),trend:`Total: ${A}`}:Y.key==="pendingListings"?{...Y,value:P.toString(),trend:`Total: ${k}`}:Y.key==="revenue"?{...Y,value:"0 FCFA",trend:"Revenus du mois"}:Y.key==="recentActivities"?{...Y,value:O.length.toString(),trend:"Dernières activités"}:Y));const I=O.map(z=>({id:z.id,type:z.type||"Notification",item:z.title||z.message||"Nouvelle activité",timestamp:z.created_at,status:z.read?"read":"unread"}));g(I)}catch(_){console.error("Erreur lors du chargement des données du tableau de bord:",_),EN.error("Erreur lors du chargement des données")}finally{c(!1)}};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Tr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!n)return a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Gn,{className:"h-12 w-12 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accès refusé"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),a.jsx(ue,{onClick:()=>r("/"),children:"Retour à l'accueil"})]})});const y=(_,S)=>{if(S==="Approuvée"||S==="Complétée"||S.startsWith("VIP"))return a.jsx(Hue,{className:"h-5 w-5 text-green-400"});if(S==="En attente KYC"||S==="En cours d'examen")return a.jsx(Sp,{className:"h-5 w-5 text-yellow-400"});switch(_){case"Immobilier":return a.jsx(Rg,{className:"h-5 w-5 text-blue-400"});case"Automobile":return a.jsx(u_,{className:"h-5 w-5 text-red-400"});case"Services":return a.jsx(Cd,{className:"h-5 w-5 text-purple-400"});case"Marketplace":return a.jsx(Vd,{className:"h-5 w-5 text-yellow-400"});case"Utilisateur":return a.jsx(za,{className:"h-5 w-5 text-teal-400"});default:return a.jsx(f_,{className:"h-5 w-5 text-gray-400"})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 sm:p-8",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:["Tableau de Bord Administrateur ",a.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),a.jsx("p",{className:"text-md sm:text-lg text-slate-400",children:"Vue d'ensemble et gestion de la marketplace."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-10",children:u.map((_,S)=>a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:S*.1},className:`bg-slate-800 p-5 rounded-xl shadow-lg border border-slate-700 hover:border-${_.color}-500 transition-colors`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-md font-semibold text-slate-300",children:_.title}),_.icon]}),l?a.jsx("div",{className:"flex items-center justify-center h-12",children:a.jsx(Tr,{className:"h-6 w-6 animate-spin text-gray-400"})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:_.value}),a.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[a.jsx(wo,{className:`mr-1 h-4 w-4 text-${_.color}-400`}),_.trend]})]})]},_.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[a.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"lg:col-span-1 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Actions Rapides"}),a.jsx("div",{className:"space-y-3",children:v.map(_=>a.jsxs("a",{href:_.link,className:`w-full flex items-center justify-start p-3 bg-${_.color}-600/10 hover:bg-${_.color}-600/20 text-${_.color}-300 rounded-lg transition-colors`,children:[_.icon," ",_.label]},_.label))})]}),a.jsxs(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Activité Récente"}),a.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:l?a.jsx("div",{className:"flex items-center justify-center h-40",children:a.jsx(Tr,{className:"h-8 w-8 animate-spin text-blue-400"})}):p.length>0?p.map(_=>a.jsxs("div",{className:"flex items-start p-3 bg-slate-700/50 rounded-lg",children:[a.jsx("div",{className:`p-2 bg-${_.status==="Approuvée"||_.status==="Complétée"||_.status.startsWith("VIP")?"green":_.status==="En attente KYC"||_.status==="En cours d'examen"?"yellow":"slate"}-600/30 rounded-full mr-3`,children:y(_.category,_.status)}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("p",{className:"font-medium text-slate-200 text-sm",children:[a.jsxs("span",{className:"font-bold",children:[_.type,":"]})," ",_.item,_.value&&a.jsxs("span",{className:"text-green-400",children:[" (",_.value,")"]})]}),a.jsxs("p",{className:"text-xs text-slate-400",children:[_.time," par ",_.user," - ",a.jsx("span",{className:`font-semibold text-${_.status==="Approuvée"||_.status==="Complétée"||_.status.startsWith("VIP")?"green":_.status==="En attente KYC"||_.status==="En cours d'examen"?"yellow":"slate"}-400`,children:_.status})]})]})]},_.id)):a.jsx("div",{className:"text-center py-8 text-slate-400",children:"Aucune activité récente à afficher"})})]})]})]})},_Pe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},jPe=(e,t,r)=>{let n;const i=_Pe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},SPe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},NPe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},CPe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EPe={date:Th({formats:SPe,defaultWidth:"full"}),time:Th({formats:NPe,defaultWidth:"full"}),dateTime:Th({formats:CPe,defaultWidth:"full"})},PPe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},TPe=(e,t,r,n)=>PPe[e],APe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},kPe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},OPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},RPe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},MPe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},IPe=(e,t)=>{const r=Number(e),n=t?.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},LPe=["MMM","MMMM"],DPe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&LPe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:IPe,era:xo({values:APe,defaultWidth:"wide"}),quarter:xo({values:kPe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xo({values:OPe,defaultWidth:"wide"}),day:xo({values:RPe,defaultWidth:"wide"}),dayPeriod:xo({values:MPe,defaultWidth:"wide"})},$Pe=/^(\d+)(ième|ère|ème|er|e)?/i,FPe=/\d+/i,BPe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},zPe={any:[/^av/i,/^ap/i]},qPe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},UPe={any:[/1/i,/2/i,/3/i,/4/i]},VPe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},WPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},HPe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},KPe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},GPe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},ZPe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},YPe={ordinalNumber:MX({matchPattern:$Pe,parsePattern:FPe,valueCallback:e=>parseInt(e)}),era:bo({matchPatterns:BPe,defaultMatchWidth:"wide",parsePatterns:zPe,defaultParseWidth:"any"}),quarter:bo({matchPatterns:qPe,defaultMatchWidth:"wide",parsePatterns:UPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bo({matchPatterns:VPe,defaultMatchWidth:"wide",parsePatterns:WPe,defaultParseWidth:"any"}),day:bo({matchPatterns:HPe,defaultMatchWidth:"wide",parsePatterns:KPe,defaultParseWidth:"any"}),dayPeriod:bo({matchPatterns:GPe,defaultMatchWidth:"any",parsePatterns:ZPe,defaultParseWidth:"any"})},zp={code:"fr",formatDistance:jPe,formatLong:EPe,formatRelative:TPe,localize:DPe,match:YPe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function XPe(){const{toast:e}=Sn(),t=zo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[f,p]=x.useState("desc"),[g,v]=x.useState(1),[w,y]=x.useState(10),{data:_,isLoading:S,isError:N}=ri({queryKey:["adminUsers",{searchTerm:r,statusFilter:i,roleFilter:o,sortBy:c,sortOrder:f,page:g,perPage:w}],queryFn:async()=>await $a.getAllUsers()}),C=ii({mutationFn:({userId:V,status:q})=>$a.updateUserStatus(V,q),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Statut utilisateur mis à jour avec succès"})},onError:V=>{e({title:"Erreur",description:V.message||"Une erreur est survenue",variant:"destructive"})}}),A=ii({mutationFn:V=>$a.updateUserStatus(V,"deleted"),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Utilisateur supprimé avec succès"})},onError:V=>{e({title:"Erreur",description:V.message||"Une erreur est survenue lors de la suppression",variant:"destructive"})}}),P=ii({mutationFn:({userId:V,role:q})=>$a.updateProfile({role:q}),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Rôle utilisateur mis à jour avec succès"})},onError:V=>{e({title:"Erreur",description:V.message||"Une erreur est survenue",variant:"destructive"})}}),k=(V,q)=>{C.mutate({userId:V,status:q})},O=(V,q)=>{P.mutate({userId:V,role:q})},I=V=>{window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.")&&A.mutate(V)},z=()=>{try{if(!_||_.length===0){e({title:"Aucune donnée",description:"Aucun utilisateur à exporter",variant:"destructive"});return}h_.users(_,"utilisateurs-maximarket"),e({title:"Export réussi",description:"Liste des utilisateurs exportée en CSV"})}catch(V){e({title:"Erreur d'export",description:V.message||"Impossible d'exporter les données",variant:"destructive"})}},Y=()=>{e({title:"Fonctionnalité à venir",description:"La création d'utilisateur sera bientôt disponible"})},Z=V=>{n(V.target.value),v(1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les utilisateurs de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>z(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:Y,children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Nouvel Utilisateur"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher un utilisateur...",className:"pl-8",value:r,onChange:V=>n(V.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Cr,{value:i,onValueChange:s,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les statuts"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les statuts"}),a.jsx(Ke,{value:"active",children:"Actif"}),a.jsx(Ke,{value:"inactive",children:"Inactif"}),a.jsx(Ke,{value:"suspended",children:"Suspendu"}),a.jsx(Ke,{value:"pending",children:"En attente"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rôle"}),a.jsxs(Cr,{value:o,onValueChange:l,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les rôles"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les rôles"}),a.jsx(Ke,{value:"user",children:"Utilisateur"}),a.jsx(Ke,{value:"vendor",children:"Vendeur"}),a.jsx(Ke,{value:"admin",children:"Administrateur"}),a.jsx(Ke,{value:"moderator",children:"Modérateur"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Cr,{value:c,onValueChange:u,children:[a.jsx(jr,{className:"w-full",children:a.jsx(Er,{placeholder:"Trier par"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"createdAt",children:"Date d'inscription"}),a.jsx(Ke,{value:"name",children:"Nom"}),a.jsx(Ke,{value:"email",children:"Email"}),a.jsx(Ke,{value:"lastLogin",children:"Dernière connexion"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>p(f==="asc"?"desc":"asc"),children:f==="asc"?a.jsx(bd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(es,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Lp,{children:[a.jsx(Dp,{children:a.jsxs(tn,{children:[a.jsx(lr,{children:"Utilisateur"}),a.jsx(lr,{children:"Email"}),a.jsx(lr,{children:"Rôle"}),a.jsx(lr,{children:"Statut"}),a.jsx(lr,{children:"Inscrit le"}),a.jsx(lr,{className:"text-right",children:"Actions"})]})}),a.jsx($p,{children:S?a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des utilisateurs"})}):data?.users?.length>0?data.users.map(V=>a.jsxs(tn,{children:[a.jsx(Ot,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:V.name?.charAt(0)||"U"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:V.name||"Utilisateur sans nom"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",V._id?.substring(0,6),"..."]})]})]})}),a.jsx(Ot,{children:V.email}),a.jsx(Ot,{children:a.jsxs(Cr,{value:V.role,onValueChange:q=>O(V._id,q),disabled:P.isLoading,children:[a.jsx(jr,{className:"w-[120px]",children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"user",children:"Utilisateur"}),a.jsx(Ke,{value:"vendor",children:"Vendeur"}),a.jsx(Ke,{value:"moderator",children:"Modérateur"}),a.jsx(Ke,{value:"admin",children:"Administrateur"})]})]})}),a.jsx(Ot,{children:a.jsx(xt,{variant:V.status==="active"?"success":V.status==="suspended"?"destructive":"outline",className:"capitalize",children:V.status==="active"?"Actif":V.status==="suspended"?"Suspendu":V.status==="pending"?"En attente":"Inactif"})}),a.jsx(Ot,{children:V.createdAt?zr(new Date(V.createdAt),"PP",{locale:zp}):"N/A"}),a.jsx(Ot,{className:"text-right",children:a.jsxs(Ny,{children:[a.jsx(Cy,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(qd,{className:"h-4 w-4"})]})}),a.jsxs(Op,{align:"end",children:[a.jsxs(Kn,{children:[a.jsx(ou,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Envoyer un message"})]}),a.jsx(Kn,{onClick:()=>k(V._id,V.status==="active"?"suspended":"active"),disabled:C.isLoading,children:V.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(ade,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Suspendre"})]}):a.jsxs(a.Fragment,{children:[a.jsx(sde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Activer"})]})}),a.jsx(Rp,{}),a.jsxs(Kn,{className:"text-destructive",onClick:()=>I(V._id),disabled:A.isLoading,children:[a.jsx(Ro,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},V._id)):a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Aucun utilisateur trouvé"})})})]})}),data?.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*w+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*w,data.totalCount)})," ","sur ",a.jsx("span",{className:"font-medium",children:data.totalCount})," utilisateurs"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Cr,{value:`${w}`,onValueChange:V=>{y(Number(V)),v(1)},children:[a.jsx(jr,{className:"h-8 w-[70px]",children:a.jsx(Er,{placeholder:w})}),a.jsx(Sr,{side:"top",children:[5,10,20,30,40,50].map(V=>a.jsx(Ke,{value:`${V}`,children:V},V))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",data.totalPages]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(ry,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(data.totalPages,g+1)),disabled:g===data.totalPages,children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Va,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(data.totalPages),disabled:g===data.totalPages,children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(ny,{className:"h-4 w-4"})]})]})]})]})]})}function QPe(){const{toast:e}=Sn(),t=zo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[f,p]=x.useState("desc"),[g,v]=x.useState(1),[w,y]=x.useState(10),{data:_,isLoading:S,isError:N}=ri({queryKey:["adminListings",{searchTerm:r,statusFilter:i,categoryFilter:o,sortBy:c,sortOrder:f,page:g,perPage:w}],queryFn:async()=>{const U={};return r&&(U.search=r),i!=="all"&&(U.status=i),o!=="all"&&(U.category=o),await Vr.getAllListings(U)}}),{data:C}=ri({queryKey:["categories"],queryFn:()=>pg.getAllCategories()}),A=ii({mutationFn:U=>Vr.updateListingStatus(U,"approved"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce approuvée avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Erreur lors de l'approbation",variant:"destructive"})}}),P=ii({mutationFn:U=>Vr.updateListingStatus(U,"rejected"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce rejetée avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Erreur lors du rejet",variant:"destructive"})}}),k=ii({mutationFn:U=>Vr.deleteListing(U),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce supprimée avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Erreur lors de la suppression",variant:"destructive"})}}),O=ii({mutationFn:({listingId:U,featured:re})=>Vr.updateListing(U,{featured:re}),onSuccess:(U,re)=>{t.invalidateQueries(["adminListings"]);const ae=re.featured?"mise en avant":"retirée de l'avant";e({title:"Succès",description:`Annonce ${ae} avec succès`})},onError:U=>{e({title:"Erreur",description:U.message||"Erreur lors de la mise à jour",variant:"destructive"})}}),I=U=>{A.mutate(U)},z=U=>{P.mutate(U)},Y=U=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette annonce ?")&&k.mutate(U)},Z=(U,re)=>{O.mutate({listingId:U,featured:re})},V=U=>{n(U.target.value),v(1)},q=()=>{try{if(!_||_.length===0){e({title:"Aucune donnée",description:"Aucune annonce à exporter",variant:"destructive"});return}h_.listings(_,"annonces-maximarket"),e({title:"Export réussi",description:"Liste des annonces exportée en CSV"})}catch(U){e({title:"Erreur d'export",description:U.message||"Impossible d'exporter les données",variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et modérez les annonces de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>q(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsx(ue,{asChild:!0,children:a.jsxs(ir,{to:"/creer-annonce",children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Nouvelle Annonce"]})})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:V,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher une annonce...",className:"pl-8",value:r,onChange:V})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Cr,{value:i,onValueChange:s,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les statuts"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les statuts"}),a.jsx(Ke,{value:"pending",children:"En attente"}),a.jsx(Ke,{value:"approved",children:"Approuvé"}),a.jsx(Ke,{value:"rejected",children:"Rejeté"}),a.jsx(Ke,{value:"active",children:"Actif"}),a.jsx(Ke,{value:"inactive",children:"Inactif"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Catégorie"}),a.jsxs(Cr,{value:o,onValueChange:l,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Toutes les catégories"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Toutes les catégories"}),a.jsx(Ke,{value:"real-estate",children:"Immobilier"}),a.jsx(Ke,{value:"automotive",children:"Automobile"}),a.jsx(Ke,{value:"services",children:"Services"}),a.jsx(Ke,{value:"general",children:"Général"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Cr,{value:c,onValueChange:u,children:[a.jsx(jr,{className:"w-full",children:a.jsx(Er,{placeholder:"Trier par"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"created_at",children:"Date de création"}),a.jsx(Ke,{value:"title",children:"Titre"}),a.jsx(Ke,{value:"price",children:"Prix"}),a.jsx(Ke,{value:"views",children:"Vues"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>p(f==="asc"?"desc":"asc"),children:f==="asc"?a.jsx(bd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(es,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",onClick:()=>q(),children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Lp,{children:[a.jsx(Dp,{children:a.jsxs(tn,{children:[a.jsx(lr,{children:"Annonce"}),a.jsx(lr,{children:"Catégorie"}),a.jsx(lr,{children:"Prix"}),a.jsx(lr,{children:"Statut"}),a.jsx(lr,{children:"Créé le"}),a.jsx(lr,{className:"text-right",children:"Actions"})]})}),a.jsx($p,{children:S?a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des annonces"})}):_?.length>0?_.map(U=>a.jsxs(tn,{children:[a.jsx(Ot,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-md bg-slate-100 flex items-center justify-center",children:U.images?.[0]?a.jsx("img",{src:U.images[0],alt:U.title,className:"h-12 w-12 rounded-md object-cover"}):a.jsx("div",{className:"text-slate-400",children:"📷"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.title}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Par ",U.user?.name||"Utilisateur"]})]})]})}),a.jsx(Ot,{children:a.jsx(xt,{variant:"outline",className:"capitalize",children:U.category==="real-estate"?"Immobilier":U.category==="automotive"?"Automobile":U.category==="services"?"Services":"Général"})}),a.jsx(Ot,{children:U.price?`${U.price.toLocaleString()} FCFA`:"N/A"}),a.jsx(Ot,{children:a.jsx(xt,{variant:U.status==="approved"?"success":U.status==="rejected"?"destructive":"outline",className:"capitalize",children:U.status==="pending"?"En attente":U.status==="approved"?"Approuvé":U.status==="rejected"?"Rejeté":U.status==="active"?"Actif":"Inactif"})}),a.jsx(Ot,{children:U.created_at?zr(new Date(U.created_at),"PP",{locale:zp}):"N/A"}),a.jsx(Ot,{className:"text-right",children:a.jsxs(Ny,{children:[a.jsx(Cy,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(qd,{className:"h-4 w-4"})]})}),a.jsxs(Op,{align:"end",children:[a.jsxs(Kn,{children:[a.jsx(Rl,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Voir les détails"})]}),U.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(Kn,{onClick:()=>I(U.id),disabled:A.isLoading,children:[a.jsx(Rs,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),a.jsxs(Kn,{onClick:()=>z(U.id),disabled:P.isLoading,children:[a.jsx(LO,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Rejeter"})]})]}),a.jsx(Kn,{onClick:()=>Z(U.id,!U.featured),disabled:O.isLoading,children:U.featured?a.jsxs(a.Fragment,{children:[a.jsx(rde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Retirer la mise en avant"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Mettre en avant"})]})}),a.jsx(Rp,{}),a.jsxs(Kn,{className:"text-destructive",onClick:()=>Y(U.id),disabled:k.isLoading,children:[a.jsx(Ro,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},U.id)):a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"h-24 text-center",children:"Aucune annonce trouvée"})})})]})}),_?.total_count>0&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*w+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*w,_.total_count)})," ","sur ",a.jsx("span",{className:"font-medium",children:_.total_count})," annonces"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Cr,{value:`${w}`,onValueChange:U=>{y(Number(U)),v(1)},children:[a.jsx(jr,{className:"h-8 w-[70px]",children:a.jsx(Er,{placeholder:w})}),a.jsx(Sr,{side:"top",children:[5,10,20,30,40,50].map(U=>a.jsx(Ke,{value:`${U}`,children:U},U))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",_.total_pages]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(ry,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(_.total_pages,g+1)),disabled:g===_.total_pages,children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Va,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(_.total_pages),disabled:g===_.total_pages,children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(ny,{className:"h-4 w-4"})]})]})]})]})]})}function JPe(){const[e,t]=x.useState(""),[r,n]=x.useState("all"),[i,s]=x.useState("all"),[o,l]=x.useState("created_at"),[c,u]=x.useState("desc"),[f,p]=x.useState(1),[g,v]=x.useState(10),{data:w,isLoading:y,isError:_}=ri({queryKey:["adminTransactions",{searchTerm:e,statusFilter:r,typeFilter:i,sortBy:o,sortOrder:c,page:f,perPage:g}],queryFn:async()=>{const k={};return r!=="all"&&(k.status=r),i!=="all"&&(k.type=i),await Nde.getAllTransactions(k)}}),S=k=>{t(k.target.value),p(1)},N=(k,O="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:O,minimumFractionDigits:0,maximumFractionDigits:0}).format(k),C=k=>{switch(k){case"completed":return a.jsxs(xt,{variant:"success",children:[a.jsx(Rs,{className:"mr-1 h-3 w-3"})," Complétée"]});case"pending":return a.jsxs(xt,{variant:"warning",children:[a.jsx(Wa,{className:"mr-1 h-3 w-3"})," En attente"]});case"failed":return a.jsxs(xt,{variant:"destructive",children:[a.jsx(LO,{className:"mr-1 h-3 w-3"})," Échouée"]});case"refunded":return a.jsxs(xt,{variant:"outline",children:[a.jsx(kg,{className:"mr-1 h-3 w-3"})," Remboursée"]});default:return a.jsx(xt,{variant:"outline",children:k})}},A=k=>{switch(k){case"purchase":return a.jsx(xt,{variant:"default",children:"Achat"});case"subscription":return a.jsx(xt,{variant:"secondary",children:"Abonnement"});case"refund":return a.jsx(xt,{variant:"outline",children:"Remboursement"});default:return a.jsx(xt,{variant:"outline",children:k})}},P=w?{totalRevenue:w.filter(k=>k.status==="completed").reduce((k,O)=>k+(O.amount||0),0),totalTransactions:w.length,successRate:w.length>0?Math.round(w.filter(k=>k.status==="completed").length/w.length*100):0,averageOrderValue:w.filter(k=>k.status==="completed").length>0?w.filter(k=>k.status==="completed").reduce((k,O)=>k+(O.amount||0),0)/w.filter(k=>k.status==="completed").length:0}:{totalRevenue:0,totalTransactions:0,successRate:0,averageOrderValue:0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et surveillez toutes les transactions de la plateforme"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(Ed,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chiffre d'affaires total"}),a.jsx("p",{className:"text-2xl font-bold",children:N(P.totalRevenue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 12% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(kg,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),a.jsx("p",{className:"text-2xl font-bold",children:P.totalTransactions})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 8% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Rs,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de réussite"}),a.jsxs("p",{className:"text-2xl font-bold",children:[P.successRate,"%"]})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 2% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/50",children:a.jsx(Gn,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur moyenne"}),a.jsx("p",{className:"text-2xl font-bold",children:N(P.averageOrderValue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 5% "}),"vs période précédente"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsx("form",{onSubmit:k=>{k.preventDefault(),p(1)},className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rechercher"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher une transaction...",className:"pl-8",value:e,onChange:S})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Cr,{value:r,onValueChange:n,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les statuts"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les statuts"}),a.jsx(Ke,{value:"pending",children:"En attente"}),a.jsx(Ke,{value:"completed",children:"Complétée"}),a.jsx(Ke,{value:"failed",children:"Échouée"}),a.jsx(Ke,{value:"refunded",children:"Remboursée"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(Cr,{value:i,onValueChange:s,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les types"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les types"}),a.jsx(Ke,{value:"purchase",children:"Achats"}),a.jsx(Ke,{value:"subscription",children:"Abonnements"}),a.jsx(Ke,{value:"refund",children:"Remboursements"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs(Cr,{value:o,onValueChange:l,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Trier par"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"created_at",children:"Date"}),a.jsx(Ke,{value:"amount",children:"Montant"}),a.jsx(Ke,{value:"reference",children:"Référence"})]})]})]})]})})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Lp,{children:[a.jsx(Dp,{children:a.jsxs(tn,{children:[a.jsx(lr,{children:"Référence"}),a.jsx(lr,{children:"Utilisateur"}),a.jsx(lr,{children:"Montant"}),a.jsx(lr,{children:"Type"}),a.jsx(lr,{children:"Statut"}),a.jsx(lr,{children:"Date"}),a.jsx(lr,{className:"text-right",children:"Actions"})]})}),a.jsx($p,{children:y?a.jsx(tn,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement des transactions..."})]})})}):_?a.jsx(tn,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-destructive",children:[a.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Erreur lors du chargement des transactions"]})})}):w?.length===0?a.jsx(tn,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(kg,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucune transaction trouvée"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transactions apparaîtront ici une fois qu'elles seront créées."})]})})}):w?.map(k=>a.jsxs(tn,{children:[a.jsx(Ot,{className:"font-medium",children:k.payment_reference||k.id.slice(0,8)}),a.jsx(Ot,{children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[k.users?.first_name," ",k.users?.last_name]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:k.users?.email})]})}),a.jsx(Ot,{className:"font-medium",children:N(k.amount,k.currency)}),a.jsx(Ot,{children:A(k.type)}),a.jsx(Ot,{children:C(k.status)}),a.jsx(Ot,{children:k.created_at?zr(new Date(k.created_at),"PP",{locale:zp}):"N/A"}),a.jsx(Ot,{className:"text-right",children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(qd,{className:"h-4 w-4"})})})]},k.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(f-1)*g+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(f*g,w?.length||0)})," ","sur ",a.jsx("span",{className:"font-medium",children:w?.length||0})," transactions"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Cr,{value:`${g}`,onValueChange:k=>{v(Number(k)),p(1)},children:[a.jsx(jr,{className:"h-8 w-[70px]",children:a.jsx(Er,{placeholder:g})}),a.jsx(Sr,{side:"top",children:[5,10,20,30,40,50].map(k=>a.jsx(Ke,{value:`${k}`,children:k},k))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",f," sur ",Math.ceil((w?.length||0)/g)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(1),disabled:f===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(ry,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.max(1,f-1)),disabled:f===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.min(Math.ceil((w?.length||0)/g),f+1)),disabled:f===Math.ceil((w?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Va,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.ceil((w?.length||0)/g)),disabled:f===Math.ceil((w?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(ny,{className:"h-4 w-4"})]})]})]})]})]})}var PN,U3;function ns(){if(U3)return PN;U3=1;var e=Array.isArray;return PN=e,PN}var TN,V3;function lQ(){if(V3)return TN;V3=1;var e=typeof Es=="object"&&Es&&Es.Object===Object&&Es;return TN=e,TN}var AN,W3;function Uo(){if(W3)return AN;W3=1;var e=lQ(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return AN=r,AN}var kN,H3;function ky(){if(H3)return kN;H3=1;var e=Uo(),t=e.Symbol;return kN=t,kN}var ON,K3;function e2e(){if(K3)return ON;K3=1;var e=ky(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(l?o[i]=c:delete o[i]),f}return ON=s,ON}var RN,G3;function t2e(){if(G3)return RN;G3=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return RN=r,RN}var MN,Z3;function Wl(){if(Z3)return MN;Z3=1;var e=ky(),t=e2e(),r=t2e(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?t(l):r(l)}return MN=o,MN}var IN,Y3;function Hl(){if(Y3)return IN;Y3=1;function e(t){return t!=null&&typeof t=="object"}return IN=e,IN}var LN,X3;function qp(){if(X3)return LN;X3=1;var e=Wl(),t=Hl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return LN=n,LN}var DN,Q3;function gM(){if(Q3)return DN;Q3=1;var e=ns(),t=qp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return DN=i,DN}var $N,J3;function xu(){if(J3)return $N;J3=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return $N=e,$N}var FN,eB;function vM(){if(eB)return FN;eB=1;var e=Wl(),t=xu(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==i||c==r||c==s}return FN=o,FN}var BN,tB;function r2e(){if(tB)return BN;tB=1;var e=Uo(),t=e["__core-js_shared__"];return BN=t,BN}var zN,rB;function n2e(){if(rB)return zN;rB=1;var e=r2e(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return zN=r,zN}var qN,nB;function cQ(){if(nB)return qN;nB=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return qN=r,qN}var UN,iB;function i2e(){if(iB)return UN;iB=1;var e=vM(),t=n2e(),r=xu(),n=cQ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||t(g))return!1;var v=e(g)?f:s;return v.test(n(g))}return UN=p,UN}var VN,sB;function s2e(){if(sB)return VN;sB=1;function e(t,r){return t?.[r]}return VN=e,VN}var WN,aB;function Xd(){if(aB)return WN;aB=1;var e=i2e(),t=s2e();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return WN=r,WN}var HN,oB;function X_(){if(oB)return HN;oB=1;var e=Xd(),t=e(Object,"create");return HN=t,HN}var KN,lB;function a2e(){if(lB)return KN;lB=1;var e=X_();function t(){this.__data__=e?e(null):{},this.size=0}return KN=t,KN}var GN,cB;function o2e(){if(cB)return GN;cB=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return GN=e,GN}var ZN,uB;function l2e(){if(uB)return ZN;uB=1;var e=X_(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return n.call(o,s)?o[s]:void 0}return ZN=i,ZN}var YN,dB;function c2e(){if(dB)return YN;dB=1;var e=X_(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return YN=n,YN}var XN,fB;function u2e(){if(fB)return XN;fB=1;var e=X_(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return XN=r,XN}var QN,hB;function d2e(){if(hB)return QN;hB=1;var e=a2e(),t=o2e(),r=l2e(),n=c2e(),i=u2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,QN=s,QN}var JN,pB;function f2e(){if(pB)return JN;pB=1;function e(){this.__data__=[],this.size=0}return JN=e,JN}var eC,mB;function yM(){if(mB)return eC;mB=1;function e(t,r){return t===r||t!==t&&r!==r}return eC=e,eC}var tC,gB;function Q_(){if(gB)return tC;gB=1;var e=yM();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return tC=t,tC}var rC,vB;function h2e(){if(vB)return rC;vB=1;var e=Q_(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return rC=n,rC}var nC,yB;function p2e(){if(yB)return nC;yB=1;var e=Q_();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return nC=t,nC}var iC,xB;function m2e(){if(xB)return iC;xB=1;var e=Q_();function t(r){return e(this.__data__,r)>-1}return iC=t,iC}var sC,bB;function g2e(){if(bB)return sC;bB=1;var e=Q_();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return sC=t,sC}var aC,wB;function J_(){if(wB)return aC;wB=1;var e=f2e(),t=h2e(),r=p2e(),n=m2e(),i=g2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,aC=s,aC}var oC,_B;function xM(){if(_B)return oC;_B=1;var e=Xd(),t=Uo(),r=e(t,"Map");return oC=r,oC}var lC,jB;function v2e(){if(jB)return lC;jB=1;var e=d2e(),t=J_(),r=xM();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return lC=n,lC}var cC,SB;function y2e(){if(SB)return cC;SB=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return cC=e,cC}var uC,NB;function e1(){if(NB)return uC;NB=1;var e=y2e();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return uC=t,uC}var dC,CB;function x2e(){if(CB)return dC;CB=1;var e=e1();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return dC=t,dC}var fC,EB;function b2e(){if(EB)return fC;EB=1;var e=e1();function t(r){return e(this,r).get(r)}return fC=t,fC}var hC,PB;function w2e(){if(PB)return hC;PB=1;var e=e1();function t(r){return e(this,r).has(r)}return hC=t,hC}var pC,TB;function _2e(){if(TB)return pC;TB=1;var e=e1();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return pC=t,pC}var mC,AB;function bM(){if(AB)return mC;AB=1;var e=v2e(),t=x2e(),r=b2e(),n=w2e(),i=_2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,mC=s,mC}var gC,kB;function uQ(){if(kB)return gC;kB=1;var e=bM(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||e),s}return r.Cache=e,gC=r,gC}var vC,OB;function j2e(){if(OB)return vC;OB=1;var e=uQ(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return vC=r,vC}var yC,RB;function S2e(){if(RB)return yC;RB=1;var e=j2e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return yC=n,yC}var xC,MB;function wM(){if(MB)return xC;MB=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return xC=e,xC}var bC,IB;function N2e(){if(IB)return bC;IB=1;var e=ky(),t=wM(),r=ns(),n=qp(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return bC=o,bC}var wC,LB;function dQ(){if(LB)return wC;LB=1;var e=N2e();function t(r){return r==null?"":e(r)}return wC=t,wC}var _C,DB;function fQ(){if(DB)return _C;DB=1;var e=ns(),t=gM(),r=S2e(),n=dQ();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return _C=i,_C}var jC,$B;function t1(){if($B)return jC;$B=1;var e=qp();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return jC=t,jC}var SC,FB;function _M(){if(FB)return SC;FB=1;var e=fQ(),t=t1();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return SC=r,SC}var NC,BB;function hQ(){if(BB)return NC;BB=1;var e=_M();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return NC=t,NC}var C2e=hQ();const As=fr(C2e);var CC,zB;function E2e(){if(zB)return CC;zB=1;function e(t){return t==null}return CC=e,CC}var P2e=E2e();const Mt=fr(P2e);var EC,qB;function T2e(){if(qB)return EC;qB=1;var e=Wl(),t=ns(),r=Hl(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return EC=i,EC}var A2e=T2e();const Ld=fr(A2e);var k2e=vM();const Rt=fr(k2e);var O2e=xu();const Up=fr(O2e);var PC={exports:{}},pr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UB;function R2e(){if(UB)return pr;UB=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function y(_){if(typeof _=="object"&&_!==null){var S=_.$$typeof;switch(S){case e:switch(_=_.type,_){case r:case i:case n:case u:case f:return _;default:switch(_=_&&_.$$typeof,_){case l:case o:case c:case g:case p:case s:return _;default:return S}}case t:return S}}}return pr.ContextConsumer=o,pr.ContextProvider=s,pr.Element=e,pr.ForwardRef=c,pr.Fragment=r,pr.Lazy=g,pr.Memo=p,pr.Portal=t,pr.Profiler=i,pr.StrictMode=n,pr.Suspense=u,pr.SuspenseList=f,pr.isAsyncMode=function(){return!1},pr.isConcurrentMode=function(){return!1},pr.isContextConsumer=function(_){return y(_)===o},pr.isContextProvider=function(_){return y(_)===s},pr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},pr.isForwardRef=function(_){return y(_)===c},pr.isFragment=function(_){return y(_)===r},pr.isLazy=function(_){return y(_)===g},pr.isMemo=function(_){return y(_)===p},pr.isPortal=function(_){return y(_)===t},pr.isProfiler=function(_){return y(_)===i},pr.isStrictMode=function(_){return y(_)===n},pr.isSuspense=function(_){return y(_)===u},pr.isSuspenseList=function(_){return y(_)===f},pr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===u||_===f||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===s||_.$$typeof===o||_.$$typeof===c||_.$$typeof===w||_.getModuleId!==void 0)},pr.typeOf=y,pr}var VB;function M2e(){return VB||(VB=1,PC.exports=R2e()),PC.exports}var I2e=M2e(),TC,WB;function pQ(){if(WB)return TC;WB=1;var e=Wl(),t=Hl(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return TC=n,TC}var AC,HB;function L2e(){if(HB)return AC;HB=1;var e=pQ();function t(r){return e(r)&&r!=+r}return AC=t,AC}var D2e=L2e();const Oy=fr(D2e);var $2e=pQ();const F2e=fr($2e);var Mi=function(t){return t===0?0:t>0?1:-1},pd=function(t){return Ld(t)&&t.indexOf("%")===t.length-1},et=function(t){return F2e(t)&&!Oy(t)},B2e=function(t){return Mt(t)},Ln=function(t){return et(t)||Ld(t)},z2e=0,Vp=function(t){var r=++z2e;return"".concat(t||"").concat(r)},Fa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(t)&&!Ld(t))return n;var s;if(pd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Oy(s)&&(s=n),i&&s>r&&(s=r),s},Hc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},q2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Ns=function(t,r){return et(t)&&et(r)?function(n){return t+n*(r-t)}:function(){return r}};function tw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):As(n,t))===r})}var U2e=function(t,r){return et(t)&&et(r)?t-r:Ld(t)&&Ld(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ah(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function bA(e){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bA(e)}var V2e=["viewBox","children"],W2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KB=["points","pathLength"],kC={svg:V2e,polygon:KB,polyline:KB},jM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Up(n))return null;var i={};return Object.keys(n).forEach(function(s){jM.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},H2e=function(t,r,n){return function(i){return t(r,n,i),null}},cv=function(t,r,n){if(!Up(t)||bA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];jM.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=H2e(o,r,n))}),i},K2e=["children"],G2e=["children"];function GB(e,t){if(e==null)return{};var r=Z2e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wA(e){"@babel/helpers - typeof";return wA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wA(e)}var ZB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},YB=null,OC=null,SM=function e(t){if(t===YB&&Array.isArray(OC))return OC;var r=[];return x.Children.forEach(t,function(n){Mt(n)||(I2e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),OC=r,YB=t,r};function ks(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Tl(i)}):n=[Tl(t)],SM(e).forEach(function(i){var s=As(i,"type.displayName")||As(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function bs(e,t){var r=ks(e,t);return r&&r[0]}var XB=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!et(n)||n<=0||!et(i)||i<=0)},Y2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],X2e=function(t){return t&&t.type&&Ld(t.type)&&Y2e.indexOf(t.type)>=0},Q2e=function(t){return t&&wA(t)==="object"&&"clipDot"in t},J2e=function(t,r,n,i){var s,o=(s=kC?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Rt(t)&&(i&&o.includes(r)||W2e.includes(r))||n&&jM.includes(r)},qt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!Up(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;J2e((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},_A=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return QB(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!QB(s,o))return!1}return!0},QB=function(t,r){if(Mt(t)&&Mt(r))return!0;if(!Mt(t)&&!Mt(r)){var n=t.props||{},i=n.children,s=GB(n,K2e),o=r.props||{},l=o.children,c=GB(o,G2e);return i&&l?Ah(s,c)&&_A(i,l):!i&&!l?Ah(s,c):!1}return!1},JB=function(t,r){var n=[],i={};return SM(t).forEach(function(s,o){if(X2e(s))n.push(s);else if(s){var l=Tl(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var p=u(s,l,o);n.push(p),i[l]=!0}}}),n},eTe=function(t){var r=t&&t.type;return r&&ZB[r]?ZB[r]:null},tTe=function(t,r){return SM(r).indexOf(t)},rTe=["children","width","height","viewBox","className","style","title","desc"];function jA(){return jA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jA.apply(this,arguments)}function nTe(e,t){if(e==null)return{};var r=iTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SA(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=nTe(e,rTe),f=i||{width:r,height:n,x:0,y:0},p=Ht("recharts-surface",s);return K.createElement("svg",jA({},qt(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),t)}var sTe=["children","className"];function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NA.apply(this,arguments)}function aTe(e,t){if(e==null)return{};var r=oTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lr=K.forwardRef(function(e,t){var r=e.children,n=e.className,i=aTe(e,sTe),s=Ht("recharts-layer",n);return K.createElement("g",NA({className:s},qt(i,!0),{ref:t}),r)}),qa=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},RC,e5;function lTe(){if(e5)return RC;e5=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+r];return o}return RC=e,RC}var MC,t5;function cTe(){if(t5)return MC;t5=1;var e=lTe();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return MC=t,MC}var IC,r5;function mQ(){if(r5)return IC;r5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+s+"]");function c(u){return l.test(u)}return IC=c,IC}var LC,n5;function uTe(){if(n5)return LC;n5=1;function e(t){return t.split("")}return LC=e,LC}var DC,i5;function dTe(){if(i5)return DC;i5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=u+"?",y="["+s+"]?",_="(?:"+v+"(?:"+[f,p,g].join("|")+")"+y+w+")*",S=y+w+_,N="(?:"+[f+l+"?",l,p,g,o].join("|")+")",C=RegExp(c+"(?="+c+")|"+N+S,"g");function A(P){return P.match(C)||[]}return DC=A,DC}var $C,s5;function fTe(){if(s5)return $C;s5=1;var e=uTe(),t=mQ(),r=dTe();function n(i){return t(i)?r(i):e(i)}return $C=n,$C}var FC,a5;function hTe(){if(a5)return FC;a5=1;var e=cTe(),t=mQ(),r=fTe(),n=dQ();function i(s){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[s]()+u}}return FC=i,FC}var BC,o5;function pTe(){if(o5)return BC;o5=1;var e=hTe(),t=e("toUpperCase");return BC=t,BC}var mTe=pTe();const r1=fr(mTe);function Ir(e){return function(){return e}}const gQ=Math.cos,nw=Math.sin,Ja=Math.sqrt,iw=Math.PI,n1=2*iw,CA=Math.PI,EA=2*CA,ad=1e-6,gTe=EA-ad;function vQ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vTe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vQ;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class yTe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vQ:vTe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,f=o-t,p=l-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>ad)if(!(Math.abs(p*c-u*f)>ad)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-o,w=i-l,y=c*c+u*u,_=v*v+w*w,S=Math.sqrt(y),N=Math.sqrt(g),C=s*Math.tan((CA-Math.acos((y+g-_)/(2*S*N)))/2),A=C/N,P=C/S;Math.abs(A-1)>ad&&this._append`L${t+A*f},${r+A*p}`,this._append`A${s},${s},0,0,${+(p*v>f*w)},${this._x1=t+P*c},${this._y1=r+P*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,p=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ad||Math.abs(this._y1-f)>ad)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%EA+EA),g>gTe?this._append`A${n},${n},0,1,${p},${t-l},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:g>ad&&this._append`A${n},${n},0,${+(g>=CA)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function NM(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yTe(t)}function CM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yQ(e){this._context=e}yQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function i1(e){return new yQ(e)}function xQ(e){return e[0]}function bQ(e){return e[1]}function wQ(e,t){var r=Ir(!0),n=null,i=i1,s=null,o=NM(l);e=typeof e=="function"?e:e===void 0?xQ:Ir(e),t=typeof t=="function"?t:t===void 0?bQ:Ir(t);function l(c){var u,f=(c=CM(c)).length,p,g=!1,v;for(n==null&&(s=i(v=o())),u=0;u<=f;++u)!(u<f&&r(p=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(p,u,c),+t(p,u,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ir(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ir(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ir(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function L0(e,t,r){var n=null,i=Ir(!0),s=null,o=i1,l=null,c=NM(u);e=typeof e=="function"?e:e===void 0?xQ:Ir(+e),t=typeof t=="function"?t:Ir(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bQ:Ir(+r);function u(p){var g,v,w,y=(p=CM(p)).length,_,S=!1,N,C=new Array(y),A=new Array(y);for(s==null&&(l=o(N=c())),g=0;g<=y;++g){if(!(g<y&&i(_=p[g],g,p))===S)if(S=!S)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=v;--w)l.point(C[w],A[w]);l.lineEnd(),l.areaEnd()}S&&(C[g]=+e(_,g,p),A[g]=+t(_,g,p),l.point(n?+n(_,g,p):C[g],r?+r(_,g,p):A[g]))}if(N)return l=null,N+""||null}function f(){return wQ().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ir(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ir(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ir(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ir(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ir(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ir(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ir(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(l=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=l=null:l=o(s=p),u):s},u}class _Q{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xTe(e){return new _Q(e,!0)}function bTe(e){return new _Q(e,!1)}const EM={draw(e,t){const r=Ja(t/iw);e.moveTo(r,0),e.arc(0,0,r,0,n1)}},wTe={draw(e,t){const r=Ja(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jQ=Ja(1/3),_Te=jQ*2,jTe={draw(e,t){const r=Ja(t/_Te),n=r*jQ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},STe={draw(e,t){const r=Ja(t),n=-r/2;e.rect(n,n,r,r)}},NTe=.8908130915292852,SQ=nw(iw/10)/nw(7*iw/10),CTe=nw(n1/10)*SQ,ETe=-gQ(n1/10)*SQ,PTe={draw(e,t){const r=Ja(t*NTe),n=CTe*r,i=ETe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=n1*s/5,l=gQ(o),c=nw(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},zC=Ja(3),TTe={draw(e,t){const r=-Ja(t/(zC*3));e.moveTo(0,r*2),e.lineTo(-zC*r,-r),e.lineTo(zC*r,-r),e.closePath()}},Qs=-.5,Js=Ja(3)/2,PA=1/Ja(12),ATe=(PA/2+1)*3,kTe={draw(e,t){const r=Ja(t/ATe),n=r/2,i=r*PA,s=n,o=r*PA+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Qs*n-Js*i,Js*n+Qs*i),e.lineTo(Qs*s-Js*o,Js*s+Qs*o),e.lineTo(Qs*l-Js*c,Js*l+Qs*c),e.lineTo(Qs*n+Js*i,Qs*i-Js*n),e.lineTo(Qs*s+Js*o,Qs*o-Js*s),e.lineTo(Qs*l+Js*c,Qs*c-Js*l),e.closePath()}};function OTe(e,t){let r=null,n=NM(i);e=typeof e=="function"?e:Ir(e||EM),t=typeof t=="function"?t:Ir(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ir(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ir(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function sw(){}function aw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NQ(e){this._context=e}NQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RTe(e){return new NQ(e)}function CQ(e){this._context=e}CQ.prototype={areaStart:sw,areaEnd:sw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:aw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MTe(e){return new CQ(e)}function EQ(e){this._context=e}EQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:aw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ITe(e){return new EQ(e)}function PQ(e){this._context=e}PQ.prototype={areaStart:sw,areaEnd:sw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function LTe(e){return new PQ(e)}function l5(e){return e<0?-1:1}function c5(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(l5(s)+l5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function u5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qC(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function ow(e){this._context=e}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qC(this,this._t0,u5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qC(this,u5(this,r=c5(this,e,t)),r);break;default:qC(this,this._t0,r=c5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function TQ(e){this._context=new AQ(e)}(TQ.prototype=Object.create(ow.prototype)).point=function(e,t){ow.prototype.point.call(this,t,e)};function AQ(e){this._context=e}AQ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function DTe(e){return new ow(e)}function $Te(e){return new TQ(e)}function kQ(e){this._context=e}kQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=d5(e),i=d5(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function d5(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function FTe(e){return new kQ(e)}function s1(e,t){this._context=e,this._t=t}s1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function BTe(e){return new s1(e,.5)}function zTe(e){return new s1(e,0)}function qTe(e){return new s1(e,1)}function Zh(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function TA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function UTe(e,t){return e[t]}function VTe(e){const t=[];return t.key=e,t}function WTe(){var e=Ir([]),t=TA,r=Zh,n=UTe;function i(s){var o=Array.from(e.apply(this,arguments),VTe),l,c=o.length,u=-1,f;for(const p of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(p,o[l].key,u,s)]).data=p;for(l=0,f=CM(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ir(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ir(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?TA:typeof s=="function"?s:Ir(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Zh,i):r},i}function HTe(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Zh(e,t)}}function KTe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Zh(e,t)}}function GTe(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],p=f[n][1]||0,g=f[n-1][1]||0,v=(p-g)/2,w=0;w<l;++w){var y=e[t[w]],_=y[n][1]||0,S=y[n-1][1]||0;v+=_-S}c+=p,u+=v*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Zh(e,t)}}function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}var ZTe=["type","size","sizeType"];function AA(){return AA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AA.apply(this,arguments)}function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){YTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t,r){return t=XTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XTe(e){var t=QTe(e,"string");return uv(t)=="symbol"?t:t+""}function QTe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JTe(e,t){if(e==null)return{};var r=eAe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var OQ={symbolCircle:EM,symbolCross:wTe,symbolDiamond:jTe,symbolSquare:STe,symbolStar:PTe,symbolTriangle:TTe,symbolWye:kTe},tAe=Math.PI/180,rAe=function(t){var r="symbol".concat(r1(t));return OQ[r]||EM},nAe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*tAe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},iAe=function(t,r){OQ["symbol".concat(r1(t))]=r},PM=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=JTe(t,ZTe),u=h5(h5({},c),{},{type:n,size:s,sizeType:l}),f=function(){var _=rAe(n),S=OTe().type(_).size(nAe(s,l,n));return S()},p=u.className,g=u.cx,v=u.cy,w=qt(u,!0);return g===+g&&v===+v&&s===+s?K.createElement("path",AA({},w,{className:Ht("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:f()})):null};PM.registerSymbol=iAe;function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kA.apply(this,arguments)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MQ(n.key),n)}}function lAe(e,t,r){return t&&oAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cAe(e,t,r){return t=lw(t),uAe(e,RQ()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function uAe(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dAe(e)}function dAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RQ=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function fAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OA(e,t)}function dv(e,t,r){return t=MQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=hAe(e,"string");return Yh(t)=="symbol"?t:t+""}function hAe(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ea=32,TM=function(e){function t(){return aAe(this,t),cAe(this,t,arguments)}return fAe(t,e),lAe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=ea/2,o=ea/6,l=ea/3,c=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ea,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ea,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ea/8,"h").concat(ea,"v").concat(ea*3/4,"h").concat(-ea,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=sAe({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(PM,{fill:c,cx:s,cy:s,size:ea,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:ea,height:ea},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,w){var y=v.formatter||c,_=Ht(dv(dv({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Rt(v.value)?null:v.value;qa(!Rt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?u:v.color;return K.createElement("li",kA({className:_,style:p,key:"legend-item-".concat(w)},cv(n.props,v,w)),K.createElement(SA,{width:o,height:o,viewBox:f,style:g},n.renderIcon(v)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},y?y(S,v,w):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);dv(TM,"displayName","Legend");dv(TM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var UC,m5;function pAe(){if(m5)return UC;m5=1;var e=J_();function t(){this.__data__=new e,this.size=0}return UC=t,UC}var VC,g5;function mAe(){if(g5)return VC;g5=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return VC=e,VC}var WC,v5;function gAe(){if(v5)return WC;v5=1;function e(t){return this.__data__.get(t)}return WC=e,WC}var HC,y5;function vAe(){if(y5)return HC;y5=1;function e(t){return this.__data__.has(t)}return HC=e,HC}var KC,x5;function yAe(){if(x5)return KC;x5=1;var e=J_(),t=xM(),r=bM(),n=200;function i(s,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return KC=i,KC}var GC,b5;function IQ(){if(b5)return GC;b5=1;var e=J_(),t=pAe(),r=mAe(),n=gAe(),i=vAe(),s=yAe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,GC=o,GC}var ZC,w5;function xAe(){if(w5)return ZC;w5=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return ZC=t,ZC}var YC,_5;function bAe(){if(_5)return YC;_5=1;function e(t){return this.__data__.has(t)}return YC=e,YC}var XC,j5;function LQ(){if(j5)return XC;j5=1;var e=bM(),t=xAe(),r=bAe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,XC=n,XC}var QC,S5;function DQ(){if(S5)return QC;S5=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return QC=e,QC}var JC,N5;function $Q(){if(N5)return JC;N5=1;function e(t,r){return t.has(r)}return JC=e,JC}var eE,C5;function FQ(){if(C5)return eE;C5=1;var e=LQ(),t=DQ(),r=$Q(),n=1,i=2;function s(o,l,c,u,f,p){var g=c&n,v=o.length,w=l.length;if(v!=w&&!(g&&w>v))return!1;var y=p.get(o),_=p.get(l);if(y&&_)return y==l&&_==o;var S=-1,N=!0,C=c&i?new e:void 0;for(p.set(o,l),p.set(l,o);++S<v;){var A=o[S],P=l[S];if(u)var k=g?u(P,A,S,l,o,p):u(A,P,S,o,l,p);if(k!==void 0){if(k)continue;N=!1;break}if(C){if(!t(l,function(O,I){if(!r(C,I)&&(A===O||f(A,O,c,u,p)))return C.push(I)})){N=!1;break}}else if(!(A===P||f(A,P,c,u,p))){N=!1;break}}return p.delete(o),p.delete(l),N}return eE=s,eE}var tE,E5;function wAe(){if(E5)return tE;E5=1;var e=Uo(),t=e.Uint8Array;return tE=t,tE}var rE,P5;function _Ae(){if(P5)return rE;P5=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return rE=e,rE}var nE,T5;function AM(){if(T5)return nE;T5=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return nE=e,nE}var iE,A5;function jAe(){if(A5)return iE;A5=1;var e=ky(),t=wAe(),r=yM(),n=FQ(),i=_Ae(),s=AM(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",w="[object Set]",y="[object String]",_="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",C=e?e.prototype:void 0,A=C?C.valueOf:void 0;function P(k,O,I,z,Y,Z,V){switch(I){case N:if(k.byteLength!=O.byteLength||k.byteOffset!=O.byteOffset)return!1;k=k.buffer,O=O.buffer;case S:return!(k.byteLength!=O.byteLength||!Z(new t(k),new t(O)));case c:case u:case g:return r(+k,+O);case f:return k.name==O.name&&k.message==O.message;case v:case y:return k==O+"";case p:var q=i;case w:var U=z&o;if(q||(q=s),k.size!=O.size&&!U)return!1;var re=V.get(k);if(re)return re==O;z|=l,V.set(k,O);var ae=n(q(k),q(O),z,Y,Z,V);return V.delete(k),ae;case _:if(A)return A.call(k)==A.call(O)}return!1}return iE=P,iE}var sE,k5;function BQ(){if(k5)return sE;k5=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return sE=e,sE}var aE,O5;function SAe(){if(O5)return aE;O5=1;var e=BQ(),t=ns();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return aE=r,aE}var oE,R5;function NAe(){if(R5)return oE;R5=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var l=t[n];r(l,n,t)&&(o[s++]=l)}return o}return oE=e,oE}var lE,M5;function CAe(){if(M5)return lE;M5=1;function e(){return[]}return lE=e,lE}var cE,I5;function EAe(){if(I5)return cE;I5=1;var e=NAe(),t=CAe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return n.call(o,l)}))}:t;return cE=s,cE}var uE,L5;function PAe(){if(L5)return uE;L5=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return uE=e,uE}var dE,D5;function TAe(){if(D5)return dE;D5=1;var e=Wl(),t=Hl(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return dE=n,dE}var fE,$5;function kM(){if($5)return fE;$5=1;var e=TAe(),t=Hl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return fE=s,fE}var _g={exports:{}},hE,F5;function AAe(){if(F5)return hE;F5=1;function e(){return!1}return hE=e,hE}_g.exports;var B5;function zQ(){return B5||(B5=1,function(e,t){var r=Uo(),n=AAe(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u}(_g,_g.exports)),_g.exports}var pE,z5;function OM(){if(z5)return pE;z5=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return pE=r,pE}var mE,q5;function RM(){if(q5)return mE;q5=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return mE=t,mE}var gE,U5;function kAe(){if(U5)return gE;U5=1;var e=Wl(),t=RM(),r=Hl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",w="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",z="[object Uint16Array]",Y="[object Uint32Array]",Z={};Z[N]=Z[C]=Z[A]=Z[P]=Z[k]=Z[O]=Z[I]=Z[z]=Z[Y]=!0,Z[n]=Z[i]=Z[_]=Z[s]=Z[S]=Z[o]=Z[l]=Z[c]=Z[u]=Z[f]=Z[p]=Z[g]=Z[v]=Z[w]=Z[y]=!1;function V(q){return r(q)&&t(q.length)&&!!Z[e(q)]}return gE=V,gE}var vE,V5;function qQ(){if(V5)return vE;V5=1;function e(t){return function(r){return t(r)}}return vE=e,vE}var jg={exports:{}};jg.exports;var W5;function OAe(){return W5||(W5=1,function(e,t){var r=lQ(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l}(jg,jg.exports)),jg.exports}var yE,H5;function UQ(){if(H5)return yE;H5=1;var e=kAe(),t=qQ(),r=OAe(),n=r&&r.isTypedArray,i=n?t(n):e;return yE=i,yE}var xE,K5;function RAe(){if(K5)return xE;K5=1;var e=PAe(),t=kM(),r=ns(),n=zQ(),i=OM(),s=UQ(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var p=r(u),g=!p&&t(u),v=!p&&!g&&n(u),w=!p&&!g&&!v&&s(u),y=p||g||v||w,_=y?e(u.length,String):[],S=_.length;for(var N in u)(f||l.call(u,N))&&!(y&&(N=="length"||v&&(N=="offset"||N=="parent")||w&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&_.push(N);return _}return xE=c,xE}var bE,G5;function MAe(){if(G5)return bE;G5=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return bE=t,bE}var wE,Z5;function VQ(){if(Z5)return wE;Z5=1;function e(t,r){return function(n){return t(r(n))}}return wE=e,wE}var _E,Y5;function IAe(){if(Y5)return _E;Y5=1;var e=VQ(),t=e(Object.keys,Object);return _E=t,_E}var jE,X5;function LAe(){if(X5)return jE;X5=1;var e=MAe(),t=IAe(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return jE=i,jE}var SE,Q5;function Ry(){if(Q5)return SE;Q5=1;var e=vM(),t=RM();function r(n){return n!=null&&t(n.length)&&!e(n)}return SE=r,SE}var NE,J5;function a1(){if(J5)return NE;J5=1;var e=RAe(),t=LAe(),r=Ry();function n(i){return r(i)?e(i):t(i)}return NE=n,NE}var CE,e6;function DAe(){if(e6)return CE;e6=1;var e=SAe(),t=EAe(),r=a1();function n(i){return e(i,r,t)}return CE=n,CE}var EE,t6;function $Ae(){if(t6)return EE;t6=1;var e=DAe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,u,f){var p=l&t,g=e(s),v=g.length,w=e(o),y=w.length;if(v!=y&&!p)return!1;for(var _=v;_--;){var S=g[_];if(!(p?S in o:n.call(o,S)))return!1}var N=f.get(s),C=f.get(o);if(N&&C)return N==o&&C==s;var A=!0;f.set(s,o),f.set(o,s);for(var P=p;++_<v;){S=g[_];var k=s[S],O=o[S];if(c)var I=p?c(O,k,S,o,s,f):c(k,O,S,s,o,f);if(!(I===void 0?k===O||u(k,O,l,c,f):I)){A=!1;break}P||(P=S=="constructor")}if(A&&!P){var z=s.constructor,Y=o.constructor;z!=Y&&"constructor"in s&&"constructor"in o&&!(typeof z=="function"&&z instanceof z&&typeof Y=="function"&&Y instanceof Y)&&(A=!1)}return f.delete(s),f.delete(o),A}return EE=i,EE}var PE,r6;function FAe(){if(r6)return PE;r6=1;var e=Xd(),t=Uo(),r=e(t,"DataView");return PE=r,PE}var TE,n6;function BAe(){if(n6)return TE;n6=1;var e=Xd(),t=Uo(),r=e(t,"Promise");return TE=r,TE}var AE,i6;function WQ(){if(i6)return AE;i6=1;var e=Xd(),t=Uo(),r=e(t,"Set");return AE=r,AE}var kE,s6;function zAe(){if(s6)return kE;s6=1;var e=Xd(),t=Uo(),r=e(t,"WeakMap");return kE=r,kE}var OE,a6;function qAe(){if(a6)return OE;a6=1;var e=FAe(),t=xM(),r=BAe(),n=WQ(),i=zAe(),s=Wl(),o=cQ(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",v=o(e),w=o(t),y=o(r),_=o(n),S=o(i),N=s;return(e&&N(new e(new ArrayBuffer(1)))!=g||t&&N(new t)!=l||r&&N(r.resolve())!=u||n&&N(new n)!=f||i&&N(new i)!=p)&&(N=function(C){var A=s(C),P=A==c?C.constructor:void 0,k=P?o(P):"";if(k)switch(k){case v:return g;case w:return l;case y:return u;case _:return f;case S:return p}return A}),OE=N,OE}var RE,o6;function UAe(){if(o6)return RE;o6=1;var e=IQ(),t=FQ(),r=jAe(),n=$Ae(),i=qAe(),s=ns(),o=zQ(),l=UQ(),c=1,u="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function w(y,_,S,N,C,A){var P=s(y),k=s(_),O=P?f:i(y),I=k?f:i(_);O=O==u?p:O,I=I==u?p:I;var z=O==p,Y=I==p,Z=O==I;if(Z&&o(y)){if(!o(_))return!1;P=!0,z=!1}if(Z&&!z)return A||(A=new e),P||l(y)?t(y,_,S,N,C,A):r(y,_,O,S,N,C,A);if(!(S&c)){var V=z&&v.call(y,"__wrapped__"),q=Y&&v.call(_,"__wrapped__");if(V||q){var U=V?y.value():y,re=q?_.value():_;return A||(A=new e),C(U,re,S,N,A)}}return Z?(A||(A=new e),n(y,_,S,N,C,A)):!1}return RE=w,RE}var ME,l6;function MM(){if(l6)return ME;l6=1;var e=UAe(),t=Hl();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,l)}return ME=r,ME}var IE,c6;function VAe(){if(c6)return IE;c6=1;var e=IQ(),t=MM(),r=1,n=2;function i(s,o,l,c){var u=l.length,f=u,p=!c;if(s==null)return!f;for(s=Object(s);u--;){var g=l[u];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<f;){g=l[u];var v=g[0],w=s[v],y=g[1];if(p&&g[2]){if(w===void 0&&!(v in s))return!1}else{var _=new e;if(c)var S=c(w,y,v,s,o,_);if(!(S===void 0?t(y,w,r|n,c,_):S))return!1}}return!0}return IE=i,IE}var LE,u6;function HQ(){if(u6)return LE;u6=1;var e=xu();function t(r){return r===r&&!e(r)}return LE=t,LE}var DE,d6;function WAe(){if(d6)return DE;d6=1;var e=HQ(),t=a1();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,e(l)]}return i}return DE=r,DE}var $E,f6;function KQ(){if(f6)return $E;f6=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return $E=e,$E}var FE,h6;function HAe(){if(h6)return FE;h6=1;var e=VAe(),t=WAe(),r=KQ();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return FE=n,FE}var BE,p6;function KAe(){if(p6)return BE;p6=1;function e(t,r){return t!=null&&r in Object(t)}return BE=e,BE}var zE,m6;function GAe(){if(m6)return zE;m6=1;var e=fQ(),t=kM(),r=ns(),n=OM(),i=RM(),s=t1();function o(l,c,u){c=e(c,l);for(var f=-1,p=c.length,g=!1;++f<p;){var v=s(c[f]);if(!(g=l!=null&&u(l,v)))break;l=l[v]}return g||++f!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&n(v,p)&&(r(l)||t(l)))}return zE=o,zE}var qE,g6;function ZAe(){if(g6)return qE;g6=1;var e=KAe(),t=GAe();function r(n,i){return n!=null&&t(n,i,e)}return qE=r,qE}var UE,v6;function YAe(){if(v6)return UE;v6=1;var e=MM(),t=hQ(),r=ZAe(),n=gM(),i=HQ(),s=KQ(),o=t1(),l=1,c=2;function u(f,p){return n(f)&&i(p)?s(o(f),p):function(g){var v=t(g,f);return v===void 0&&v===p?r(g,f):e(p,v,l|c)}}return UE=u,UE}var VE,y6;function Wp(){if(y6)return VE;y6=1;function e(t){return t}return VE=e,VE}var WE,x6;function XAe(){if(x6)return WE;x6=1;function e(t){return function(r){return r?.[t]}}return WE=e,WE}var HE,b6;function QAe(){if(b6)return HE;b6=1;var e=_M();function t(r){return function(n){return e(n,r)}}return HE=t,HE}var KE,w6;function JAe(){if(w6)return KE;w6=1;var e=XAe(),t=QAe(),r=gM(),n=t1();function i(s){return r(s)?e(n(s)):t(s)}return KE=i,KE}var GE,_6;function bu(){if(_6)return GE;_6=1;var e=HAe(),t=YAe(),r=Wp(),n=ns(),i=JAe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return GE=s,GE}var ZE,j6;function GQ(){if(j6)return ZE;j6=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return ZE=e,ZE}var YE,S6;function eke(){if(S6)return YE;S6=1;function e(t){return t!==t}return YE=e,YE}var XE,N6;function tke(){if(N6)return XE;N6=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return XE=e,XE}var QE,C6;function rke(){if(C6)return QE;C6=1;var e=GQ(),t=eke(),r=tke();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return QE=n,QE}var JE,E6;function nke(){if(E6)return JE;E6=1;var e=rke();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return JE=t,JE}var eP,P6;function ike(){if(P6)return eP;P6=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return eP=e,eP}var tP,T6;function ske(){if(T6)return tP;T6=1;function e(){}return tP=e,tP}var rP,A6;function ake(){if(A6)return rP;A6=1;var e=WQ(),t=ske(),r=AM(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return rP=i,rP}var nP,k6;function oke(){if(k6)return nP;k6=1;var e=LQ(),t=nke(),r=ike(),n=$Q(),i=ake(),s=AM(),o=200;function l(c,u,f){var p=-1,g=t,v=c.length,w=!0,y=[],_=y;if(f)w=!1,g=r;else if(v>=o){var S=u?null:i(c);if(S)return s(S);w=!1,g=n,_=new e}else _=u?[]:y;e:for(;++p<v;){var N=c[p],C=u?u(N):N;if(N=f||N!==0?N:0,w&&C===C){for(var A=_.length;A--;)if(_[A]===C)continue e;u&&_.push(C),y.push(N)}else g(_,C,f)||(_!==y&&_.push(C),y.push(N))}return y}return nP=l,nP}var iP,O6;function lke(){if(O6)return iP;O6=1;var e=bu(),t=oke();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return iP=r,iP}var cke=lke();const R6=fr(cke);function ZQ(e,t,r){return t===!0?R6(e,r):Rt(t)?R6(e,t):e}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var uke=["ref"];function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(n){o1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XQ(n.key),n)}}function fke(e,t,r){return t&&I6(e.prototype,t),r&&I6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hke(e,t,r){return t=cw(t),pke(e,YQ()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function pke(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mke(e)}function mke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YQ=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function gke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RA(e,t)}function RA(e,t){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RA(e,t)}function o1(e,t,r){return t=XQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=vke(e,"string");return Xh(t)=="symbol"?t:t+""}function vke(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yke(e,t){if(e==null)return{};var r=xke(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bke(e){return e.value}function wke(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return K.createElement(e,t);t.ref;var r=yke(t,uke);return K.createElement(TM,r)}var L6=1,ru=function(e){function t(){var r;dke(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=hke(this,t,[].concat(i)),o1(r,"lastBoundingBox",{width:-1,height:-1}),r}return gke(t,e),fke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>L6||Math.abs(i.height-this.lastBoundingBox.height)>L6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();p={left:((u||0)-v.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();g={top:((f||0)-w.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return hl(hl({},p),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,p=hl(hl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},wke(s,hl(hl({},this.props),{},{payload:ZQ(f,u,bke)})))}}],[{key:"getWithHeight",value:function(n,i){var s=hl(hl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&et(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);o1(ru,"displayName","Legend");o1(ru,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sP,D6;function _ke(){if(D6)return sP;D6=1;var e=ky(),t=kM(),r=ns(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return sP=i,sP}var aP,$6;function QQ(){if($6)return aP;$6=1;var e=BQ(),t=_ke();function r(n,i,s,o,l){var c=-1,u=n.length;for(s||(s=t),l||(l=[]);++c<u;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,l):e(l,f):o||(l[l.length]=f)}return l}return aP=r,aP}var oP,F6;function jke(){if(F6)return oP;F6=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[t?c:++s];if(n(o[u],u,o)===!1)break}return r}}return oP=e,oP}var lP,B6;function Ske(){if(B6)return lP;B6=1;var e=jke(),t=e();return lP=t,lP}var cP,z6;function JQ(){if(z6)return cP;z6=1;var e=Ske(),t=a1();function r(n,i){return n&&e(n,i,t)}return cP=r,cP}var uP,q6;function Nke(){if(q6)return uP;q6=1;var e=Ry();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return uP=t,uP}var dP,U6;function IM(){if(U6)return dP;U6=1;var e=JQ(),t=Nke(),r=t(e);return dP=r,dP}var fP,V6;function eJ(){if(V6)return fP;V6=1;var e=IM(),t=Ry();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++s]=i(l,c,u)}),o}return fP=r,fP}var hP,W6;function Cke(){if(W6)return hP;W6=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return hP=e,hP}var pP,H6;function Eke(){if(H6)return pP;H6=1;var e=qp();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,f=n===n,p=e(n);if(!u&&!p&&!l&&r>n||l&&c&&f&&!u&&!p||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!p&&r<n||p&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!f)return-1}return 0}return pP=t,pP}var mP,K6;function Pke(){if(K6)return mP;K6=1;var e=Eke();function t(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++s<c;){var f=e(o[s],l[s]);if(f){if(s>=u)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return r.index-n.index}return mP=t,mP}var gP,G6;function Tke(){if(G6)return gP;G6=1;var e=wM(),t=_M(),r=bu(),n=eJ(),i=Cke(),s=qQ(),o=Pke(),l=Wp(),c=ns();function u(f,p,g){p.length?p=e(p,function(y){return c(y)?function(_){return t(_,y.length===1?y[0]:y)}:y}):p=[l];var v=-1;p=e(p,s(r));var w=n(f,function(y,_,S){var N=e(p,function(C){return C(y)});return{criteria:N,index:++v,value:y}});return i(w,function(y,_){return o(y,_,g)})}return gP=u,gP}var vP,Z6;function Ake(){if(Z6)return vP;Z6=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return vP=e,vP}var yP,Y6;function kke(){if(Y6)return yP;Y6=1;var e=Ake(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=t(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(u),e(n,this,f)}}return yP=r,yP}var xP,X6;function Oke(){if(X6)return xP;X6=1;function e(t){return function(){return t}}return xP=e,xP}var bP,Q6;function tJ(){if(Q6)return bP;Q6=1;var e=Xd(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return bP=t,bP}var wP,J6;function Rke(){if(J6)return wP;J6=1;var e=Oke(),t=tJ(),r=Wp(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return wP=n,wP}var _P,ez;function Mke(){if(ez)return _P;ez=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return _P=n,_P}var jP,tz;function Ike(){if(tz)return jP;tz=1;var e=Rke(),t=Mke(),r=t(e);return jP=r,jP}var SP,rz;function Lke(){if(rz)return SP;rz=1;var e=Wp(),t=kke(),r=Ike();function n(i,s){return r(t(i,s,e),i+"")}return SP=n,SP}var NP,nz;function l1(){if(nz)return NP;nz=1;var e=yM(),t=Ry(),r=OM(),n=xu();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],s):!1}return NP=i,NP}var CP,iz;function Dke(){if(iz)return CP;iz=1;var e=QQ(),t=Tke(),r=Lke(),n=l1(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return CP=i,CP}var $ke=Dke();const LM=fr($ke);function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MA.apply(this,arguments)}function Fke(e,t){return Uke(e)||qke(e,t)||zke(e,t)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zke(e,t){if(e){if(typeof e=="string")return sz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sz(e,t)}}function sz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Uke(e){if(Array.isArray(e))return e}function az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?az(Object(r),!0).forEach(function(n){Vke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vke(e,t,r){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wke(e){var t=Hke(e,"string");return fv(t)=="symbol"?t:t+""}function Hke(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kke(e){return Array.isArray(e)&&Ln(e[0])&&Ln(e[1])?e.join(" ~ "):e}var Gke=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,p=t.formatter,g=t.itemSorter,v=t.wrapperClassName,w=t.labelClassName,y=t.label,_=t.labelFormatter,S=t.accessibilityLayer,N=S===void 0?!1:S,C=function(){if(f&&f.length){var V={padding:0,margin:0},q=(g?LM(f,g):f).map(function(U,re){if(U.type==="none")return null;var ae=EP({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),se=U.formatter||p||Kke,X=U.value,Q=U.name,te=X,G=Q;if(se&&te!=null&&G!=null){var ie=se(X,Q,U,re,f);if(Array.isArray(ie)){var xe=Fke(ie,2);te=xe[0],G=xe[1]}else te=ie}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:ae},Ln(G)?K.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Ln(G)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},te),K.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:V},q)}return null},A=EP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=EP({margin:0},u),k=!Mt(y),O=k?y:"",I=Ht("recharts-default-tooltip",v),z=Ht("recharts-tooltip-label",w);k&&_&&f!==void 0&&f!==null&&(O=_(y,f));var Y=N?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",MA({className:I,style:A},Y),K.createElement("p",{className:z,style:P},K.isValidElement(O)?O:"".concat(O)),C())};function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function D0(e,t,r){return t=Zke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zke(e){var t=Yke(e,"string");return hv(t)=="symbol"?t:t+""}function Yke(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg="recharts-tooltip-wrapper",Xke={visibility:"hidden"};function Qke(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ht(tg,D0(D0(D0(D0({},"".concat(tg,"-right"),et(r)&&t&&et(t.x)&&r>=t.x),"".concat(tg,"-left"),et(r)&&t&&et(t.x)&&r<t.x),"".concat(tg,"-bottom"),et(n)&&t&&et(t.y)&&n>=t.y),"".concat(tg,"-top"),et(n)&&t&&et(t.y)&&n<t.y))}function oz(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&et(s[n]))return s[n];var f=r[n]-l-i,p=r[n]+i;if(t[n])return o[n]?f:p;if(o[n]){var g=f,v=c[n];return g<v?Math.max(p,c[n]):Math.max(f,c[n])}var w=p+l,y=c[n]+u;return w>y?Math.max(f,c[n]):Math.max(p,c[n])}function Jke(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function eOe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,p;return o.height>0&&o.width>0&&r?(f=oz({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=oz({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Jke({translateX:f,translateY:p,useTranslate3d:l})):u=Xke,{cssProperties:u,cssClasses:Qke({translateX:f,translateY:p,coordinate:r})}}function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lz(Object(r),!0).forEach(function(n){LA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nJ(n.key),n)}}function nOe(e,t,r){return t&&rOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iOe(e,t,r){return t=uw(t),sOe(e,rJ()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function sOe(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aOe(e)}function aOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rJ=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function oOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IA(e,t)}function IA(e,t){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IA(e,t)}function LA(e,t,r){return t=nJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJ(e){var t=lOe(e,"string");return Qh(t)=="symbol"?t:t+""}function lOe(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uz=1,cOe=function(e){function t(){var r;tOe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=iOe(this,t,[].concat(i)),LA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),LA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return oOe(t,e),nOe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uz||Math.abs(n.height-this.state.lastBoundingBox.height)>uz)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,v=i.offset,w=i.position,y=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,C=eOe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:w,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:S}),A=C.cssClasses,P=C.cssProperties,k=cz(cz({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},N);return K.createElement("div",{tabIndex:-1,className:A,style:k,ref:function(I){n.wrapperNode=I}},u)}}])}(x.PureComponent),uOe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qd={isSsr:uOe()};function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function dz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dz(Object(r),!0).forEach(function(n){DM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sJ(n.key),n)}}function hOe(e,t,r){return t&&fOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pOe(e,t,r){return t=dw(t),mOe(e,iJ()?Reflect.construct(t,r||[],dw(e).constructor):t.apply(e,r))}function mOe(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gOe(e)}function gOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iJ=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(e)}function vOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DA(e,t)}function DA(e,t){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DA(e,t)}function DM(e,t,r){return t=sJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sJ(e){var t=yOe(e,"string");return Jh(t)=="symbol"?t:t+""}function yOe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xOe(e){return e.dataKey}function bOe(e,t){return K.isValidElement(e)?K.cloneElement(e,t):typeof e=="function"?K.createElement(e,t):K.createElement(Gke,t)}var _s=function(e){function t(){return dOe(this,t),pOe(this,t,arguments)}return vOe(t,e),hOe(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,p=i.filterNull,g=i.isAnimationActive,v=i.offset,w=i.payload,y=i.payloadUniqBy,_=i.position,S=i.reverseDirection,N=i.useTranslate3d,C=i.viewBox,A=i.wrapperStyle,P=w??[];p&&P.length&&(P=ZQ(w.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),y,xOe));var k=P.length>0;return K.createElement(cOe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:f,hasPayload:k,offset:v,position:_,reverseDirection:S,useTranslate3d:N,viewBox:C,wrapperStyle:A},bOe(u,fz(fz({},this.props),{},{payload:P})))}}])}(x.PureComponent);DM(_s,"displayName","Tooltip");DM(_s,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var PP,hz;function wOe(){if(hz)return PP;hz=1;var e=Uo(),t=function(){return e.Date.now()};return PP=t,PP}var TP,pz;function _Oe(){if(pz)return TP;pz=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return TP=t,TP}var AP,mz;function jOe(){if(mz)return AP;mz=1;var e=_Oe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return AP=r,AP}var kP,gz;function aJ(){if(gz)return kP;gz=1;var e=jOe(),t=xu(),r=qp(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=s.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):i.test(u)?n:+u}return kP=c,kP}var OP,vz;function SOe(){if(vz)return OP;vz=1;var e=xu(),t=wOe(),r=aJ(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var f,p,g,v,w,y,_=0,S=!1,N=!1,C=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(S=!!u.leading,N="maxWait"in u,g=N?i(r(u.maxWait)||0,c):g,C="trailing"in u?!!u.trailing:C);function A(q){var U=f,re=p;return f=p=void 0,_=q,v=l.apply(re,U),v}function P(q){return _=q,w=setTimeout(I,c),S?A(q):v}function k(q){var U=q-y,re=q-_,ae=c-U;return N?s(ae,g-re):ae}function O(q){var U=q-y,re=q-_;return y===void 0||U>=c||U<0||N&&re>=g}function I(){var q=t();if(O(q))return z(q);w=setTimeout(I,k(q))}function z(q){return w=void 0,C&&f?A(q):(f=p=void 0,v)}function Y(){w!==void 0&&clearTimeout(w),_=0,f=y=p=w=void 0}function Z(){return w===void 0?v:z(t())}function V(){var q=t(),U=O(q);if(f=arguments,p=this,y=q,U){if(w===void 0)return P(y);if(N)return clearTimeout(w),w=setTimeout(I,c),A(y)}return w===void 0&&(w=setTimeout(I,c)),v}return V.cancel=Y,V.flush=Z,V}return OP=o,OP}var RP,yz;function NOe(){if(yz)return RP;yz=1;var e=SOe(),t=xu(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(i,s,{leading:l,maxWait:s,trailing:c})}return RP=n,RP}var COe=NOe();const oJ=fr(COe);function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function xz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xz(Object(r),!0).forEach(function(n){EOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EOe(e,t,r){return t=POe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function POe(e){var t=TOe(e,"string");return pv(t)=="symbol"?t:t+""}function TOe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AOe(e,t){return MOe(e)||ROe(e,t)||OOe(e,t)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OOe(e,t){if(e){if(typeof e=="string")return bz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bz(e,t)}}function bz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ROe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function MOe(e){if(Array.isArray(e))return e}var F0=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,p=e.minHeight,g=e.maxHeight,v=e.children,w=e.debounce,y=w===void 0?0:w,_=e.id,S=e.className,N=e.onResize,C=e.style,A=C===void 0?{}:C,P=x.useRef(null),k=x.useRef();k.current=N,x.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var O=x.useState({containerWidth:i.width,containerHeight:i.height}),I=AOe(O,2),z=I[0],Y=I[1],Z=x.useCallback(function(q,U){Y(function(re){var ae=Math.round(q),se=Math.round(U);return re.containerWidth===ae&&re.containerHeight===se?re:{containerWidth:ae,containerHeight:se}})},[]);x.useEffect(function(){var q=function(Q){var te,G=Q[0].contentRect,ie=G.width,xe=G.height;Z(ie,xe),(te=k.current)===null||te===void 0||te.call(k,ie,xe)};y>0&&(q=oJ(q,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(q),re=P.current.getBoundingClientRect(),ae=re.width,se=re.height;return Z(ae,se),U.observe(P.current),function(){U.disconnect()}},[Z,y]);var V=x.useMemo(function(){var q=z.containerWidth,U=z.containerHeight;if(q<0||U<0)return null;qa(pd(o)||pd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var re=pd(o)?q:o,ae=pd(c)?U:c;r&&r>0&&(re?ae=re/r:ae&&(re=ae*r),g&&ae>g&&(ae=g)),qa(re>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,ae,o,c,f,p,r);var se=!Array.isArray(v)&&Tl(v.type).endsWith("Chart");return K.Children.map(v,function(X){return K.isValidElement(X)?x.cloneElement(X,$0({width:re,height:ae},se?{style:$0({height:"100%",width:"100%",maxHeight:ae,maxWidth:re},X.props.style)}:{})):X})},[r,v,c,g,p,f,z,o]);return K.createElement("div",{id:_?"".concat(_):void 0,className:Ht("recharts-responsive-container",S),style:$0($0({},A),{},{width:o,height:c,minWidth:f,minHeight:p,maxHeight:g}),ref:P},V)}),mv=function(t){return null};mv.displayName="Cell";function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function wz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wz(Object(r),!0).forEach(function(n){IOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IOe(e,t,r){return t=LOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LOe(e){var t=DOe(e,"string");return gv(t)=="symbol"?t:t+""}function DOe(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah={widthCache:{},cacheCount:0},$Oe=2e3,FOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_z="recharts_measurement_span";function BOe(e){var t=$A({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Lg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qd.isSsr)return{width:0,height:0};var n=BOe(r),i=JSON.stringify({text:t,copyStyle:n});if(ah.widthCache[i])return ah.widthCache[i];try{var s=document.getElementById(_z);s||(s=document.createElement("span"),s.setAttribute("id",_z),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=$A($A({},FOe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return ah.widthCache[i]=c,++ah.cacheCount>$Oe&&(ah.cacheCount=0,ah.widthCache={}),c}catch{return{width:0,height:0}}},zOe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function fw(e,t){return WOe(e)||VOe(e,t)||UOe(e,t)||qOe()}function qOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UOe(e,t){if(e){if(typeof e=="string")return jz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jz(e,t)}}function jz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function WOe(e){if(Array.isArray(e))return e}function HOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GOe(n.key),n)}}function KOe(e,t,r){return t&&Sz(e.prototype,t),r&&Sz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GOe(e){var t=ZOe(e,"string");return vv(t)=="symbol"?t:t+""}function ZOe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YOe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XOe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QOe=Object.keys(lJ),bh="NaN";function JOe(e,t){return e*lJ[t]}var B0=function(){function e(t,r){HOe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!YOe.test(r)&&(this.num=NaN,this.unit=""),QOe.includes(r)&&(this.num=JOe(t,r),this.unit="px")}return KOe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=XOe.exec(r))!==null&&n!==void 0?n:[],s=fw(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function cJ(e){if(e.includes(bh))return bh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Nz.exec(t))!==null&&r!==void 0?r:[],i=fw(n,4),s=i[1],o=i[2],l=i[3],c=B0.parse(s??""),u=B0.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return bh;t=t.replace(Nz,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,g=(p=Cz.exec(t))!==null&&p!==void 0?p:[],v=fw(g,4),w=v[1],y=v[2],_=v[3],S=B0.parse(w??""),N=B0.parse(_??""),C=y==="+"?S.add(N):S.subtract(N);if(C.isNaN())return bh;t=t.replace(Cz,C.toString())}return t}var Ez=/\(([^()]*)\)/;function eRe(e){for(var t=e;t.includes("(");){var r=Ez.exec(t),n=fw(r,2),i=n[1];t=t.replace(Ez,cJ(i))}return t}function tRe(e){var t=e.replace(/\s+/g,"");return t=eRe(t),t=cJ(t),t}function rRe(e){try{return tRe(e)}catch{return bh}}function MP(e){var t=rRe(e.slice(5,-1));return t===bh?"":t}var nRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iRe=["dx","dy","angle","className","breakAll"];function FA(){return FA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FA.apply(this,arguments)}function Pz(e,t){if(e==null)return{};var r=sRe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tz(e,t){return cRe(e)||lRe(e,t)||oRe(e,t)||aRe()}function aRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(e,t){if(e){if(typeof e=="string")return Az(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Az(e,t)}}function Az(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function cRe(e){if(Array.isArray(e))return e}var uJ=/[ \f\n\r\t\v\u2028\u2029]+/,dJ=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Mt(r)||(n?s=r.toString().split(""):s=r.toString().split(uJ));var o=s.map(function(c){return{word:c,width:Lg(c,i).width}}),l=n?0:Lg(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},uRe=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=et(o),p=l,g=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(ae,se){var X=se.word,Q=se.width,te=ae[ae.length-1];if(te&&(i==null||s||te.width+Q+n<Number(i)))te.words.push(X),te.width+=Q+n;else{var G={words:[X],width:Q};ae.push(G)}return ae},[])},v=g(r),w=function(re){return re.reduce(function(ae,se){return ae.width>se.width?ae:se})};if(!f)return v;for(var y="…",_=function(re){var ae=p.slice(0,re),se=dJ({breakAll:u,style:c,children:ae+y}).wordsWithComputedWidth,X=g(se),Q=X.length>o||w(X).width>Number(i);return[Q,X]},S=0,N=p.length-1,C=0,A;S<=N&&C<=p.length-1;){var P=Math.floor((S+N)/2),k=P-1,O=_(k),I=Tz(O,2),z=I[0],Y=I[1],Z=_(P),V=Tz(Z,1),q=V[0];if(!z&&!q&&(S=P+1),z&&q&&(N=P-1),!z&&q){A=Y;break}C++}return A||v},kz=function(t){var r=Mt(t)?[]:t.toString().split(uJ);return[{words:r}]},dRe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Qd.isSsr){var c,u,f=dJ({breakAll:o,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;c=p,u=g}else return kz(i);return uRe({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return kz(i)},Oz="#808080",yv=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,p=f===void 0?!1:f,g=t.textAnchor,v=g===void 0?"start":g,w=t.verticalAnchor,y=w===void 0?"end":w,_=t.fill,S=_===void 0?Oz:_,N=Pz(t,nRe),C=x.useMemo(function(){return dRe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:p,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,p,N.style,N.width]),A=N.dx,P=N.dy,k=N.angle,O=N.className,I=N.breakAll,z=Pz(N,iRe);if(!Ln(n)||!Ln(s))return null;var Y=n+(et(A)?A:0),Z=s+(et(P)?P:0),V;switch(y){case"start":V=MP("calc(".concat(u,")"));break;case"middle":V=MP("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:V=MP("calc(".concat(C.length-1," * -").concat(l,")"));break}var q=[];if(p){var U=C[0].width,re=N.width;q.push("scale(".concat((et(re)?re/U:1)/U,")"))}return k&&q.push("rotate(".concat(k,", ").concat(Y,", ").concat(Z,")")),q.length&&(z.transform=q.join(" ")),K.createElement("text",FA({},qt(z,!0),{x:Y,y:Z,className:Ht("recharts-text",O),textAnchor:v,fill:S.includes("url")?Oz:S}),C.map(function(ae,se){var X=ae.words.join(I?"":" ");return K.createElement("tspan",{x:Y,dy:se===0?V:l,key:"".concat(X,"-").concat(se)},X)}))};function nu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fRe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $M(e){let t,r,n;e.length!==2?(t=nu,r=(l,c)=>nu(e(l),c),n=(l,c)=>e(l)-c):(t=e===nu||e===fRe?e:hRe,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<0?u=p+1:f=p}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<=0?u=p+1:f=p}while(u<f)}return u}function o(l,c,u=0,f=l.length){const p=i(l,c,u,f-1);return p>u&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:s}}function hRe(){return 0}function fJ(e){return e===null?NaN:+e}function*pRe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mRe=$M(nu),My=mRe.right;$M(fJ).center;class Rz extends Map{constructor(t,r=yRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Mz(this,t))}has(t){return super.has(Mz(this,t))}set(t,r){return super.set(gRe(this,t),r)}delete(t){return super.delete(vRe(this,t))}}function Mz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gRe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vRe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yRe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xRe(e=nu){if(e===nu)return hJ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hJ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bRe=Math.sqrt(50),wRe=Math.sqrt(10),_Re=Math.sqrt(2);function hw(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=bRe?10:s>=wRe?5:s>=_Re?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?hw(e,t,r*2):[l,c,u]}function BA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?hw(t,e,r):hw(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function zA(e,t,r){return t=+t,e=+e,r=+r,hw(e,t,r)[2]}function qA(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?zA(t,e,r):zA(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Iz(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Lz(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pJ(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?hJ:xRe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(t-u*p/c+g)),w=Math.min(n,Math.floor(t+(c-u)*p/c+g));pJ(e,t,v,w,i)}const s=e[t];let o=r,l=n;for(rg(e,r,t),i(e[n],s)>0&&rg(e,r,n);o<l;){for(rg(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?rg(e,r,l):(++l,rg(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function rg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jRe(e,t,r){if(e=Float64Array.from(pRe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Lz(e);if(t>=1)return Iz(e);var n,i=(n-1)*t,s=Math.floor(i),o=Iz(pJ(e,s).subarray(0,s+1)),l=Lz(e.subarray(s+1));return o+(l-o)*(i-s)}}function SRe(e,t,r=fJ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function NRe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function da(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Kl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const UA=Symbol("implicit");function FM(){var e=new Rz,t=[],r=[],n=UA;function i(s){let o=e.get(s);if(o===void 0){if(n!==UA)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Rz;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return FM(t,r).unknown(n)},da.apply(i,arguments),i}function xv(){var e=FM().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function p(){var g=t().length,v=i<n,w=v?i:n,y=v?n:i;s=(y-w)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),w+=(y-w-s*(g-c))*f,o=s*(1-c),l&&(w=Math.round(w),o=Math.round(o));var _=NRe(g).map(function(S){return w+s*S});return r(v?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},e.copy=function(){return xv(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},da.apply(p(),arguments)}function mJ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mJ(t())},e}function Dg(){return mJ(xv.apply(null,arguments).paddingInner(1))}function BM(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gJ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Iy(){}var bv=.7,pw=1/bv,kh="\\s*([+-]?\\d+)\\s*",wv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CRe=/^#([0-9a-f]{3,8})$/,ERe=new RegExp(`^rgb\\(${kh},${kh},${kh}\\)$`),PRe=new RegExp(`^rgb\\(${Ao},${Ao},${Ao}\\)$`),TRe=new RegExp(`^rgba\\(${kh},${kh},${kh},${wv}\\)$`),ARe=new RegExp(`^rgba\\(${Ao},${Ao},${Ao},${wv}\\)$`),kRe=new RegExp(`^hsl\\(${wv},${Ao},${Ao}\\)$`),ORe=new RegExp(`^hsla\\(${wv},${Ao},${Ao},${wv}\\)$`),Dz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BM(Iy,_v,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$z,formatHex:$z,formatHex8:RRe,formatHsl:MRe,formatRgb:Fz,toString:Fz});function $z(){return this.rgb().formatHex()}function RRe(){return this.rgb().formatHex8()}function MRe(){return vJ(this).formatHsl()}function Fz(){return this.rgb().formatRgb()}function _v(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=CRe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Bz(t):r===3?new Xi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?z0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?z0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ERe.exec(e))?new Xi(t[1],t[2],t[3],1):(t=PRe.exec(e))?new Xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TRe.exec(e))?z0(t[1],t[2],t[3],t[4]):(t=ARe.exec(e))?z0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kRe.exec(e))?Uz(t[1],t[2]/100,t[3]/100,1):(t=ORe.exec(e))?Uz(t[1],t[2]/100,t[3]/100,t[4]):Dz.hasOwnProperty(e)?Bz(Dz[e]):e==="transparent"?new Xi(NaN,NaN,NaN,0):null}function Bz(e){return new Xi(e>>16&255,e>>8&255,e&255,1)}function z0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xi(e,t,r,n)}function IRe(e){return e instanceof Iy||(e=_v(e)),e?(e=e.rgb(),new Xi(e.r,e.g,e.b,e.opacity)):new Xi}function VA(e,t,r,n){return arguments.length===1?IRe(e):new Xi(e,t,r,n??1)}function Xi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}BM(Xi,VA,gJ(Iy,{brighter(e){return e=e==null?pw:Math.pow(pw,e),new Xi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bv:Math.pow(bv,e),new Xi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xi(_d(this.r),_d(this.g),_d(this.b),mw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zz,formatHex:zz,formatHex8:LRe,formatRgb:qz,toString:qz}));function zz(){return`#${md(this.r)}${md(this.g)}${md(this.b)}`}function LRe(){return`#${md(this.r)}${md(this.g)}${md(this.b)}${md((isNaN(this.opacity)?1:this.opacity)*255)}`}function qz(){const e=mw(this.opacity);return`${e===1?"rgb(":"rgba("}${_d(this.r)}, ${_d(this.g)}, ${_d(this.b)}${e===1?")":`, ${e})`}`}function mw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _d(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function md(e){return e=_d(e),(e<16?"0":"")+e.toString(16)}function Uz(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new La(e,t,r,n)}function vJ(e){if(e instanceof La)return new La(e.h,e.s,e.l,e.opacity);if(e instanceof Iy||(e=_v(e)),!e)return new La;if(e instanceof La)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new La(o,l,c,e.opacity)}function DRe(e,t,r,n){return arguments.length===1?vJ(e):new La(e,t,r,n??1)}function La(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}BM(La,DRe,gJ(Iy,{brighter(e){return e=e==null?pw:Math.pow(pw,e),new La(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bv:Math.pow(bv,e),new La(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Xi(IP(e>=240?e-240:e+120,i,n),IP(e,i,n),IP(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new La(Vz(this.h),q0(this.s),q0(this.l),mw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mw(this.opacity);return`${e===1?"hsl(":"hsla("}${Vz(this.h)}, ${q0(this.s)*100}%, ${q0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vz(e){return e=(e||0)%360,e<0?e+360:e}function q0(e){return Math.max(0,Math.min(1,e||0))}function IP(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zM=e=>()=>e;function $Re(e,t){return function(r){return e+r*t}}function FRe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function BRe(e){return(e=+e)==1?yJ:function(t,r){return r-t?FRe(t,r,e):zM(isNaN(t)?r:t)}}function yJ(e,t){var r=t-e;return r?$Re(e,r):zM(isNaN(e)?t:e)}const Wz=function e(t){var r=BRe(t);function n(i,s){var o=r((i=VA(i)).r,(s=VA(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=yJ(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function zRe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function qRe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function URe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Hp(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function VRe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function gw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function WRe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Hp(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var WA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LP=new RegExp(WA.source,"g");function HRe(e){return function(){return e}}function KRe(e){return function(t){return e(t)+""}}function GRe(e,t){var r=WA.lastIndex=LP.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=WA.exec(e))&&(i=LP.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:gw(n,i)})),r=LP.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?KRe(c[0].x):HRe(t):(t=c.length,function(u){for(var f=0,p;f<t;++f)l[(p=c[f]).i]=p.x(u);return l.join("")})}function Hp(e,t){var r=typeof t,n;return t==null||r==="boolean"?zM(t):(r==="number"?gw:r==="string"?(n=_v(t))?(t=n,Wz):GRe:t instanceof _v?Wz:t instanceof Date?VRe:qRe(t)?zRe:Array.isArray(t)?URe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WRe:gw)(e,t)}function qM(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ZRe(e,t){t===void 0&&(t=e,e=Hp);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function YRe(e){return function(){return e}}function vw(e){return+e}var Hz=[0,1];function Ii(e){return e}function HA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:YRe(isNaN(t)?NaN:.5)}function XRe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QRe(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=HA(i,n),s=r(o,s)):(n=HA(n,i),s=r(s,o)),function(l){return s(n(l))}}function JRe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=HA(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=My(e,l,1,n)-1;return s[c](i[c](l))}}function Ly(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function c1(){var e=Hz,t=Hz,r=Hp,n,i,s,o=Ii,l,c,u;function f(){var g=Math.min(e.length,t.length);return o!==Ii&&(o=XRe(e[0],e[g-1])),l=g>2?JRe:QRe,c=u=null,p}function p(g){return g==null||isNaN(g=+g)?s:(c||(c=l(e.map(n),t,r)))(n(o(g)))}return p.invert=function(g){return o(i((u||(u=l(t,e.map(n),gw)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,vw),f()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=qM,f()},p.clamp=function(g){return arguments.length?(o=g?!0:Ii,f()):o!==Ii},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return n=g,i=v,f()}}function UM(){return c1()(Ii,Ii)}function eMe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ep(e){return e=yw(Math.abs(e)),e?e[1]:NaN}function tMe(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function rMe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jv(e){if(!(t=nMe.exec(e)))throw new Error("invalid format: "+e);var t;return new VM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jv.prototype=VM.prototype;function VM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}VM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iMe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var xJ;function sMe(e,t){var r=yw(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(xJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+yw(e,Math.max(0,t+s-1))[0]}function Kz(e,t){var r=yw(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Gz={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eMe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Kz(e*100,t),r:Kz,s:sMe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zz(e){return e}var Yz=Array.prototype.map,Xz=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aMe(e){var t=e.grouping===void 0||e.thousands===void 0?Zz:tMe(Yz.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Zz:rMe(Yz.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=jv(p);var g=p.fill,v=p.align,w=p.sign,y=p.symbol,_=p.zero,S=p.width,N=p.comma,C=p.precision,A=p.trim,P=p.type;P==="n"?(N=!0,P="g"):Gz[P]||(C===void 0&&(C=12),A=!0,P="g"),(_||g==="0"&&v==="=")&&(_=!0,g="0",v="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",O=y==="$"?n:/[%p]/.test(P)?o:"",I=Gz[P],z=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Y(Z){var V=k,q=O,U,re,ae;if(P==="c")q=I(Z)+q,Z="";else{Z=+Z;var se=Z<0||1/Z<0;if(Z=isNaN(Z)?c:I(Math.abs(Z),C),A&&(Z=iMe(Z)),se&&+Z==0&&w!=="+"&&(se=!1),V=(se?w==="("?w:l:w==="-"||w==="("?"":w)+V,q=(P==="s"?Xz[8+xJ/3]:"")+q+(se&&w==="("?")":""),z){for(U=-1,re=Z.length;++U<re;)if(ae=Z.charCodeAt(U),48>ae||ae>57){q=(ae===46?i+Z.slice(U+1):Z.slice(U))+q,Z=Z.slice(0,U);break}}}N&&!_&&(Z=t(Z,1/0));var X=V.length+Z.length+q.length,Q=X<S?new Array(S-X+1).join(g):"";switch(N&&_&&(Z=t(Q+Z,Q.length?S-q.length:1/0),Q=""),v){case"<":Z=V+Z+q+Q;break;case"=":Z=V+Q+Z+q;break;case"^":Z=Q.slice(0,X=Q.length>>1)+V+Z+q+Q.slice(X);break;default:Z=Q+V+Z+q;break}return s(Z)}return Y.toString=function(){return p+""},Y}function f(p,g){var v=u((p=jv(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(ep(g)/3)))*3,y=Math.pow(10,-w),_=Xz[8+w/3];return function(S){return v(y*S)+_}}return{format:u,formatPrefix:f}}var U0,WM,bJ;oMe({thousands:",",grouping:[3],currency:["$",""]});function oMe(e){return U0=aMe(e),WM=U0.format,bJ=U0.formatPrefix,U0}function lMe(e){return Math.max(0,-ep(Math.abs(e)))}function cMe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ep(t)/3)))*3-ep(Math.abs(e)))}function uMe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ep(t)-ep(e))+1}function wJ(e,t,r,n){var i=qA(e,t,r),s;switch(n=jv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=cMe(i,o))&&(n.precision=s),bJ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=uMe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=lMe(i))&&(n.precision=s-(n.type==="%")*2);break}}return WM(n)}function wu(e){var t=e.domain;return e.ticks=function(r){var n=t();return BA(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return wJ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);f-- >0;){if(u=zA(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function xw(){var e=UM();return e.copy=function(){return Ly(e,xw())},da.apply(e,arguments),wu(e)}function _J(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vw),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _J(e).unknown(t)},e=arguments.length?Array.from(e,vw):[0,1],wu(r)}function jJ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function Qz(e){return Math.log(e)}function Jz(e){return Math.exp(e)}function dMe(e){return-Math.log(-e)}function fMe(e){return-Math.exp(-e)}function hMe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pMe(e){return e===10?hMe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mMe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eq(e){return(t,r)=>-e(-t,r)}function HM(e){const t=e(Qz,Jz),r=t.domain;let n=10,i,s;function o(){return i=mMe(n),s=pMe(n),r()[0]<0?(i=eq(i),s=eq(s),e(dMe,fMe)):e(Qz,Jz),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const p=f<u;p&&([u,f]=[f,u]);let g=i(u),v=i(f),w,y;const _=l==null?10:+l;let S=[];if(!(n%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(w=1;w<n;++w)if(y=g<0?w/s(-g):w*s(g),!(y<u)){if(y>f)break;S.push(y)}}else for(;g<=v;++g)for(w=n-1;w>=1;--w)if(y=g>0?w/s(-g):w*s(g),!(y<u)){if(y>f)break;S.push(y)}S.length*2<_&&(S=BA(u,f,_))}else S=BA(g,v,Math.min(v-g,_)).map(s);return p?S.reverse():S},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=jv(c)).precision==null&&(c.trim=!0),c=WM(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=u?c(f):""}},t.nice=()=>r(jJ(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function SJ(){const e=HM(c1()).domain([1,10]);return e.copy=()=>Ly(e,SJ()).base(e.base()),da.apply(e,arguments),e}function tq(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rq(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KM(e){var t=1,r=e(tq(t),rq(t));return r.constant=function(n){return arguments.length?e(tq(t=+n),rq(t)):t},wu(r)}function NJ(){var e=KM(c1());return e.copy=function(){return Ly(e,NJ()).constant(e.constant())},da.apply(e,arguments)}function nq(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gMe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vMe(e){return e<0?-e*e:e*e}function GM(e){var t=e(Ii,Ii),r=1;function n(){return r===1?e(Ii,Ii):r===.5?e(gMe,vMe):e(nq(r),nq(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},wu(t)}function ZM(){var e=GM(c1());return e.copy=function(){return Ly(e,ZM()).exponent(e.exponent())},da.apply(e,arguments),e}function yMe(){return ZM.apply(null,arguments).exponent(.5)}function iq(e){return Math.sign(e)*e*e}function xMe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CJ(){var e=UM(),t=[0,1],r=!1,n;function i(s){var o=xMe(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(iq(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,vw)).map(iq)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return CJ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},da.apply(i,arguments),wu(i)}function EJ(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=SRe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[My(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(nu),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return EJ().domain(e).range(t).unknown(n)},da.apply(s,arguments)}function PJ(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[My(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PJ().domain([e,t]).range(i).unknown(s)},da.apply(wu(o),arguments)}function TJ(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[My(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return TJ().domain(e).range(t).unknown(r)},da.apply(i,arguments)}const DP=new Date,$P=new Date;function $n(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>$n(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(DP.setTime(+s),$P.setTime(+o),e(DP),e($P),Math.floor(r(DP,$P))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const bw=$n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):bw);bw.range;const yl=1e3,sa=yl*60,xl=sa*60,Dl=xl*24,YM=Dl*7,sq=Dl*30,FP=Dl*365,gd=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yl)},(e,t)=>(t-e)/yl,e=>e.getUTCSeconds());gd.range;const XM=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());XM.range;const QM=$n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());QM.range;const JM=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*xl)},(e,t)=>(t-e)/xl,e=>e.getHours());JM.range;const eI=$n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xl)},(e,t)=>(t-e)/xl,e=>e.getUTCHours());eI.range;const Dy=$n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/Dl,e=>e.getDate()-1);Dy.range;const u1=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dl,e=>e.getUTCDate()-1);u1.range;const AJ=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dl,e=>Math.floor(e/Dl));AJ.range;function Jd(e){return $n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sa)/YM)}const d1=Jd(0),ww=Jd(1),bMe=Jd(2),wMe=Jd(3),tp=Jd(4),_Me=Jd(5),jMe=Jd(6);d1.range;ww.range;bMe.range;wMe.range;tp.range;_Me.range;jMe.range;function ef(e){return $n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YM)}const f1=ef(0),_w=ef(1),SMe=ef(2),NMe=ef(3),rp=ef(4),CMe=ef(5),EMe=ef(6);f1.range;_w.range;SMe.range;NMe.range;rp.range;CMe.range;EMe.range;const tI=$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tI.range;const rI=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rI.range;const $l=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$l.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$l.range;const Fl=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fl.range;function kJ(e,t,r,n,i,s){const o=[[gd,1,yl],[gd,5,5*yl],[gd,15,15*yl],[gd,30,30*yl],[s,1,sa],[s,5,5*sa],[s,15,15*sa],[s,30,30*sa],[i,1,xl],[i,3,3*xl],[i,6,6*xl],[i,12,12*xl],[n,1,Dl],[n,2,2*Dl],[r,1,YM],[t,1,sq],[t,3,3*sq],[e,1,FP]];function l(u,f,p){const g=f<u;g&&([u,f]=[f,u]);const v=p&&typeof p.range=="function"?p:c(u,f,p),w=v?v.range(u,+f+1):[];return g?w.reverse():w}function c(u,f,p){const g=Math.abs(f-u)/p,v=$M(([,,_])=>_).right(o,g);if(v===o.length)return e.every(qA(u/FP,f/FP,p));if(v===0)return bw.every(Math.max(qA(u,f,p),1));const[w,y]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return w.every(y)}return[l,c]}const[PMe,TMe]=kJ(Fl,rI,f1,AJ,eI,QM),[AMe,kMe]=kJ($l,tI,d1,Dy,JM,XM);function BP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ng(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function OMe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ig(i),f=sg(i),p=ig(s),g=sg(s),v=ig(o),w=sg(o),y=ig(l),_=sg(l),S=ig(c),N=sg(c),C={a:se,A:X,b:Q,B:te,c:null,d:dq,e:dq,f:tIe,g:dIe,G:hIe,H:QMe,I:JMe,j:eIe,L:OJ,m:rIe,M:nIe,p:G,q:ie,Q:pq,s:mq,S:iIe,u:sIe,U:aIe,V:oIe,w:lIe,W:cIe,x:null,X:null,y:uIe,Y:fIe,Z:pIe,"%":hq},A={a:xe,A:Ne,b:Le,B:ce,c:null,d:fq,e:fq,f:yIe,g:PIe,G:AIe,H:mIe,I:gIe,j:vIe,L:MJ,m:xIe,M:bIe,p:oe,q:ge,Q:pq,s:mq,S:wIe,u:_Ie,U:jIe,V:SIe,w:NIe,W:CIe,x:null,X:null,y:EIe,Y:TIe,Z:kIe,"%":hq},P={a:Y,A:Z,b:V,B:q,c:U,d:cq,e:cq,f:GMe,g:lq,G:oq,H:uq,I:uq,j:VMe,L:KMe,m:UMe,M:WMe,p:z,q:qMe,Q:YMe,s:XMe,S:HMe,u:DMe,U:$Me,V:FMe,w:LMe,W:BMe,x:re,X:ae,y:lq,Y:oq,Z:zMe,"%":ZMe};C.x=k(r,C),C.X=k(n,C),C.c=k(t,C),A.x=k(r,A),A.X=k(n,A),A.c=k(t,A);function k(he,Pe){return function(J){var H=[],we=-1,be=0,Ve=he.length,qe,Se,ot;for(J instanceof Date||(J=new Date(+J));++we<Ve;)he.charCodeAt(we)===37&&(H.push(he.slice(be,we)),(Se=aq[qe=he.charAt(++we)])!=null?qe=he.charAt(++we):Se=qe==="e"?" ":"0",(ot=Pe[qe])&&(qe=ot(J,Se)),H.push(qe),be=we+1);return H.push(he.slice(be,we)),H.join("")}}function O(he,Pe){return function(J){var H=ng(1900,void 0,1),we=I(H,he,J+="",0),be,Ve;if(we!=J.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Pe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(be=zP(ng(H.y,0,1)),Ve=be.getUTCDay(),be=Ve>4||Ve===0?_w.ceil(be):_w(be),be=u1.offset(be,(H.V-1)*7),H.y=be.getUTCFullYear(),H.m=be.getUTCMonth(),H.d=be.getUTCDate()+(H.w+6)%7):(be=BP(ng(H.y,0,1)),Ve=be.getDay(),be=Ve>4||Ve===0?ww.ceil(be):ww(be),be=Dy.offset(be,(H.V-1)*7),H.y=be.getFullYear(),H.m=be.getMonth(),H.d=be.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ve="Z"in H?zP(ng(H.y,0,1)).getUTCDay():BP(ng(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ve+5)%7:H.w+H.U*7-(Ve+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,zP(H)):BP(H)}}function I(he,Pe,J,H){for(var we=0,be=Pe.length,Ve=J.length,qe,Se;we<be;){if(H>=Ve)return-1;if(qe=Pe.charCodeAt(we++),qe===37){if(qe=Pe.charAt(we++),Se=P[qe in aq?Pe.charAt(we++):qe],!Se||(H=Se(he,J,H))<0)return-1}else if(qe!=J.charCodeAt(H++))return-1}return H}function z(he,Pe,J){var H=u.exec(Pe.slice(J));return H?(he.p=f.get(H[0].toLowerCase()),J+H[0].length):-1}function Y(he,Pe,J){var H=v.exec(Pe.slice(J));return H?(he.w=w.get(H[0].toLowerCase()),J+H[0].length):-1}function Z(he,Pe,J){var H=p.exec(Pe.slice(J));return H?(he.w=g.get(H[0].toLowerCase()),J+H[0].length):-1}function V(he,Pe,J){var H=S.exec(Pe.slice(J));return H?(he.m=N.get(H[0].toLowerCase()),J+H[0].length):-1}function q(he,Pe,J){var H=y.exec(Pe.slice(J));return H?(he.m=_.get(H[0].toLowerCase()),J+H[0].length):-1}function U(he,Pe,J){return I(he,t,Pe,J)}function re(he,Pe,J){return I(he,r,Pe,J)}function ae(he,Pe,J){return I(he,n,Pe,J)}function se(he){return o[he.getDay()]}function X(he){return s[he.getDay()]}function Q(he){return c[he.getMonth()]}function te(he){return l[he.getMonth()]}function G(he){return i[+(he.getHours()>=12)]}function ie(he){return 1+~~(he.getMonth()/3)}function xe(he){return o[he.getUTCDay()]}function Ne(he){return s[he.getUTCDay()]}function Le(he){return c[he.getUTCMonth()]}function ce(he){return l[he.getUTCMonth()]}function oe(he){return i[+(he.getUTCHours()>=12)]}function ge(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Pe=k(he+="",C);return Pe.toString=function(){return he},Pe},parse:function(he){var Pe=O(he+="",!1);return Pe.toString=function(){return he},Pe},utcFormat:function(he){var Pe=k(he+="",A);return Pe.toString=function(){return he},Pe},utcParse:function(he){var Pe=O(he+="",!0);return Pe.toString=function(){return he},Pe}}}var aq={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,RMe=/^%/,MMe=/[\\^$*+?|[\]().{}]/g;function dr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function IMe(e){return e.replace(MMe,"\\$&")}function ig(e){return new RegExp("^(?:"+e.map(IMe).join("|")+")","i")}function sg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LMe(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function DMe(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $Me(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FMe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BMe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oq(e,t,r){var n=Yn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lq(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zMe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qMe(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UMe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cq(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function VMe(e,t,r){var n=Yn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uq(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function WMe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HMe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function KMe(e,t,r){var n=Yn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GMe(e,t,r){var n=Yn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ZMe(e,t,r){var n=RMe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YMe(e,t,r){var n=Yn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XMe(e,t,r){var n=Yn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dq(e,t){return dr(e.getDate(),t,2)}function QMe(e,t){return dr(e.getHours(),t,2)}function JMe(e,t){return dr(e.getHours()%12||12,t,2)}function eIe(e,t){return dr(1+Dy.count($l(e),e),t,3)}function OJ(e,t){return dr(e.getMilliseconds(),t,3)}function tIe(e,t){return OJ(e,t)+"000"}function rIe(e,t){return dr(e.getMonth()+1,t,2)}function nIe(e,t){return dr(e.getMinutes(),t,2)}function iIe(e,t){return dr(e.getSeconds(),t,2)}function sIe(e){var t=e.getDay();return t===0?7:t}function aIe(e,t){return dr(d1.count($l(e)-1,e),t,2)}function RJ(e){var t=e.getDay();return t>=4||t===0?tp(e):tp.ceil(e)}function oIe(e,t){return e=RJ(e),dr(tp.count($l(e),e)+($l(e).getDay()===4),t,2)}function lIe(e){return e.getDay()}function cIe(e,t){return dr(ww.count($l(e)-1,e),t,2)}function uIe(e,t){return dr(e.getFullYear()%100,t,2)}function dIe(e,t){return e=RJ(e),dr(e.getFullYear()%100,t,2)}function fIe(e,t){return dr(e.getFullYear()%1e4,t,4)}function hIe(e,t){var r=e.getDay();return e=r>=4||r===0?tp(e):tp.ceil(e),dr(e.getFullYear()%1e4,t,4)}function pIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dr(t/60|0,"0",2)+dr(t%60,"0",2)}function fq(e,t){return dr(e.getUTCDate(),t,2)}function mIe(e,t){return dr(e.getUTCHours(),t,2)}function gIe(e,t){return dr(e.getUTCHours()%12||12,t,2)}function vIe(e,t){return dr(1+u1.count(Fl(e),e),t,3)}function MJ(e,t){return dr(e.getUTCMilliseconds(),t,3)}function yIe(e,t){return MJ(e,t)+"000"}function xIe(e,t){return dr(e.getUTCMonth()+1,t,2)}function bIe(e,t){return dr(e.getUTCMinutes(),t,2)}function wIe(e,t){return dr(e.getUTCSeconds(),t,2)}function _Ie(e){var t=e.getUTCDay();return t===0?7:t}function jIe(e,t){return dr(f1.count(Fl(e)-1,e),t,2)}function IJ(e){var t=e.getUTCDay();return t>=4||t===0?rp(e):rp.ceil(e)}function SIe(e,t){return e=IJ(e),dr(rp.count(Fl(e),e)+(Fl(e).getUTCDay()===4),t,2)}function NIe(e){return e.getUTCDay()}function CIe(e,t){return dr(_w.count(Fl(e)-1,e),t,2)}function EIe(e,t){return dr(e.getUTCFullYear()%100,t,2)}function PIe(e,t){return e=IJ(e),dr(e.getUTCFullYear()%100,t,2)}function TIe(e,t){return dr(e.getUTCFullYear()%1e4,t,4)}function AIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?rp(e):rp.ceil(e),dr(e.getUTCFullYear()%1e4,t,4)}function kIe(){return"+0000"}function hq(){return"%"}function pq(e){return+e}function mq(e){return Math.floor(+e/1e3)}var oh,LJ,DJ;OIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OIe(e){return oh=OMe(e),LJ=oh.format,oh.parse,DJ=oh.utcFormat,oh.utcParse,oh}function RIe(e){return new Date(e)}function MIe(e){return e instanceof Date?+e:+new Date(+e)}function nI(e,t,r,n,i,s,o,l,c,u){var f=UM(),p=f.invert,g=f.domain,v=u(".%L"),w=u(":%S"),y=u("%I:%M"),_=u("%I %p"),S=u("%a %d"),N=u("%b %d"),C=u("%B"),A=u("%Y");function P(k){return(c(k)<k?v:l(k)<k?w:o(k)<k?y:s(k)<k?_:n(k)<k?i(k)<k?S:N:r(k)<k?C:A)(k)}return f.invert=function(k){return new Date(p(k))},f.domain=function(k){return arguments.length?g(Array.from(k,MIe)):g().map(RIe)},f.ticks=function(k){var O=g();return e(O[0],O[O.length-1],k??10)},f.tickFormat=function(k,O){return O==null?P:u(O)},f.nice=function(k){var O=g();return(!k||typeof k.range!="function")&&(k=t(O[0],O[O.length-1],k??10)),k?g(jJ(O,k)):f},f.copy=function(){return Ly(f,nI(e,t,r,n,i,s,o,l,c,u))},f}function IIe(){return da.apply(nI(AMe,kMe,$l,tI,d1,Dy,JM,XM,gd,LJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LIe(){return da.apply(nI(PMe,TMe,Fl,rI,f1,u1,eI,QM,gd,DJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function h1(){var e=0,t=1,r,n,i,s,o=Ii,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function f(p){return function(g){var v,w;return arguments.length?([v,w]=g,o=p(v,w),u):[o(0),o(1)]}}return u.range=f(Hp),u.rangeRound=f(qM),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function _u(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $J(){var e=wu(h1()(Ii));return e.copy=function(){return _u(e,$J())},Kl.apply(e,arguments)}function FJ(){var e=HM(h1()).domain([1,10]);return e.copy=function(){return _u(e,FJ()).base(e.base())},Kl.apply(e,arguments)}function BJ(){var e=KM(h1());return e.copy=function(){return _u(e,BJ()).constant(e.constant())},Kl.apply(e,arguments)}function iI(){var e=GM(h1());return e.copy=function(){return _u(e,iI()).exponent(e.exponent())},Kl.apply(e,arguments)}function DIe(){return iI.apply(null,arguments).exponent(.5)}function zJ(){var e=[],t=Ii;function r(n){if(n!=null&&!isNaN(n=+n))return t((My(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(nu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>jRe(e,s/n))},r.copy=function(){return zJ(t).domain(e)},Kl.apply(r,arguments)}function p1(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=Ii,f,p=!1,g;function v(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-s)*(n*y<n*s?l:c),u(p?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,r]=y,i=f(e=+e),s=f(t=+t),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[e,t,r]},v.clamp=function(y){return arguments.length?(p=!!y,v):p},v.interpolator=function(y){return arguments.length?(u=y,v):u};function w(y){return function(_){var S,N,C;return arguments.length?([S,N,C]=_,u=ZRe(y,[S,N,C]),v):[u(0),u(.5),u(1)]}}return v.range=w(Hp),v.rangeRound=w(qM),v.unknown=function(y){return arguments.length?(g=y,v):g},function(y){return f=y,i=y(e),s=y(t),o=y(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function qJ(){var e=wu(p1()(Ii));return e.copy=function(){return _u(e,qJ())},Kl.apply(e,arguments)}function UJ(){var e=HM(p1()).domain([.1,1,10]);return e.copy=function(){return _u(e,UJ()).base(e.base())},Kl.apply(e,arguments)}function VJ(){var e=KM(p1());return e.copy=function(){return _u(e,VJ()).constant(e.constant())},Kl.apply(e,arguments)}function sI(){var e=GM(p1());return e.copy=function(){return _u(e,sI()).exponent(e.exponent())},Kl.apply(e,arguments)}function $Ie(){return sI.apply(null,arguments).exponent(.5)}const gq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xv,scaleDiverging:qJ,scaleDivergingLog:UJ,scaleDivergingPow:sI,scaleDivergingSqrt:$Ie,scaleDivergingSymlog:VJ,scaleIdentity:_J,scaleImplicit:UA,scaleLinear:xw,scaleLog:SJ,scaleOrdinal:FM,scalePoint:Dg,scalePow:ZM,scaleQuantile:EJ,scaleQuantize:PJ,scaleRadial:CJ,scaleSequential:$J,scaleSequentialLog:FJ,scaleSequentialPow:iI,scaleSequentialQuantile:zJ,scaleSequentialSqrt:DIe,scaleSequentialSymlog:BJ,scaleSqrt:yMe,scaleSymlog:NJ,scaleThreshold:TJ,scaleTime:IIe,scaleUtc:LIe,tickFormat:wJ},Symbol.toStringTag,{value:"Module"}));var qP,vq;function WJ(){if(vq)return qP;vq=1;var e=qp();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):i(c,u)))var u=c,f=l}return f}return qP=t,qP}var UP,yq;function FIe(){if(yq)return UP;yq=1;function e(t,r){return t>r}return UP=e,UP}var VP,xq;function BIe(){if(xq)return VP;xq=1;var e=WJ(),t=FIe(),r=Wp();function n(i){return i&&i.length?e(i,r,t):void 0}return VP=n,VP}var zIe=BIe();const m1=fr(zIe);var WP,bq;function qIe(){if(bq)return WP;bq=1;function e(t,r){return t<r}return WP=e,WP}var HP,wq;function UIe(){if(wq)return HP;wq=1;var e=WJ(),t=qIe(),r=Wp();function n(i){return i&&i.length?e(i,r,t):void 0}return HP=n,HP}var VIe=UIe();const g1=fr(VIe);var KP,_q;function WIe(){if(_q)return KP;_q=1;var e=wM(),t=bu(),r=eJ(),n=ns();function i(s,o){var l=n(s)?e:r;return l(s,t(o,3))}return KP=i,KP}var GP,jq;function HIe(){if(jq)return GP;jq=1;var e=QQ(),t=WIe();function r(n,i){return e(t(n,i),1)}return GP=r,GP}var KIe=HIe();const GIe=fr(KIe);var ZP,Sq;function ZIe(){if(Sq)return ZP;Sq=1;var e=MM();function t(r,n){return e(r,n)}return ZP=t,ZP}var YIe=ZIe();const $y=fr(YIe);var Kp=1e9,XIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oI,Gr=!0,la="[DecimalError] ",jd=la+"Invalid argument: ",aI=la+"Exponent out of range: ",Gp=Math.floor,od=Math.pow,QIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cs,Wn=1e7,Ur=7,HJ=9007199254740991,jw=Gp(HJ/Ur),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ur;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return Al(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return Pr(Al(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return jn(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cs))throw Error(la+"NaN");if(r.s<1)throw Error(la+(r.s?"NaN":"-Infinity"));return r.eq(Cs)?new n(0):(Gr=!1,t=Al(Sv(r,s),Sv(e,s),s),Gr=!0,Pr(t,i))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZJ(t,e):KJ(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(la+"NaN");return r.s?(Gr=!1,t=Al(r,e,0,1).times(e),Gr=!0,r.minus(t)):Pr(new n(r),i)};ct.naturalExponential=ct.exp=function(){return GJ(this)};ct.naturalLogarithm=ct.ln=function(){return Sv(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KJ(t,e):ZJ(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jd+e);if(t=jn(i)+1,n=i.d.length-1,r=n*Ur+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(la+"NaN")}for(e=jn(l),Gr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=jo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Gp((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Al(l,s,o+2)).times(.5),jo(s.d).slice(0,o)===(t=jo(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Pr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Gr=!0,Pr(n,r)};ct.times=ct.mul=function(e){var t,r,n,i,s,o,l,c,u,f=this,p=f.constructor,g=f.d,v=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=g.length,u=v.length,c<u&&(s=g,g=v,v=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+v[n]*g[i-n-1]+t,s[i--]=l%Wn|0,t=l/Wn|0;s[i]=(s[i]+t)%Wn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Gr?Pr(e,p.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:($o(e,0,Kp),t===void 0?t=n.rounding:$o(t,0,8),Pr(r,e+jn(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Dd(n,!0):($o(e,0,Kp),t===void 0?t=i.rounding:$o(t,0,8),n=Pr(new i(n),e+1,t),r=Dd(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Dd(i):($o(e,0,Kp),t===void 0?t=s.rounding:$o(t,0,8),n=Pr(new s(i),e+jn(i)+1,t),r=Dd(n.abs(),!1,e+jn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return Pr(new t(e),jn(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Cs);if(l=new c(l),!l.s){if(e.s<1)throw Error(la+"Infinity");return l}if(l.eq(Cs))return l;if(n=c.precision,e.eq(Cs))return Pr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=f<0?-f:f)<=HJ){for(i=new c(Cs),t=Math.ceil(n/Ur+4),Gr=!1;r%2&&(i=i.times(l),Cq(i.d,t)),r=Gp(r/2),r!==0;)l=l.times(l),Cq(l.d,t);return Gr=!0,e.s<0?new c(Cs).div(i):Pr(i,n)}}else if(s<0)throw Error(la+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Gr=!1,i=e.times(Sv(l,n+u)),Gr=!0,i=GJ(i),i.s=s,i};ct.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=jn(i),n=Dd(i,r<=s.toExpNeg||r>=s.toExpPos)):($o(e,1,Kp),t===void 0?t=s.rounding:$o(t,0,8),i=Pr(new s(i),e,t),r=jn(i),n=Dd(i,e<=r||r<=s.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):($o(e,1,Kp),t===void 0?t=n.rounding:$o(t,0,8)),Pr(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jn(e),r=e.constructor;return Dd(e,t<=r.toExpNeg||t>=r.toExpPos)};function KJ(e,t){var r,n,i,s,o,l,c,u,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Gr?Pr(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(p/Ur),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Wn|0,c[s]%=Wn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Gr?Pr(t,p):t}function $o(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jd+e)}function jo(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Ur-n.length,r&&(s+=zc(r)),s+=n;o=e[t],n=o+"",r=Ur-n.length,r&&(s+=zc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Al=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Wn|0,o=s/Wn|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Wn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,f,p,g,v,w,y,_,S,N,C,A,P,k,O,I,z=n.constructor,Y=n.s==i.s?1:-1,Z=n.d,V=i.d;if(!n.s)return new z(n);if(!i.s)throw Error(la+"Division by zero");for(c=n.e-i.e,O=V.length,P=Z.length,v=new z(Y),w=v.d=[],u=0;V[u]==(Z[u]||0);)++u;if(V[u]>(Z[u]||0)&&--c,s==null?N=s=z.precision:o?N=s+(jn(n)-jn(i))+1:N=s,N<0)return new z(0);if(N=N/Ur+2|0,u=0,O==1)for(f=0,V=V[0],N++;(u<P||f)&&N--;u++)C=f*Wn+(Z[u]||0),w[u]=C/V|0,f=C%V|0;else{for(f=Wn/(V[0]+1)|0,f>1&&(V=e(V,f),Z=e(Z,f),O=V.length,P=Z.length),A=O,y=Z.slice(0,O),_=y.length;_<O;)y[_++]=0;I=V.slice(),I.unshift(0),k=V[0],V[1]>=Wn/2&&++k;do f=0,l=t(V,y,O,_),l<0?(S=y[0],O!=_&&(S=S*Wn+(y[1]||0)),f=S/k|0,f>1?(f>=Wn&&(f=Wn-1),p=e(V,f),g=p.length,_=y.length,l=t(p,y,g,_),l==1&&(f--,r(p,O<g?I:V,g))):(f==0&&(l=f=1),p=V.slice()),g=p.length,g<_&&p.unshift(0),r(y,p,_),l==-1&&(_=y.length,l=t(V,y,O,_),l<1&&(f++,r(y,O<_?I:V,_))),_=y.length):l===0&&(f++,y=[0]),w[u++]=f,l&&y[0]?y[_++]=Z[A]||0:(y=[Z[A]],_=1);while((A++<P||y[0]!==void 0)&&N--)}return w[0]||w.shift(),v.e=c,Pr(v,o?s+jn(v)+1:s)}}();function GJ(e,t){var r,n,i,s,o,l,c=0,u=0,f=e.constructor,p=f.precision;if(jn(e)>16)throw Error(aI+jn(e));if(!e.s)return new f(Cs);for(Gr=!1,l=p,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(od(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new f(Cs),f.precision=l;;){if(i=Pr(i.times(e),l),r=r.times(++c),o=s.plus(Al(i,r,l)),jo(o.d).slice(0,l)===jo(s.d).slice(0,l)){for(;u--;)s=Pr(s.times(s),l);return f.precision=p,t==null?(Gr=!0,Pr(s,p)):s}s=o}}function jn(e){for(var t=e.e*Ur,r=e.d[0];r>=10;r/=10)t++;return t}function YP(e,t,r){if(t>e.LN10.sd())throw Gr=!0,r&&(e.precision=r),Error(la+"LN10 precision limit exceeded");return Pr(new e(e.LN10),t)}function zc(e){for(var t="";e--;)t+="0";return t}function Sv(e,t){var r,n,i,s,o,l,c,u,f,p=1,g=10,v=e,w=v.d,y=v.constructor,_=y.precision;if(v.s<1)throw Error(la+(v.s?"NaN":"-Infinity"));if(v.eq(Cs))return new y(0);if(t==null?(Gr=!1,u=_):u=t,v.eq(10))return t==null&&(Gr=!0),YP(y,u);if(u+=g,y.precision=u,r=jo(w),n=r.charAt(0),s=jn(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=jo(v.d),n=r.charAt(0),p++;s=jn(v),n>1?(v=new y("0."+r),s++):v=new y(n+"."+r.slice(1))}else return c=YP(y,u+2,_).times(s+""),v=Sv(new y(n+"."+r.slice(1)),u-g).plus(c),y.precision=_,t==null?(Gr=!0,Pr(v,_)):v;for(l=o=v=Al(v.minus(Cs),v.plus(Cs),u),f=Pr(v.times(v),u),i=3;;){if(o=Pr(o.times(f),u),c=l.plus(Al(o,new y(i),u)),jo(c.d).slice(0,u)===jo(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(YP(y,u+2,_).times(s+""))),l=Al(l,new y(p),u),y.precision=_,t==null?(Gr=!0,Pr(l,_)):l;l=c,i+=2}}function Nq(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Gp(r/Ur),e.d=[],n=(r+1)%Ur,r<0&&(n+=Ur),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ur;n<i;)e.d.push(+t.slice(n,n+=Ur));t=t.slice(n),n=Ur-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Gr&&(e.e>jw||e.e<-jw))throw Error(aI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Pr(e,t,r){var n,i,s,o,l,c,u,f,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ur,i=t,u=p[f=0];else{if(f=Math.ceil((n+1)/Ur),s=p.length,f>=s)return e;for(u=s=p[f],o=1;s>=10;s/=10)o++;n%=Ur,i=n-Ur+o}if(r!==void 0&&(s=od(10,o-i-1),l=u/s%10|0,c=t<0||p[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/od(10,o-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(s=jn(e),p.length=1,t=t-s-1,p[0]=od(10,(Ur-t%Ur)%Ur),e.e=Gp(-t/Ur)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=od(10,Ur-n),p[f]=i>0?(u/od(10,o-i)%od(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==Wn&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=Wn)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Gr&&(e.e>jw||e.e<-jw))throw Error(aI+jn(e));return e}function ZJ(e,t){var r,n,i,s,o,l,c,u,f,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Gr?Pr(t,v):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=p.length):(r=p,n=u,l=c.length),i=Math.max(Math.ceil(v/Ur),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}o=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=Wn-1;--c[s],c[i]+=Wn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Gr?Pr(t,v):t):new g(0)}function Dd(e,t,r){var n,i=jn(e),s=jo(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+zc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+zc(-i-1)+s,r&&(n=r-o)>0&&(s+=zc(n))):i>=o?(s+=zc(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+zc(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=zc(n))),e.s<0?"-"+s:s}function Cq(e,t){if(e.length>t)return e.length=t,!0}function YJ(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Nq(o,s.toString())}else if(typeof s!="string")throw Error(jd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,QIe.test(s))Nq(o,s);else throw Error(jd+s)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=YJ,i.config=i.set=JIe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function JIe(e){if(!e||typeof e!="object")throw Error(la+"Object expected");var t,r,n,i=["precision",1,Kp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Gp(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(jd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jd+r+": "+n);return this}var oI=YJ(XIe);Cs=new oI(1);const _r=oI;function eLe(e){return iLe(e)||nLe(e)||rLe(e)||tLe()}function tLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rLe(e,t){if(e){if(typeof e=="string")return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}}function nLe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iLe(e){if(Array.isArray(e))return KA(e)}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sLe=function(t){return t},XJ={},QJ=function(t){return t===XJ},Eq=function(t){return function r(){return arguments.length===0||arguments.length===1&&QJ(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},aLe=function e(t,r){return t===1?r:Eq(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==XJ}).length;return o>=t?r.apply(void 0,i):e(t-o,Eq(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(p){return QJ(p)?c.shift():p});return r.apply(void 0,eLe(f).concat(c))}))})},v1=function(t){return aLe(t.length,t)},GA=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},oLe=v1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),lLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return sLe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},ZA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},JJ=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function cLe(e){var t;return e===0?t=1:t=Math.floor(new _r(e).abs().log(10).toNumber())+1,t}function uLe(e,t,r){for(var n=new _r(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var dLe=v1(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),fLe=v1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),hLe=v1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const y1={rangeStep:uLe,getDigitCount:cLe,interpolateNumber:dLe,uninterpolateNumber:fLe,uninterpolateTruncation:hLe};function YA(e){return gLe(e)||mLe(e)||eee(e)||pLe()}function pLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mLe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gLe(e){if(Array.isArray(e))return XA(e)}function Nv(e,t){return xLe(e)||yLe(e,t)||eee(e,t)||vLe()}function vLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eee(e,t){if(e){if(typeof e=="string")return XA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(e,t)}}function XA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yLe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function xLe(e){if(Array.isArray(e))return e}function tee(e){var t=Nv(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function ree(e,t,r){if(e.lte(0))return new _r(0);var n=y1.getDigitCount(e.toNumber()),i=new _r(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new _r(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new _r(Math.ceil(c))}function bLe(e,t,r){var n=1,i=new _r(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new _r(10).pow(y1.getDigitCount(e)-1),i=new _r(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _r(Math.floor(e)))}else e===0?i=new _r(Math.floor((t-1)/2)):r||(i=new _r(Math.floor(e)));var o=Math.floor((t-1)/2),l=lLe(oLe(function(c){return i.add(new _r(c-o).mul(n)).toNumber()}),GA);return l(0,t)}function nee(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new _r(0),tickMin:new _r(0),tickMax:new _r(0)};var s=ree(new _r(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new _r(0):(o=new _r(e).add(t).div(2),o=o.sub(new _r(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new _r(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?nee(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new _r(l).mul(s)),tickMax:o.add(new _r(c).mul(s))})}function wLe(e){var t=Nv(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=tee([r,n]),c=Nv(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(YA(GA(0,i-1).map(function(){return 1/0}))):[].concat(YA(GA(0,i-1).map(function(){return-1/0})),[f]);return r>n?ZA(p):p}if(u===f)return bLe(u,i,s);var g=nee(u,f,o,s),v=g.step,w=g.tickMin,y=g.tickMax,_=y1.rangeStep(w,y.add(new _r(.1).mul(v)),v);return r>n?ZA(_):_}function _Le(e,t){var r=Nv(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tee([n,i]),l=Nv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),p=ree(new _r(u).sub(c).div(f-1),s,0),g=[].concat(YA(y1.rangeStep(new _r(c),new _r(u).sub(new _r(.99).mul(p)),p)),[u]);return n>i?ZA(g):g}var jLe=JJ(wLe),SLe=JJ(_Le),NLe="Invariant failed";function $d(e,t){throw new Error(NLe)}var CLe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(this,arguments)}function ELe(e,t){return kLe(e)||ALe(e,t)||TLe(e,t)||PLe()}function PLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TLe(e,t){if(e){if(typeof e=="string")return Pq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pq(e,t)}}function Pq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ALe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kLe(e){if(Array.isArray(e))return e}function OLe(e,t){if(e==null)return{};var r=RLe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ILe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aee(n.key),n)}}function LLe(e,t,r){return t&&ILe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DLe(e,t,r){return t=Nw(t),$Le(e,iee()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function $Le(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FLe(e)}function FLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iee=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function BLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QA(e,t)}function QA(e,t){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QA(e,t)}function see(e,t,r){return t=aee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aee(e){var t=zLe(e,"string");return np(t)=="symbol"?t:t+""}function zLe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fy=function(e){function t(){return MLe(this,t),DLe(this,t,arguments)}return BLe(t,e),LLe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,g=OLe(n,CLe),v=qt(g,!1);this.props.direction==="x"&&f.type!=="number"&&$d();var w=c.map(function(y){var _=u(y,l),S=_.x,N=_.y,C=_.value,A=_.errorVal;if(!A)return null;var P=[],k,O;if(Array.isArray(A)){var I=ELe(A,2);k=I[0],O=I[1]}else k=O=A;if(s==="vertical"){var z=f.scale,Y=N+i,Z=Y+o,V=Y-o,q=z(C-k),U=z(C+O);P.push({x1:U,y1:Z,x2:U,y2:V}),P.push({x1:q,y1:Y,x2:U,y2:Y}),P.push({x1:q,y1:Z,x2:q,y2:V})}else if(s==="horizontal"){var re=p.scale,ae=S+i,se=ae-o,X=ae+o,Q=re(C-k),te=re(C+O);P.push({x1:se,y1:te,x2:X,y2:te}),P.push({x1:ae,y1:Q,x2:ae,y2:te}),P.push({x1:se,y1:Q,x2:X,y2:Q})}return K.createElement(Lr,Sw({className:"recharts-errorBar",key:"bar-".concat(P.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},v),P.map(function(G){return K.createElement("line",Sw({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return K.createElement(Lr,{className:"recharts-errorBars"},w)}}])}(K.Component);see(Fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});see(Fy,"displayName","ErrorBar");function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function Tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(r),!0).forEach(function(n){qLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qLe(e,t,r){return t=ULe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ULe(e){var t=VLe(e,"string");return Cv(t)=="symbol"?t:t+""}function VLe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oee=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=bs(r,ru);if(!o)return null;var l=ru.defaultProps,c=l!==void 0?ed(ed({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,p){var g=p.item,v=p.props,w=v.sectors||v.data||[];return f.concat(w.map(function(y){return{type:o.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(f){var p=f.item,g=p.type.defaultProps,v=g!==void 0?ed(ed({},g),p.props):{},w=v.dataKey,y=v.name,_=v.legendType,S=v.hide;return{inactive:S,dataKey:w,type:c.iconType||_||"square",color:lI(p),value:y||w,payload:v}}),ed(ed(ed({},c),ru.getWithHeight(o,i)),{},{payload:u,item:o})};function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}function Aq(e){return GLe(e)||KLe(e)||HLe(e)||WLe()}function WLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HLe(e,t){if(e){if(typeof e=="string")return JA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(e,t)}}function KLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GLe(e){if(Array.isArray(e))return JA(e)}function JA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kq(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oh(e,t,r){return t=ZLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZLe(e){var t=YLe(e,"string");return Ev(t)=="symbol"?t:t+""}function YLe(e,t){if(Ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t,r){return Mt(e)||Mt(t)?r:Ln(t)?As(e,t,r):Rt(t)?t(e):r}function $g(e,t,r,n){var i=GIe(e,function(l){return In(l,t)});if(r==="number"){var s=i.filter(function(l){return et(l)||parseFloat(l)});return s.length?[g1(s),m1(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Mt(l)}):i;return o.map(function(l){return Ln(l)||l instanceof Date?l:""})}var XLe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,p=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(Mi(p-f)!==Mi(g-p)){var w=[];if(Mi(g-p)===Mi(c[1]-c[0])){v=g;var y=p+c[1]-c[0];w[0]=Math.min(y,(y+f)/2),w[1]=Math.max(y,(y+f)/2)}else{v=f;var _=g+c[1]-c[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){o=i[u].index;break}}else{var N=Math.min(f,g),C=Math.max(f,g);if(t>(N+p)/2&&t<=(C+p)/2){o=i[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&t>(n[A].coordinate+n[A-1].coordinate)/2&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&t>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},lI=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?on(on({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},QLe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,p=Object.keys(f),g=0,v=p.length;g<v;g++){var w=f[p[g]],y=w.items,_=w.cateAxisId,S=y.filter(function(O){return Tl(O.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,C=N!==void 0?on(on({},N),S[0].props):S[0].props,A=C.barSize,P=C[_];o[P]||(o[P]=[]);var k=Mt(A)?r:A;o[P].push({item:S[0],stackList:S.slice(1),barSize:Mt(k)?void 0:Fa(k,n,0)})}}return o},JLe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Fa(r,i,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/c,w=o.reduce(function(A,P){return A+P.barSize||0},0);w+=(c-1)*u,w>=i&&(w-=(c-1)*u,u=0),w>=i&&v>0&&(g=!0,v*=.9,w=c*v);var y=(i-w)/2>>0,_={offset:y-u,size:0};f=o.reduce(function(A,P){var k={item:P.item,position:{offset:_.offset+_.size+u,size:g?v:P.barSize}},O=[].concat(Aq(A),[k]);return _=O[O.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){O.push({item:I,position:_})}),O},p)}else{var S=Fa(n,i,0,!0);i-2*S-(c-1)*u<=0&&(u=0);var N=(i-2*S-(c-1)*u)/c;N>1&&(N>>=0);var C=l===+l?Math.min(N,l):N;f=o.reduce(function(A,P,k){var O=[].concat(Aq(A),[{item:P.item,position:{offset:S+(N+u)*k+(N-C)/2,size:C}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},p)}return f},eDe=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=oee({children:s,legendWidth:c});if(u){var f=i||{},p=f.width,g=f.height,v=u.align,w=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&w==="middle")&&v!=="center"&&et(t[v]))return on(on({},t),{},Oh({},v,t[v]+(p||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&w!=="middle"&&et(t[w]))return on(on({},t),{},Oh({},w,t[w]+(g||0)))}return t},tDe=function(t,r,n){return Mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},lee=function(t,r,n,i,s){var o=r.props.children,l=ks(o,Fy).filter(function(u){return tDe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var p=In(f,n);if(Mt(p))return u;var g=Array.isArray(p)?[g1(p),m1(p)]:[p,p],v=c.reduce(function(w,y){var _=In(f,y,0),S=g[0]-Math.abs(Array.isArray(_)?_[0]:_),N=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(S,w[0]),Math.max(N,w[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},rDe=function(t,r,n,i,s){var o=r.map(function(l){return lee(t,l,n,s,i)}).filter(function(l){return!Mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},cee=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&lee(t,c,u,i)||$g(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,p=u.length;f<p;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},uee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},dee=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},bl=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?Mi(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(p){var g=s?s.indexOf(p):p;return{coordinate:i(g)+u,value:p,offset:u}});return f.filter(function(p){return!Oy(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,g){return{coordinate:i(p)+u,value:p,index:g,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,g){return{coordinate:i(p)+u,value:s?s[p]:p,index:g,offset:u}})},XP=new WeakMap,V0=function(t,r){if(typeof r!="function")return t;XP.has(t)||XP.set(t,new WeakMap);var n=XP.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},nDe=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:xv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xw(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dg(),realScaleType:"point"}:s==="category"?{scale:xv(),realScaleType:"band"}:{scale:xw(),realScaleType:"linear"};if(Ld(i)){var c="scale".concat(r1(i));return{scale:(gq[c]||Dg)(),realScaleType:gq[c]?c:"point"}}return Rt(i)?{scale:i}:{scale:Dg(),realScaleType:"point"}},Oq=1e-4,iDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-Oq,o=Math.max(i[0],i[1])+Oq,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},sDe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},aDe=function(t,r){if(!r||r.length!==2||!et(r[0])||!et(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!et(t[0])||t[0]<n)&&(s[0]=n),(!et(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},oDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Oy(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},lDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Oy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},cDe={sign:oDe,expand:HTe,none:Zh,silhouette:KTe,wiggle:GTe,positive:lDe},uDe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=cDe[n],o=WTe().keys(i).value(function(l,c){return+In(l,c,0)}).order(TA).offset(s);return o(t)},dDe=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(p,g){var v,w=(v=g.type)!==null&&v!==void 0&&v.defaultProps?on(on({},g.type.defaultProps),g.props):g.props,y=w.stackId,_=w.hide;if(_)return p;var S=w[n],N=p[S]||{hasStack:!1,stackGroups:{}};if(Ln(y)){var C=N.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(g),N.hasStack=!0,N.stackGroups[y]=C}else N.stackGroups[Vp("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return on(on({},p),{},Oh({},S,N))},c),f={};return Object.keys(u).reduce(function(p,g){var v=u[g];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,_){var S=v.stackGroups[_];return on(on({},y),{},Oh({},_,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:uDe(t,S.items,s)}))},w)}return on(on({},p),{},Oh({},g,v))},f)},fDe=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=jLe(u,s,l);return t.domain([g1(f),m1(f)]),{niceTicks:f}}if(s&&i==="number"){var p=t.domain(),g=SLe(p,s,l);return{niceTicks:g}}return null};function Rq(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(i[t.dataKey])){var l=tw(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=In(i,Mt(o)?t.dataKey:o);return Mt(c)?null:t.scale(c)}var Mq=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=In(o,r.dataKey,r.domain[l]);return Mt(c)?null:r.scale(c)-s/2+i},hDe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},pDe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?on(on({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Ln(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},mDe=function(t){return t.reduce(function(r,n){return[g1(n.concat([r[0]]).filter(et)),m1(n.concat([r[1]]).filter(et))]},[1/0,-1/0])},fee=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,f){var p=mDe(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Iq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ek=function(t,r,n){if(Rt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(et(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Iq.test(t[0])){var s=+Iq.exec(t[0])[1];i[0]=r[0]-s}else Rt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(et(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Lq.test(t[1])){var o=+Lq.exec(t[1])[1];i[1]=r[1]+o}else Rt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Cw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=LM(r,function(p){return p.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Dq=function(t,r,n){return!t||!t.length||$y(t,As(n,"type.defaultProps.domain"))?r:t},hee=function(t,r){var n=t.type.defaultProps?on(on({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return on(on({},qt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:lI(t),value:In(r,i),type:c,payload:r,chartType:u,hide:f})};function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function $q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$q(Object(r),!0).forEach(function(n){gDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gDe(e,t,r){return t=vDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vDe(e){var t=yDe(e,"string");return Pv(t)=="symbol"?t:t+""}function yDe(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ew=Math.PI/180,xDe=function(t){return t*180/Math.PI},_n=function(t,r,n,i){return{x:t+Math.cos(-Ew*i)*n,y:r+Math.sin(-Ew*i)*n}},bDe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wDe=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},_De=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=wDe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:xDe(u),angleInRadian:u}},jDe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},SDe=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},Bq=function(t,r){var n=t.x,i=t.y,s=_De({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=jDe(r),p=f.startAngle,g=f.endAngle,v=l,w;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;w=v>=g&&v<=p}return w?Fq(Fq({},r),{},{radius:o,angle:SDe(v,r)}):null};function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}var NDe=["offset"];function CDe(e){return ADe(e)||TDe(e)||PDe(e)||EDe()}function EDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PDe(e,t){if(e){if(typeof e=="string")return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}}function TDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ADe(e){if(Array.isArray(e))return tk(e)}function tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kDe(e,t){if(e==null)return{};var r=ODe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ODe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zq(Object(r),!0).forEach(function(n){RDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RDe(e,t,r){return t=MDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MDe(e){var t=IDe(e,"string");return Tv(t)=="symbol"?t:t+""}function IDe(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}var LDe=function(t){var r=t.value,n=t.formatter,i=Mt(t.children)?r:t.children;return Rt(n)?n(i):i},DDe=function(t,r){var n=Mi(r-t),i=Math.min(Math.abs(r-t),360);return n*i},$De=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,p=c.innerRadius,g=c.outerRadius,v=c.startAngle,w=c.endAngle,y=c.clockWise,_=(p+g)/2,S=DDe(v,w),N=S>=0?1:-1,C,A;i==="insideStart"?(C=v+N*o,A=y):i==="insideEnd"?(C=w-N*o,A=!y):i==="end"&&(C=w+N*o,A=y),A=S<=0?A:!A;var P=_n(u,f,_,C),k=_n(u,f,_,C+(A?1:-1)*359),O="M".concat(P.x,",").concat(P.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(k.x,",").concat(k.y),I=Mt(t.id)?Vp("recharts-radial-line-"):t.id;return K.createElement("text",Av({},n,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:I,d:O})),K.createElement("textPath",{xlinkHref:"#".concat(I)},r))},FDe=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,p=s.endAngle,g=(f+p)/2;if(i==="outside"){var v=_n(o,l,u+n,g),w=v.x,y=v.y;return{x:w,y,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,S=_n(o,l,_,g),N=S.x,C=S.y;return{x:N,y:C,textAnchor:"middle",verticalAnchor:"middle"}},BDe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,p=f>=0?1:-1,g=p*i,v=p>0?"end":"start",w=p>0?"start":"end",y=u>=0?1:-1,_=y*i,S=y>0?"end":"start",N=y>0?"start":"end";if(s==="top"){var C={x:l+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:v};return kn(kn({},C),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var A={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:w};return kn(kn({},A),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var P={x:l-_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return kn(kn({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(s==="right"){var k={x:l+u+_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return kn(kn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var O=n?{width:u,height:f}:{};return s==="insideLeft"?kn({x:l+_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideRight"?kn({x:l+u-_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideTop"?kn({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:w},O):s==="insideBottom"?kn({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:v},O):s==="insideTopLeft"?kn({x:l+_,y:c+g,textAnchor:N,verticalAnchor:w},O):s==="insideTopRight"?kn({x:l+u-_,y:c+g,textAnchor:S,verticalAnchor:w},O):s==="insideBottomLeft"?kn({x:l+_,y:c+f-g,textAnchor:N,verticalAnchor:v},O):s==="insideBottomRight"?kn({x:l+u-_,y:c+f-g,textAnchor:S,verticalAnchor:v},O):Up(s)&&(et(s.x)||pd(s.x))&&(et(s.y)||pd(s.y))?kn({x:l+Fa(s.x,u),y:c+Fa(s.y,f),textAnchor:"end",verticalAnchor:"end"},O):kn({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},zDe=function(t){return"cx"in t&&et(t.cx)};function ni(e){var t=e.offset,r=t===void 0?5:t,n=kDe(e,NDe),i=kn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,p=f===void 0?"":f,g=i.textBreakAll;if(!s||Mt(l)&&Mt(c)&&!x.isValidElement(u)&&!Rt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var v;if(Rt(u)){if(v=x.createElement(u,i),x.isValidElement(v))return v}else v=LDe(i);var w=zDe(s),y=qt(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $De(i,v,y);var _=w?FDe(i):BDe(i);return K.createElement(yv,Av({className:Ht("recharts-label",p)},y,_,{breakAll:g}),v)}ni.displayName="Label";var pee=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,p=t.x,g=t.y,v=t.top,w=t.left,y=t.width,_=t.height,S=t.clockWise,N=t.labelViewBox;if(N)return N;if(et(y)&&et(_)){if(et(p)&&et(g))return{x:p,y:g,width:y,height:_};if(et(v)&&et(w))return{x:v,y:w,width:y,height:_}}return et(p)&&et(g)?{x:p,y:g,width:0,height:0}:et(r)&&et(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:S}:t.viewBox?t.viewBox:{}},qDe=function(t,r){return t?t===!0?K.createElement(ni,{key:"label-implicit",viewBox:r}):Ln(t)?K.createElement(ni,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===ni?x.cloneElement(t,{key:"label-implicit",viewBox:r}):K.createElement(ni,{key:"label-implicit",content:t,viewBox:r}):Rt(t)?K.createElement(ni,{key:"label-implicit",content:t,viewBox:r}):Up(t)?K.createElement(ni,Av({viewBox:r},t,{key:"label-implicit"})):null:null},UDe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=pee(t),o=ks(i,ni).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=qDe(t.label,r||s);return[l].concat(CDe(o))};ni.parseViewBox=pee;ni.renderCallByParent=UDe;var QP,qq;function VDe(){if(qq)return QP;qq=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return QP=e,QP}var WDe=VDe();const HDe=fr(WDe);function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}var KDe=["valueAccessor"],GDe=["data","dataKey","clockWise","id","textBreakAll"];function ZDe(e){return JDe(e)||QDe(e)||XDe(e)||YDe()}function YDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XDe(e,t){if(e){if(typeof e=="string")return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,t)}}function QDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JDe(e){if(Array.isArray(e))return rk(e)}function rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(this,arguments)}function Uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uq(Object(r),!0).forEach(function(n){e4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e4e(e,t,r){return t=t4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t4e(e){var t=r4e(e,"string");return kv(t)=="symbol"?t:t+""}function r4e(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wq(e,t){if(e==null)return{};var r=n4e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var i4e=function(t){return Array.isArray(t.value)?HDe(t.value):t.value};function kl(e){var t=e.valueAccessor,r=t===void 0?i4e:t,n=Wq(e,KDe),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Wq(n,GDe);return!i||!i.length?null:K.createElement(Lr,{className:"recharts-label-list"},i.map(function(f,p){var g=Mt(s)?r(f,p):In(f&&f.payload,s),v=Mt(l)?{}:{id:"".concat(l,"-").concat(p)};return K.createElement(ni,Pw({},qt(f,!0),u,v,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:ni.parseViewBox(Mt(o)?f:Vq(Vq({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}kl.displayName="LabelList";function s4e(e,t){return e?e===!0?K.createElement(kl,{key:"labelList-implicit",data:t}):K.isValidElement(e)||Rt(e)?K.createElement(kl,{key:"labelList-implicit",data:t,content:e}):Up(e)?K.createElement(kl,Pw({data:t},e,{key:"labelList-implicit"})):null:null}function a4e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ks(n,kl).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=s4e(e.label,t);return[s].concat(ZDe(i))}kl.renderCallByParent=a4e;function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nk.apply(this,arguments)}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hq(Object(r),!0).forEach(function(n){o4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4e(e,t,r){return t=l4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l4e(e){var t=c4e(e,"string");return Ov(t)=="symbol"?t:t+""}function c4e(e,t){if(Ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u4e=function(t,r){var n=Mi(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},W0=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,p=Math.asin(c/f)/Ew,g=u?s:s+o*p,v=_n(r,n,f,g),w=_n(r,n,i,g),y=u?s-o*p:s,_=_n(r,n,f*Math.cos(p*Ew),y);return{center:v,circleTangency:w,lineTangency:_,theta:p}},mee=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=u4e(o,l),u=o+c,f=_n(r,n,s,o),p=_n(r,n,s,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=_n(r,n,i,o),w=_n(r,n,i,u);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},d4e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,p=Mi(f-u),g=W0({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,w=g.lineTangency,y=g.theta,_=W0({cx:r,cy:n,radius:s,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,N=_.lineTangency,C=_.theta,A=c?Math.abs(u-f):Math.abs(u-f)-y-C;if(A<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):mee({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var P="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var k=W0({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=k.circleTangency,I=k.lineTangency,z=k.theta,Y=W0({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),Z=Y.circleTangency,V=Y.lineTangency,q=Y.theta,U=c?Math.abs(u-f):Math.abs(u-f)-z-q;if(U<0&&o===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(Z.x,",").concat(Z.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},f4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gee=function(t){var r=Kq(Kq({},f4e),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,g=r.className;if(o<s||f===p)return null;var v=Ht("recharts-sector",g),w=o-s,y=Fa(l,w,0,!0),_;return y>0&&Math.abs(f-p)<360?_=d4e({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,w/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):_=mee({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:p}),K.createElement("path",nk({},qt(r,!0),{className:v,d:_,role:"img"}))};function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(this,arguments)}function Gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(r),!0).forEach(function(n){h4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h4e(e,t,r){return t=p4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4e(e){var t=m4e(e,"string");return Rv(t)=="symbol"?t:t+""}function m4e(e,t){if(Rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yq={curveBasisClosed:MTe,curveBasisOpen:ITe,curveBasis:RTe,curveBumpX:xTe,curveBumpY:bTe,curveLinearClosed:LTe,curveLinear:i1,curveMonotoneX:DTe,curveMonotoneY:$Te,curveNatural:FTe,curveStep:BTe,curveStepAfter:qTe,curveStepBefore:zTe},H0=function(t){return t.x===+t.x&&t.y===+t.y},ag=function(t){return t.x},og=function(t){return t.y},g4e=function(t,r){if(Rt(t))return t;var n="curve".concat(r1(t));return(n==="curveMonotone"||n==="curveBump")&&r?Yq["".concat(n).concat(r==="vertical"?"Y":"X")]:Yq[n]||i1},v4e=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=g4e(n,l),p=u?s.filter(function(y){return H0(y)}):s,g;if(Array.isArray(o)){var v=u?o.filter(function(y){return H0(y)}):o,w=p.map(function(y,_){return Zq(Zq({},y),{},{base:v[_]})});return l==="vertical"?g=L0().y(og).x1(ag).x0(function(y){return y.base.x}):g=L0().x(ag).y1(og).y0(function(y){return y.base.y}),g.defined(H0).curve(f),g(w)}return l==="vertical"&&et(o)?g=L0().y(og).x1(ag).x0(o):et(o)?g=L0().x(ag).y1(og).y0(o):g=wQ().x(ag).y(og),g.defined(H0).curve(f),g(p)},Tw=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?v4e(t):i;return x.createElement("path",ik({},qt(t,!1),rw(t),{className:Ht("recharts-curve",r),d:o,ref:s}))},JP={exports:{}},e2,Xq;function y4e(){if(Xq)return e2;Xq=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return e2=e,e2}var t2,Qq;function x4e(){if(Qq)return t2;Qq=1;var e=y4e();function t(){}function r(){}return r.resetWarningCache=t,t2=function(){function n(o,l,c,u,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},t2}var Jq;function b4e(){return Jq||(Jq=1,JP.exports=x4e()()),JP.exports}var w4e=b4e();const mr=fr(w4e);var _4e=Object.getOwnPropertyNames,j4e=Object.getOwnPropertySymbols,S4e=Object.prototype.hasOwnProperty;function eU(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function K0(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function tU(e){return _4e(e).concat(j4e(e))}var N4e=Object.hasOwn||function(e,t){return S4e.call(e,t)};function tf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var C4e="__v",E4e="__o",P4e="_owner",rU=Object.getOwnPropertyDescriptor,nU=Object.keys;function T4e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function A4e(e,t){return tf(e.getTime(),t.getTime())}function k4e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function O4e(e,t){return e===t}function iU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),f=!1,p=0;(l=u.next())&&!l.done;){if(i[p]){p++;continue}var g=o.value,v=l.value;if(r.equals(g[0],v[0],c,p,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}var R4e=tf;function M4e(e,t,r){var n=nU(e),i=n.length;if(nU(t).length!==i)return!1;for(;i-- >0;)if(!vee(e,t,r,n[i]))return!1;return!0}function lg(e,t,r){var n=tU(e),i=n.length;if(tU(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!vee(e,t,r,s)||(o=rU(e,s),l=rU(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function I4e(e,t){return tf(e.valueOf(),t.valueOf())}function L4e(e,t){return e.source===t.source&&e.flags===t.flags}function sU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function D4e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function $4e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function vee(e,t,r,n){return(n===P4e||n===E4e||n===C4e)&&(e.$$typeof||t.$$typeof)?!0:N4e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var F4e="[object Arguments]",B4e="[object Boolean]",z4e="[object Date]",q4e="[object Error]",U4e="[object Map]",V4e="[object Number]",W4e="[object Object]",H4e="[object RegExp]",K4e="[object Set]",G4e="[object String]",Z4e="[object URL]",Y4e=Array.isArray,aU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oU=Object.assign,X4e=Object.prototype.toString.call.bind(Object.prototype.toString);function Q4e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,p=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(w,y,_){if(w===y)return!0;if(w==null||y==null)return!1;var S=typeof w;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?o(w,y,_):S==="function"?i(w,y,_):!1;var N=w.constructor;if(N!==y.constructor)return!1;if(N===Object)return l(w,y,_);if(Y4e(w))return t(w,y,_);if(aU!=null&&aU(w))return p(w,y,_);if(N===Date)return r(w,y,_);if(N===RegExp)return u(w,y,_);if(N===Map)return s(w,y,_);if(N===Set)return f(w,y,_);var C=X4e(w);return C===z4e?r(w,y,_):C===H4e?u(w,y,_):C===U4e?s(w,y,_):C===K4e?f(w,y,_):C===W4e?typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,_):C===Z4e?g(w,y,_):C===q4e?n(w,y,_):C===F4e?l(w,y,_):C===B4e||C===V4e||C===G4e?c(w,y,_):!1}}function J4e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?lg:T4e,areDatesEqual:A4e,areErrorsEqual:k4e,areFunctionsEqual:O4e,areMapsEqual:n?eU(iU,lg):iU,areNumbersEqual:R4e,areObjectsEqual:n?lg:M4e,arePrimitiveWrappersEqual:I4e,areRegExpsEqual:L4e,areSetsEqual:n?eU(sU,lg):sU,areTypedArraysEqual:n?lg:D4e,areUrlsEqual:$4e};if(r&&(i=oU({},i,r(i))),t){var s=K0(i.areArraysEqual),o=K0(i.areMapsEqual),l=K0(i.areObjectsEqual),c=K0(i.areSetsEqual);i=oU({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function e$e(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function t$e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var f=n(),p=f.cache,g=p===void 0?t?new WeakMap:void 0:p,v=f.meta;return r(c,u,{cache:g,equals:i,meta:v,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var r$e=ju();ju({strict:!0});ju({circular:!0});ju({circular:!0,strict:!0});ju({createInternalComparator:function(){return tf}});ju({strict:!0,createInternalComparator:function(){return tf}});ju({circular:!0,createInternalComparator:function(){return tf}});ju({circular:!0,createInternalComparator:function(){return tf},strict:!0});function ju(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=J4e(e),c=Q4e(l),u=n?n(c):e$e(c);return t$e({circular:r,comparator:c,createState:i,equals:u,strict:o})}function n$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function lU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):n$e(i)};requestAnimationFrame(n)}function sk(e){"@babel/helpers - typeof";return sk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sk(e)}function i$e(e){return l$e(e)||o$e(e)||a$e(e)||s$e()}function s$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a$e(e,t){if(e){if(typeof e=="string")return cU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cU(e,t)}}function cU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l$e(e){if(Array.isArray(e))return e}function c$e(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=i$e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){lU(i.bind(null,u),c);return}i(c),lU(i.bind(null,u));return}sk(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}function uU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(r),!0).forEach(function(n){yee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yee(e,t,r){return t=u$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$e(e){var t=d$e(e,"string");return Mv(t)==="symbol"?t:String(t)}function d$e(e,t){if(Mv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f$e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},h$e=function(t){return t},p$e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fg=function(t,r){return Object.keys(r).reduce(function(n,i){return dU(dU({},n),{},yee({},i,t(i,r[i])))},{})},fU=function(t,r,n){return t.map(function(i){return"".concat(p$e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function m$e(e,t){return y$e(e)||v$e(e,t)||xee(e,t)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function y$e(e){if(Array.isArray(e))return e}function x$e(e){return _$e(e)||w$e(e)||xee(e)||b$e()}function b$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xee(e,t){if(e){if(typeof e=="string")return ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(e,t)}}function w$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _$e(e){if(Array.isArray(e))return ak(e)}function ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aw=1e-4,bee=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},wee=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},hU=function(t,r){return function(n){var i=bee(t,r);return wee(i,n)}},j$e=function(t,r){return function(n){var i=bee(t,r),s=[].concat(x$e(i.map(function(o,l){return o*l}).slice(1)),[0]);return wee(s,n)}},pU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=m$e(u,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var p=hU(i,o),g=hU(s,l),v=j$e(i,o),w=function(S){return S>1?1:S<0?0:S},y=function(S){for(var N=S>1?1:S,C=N,A=0;A<8;++A){var P=p(C)-N,k=v(C);if(Math.abs(P-N)<Aw||k<Aw)return g(C);C=w(C-P/k)}return g(C)};return y.isStepper=!1,y},S$e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,p,g){var v=-(f-p)*n,w=g*s,y=g+(v-w)*l/1e3,_=g*l/1e3+f;return Math.abs(_-p)<Aw&&Math.abs(y)<Aw?[p,0]:[_,y]};return c.isStepper=!0,c.dt=l,c},N$e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pU(i);case"spring":return S$e();default:if(i.split("(")[0]==="cubic-bezier")return pU(i)}return typeof i=="function"?i:null};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function mU(e){return P$e(e)||E$e(e)||_ee(e)||C$e()}function C$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P$e(e){if(Array.isArray(e))return lk(e)}function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(n){ok(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ok(e,t,r){return t=T$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$e(e){var t=A$e(e,"string");return Iv(t)==="symbol"?t:String(t)}function A$e(e,t){if(Iv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k$e(e,t){return M$e(e)||R$e(e,t)||_ee(e,t)||O$e()}function O$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function M$e(e){if(Array.isArray(e))return e}var kw=function(t,r,n){return t+(r-t)*n},ck=function(t){var r=t.from,n=t.to;return r!==n},I$e=function e(t,r,n){var i=Fg(function(s,o){if(ck(o)){var l=t(o.from,o.to,o.velocity),c=k$e(l,2),u=c[0],f=c[1];return ei(ei({},o),{},{from:u,velocity:f})}return o},r);return n<1?Fg(function(s,o){return ck(o)?ei(ei({},o),{},{velocity:kw(o.velocity,i[s].velocity,n),from:kw(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const L$e=function(e,t,r,n,i){var s=f$e(e,t),o=s.reduce(function(_,S){return ei(ei({},_),{},ok({},S,[e[S],t[S]]))},{}),l=s.reduce(function(_,S){return ei(ei({},_),{},ok({},S,{from:e[S],velocity:0,to:t[S]}))},{}),c=-1,u,f,p=function(){return null},g=function(){return Fg(function(S,N){return N.from},l)},v=function(){return!Object.values(l).filter(ck).length},w=function(S){u||(u=S);var N=S-u,C=N/r.dt;l=I$e(r,l,C),i(ei(ei(ei({},e),t),g())),u=S,v()||(c=requestAnimationFrame(p))},y=function(S){f||(f=S);var N=(S-f)/n,C=Fg(function(P,k){return kw.apply(void 0,mU(k).concat([r(N)]))},o);if(i(ei(ei(ei({},e),t),C)),N<1)c=requestAnimationFrame(p);else{var A=Fg(function(P,k){return kw.apply(void 0,mU(k).concat([r(1)]))},o);i(ei(ei(ei({},e),t),A))}};return p=r.isStepper?w:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}var D$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $$e(e,t){if(e==null)return{};var r=F$e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F$e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function r2(e){return U$e(e)||q$e(e)||z$e(e)||B$e()}function B$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$e(e,t){if(e){if(typeof e=="string")return uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(e,t)}}function q$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U$e(e){if(Array.isArray(e))return uk(e)}function uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(r),!0).forEach(function(n){Sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sg(e,t,r){return t=jee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jee(n.key),n)}}function H$e(e,t,r){return t&&W$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jee(e){var t=K$e(e,"string");return ip(t)==="symbol"?t:String(t)}function K$e(e,t){if(ip(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dk(e,t)}function Z$e(e){var t=Y$e();return function(){var n=Ow(e),i;if(t){var s=Ow(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return fk(this,i)}}function fk(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hk(e)}function hk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(e)}var Fo=function(e){G$e(r,e);var t=Z$e(r);function r(n,i){var s;V$e(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,p=o.steps,g=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(hk(s)),s.changeStyle=s.changeStyle.bind(hk(s)),!l||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:f}),fk(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof g=="function")return s.state={style:u},fk(s);s.state={style:c?Sg({},c,u):u}}else s.state={style:{}};return s}return H$e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,p=s.from,g=this.state.style;if(l){if(!o){var v={style:c?Sg({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(v);return}if(!(r$e(i.to,f)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=w||u?p:i.to;if(this.state&&g){var _={style:c?Sg({},c,y):y};(c&&g[c]!==y||!c&&g!==y)&&this.setState(_)}this.runAnimation(Na(Na({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,v=L$e(o,l,N$e(u),c,this.changeStyle),w=function(){s.stopJSAnimation=v()};this.manager.start([g,f,w,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,p=u.duration,g=p===void 0?0:p,v=function(y,_,S){if(S===0)return y;var N=_.duration,C=_.easing,A=C===void 0?"ease":C,P=_.style,k=_.properties,O=_.onAnimationEnd,I=S>0?o[S-1]:_,z=k||Object.keys(P);if(typeof A=="function"||A==="spring")return[].concat(r2(y),[s.runJSAnimation.bind(s,{from:I.style,to:P,duration:N,easing:A}),N]);var Y=fU(z,N,A),Z=Na(Na(Na({},I.style),P),{},{transition:Y});return[].concat(r2(y),[Z,N,O]).filter(h$e)};return this.manager.start([c].concat(r2(o.reduce(v,[f,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=c$e());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var y=l?Sg({},l,c):c,_=fU(Object.keys(y),o,u);w.start([f,s,Na(Na({},y),{},{transition:_}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=$$e(i,D$e),u=x.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var p=function(v){var w=v.props,y=w.style,_=y===void 0?{}:y,S=w.className,N=x.cloneElement(v,Na(Na({},c),{},{style:Na(Na({},_),f),className:S}));return N};return u===1?p(x.Children.only(s)):K.createElement("div",null,x.Children.map(s,function(g){return p(g)}))}}]),r}(x.PureComponent);Fo.displayName="Animate";Fo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fo.propTypes={from:mr.oneOfType([mr.object,mr.string]),to:mr.oneOfType([mr.object,mr.string]),attributeName:mr.string,duration:mr.number,begin:mr.number,easing:mr.oneOfType([mr.string,mr.func]),steps:mr.arrayOf(mr.shape({duration:mr.number.isRequired,style:mr.object.isRequired,easing:mr.oneOfType([mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mr.func]),properties:mr.arrayOf("string"),onAnimationEnd:mr.func})),children:mr.oneOfType([mr.node,mr.func]),isActive:mr.bool,canBegin:mr.bool,onAnimationEnd:mr.func,shouldReAnimate:mr.bool,onAnimationStart:mr.func,onAnimationReStart:mr.func};function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function X$e(e,t){return tFe(e)||eFe(e,t)||J$e(e,t)||Q$e()}function Q$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J$e(e,t){if(e){if(typeof e=="string")return yU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yU(e,t)}}function yU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tFe(e){if(Array.isArray(e))return e}function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(n){rFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rFe(e,t,r){return t=nFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nFe(e){var t=iFe(e,"string");return Lv(t)=="symbol"?t:t+""}function iFe(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wU=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=s[g]>o?o:s[g];f="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+c*p[0],",").concat(r)),f+="L ".concat(t+n-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*p[1])),f+="L ".concat(t+n,",").concat(r+i-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-c*p[2],",").concat(r+i)),f+="L ".concat(t+c*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*p[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var w=Math.min(o,s);f="M ".concat(t,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+c*w,",").concat(r,`
            L `).concat(t+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*w,`
            L `).concat(t+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+n-c*w,",").concat(r+i,`
            L `).concat(t+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*w," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},sFe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),p=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&i>=p&&i<=g}return!1},aFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cI=function(t){var r=bU(bU({},aFe),t),n=x.useRef(),i=x.useState(-1),s=X$e(i,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,f=r.width,p=r.height,g=r.radius,v=r.className,w=r.animationEasing,y=r.animationDuration,_=r.animationBegin,S=r.isAnimationActive,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var C=Ht("recharts-rectangle",v);return N?K.createElement(Fo,{canBegin:o>0,from:{width:f,height:p,x:c,y:u},to:{width:f,height:p,x:c,y:u},duration:y,animationEasing:w,isActive:N},function(A){var P=A.width,k=A.height,O=A.x,I=A.y;return K.createElement(Fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,isActive:S,easing:w},K.createElement("path",Rw({},qt(r,!0),{className:C,d:wU(O,I,P,k,g),ref:n})))}):K.createElement("path",Rw({},qt(r,!0),{className:C,d:wU(c,u,f,p,g)}))};function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}var uI=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Ht("recharts-dot",s);return r===+r&&n===+n&&i===+i?x.createElement("circle",pk({},qt(t,!1),rw(t),{className:o,cx:r,cy:n,r:i})):null};function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}var oFe=["x","y","top","left","width","height","className"];function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mk.apply(this,arguments)}function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){cFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cFe(e,t,r){return t=uFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uFe(e){var t=dFe(e,"string");return Dv(t)=="symbol"?t:t+""}function dFe(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fFe(e,t){if(e==null)return{};var r=hFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pFe=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},mFe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,p=f===void 0?0:f,g=t.height,v=g===void 0?0:g,w=t.className,y=fFe(t,oFe),_=lFe({x:n,y:s,top:l,left:u,width:p,height:v},y);return!et(n)||!et(s)||!et(p)||!et(v)||!et(l)||!et(u)?null:K.createElement("path",mk({},qt(_,!0),{className:Ht("recharts-cross",w),d:pFe(n,s,p,v,l,u)}))},n2,jU;function gFe(){if(jU)return n2;jU=1;var e=VQ(),t=e(Object.getPrototypeOf,Object);return n2=t,n2}var i2,SU;function vFe(){if(SU)return i2;SU=1;var e=Wl(),t=gFe(),r=Hl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||e(f)!=n)return!1;var p=t(f);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return i2=u,i2}var yFe=vFe();const xFe=fr(yFe);var s2,NU;function bFe(){if(NU)return s2;NU=1;var e=Wl(),t=Hl(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return s2=n,s2}var wFe=bFe();const _Fe=fr(wFe);function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function jFe(e,t){return EFe(e)||CFe(e,t)||NFe(e,t)||SFe()}function SFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NFe(e,t){if(e){if(typeof e=="string")return CU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CU(e,t)}}function CU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EFe(e){if(Array.isArray(e))return e}function EU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(r),!0).forEach(function(n){PFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PFe(e,t,r){return t=TFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=AFe(e,"string");return $v(t)=="symbol"?t:t+""}function AFe(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TU=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},kFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OFe=function(t){var r=PU(PU({},kFe),t),n=x.useRef(),i=x.useState(-1),s=jFe(i,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,w=r.animationEasing,y=r.animationDuration,_=r.animationBegin,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var N=Ht("recharts-trapezoid",v);return S?K.createElement(Fo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:p,height:g,x:c,y:u},duration:y,animationEasing:w,isActive:S},function(C){var A=C.upperWidth,P=C.lowerWidth,k=C.height,O=C.x,I=C.y;return K.createElement(Fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,easing:w},K.createElement("path",Mw({},qt(r,!0),{className:N,d:TU(O,I,A,P,k),ref:n})))}):K.createElement("g",null,K.createElement("path",Mw({},qt(r,!0),{className:N,d:TU(c,u,f,p,g)})))},RFe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function MFe(e,t){if(e==null)return{};var r=IFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(r),!0).forEach(function(n){LFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LFe(e,t,r){return t=DFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DFe(e){var t=$Fe(e,"string");return Fv(t)=="symbol"?t:t+""}function $Fe(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FFe(e,t){return Iw(Iw({},t),e)}function BFe(e,t){return e==="symbols"}function kU(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return K.createElement(cI,r);case"trapezoid":return K.createElement(OFe,r);case"sector":return K.createElement(gee,r);case"symbols":if(BFe(t))return K.createElement(PM,r);break;default:return null}}function zFe(e){return x.isValidElement(e)?e.props:e}function See(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?FFe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=MFe(e,RFe),u;if(x.isValidElement(t))u=x.cloneElement(t,Iw(Iw({},c),zFe(t)));else if(Rt(t))u=t(c);else if(xFe(t)&&!_Fe(t)){var f=i(t,c);u=K.createElement(kU,{shapeType:r,elementProps:f})}else{var p=c;u=K.createElement(kU,{shapeType:r,elementProps:p})}return l?K.createElement(Lr,{className:o},u):u}function x1(e,t){return t!=null&&"trapezoids"in e.props}function b1(e,t){return t!=null&&"sectors"in e.props}function Bv(e,t){return t!=null&&"points"in e.props}function qFe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function UFe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function VFe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function WFe(e,t){var r;return x1(e,t)?r=qFe:b1(e,t)?r=UFe:Bv(e,t)&&(r=VFe),r}function HFe(e,t){var r;return x1(e,t)?r="trapezoids":b1(e,t)?r="sectors":Bv(e,t)&&(r="points"),r}function KFe(e,t){if(x1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(b1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Bv(e,t)?t.payload:{}}function GFe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=HFe(r,t),s=KFe(r,t),o=n.filter(function(c,u){var f=$y(s,c),p=r.props[i].filter(function(w){var y=WFe(r,t);return y(w,t)}),g=r.props[i].indexOf(p[p.length-1]),v=u===g;return f&&v}),l=n.indexOf(o[o.length-1]);return l}var ub;function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(this,arguments)}function OU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(r),!0).forEach(function(n){ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cee(n.key),n)}}function YFe(e,t,r){return t&&RU(e.prototype,t),r&&RU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XFe(e,t,r){return t=Lw(t),QFe(e,Nee()?Reflect.construct(t,r||[],Lw(e).constructor):t.apply(e,r))}function QFe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JFe(e)}function JFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nee=function(){return!!e})()}function Lw(e){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(e)}function e3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gk(e,t)}function ia(e,t,r){return t=Cee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cee(e){var t=t3e(e,"string");return sp(t)=="symbol"?t:t+""}function t3e(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bl=function(e){function t(r){var n;return ZFe(this,t),n=XFe(this,t,[r]),ia(n,"pieRef",null),ia(n,"sectorRefs",[]),ia(n,"id",Vp("recharts-pie-")),ia(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Rt(i)&&i()}),ia(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Rt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return e3e(t,e),YFe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,f=qt(this.props,!1),p=qt(o,!1),g=qt(l,!1),v=o&&o.offsetRadius||20,w=n.map(function(y,_){var S=(y.startAngle+y.endAngle)/2,N=_n(y.cx,y.cy,y.outerRadius+v,S),C=Mr(Mr(Mr(Mr({},f),y),{},{stroke:"none"},p),{},{index:_,textAnchor:t.getTextAnchor(N.x,y.cx)},N),A=Mr(Mr(Mr(Mr({},f),y),{},{fill:"none",stroke:y.fill},g),{},{index:_,points:[_n(y.cx,y.cy,y.outerRadius,S),N]}),P=c;return Mt(c)&&Mt(u)?P="value":Mt(c)&&(P=u),K.createElement(Lr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(_)},l&&t.renderLabelLineItem(l,A,"line"),t.renderLabelItem(o,C,In(y,P)))});return K.createElement(Lr,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var p=i.isActiveIndex(f),g=c&&i.hasActiveIndex()?c:null,v=p?o:g,w=Mr(Mr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return K.createElement(Lr,wh({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},cv(i.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),K.createElement(See,wh({option:v,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state,g=p.prevSectors,v=p.prevIsAnimationActive;return K.createElement(Fo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var y=w.t,_=[],S=s&&s[0],N=S.startAngle;return s.forEach(function(C,A){var P=g&&g[A],k=A>0?As(C,"paddingAngle",0):0;if(P){var O=Ns(P.endAngle-P.startAngle,C.endAngle-C.startAngle),I=Mr(Mr({},C),{},{startAngle:N+k,endAngle:N+O(y)+k});_.push(I),N=I.endAngle}else{var z=C.endAngle,Y=C.startAngle,Z=Ns(0,z-Y),V=Z(y),q=Mr(Mr({},C),{},{startAngle:N+k,endAngle:N+V+k});_.push(q),N=q.endAngle}}),K.createElement(Lr,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!$y(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,f=i.cy,p=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(s||!o||!o.length||!et(u)||!et(f)||!et(p)||!et(g))return null;var y=Ht("recharts-pie",l);return K.createElement(Lr,{tabIndex:this.props.rootTabIndex,className:y,ref:function(S){n.pieRef=S}},this.renderSectors(),c&&this.renderLabels(o),ni.renderCallByParent(this.props,null,!1),(!v||w)&&kl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(K.isValidElement(n))return K.cloneElement(n,i);if(Rt(n))return n(i);var o=Ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(Tw,wh({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(K.isValidElement(n))return K.cloneElement(n,i);var o=s;if(Rt(n)&&(o=n(i),K.isValidElement(o)))return o;var l=Ht("recharts-pie-label-text",typeof n!="boolean"&&!Rt(n)?n.className:"");return K.createElement(yv,wh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);ub=Bl;ia(Bl,"displayName","Pie");ia(Bl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ia(Bl,"parseDeltaAngle",function(e,t){var r=Mi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ia(Bl,"getRealPieData",function(e){var t=e.data,r=e.children,n=qt(e,!1),i=ks(r,mv);return t&&t.length?t.map(function(s,o){return Mr(Mr(Mr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Mr(Mr({},n),s.props)}):[]});ia(Bl,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=bDe(i,s),l=n+Fa(e.cx,i,i/2),c=r+Fa(e.cy,s,s/2),u=Fa(e.innerRadius,o,0),f=Fa(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}});ia(Bl,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Mr(Mr({},t.type.defaultProps),t.props):t.props,i=ub.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,p=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),w=ub.parseCoordinateOfPie(n,r),y=ub.parseDeltaAngle(o,l),_=Math.abs(y),S=u;Mt(u)&&Mt(p)?(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Mt(u)&&(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var N=i.filter(function(I){return In(I,S,0)!==0}).length,C=(_>=360?N:N-1)*c,A=_-N*v-C,P=i.reduce(function(I,z){var Y=In(z,S,0);return I+(et(Y)?Y:0)},0),k;if(P>0){var O;k=i.map(function(I,z){var Y=In(I,S,0),Z=In(I,f,z),V=(et(Y)?Y:0)/P,q;z?q=O.endAngle+Mi(y)*c*(Y!==0?1:0):q=o;var U=q+Mi(y)*((Y!==0?v:0)+V*A),re=(q+U)/2,ae=(w.innerRadius+w.outerRadius)/2,se=[{name:Z,value:Y,payload:I,dataKey:S,type:g}],X=_n(w.cx,w.cy,ae,re);return O=Mr(Mr(Mr({percent:V,cornerRadius:s,name:Z,tooltipPayload:se,midAngle:re,middleRadius:ae,tooltipPosition:X},I),w),{},{value:In(I,S),startAngle:q,endAngle:U,payload:I,paddingAngle:Mi(y)*c}),O})}return Mr(Mr({},w),{},{sectors:k,data:i})});var a2,MU;function r3e(){if(MU)return a2;MU=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var l=-1,c=t(e((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return a2=r,a2}var o2,IU;function Eee(){if(IU)return o2;IU=1;var e=aJ(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return o2=n,o2}var l2,LU;function n3e(){if(LU)return l2;LU=1;var e=r3e(),t=l1(),r=Eee();function n(i){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,i)}}return l2=n,l2}var c2,DU;function i3e(){if(DU)return c2;DU=1;var e=n3e(),t=e();return c2=t,c2}var s3e=i3e();const Dw=fr(s3e);function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function $U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$U(Object(r),!0).forEach(function(n){Pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pee(e,t,r){return t=a3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3e(e){var t=o3e(e,"string");return zv(t)=="symbol"?t:t+""}function o3e(e,t){if(zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l3e=["Webkit","Moz","O","ms"],c3e=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=l3e.reduce(function(s,o){return FU(FU({},s),{},Pee({},o+n,r))},{});return i[t]=r,i};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function BU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BU(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aee(n.key),n)}}function d3e(e,t,r){return t&&zU(e.prototype,t),r&&zU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f3e(e,t,r){return t=Fw(t),h3e(e,Tee()?Reflect.construct(t,r||[],Fw(e).constructor):t.apply(e,r))}function h3e(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p3e(e)}function p3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tee=function(){return!!e})()}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(e)}function m3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vk(e,t)}function vk(e,t){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vk(e,t)}function xs(e,t,r){return t=Aee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aee(e){var t=g3e(e,"string");return ap(t)=="symbol"?t:t+""}function g3e(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v3e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Dg().domain(Dw(0,c)).range([s,s+o-l]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},qU=function(t){return t.changedTouches&&!!t.changedTouches.length},op=function(e){function t(r){var n;return u3e(this,t),n=f3e(this,t,[r]),xs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),xs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xs(n,"handleSlideDragStart",function(i){var s=qU(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return m3e(t,e),d3e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,p=Math.min(i,s),g=Math.max(i,s),v=t.getIndexInRange(o,p),w=t.getIndexInRange(o,g);return{startIndex:v-v%c,endIndex:w===f?f:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=In(s[n],l,n);return Rt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,p=c.travellerWidth,g=c.startIndex,v=c.endIndex,w=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+f-p-l,u+f-p-o):y<0&&(y=Math.max(y,u-o,u-l));var _=this.getIndex({startX:o+y,endX:l+y});(_.startIndex!==g||_.endIndex!==v)&&w&&w(_),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=qU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,p=f.x,g=f.width,v=f.travellerWidth,w=f.onChange,y=f.gap,_=f.data,S={startX:this.state.startX,endX:this.state.endX},N=n.pageX-s;N>0?N=Math.min(N,p+g-v-u):N<0&&(N=Math.max(N,p-u)),S[o]=u+N;var C=this.getIndex(S),A=C.startIndex,P=C.endIndex,k=function(){var I=_.length-1;return o==="startX"&&(l>c?A%y===0:P%y===0)||l<c&&P===I||o==="endX"&&(l>c?P%y===0:A%y===0)||l>c&&P===I};this.setState(xs(xs({},o,u+N),"brushMoveStartX",n.pageX),function(){w&&k()&&w(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],p=l.indexOf(f);if(p!==-1){var g=p+n;if(!(g===-1||g>=l.length)){var v=l[g];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(xs({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,p=x.Children.only(u);return p?K.cloneElement(p,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,p=c.height,g=c.traveller,v=c.ariaLabel,w=c.data,y=c.startIndex,_=c.endIndex,S=Math.max(n,this.props.x),N=u2(u2({},qt(this.props,!1)),{},{x:S,y:u,width:f,height:p}),C=v||"Min value: ".concat((s=w[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=w[_])===null||o===void 0?void 0:o.name);return K.createElement(Lr,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,g=f.endX,v=5,w={pointerEvents:"none",fill:u};return K.createElement(Lr,{className:"recharts-brush-texts"},K.createElement(yv,$w({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:o+l/2},w),this.getTextOfTick(i)),K.createElement(yv,$w({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+v,y:o+l/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,w=g.endX,y=g.isTextActive,_=g.isSlideMoving,S=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!et(l)||!et(c)||!et(u)||!et(f)||u<=0||f<=0)return null;var C=Ht("recharts-brush",s),A=K.Children.count(o)===1,P=c3e("userSelect","none");return K.createElement(Lr,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(y||_||S||N||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,i):Rt(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return u2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?v3e({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(x.PureComponent);xs(op,"displayName","Brush");xs(op,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var d2,UU;function y3e(){if(UU)return d2;UU=1;var e=IM();function t(r,n){var i;return e(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return d2=t,d2}var f2,VU;function x3e(){if(VU)return f2;VU=1;var e=DQ(),t=bu(),r=y3e(),n=ns(),i=l1();function s(o,l,c){var u=n(o)?e:r;return c&&i(o,l,c)&&(l=void 0),u(o,t(l,3))}return f2=s,f2}var b3e=x3e();const w3e=fr(b3e);var ko=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},h2,WU;function _3e(){if(WU)return h2;WU=1;var e=tJ();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return h2=t,h2}var p2,HU;function j3e(){if(HU)return p2;HU=1;var e=_3e(),t=JQ(),r=bu();function n(i,s){var o={};return s=r(s,3),t(i,function(l,c,u){e(o,c,s(l,c,u))}),o}return p2=n,p2}var S3e=j3e();const N3e=fr(S3e);var m2,KU;function C3e(){if(KU)return m2;KU=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return m2=e,m2}var g2,GU;function E3e(){if(GU)return g2;GU=1;var e=IM();function t(r,n){var i=!0;return e(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return g2=t,g2}var v2,ZU;function P3e(){if(ZU)return v2;ZU=1;var e=C3e(),t=E3e(),r=bu(),n=ns(),i=l1();function s(o,l,c){var u=n(o)?e:t;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return v2=s,v2}var T3e=P3e();const kee=fr(T3e);var A3e=["x","y"];function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yk.apply(this,arguments)}function YU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(r),!0).forEach(function(n){k3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k3e(e,t,r){return t=O3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O3e(e){var t=R3e(e,"string");return qv(t)=="symbol"?t:t+""}function R3e(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M3e(e,t){if(e==null)return{};var r=I3e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L3e(e,t){var r=e.x,n=e.y,i=M3e(e,A3e),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),p="".concat(t.width||i.width),g=parseInt(p,10);return cg(cg(cg(cg(cg({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function XU(e){return K.createElement(See,yk({shapeType:"rectangle",propTransformer:L3e,activeClassName:"recharts-active-bar"},e))}var D3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=et(n)||B2e(n);return s?t(n,i):(s||$d(),r)}},$3e=["value","background"],Oee;function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function F3e(e,t){if(e==null)return{};var r=B3e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function QU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QU(Object(r),!0).forEach(function(n){Zc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mee(n.key),n)}}function q3e(e,t,r){return t&&JU(e.prototype,t),r&&JU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U3e(e,t,r){return t=zw(t),V3e(e,Ree()?Reflect.construct(t,r||[],zw(e).constructor):t.apply(e,r))}function V3e(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W3e(e)}function W3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ree(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ree=function(){return!!e})()}function zw(e){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(e)}function H3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xk(e,t)}function Zc(e,t,r){return t=Mee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=K3e(e,"string");return lp(t)=="symbol"?t:t+""}function K3e(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hu=function(e){function t(){var r;z3e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=U3e(this,t,[].concat(i)),Zc(r,"state",{isAnimationFinished:!1}),Zc(r,"id",Vp("recharts-bar-")),Zc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Zc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return H3e(t,e),q3e(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=qt(this.props,!1);return n&&n.map(function(p,g){var v=g===c,w=v?u:o,y=yn(yn(yn({},f),p),{},{isActive:v,option:w,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(Lr,Bw({className:"recharts-bar-rectangle"},cv(i.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),K.createElement(XU,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state.prevData;return K.createElement(Fo,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,y=s.map(function(_,S){var N=g&&g[S];if(N){var C=Ns(N.x,_.x),A=Ns(N.y,_.y),P=Ns(N.width,_.width),k=Ns(N.height,_.height);return yn(yn({},_),{},{x:C(w),y:A(w),width:P(w),height:k(w)})}if(o==="horizontal"){var O=Ns(0,_.height),I=O(w);return yn(yn({},_),{},{y:_.y+_.height-I,height:I})}var z=Ns(0,_.width),Y=z(w);return yn(yn({},_),{},{width:Y})});return K.createElement(Lr,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!$y(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=qt(this.props.background,!1);return s.map(function(u,f){u.value;var p=u.background,g=F3e(u,$3e);if(!p)return null;var v=yn(yn(yn(yn(yn({},g),{},{fill:"#eee"},p),c),cv(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return K.createElement(XU,Bw({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=ks(f,Fy);if(!p)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,v=function(_,S){var N=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:N,errorVal:In(_,S)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Lr,w,p.map(function(y){return K.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,g=n.height,v=n.isAnimationActive,w=n.background,y=n.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,S=Ht("recharts-bar",o),N=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,A=N||C,P=Mt(y)?this.id:y;return K.createElement(Lr,{className:S},N||C?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(P)},K.createElement("rect",{x:N?u:u-p/2,y:C?f:f-g/2,width:N?p:p*2,height:C?g:g*2}))):null,K.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(P,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,P),(!v||_)&&kl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);Oee=hu;Zc(hu,"displayName","Bar");Zc(hu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zc(hu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,p=e.displayedData,g=e.offset,v=sDe(n,r);if(!v)return null;var w=t.layout,y=r.type.defaultProps,_=y!==void 0?yn(yn({},y),r.props):r.props,S=_.dataKey,N=_.children,C=_.minPointSize,A=w==="horizontal"?o:s,P=u?A.scale.domain():null,k=hDe({numericAxis:A}),O=ks(N,mv),I=p.map(function(z,Y){var Z,V,q,U,re,ae;u?Z=aDe(u[f+Y],P):(Z=In(z,S),Array.isArray(Z)||(Z=[k,Z]));var se=D3e(C,Oee.defaultProps.minPointSize)(Z[1],Y);if(w==="horizontal"){var X,Q=[o.scale(Z[0]),o.scale(Z[1])],te=Q[0],G=Q[1];V=Mq({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:z,index:Y}),q=(X=G??te)!==null&&X!==void 0?X:void 0,U=v.size;var ie=te-G;if(re=Number.isNaN(ie)?0:ie,ae={x:V,y:o.y,width:U,height:o.height},Math.abs(se)>0&&Math.abs(re)<Math.abs(se)){var xe=Mi(re||se)*(Math.abs(se)-Math.abs(re));q-=xe,re+=xe}}else{var Ne=[s.scale(Z[0]),s.scale(Z[1])],Le=Ne[0],ce=Ne[1];if(V=Le,q=Mq({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:z,index:Y}),U=ce-Le,re=v.size,ae={x:s.x,y:q,width:s.width,height:re},Math.abs(se)>0&&Math.abs(U)<Math.abs(se)){var oe=Mi(U||se)*(Math.abs(se)-Math.abs(U));U+=oe}}return yn(yn(yn({},z),{},{x:V,y:q,width:U,height:re,value:u?Z:Z[1],payload:z,background:ae},O&&O[Y]&&O[Y].props),{},{tooltipPayload:[hee(r,z)],tooltipPosition:{x:V+U/2,y:q+re/2}})});return yn({data:I,layout:w},g)});function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function G3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iee(n.key),n)}}function Z3e(e,t,r){return t&&e8(e.prototype,t),r&&e8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(n){w1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w1(e,t,r){return t=Iee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iee(e){var t=Y3e(e,"string");return Uv(t)=="symbol"?t:t+""}function Y3e(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X3e=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!bs(u,hu);return f.reduce(function(v,w){var y=r[w],_=y.orientation,S=y.domain,N=y.padding,C=N===void 0?{}:N,A=y.mirror,P=y.reversed,k="".concat(_).concat(A?"Mirror":""),O,I,z,Y,Z;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var V=S[1]-S[0],q=1/0,U=y.categoricalDomain.sort(U2e);if(U.forEach(function(Ne,Le){Le>0&&(q=Math.min((Ne||0)-(U[Le-1]||0),q))}),Number.isFinite(q)){var re=q/V,ae=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(O=re*ae/2),y.padding==="no-gap"){var se=Fa(t.barCategoryGap,re*ae),X=re*ae/2;O=X-se-(X-se)/ae*se}}}i==="xAxis"?I=[n.left+(C.left||0)+(O||0),n.left+n.width-(C.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(O||0),n.top+n.height-(C.bottom||0)-(O||0)]:I=y.range,P&&(I=[I[1],I[0]]);var Q=nDe(y,s,g),te=Q.scale,G=Q.realScaleType;te.domain(S).range(I),iDe(te);var ie=fDe(te,ka(ka({},y),{},{realScaleType:G}));i==="xAxis"?(Z=_==="top"&&!A||_==="bottom"&&A,z=n.left,Y=p[k]-Z*y.height):i==="yAxis"&&(Z=_==="left"&&!A||_==="right"&&A,z=p[k]-Z*y.width,Y=n.top);var xe=ka(ka(ka({},y),ie),{},{realScaleType:G,x:z,y:Y,scale:te,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return xe.bandSize=Cw(xe,ie),!y.hide&&i==="xAxis"?p[k]+=(Z?-1:1)*xe.height:y.hide||(p[k]+=(Z?-1:1)*xe.width),ka(ka({},v),{},w1({},w,xe))},{})},Lee=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Q3e=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return Lee({x:r,y:n},{x:i,y:s})},Dee=function(){function e(t){G3e(this,e),this.scale=t}return Z3e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();w1(Dee,"EPS",1e-4);var dI=function(t){var r=Object.keys(t).reduce(function(n,i){return ka(ka({},n),{},w1({},i,Dee.create(t[i])))},{});return ka(ka({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return N3e(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return kee(i,function(s,o){return r[o].isInRange(s)})}})};function J3e(e){return(e%180+180)%180}var eBe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=J3e(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},y2,r8;function tBe(){if(r8)return y2;r8=1;var e=bu(),t=Ry(),r=a1();function n(i){return function(s,o,l){var c=Object(s);if(!t(s)){var u=e(o,3);s=r(s),o=function(p){return u(c[p],p,c)}}var f=i(s,o,l);return f>-1?c[u?s[f]:f]:void 0}}return y2=n,y2}var x2,n8;function rBe(){if(n8)return x2;n8=1;var e=Eee();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return x2=t,x2}var b2,i8;function nBe(){if(i8)return b2;i8=1;var e=GQ(),t=bu(),r=rBe(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(s,t(o,3),u)}return b2=i,b2}var w2,s8;function iBe(){if(s8)return w2;s8=1;var e=tBe(),t=nBe(),r=e(t);return w2=r,w2}var sBe=iBe();const aBe=fr(sBe);var oBe=uQ();const lBe=fr(oBe);var cBe=lBe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fI=x.createContext(void 0),hI=x.createContext(void 0),$ee=x.createContext(void 0),Fee=x.createContext({}),Bee=x.createContext(void 0),zee=x.createContext(0),qee=x.createContext(0),a8=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=cBe(s);return K.createElement(fI.Provider,{value:n},K.createElement(hI.Provider,{value:i},K.createElement(Fee.Provider,{value:s},K.createElement($ee.Provider,{value:f},K.createElement(Bee.Provider,{value:o},K.createElement(zee.Provider,{value:u},K.createElement(qee.Provider,{value:c},l)))))))},uBe=function(){return x.useContext(Bee)},Uee=function(t){var r=x.useContext(fI);r==null&&$d();var n=r[t];return n==null&&$d(),n},dBe=function(){var t=x.useContext(fI);return Hc(t)},fBe=function(){var t=x.useContext(hI),r=aBe(t,function(n){return kee(n.domain,Number.isFinite)});return r||Hc(t)},Vee=function(t){var r=x.useContext(hI);r==null&&$d();var n=r[t];return n==null&&$d(),n},hBe=function(){var t=x.useContext($ee);return t},pBe=function(){return x.useContext(Fee)},pI=function(){return x.useContext(qee)},mI=function(){return x.useContext(zee)};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function mBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hee(n.key),n)}}function vBe(e,t,r){return t&&gBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yBe(e,t,r){return t=qw(t),xBe(e,Wee()?Reflect.construct(t,r||[],qw(e).constructor):t.apply(e,r))}function xBe(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bBe(e)}function bBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wee=function(){return!!e})()}function qw(e){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(e)}function wBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bk(e,t)}function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(n){gI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gI(e,t,r){return t=Hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=_Be(e,"string");return cp(t)=="symbol"?t:t+""}function _Be(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jBe(e,t){return EBe(e)||CBe(e,t)||NBe(e,t)||SBe()}function SBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NBe(e,t){if(e){if(typeof e=="string")return c8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c8(e,t)}}function c8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EBe(e){if(Array.isArray(e))return e}function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}var PBe=function(t,r){var n;return K.isValidElement(t)?n=K.cloneElement(t,r):Rt(t)?n=t(r):n=K.createElement("line",wk({},r,{className:"recharts-reference-line-line"})),n},TBe=function(t,r,n,i,s,o,l,c,u){var f=s.x,p=s.y,g=s.width,v=s.height;if(n){var w=u.y,y=t.y.apply(w,{position:o});if(ko(u,"discard")&&!t.y.isInRange(y))return null;var _=[{x:f+g,y},{x:f,y}];return c==="left"?_.reverse():_}if(r){var S=u.x,N=t.x.apply(S,{position:o});if(ko(u,"discard")&&!t.x.isInRange(N))return null;var C=[{x:N,y:p+v},{x:N,y:p}];return l==="top"?C.reverse():C}if(i){var A=u.segment,P=A.map(function(k){return t.apply(k,{position:o})});return ko(u,"discard")&&w3e(P,function(k){return!t.isInRange(k)})?null:P}return null};function ABe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=uBe(),f=Uee(i),p=Vee(s),g=hBe();if(!u||!g)return null;qa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=dI({x:f.scale,y:p.scale}),w=Ln(t),y=Ln(r),_=n&&n.length===2,S=TBe(v,w,y,_,g,e.position,f.orientation,p.orientation,e);if(!S)return null;var N=jBe(S,2),C=N[0],A=C.x,P=C.y,k=N[1],O=k.x,I=k.y,z=ko(e,"hidden")?"url(#".concat(u,")"):void 0,Y=l8(l8({clipPath:z},qt(e,!0)),{},{x1:A,y1:P,x2:O,y2:I});return K.createElement(Lr,{className:Ht("recharts-reference-line",l)},PBe(o,Y),ni.renderCallByParent(e,Q3e({x1:A,y1:P,x2:O,y2:I})))}var vI=function(e){function t(){return mBe(this,t),yBe(this,t,arguments)}return wBe(t,e),vBe(t,[{key:"render",value:function(){return K.createElement(ABe,this.props)}}])}(K.Component);gI(vI,"displayName","ReferenceLine");gI(vI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_k.apply(this,arguments)}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(n){_1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gee(n.key),n)}}function RBe(e,t,r){return t&&OBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MBe(e,t,r){return t=Uw(t),IBe(e,Kee()?Reflect.construct(t,r||[],Uw(e).constructor):t.apply(e,r))}function IBe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LBe(e)}function LBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kee=function(){return!!e})()}function Uw(e){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(e)}function DBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jk(e,t)}function _1(e,t,r){return t=Gee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gee(e){var t=$Be(e,"string");return up(t)=="symbol"?t:t+""}function $Be(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FBe=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=dI({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ko(t,"discard")&&!o.isInRange(l)?null:l},j1=function(e){function t(){return kBe(this,t),MBe(this,t,arguments)}return DBe(t,e),RBe(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ln(i),f=Ln(s);if(qa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=FBe(this.props);if(!p)return null;var g=p.x,v=p.y,w=this.props,y=w.shape,_=w.className,S=ko(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=d8(d8({clipPath:S},qt(this.props,!0)),{},{cx:g,cy:v});return K.createElement(Lr,{className:Ht("recharts-reference-dot",_)},t.renderDot(y,N),ni.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])}(K.Component);_1(j1,"displayName","ReferenceDot");_1(j1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_1(j1,"renderDot",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Rt(e)?r=e(t):r=K.createElement(uI,_k({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sk.apply(this,arguments)}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function f8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(r),!0).forEach(function(n){S1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yee(n.key),n)}}function qBe(e,t,r){return t&&zBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UBe(e,t,r){return t=Vw(t),VBe(e,Zee()?Reflect.construct(t,r||[],Vw(e).constructor):t.apply(e,r))}function VBe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WBe(e)}function WBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zee=function(){return!!e})()}function Vw(e){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(e)}function HBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}function Nk(e,t){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nk(e,t)}function S1(e,t,r){return t=Yee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=KBe(e,"string");return dp(t)=="symbol"?t:t+""}function KBe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GBe=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var g=dI({x:f.scale,y:p.scale}),v={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return ko(s,"discard")&&(!g.isInRange(v)||!g.isInRange(w))?null:Lee(v,w)},N1=function(e){function t(){return BBe(this,t),UBe(this,t,arguments)}return HBe(t,e),qBe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;qa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ln(i),g=Ln(s),v=Ln(o),w=Ln(l),y=this.props.shape;if(!p&&!g&&!v&&!w&&!y)return null;var _=GBe(p,g,v,w,this.props);if(!_&&!y)return null;var S=ko(this.props,"hidden")?"url(#".concat(f,")"):void 0;return K.createElement(Lr,{className:Ht("recharts-reference-area",c)},t.renderRect(y,h8(h8({clipPath:S},qt(this.props,!0)),_)),ni.renderCallByParent(this.props,_))}}])}(K.Component);S1(N1,"displayName","ReferenceArea");S1(N1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});S1(N1,"renderRect",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Rt(e)?r=e(t):r=K.createElement(cI,Sk({},t,{className:"recharts-reference-area-rect"})),r});function Xee(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function ZBe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return eBe(n,r)}function YBe(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Ww(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function XBe(e,t){return Xee(e,t+1)}function QBe(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,p=function(){var w=n?.[c];if(w===void 0)return{v:Xee(n,u)};var y=c,_,S=function(){return _===void 0&&(_=r(w,y)),_},N=w.coordinate,C=c===0||Ww(e,N,S,f,l);C||(c=0,f=o,u+=1),C&&(f=N+e*(S()/2+i),c+=u)},g;u<=s.length;)if(g=p(),g)return g.v;return[]}function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(n){JBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JBe(e,t,r){return t=e5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e5e(e){var t=t5e(e,"string");return Vv(t)=="symbol"?t:t+""}function t5e(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r5e(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(g){var v=s[g],w,y=function(){return w===void 0&&(w=r(v,g)),w};if(g===o-1){var _=e*(v.coordinate+e*y()/2-c);s[g]=v=yi(yi({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate})}else s[g]=v=yi(yi({},v),{},{tickCoord:v.coordinate});var S=Ww(e,v.tickCoord,y,l,c);S&&(c=v.tickCoord-e*(y()/2+i),s[g]=yi(yi({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function n5e(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var f=n[l-1],p=r(f,l-1),g=e*(f.coordinate+e*p/2-u);o[l-1]=f=yi(yi({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var v=Ww(e,f.tickCoord,function(){return p},c,u);v&&(u=f.tickCoord-e*(p/2+i),o[l-1]=yi(yi({},f),{},{isShow:!0}))}for(var w=s?l-1:l,y=function(N){var C=o[N],A,P=function(){return A===void 0&&(A=r(C,N)),A};if(N===0){var k=e*(C.coordinate-e*P()/2-c);o[N]=C=yi(yi({},C),{},{tickCoord:k<0?C.coordinate-k*e:C.coordinate})}else o[N]=C=yi(yi({},C),{},{tickCoord:C.coordinate});var O=Ww(e,C.tickCoord,P,c,u);O&&(c=C.tickCoord+e*(P()/2+i),o[N]=yi(yi({},C),{},{isShow:!0}))},_=0;_<w;_++)y(_);return o}function yI(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(et(c)||Qd.isSsr)return XBe(i,typeof c=="number"&&et(c)?c:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",w=f&&v==="width"?Lg(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(C,A){var P=Rt(u)?u(C.value,A):C.value;return v==="width"?ZBe(Lg(P,{fontSize:t,letterSpacing:r}),w,p):Lg(P,{fontSize:t,letterSpacing:r})[v]},_=i.length>=2?Mi(i[1].coordinate-i[0].coordinate):1,S=YBe(s,_,v);return c==="equidistantPreserveStart"?QBe(_,S,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=n5e(_,S,y,i,o,c==="preserveStartEnd"):g=r5e(_,S,y,i,o),g.filter(function(N){return N.isShow}))}var i5e=["viewBox"],s5e=["viewBox"],a5e=["ticks"];function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(this,arguments)}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){xI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _2(e,t){if(e==null)return{};var r=o5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jee(n.key),n)}}function c5e(e,t,r){return t&&g8(e.prototype,t),r&&g8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u5e(e,t,r){return t=Hw(t),d5e(e,Qee()?Reflect.construct(t,r||[],Hw(e).constructor):t.apply(e,r))}function d5e(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f5e(e)}function f5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qee=function(){return!!e})()}function Hw(e){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(e)}function h5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ck(e,t)}function xI(e,t,r){return t=Jee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jee(e){var t=p5e(e,"string");return fp(t)=="symbol"?t:t+""}function p5e(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zp=function(e){function t(r){var n;return l5e(this,t),n=u5e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return h5e(t,e),c5e(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=_2(n,i5e),l=this.props,c=l.viewBox,u=_2(l,s5e);return!Ah(s,c)||!Ah(o,u)||!Ah(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,p=i.mirror,g=i.tickMargin,v,w,y,_,S,N,C=p?-1:1,A=n.tickSize||f,P=et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=w=n.coordinate,_=o+ +!p*c,y=_-C*A,N=y-C*g,S=P;break;case"left":y=_=n.coordinate,w=s+ +!p*l,v=w-C*A,S=v-C*g,N=P;break;case"right":y=_=n.coordinate,w=s+ +p*l,v=w+C*A,S=v+C*g,N=P;break;default:v=w=n.coordinate,_=o+ +p*c,y=_+C*A,N=y+C*g,S=P;break}return{line:{x1:v,y1:y,x2:w,y2:_},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,p=An(An(An({},qt(this.props,!1)),qt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);p=An(An({},p),{},{x1:i,y1:s+g*l,x2:i+o,y2:s+g*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);p=An(An({},p),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return K.createElement("line",_h({},p,{className:Ht("recharts-cartesian-axis-line",As(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,p=l.tickFormatter,g=l.unit,v=yI(An(An({},this.props),{},{ticks:n}),i,s),w=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),_=qt(this.props,!1),S=qt(f,!1),N=An(An({},_),{},{fill:"none"},qt(c,!1)),C=v.map(function(A,P){var k=o.getTickLineCoord(A),O=k.line,I=k.tick,z=An(An(An(An({textAnchor:w,verticalAnchor:y},_),{},{stroke:"none",fill:u},S),I),{},{index:P,payload:A,visibleTicksCount:v.length,tickFormatter:p});return K.createElement(Lr,_h({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},cv(o.props,A,P)),c&&K.createElement("line",_h({},N,O,{className:Ht("recharts-cartesian-axis-tick-line",As(c,"className"))})),f&&t.renderTickItem(f,z,"".concat(Rt(p)?p(A.value,P):A.value).concat(g||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var p=this.props,g=p.ticks,v=_2(p,a5e),w=g;return Rt(c)&&(w=g&&g.length>0?c(this.props):c(v)),o<=0||l<=0||!w||!w.length?null:K.createElement(Lr,{className:Ht("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),ni.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Ht(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?o=K.cloneElement(n,An(An({},i),{},{className:l})):Rt(n)?o=n(An(An({},i),{},{className:l})):o=K.createElement(yv,_h({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);xI(Zp,"displayName","CartesianAxis");xI(Zp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var m5e=["x1","y1","x2","y2","key"],g5e=["offset"];function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){v5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v5e(e,t,r){return t=y5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y5e(e){var t=x5e(e,"string");return Fd(t)=="symbol"?t:t+""}function x5e(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function y8(e,t){if(e==null)return{};var r=b5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var w5e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return K.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ete(e,t){var r;if(K.isValidElement(e))r=K.cloneElement(e,t);else if(Rt(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=y8(t,m5e),u=qt(c,!1);u.offset;var f=y8(u,g5e);r=K.createElement("line",vd({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function _5e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=xi(xi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return ete(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function j5e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=xi(xi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return ete(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function S5e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var w=!f[v+1],y=w?i+o-g:f[v+1]-g;if(y<=0)return null;var _=v%t.length;return K.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:y,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function N5e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var w=!f[v+1],y=w?s+l-g:f[v+1]-g;if(y<=0)return null;var _=v%n.length;return K.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:y,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var C5e=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return dee(yI(xi(xi(xi({},Zp.defaultProps),n),{},{ticks:bl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},E5e=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return dee(yI(xi(xi(xi({},Zp.defaultProps),n),{},{ticks:bl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},lh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ek(e){var t,r,n,i,s,o,l=pI(),c=mI(),u=pBe(),f=xi(xi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:lh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:lh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:lh.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:lh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:lh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:lh.verticalFill,x:et(e.x)?e.x:u.left,y:et(e.y)?e.y:u.top,width:et(e.width)?e.width:u.width,height:et(e.height)?e.height:u.height}),p=f.x,g=f.y,v=f.width,w=f.height,y=f.syncWithTicks,_=f.horizontalValues,S=f.verticalValues,N=dBe(),C=fBe();if(!et(v)||v<=0||!et(w)||w<=0||!et(p)||p!==+p||!et(g)||g!==+g)return null;var A=f.verticalCoordinatesGenerator||C5e,P=f.horizontalCoordinatesGenerator||E5e,k=f.horizontalPoints,O=f.verticalPoints;if((!k||!k.length)&&Rt(P)){var I=_&&_.length,z=P({yAxis:C?xi(xi({},C),{},{ticks:I?_:C.ticks}):void 0,width:l,height:c,offset:u},I?!0:y);qa(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fd(z),"]")),Array.isArray(z)&&(k=z)}if((!O||!O.length)&&Rt(A)){var Y=S&&S.length,Z=A({xAxis:N?xi(xi({},N),{},{ticks:Y?S:N.ticks}):void 0,width:l,height:c,offset:u},Y?!0:y);qa(Array.isArray(Z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fd(Z),"]")),Array.isArray(Z)&&(O=Z)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(w5e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),K.createElement(_5e,vd({},f,{offset:u,horizontalPoints:k,xAxis:N,yAxis:C})),K.createElement(j5e,vd({},f,{offset:u,verticalPoints:O,xAxis:N,yAxis:C})),K.createElement(S5e,vd({},f,{horizontalPoints:k})),K.createElement(N5e,vd({},f,{verticalPoints:O})))}Ek.displayName="CartesianGrid";var P5e=["type","layout","connectNulls","ref"],T5e=["key"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function x8(e,t){if(e==null)return{};var r=A5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(n){Oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ch(e){return M5e(e)||R5e(e)||O5e(e)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5e(e,t){if(e){if(typeof e=="string")return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}}function R5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M5e(e){if(Array.isArray(e))return Pk(e)}function Pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rte(n.key),n)}}function L5e(e,t,r){return t&&w8(e.prototype,t),r&&w8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D5e(e,t,r){return t=Kw(t),$5e(e,tte()?Reflect.construct(t,r||[],Kw(e).constructor):t.apply(e,r))}function $5e(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F5e(e)}function F5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tte=function(){return!!e})()}function Kw(e){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kw(e)}function B5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tk(e,t)}function Tk(e,t){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tk(e,t)}function Oa(e,t,r){return t=rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=z5e(e,"string");return hp(t)=="symbol"?t:t+""}function z5e(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wv=function(e){function t(){var r;I5e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=D5e(this,t,[].concat(i)),Oa(r,"state",{isAnimationFinished:!0,totalLength:0}),Oa(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Oa(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(S,N){return S+N});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),p=o%u,g=l-o,v=[],w=0,y=0;w<c.length;y+=c[w],++w)if(y+c[w]>p){v=[].concat(ch(c.slice(0,w)),[p-y]);break}var _=v.length%2===0?[0,g]:[g];return[].concat(ch(t.repeat(c,f)),ch(v),_).map(function(S){return"".concat(S,"px")}).join(", ")}),Oa(r,"id",Vp("recharts-line-")),Oa(r,"pathRef",function(o){r.mainCurve=o}),Oa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Oa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return B5e(t,e),L5e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=ks(f,Fy);if(!p)return null;var g=function(y,_){return{x:y.x,y:y.y,value:y.value,errorVal:In(y.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Lr,v,p.map(function(w){return K.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,p=qt(this.props,!1),g=qt(c,!0),v=u.map(function(y,_){var S=ys(ys(ys({key:"dot-".concat(_),r:3},p),g),{},{index:_,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return t.renderDotItem(c,S)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return K.createElement(Lr,Bg({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var p=x8(l,P5e),g=ys(ys(ys({},qt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return K.createElement(Tw,Bg({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,v=o.animationId,w=o.animateNewValues,y=o.width,_=o.height,S=this.state,N=S.prevPoints,C=S.totalLength;return K.createElement(Fo,{begin:f,duration:p,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var P=A.t;if(N){var k=N.length/l.length,O=l.map(function(V,q){var U=Math.floor(q*k);if(N[U]){var re=N[U],ae=Ns(re.x,V.x),se=Ns(re.y,V.y);return ys(ys({},V),{},{x:ae(P),y:se(P)})}if(w){var X=Ns(y*2,V.x),Q=Ns(_/2,V.y);return ys(ys({},V),{},{x:X(P),y:Q(P)})}return ys(ys({},V),{},{x:V.x,y:V.y})});return s.renderCurveStatically(O,n,i)}var I=Ns(0,C),z=I(P),Y;if(c){var Z="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});Y=s.getStrokeDasharray(z,C,Z)}else Y=s.generateSimpleStrokeDasharray(C,z);return s.renderCurveStatically(l,n,i,{strokeDasharray:Y})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!$y(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,f=i.yAxis,p=i.top,g=i.left,v=i.width,w=i.height,y=i.isAnimationActive,_=i.id;if(s||!l||!l.length)return null;var S=this.state.isAnimationFinished,N=l.length===1,C=Ht("recharts-line",c),A=u&&u.allowDataOverflow,P=f&&f.allowDataOverflow,k=A||P,O=Mt(_)?this.id:_,I=(n=qt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},z=I.r,Y=z===void 0?3:z,Z=I.strokeWidth,V=Z===void 0?2:Z,q=Q2e(o)?o:{},U=q.clipDot,re=U===void 0?!0:U,ae=Y*2+V;return K.createElement(Lr,{className:C},A||P?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(O)},K.createElement("rect",{x:A?g:g-v/2,y:P?p:p-w/2,width:A?v:v*2,height:P?w:w*2})),!re&&K.createElement("clipPath",{id:"clipPath-dots-".concat(O)},K.createElement("rect",{x:g-ae/2,y:p-ae/2,width:v+ae,height:w+ae}))):null,!N&&this.renderCurve(k,O),this.renderErrorBar(k,O),(N||o)&&this.renderDots(k,re,O),(!y||S)&&kl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(ch(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(ch(o),ch(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(K.isValidElement(n))s=K.cloneElement(n,i);else if(Rt(n))s=n(i);else{var o=i.key,l=x8(i,T5e),c=Ht("recharts-line-dot",typeof n!="boolean"?n.className:"");s=K.createElement(uI,Bg({key:o},l,{className:c}))}return s}}])}(x.PureComponent);Oa(Wv,"displayName","Line");Oa(Wv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Oa(Wv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,p=c.map(function(g,v){var w=In(g,o);return f==="horizontal"?{x:Rq({axis:r,ticks:i,bandSize:l,entry:g,index:v}),y:Mt(w)?null:n.scale(w),value:w,payload:g}:{x:Mt(w)?null:r.scale(w),y:Rq({axis:n,ticks:s,bandSize:l,entry:g,index:v}),value:w,payload:g}});return ys({points:p,layout:f},u)});function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function q5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ste(n.key),n)}}function V5e(e,t,r){return t&&U5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W5e(e,t,r){return t=Gw(t),H5e(e,nte()?Reflect.construct(t,r||[],Gw(e).constructor):t.apply(e,r))}function H5e(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K5e(e)}function K5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nte=function(){return!!e})()}function Gw(e){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(e)}function G5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ak(e,t)}function Ak(e,t){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ak(e,t)}function ite(e,t,r){return t=ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ste(e){var t=Z5e(e,"string");return pp(t)=="symbol"?t:t+""}function Z5e(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function Y5e(e){var t=e.xAxisId,r=pI(),n=mI(),i=Uee(t);return i==null?null:x.createElement(Zp,kk({},i,{className:Ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return bl(o,!0)}}))}var Hv=function(e){function t(){return q5e(this,t),W5e(this,t,arguments)}return G5e(t,e),V5e(t,[{key:"render",value:function(){return x.createElement(Y5e,this.props)}}])}(x.Component);ite(Hv,"displayName","XAxis");ite(Hv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function X5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lte(n.key),n)}}function J5e(e,t,r){return t&&Q5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e6e(e,t,r){return t=Zw(t),t6e(e,ate()?Reflect.construct(t,r||[],Zw(e).constructor):t.apply(e,r))}function t6e(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r6e(e)}function r6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ate(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ate=function(){return!!e})()}function Zw(e){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(e)}function n6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ok(e,t)}function ote(e,t,r){return t=lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lte(e){var t=i6e(e,"string");return mp(t)=="symbol"?t:t+""}function i6e(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rk.apply(this,arguments)}var s6e=function(t){var r=t.yAxisId,n=pI(),i=mI(),s=Vee(r);return s==null?null:x.createElement(Zp,Rk({},s,{className:Ht("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return bl(l,!0)}}))},Kv=function(e){function t(){return X5e(this,t),e6e(this,t,arguments)}return n6e(t,e),J5e(t,[{key:"render",value:function(){return x.createElement(s6e,this.props)}}])}(x.Component);ote(Kv,"displayName","YAxis");ote(Kv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _8(e){return c6e(e)||l6e(e)||o6e(e)||a6e()}function a6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function l6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c6e(e){if(Array.isArray(e))return Mk(e)}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ik=function(t,r,n,i,s){var o=ks(t,vI),l=ks(t,j1),c=[].concat(_8(o),_8(l)),u=ks(t,N1),f="".concat(i,"Id"),p=i[0],g=r;if(c.length&&(g=c.reduce(function(y,_){if(_.props[f]===n&&ko(_.props,"extendDomain")&&et(_.props[p])){var S=_.props[p];return[Math.min(y[0],S),Math.max(y[1],S)]}return y},g)),u.length){var v="".concat(p,"1"),w="".concat(p,"2");g=u.reduce(function(y,_){if(_.props[f]===n&&ko(_.props,"extendDomain")&&et(_.props[v])&&et(_.props[w])){var S=_.props[v],N=_.props[w];return[Math.min(y[0],S,N),Math.max(y[1],S,N)]}return y},g)}return s&&s.length&&(g=s.reduce(function(y,_){return et(_)?[Math.min(y[0],_),Math.max(y[1],_)]:y},g)),g},j2={exports:{}},j8;function u6e(){return j8||(j8=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,g),w=r?r+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)t.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,w=new Array(v);g<v;g++)w[g]=p[g].fn;return w},l.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,f,p,g,v,w){var y=r?r+u:u;if(!this._events[y])return!1;var _=this._events[y],S=arguments.length,N,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,g),!0;case 5:return _.fn.call(_.context,f,p,g,v),!0;case 6:return _.fn.call(_.context,f,p,g,v,w),!0}for(C=1,N=new Array(S-1);C<S;C++)N[C-1]=arguments[C];_.fn.apply(_.context,N)}else{var A=_.length,P;for(C=0;C<A;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),S){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,p);break;case 4:_[C].fn.call(_[C].context,f,p,g);break;default:if(!N)for(P=1,N=new Array(S-1);P<S;P++)N[P-1]=arguments[P];_[C].fn.apply(_[C].context,N)}}return!0},l.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},l.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},l.prototype.removeListener=function(u,f,p,g){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!g||w.once)&&(!p||w.context===p)&&o(this,v);else{for(var y=0,_=[],S=w.length;y<S;y++)(w[y].fn!==f||g&&!w[y].once||p&&w[y].context!==p)&&_.push(w[y]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(j2)),j2.exports}var d6e=u6e();const f6e=fr(d6e);var S2=new f6e,N2="recharts.syncMouseEvents";function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function h6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cte(n.key),n)}}function m6e(e,t,r){return t&&p6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C2(e,t,r){return t=cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=g6e(e,"string");return Gv(t)=="symbol"?t:t+""}function g6e(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v6e=function(){function e(){h6e(this,e),C2(this,"activeIndex",0),C2(this,"coordinateList",[]),C2(this,"layout","horizontal")}return m6e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])}();function y6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&et(n)&&et(i))return!0}return!1}function x6e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ute(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=_n(t,r,n,i),l=_n(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function b6e(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,p=t.angle,g=_n(l,c,u,p),v=_n(l,c,f,p);n=g.x,i=g.y,s=v.x,o=v.y}else return ute(t);return[{x:n,y:i},{x:s,y:o}]}function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){w6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w6e(e,t,r){return t=_6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _6e(e){var t=j6e(e,"string");return Zv(t)=="symbol"?t:t+""}function j6e(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S6e(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,g=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var w,y=Tw;if(g==="ScatterChart")w=o,y=mFe;else if(g==="BarChart")w=x6e(p,o,c,f),y=cI;else if(p==="radial"){var _=ute(o),S=_.cx,N=_.cy,C=_.radius,A=_.startAngle,P=_.endAngle;w={cx:S,cy:N,startAngle:A,endAngle:P,innerRadius:C,outerRadius:C},y=gee}else w={points:b6e(p,o,c)},y=Tw;var k=G0(G0(G0(G0({stroke:"#ccc",pointerEvents:"none"},c),w),qt(v,!1)),{},{payload:l,payloadIndex:u,className:Ht("recharts-tooltip-cursor",v.className)});return x.isValidElement(v)?x.cloneElement(v,k):x.createElement(y,k)}var N6e=["item"],C6e=["children","className","width","height","style","compact","title","desc"];function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function N8(e,t){return T6e(e)||P6e(e,t)||fte(e,t)||E6e()}function E6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function T6e(e){if(Array.isArray(e))return e}function C8(e,t){if(e==null)return{};var r=A6e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hte(n.key),n)}}function R6e(e,t,r){return t&&O6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M6e(e,t,r){return t=Yw(t),I6e(e,dte()?Reflect.construct(t,r||[],Yw(e).constructor):t.apply(e,r))}function I6e(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6e(e)}function L6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!e})()}function Yw(e){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yw(e)}function D6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lk(e,t)}function vp(e){return B6e(e)||F6e(e)||fte(e)||$6e()}function $6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(e,t){if(e){if(typeof e=="string")return Dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(e,t)}}function F6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B6e(e){if(Array.isArray(e))return Dk(e)}function Dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _t(e,t,r){return t=hte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hte(e){var t=z6e(e,"string");return gp(t)=="symbol"?t:t+""}function z6e(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q6e={xAxis:["bottom","top"],yAxis:["left","right"]},U6e={width:"100%",height:"100%"},pte={x:0,y:0};function Z0(e){return e}var V6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},W6e=function(t,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return Fe(Fe(Fe({},i),_n(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Fe(Fe(Fe({},i),_n(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return pte},C1=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(vp(l),vp(u)):l},[]);return o.length>0?o:t&&t.length&&et(i)&&et(s)?t.slice(i,s+1):[]};function mte(e){return e==="number"?[0,"auto"]:void 0}var $k=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=C1(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?l:p;g=tw(v,o.dataKey,i)}else g=p&&p[n]||l[n];return g?[].concat(vp(c),[hee(u,g)]):c},[])},P8=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=V6e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=XLe(o,l,u,c);if(f>=0&&u){var p=u[f]&&u[f].value,g=$k(t,r,f,p),v=W6e(n,l,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},H6e=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=t.stackOffset,v=uee(f,s);return n.reduce(function(w,y){var _,S=y.type.defaultProps!==void 0?Fe(Fe({},y.type.defaultProps),y.props):y.props,N=S.type,C=S.dataKey,A=S.allowDataOverflow,P=S.allowDuplicatedCategory,k=S.scale,O=S.ticks,I=S.includeHidden,z=S[o];if(w[z])return w;var Y=C1(t.data,{graphicalItems:i.filter(function(ie){var xe,Ne=o in ie.props?ie.props[o]:(xe=ie.type.defaultProps)===null||xe===void 0?void 0:xe[o];return Ne===z}),dataStartIndex:c,dataEndIndex:u}),Z=Y.length,V,q,U;y6e(S.domain,A,N)&&(V=ek(S.domain,null,A),v&&(N==="number"||k!=="auto")&&(U=$g(Y,C,"category")));var re=mte(N);if(!V||V.length===0){var ae,se=(ae=S.domain)!==null&&ae!==void 0?ae:re;if(C){if(V=$g(Y,C,N),N==="category"&&v){var X=q2e(V);P&&X?(q=V,V=Dw(0,Z)):P||(V=Dq(se,V,y).reduce(function(ie,xe){return ie.indexOf(xe)>=0?ie:[].concat(vp(ie),[xe])},[]))}else if(N==="category")P?V=V.filter(function(ie){return ie!==""&&!Mt(ie)}):V=Dq(se,V,y).reduce(function(ie,xe){return ie.indexOf(xe)>=0||xe===""||Mt(xe)?ie:[].concat(vp(ie),[xe])},[]);else if(N==="number"){var Q=rDe(Y,i.filter(function(ie){var xe,Ne,Le=o in ie.props?ie.props[o]:(xe=ie.type.defaultProps)===null||xe===void 0?void 0:xe[o],ce="hide"in ie.props?ie.props.hide:(Ne=ie.type.defaultProps)===null||Ne===void 0?void 0:Ne.hide;return Le===z&&(I||!ce)}),C,s,f);Q&&(V=Q)}v&&(N==="number"||k!=="auto")&&(U=$g(Y,C,"category"))}else v?V=Dw(0,Z):l&&l[z]&&l[z].hasStack&&N==="number"?V=g==="expand"?[0,1]:fee(l[z].stackGroups,c,u):V=cee(Y,i.filter(function(ie){var xe=o in ie.props?ie.props[o]:ie.type.defaultProps[o],Ne="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return xe===z&&(I||!Ne)}),N,f,!0);if(N==="number")V=Ik(p,V,z,s,O),se&&(V=ek(se,V,A));else if(N==="category"&&se){var te=se,G=V.every(function(ie){return te.indexOf(ie)>=0});G&&(V=te)}}return Fe(Fe({},w),{},_t({},z,Fe(Fe({},S),{},{axisType:s,domain:V,categoricalDomain:U,duplicateDomain:q,originalDomain:(_=S.domain)!==null&&_!==void 0?_:re,isCategorical:v,layout:f})))},{})},K6e=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=C1(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=g.length,w=uee(f,s),y=-1;return n.reduce(function(_,S){var N=S.type.defaultProps!==void 0?Fe(Fe({},S.type.defaultProps),S.props):S.props,C=N[o],A=mte("number");if(!_[C]){y++;var P;return w?P=Dw(0,v):l&&l[C]&&l[C].hasStack?(P=fee(l[C].stackGroups,c,u),P=Ik(p,P,C,s)):(P=ek(A,cee(g,n.filter(function(k){var O,I,z=o in k.props?k.props[o]:(O=k.type.defaultProps)===null||O===void 0?void 0:O[o],Y="hide"in k.props?k.props.hide:(I=k.type.defaultProps)===null||I===void 0?void 0:I.hide;return z===C&&!Y}),"number",f),i.defaultProps.allowDataOverflow),P=Ik(p,P,C,s)),Fe(Fe({},_),{},_t({},C,Fe(Fe({axisType:s},i.defaultProps),{},{hide:!0,orientation:As(q6e,"".concat(s,".").concat(y%2),null),domain:P,originalDomain:A,isCategorical:w,layout:f})))}return _},{})},G6e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,p="".concat(i,"Id"),g=ks(f,s),v={};return g&&g.length?v=H6e(t,{axes:g,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=K6e(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},Z6e=function(t){var r=Hc(t),n=bl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:LM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Cw(r,n)}},T8=function(t){var r=t.children,n=t.defaultShowTooltip,i=bs(r,op),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Y6e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Tl(r&&r.type);return n&&n.indexOf("Bar")>=0})},A8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},X6e=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,p=n.children,g=n.margin||{},v=bs(p,op),w=bs(p,ru),y=Object.keys(c).reduce(function(P,k){var O=c[k],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},P),{},_t({},I,P[I]+O.width)):P},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(P,k){var O=o[k],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},P),{},_t({},I,As(P,"".concat(I))+O.height)):P},{top:g.top||0,bottom:g.bottom||0}),S=Fe(Fe({},_),y),N=S.bottom;v&&(S.bottom+=v.props.height||op.defaultProps.height),w&&r&&(S=eDe(S,i,n,r));var C=u-S.left-S.right,A=f-S.top-S.bottom;return Fe(Fe({brushBottom:N},S),{},{width:Math.max(C,0),height:Math.max(A,0)})},Q6e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},J6e=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,p=t.defaultProps,g=function(S,N){var C=N.graphicalItems,A=N.stackGroups,P=N.offset,k=N.updateId,O=N.dataStartIndex,I=N.dataEndIndex,z=S.barSize,Y=S.layout,Z=S.barGap,V=S.barCategoryGap,q=S.maxBarSize,U=A8(Y),re=U.numericAxisName,ae=U.cateAxisName,se=Y6e(C),X=[];return C.forEach(function(Q,te){var G=C1(S.data,{graphicalItems:[Q],dataStartIndex:O,dataEndIndex:I}),ie=Q.type.defaultProps!==void 0?Fe(Fe({},Q.type.defaultProps),Q.props):Q.props,xe=ie.dataKey,Ne=ie.maxBarSize,Le=ie["".concat(re,"Id")],ce=ie["".concat(ae,"Id")],oe={},ge=c.reduce(function(_e,ke){var Ze=N["".concat(ke.axisType,"Map")],Xe=ie["".concat(ke.axisType,"Id")];Ze&&Ze[Xe]||ke.axisType==="zAxis"||$d();var me=Ze[Xe];return Fe(Fe({},_e),{},_t(_t({},ke.axisType,me),"".concat(ke.axisType,"Ticks"),bl(me)))},oe),he=ge[ae],Pe=ge["".concat(ae,"Ticks")],J=A&&A[Le]&&A[Le].hasStack&&pDe(Q,A[Le].stackGroups),H=Tl(Q.type).indexOf("Bar")>=0,we=Cw(he,Pe),be=[],Ve=se&&QLe({barSize:z,stackGroups:A,totalSize:Q6e(ge,ae)});if(H){var qe,Se,ot=Mt(Ne)?q:Ne,It=(qe=(Se=Cw(he,Pe,!0))!==null&&Se!==void 0?Se:ot)!==null&&qe!==void 0?qe:0;be=JLe({barGap:Z,barCategoryGap:V,bandSize:It!==we?It:we,sizeList:Ve[ce],maxBarSize:ot}),It!==we&&(be=be.map(function(_e){return Fe(Fe({},_e),{},{position:Fe(Fe({},_e.position),{},{offset:_e.position.offset-It/2})})}))}var fe=Q&&Q.type&&Q.type.getComposedData;fe&&X.push({props:Fe(Fe({},fe(Fe(Fe({},ge),{},{displayedData:G,props:S,dataKey:xe,item:Q,bandSize:we,barPosition:be,offset:P,stackedData:J,layout:Y,dataStartIndex:O,dataEndIndex:I}))),{},_t(_t(_t({key:Q.key||"item-".concat(te)},re,ge[re]),ae,ge[ae]),"animationId",k)),childIndex:tTe(Q,S.children),item:Q})}),X},v=function(S,N){var C=S.props,A=S.dataStartIndex,P=S.dataEndIndex,k=S.updateId;if(!XB({props:C}))return null;var O=C.children,I=C.layout,z=C.stackOffset,Y=C.data,Z=C.reverseStackOrder,V=A8(I),q=V.numericAxisName,U=V.cateAxisName,re=ks(O,n),ae=dDe(Y,re,"".concat(q,"Id"),"".concat(U,"Id"),z,Z),se=c.reduce(function(ie,xe){var Ne="".concat(xe.axisType,"Map");return Fe(Fe({},ie),{},_t({},Ne,G6e(C,Fe(Fe({},xe),{},{graphicalItems:re,stackGroups:xe.axisType===q&&ae,dataStartIndex:A,dataEndIndex:P}))))},{}),X=X6e(Fe(Fe({},se),{},{props:C,graphicalItems:re}),N?.legendBBox);Object.keys(se).forEach(function(ie){se[ie]=f(C,se[ie],X,ie.replace("Map",""),r)});var Q=se["".concat(U,"Map")],te=Z6e(Q),G=g(C,Fe(Fe({},se),{},{dataStartIndex:A,dataEndIndex:P,updateId:k,graphicalItems:re,stackGroups:ae,offset:X}));return Fe(Fe({formattedGraphicalItems:G,graphicalItems:re,offset:X,stackGroups:ae},te),se)},w=function(_){function S(N){var C,A,P;return k6e(this,S),P=M6e(this,S,[N]),_t(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_t(P,"accessibilityManager",new v6e),_t(P,"handleLegendBBoxUpdate",function(k){if(k){var O=P.state,I=O.dataStartIndex,z=O.dataEndIndex,Y=O.updateId;P.setState(Fe({legendBBox:k},v({props:P.props,dataStartIndex:I,dataEndIndex:z,updateId:Y},Fe(Fe({},P.state),{},{legendBBox:k}))))}}),_t(P,"handleReceiveSyncEvent",function(k,O,I){if(P.props.syncId===k){if(I===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(O)}}),_t(P,"handleBrushChange",function(k){var O=k.startIndex,I=k.endIndex;if(O!==P.state.dataStartIndex||I!==P.state.dataEndIndex){var z=P.state.updateId;P.setState(function(){return Fe({dataStartIndex:O,dataEndIndex:I},v({props:P.props,dataStartIndex:O,dataEndIndex:I,updateId:z},P.state))}),P.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),_t(P,"handleMouseEnter",function(k){var O=P.getMouseInfo(k);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});P.setState(I),P.triggerSyncEvent(I);var z=P.props.onMouseEnter;Rt(z)&&z(I,k)}}),_t(P,"triggeredAfterMouseMove",function(k){var O=P.getMouseInfo(k),I=O?Fe(Fe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(I),P.triggerSyncEvent(I);var z=P.props.onMouseMove;Rt(z)&&z(I,k)}),_t(P,"handleItemMouseEnter",function(k){P.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),_t(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),_t(P,"handleMouseMove",function(k){k.persist(),P.throttleTriggeredAfterMouseMove(k)}),_t(P,"handleMouseLeave",function(k){P.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var I=P.props.onMouseLeave;Rt(I)&&I(O,k)}),_t(P,"handleOuterEvent",function(k){var O=eTe(k),I=As(P.props,"".concat(O));if(O&&Rt(I)){var z,Y;/.*touch.*/i.test(O)?Y=P.getMouseInfo(k.changedTouches[0]):Y=P.getMouseInfo(k),I((z=Y)!==null&&z!==void 0?z:{},k)}}),_t(P,"handleClick",function(k){var O=P.getMouseInfo(k);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});P.setState(I),P.triggerSyncEvent(I);var z=P.props.onClick;Rt(z)&&z(I,k)}}),_t(P,"handleMouseDown",function(k){var O=P.props.onMouseDown;if(Rt(O)){var I=P.getMouseInfo(k);O(I,k)}}),_t(P,"handleMouseUp",function(k){var O=P.props.onMouseUp;if(Rt(O)){var I=P.getMouseInfo(k);O(I,k)}}),_t(P,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),_t(P,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseDown(k.changedTouches[0])}),_t(P,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseUp(k.changedTouches[0])}),_t(P,"handleDoubleClick",function(k){var O=P.props.onDoubleClick;if(Rt(O)){var I=P.getMouseInfo(k);O(I,k)}}),_t(P,"handleContextMenu",function(k){var O=P.props.onContextMenu;if(Rt(O)){var I=P.getMouseInfo(k);O(I,k)}}),_t(P,"triggerSyncEvent",function(k){P.props.syncId!==void 0&&S2.emit(N2,P.props.syncId,k,P.eventEmitterSymbol)}),_t(P,"applySyncEvent",function(k){var O=P.props,I=O.layout,z=O.syncMethod,Y=P.state.updateId,Z=k.dataStartIndex,V=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)P.setState(Fe({dataStartIndex:Z,dataEndIndex:V},v({props:P.props,dataStartIndex:Z,dataEndIndex:V,updateId:Y},P.state)));else if(k.activeTooltipIndex!==void 0){var q=k.chartX,U=k.chartY,re=k.activeTooltipIndex,ae=P.state,se=ae.offset,X=ae.tooltipTicks;if(!se)return;if(typeof z=="function")re=z(X,k);else if(z==="value"){re=-1;for(var Q=0;Q<X.length;Q++)if(X[Q].value===k.activeLabel){re=Q;break}}var te=Fe(Fe({},se),{},{x:se.left,y:se.top}),G=Math.min(q,te.x+te.width),ie=Math.min(U,te.y+te.height),xe=X[re]&&X[re].value,Ne=$k(P.state,P.props.data,re),Le=X[re]?{x:I==="horizontal"?X[re].coordinate:G,y:I==="horizontal"?ie:X[re].coordinate}:pte;P.setState(Fe(Fe({},k),{},{activeLabel:xe,activeCoordinate:Le,activePayload:Ne,activeTooltipIndex:re}))}else P.setState(k)}),_t(P,"renderCursor",function(k){var O,I=P.state,z=I.isTooltipActive,Y=I.activeCoordinate,Z=I.activePayload,V=I.offset,q=I.activeTooltipIndex,U=I.tooltipAxisBandSize,re=P.getTooltipEventType(),ae=(O=k.props.active)!==null&&O!==void 0?O:z,se=P.props.layout,X=k.key||"_recharts-cursor";return K.createElement(S6e,{key:X,activeCoordinate:Y,activePayload:Z,activeTooltipIndex:q,chartName:r,element:k,isActive:ae,layout:se,offset:V,tooltipAxisBandSize:U,tooltipEventType:re})}),_t(P,"renderPolarAxis",function(k,O,I){var z=As(k,"type.axisType"),Y=As(P.state,"".concat(z,"Map")),Z=k.type.defaultProps,V=Z!==void 0?Fe(Fe({},Z),k.props):k.props,q=Y&&Y[V["".concat(z,"Id")]];return x.cloneElement(k,Fe(Fe({},q),{},{className:Ht(z,q.className),key:k.key||"".concat(O,"-").concat(I),ticks:bl(q,!0)}))}),_t(P,"renderPolarGrid",function(k){var O=k.props,I=O.radialLines,z=O.polarAngles,Y=O.polarRadius,Z=P.state,V=Z.radiusAxisMap,q=Z.angleAxisMap,U=Hc(V),re=Hc(q),ae=re.cx,se=re.cy,X=re.innerRadius,Q=re.outerRadius;return x.cloneElement(k,{polarAngles:Array.isArray(z)?z:bl(re,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(Y)?Y:bl(U,!0).map(function(te){return te.coordinate}),cx:ae,cy:se,innerRadius:X,outerRadius:Q,key:k.key||"polar-grid",radialLines:I})}),_t(P,"renderLegend",function(){var k=P.state.formattedGraphicalItems,O=P.props,I=O.children,z=O.width,Y=O.height,Z=P.props.margin||{},V=z-(Z.left||0)-(Z.right||0),q=oee({children:I,formattedGraphicalItems:k,legendWidth:V,legendContent:u});if(!q)return null;var U=q.item,re=C8(q,N6e);return x.cloneElement(U,Fe(Fe({},re),{},{chartWidth:z,chartHeight:Y,margin:Z,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),_t(P,"renderTooltip",function(){var k,O=P.props,I=O.children,z=O.accessibilityLayer,Y=bs(I,_s);if(!Y)return null;var Z=P.state,V=Z.isTooltipActive,q=Z.activeCoordinate,U=Z.activePayload,re=Z.activeLabel,ae=Z.offset,se=(k=Y.props.active)!==null&&k!==void 0?k:V;return x.cloneElement(Y,{viewBox:Fe(Fe({},ae),{},{x:ae.left,y:ae.top}),active:se,label:re,payload:se?U:[],coordinate:q,accessibilityLayer:z})}),_t(P,"renderBrush",function(k){var O=P.props,I=O.margin,z=O.data,Y=P.state,Z=Y.offset,V=Y.dataStartIndex,q=Y.dataEndIndex,U=Y.updateId;return x.cloneElement(k,{key:k.key||"_recharts-brush",onChange:V0(P.handleBrushChange,k.props.onChange),data:z,x:et(k.props.x)?k.props.x:Z.left,y:et(k.props.y)?k.props.y:Z.top+Z.height+Z.brushBottom-(I.bottom||0),width:et(k.props.width)?k.props.width:Z.width,startIndex:V,endIndex:q,updateId:"brush-".concat(U)})}),_t(P,"renderReferenceElement",function(k,O,I){if(!k)return null;var z=P,Y=z.clipPathId,Z=P.state,V=Z.xAxisMap,q=Z.yAxisMap,U=Z.offset,re=k.type.defaultProps||{},ae=k.props,se=ae.xAxisId,X=se===void 0?re.xAxisId:se,Q=ae.yAxisId,te=Q===void 0?re.yAxisId:Q;return x.cloneElement(k,{key:k.key||"".concat(O,"-").concat(I),xAxis:V[X],yAxis:q[te],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:Y})}),_t(P,"renderActivePoints",function(k){var O=k.item,I=k.activePoint,z=k.basePoint,Y=k.childIndex,Z=k.isRange,V=[],q=O.props.key,U=O.item.type.defaultProps!==void 0?Fe(Fe({},O.item.type.defaultProps),O.item.props):O.item.props,re=U.activeDot,ae=U.dataKey,se=Fe(Fe({index:Y,dataKey:ae,cx:I.x,cy:I.y,r:4,fill:lI(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},qt(re,!1)),rw(re));return V.push(S.renderActiveDot(re,se,"".concat(q,"-activePoint-").concat(Y))),z?V.push(S.renderActiveDot(re,Fe(Fe({},se),{},{cx:z.x,cy:z.y}),"".concat(q,"-basePoint-").concat(Y))):Z&&V.push(null),V}),_t(P,"renderGraphicChild",function(k,O,I){var z=P.filterFormatItem(k,O,I);if(!z)return null;var Y=P.getTooltipEventType(),Z=P.state,V=Z.isTooltipActive,q=Z.tooltipAxis,U=Z.activeTooltipIndex,re=Z.activeLabel,ae=P.props.children,se=bs(ae,_s),X=z.props,Q=X.points,te=X.isRange,G=X.baseLine,ie=z.item.type.defaultProps!==void 0?Fe(Fe({},z.item.type.defaultProps),z.item.props):z.item.props,xe=ie.activeDot,Ne=ie.hide,Le=ie.activeBar,ce=ie.activeShape,oe=!!(!Ne&&V&&se&&(xe||Le||ce)),ge={};Y!=="axis"&&se&&se.props.trigger==="click"?ge={onClick:V0(P.handleItemMouseEnter,k.props.onClick)}:Y!=="axis"&&(ge={onMouseLeave:V0(P.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:V0(P.handleItemMouseEnter,k.props.onMouseEnter)});var he=x.cloneElement(k,Fe(Fe({},z.props),ge));function Pe(ke){return typeof q.dataKey=="function"?q.dataKey(ke.payload):null}if(oe)if(U>=0){var J,H;if(q.dataKey&&!q.allowDuplicatedCategory){var we=typeof q.dataKey=="function"?Pe:"payload.".concat(q.dataKey.toString());J=tw(Q,we,re),H=te&&G&&tw(G,we,re)}else J=Q?.[U],H=te&&G&&G[U];if(ce||Le){var be=k.props.activeIndex!==void 0?k.props.activeIndex:U;return[x.cloneElement(k,Fe(Fe(Fe({},z.props),ge),{},{activeIndex:be})),null,null]}if(!Mt(J))return[he].concat(vp(P.renderActivePoints({item:z,activePoint:J,basePoint:H,childIndex:U,isRange:te})))}else{var Ve,qe=(Ve=P.getItemByXY(P.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:he},Se=qe.graphicalItem,ot=Se.item,It=ot===void 0?k:ot,fe=Se.childIndex,_e=Fe(Fe(Fe({},z.props),ge),{},{activeIndex:fe});return[x.cloneElement(It,_e),null,null]}return te?[he,null,null]:[he,null]}),_t(P,"renderCustomized",function(k,O,I){return x.cloneElement(k,Fe(Fe({key:"recharts-customized-".concat(I)},P.props),P.state))}),_t(P,"renderMap",{CartesianGrid:{handler:Z0,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Z0},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Z0},YAxis:{handler:Z0},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((C=N.id)!==null&&C!==void 0?C:Vp("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=oJ(P.triggeredAfterMouseMove,(A=N.throttleDelay)!==null&&A!==void 0?A:1e3/60),P.state={},P}return D6e(S,_),R6e(S,[{key:"componentDidMount",value:function(){var C,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,A=C.children,P=C.data,k=C.height,O=C.layout,I=bs(A,_s);if(I){var z=I.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var Y=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,Z=$k(this.state,P,z,Y),V=this.state.tooltipTicks[z].coordinate,q=(this.state.offset.top+k)/2,U=O==="horizontal",re=U?{x:V,y:q}:{y:V,x:q},ae=this.state.formattedGraphicalItems.find(function(X){var Q=X.item;return Q.type.name==="Scatter"});ae&&(re=Fe(Fe({},re),ae.props.points[z].tooltipPosition),Z=ae.props.points[z].tooltipPayload);var se={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:Y,activePayload:Z,activeCoordinate:re};this.setState(se),this.renderCursor(I),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var P,k;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(C){_A([bs(C.children,_s)],[bs(this.props.children,_s)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=bs(this.props.children,_s);if(C&&typeof C.props.shared=="boolean"){var A=C.props.shared?"axis":"item";return l.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var A=this.container,P=A.getBoundingClientRect(),k=zOe(P),O={chartX:Math.round(C.pageX-k.left),chartY:Math.round(C.pageY-k.top)},I=P.width/A.offsetWidth||1,z=this.inRange(O.chartX,O.chartY,I);if(!z)return null;var Y=this.state,Z=Y.xAxisMap,V=Y.yAxisMap,q=this.getTooltipEventType(),U=P8(this.state,this.props.data,this.props.layout,z);if(q!=="axis"&&Z&&V){var re=Hc(Z).scale,ae=Hc(V).scale,se=re&&re.invert?re.invert(O.chartX):null,X=ae&&ae.invert?ae.invert(O.chartY):null;return Fe(Fe({},O),{},{xValue:se,yValue:X},U)}return U?Fe(Fe({},O),U):null}},{key:"inRange",value:function(C,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,O=C/P,I=A/P;if(k==="horizontal"||k==="vertical"){var z=this.state.offset,Y=O>=z.left&&O<=z.left+z.width&&I>=z.top&&I<=z.top+z.height;return Y?{x:O,y:I}:null}var Z=this.state,V=Z.angleAxisMap,q=Z.radiusAxisMap;if(V&&q){var U=Hc(V);return Bq({x:O,y:I},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,A=this.getTooltipEventType(),P=bs(C,_s),k={};P&&A==="axis"&&(P.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=rw(this.props,this.handleOuterEvent);return Fe(Fe({},O),k)}},{key:"addListener",value:function(){S2.on(N2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){S2.removeListener(N2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,A,P){for(var k=this.state.formattedGraphicalItems,O=0,I=k.length;O<I;O++){var z=k[O];if(z.item===C||z.props.key===C.key||A===Tl(z.item.type)&&P===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,A=this.state.offset,P=A.left,k=A.top,O=A.height,I=A.width;return K.createElement("defs",null,K.createElement("clipPath",{id:C},K.createElement("rect",{x:P,y:k,height:O,width:I})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(A,P){var k=N8(P,2),O=k[0],I=k[1];return Fe(Fe({},A),{},_t({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(A,P){var k=N8(P,2),O=k[0],I=k[1];return Fe(Fe({},A),{},_t({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(C){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(C){var A=this.state,P=A.formattedGraphicalItems,k=A.activeItem;if(P&&P.length)for(var O=0,I=P.length;O<I;O++){var z=P[O],Y=z.props,Z=z.item,V=Z.type.defaultProps!==void 0?Fe(Fe({},Z.type.defaultProps),Z.props):Z.props,q=Tl(Z.type);if(q==="Bar"){var U=(Y.data||[]).find(function(X){return sFe(C,X)});if(U)return{graphicalItem:z,payload:U}}else if(q==="RadialBar"){var re=(Y.data||[]).find(function(X){return Bq(C,X)});if(re)return{graphicalItem:z,payload:re}}else if(x1(z,k)||b1(z,k)||Bv(z,k)){var ae=GFe({graphicalItem:z,activeTooltipItem:k,itemData:V.data}),se=V.activeIndex===void 0?ae:V.activeIndex;return{graphicalItem:Fe(Fe({},z),{},{childIndex:se}),payload:Bv(z,k)?V.data[ae]:z.props.data[ae]}}}return null}},{key:"render",value:function(){var C=this;if(!XB(this))return null;var A=this.props,P=A.children,k=A.className,O=A.width,I=A.height,z=A.style,Y=A.compact,Z=A.title,V=A.desc,q=C8(A,C6e),U=qt(q,!1);if(Y)return K.createElement(a8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(SA,jh({},U,{width:O,height:I,title:Z,desc:V}),this.renderClipPath(),JB(P,this.renderMap)));if(this.props.accessibilityLayer){var re,ae;U.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,U.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",U.onKeyDown=function(X){C.accessibilityManager.keyboardEvent(X)},U.onFocus=function(){C.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(a8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",jh({className:Ht("recharts-wrapper",k),style:Fe({position:"relative",cursor:"default",width:O,height:I},z)},se,{ref:function(Q){C.container=Q}}),K.createElement(SA,jh({},U,{width:O,height:I,title:Z,desc:V,style:U6e}),this.renderClipPath(),JB(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);_t(w,"displayName",r),_t(w,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),_t(w,"getDerivedStateFromProps",function(_,S){var N=_.dataKey,C=_.data,A=_.children,P=_.width,k=_.height,O=_.layout,I=_.stackOffset,z=_.margin,Y=S.dataStartIndex,Z=S.dataEndIndex;if(S.updateId===void 0){var V=T8(_);return Fe(Fe(Fe({},V),{},{updateId:0},v(Fe(Fe({props:_},V),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:C,prevWidth:P,prevHeight:k,prevLayout:O,prevStackOffset:I,prevMargin:z,prevChildren:A})}if(N!==S.prevDataKey||C!==S.prevData||P!==S.prevWidth||k!==S.prevHeight||O!==S.prevLayout||I!==S.prevStackOffset||!Ah(z,S.prevMargin)){var q=T8(_),U={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},re=Fe(Fe({},P8(S,C,O)),{},{updateId:S.updateId+1}),ae=Fe(Fe(Fe({},q),U),re);return Fe(Fe(Fe({},ae),v(Fe({props:_},ae),S)),{},{prevDataKey:N,prevData:C,prevWidth:P,prevHeight:k,prevLayout:O,prevStackOffset:I,prevMargin:z,prevChildren:A})}if(!_A(A,S.prevChildren)){var se,X,Q,te,G=bs(A,op),ie=G&&(se=(X=G.props)===null||X===void 0?void 0:X.startIndex)!==null&&se!==void 0?se:Y,xe=G&&(Q=(te=G.props)===null||te===void 0?void 0:te.endIndex)!==null&&Q!==void 0?Q:Z,Ne=ie!==Y||xe!==Z,Le=!Mt(C),ce=Le&&!Ne?S.updateId:S.updateId+1;return Fe(Fe({updateId:ce},v(Fe(Fe({props:_},S),{},{updateId:ce,dataStartIndex:ie,dataEndIndex:xe}),S)),{},{prevChildren:A,dataStartIndex:ie,dataEndIndex:xe})}return null}),_t(w,"renderActiveDot",function(_,S,N){var C;return x.isValidElement(_)?C=x.cloneElement(_,S):Rt(_)?C=_(S):C=K.createElement(uI,S),K.createElement(Lr,{className:"recharts-active-dot",key:N},C)});var y=x.forwardRef(function(S,N){return K.createElement(w,jh({},S,{ref:N}))});return y.displayName=w.displayName,y},eze=J6e({chartName:"BarChart",GraphicalChild:hu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hv},{axisType:"yAxis",AxisComp:Kv}],formatAxisMap:X3e});const uh=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function tze(){const[e,t]=x.useState("7days"),[r,n]=x.useMemo(()=>{const P=new Date;switch(e){case"today":return[zr(P,"yyyy-MM-dd"),zr(P,"yyyy-MM-dd")];case"yesterday":const k=Xm(P,1);return[zr(k,"yyyy-MM-dd"),zr(k,"yyyy-MM-dd")];case"7days":return[zr(Xm(P,7),"yyyy-MM-dd"),zr(P,"yyyy-MM-dd")];case"30days":return[zr(Xm(P,30),"yyyy-MM-dd"),zr(P,"yyyy-MM-dd")];case"90days":return[zr(Xm(P,90),"yyyy-MM-dd"),zr(P,"yyyy-MM-dd")];case"thisMonth":return[zr(new Date(P.getFullYear(),P.getMonth(),1),"yyyy-MM-dd"),zr(P,"yyyy-MM-dd")];case"lastMonth":const O=new Date(P.getFullYear(),P.getMonth()-1,1),I=new Date(P.getFullYear(),P.getMonth(),0);return[zr(O,"yyyy-MM-dd"),zr(I,"yyyy-MM-dd")];case"thisYear":return[zr(new Date(P.getFullYear(),0,1),"yyyy-MM-dd"),zr(P,"yyyy-MM-dd")];default:return[zr(Xm(P,7),"yyyy-MM-dd"),zr(P,"yyyy-MM-dd")]}},[e]),{data:i,isLoading:s}=ri({queryKey:["analytics","overview",r,n],queryFn:async()=>{const[P,k]=await Promise.all([Vr.getAllListings(),$a.getAllUsers()]),O=P.length,I=P.filter(V=>V.status==="approved").length,z=P.filter(V=>V.status==="pending").length,Y=k.length,Z=k.filter(V=>V.status==="active").length;return{totalListings:O,approvedListings:I,pendingListings:z,totalUsers:Y,activeUsers:Z,revenue:0,growth:{listings:0,users:0,revenue:0}}}}),{data:o,isLoading:l}=ri({queryKey:["analytics","revenue",r,n],queryFn:async()=>[]}),{data:c,isLoading:u}=ri({queryKey:["analytics","users",r,n],queryFn:async()=>{const k=(await $a.getAllUsers()).reduce((O,I)=>{const z=zr(new Date(I.created_at),"yyyy-MM-dd");return O[z]=(O[z]||0)+1,O},{});return Object.entries(k).map(([O,I])=>({date:O,users:I}))}}),{data:f,isLoading:p}=ri({queryKey:["analytics","top-products",r,n],queryFn:async()=>[]}),{data:g,isLoading:v}=ri({queryKey:["analytics","traffic",r,n],queryFn:async()=>({})}),{data:w,isLoading:y}=ri({queryKey:["analytics","categories",r,n],queryFn:async()=>({})}),_=x.useMemo(()=>o?o.map(P=>({date:zr(t3(P.date),e==="today"||e==="yesterday"?"HH:mm":"MMM d"),revenue:P.revenue,orders:P.orders,averageOrderValue:P.averageOrderValue})):[],[o,e]),S=x.useMemo(()=>c?c.map(P=>({date:zr(t3(P.date),"MMM d"),newUsers:P.users,activeUsers:P.users,returningUsers:0})):[],[c]),N=x.useMemo(()=>g?Object.entries(g).map(([P,k])=>({name:P,value:k})):[],[g]),C=x.useMemo(()=>w?Object.entries(w).map(([P,k])=>({name:P,value:k})):[],[w]),A=s||l||u||p||v||y;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau de Bord Analytique"}),a.jsx("p",{className:"text-muted-foreground",children:"Aperçu des performances et des tendances de votre plateforme"})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-2 md:mt-0",children:[a.jsxs(Cr,{value:e,onValueChange:t,children:[a.jsxs(jr,{className:"w-[180px]",children:[a.jsx(ql,{className:"mr-2 h-4 w-4"}),a.jsx(Er,{placeholder:"Sélectionner une période"})]}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"today",children:"Aujourd'hui"}),a.jsx(Ke,{value:"yesterday",children:"Hier"}),a.jsx(Ke,{value:"7days",children:"7 derniers jours"}),a.jsx(Ke,{value:"30days",children:"30 derniers jours"}),a.jsx(Ke,{value:"90days",children:"90 derniers jours"}),a.jsx(Ke,{value:"thisMonth",children:"Ce mois-ci"}),a.jsx(Ke,{value:"lastMonth",children:"Le mois dernier"}),a.jsx(Ke,{value:"thisYear",children:"Cette année"})]})]}),a.jsxs(ue,{variant:"outline",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Wt,{children:[a.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(vr,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),a.jsx(Ed,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Zt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A?"...":`$${i?.revenue?.current?.toLocaleString()||0}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:!A&&i?.revenue&&a.jsxs("span",{className:i.revenue.change>=0?"text-green-600":"text-red-600",children:[i.revenue.change>=0?"↑":"↓"," ",Math.abs(i.revenue.change),"% vs période précédente"]})})]})]}),a.jsxs(Wt,{children:[a.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(vr,{className:"text-sm font-medium",children:"Commandes"}),a.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Zt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A?"...":i?.orders?.current?.toLocaleString()||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:!A&&i?.orders&&a.jsxs("span",{className:i.orders.change>=0?"text-green-600":"text-red-600",children:[i.orders.change>=0?"↑":"↓"," ",Math.abs(i.orders.change),"% vs période précédente"]})})]})]}),a.jsxs(Wt,{children:[a.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(vr,{className:"text-sm font-medium",children:"Utilisateurs actifs"}),a.jsx(za,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Zt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A?"...":i?.activeUsers?.current?.toLocaleString()||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:!A&&i?.activeUsers&&a.jsxs("span",{className:i.activeUsers.change>=0?"text-green-600":"text-red-600",children:[i.activeUsers.change>=0?"↑":"↓"," ",Math.abs(i.activeUsers.change),"% vs période précédente"]})})]})]}),a.jsxs(Wt,{children:[a.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(vr,{className:"text-sm font-medium",children:"Panier moyen"}),a.jsx(Ed,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Zt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A?"...":`$${i?.averageOrderValue?.current?.toLocaleString()||0}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:!A&&i?.averageOrderValue&&a.jsxs("span",{className:i.averageOrderValue.change>=0?"text-green-600":"text-red-600",children:[i.averageOrderValue.change>=0?"↑":"↓"," ",Math.abs(i.averageOrderValue.change),"% vs période précédente"]})})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(Wt,{className:"col-span-4",children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Aperçu du chiffre d'affaires"}),a.jsx(Hn,{children:"Évolution du chiffre d'affaires sur la période sélectionnée"})]}),a.jsx(Zt,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(F0,{width:"100%",height:"100%",children:a.jsxs(Bue,{data:_,margin:{top:5,right:10,left:0,bottom:5},children:[a.jsx(Ek,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Hv,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Kv,{tickFormatter:P=>`$${P}`,tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(_s,{formatter:(P,k)=>[k==="revenue"?`$${P}`:P,k==="revenue"?"Chiffre d'affaires":"Commandes"]}),a.jsx(Wv,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}}),a.jsx(Wv,{type:"monotone",dataKey:"orders",stroke:"#82ca9d",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(Wt,{className:"col-span-3",children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Sources de trafic"}),a.jsx(Hn,{children:"Répartition des sources de trafic sur votre site"})]}),a.jsxs(Zt,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(F0,{width:"100%",height:"100%",children:a.jsxs(f$,{children:[a.jsx(Bl,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:N.map((P,k)=>a.jsx(mv,{fill:uh[k%uh.length]},`cell-${k}`))}),a.jsx(_s,{formatter:(P,k)=>[`${P}%`,k]}),a.jsx(ru,{})]})})}),a.jsx("div",{className:"mt-4 space-y-2",children:N.map((P,k)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:uh[k%uh.length]}}),a.jsx("span",{className:"text-sm",children:P.name})]}),a.jsxs("span",{className:"text-sm font-medium",children:[P.value,"%"]})]},P.name))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(Wt,{className:"col-span-4",children:[a.jsx(gr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(vr,{children:"Activité des utilisateurs"}),a.jsx(Hn,{children:"Évolution des nouveaux utilisateurs et des utilisateurs actifs"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveaux"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-green-600"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Actifs"})]})]})]})}),a.jsx(Zt,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(F0,{width:"100%",height:"100%",children:a.jsxs(eze,{data:S,children:[a.jsx(Ek,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Hv,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Kv,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(_s,{}),a.jsx(ru,{}),a.jsx(hu,{dataKey:"newUsers",fill:"#3b82f6",radius:[4,4,0,0]}),a.jsx(hu,{dataKey:"activeUsers",fill:"#10b981",radius:[4,4,0,0]})]})})})})]}),a.jsxs(Wt,{className:"col-span-3",children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Ventes par catégorie"}),a.jsx(Hn,{children:"Répartition des ventes par catégorie de produits"})]}),a.jsx(Zt,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(F0,{width:"100%",height:"100%",children:a.jsxs(f$,{children:[a.jsx(Bl,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:P,percent:k})=>`${P} ${(k*100).toFixed(0)}%`,children:C.map((P,k)=>a.jsx(mv,{fill:uh[k%uh.length]},`cell-${k}`))}),a.jsx(_s,{formatter:(P,k)=>[`$${P}`,k]})]})})})})]})]}),a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(vr,{children:"Produits les plus vendus"}),a.jsx(Hn,{children:"Les produits les plus populaires sur votre plateforme"})]}),a.jsx(ue,{variant:"outline",size:"sm",children:"Voir tout"})]})}),a.jsx(Zt,{children:a.jsx("div",{className:"space-y-4",children:A?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("p",{children:"Chargement des produits..."})}):f?.length>0?f.map((P,k)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:k+1})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:P.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.category," • ",P.orders," ventes"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium",children:["$",P.revenue.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-end",children:[P.change>=0?a.jsx(_ue,{className:"h-3 w-3 text-green-500 mr-1"}):a.jsx(wue,{className:"h-3 w-3 text-red-500 mr-1"}),a.jsxs("span",{className:`text-xs ${P.change>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(P.change),"%"]})]})]})]},P.id)):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(MO,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Aucune donnée disponible"})]})})})]})]})}const Zi={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",IGNORED:"ignored"},ws={LISTING:"listing",COMMENT:"comment",USER:"user",REVIEW:"review"},rze=({level:e})=>{const t=()=>{switch(e){case"low":return"outline";case"medium":return"warning";case"high":return"destructive";default:return"outline"}},r=()=>{switch(e){case"low":return"Faible";case"medium":return"Moyen";case"high":return"Élevé";default:return e}};return a.jsx(xt,{variant:t(),children:r()})},nze=({status:e})=>{const t=()=>{switch(e){case Zi.PENDING:return"warning";case Zi.APPROVED:return"success";case Zi.REJECTED:return"destructive";case Zi.IGNORED:return"outline";default:return"outline"}},r=()=>{switch(e){case Zi.PENDING:return"En attente";case Zi.APPROVED:return"Approuvé";case Zi.REJECTED:return"Rejeté";case Zi.IGNORED:return"Ignoré";default:return e}};return a.jsx(xt,{variant:t(),children:r()})},ize=({type:e})=>{const t=()=>{switch(e){case ws.LISTING:return a.jsx(Vd,{className:"h-3 w-3"});case ws.COMMENT:return a.jsx(Qi,{className:"h-3 w-3"});case ws.USER:return a.jsx(Yi,{className:"h-3 w-3"});case ws.REVIEW:return a.jsx(Ha,{className:"h-3 w-3"});default:return a.jsx(Gn,{className:"h-3 w-3"})}},r=()=>{switch(e){case ws.LISTING:return"Annonce";case ws.COMMENT:return"Commentaire";case ws.USER:return"Utilisateur";case ws.REVIEW:return"Avis";default:return e}};return a.jsxs(xt,{variant:"outline",className:"flex items-center gap-1",children:[t(),r()]})};function sze(){const e=zo(),[t,r]=x.useState(""),[n,i]=x.useState("all"),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[u,f]=x.useState("created_at"),[p,g]=x.useState("desc"),[v,w]=x.useState(1),[y,_]=x.useState(10),[S,N]=x.useState(new Set),[C,A]=x.useState(null),[P,k]=x.useState(!1),[O,I]=x.useState(null),{data:z,isLoading:Y,isError:Z}=ri({queryKey:["moderation","reports",{searchTerm:t,statusFilter:n,typeFilter:s,severityFilter:l,sortBy:u,sortOrder:p,page:v,perPage:y}],queryFn:async()=>(await Vr.getAllListings({status:"pending"})).map(G=>({id:G.id,type:ws.LISTING,content:G,reporter:{id:"system",name:"Système",email:"system@maximarket.com"},reason:"Annonce en attente de modération",description:"Cette annonce nécessite une vérification avant publication",severity:"medium",status:Zi.PENDING,createdAt:G.created_at,updatedAt:G.updated_at}))}),{data:V}=ri({queryKey:["moderation","stats"],queryFn:async()=>{const te=await Vr.getAllListings();return await $a.getAllUsers(),{totalReports:te.filter(G=>G.status==="pending").length,pendingReports:te.filter(G=>G.status==="pending").length,resolvedReports:te.filter(G=>G.status==="approved"||G.status==="rejected").length,averageResponseTime:"2h",topReportedTypes:[{type:"listing",count:te.filter(G=>G.status==="pending").length},{type:"user",count:0},{type:"comment",count:0}]}}}),{mutate:q,isLoading:U}=ii({mutationFn:({reportId:te,action:G,reason:ie})=>console.log(`Moderating report ${te} with action: ${G}, reason: ${ie}`),onSuccess:()=>{e.invalidateQueries(["moderation","reports"]),e.invalidateQueries(["moderation","stats"]),A(null),k(!1)},onError:te=>{console.error("Error moderating content:",te)}}),re=te=>{N(G=>{const ie=new Set(G);return ie.has(te)?ie.delete(te):ie.add(te),ie})},ae=(te,G)=>{A(te),I(G),(G==="approve"||G==="reject"||G==="ignore"||G==="delete")&&k(!0)},se=()=>{if(!C||!O)return;let te=O,G="";O==="reject"?G="Contenu inapproprié":O==="delete"&&(G="Suppression demandée"),q({reportId:C,action:te,reason:G})},X=te=>{switch(te){case"approve":return"default";case"reject":return"destructive";case"ignore":return"outline";case"delete":return"destructive";default:return"outline"}},Q=te=>{switch(te){case"approve":return"Approuver";case"reject":return"Rejeter";case"ignore":return"Ignorer";case"delete":return"Supprimer";default:return te}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modération"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les signalements et le contenu inapproprié"})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"rounded-lg border bg-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements en attente"}),a.jsx("p",{className:"text-2xl font-bold",children:V?.pendingReports||0})]}),a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Og,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements aujourd'hui"}),a.jsx("p",{className:"text-2xl font-bold",children:V?.today||0})]}),a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Og,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:V?.todayChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[V?.todayChange>=0?"↑":"↓"," ",Math.abs(V?.todayChange||0),"%"]})," ","vs hier"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de modération"}),a.jsxs("p",{className:"text-2xl font-bold",children:[V?.moderationRate||0,"%"]})]}),a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(Yg,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[V?.moderatedToday||0," modérations aujourd'hui"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contenu supprimé"}),a.jsx("p",{className:"text-2xl font-bold",children:V?.removedContent||0})]}),a.jsx("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/50",children:a.jsx(Ro,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[V?.removedThisMonth||0," ce mois-ci"]})]})]}),a.jsxs(KO,{defaultValue:"reports",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(g_,{children:[a.jsx(Oi,{value:"reports",children:"Signalements"}),a.jsx(Oi,{value:"logs",children:"Journal de modération"}),a.jsx(Oi,{value:"settings",children:"Paramètres"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(es,{className:"mr-2 h-4 w-4"}),"Filtres"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),a.jsxs(Ri,{value:"reports",className:"space-y-4",children:[a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher...",className:"pl-8",value:t,onChange:te=>r(te.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Cr,{value:n,onValueChange:i,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les statuts"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les statuts"}),a.jsx(Ke,{value:Zi.PENDING,children:"En attente"}),a.jsx(Ke,{value:Zi.APPROVED,children:"Approuvé"}),a.jsx(Ke,{value:Zi.REJECTED,children:"Rejeté"}),a.jsx(Ke,{value:Zi.IGNORED,children:"Ignoré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type de contenu"}),a.jsxs(Cr,{value:s,onValueChange:o,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les types"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les types"}),a.jsx(Ke,{value:ws.LISTING,children:"Annonces"}),a.jsx(Ke,{value:ws.COMMENT,children:"Commentaires"}),a.jsx(Ke,{value:ws.USER,children:"Utilisateurs"}),a.jsx(Ke,{value:ws.REVIEW,children:"Avis"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Gravité"}),a.jsxs(Cr,{value:l,onValueChange:c,children:[a.jsx(jr,{children:a.jsx(Er,{placeholder:"Tous les niveaux"})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les niveaux"}),a.jsx(Ke,{value:"low",children:"Faible"}),a.jsx(Ke,{value:"medium",children:"Moyen"}),a.jsx(Ke,{value:"high",children:"Élevé"})]})]})]})]})}),a.jsx("div",{className:"rounded-md border bg-card",children:a.jsxs(Lp,{children:[a.jsx(Dp,{children:a.jsxs(tn,{children:[a.jsx(lr,{children:"Contenu"}),a.jsx(lr,{children:"Type"}),a.jsx(lr,{children:"Gravité"}),a.jsx(lr,{children:"Statut"}),a.jsx(lr,{children:"Date"}),a.jsx(lr,{children:"Actions"})]})}),a.jsx($p,{children:Y?a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):Z?a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(Gn,{className:"h-5 w-5 mr-2"}),"Erreur lors du chargement des signalements"]})})}):z?.length===0?a.jsx(tn,{children:a.jsx(Ot,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[a.jsx(Og,{className:"h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucun signalement trouvé"}),a.jsx("p",{className:"text-sm",children:"Il n'y a pas de signalements correspondant à vos critères."})]})})}):z?.map(te=>a.jsxs(tn,{children:[a.jsx(Ot,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>re(te.id),children:S.has(te.id)?a.jsx(bd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:te.content.title||"Contenu signalé"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Par ",te.reporter?.name||"Utilisateur anonyme"]})]})]}),S.has(te.id)&&a.jsxs("div",{className:"ml-8 p-3 bg-muted rounded-md",children:[a.jsx("p",{className:"text-sm",children:te.reason}),te.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:te.description})]})]})}),a.jsx(Ot,{children:a.jsx(ize,{type:te.type})}),a.jsx(Ot,{children:a.jsx(rze,{level:te.severity})}),a.jsx(Ot,{children:a.jsx(nze,{status:te.status})}),a.jsx(Ot,{children:a.jsx(hh,{children:a.jsxs(vo,{children:[a.jsx(yo,{children:a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Wa,{className:"h-4 w-4 mr-1"}),$X(new Date(te.createdAt),{addSuffix:!0,locale:zp})]})}),a.jsx(Ia,{children:new Date(te.createdAt).toLocaleString("fr-FR")})]})})}),a.jsx(Ot,{children:a.jsxs("div",{className:"flex space-x-1",children:[te.status===Zi.PENDING&&a.jsxs(a.Fragment,{children:[a.jsx(hh,{children:a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>ae(te.id,"approve"),disabled:U,children:a.jsx(Yg,{className:"h-4 w-4"})})}),a.jsx(Ia,{children:"Approuver"})]})}),a.jsx(hh,{children:a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>ae(te.id,"reject"),disabled:U,children:a.jsx(Ms,{className:"h-4 w-4"})})}),a.jsx(Ia,{children:"Rejeter"})]})}),a.jsx(hh,{children:a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>ae(te.id,"ignore"),disabled:U,children:a.jsx(Aue,{className:"h-4 w-4"})})}),a.jsx(Ia,{children:"Ignorer"})]})})]}),a.jsx(hh,{children:a.jsxs(vo,{children:[a.jsx(yo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>ae(te.id,"delete"),disabled:U,children:a.jsx(Ro,{className:"h-4 w-4"})})}),a.jsx(Ia,{children:"Supprimer"})]})})]})})]},te.id))})]})}),z?.pagination&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Affichage de ",(v-1)*y+1," à ",Math.min(v*y,z.pagination.total)," sur ",z.pagination.total," signalements"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(1),disabled:v===1,children:a.jsx(ry,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(v-1),disabled:v===1,children:a.jsx(Ua,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Page ",v," sur ",z.pagination.totalPages]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(v+1),disabled:v===z.pagination.totalPages,children:a.jsx(Va,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>w(z.pagination.totalPages),disabled:v===z.pagination.totalPages,children:a.jsx(ny,{className:"h-4 w-4"})})]})]})]}),a.jsx(Ri,{value:"logs",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Journal de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Historique des actions de modération effectuées"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Wa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Journal de modération à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"L'historique des actions de modération sera disponible prochainement."})]})})]})}),a.jsx(Ri,{value:"settings",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Paramètres de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurez les règles et seuils de modération"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Sp,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Paramètres à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les paramètres de modération seront disponibles prochainement."})]})})]})})]}),a.jsx(H7,{open:P,onOpenChange:k,children:a.jsxs(_R,{children:[a.jsxs(jR,{children:[a.jsx(NR,{children:"Confirmer l'action"}),a.jsxs(CR,{children:["Êtes-vous sûr de vouloir ",Q(O)?.toLowerCase()," ce signalement ? Cette action ne peut pas être annulée."]})]}),a.jsxs(SR,{children:[a.jsx(ER,{children:"Annuler"}),a.jsx(G7,{onClick:se,className:X(O)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:Q(O)})]})]})})]})}Rn({first_name:St().min(2,"Le prénom doit contenir au moins 2 caractères").max(50,"Le prénom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le prénom ne peut contenir que des lettres, espaces, tirets et apostrophes"),last_name:St().min(2,"Le nom doit contenir au moins 2 caractères").max(50,"Le nom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes"),email:St().email("Format d'email invalide").min(5,"L'email doit contenir au moins 5 caractères").max(100,"L'email ne peut pas dépasser 100 caractères"),phone_number:St().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide (ex: +221 77 123 4567)").optional().nullable(),role:ln(["user","vendor","admin","moderator"],{errorMap:()=>({message:"Rôle invalide"})}),status:ln(["active","inactive","suspended","pending"],{errorMap:()=>({message:"Statut invalide"})}),is_verified:vn().optional(),profile_image:St().url("URL d'image invalide").optional().nullable()});Rn({title:St().min(10,"Le titre doit contenir au moins 10 caractères").max(255,"Le titre ne peut pas dépasser 255 caractères"),description:St().min(20,"La description doit contenir au moins 20 caractères").max(2e3,"La description ne peut pas dépasser 2000 caractères"),price:bi().min(0,"Le prix ne peut pas être négatif").max(1e9,"Le prix ne peut pas dépasser 1 milliard"),category:ln(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Catégorie invalide"})}),subcategory:St().min(2,"La sous-catégorie doit contenir au moins 2 caractères").max(100,"La sous-catégorie ne peut pas dépasser 100 caractères").optional(),status:ln(["pending","approved","rejected","expired"],{errorMap:()=>({message:"Statut invalide"})}),images:ib(St().url("URL d'image invalide")).min(1,"Au moins une image est requise").max(10,"Maximum 10 images autorisées"),location:Rn({city:St().min(2,"Ville requise"),country:St().min(2,"Pays requis"),address:St().optional(),coordinates:Rn({lat:bi().min(-90).max(90).optional(),lng:bi().min(-180).max(180).optional()}).optional()}),contact_info:Rn({phone:St().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),email:St().email("Format d'email invalide"),website:St().url("URL invalide").optional()}),real_estate_details:Rn({type:ln(["appartement","maison","terrain","bureau","commerce"]),rooms:St().min(1,"Nombre de pièces requis"),surface:St().min(1,"Surface requise"),amenities:ib(St()).optional()}).optional(),automobile_details:Rn({brand:St().min(2,"Marque requise"),model:St().min(2,"Modèle requis"),year:bi().min(1900).max(new Date().getFullYear()+1,"Année invalide"),mileage:bi().min(0,"Kilométrage invalide").optional(),transmission:ln(["manuelle","automatique"]).optional(),fuel:ln(["essence","diesel","électrique","hybride"]).optional()}).optional(),service_details:Rn({expertise:St().min(2,"Expertise requise"),experience:St().min(2,"Expérience requise"),availability:St().min(2,"Disponibilité requise"),verified:vn().optional(),certifications:ib(St()).optional()}).optional(),product_details:Rn({brand:St().min(2,"Marque requise"),model:St().min(2,"Modèle requis"),condition:ln(["neuf","excellent","bon","moyen","usé"]),warranty:St().optional(),dimensions:St().optional(),weight:St().optional()}).optional()});const E2=Rn({name:St().min(2,"Le nom doit contenir au moins 2 caractères").max(100,"Le nom ne peut pas dépasser 100 caractères").regex(/^[a-zA-ZÀ-ÿ0-9\s'-]+$/,"Le nom ne peut contenir que des lettres, chiffres, espaces, tirets et apostrophes"),slug:St().min(2,"Le slug doit contenir au moins 2 caractères").max(100,"Le slug ne peut pas dépasser 100 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),parent_category:ln(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Type parent invalide"})}),description:St().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),icon:St().min(1,"L'icône est requise").max(50,"L'icône ne peut pas dépasser 50 caractères").optional(),sort_order:bi().int("L'ordre de tri doit être un nombre entier").min(0,"L'ordre de tri ne peut pas être négatif").max(999,"L'ordre de tri ne peut pas dépasser 999").optional(),is_active:vn().optional()});Rn({reference:St().min(5,"La référence doit contenir au moins 5 caractères").max(50,"La référence ne peut pas dépasser 50 caractères").regex(/^[A-Z0-9-]+$/,"La référence ne peut contenir que des lettres majuscules, chiffres et tirets"),type:ln(["purchase","rental","service","transfer"],{errorMap:()=>({message:"Type de transaction invalide"})}),amount:bi().positive("Le montant doit être positif").max(1e9,"Le montant ne peut pas dépasser 1 milliard"),currency:ln(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),status:ln(["pending","completed","cancelled","failed"],{errorMap:()=>({message:"Statut invalide"})}),payment_method:ln(["mobile_money","bank_transfer","cash","card"],{errorMap:()=>({message:"Méthode de paiement invalide"})}).optional(),description:St().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),expires_at:fA().optional(),metadata:dSe(uSe()).optional()});Rn({reason:St().min(10,"La raison doit contenir au moins 10 caractères").max(200,"La raison ne peut pas dépasser 200 caractères"),description:St().min(20,"La description doit contenir au moins 20 caractères").max(1e3,"La description ne peut pas dépasser 1000 caractères").optional(),type:ln(["listing","comment","user","review"],{errorMap:()=>({message:"Type de rapport invalide"})}),severity:ln(["low","medium","high"],{errorMap:()=>({message:"Sévérité invalide"})}),status:ln(["pending","investigating","resolved","dismissed"],{errorMap:()=>({message:"Statut invalide"})}),moderator_notes:St().max(500,"Les notes ne peuvent pas dépasser 500 caractères").optional()});Rn({general:Rn({siteName:St().min(2,"Nom du site requis"),siteDescription:St().min(10,"Description du site requise"),contactEmail:St().email("Email de contact invalide"),supportPhone:St().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),timezone:St().min(1,"Fuseau horaire requis"),currency:ln(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),language:ln(["fr","en"],{errorMap:()=>({message:"Langue invalide"})})}),appearance:Rn({theme:ln(["light","dark","auto"],{errorMap:()=>({message:"Thème invalide"})}),primaryColor:St().regex(/^#[0-9A-Fa-f]{6}$/,"Couleur hexadécimale invalide"),logoUrl:St().url("URL du logo invalide").optional(),faviconUrl:St().url("URL du favicon invalide").optional(),enableAnimations:vn(),enableGradients:vn()}),notifications:Rn({emailNotifications:vn(),pushNotifications:vn(),smsNotifications:vn(),adminAlerts:vn(),userWelcome:vn(),listingApproval:vn(),transactionUpdates:vn()}),security:Rn({requireEmailVerification:vn(),requirePhoneVerification:vn(),twoFactorAuth:vn(),sessionTimeout:bi().min(1).max(168),maxLoginAttempts:bi().min(3).max(10),passwordMinLength:bi().min(6).max(20),enableCaptcha:vn()}),system:Rn({maintenanceMode:vn(),debugMode:vn(),enableLogs:vn(),backupFrequency:ln(["hourly","daily","weekly","monthly"]),maxFileSize:bi().min(1).max(100),allowedFileTypes:ib(St()),enableCaching:vn(),cacheTTL:bi().min(60).max(86400)})});Rn({searchTerm:St().max(100,"Terme de recherche trop long").optional(),status:ln(["all","active","inactive","pending","approved","rejected"]).optional(),category:St().optional(),dateFrom:fA().optional(),dateTo:fA().optional(),minPrice:bi().min(0).optional(),maxPrice:bi().min(0).optional(),sortBy:St().optional(),sortOrder:ln(["asc","desc"]).optional(),page:bi().int().min(1).optional(),perPage:bi().int().min(1).max(100).optional()});const P2=(e,t)=>{try{return{success:!0,data:e.parse(t),errors:null}}catch(r){return r instanceof Io?{success:!1,data:null,errors:r.errors.reduce((i,s)=>{const o=s.path.join(".");return i[o]=s.message,i},{})}:{success:!1,data:null,errors:{general:"Erreur de validation inconnue"}}}};function aze(){const{toast:e}=Sn(),t=zo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("name"),[f,p]=x.useState("asc"),[g,v]=x.useState(1),[w,y]=x.useState(10),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[A,P]=x.useState(null),[k,O]=x.useState({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0}),[I,z]=x.useState({}),{getFieldError:Y,hasFieldError:Z,clearFieldError:V}=Dje(I),{data:q,isLoading:U,isError:re}=ri({queryKey:["adminCategories",{searchTerm:r,typeFilter:i,statusFilter:o,sortBy:c,sortOrder:f,page:g,perPage:w}],queryFn:async()=>await pg.getAllCategories()}),ae=ii({mutationFn:Se=>pg.createCategory(Se),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),S(!1),Le(),e({title:"Succès",description:"Catégorie créée avec succès"})},onError:Se=>{e({title:"Erreur",description:Se.message||"Une erreur est survenue",variant:"destructive"})}}),se=ii({mutationFn:({id:Se,data:ot})=>pg.updateCategory(Se,ot),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),C(!1),P(null),Le(),e({title:"Succès",description:"Catégorie mise à jour avec succès"})},onError:Se=>{e({title:"Erreur",description:Se.message||"Une erreur est survenue",variant:"destructive"})}}),X=ii({mutationFn:Se=>pg.deleteCategory(Se),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),e({title:"Succès",description:"Catégorie supprimée avec succès"})},onError:Se=>{e({title:"Erreur",description:Se.message||"Une erreur est survenue",variant:"destructive"})}}),Q=Se=>{n(Se.target.value),v(1)},te=Se=>{c===Se?p(f==="asc"?"desc":"asc"):(u(Se),p("asc"))},G=Se=>{v(Se)},ie=Se=>{y(Se),v(1)},xe=Se=>{P(Se),O({name:Se.name,slug:Se.slug,parent_category:Se.parent_category,description:Se.description||"",icon:Se.icon||"",sort_order:Se.sort_order||0}),z({}),C(!0)},Ne=()=>{Le(),z({}),S(!0)},Le=()=>{O({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0})},ce=Se=>{Se.preventDefault();const ot=P2(E2,k);if(!ot.success){Object.values(ot.errors).forEach(It=>{e({title:"Erreur de validation",description:It,variant:"destructive"})});return}A?se.mutate({id:A.id,data:ot.data}):ae.mutate(ot.data)},oe=Se=>{X.mutate(Se)},ge=()=>{try{if(!q||q.length===0){e({title:"Aucune donnée",description:"Aucune catégorie à exporter",variant:"destructive"});return}h_.categories(q,"categories-maximarket"),e({title:"Export réussi",description:"Liste des catégories exportée en CSV"})}catch(Se){e({title:"Erreur d'export",description:Se.message||"Impossible d'exporter les données",variant:"destructive"})}},he=q?q.filter(Se=>!(r&&!Se.name.toLowerCase().includes(r.toLowerCase())||i!=="all"&&Se.parent_category!==i||o!=="all"&&Se.is_active!==(o==="active"))).sort((Se,ot)=>{let It=Se[c],fe=ot[c];return typeof It=="string"&&(It=It.toLowerCase(),fe=fe.toLowerCase()),f==="asc"?It>fe?1:-1:It<fe?1:-1}):[],Pe=Math.ceil(he.length/w),J=(g-1)*w,H=J+w,we=he.slice(J,H),be=Se=>Se.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),Ve=Se=>{O(It=>({...It,name:Se,slug:be(Se)}));const ot=P2(E2,{...k,name:Se});ot.success?V("name",z):z(It=>({...It,name:ot.errors.name}))},qe=(Se,ot)=>{const It={...k,[Se]:ot},fe=P2(E2,It);!fe.success&&fe.errors[Se]?z(_e=>({..._e,[Se]:fe.errors[Se]})):V(Se,z)};return U?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):re?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des catégories"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gérez les catégories et sous-catégories de votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{onClick:()=>ge(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:Ne,className:"bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700",children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),"Nouvelle Catégorie"]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"search",children:"Recherche"}),a.jsx(tt,{id:"search",placeholder:"Rechercher une catégorie...",value:r,onChange:Q,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"typeFilter",children:"Type"}),a.jsxs(Cr,{value:i,onValueChange:s,children:[a.jsx(jr,{className:"mt-1",children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les types"}),a.jsx(Ke,{value:"real_estate",children:"Immobilier"}),a.jsx(Ke,{value:"automobile",children:"Automobile"}),a.jsx(Ke,{value:"services",children:"Services"}),a.jsx(Ke,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"statusFilter",children:"Statut"}),a.jsxs(Cr,{value:o,onValueChange:l,children:[a.jsx(jr,{className:"mt-1",children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"all",children:"Tous les statuts"}),a.jsx(Ke,{value:"active",children:"Actif"}),a.jsx(Ke,{value:"inactive",children:"Inactif"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"perPage",children:"Par page"}),a.jsxs(Cr,{value:w.toString(),onValueChange:Se=>ie(parseInt(Se)),children:[a.jsx(jr,{className:"mt-1",children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"10",children:"10"}),a.jsx(Ke,{value:"25",children:"25"}),a.jsx(Ke,{value:"50",children:"50"})]})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Lp,{children:[a.jsx(Dp,{children:a.jsxs(tn,{children:[a.jsx(lr,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>te("name"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Nom",c==="name"&&(f==="asc"?a.jsx(bd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"}))]})}),a.jsx(lr,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>te("parent_category"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Type",c==="parent_category"&&(f==="asc"?a.jsx(bd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"}))]})}),a.jsx(lr,{children:"Slug"}),a.jsx(lr,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>te("sort_order"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Ordre",c==="sort_order"&&(f==="asc"?a.jsx(bd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"}))]})}),a.jsx(lr,{children:"Statut"}),a.jsx(lr,{children:"Actions"})]})}),a.jsx($p,{children:we.map(Se=>a.jsxs(tn,{children:[a.jsx(Ot,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[Se.icon&&a.jsx("span",{className:"text-lg",children:Se.icon}),Se.name]})}),a.jsx(Ot,{children:a.jsxs(xt,{variant:"outline",children:[Se.parent_category==="real_estate"&&"Immobilier",Se.parent_category==="automobile"&&"Automobile",Se.parent_category==="services"&&"Services",Se.parent_category==="marketplace"&&"Marketplace"]})}),a.jsx(Ot,{className:"font-mono text-sm text-gray-500",children:Se.slug}),a.jsx(Ot,{children:Se.sort_order||0}),a.jsx(Ot,{children:a.jsx(xt,{variant:Se.is_active?"success":"secondary",children:Se.is_active?"Actif":"Inactif"})}),a.jsx(Ot,{children:a.jsxs(Ny,{children:[a.jsx(Cy,{asChild:!0,children:a.jsx(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(qd,{className:"h-4 w-4"})})}),a.jsxs(Op,{align:"end",children:[a.jsxs(Kn,{onClick:()=>xe(Se),children:[a.jsx($O,{className:"mr-2 h-4 w-4"}),"Modifier"]}),a.jsx(Rp,{}),a.jsxs(Kn,{onClick:()=>oe(Se.id),className:"text-red-600",children:[a.jsx(Ro,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},Se.id))})]})}),Pe>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de ",J+1," à ",Math.min(H,he.length)," sur ",he.length," résultats"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>G(1),disabled:g===1,children:a.jsx(ry,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>G(g-1),disabled:g===1,children:a.jsx(Ua,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",g," sur ",Pe]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>G(g+1),disabled:g===Pe,children:a.jsx(Va,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>G(Pe),disabled:g===Pe,children:a.jsx(ny,{className:"h-4 w-4"})})]})]})]}),a.jsx(sF,{open:_,onOpenChange:S,children:a.jsxs(IT,{className:"sm:max-w-[500px]",children:[a.jsxs(LT,{children:[a.jsx($T,{children:"Créer une nouvelle catégorie"}),a.jsx(FT,{children:"Remplissez les informations pour créer une nouvelle catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"name",children:"Nom *"}),a.jsx(tt,{id:"name",value:k.name,onChange:Se=>Ve(Se.target.value),onBlur:Se=>qe("name",Se.target.value),placeholder:"Nom de la catégorie",required:!0,className:Z("name")?"border-red-500 focus:border-red-500":""}),a.jsx(_0,{error:Y("name")})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"slug",children:"Slug *"}),a.jsx(tt,{id:"slug",value:k.slug,onChange:Se=>O(ot=>({...ot,slug:Se.target.value})),onBlur:Se=>qe("slug",Se.target.value),placeholder:"slug-categorie",required:!0,className:Z("slug")?"border-red-500 focus:border-red-500":""}),a.jsx(_0,{error:Y("slug")})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"parent_category",children:"Type parent *"}),a.jsxs(Cr,{value:k.parent_category,onValueChange:Se=>O(ot=>({...ot,parent_category:Se})),children:[a.jsx(jr,{children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"real_estate",children:"Immobilier"}),a.jsx(Ke,{value:"automobile",children:"Automobile"}),a.jsx(Ke,{value:"services",children:"Services"}),a.jsx(Ke,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"description",children:"Description"}),a.jsx(Md,{id:"description",value:k.description,onChange:Se=>O(ot=>({...ot,description:Se.target.value})),onBlur:Se=>qe("description",Se.target.value),placeholder:"Description de la catégorie",rows:3,className:Z("description")?"border-red-500 focus:border-red-500":""}),a.jsx(_0,{error:Y("description")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"icon",children:"Icône"}),a.jsx(tt,{id:"icon",value:k.icon,onChange:Se=>O(ot=>({...ot,icon:Se.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"sort_order",type:"number",value:k.sort_order,onChange:Se=>O(ot=>({...ot,sort_order:parseInt(Se.target.value)||0})),onBlur:Se=>qe("sort_order",parseInt(Se.target.value)||0),placeholder:"0",className:Z("sort_order")?"border-red-500 focus:border-red-500":""}),a.jsx(_0,{error:Y("sort_order")})]})]}),a.jsxs(DT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:ae.isLoading,children:ae.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(mT,{className:"mr-2 h-4 w-4"}),"Créer"]})})]})]})]})}),a.jsx(sF,{open:N,onOpenChange:C,children:a.jsxs(IT,{className:"sm:max-w-[500px]",children:[a.jsxs(LT,{children:[a.jsx($T,{children:"Modifier la catégorie"}),a.jsx(FT,{children:"Modifiez les informations de la catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-name",children:"Nom *"}),a.jsx(tt,{id:"edit-name",value:k.name,onChange:Se=>Ve(Se.target.value),placeholder:"Nom de la catégorie",required:!0})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-slug",children:"Slug *"}),a.jsx(tt,{id:"edit-slug",value:k.slug,onChange:Se=>O(ot=>({...ot,slug:Se.target.value})),placeholder:"slug-categorie",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-parent_category",children:"Type parent *"}),a.jsxs(Cr,{value:k.parent_category,onValueChange:Se=>O(ot=>({...ot,parent_category:Se})),children:[a.jsx(jr,{children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"real_estate",children:"Immobilier"}),a.jsx(Ke,{value:"automobile",children:"Automobile"}),a.jsx(Ke,{value:"services",children:"Services"}),a.jsx(Ke,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-description",children:"Description"}),a.jsx(Md,{id:"edit-description",value:k.description,onChange:Se=>O(ot=>({...ot,description:Se.target.value})),placeholder:"Description de la catégorie",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-icon",children:"Icône"}),a.jsx(tt,{id:"edit-icon",value:k.icon,onChange:Se=>O(ot=>({...ot,icon:Se.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"edit-sort_order",type:"number",value:k.sort_order,onChange:Se=>O(ot=>({...ot,sort_order:parseInt(Se.target.value)||0})),placeholder:"0"})]})]}),a.jsxs(DT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:se.isLoading,children:se.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):a.jsxs(a.Fragment,{children:[a.jsx(mT,{className:"mr-2 h-4 w-4"}),"Mettre à jour"]})})]})]})]})})]})}function oze(){const{toast:e}=Sn(),[t,r]=x.useState(!1),[n,i]=x.useState(!1),{data:s,isLoading:o,error:l}=ri({queryKey:["systemSettings"],queryFn:()=>un.getSystemSettings(),staleTime:5*60*1e3}),[c,u]=x.useState({});x.useEffect(()=>{s&&u(s)},[s]),x.useEffect(()=>{Object.keys(c).length>0&&r(!0)},[c]);const f=(v,w,y)=>{u(_=>({..._,[v]:{..._[v],[w]:y}}))},p=async()=>{i(!0);try{await un.updateSystemSettings(c),r(!1),e({title:"Succès",description:"Paramètres sauvegardés avec succès"})}catch(v){e({title:"Erreur",description:v.message||"Erreur lors de la sauvegarde",variant:"destructive"})}finally{i(!1)}},g=async()=>{try{await un.resetToDefaults();const v=await un.getSystemSettings();u(v),r(!1),e({title:"Réinitialisation",description:"Paramètres réinitialisés aux valeurs par défaut"})}catch(v){e({title:"Erreur",description:v.message||"Erreur lors de la réinitialisation",variant:"destructive"})}};return o?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):!c||Object.keys(c).length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des paramètres"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Paramètres Système"}),a.jsx("p",{className:"text-gray-600",children:"Configurez votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{variant:"outline",onClick:g,children:[a.jsx(Ud,{className:"mr-2 h-4 w-4"}),"Réinitialiser"]}),a.jsx(ue,{onClick:p,disabled:!t||n,children:n?"Sauvegarde...":a.jsxs(a.Fragment,{children:[a.jsx(mT,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]})]}),t&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-blue-800 font-medium",children:"Modifications non sauvegardées"})]})}),a.jsxs(KO,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(g_,{className:"grid w-full grid-cols-4",children:[a.jsx(Oi,{value:"general",children:"Général"}),a.jsx(Oi,{value:"appearance",children:"Apparence"}),a.jsx(Oi,{value:"notifications",children:"Notifications"}),a.jsx(Oi,{value:"security",children:"Sécurité"})]}),a.jsx(Ri,{value:"general",children:a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsx(vr,{children:"Informations du site"})}),a.jsxs(Zt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Nom du site"}),a.jsx(tt,{value:c.general.siteName,onChange:v=>f("general","siteName",v.target.value)})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Email de contact"}),a.jsx(tt,{value:c.general.contactEmail,onChange:v=>f("general","contactEmail",v.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Fuseau horaire"}),a.jsxs(Cr,{value:c.general.timezone,onValueChange:v=>f("general","timezone",v),children:[a.jsx(jr,{children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"Africa/Dakar",children:"Dakar (GMT+0)"}),a.jsx(Ke,{value:"Africa/Lagos",children:"Lagos (GMT+1)"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Devise"}),a.jsxs(Cr,{value:c.general.currency,onValueChange:v=>f("general","currency",v),children:[a.jsx(jr,{children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"XOF",children:"XOF (Franc CFA)"}),a.jsx(Ke,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]})]})}),a.jsx(Ri,{value:"appearance",children:a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsx(vr,{children:"Thème et apparence"})}),a.jsx(Zt,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Thème"}),a.jsxs(Cr,{value:c.appearance.theme,onValueChange:v=>f("appearance","theme",v),children:[a.jsx(jr,{children:a.jsx(Er,{})}),a.jsxs(Sr,{children:[a.jsx(Ke,{value:"light",children:"Clair"}),a.jsx(Ke,{value:"dark",children:"Sombre"}),a.jsx(Ke,{value:"auto",children:"Auto"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Couleur principale"}),a.jsx(tt,{type:"color",value:c.appearance.primaryColor,onChange:v=>f("appearance","primaryColor",v.target.value),className:"w-full h-10"})]})]})})]})}),a.jsx(Ri,{value:"notifications",children:a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsx(vr,{children:"Configuration des notifications"})}),a.jsx(Zt,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications par email"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),a.jsx(yg,{checked:c.notifications.emailNotifications,onCheckedChange:v=>f("notifications","emailNotifications",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications push"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Notifications push dans le navigateur"})]}),a.jsx(yg,{checked:c.notifications.pushNotifications,onCheckedChange:v=>f("notifications","pushNotifications",v)})]})]})})]})}),a.jsx(Ri,{value:"security",children:a.jsxs(Wt,{children:[a.jsx(gr,{children:a.jsx(vr,{children:"Sécurité et authentification"})}),a.jsx(Zt,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Vérification email obligatoire"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vérifier leur email"})]}),a.jsx(yg,{checked:c.security.requireEmailVerification,onCheckedChange:v=>f("security","requireEmailVerification",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Activer le captcha"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Protection contre les bots"})]}),a.jsx(yg,{checked:c.security.enableCaptcha,onCheckedChange:v=>f("security","enableCaptcha",v)})]})]})})]})})]})]})}const lze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsxs(Re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center max-w-lg",children:[a.jsx("h1",{className:"text-9xl font-bold gradient-text mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Page non trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"La page que vous recherchez n'existe pas ou a été déplacée."}),a.jsx(ue,{asChild:!0,size:"lg",children:a.jsxs(ir,{to:"/",children:[a.jsx($h,{className:"mr-2 h-4 w-4"}),"Retour à l'accueil"]})})]}),a.jsx("div",{className:"absolute top-1/3 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl"})]}),cze=()=>{const e=[{icon:a.jsx(Fue,{className:"h-8 w-8 text-primary"}),title:"Innovation Continue",description:"Nous repoussons constamment les limites pour offrir des solutions de pointe."},{icon:a.jsx(f_,{className:"h-8 w-8 text-primary"}),title:"Confiance & Sécurité",description:"La sécurité de vos transactions et de vos données est notre priorité absolue."},{icon:a.jsx(za,{className:"h-8 w-8 text-primary"}),title:"Approche Communautaire",description:"Nous construisons une plateforme pour et avec la communauté ouest-africaine."},{icon:a.jsx(Mue,{className:"h-8 w-8 text-primary"}),title:"Impact Local Positif",description:"Nous visons à dynamiser l'économie locale et à créer des opportunités."}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-16",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["À Propos de ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:[nr.tagline,". Notre mission est de révolutionner le commerce en ligne en Afrique de l'Ouest grâce à une technologie innovante et une approche centrée sur l'utilisateur."]})]}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs(Re.section,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"mb-20 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[a.jsx(hT,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Histoire"]}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Fondée avec la vision de simplifier et de sécuriser les échanges commerciaux en Afrique de l'Ouest, ",nr.siteName," est née d'une passion pour la technologie et d'un engagement profond envers le développement économique de la région. Nous avons identifié un besoin crucial pour une plateforme unifiée, moderne et fiable, capable de connecter acheteurs et vendeurs de manière transparente."]}),a.jsxs("p",{className:"text-muted-foreground",children:["Depuis nos débuts, nous avons travaillé sans relâche pour construire une marketplace qui non seulement répond aux besoins actuels, mais anticipe également les tendances futures du commerce électronique. Notre équipe est composée d'experts locaux et internationaux, tous unis par l'objectif de faire de ",nr.siteName," le leader incontesté du marché."]})]}),a.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden shadow-2xl",children:[a.jsx("img",{className:"w-full h-full object-cover",alt:"Équipe MaxiMarket travaillant ensemble",src:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})]}),a.jsx(rv,{className:"my-20"}),a.jsxs(Re.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-20 text-center",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-10 flex items-center justify-center",children:[a.jsx(ide,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Mission & Vision"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Mission"}),a.jsx("p",{className:"text-muted-foreground",children:"Connecter l'Afrique de l'Ouest au futur du commerce en fournissant une plateforme marketplace innovante, sécurisée et accessible à tous. Nous nous engageons à autonomiser les individus et les entreprises en facilitant les transactions et en stimulant la croissance économique locale."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Vision"}),a.jsx("p",{className:"text-muted-foreground",children:"Devenir la marketplace de référence en Afrique, reconnue pour son excellence technologique, son impact positif sur les communautés et sa contribution à un écosystème commercial numérique florissant et inclusif pour le continent."})]})]})]}),a.jsx(rv,{className:"my-20"}),a.jsxs(Re.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nos Valeurs Fondamentales"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>a.jsxs(Re.div,{className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors duration-300 glassmorphic-card",whileHover:{y:-5},children:[a.jsx("div",{className:"p-4 bg-primary/10 rounded-full inline-block mb-4",children:t.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},r))})]}),a.jsx("div",{className:"text-center mt-16",children:a.jsxs("p",{className:"text-lg text-muted-foreground",children:["Prêt à découvrir la différence ",nr.siteName," ? ",a.jsx("a",{href:"/",className:"text-primary font-semibold hover:underline",children:"Explorez notre plateforme dès maintenant."})]})})]})]})},uze=()=>{const{toast:e}=Sn(),[t,r]=x.useState({name:"",email:"",subject:"",message:""}),[n,i]=x.useState(!1),s=l=>{const{name:c,value:u}=l.target;r(f=>({...f,[c]:u}))},o=l=>{l.preventDefault(),i(!0),setTimeout(()=>{console.log("Form submitted:",t),e({title:"Message envoyé !",description:"Merci pour votre message. Je vous répondrai dès que possible.",duration:5e3}),r({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return a.jsxs(Re.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:o,className:"space-y-6 gradient-border p-6 bg-card rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"name",children:"Nom"}),a.jsx(tt,{id:"name",name:"name",placeholder:"Votre nom",value:t.name,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsx(tt,{id:"email",name:"email",type:"email",placeholder:"votre@email.com",value:t.email,onChange:s,required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"subject",children:"Sujet"}),a.jsx(tt,{id:"subject",name:"subject",placeholder:"Sujet de votre message",value:t.subject,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"message",children:"Message"}),a.jsx(Md,{id:"message",name:"message",placeholder:"Votre message...",rows:6,value:t.message,onChange:s,required:!0})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:n,children:n?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(d_,{className:"mr-2 h-4 w-4"}),"Envoyer le message"]})})]})},dze=()=>{const e=[{icon:a.jsx(ou,{className:"h-6 w-6"}),label:"Email",value:"contact@example.com",href:"mailto:contact@example.com"},{icon:a.jsx(Da,{className:"h-6 w-6"}),label:"Téléphone",value:"+33 6 12 34 56 78",href:"tel:+33612345678"},{icon:a.jsx(Co,{className:"h-6 w-6"}),label:"Adresse",value:"Paris, France",href:"https://maps.google.com/?q=Paris,France"}],t=[{icon:a.jsx(Rue,{className:"h-6 w-6"}),label:"GitHub",href:"https://github.com"},{icon:a.jsx(d9,{className:"h-6 w-6"}),label:"Twitter",href:"https://twitter.com"},{icon:a.jsx(o9,{className:"h-6 w-6"}),label:"LinkedIn",href:"https://linkedin.com"}];return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Contactez ",a.jsx("span",{className:"gradient-text",children:"moi"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Vous avez un projet en tête ou une question ? N'hésitez pas à me contacter !"})]}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs(Re.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informations de contact"}),a.jsx("div",{className:"space-y-6",children:e.map((r,n)=>a.jsxs(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 p-4 rounded-lg glass-effect hover:border-primary transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:[a.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:r.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:r.label}),a.jsx("p",{className:"text-muted-foreground",children:r.value})]})]},n))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Réseaux sociaux"}),a.jsx("div",{className:"flex space-x-4",children:t.map((r,n)=>a.jsx(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer","aria-label":r.label,className:"p-4 rounded-full bg-secondary hover:bg-primary/20 transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:r.icon},n))})]}),a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden gradient-border",children:a.jsx("img",{className:"w-full h-full object-cover",alt:"Carte de localisation",src:"https://images.unsplash.com/photo-1569336415962-a4bd9f69c07a"})})]}),a.jsx(Re.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Envoyez un message"}),a.jsx(uze,{})]})})]})})]})},fze=()=>{const e=[{title:"Développeur Frontend Senior (React)",location:"Dakar, Sénégal (Hybride)",type:"Temps Plein",link:"#"},{title:"Chef de Produit Marketplace",location:"Abidjan, Côte d'Ivoire",type:"Temps Plein",link:"#"},{title:"Spécialiste Marketing Digital",location:"Lagos, Nigéria (Remote)",type:"Temps Plein",link:"#"},{title:"Responsable Service Client Bilingue",location:"Dakar, Sénégal",type:"Temps Plein",link:"#"}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[a.jsx(Cd,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Rejoignez l'Équipe ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Façonnez l'avenir du commerce en Afrique de l'Ouest avec nous. Découvrez nos opportunités de carrière passionnantes."})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16 bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-8 text-center flex items-center justify-center",children:["Pourquoi travailler chez ",nr.siteName," ?"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[a.jsxs("div",{className:"p-6",children:[a.jsx(u9,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Impact Significatif"}),a.jsx("p",{className:"text-muted-foreground",children:"Contribuez à un projet qui transforme réellement la vie des gens et l'économie locale."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(za,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Culture Collaborative"}),a.jsx("p",{className:"text-muted-foreground",children:"Rejoignez une équipe passionnée, diverse et solidaire où chaque voix compte."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(Cd,{className:"h-12 w-12 text-green-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Croissance et Apprentissage"}),a.jsx("p",{className:"text-muted-foreground",children:"Bénéficiez d'opportunités de développement professionnel continu et relevez des défis stimulants."})]})]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Postes Ouverts Actuellement"}),e.length>0?a.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:e.map((t,r)=>a.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*r+.5},className:"bg-card p-6 rounded-lg shadow-md border border-border hover:border-primary transition-colors flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-primary",children:t.title}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:[t.location," - ",t.type]})]}),a.jsx(ue,{asChild:!0,className:"mt-4 sm:mt-0 bg-primary hover:bg-primary/90",children:a.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:["Voir l'Offre ",a.jsx(pT,{className:"ml-2 h-4 w-4"})]})})]},r))}):a.jsx("p",{className:"text-center text-muted-foreground text-lg",children:"Nous n'avons pas de postes ouverts pour le moment, mais nous sommes toujours à la recherche de talents exceptionnels. N'hésitez pas à nous envoyer une candidature spontanée !"}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(ue,{variant:"outline",size:"lg",children:"Envoyer une Candidature Spontanée"})})]})]})},hze=()=>{const e=[{id:1,title:"MaxiMarket révolutionne le e-commerce en Afrique de l'Ouest",date:"01 Juin 2025",description:"Lancement officiel de la plateforme marketplace innovante MaxiMarket.",pdfUrl:"#"},{id:2,title:"Partenariat stratégique avec PayDunya",date:"15 Mai 2025",description:"MaxiMarket s'associe à PayDunya pour faciliter les paiements en ligne.",pdfUrl:"#"}],t={logos:[{name:"Logo Principal",format:"PNG, SVG",size:"2MB",url:"#"},{name:"Logo Monochrome",format:"PNG, SVG",size:"1.5MB",url:"#"}],photos:[{name:"Photos de l'équipe",format:"JPG",size:"5MB",url:"#"},{name:"Interface utilisateur",format:"JPG",size:"3MB",url:"#"}]},r={name:"Service Relations Presse",email:"presse@maximarket.com",phone:"+221 77 123 45 67"};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(Wue,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Espace ",a.jsx("span",{className:"gradient-text",children:"Presse"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Retrouvez toutes les actualités, ressources et informations pour la presse concernant ",nr.siteName,"."]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center",children:[a.jsx(jue,{className:"h-6 w-6 mr-2 text-primary"}),"Derniers Communiqués de Presse"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(n=>a.jsxs(Wt,{className:"hover:border-primary transition-colors",children:[a.jsxs(gr,{children:[a.jsx(vr,{children:n.title}),a.jsx(Hn,{children:n.date})]}),a.jsxs(Zt,{children:[a.jsx("p",{className:"mb-4 text-muted-foreground",children:n.description}),a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:n.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Ba,{className:"mr-2 h-4 w-4"})," Télécharger le PDF"]})})]})]},n.id))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Kit Média"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Logos"}),a.jsx(Hn,{children:"Téléchargez nos logos officiels"})]}),a.jsx(Zt,{children:a.jsx("ul",{className:"space-y-4",children:t.logos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(Ba,{className:"h-4 w-4"})})})]},i))})})]}),a.jsxs(Wt,{children:[a.jsxs(gr,{children:[a.jsx(vr,{children:"Photos"}),a.jsx(Hn,{children:"Photos officielles haute résolution"})]}),a.jsx(Zt,{children:a.jsx("ul",{className:"space-y-4",children:t.photos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(Ba,{className:"h-4 w-4"})})})]},i))})})]})]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"text-center bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Presse"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("p",{className:"font-medium text-lg mb-2",children:r.name}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Pour toute demande d'interview ou d'information complémentaire"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:`mailto:${r.email}`,children:[a.jsx(pT,{className:"mr-2 h-4 w-4"}),r.email]})}),a.jsxs(ue,{variant:"outline",className:"w-full",children:[a.jsx(pT,{className:"mr-2 h-4 w-4"}),r.phone]})]})]})]})]})},pze=()=>{const[e,t]=x.useState(""),r=[{title:"Comment publier une annonce ?",link:"/faq#publier-annonce"},{title:"Sécuriser mon compte",link:"/faq#securite-compte"},{title:"Problèmes de paiement",link:"/faq#paiement"},{title:"Contacter un vendeur/acheteur",link:"/faq#contacter-utilisateur"},{title:"Signaler un problème",link:"/faq#signaler-probleme"}],n=[{name:"Comptes et Profils",icon:a.jsx(za,{className:"h-8 w-8 text-primary"}),description:"Gestion de votre compte, paramètres et notifications."},{name:"Acheter sur MaxiMarket",icon:a.jsx(ede,{className:"h-8 w-8 text-primary"}),description:"Recherche, achat, paiements et livraisons."},{name:"Vendre sur MaxiMarket",icon:a.jsx(Wd,{className:"h-8 w-8 text-primary"}),description:"Création d'annonces, gestion des ventes, boosters."},{name:"Sécurité et Confiance",icon:a.jsx(f_,{className:"h-8 w-8 text-primary"}),description:"Protéger votre compte, éviter les fraudes."}],i=s=>{s.preventDefault(),console.log("Searching for:",e)};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(IO,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Centre d'Aide ",a.jsx("span",{className:"gradient-text",children:nr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Comment pouvons-nous vous aider aujourd'hui ?"})]}),a.jsxs(Re.form,{onSubmit:i,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-16 relative",children:[a.jsx(tt,{type:"search",placeholder:"Rechercher des articles d'aide (ex: mot de passe oublié)",className:"w-full h-14 pl-12 pr-4 text-lg rounded-full shadow-lg",value:e,onChange:s=>t(s.target.value)}),a.jsx(Zn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-muted-foreground"}),a.jsx(ue,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-10 rounded-full",children:"Rechercher"})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sujets Populaires"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((s,o)=>a.jsxs(ir,{to:s.link,className:"block bg-card p-6 rounded-lg shadow-md hover:shadow-lg hover:border-primary border border-transparent transition-all duration-300 transform hover:-translate-y-1 glassmorphic-card",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-2 flex items-center",children:[s.title," ",a.jsx(jl,{className:"ml-auto h-4 w-4 opacity-50 group-hover:opacity-100"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez notre FAQ pour une réponse rapide."})]},o))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Parcourir par Catégorie"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1+.7},className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors glassmorphic-card",children:[a.jsx("div",{className:"p-3 bg-primary/10 rounded-full inline-block mb-4",children:s.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),a.jsx(ue,{variant:"outline",asChild:!0,children:a.jsx(ir,{to:`/faq#cat-${s.name.toLowerCase().replace(/\s+/g,"-")}`,children:"Explorer"})})]},o))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"text-center bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Notre équipe d'assistance est là pour vous aider. Contactez-nous directement ou consultez notre FAQ complète."}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(ue,{size:"lg",asChild:!0,className:"bg-primary hover:bg-primary/90",children:a.jsxs(ir,{to:"/contactez-nous",children:[a.jsx(Qi,{className:"mr-2 h-5 w-5"})," Contacter le Support"]})}),a.jsx(ue,{size:"lg",variant:"outline",asChild:!0,children:a.jsxs(ir,{to:"/faq",children:[a.jsx(Nue,{className:"mr-2 h-5 w-5"})," Consulter la FAQ"]})})]})]})]})},mze=()=>{const e=nr.siteName,t=[{id:"general-1",category:"Général",question:`Qu'est-ce que ${e} ?`,answer:`${e} est une plateforme marketplace innovante conçue pour l'Afrique de l'Ouest, facilitant l'achat et la vente de biens immobiliers, véhicules, services professionnels et divers autres produits. Notre objectif est de simplifier le commerce en ligne et de le rendre plus sûr et accessible.`},{id:"compte-1",category:"Compte Utilisateur",question:`Comment créer un compte sur ${e} ?`,answer:"Pour créer un compte, cliquez sur le bouton 'Connexion / Inscription' en haut à droite de la page. Vous pourrez alors vous inscrire en utilisant votre adresse e-mail ou via des services tiers comme Google ou Facebook (si activé). Suivez simplement les instructions à l'écran."},{id:"compte-2",category:"Compte Utilisateur",question:"J'ai oublié mon mot de passe, que faire ?",answer:"Si vous avez oublié votre mot de passe, cliquez sur le lien 'Mot de passe oublié ?' sur la page de connexion. Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe."},{id:"publier-annonce",category:`Vendre sur ${e}`,question:"Comment publier une annonce ?",answer:"Une fois connecté, accédez à votre tableau de bord et cherchez le bouton 'Publier une annonce' ou 'Nouvelle annonce'. Choisissez la catégorie appropriée, remplissez tous les champs requis (titre, description, prix, photos, etc.) et soumettez votre annonce. Elle sera examinée par notre équipe avant d'être publiée."},{id:"paiement",category:"Paiements et Transactions",question:"Quels sont les moyens de paiement acceptés ?",answer:"Nous acceptons plusieurs moyens de paiement, y compris les cartes bancaires (Visa, Mastercard), les paiements mobiles (Orange Money, Wave, etc. selon disponibilité régionale), PayPal et PayDunya. Les options exactes peuvent varier en fonction de votre pays."},{id:"securite-compte",category:"Sécurité",question:"Comment puis-je sécuriser mon compte ?",answer:"Pour sécuriser votre compte, utilisez un mot de passe fort et unique. Activez l'authentification à deux facteurs (2FA) si disponible dans vos paramètres de compte. Méfiez-vous des e-mails de phishing et ne partagez jamais vos identifiants."},{id:"contacter-utilisateur",category:"Interaction",question:"Comment contacter un vendeur ou un acheteur ?",answer:"Sur la page d'une annonce, vous trouverez généralement un bouton ou un lien pour contacter le vendeur (par exemple, 'Contacter le vendeur', 'Envoyer un message'). Utilisez notre système de messagerie intégré pour communiquer en toute sécurité. Les coordonnées directes ne sont partagées qu'avec le consentement des deux parties."},{id:"signaler-probleme",category:"Support et Litiges",question:"Comment signaler un problème ou une annonce suspecte ?",answer:"Si vous rencontrez un problème ou si une annonce vous semble suspecte, vous pouvez la signaler en utilisant le lien 'Signaler cette annonce' présent sur la page de l'annonce. Pour d'autres problèmes, contactez notre support client via le Centre d'Aide."}],r=[...new Set(t.map(n=>n.category))];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(IO,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:["Questions Fréquemment Posées ",a.jsx("span",{className:"gradient-text",children:"(FAQ)"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:["Trouvez des réponses rapides à vos questions sur ",e,"."]})]}),r.map((n,i)=>a.jsxs(Re.section,{id:`cat-${n.toLowerCase().replace(/\s+/g,"-")}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i},className:"mb-12 max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 border-l-4 border-primary pl-4 text-foreground",children:n}),a.jsx(Rge,{type:"single",collapsible:!0,className:"w-full space-y-3",children:t.filter(s=>s.category===n).map(s=>a.jsxs(GH,{value:s.id,className:"bg-card border border-border rounded-lg shadow-sm hover:border-primary/50 transition-colors",children:[a.jsx(ZH,{className:"p-6 text-left font-semibold hover:no-underline text-foreground",children:s.question}),a.jsx(YH,{className:"p-6 pt-0 text-muted-foreground",children:s.answer})]},s.id))})]},n)),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+.1*r.length},className:"text-center mt-16",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Vous n'avez pas trouvé de réponse ?"}),a.jsx(ue,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 transition-opacity",children:a.jsx(ir,{to:"/contactez-nous",children:"Contactez notre support"})})]})]})},gze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(f_,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Politique de ",a.jsx("span",{className:"gradient-text",children:"Confidentialité"})]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg mb-6",children:["Bienvenue sur ",nr.siteName,". Nous nous engageons à protéger la confidentialité de vos informations personnelles. Cette politique de confidentialité explique comment nous collectons, utilisons, divulguons et protégeons vos informations lorsque vous visitez notre site web et utilisez nos services."]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"1. Informations que nous collectons"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons collecter des informations personnelles vous concernant de différentes manières, notamment :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Informations fournies directement par vous :"})," Lorsque vous créez un compte, publiez une annonce, effectuez une transaction, communiquez avec nous ou d'autres utilisateurs (nom, adresse e-mail, numéro de téléphone, informations de paiement, etc.)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations collectées automatiquement :"})," Lorsque vous utilisez notre site, nous pouvons collecter des informations sur votre appareil, votre activité de navigation, votre adresse IP, votre localisation (si autorisée), les cookies et autres technologies de suivi."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations provenant de tiers :"})," Nous pouvons recevoir des informations vous concernant de la part de services tiers, tels que les fournisseurs de services de paiement ou les plateformes de médias sociaux si vous choisissez de lier votre compte."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Utilisation de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous utilisons les informations que nous collectons pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Fournir, exploiter et améliorer nos services."}),a.jsx("li",{children:"Traiter vos transactions et gérer votre compte."}),a.jsx("li",{children:"Personnaliser votre expérience sur notre plateforme."}),a.jsx("li",{children:"Communiquer avec vous, y compris pour le service client et les mises à jour."}),a.jsx("li",{children:"Assurer la sécurité de notre plateforme et prévenir la fraude."}),a.jsx("li",{children:"Analyser l'utilisation de notre site et améliorer nos offres."}),a.jsx("li",{children:"Respecter nos obligations légales."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Partage de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons partager vos informations personnelles dans les circonstances suivantes :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Avec d'autres utilisateurs :"})," Pour faciliter les transactions et les communications (par exemple, partager votre nom d'utilisateur ou les informations de contact nécessaires pour une transaction)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Avec des fournisseurs de services tiers :"})," Qui nous aident à exploiter notre plateforme (hébergement, traitement des paiements, analyse de données, marketing, etc.). Ces fournisseurs sont contractuellement tenus de protéger vos informations."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Pour des raisons légales :"})," Si la loi l'exige, ou pour répondre à une procédure légale valide, protéger nos droits, notre propriété ou notre sécurité, ou ceux de nos utilisateurs ou du public."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"En cas de transfert d'entreprise :"})," En cas de fusion, acquisition, réorganisation ou vente d'actifs, vos informations peuvent être transférées."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Vos droits et choix"]}),a.jsx("p",{className:"mb-4",children:"Selon votre juridiction, vous pouvez avoir certains droits concernant vos informations personnelles, tels que :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Le droit d'accéder à vos informations."}),a.jsx("li",{children:"Le droit de corriger ou de mettre à jour vos informations."}),a.jsx("li",{children:"Le droit de supprimer vos informations."}),a.jsx("li",{children:"Le droit de vous opposer ou de restreindre certains traitements."}),a.jsx("li",{children:"Le droit à la portabilité des données."})]}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Vous pouvez généralement gérer les informations de votre compte et vos préférences de communication via les paramètres de votre compte. Pour exercer d'autres droits, veuillez nous contacter."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Sécurité des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous mettons en œuvre des mesures de sécurité techniques et organisationnelles raisonnables pour protéger vos informations personnelles contre l'accès non autorisé, la divulgation, l'altération ou la destruction. Cependant, aucune méthode de transmission sur Internet ou de stockage électronique n'est totalement sécurisée."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Conservation des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous conservons vos informations personnelles aussi longtemps que nécessaire pour atteindre les objectifs décrits dans cette politique de confidentialité, sauf si une période de conservation plus longue est requise ou autorisée par la loi."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Transferts internationaux"]}),a.jsx("p",{className:"text-muted-foreground",children:"Vos informations peuvent être transférées et traitées dans des pays autres que votre pays de résidence, où les lois sur la protection des données peuvent différer. Nous prendrons des mesures appropriées pour garantir que vos informations personnelles restent protégées conformément à cette politique."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Modifications de cette politique"]}),a.jsx("p",{className:"text-muted-foreground",children:'Nous pouvons mettre à jour cette politique de confidentialité de temps à autre. Nous vous informerons de tout changement important en publiant la nouvelle politique sur notre site et en mettant à jour la date de "Dernière mise à jour".'})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Nous contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions ou des préoccupations concernant cette politique de confidentialité ou nos pratiques en matière de données, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:privacy@${nr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["privacy@",nr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),vze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(qr,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Termes et ",a.jsx("span",{className:"gradient-text",children:"Conditions"})," d'Utilisation"]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg",children:[`Veuillez lire attentivement ces Termes et Conditions ("Termes") avant d'utiliser le site web `,nr.siteName,' (le "Service") exploité par ',nr.siteName,` ("nous", "notre", ou "nos"). Votre accès et votre utilisation du Service sont conditionnés par votre acceptation et votre respect de ces Termes. Ces Termes s'appliquent à tous les visiteurs, utilisateurs et autres personnes qui accèdent ou utilisent le Service.`]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Sp,{className:"mr-2 h-6 w-6 text-primary"}),"1. Acceptation des Termes"]}),a.jsx("p",{className:"text-muted-foreground",children:"En accédant ou en utilisant le Service, vous acceptez d'être lié par ces Termes. Si vous n'êtes pas d'accord avec une partie des termes, vous ne pouvez pas accéder au Service."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Comptes"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Lorsque vous créez un compte chez nous, vous devez nous fournir des informations exactes, complètes et à jour à tout moment. Le non-respect de cette obligation constitue une violation des Termes, ce qui peut entraîner la résiliation immédiate de votre compte sur notre Service."}),a.jsx("p",{children:"Vous êtes responsable de la protection du mot de passe que vous utilisez pour accéder au Service et de toutes les activités ou actions effectuées sous votre mot de passe, que votre mot de passe soit avec notre Service ou un service tiers."}),a.jsx("p",{children:"Vous acceptez de ne pas divulguer votre mot de passe à un tiers. Vous devez nous informer immédiatement dès que vous prenez connaissance d'une violation de la sécurité ou d'une utilisation non autorisée de votre compte."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Contenu Utilisateur"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:'Notre Service vous permet de publier, lier, stocker, partager et autrement rendre disponible certaines informations, textes, graphiques, vidéos ou autres supports ("Contenu Utilisateur"). Vous êtes responsable du Contenu Utilisateur que vous publiez sur ou via le Service, y compris sa légalité, sa fiabilité et sa pertinence.'}),a.jsx("p",{children:"En publiant du Contenu Utilisateur sur ou via le Service, vous déclarez et garantissez que : (i) le Contenu Utilisateur vous appartient (vous en êtes propriétaire) et/ou vous avez le droit de l'utiliser et le droit de nous accorder les droits et la licence prévus dans ces Termes, et (ii) la publication de votre Contenu Utilisateur sur ou via le Service ne viole pas les droits à la vie privée, les droits de publicité, les droits d'auteur, les droits contractuels ou tout autre droit de toute personne ou entité."}),a.jsx("p",{children:"Vous conservez tous vos droits sur tout Contenu Utilisateur que vous soumettez, publiez ou affichez sur ou via le Service et vous êtes responsable de la protection de ces droits. Nous n'assumons aucune responsabilité et n'engageons aucune responsabilité pour le Contenu Utilisateur que vous ou un tiers publiez sur ou via le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Utilisation Acceptable"]}),a.jsx("p",{className:"mb-4",children:"Vous acceptez de ne pas utiliser le Service pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Publier du contenu illégal, nuisible, menaçant, abusif, harcelant, diffamatoire, vulgaire, obscène, haineux ou autrement répréhensible."}),a.jsx("li",{children:"Usurper l'identité d'une personne ou d'une entité, ou déclarer faussement ou déformer autrement votre affiliation avec une personne ou une entité."}),a.jsx("li",{children:"Télécharger, publier ou transmettre de quelque manière que ce soit tout contenu que vous n'avez pas le droit de transmettre en vertu d'une loi ou de relations contractuelles ou fiduciaires."}),a.jsx("li",{children:"Violer toute loi locale, étatique, nationale ou internationale applicable."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Propriété Intellectuelle"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Le Service et son contenu original (à l'exclusion du Contenu Utilisateur), ses caractéristiques et fonctionnalités sont et resteront la propriété exclusive de ",nr.siteName," et de ses concédants de licence. Le Service est protégé par le droit d'auteur, les marques commerciales et d'autres lois. Nos marques et habillages commerciaux ne peuvent être utilisés en relation avec un produit ou service sans le consentement écrit préalable de ",nr.siteName,"."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Liens Vers D'autres Sites Web"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:["Notre Service peut contenir des liens vers des sites web ou des services tiers qui ne sont pas détenus ou contrôlés par ",nr.siteName,"."]}),a.jsxs("p",{children:[nr.siteName," n'a aucun contrôle sur, et n'assume aucune responsabilité pour, le contenu, les politiques de confidentialité ou les pratiques de tout site web ou service tiers. Vous reconnaissez et acceptez en outre que ",nr.siteName," ne sera pas responsable, directement ou indirectement, de tout dommage ou perte causé ou présumé avoir été causé par ou en relation avec l'utilisation ou la confiance accordée à un tel contenu, biens ou services disponibles sur ou via de tels sites web ou services."]}),a.jsx("p",{children:"Nous vous conseillons vivement de lire les termes et conditions et les politiques de confidentialité de tout site web ou service tiers que vous visitez."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Résiliation"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous pouvons résilier ou suspendre votre compte et interdire l'accès au Service immédiatement, sans préavis ni responsabilité, à notre seule discrétion, pour quelque raison que ce soit et sans limitation, y compris mais sans s'y limiter, une violation des Termes."}),a.jsx("p",{children:"Si vous souhaitez résilier votre compte, vous pouvez simplement cesser d'utiliser le Service."}),a.jsx("p",{children:"Toutes les dispositions des Termes qui, de par leur nature, devraient survivre à la résiliation survivront à la résiliation, y compris, sans limitation, les dispositions relatives à la propriété, les exclusions de garantie, l'indemnisation et les limitations de responsabilité."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Limitation de Responsabilité"]}),a.jsxs("p",{className:"text-muted-foreground",children:["En aucun cas ",nr.siteName,", ni ses administrateurs, employés, partenaires, agents, fournisseurs ou affiliés, ne pourront être tenus responsables de tout dommage indirect, accessoire, spécial, consécutif ou punitif, y compris, sans limitation, la perte de profits, de données, d'utilisation, de clientèle ou d'autres pertes immatérielles, résultant de votre accès ou votre utilisation ou votre incapacité à accéder ou à utiliser le Service."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Droit Applicable"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Ces Termes seront régis et interprétés conformément aux lois du Sénégal, sans égard à ses dispositions relatives aux conflits de lois."}),a.jsx("p",{children:"Notre manquement à faire respecter un droit ou une disposition de ces Termes ne sera pas considéré comme une renonciation à ces droits. Si une disposition de ces Termes est jugée invalide ou inapplicable par un tribunal, les autres dispositions de ces Termes resteront en vigueur. Ces Termes constituent l'intégralité de l'accord entre nous concernant notre Service, et remplacent et annulent tous les accords antérieurs que nous pourrions avoir entre nous concernant le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"10. Modifications"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous nous réservons le droit, à notre seule discrétion, de modifier ou de remplacer ces Termes à tout moment. Si une révision est importante, nous nous efforcerons de fournir un préavis d'au moins 30 jours avant l'entrée en vigueur des nouveaux termes. Ce qui constitue un changement important sera déterminé à notre seule discrétion."}),a.jsx("p",{children:"En continuant à accéder ou à utiliser notre Service après l'entrée en vigueur de ces révisions, vous acceptez d'être lié par les termes révisés. Si vous n'acceptez pas les nouveaux termes, veuillez cesser d'utiliser le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(qr,{className:"mr-2 h-6 w-6 text-primary"}),"11. Nous Contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions concernant ces Termes, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:legal@${nr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["legal@",nr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),yze=({post:e,index:t,featured:r=!1})=>{const n=new Date(e.publishedAt),i=$X(n,{addSuffix:!0,locale:zp});return a.jsx(Re.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},className:Ge("group overflow-hidden rounded-lg border border-border bg-card transition-all duration-300 card-hover",r?"col-span-full md:col-span-2 md:row-span-2":"md:col-span-1"),children:a.jsxs(ir,{to:`/blog/${e.slug||e.id}`,className:"block h-full",children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${e.title}`,src:"https://images.unsplash.com/photo-1578811344633-3376eab0f8ce"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-70"}),r&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(xt,{variant:"default",className:"bg-primary/90 backdrop-blur-sm",children:"À la une"})}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.tags.slice(0,r?3:2).map((s,o)=>a.jsx(xt,{variant:"secondary",className:"bg-secondary/50 backdrop-blur-sm",children:s},o))}),r&&a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 line-clamp-2",children:e.title})]})]}),a.jsxs("div",{className:"p-5",children:[!r&&a.jsx("h2",{className:"text-lg font-bold mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:e.title}),a.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-4",children:e.excerpt}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(ql,{className:"h-3 w-3 mr-1"}),i]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),e.readingTime]})]}),e.category&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Wd,{className:"h-3 w-3 mr-1"}),e.category]})]})]})]})})},xze=[{id:"maximarket-welcome-post",title:"Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !",slug:"bienvenue-sur-maximarket-marketplace-futuriste",excerpt:"Découvrez MaxiMarket, la plateforme innovante qui révolutionne le commerce en Afrique de l'Ouest. Immobilier, automobile, services et plus encore !",content:`
# Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !

Nous sommes ravis de vous accueillir sur **MaxiMarket**, la destination incontournable pour toutes vos transactions en Afrique de l'Ouest. Que vous cherchiez à acheter, vendre ou louer, MaxiMarket vous offre une expérience utilisateur unique, moderne et sécurisée.

## Ce que MaxiMarket vous propose :

### 1. Immobilier de Pointe
Trouvez l'appartement de vos rêves, la maison idéale pour votre famille, un terrain pour construire votre avenir ou le local commercial parfait pour votre entreprise. Avec nos filtres avancés, nos visites virtuelles à 360° et nos outils d'estimation IA, la recherche immobilière n'a jamais été aussi simple et efficace.

### 2. Automobile Simplifié
Parcourez notre vaste sélection de voitures, motos et véhicules utilitaires, neufs ou d'occasion. Bénéficiez d'historiques de véhicules transparents, d'inspections virtuelles et de calculateurs de financement intégrés pour prendre des décisions éclairées.

### 3. Services Professionnels à portée de clic
Besoin d'un expert en BTP, d'un technicien qualifié, d'une aide domestique ou d'un professionnel de la santé ? MaxiMarket vous met en relation avec des prestataires vérifiés. Prenez rendez-vous en ligne, consultez les portfolios et suivez l'avancement de vos projets en toute sérénité.

### 4. Une Marketplace Générale Riche et Variée
Explorez un univers de produits allant de l'électronique dernier cri à la mode tendance, en passant par les articles pour la maison, les équipements sportifs et l'artisanat local authentique. MaxiMarket est votre guichet unique pour tous vos besoins.

## Une Expérience Utilisateur Inégalée

Chez MaxiMarket, nous avons mis l'accent sur un design futuriste et des fonctionnalités innovantes :
- **Thème adaptatif sombre/clair** et effets visuels saisissants comme le glassmorphism.
- **Recherche vocale** et **contrôles gestuels** sur mobile pour une navigation intuitive.
- **Tableaux de bord personnalisés** avec analyses détaillées pour les vendeurs.
- **Intelligence Artificielle** intégrée pour des recommandations personnalisées, des estimations de prix et une modération intelligente.

## Rejoignez la Révolution MaxiMarket !

Nous sommes plus qu'une simple marketplace. Nous sommes une communauté qui construit l'avenir du commerce en Afrique de l'Ouest. Créez votre compte dès aujourd'hui, publiez vos annonces ou trouvez exactement ce que vous cherchez.

L'équipe MaxiMarket.
    `,coverImage:"maximarket-marketplace-skyline-futuristic",author:{name:"L'équipe MaxiMarket",avatar:"maximarket-logo-avatar"},category:"Annonces MaxiMarket",tags:["MaxiMarket","Marketplace","Afrique de l'Ouest","Innovation","Immobilier","Automobile","Services"],publishedAt:"2025-06-02T10:00:00Z",readingTime:"4 min"},{id:"1",title:"Comment j'ai créé une application React performante",slug:"comment-jai-cree-une-application-react-performante",excerpt:"Découvrez les techniques que j'ai utilisées pour optimiser les performances de mon application React.",content:`
# Comment j'ai créé une application React performante

React est une bibliothèque JavaScript populaire pour créer des interfaces utilisateur interactives. Cependant, à mesure que les applications grandissent, les performances peuvent devenir un problème. Dans cet article, je vais partager les techniques que j'ai utilisées pour optimiser les performances de mon application React.

## 1. Utilisation de React.memo et useMemo

L'un des premiers problèmes que j'ai rencontrés était des rendus inutiles de composants. Pour résoudre ce problème, j'ai utilisé React.memo pour mémoriser les composants et useMemo pour mémoriser les valeurs calculées.

\`\`\`jsx
const ExpensiveComponent = React.memo(({ data }) => {
  // Rendu du composant
});

function App() {
  const expensiveCalculation = useMemo(() => {
    return performExpensiveCalculation(data);
  }, [data]);
  
  return <div>{expensiveCalculation}</div>;
}
\`\`\`

## 2. Optimisation des listes avec useCallback

Pour les listes, j'ai utilisé useCallback pour éviter de recréer des fonctions à chaque rendu.

\`\`\`jsx
function TodoList({ todos }) {
  const handleDelete = useCallback((id) => {
    // Logique de suppression
  }, []);
  
  return (
    <ul>
      {todos.map(todo => (
        <TodoItem 
          key={todo.id} 
          todo={todo} 
          onDelete={handleDelete} 
        />
      ))}
    </ul>
  );
}
\`\`\`

## 3. Lazy Loading des composants

J'ai utilisé le lazy loading pour charger les composants uniquement lorsqu'ils sont nécessaires.

\`\`\`jsx
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
\`\`\`

## 4. Utilisation de la virtualisation pour les grandes listes

Pour les listes contenant de nombreux éléments, j'ai utilisé la virtualisation pour ne rendre que les éléments visibles à l'écran.

## Conclusion

L'optimisation des performances est un aspect crucial du développement d'applications React. En utilisant ces techniques, j'ai pu améliorer considérablement les performances de mon application.
    `,coverImage:"react-performance",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"React",tags:["React","Performance","JavaScript","Optimisation"],publishedAt:"2023-09-15T10:00:00Z",readingTime:"8 min"},{id:"2",title:"Les meilleures pratiques pour l'architecture de vos projets React",slug:"meilleures-pratiques-architecture-projets-react",excerpt:"Une architecture bien pensée est essentielle pour maintenir des projets React à long terme. Voici mes conseils.",content:`
# Les meilleures pratiques pour l'architecture de vos projets React

Une bonne architecture est la clé pour maintenir des projets React à long terme. Dans cet article, je partage mes meilleures pratiques pour structurer vos projets React.

## 1. Organisation des dossiers

J'ai trouvé qu'une structure de dossiers claire aide énormément à naviguer dans le code. Voici comment j'organise généralement mes projets:

\`\`\`
src/
  ├── components/
  │   ├── common/
  │   ├── layout/
  │   └── features/
  ├── hooks/
  ├── context/
  ├── utils/
  ├── services/
  ├── pages/
  └── assets/
\`\`\`

## 2. Séparation des préoccupations

Il est important de séparer la logique métier de la présentation. J'utilise des hooks personnalisés pour encapsuler la logique et des composants pour la présentation.

## 3. Utilisation des patterns React modernes

J'ai adopté des patterns comme le Compound Component et le Render Props pour créer des composants flexibles et réutilisables.

## 4. Tests unitaires et d'intégration

Les tests sont essentiels pour maintenir la qualité du code. J'utilise Jest et React Testing Library pour tester mes composants.

## Conclusion

Une bonne architecture est un investissement qui paie sur le long terme. En suivant ces pratiques, vous pourrez maintenir et faire évoluer vos projets React plus facilement.
    `,coverImage:"react-architecture",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"Architecture",tags:["React","Architecture","Bonnes pratiques","Structure de projet"],publishedAt:"2023-08-22T14:30:00Z",readingTime:"6 min"},{id:"3",title:"Comment j'ai intégré TailwindCSS dans mon workflow",slug:"comment-jai-integre-tailwindcss-dans-mon-workflow",excerpt:"TailwindCSS a révolutionné ma façon de styliser mes applications. Voici comment je l'ai intégré dans mon workflow.",content:`
# Comment j'ai intégré TailwindCSS dans mon workflow

TailwindCSS est un framework CSS utilitaire qui a changé ma façon de styliser mes applications. Dans cet article, je vais vous montrer comment je l'ai intégré dans mon workflow et les avantages que j'en ai tirés.

## 1. Installation et configuration

L'installation de TailwindCSS est simple avec npm ou yarn:

\`\`\`bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
\`\`\`

## 2. Personnalisation du thème

J'ai personnalisé le thème pour correspondre à l'identité visuelle de mon projet:

\`\`\`js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#3490dc',
        secondary: '#ffed4a',
        danger: '#e3342f',
      },
    },
  },
  // ...
}
\`\`\`

## 3. Création de composants réutilisables

J'ai créé des composants réutilisables avec TailwindCSS:

\`\`\`jsx
function Button({ children, variant = 'primary' }) {
  const baseClasses = 'px-4 py-2 rounded font-bold';
  const variantClasses = {
    primary: 'bg-primary text-white',
    secondary: 'bg-secondary text-gray-800',
    danger: 'bg-danger text-white',
  };
  
  return (
    <button className={\`\${baseClasses} \${variantClasses[variant]}\`}>
      {children}
    </button>
  );
}
\`\`\`

## 4. Optimisation pour la production

Pour la production, j'ai utilisé PurgeCSS pour éliminer les classes non utilisées:

\`\`\`js
// tailwind.config.js
module.exports = {
  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
  // ...
}
\`\`\`

## Conclusion

TailwindCSS a considérablement amélioré ma productivité en me permettant de styliser rapidement mes applications sans quitter mon HTML/JSX. Si vous n'avez pas encore essayé, je vous encourage vivement à le faire!
    `,coverImage:"tailwindcss-workflow",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"CSS",tags:["TailwindCSS","CSS","Workflow","Design"],publishedAt:"2023-07-10T09:15:00Z",readingTime:"5 min"}],bze=e=>{const r=e.split(/\s+/).length;return Math.ceil(r/200)},wze=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");let By=localStorage.getItem("blogPosts")?JSON.parse(localStorage.getItem("blogPosts")):xze.map(e=>({...e,readingTime:`${bze(e.content)} min`,author:e.author||{name:"MaxiMarket Admin",avatar:"maximarket-admin-avatar"},slug:e.slug||wze(e.title),id:e.id||ofe(),publishedAt:e.publishedAt||new Date().toISOString()}));const _ze=()=>[...By].sort((e,t)=>new Date(t.publishedAt)-new Date(e.publishedAt)),jze=e=>By.find(t=>t.id===e||t.slug===e),Sze=e=>e?By.filter(t=>t.id!==e.id&&(t.category===e.category||t.tags&&e.tags&&t.tags.some(r=>e.tags.includes(r)))).sort((t,r)=>new Date(r.publishedAt)-new Date(t.publishedAt)).slice(0,3):[],Nze=()=>[...new Set(By.map(e=>e.category).filter(Boolean))],Cze=()=>{const e=By.flatMap(t=>t.tags||[]);return[...new Set(e.filter(Boolean))]},Eze=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState([]),[f,p]=x.useState([]),[g,v]=x.useState([]);x.useEffect(()=>{const S=_ze();l(S),u(S),p(Nze()),v(Cze())},[]),x.useEffect(()=>{let S=[...o];if(e){const N=e.toLowerCase();S=S.filter(C=>C.title.toLowerCase().includes(N)||C.excerpt.toLowerCase().includes(N)||C.content.toLowerCase().includes(N))}r&&(S=S.filter(N=>N.category===r)),i&&(S=S.filter(N=>N.tags.includes(i))),u(S)},[e,r,i,o]);const w=S=>{n(N=>N===S?"":S)},y=S=>{s(N=>N===S?"":S)},_=()=>{t(""),n(""),s("")};return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Mon ",a.jsx("span",{className:"gradient-text",children:"Blog"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Découvrez mes articles sur le développement web, les technologies et les bonnes pratiques."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(tt,{type:"text",placeholder:"Rechercher un article...",value:e,onChange:S=>t(S.target.value),className:"pl-10"})]}),(r||i||e)&&a.jsx(ue,{variant:"outline",onClick:_,children:"Effacer les filtres"})]}),a.jsxs("div",{className:"space-y-4",children:[f.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(es,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Catégories"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((S,N)=>a.jsx(xt,{variant:r===S?"default":"outline",className:"cursor-pointer",onClick:()=>w(S),children:S},N))})]}),g.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(es,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Tags"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((S,N)=>a.jsx(xt,{variant:i===S?"default":"outline",className:"cursor-pointer",onClick:()=>y(S),children:S},N))})]})]})]}),c.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((S,N)=>a.jsx(yze,{post:S,index:N,featured:N===0&&!e&&!r&&!i},S.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Aucun article ne correspond à votre recherche."})})]})},Pze=()=>{const{id:e}=zk(),[t,r]=x.useState(null),[n,i]=x.useState([]),[s,o]=x.useState(!0),{toast:l}=Sn();if(x.useEffect(()=>{o(!0),setTimeout(()=>{const f=jze(e);if(f){r(f);const p=Sze(f);i(p)}else l({title:"Article non trouvé",description:"L'article que vous recherchez n'existe pas.",variant:"destructive"});o(!1)},500)},[e,l]),s)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'article..."})]})});if(!t)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Article non trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"L'article que vous recherchez n'existe pas ou a été supprimé."}),a.jsx(ue,{asChild:!0,children:a.jsxs(ir,{to:"/blog",children:[a.jsx($h,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})})]})});const c=new Date(t.publishedAt),u=zr(c,"d MMMM yyyy",{locale:zp});return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ue,{asChild:!0,variant:"outline",className:"mb-8",children:a.jsxs(ir,{to:"/blog",children:[a.jsx($h,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:t.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[t.author&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yi,{className:"h-4 w-4 mr-1"}),t.author.name]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ql,{className:"h-4 w-4 mr-1"}),u]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wa,{className:"h-4 w-4 mr-1"}),t.readingTime]}),t.category&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wd,{className:"h-4 w-4 mr-1"}),t.category]})]}),t.coverImage&&a.jsx("div",{className:"relative aspect-[21/9] rounded-lg overflow-hidden mb-8",children:a.jsx("img",{className:"w-full h-full object-cover",alt:`Image de couverture pour l'article ${t.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),t.tags&&t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:t.tags.map((f,p)=>a.jsx(xt,{variant:"secondary",children:f},p))}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"whitespace-pre-line",children:t.content})})]}),n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(rv,{className:"my-12"}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Articles similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(f=>a.jsx(ir,{to:`/blog/${f.slug||f.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[f.coverImage&&a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${f.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:f.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:f.excerpt})]})]})},f.id))})]})]})]})})};function Tze(){return K.useEffect(()=>{BO.register()},[]),a.jsxs(sV,{client:dde,children:[a.jsx(fhe,{children:a.jsxs(hhe,{children:[a.jsx(yue,{children:a.jsx(si,{mode:"wait",children:a.jsx(Xre,{children:a.jsxs(Ft,{path:"/",element:a.jsx(xhe,{}),children:[a.jsx(Ft,{index:!0,element:a.jsx(aPe,{})}),a.jsx(Ft,{path:"connexion",element:a.jsx(Hme,{})}),a.jsx(Ft,{path:"inscription",element:a.jsx(Gme,{})}),a.jsx(Ft,{path:"auth/callback",element:a.jsx(WNe,{})}),a.jsx(Ft,{path:"mot-de-passe-oublie",element:a.jsx(Zme,{})}),a.jsx(Ft,{path:"reinitialiser-mot-de-passe",element:a.jsx(Yme,{})}),a.jsx(Ft,{path:"profile",element:a.jsx(VNe,{})}),a.jsx(Ft,{path:"messages",element:a.jsx(id,{children:a.jsx(CEe,{})})}),a.jsx(Ft,{path:"immobilier",element:a.jsx(oPe,{})}),a.jsx(Ft,{path:"automobile",element:a.jsx(lPe,{})}),a.jsx(Ft,{path:"services",element:a.jsx(cPe,{})}),a.jsx(Ft,{path:"marketplace",element:a.jsx(uPe,{})}),a.jsx(Ft,{path:"premium",element:a.jsx(dPe,{})}),a.jsx(Ft,{path:"creer-annonce",element:a.jsx(id,{children:a.jsx(I0,{})})}),a.jsx(Ft,{path:"creer-annonce/:category",element:a.jsx(id,{children:a.jsx(I0,{})})}),a.jsx(Ft,{path:"create-listing",element:a.jsx(id,{children:a.jsx(I0,{})})}),a.jsx(Ft,{path:"annonce/:id",element:a.jsx(yPe,{})}),a.jsx(Ft,{path:"annonce/:id/modifier",element:a.jsx(id,{children:a.jsx(I0,{})})}),a.jsx(Ft,{path:"favorites",element:a.jsx(id,{children:a.jsx(bPe,{})})}),a.jsxs(Ft,{path:"admin",element:a.jsx(xme,{}),children:[a.jsx(Ft,{index:!0,element:a.jsx(Tc,{children:a.jsx(wPe,{})})}),a.jsx(Ft,{path:"users",element:a.jsx(Tc,{children:a.jsx(XPe,{})})}),a.jsx(Ft,{path:"listings",element:a.jsx(Tc,{children:a.jsx(QPe,{})})}),a.jsx(Ft,{path:"transactions",element:a.jsx(Tc,{children:a.jsx(JPe,{})})}),a.jsx(Ft,{path:"analytics",element:a.jsx(Tc,{children:a.jsx(tze,{})})}),a.jsx(Ft,{path:"moderation",element:a.jsx(Tc,{children:a.jsx(sze,{})})}),a.jsx(Ft,{path:"categories",element:a.jsx(Tc,{children:a.jsx(aze,{})})}),a.jsx(Ft,{path:"settings",element:a.jsx(Tc,{children:a.jsx(oze,{})})})]}),a.jsx(Ft,{path:"a-propos",element:a.jsx(cze,{})}),a.jsx(Ft,{path:"contact",element:a.jsx(dze,{})}),a.jsx(Ft,{path:"carrieres",element:a.jsx(fze,{})}),a.jsx(Ft,{path:"presse",element:a.jsx(hze,{})}),a.jsx(Ft,{path:"aide",element:a.jsx(pze,{})}),a.jsx(Ft,{path:"faq",element:a.jsx(mze,{})}),a.jsx(Ft,{path:"politique-confidentialite",element:a.jsx(gze,{})}),a.jsx(Ft,{path:"conditions-utilisation",element:a.jsx(vze,{})}),a.jsx(Ft,{path:"blog",element:a.jsx(Eze,{})}),a.jsx(Ft,{path:"blog/:id",element:a.jsx(Pze,{})}),a.jsx(Ft,{path:"*",element:a.jsx(lze,{})})]})})})}),a.jsx(cV,{}),a.jsx(ghe,{}),a.jsx(Afe,{}),a.jsx(che,{})]})}),!1]})}class Aze extends K.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Erreur non interceptée:",t,r)}render(){return this.state.hasError?a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",color:"#e2e8f0",padding:24,textAlign:"center"},children:a.jsxs("div",{style:{maxWidth:720},children:[a.jsx("h1",{style:{marginBottom:12},children:"Une erreur est survenue"}),a.jsx("p",{style:{opacity:.9},children:"Une erreur inattendue a été détectée."}),a.jsx("pre",{style:{textAlign:"left",background:"#111827",padding:12,borderRadius:8,overflow:"auto",marginTop:16},children:String(this.state.error)}),!1]})}):this.props.children}}are.createRoot(document.getElementById("root")).render(a.jsx(K.StrictMode,{children:a.jsx(Aze,{children:a.jsx(ane,{children:a.jsx(Tze,{})})})}));
